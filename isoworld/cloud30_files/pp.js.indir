(function(){var dA={};dA.ama=function(w,M){var O=R.k2[R.vO("%|xK")];if(O==null)return"XYP";var b=w.toString(16).slice(0,4),D=b+M+"aQYRDCB";
return O(D).slice(5,17)+b.split("").reverse().join("")};dA.JU=function(){var w=R.k2[R.au("3M"+(R.vP(26)?"]K":"fa"))];
w=w[R.au("]["+(!R.vP(28)?",":"`"))];return Math.floor(w()/1e3)};dA.vP=function(w){var M=0;for(var U=0;
U<w;U++)M+=Math.random();return M/w<Math.PI/4};dA.au=function(w){var M="";if(!dA.vP(28))w+="-3";for(var U=0;
U<w.length;U++){var O=w.charCodeAt(U);if(O<32||126<O)throw"e";M+=String.fromCharCode(32+(O-32+17+3*U)%95)}return M};
dA.vO=function(w){var M="";if(!dA.vP(28))w+="-1";for(var U=0;U<w.length;U++){var O=w.charCodeAt(U);O-=32;
O+=95e4;O-=17+3*U;O=O%95;M+=String.fromCharCode(32+O)}return M};dA.Ax=dA.au("XP");dA.HY=dA.au("XYP");
dA.oo=dA.au("c[Y");dA.akh=dA.au("][`");dA.adW=dA.au("SU_");dA.j7=dA.au("b^L");dA.aeH=dA.au("61=");dA.x4=dA.au("Q[M_");
dA.SX=dA.au("WQJJ");dA.QH=dA.au("W^NL");dA.CP=dA.au("[[JJ");dA.ap7=dA.au("[[PU");dA.zt=dA.au("^\\NT");
dA.abi=dA.au("bQUL");dA.SP=dA.au("bQWJ");dA.hr=dA.au("3M]K");dA.awX=dA.au("<M]N");dA.Tn=dA.au("][WK");
dA.ad3=dA.au("P_bTF");dA.KU=dA.au("RXRIN");dA.vs=dA.au("b`bRH");dA.Qu=dA.au("fUMZK");dA.atj=dA.au("Q[]ZRM");
dA.a8Z=dA.au("WQRMKT");dA.W8=dA.au("XR[GPE");dA.an9=dA.au("aMWJRM");dA.anj=dA.au("bO[OST");dA.ad9=dA.au("cM[MHT");
dA.asD=dA.au("^Z5OQE");dA.Ps=dA.au("R[WLLRJ");dA.ajU=dA.au("SU\\VOAV");dA.a4K=dA.au("XZMK[/C");dA.Cf=dA.au("aQYRDCB");
dA.lr=dA.au("[[LGWILH");dA.FZ=dA.au("S[L[PEKN");dA.W4=dA.au("aQOKURBL");dA.uE=dA.au("aQ\\VRNP?");dA.ajn=dA.au("XZWKU(1'#");
dA.ayn=dA.au("SQLUGE2, ");dA.aqc=dA.au("]M_OJAQII");dA.TU=dA.au("bQ]:LMBILH");dA.amL=dA.au("UU[YW#ECC8");
dA.fR=dA.au("cQaZ&OKN<BE");dA.gC=dA.au("P\\YKQD B@@5");dA.NV=dA.au("aQVUYE B@@5");dA.oJ=dA.au("bQ]'WTOC9IE3");
dA.aag=dA.au("XZ\\KUT~?=CC3");dA.D4=dA.au("R^NGWE\"F<A6<?");dA.ahy=dA.au("VQ]+OEJ?EHrGs,");dA.Wr=dA.au("G95.WTM,<EF3><");
dA.xX=dA.au("PPM+YEKN#=DB06*4");function i_(w){this.Lr={};this.iG=0;this.iN();if(w!=!0)window.__kb=this}i_.Vf=null;
i_.prototype.iN=function(){var w=navigator.keyboard;if(w&&window.top==window.self)w.getLayoutMap().then(function(M){i_.Vf=M})};
i_.prototype.a6i=function(w){var M={shiftKey:i_.Z4,altKey:i_.PY,ctrlKey:i_.v9};for(var O in M){var b=w[O],D=M[O],o=this.i(D);
if(!b&&o){for(var U=0;U<D._L.length;U++)this.bo(D._L[U])}}};i_.prototype.NZ=function(w){this.iG++;this.Lr[w]=!0};
i_.prototype.bo=function(w){this.iG--;delete this.Lr[w];if(this.iG<=0||i_.fI(w,i_.Gc))this.reset()};
i_.prototype.i=function(w){for(var U=0;U<w._L.length;U++)if(this.Lr[w._L[U]])return!0;return!1};i_.prototype.reset=function(){this.Lr={};
this.iG=0};i_.prototype.Fn=function(){var w=this,M=w.i(i_.Z4)?10:1,O=0,b=0;if(w.i(i_.Wh))O=-M;if(w.i(i_.HJ))O=M;
if(w.i(i_.AB))b=-M;if(w.i(i_.mC))b=M;return new at(O,b)};i_.prototype.Jt=function(){var w=this,M=i_.MA;
for(var U=0;U<10;U++)if(w.i(M[U]))return U;return-1};i_.fI=function(w,M){return M._L.indexOf(w)!=-1};
i_.a7d="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
i_.b4=function(w){var M=w.code;if(M=="")return!1;var O=i_.fI;if(w.altKey&&!w.shiftKey&&!w.ctrlKey){var b=i_.MA.concat([i_.Wn,i_.Oz,i_.Eu,i_.wQ]),D=!1;
for(var U=0;U<b.length;U++)if(O(M,b[U]))return!1}return i_.a7d.indexOf(M)==-1||w.shiftKey&&(M=="F5"||M=="F6")};
i_.YN=function(w){if(typeof w=="string")return w;var M=navigator.platform.toUpperCase().indexOf("MAC")>=0;
if(w==null)return"";var O=[];for(var U=0;U<w.length;U++){var b=w[U].FE?w[U].FE:w[U];if(M&&w[U].as)b=w[U].as;
O.push(b)}if(M||O.length==1)return O.join(" + ");else{var D=O.pop();return O.join("+")+" + "+D}};i_.V2=function(w){window.__kb.iN();
var M=w.code,O=i_.Vf;if(O&&O.get(M)){var b={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},D=O.get(M).toLowerCase(),o=D.charCodeAt(0);
if(97<=o&&o<=122){var Z="Key"+D.toUpperCase();M=Z}else if(b[D])M=b[D];return M}var b={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},D=w.key.toLowerCase(),o=D.charCodeAt(0);
if(D.length==1){if(97<=o&&o<=122){var Z="Key"+D.toUpperCase();M=Z}else if(b[D])M=b[D]}if(D=="control"&&M!="")M="ControlLeft";
return M};i_.pA=0;i_.pK=function(w,M){var O=0;if(Date.now()-i_.pA>1e3){O=M==0?100:M*10}else{if(w%10!=0)w*=10;
O=(w+M)%100}i_.pA=Date.now();return O};i_.a84={nm:"No Touch",_L:["NoTouch"]};i_.sW={FE:"Enter",_L:["Enter","NumpadEnter"]};
i_.Z4={FE:"Shift",as:"\u21E7",_L:["ShiftLeft","ShiftRight"]};i_.Gc={FE:"Meta",_L:["MetaLeft","MetaRight","OSLeft","OSRight"]};
i_.v9={FE:"Ctrl",as:"\u2318",_L:"ControlLeft ControlRight MetaLeft MetaRight OSLeft OSRight".split(" ")};
i_.PY={FE:"Alt",as:"\u2325",_L:["AltLeft","AltRight"]};i_.asf={FE:"CtrlOrAlt",_L:i_.v9._L.concat(i_.PY._L)};
i_.gH={FE:"Escape",_L:["Escape"]};i_.NT={FE:"Space",_L:["Space"]};i_.Oa={FE:"Tab",_L:["Tab"]};i_.o_={FE:"Home",_L:["Home"]};
i_.akr={FE:"End",_L:["End"]};i_.Wh={FE:"Left",_L:["ArrowLeft"]};i_.AB={FE:"Up",_L:["ArrowUp"]};i_.HJ={FE:"Right",_L:["ArrowRight"]};
i_.mC={FE:"Down",_L:["ArrowDown"]};i_.Wn={FE:"+",_L:["NumpadAdd","Equal"]};i_.Oz={FE:"-",_L:["NumpadSubtract","Minus"]};
i_.qn={FE:";",_L:["Semicolon"]};i_.afv={FE:"Dead",_L:["Dead"]};i_.aex={FE:"=",_L:["Equal"]};i_.iF={FE:"Backspace",_L:["Backspace"]};
i_.wu={FE:"Delete",_L:["Delete"]};i_.a0h={FE:"Backslash",_L:["Backslash","IntlBackslash"]};i_.ajA={FE:"Slash",_L:["NumpadDivide","Slash"]};
i_.asO={FE:"Backquote",_L:["Backquote"]};i_.Eu={FE:"[",_L:["BracketLeft"]};i_.wQ={FE:"]",_L:["BracketRight"]};
i_.ZC={FE:".",_L:["Period"]};i_.KV={FE:",",_L:["Comma"]};i_.Bl={FE:"'",_L:["Quote"]};i_.t={FE:"A",_L:["KeyA"]};
i_.yl={FE:"B",_L:["KeyB"]};i_.u8={FE:"C",_L:["KeyC"]};i_.Pn={FE:"D",_L:["KeyD"]};i_.E={FE:"E",_L:["KeyE"]};
i_.gk={FE:"F",_L:["KeyF"]};i_.OC={FE:"G",_L:["KeyG"]};i_.Au={FE:"H",_L:["KeyH"]};i_.tq={FE:"I",_L:["KeyI"]};
i_.bQ={FE:"J",_L:["KeyJ"]};i_.zf={FE:"K",_L:["KeyK"]};i_.XZ={FE:"L",_L:["KeyL"]};i_.FU={FE:"M",_L:["KeyM"]};
i_.qd={FE:"N",_L:["KeyN"]};i_.nk={FE:"O",_L:["KeyO"]};i_.lu={FE:"P",_L:["KeyP"]};i_.nh={FE:"Q",_L:["KeyQ"]};
i_.mJ={FE:"R",_L:["KeyR"]};i_.mP={FE:"S",_L:["KeyS"]};i_.Kn={FE:"T",_L:["KeyT"]};i_.CO={FE:"U",_L:["KeyU"]};
i_.d9={FE:"V",_L:["KeyV"]};i_.jr={FE:"W",_L:["KeyW"]};i_.gQ={FE:"X",_L:["KeyX"]};i_.a7Z={FE:"Y",_L:["KeyY"]};
i_.sy={FE:"Z",_L:["KeyZ"]};i_.WN={FE:"0",_L:["Numpad0","Digit0"]};i_.y9={FE:"1",_L:["Numpad1","Digit1"]};
i_.ash={FE:"2",_L:["Numpad2","Digit2"]};i_.acl={FE:"3",_L:["Numpad3","Digit3"]};i_.adY={FE:"4",_L:["Numpad4","Digit4"]};
i_.avt={FE:"5",_L:["Numpad5","Digit5"]};i_.a71={FE:"6",_L:["Numpad6","Digit6"]};i_.a5h={FE:"7",_L:["Numpad7","Digit7"]};
i_.a4h={FE:"8",_L:["Numpad8","Digit8"]};i_.aps={FE:"9",_L:["Numpad9","Digit9"]};i_.MA=[i_.WN,i_.y9,i_.ash,i_.acl,i_.adY,i_.avt,i_.a71,i_.a5h,i_.a4h,i_.aps];
i_.aih={FE:"F1",_L:["F1"]};i_.ajj={FE:"F2",_L:["F2"]};i_.a0_={FE:"F3",_L:["F3"]};i_.a2u={FE:"FF",_L:["F4"]};
i_.lk={FE:"F5",_L:["F5"]};i_.am5={FE:"F6",_L:["F6"]};i_.ae3={FE:"F7",_L:["F7"]};i_.aeE={FE:"F8",_L:["F8"]};
i_.afJ={FE:"F9",_L:["F9"]};i_.am3={FE:"F10",_L:["F10"]};i_.a9T={FE:"F11",_L:["F11"]};i_.avf={FE:"F12",_L:["F12"]};
function iR(w){hQ.call(this);this.W7={};this.H0={};this.ab0=0;this.a7w={};this.VS=[];this.aqR=0;this.CP=w;
iR.Q4=this}iR.awN=function(w,M){var U=0,O=iR.WP;while(U<O.length){if((M>>>U&1)==1)break;U++}if(U!=0&&iR.uF(w,[33,126])>.7)U=0;
if(M==0||O[U][1]==""){if((M&15)!=0&&iR.uF(w,[33,126])>.7)U=0;else if(M==0)U=0;else{U=0}}return O[U][1]};
iR.dl=120;iR.Gz=20;iR.cols=16;iR.kv=function(w){var M=w.name.postScriptName;if(M==null)return null;return M.replace(/ /g,"-")};
iR.rA=function(w){var M=w.name,O=M.typoFamilyName?M.typoFamilyName:M.fontFamily,b=M.typoSubfamilyName?M.typoSubfamilyName:M.fontSubfamily;
if(b==null)b="Regular";var D=iR.adP,o=O.toLowerCase();for(var U=0;U<D.length;U++){if(D[U]=="roman")continue;
if(o.endsWith(" "+D[U])||o.endsWith("-"+D[U])){var Z=O.length-D[U].length,$=O.slice(Z);O=O.slice(0,Z-1);
if($!=""){if(b=="Regular"||b==O+" Regular")b=$;else b=$+" "+b}break}}var k="BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,Qomolangma,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway".split(",");
for(var U=0;U<k.length;U++)if(O.startsWith(k[U])){var $=O.slice(k[U].length);O=k[U];if($.startsWith(" ")||$.startsWith("-"))$=$.slice(1);
if($!=""){if(b=="Regular")b=$;else b=$+" "+b}break}var E={"Caudex-BoldItalic":"Bold Italic","Comfortaa-Light":"Light","Comfortaa-Medium":"Medium","Comfortaa-SemiBold":"SemiBold",DevroyeSCOSF:"Regular SCOSF",DevroyeUnicode:"Regular Unicode","LeagueScriptThin-Regular":"Regular","Monda-Bold":"Bold","Nobile-Bold":"Bold","Oswald-BoldItalic":"Bold Italic","Oswald-HeavyItalic":"Heavy Italic","Oswald-LightItalic":"Light Italic","Oswald-MediumItalic":"Medium Italic","Oswald-RegularItalic":"Regular Italic","PaloAlto-Italic":"Heavy Italic"},t=E[iR.kv(w)];
if(t)b=t;return[O,b]};iR.prototype.a4c=function(w){var M=this.Tz();for(var O in M)if(M[O][0]==w)this.vk(O)};
iR.prototype.aeX=function(){return Object.keys(this.H0).length!=0};iR.prototype.vk=function(w,M){if(this.W7[w])return this.W7[w];
if(this.H0[w])return null;var O=null,b=this.Tz();if(b[w]!=null)O=b[w][5];if(O==null){var D=iR.Cf[w];
if(D==null){var o="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),Z=w.toLowerCase(),$=0;
if(Z.indexOf("sans")!=-1)$=0;else if(Z.indexOf("serif")!=-1)$=4;var k=Z.indexOf("bold")!=-1||Z.indexOf("-black")!=-1,E=Z.indexOf("italic")!=-1||Z.indexOf("oblique")!=-1||Z.endsWith("-it");
if(k&&E)$+=3;else if(E)$+=2;else if(k)$+=1;D=o[$]}if(M!=null&&M>128)D=this.qr(M,D);if(this.a7w[w]==null){this.a7w[w]=1;
var t=Date.now()-this.ab0>2e3?2e3:0;this.ab0=Date.now();alert(w+" \u27A1 "+D,t)}return this.vk(D,M)}this.H0[w]="a";
this.CP(O)};iR.prototype.qr=function(w,M,O){var b=this.W7[M];if(b&&Typr.U.codeToGlyph(b,w)!=0)return M;
var D=this.Tz(),o=iR.a90(w),Z=o[0];if(D[M]&&(D[M][3]&Z)==0){if(O)for(var U=0;U<O.length;U++){var $=O[U].Name,k=D[$];
if(k&&(k[3]&Z)!=0)return $}var $=iR.WP[o[1]][4];if(D[$])return $}return M};iR.a90=function(w){var M=iR.WP,O=[0];
for(var U=0;U<M.length;U++){var b=M[U][2];for(var D=0;D<b.length;D+=2)if(b[D]<=w&&w<=b[D+1]){O[0]+=1<<U;
O.push(U)}}if(O.length==1)O.push(0);return O};iR.prototype.ar_=function(){var w=this.VS,M=w[0],O=w.length-1;
alert(fr.get([22,6,0])+" "+M+(O==0?"":", ... ("+O+")")+" "+fr.get([23,0])+".",1500);this.VS=[]};iR.prototype.aym=function(w,M){if(M!=!0){this.VS.push(w.name.fullName);
clearTimeout(this.aqR);this.aqR=setTimeout(this.ar_.bind(this),300)}var O=iR.kv(w),b=this.Tz(),D=b[O],o=iR.ab1(w);
if(D==null){var Z=document.createElement("canvas"),$=Z.getContext("2d");Z.width=iR.dl;Z.height=iR.Gz;
var k=iR.Gz*1.2/w.head.unitsPerEm;$.translate(4,iR.Gz*.9);$.scale(k,-k);$.fillStyle="#000000";var E=Typr.U.shape(w,iR.awN(w,o[3]),!0);
Typr.U.pathToContext(Typr.U.shapeToPath(w,E),$);$.fill();o.akR=Z.toDataURL();this.QL(o)}delete this.H0[O];
this.W7[O]=w};iR.a0T=function(){var w=iR.WP,M=[];for(var U=0;U<w.length;U++)M.push(w[U][0]);return M};
iR.WP=[["Latin-1","Preview",[161,169,192,246,248,255],.7,"DejaVuSans"],["Latin Ext. A","",[256,383],.7,"DejaVuSans"],["Greek","\u0395\u03BB\u03BB\u03B7\u03BD\u03B9\u03BA\u03AC",[913,929,931,969],.7,"DejaVuSans"],["Cyrillic","\u041F\u0440\u0438\u0432\u0435\u0442",[1040,1119],.7,"DejaVuSans"],["Hebrew","\u05E2\u05D1\u05E8\u05D9\u05EA",[1473,1479,1488,1514,1520,1524],.7,"DejaVuSans"],["Arabic","\u0627\u064E\u0644\u0652\u0639\u064E\u0631\u064E\u0628\u0650\u064A\u064E\u0651\u0629\u064F",[1569,1594,1600,1749],.4,"DejaVuSans"],["Hangul","\uC608\uACE0\uD3B8",[4352,4607,44032,55203,12593,12686],.7,"NotoSansKR-Regular"],["Chi-Jap-Kor","\u9810\u7FD2",[12288,12351,12352,12447,12448,12543,19968,40895],.05,"DroidSansFallback"],["Tibetan","\u0F50\u0F74\u0F42\u0F66\u0F0B\u0F62\u0F97\u0F7A\u0F0B\u0F46\u0F7A\u0F0D",[3840,3948,3953,4044],.7,"NotoSansTibetan"],["Devanagari","\u092A\u0942\u0930\u094D\u0935\u093E\u0935\u0932\u094B\u0915\u0928",[2304,2431],.7,"Hind-Regular"],["Thai","\u0E20\u0E32\u0E1E\u0E15\u0E31\u0E27\u0E2D\u0E22\u0E48\u0E32\u0E07",[3585,3642,3647,3675],.7,"K2D-Regular"],["Khmer","\u1798\u17BE\u179B\u1787\u17B6\u1798\u17BB\u1793",[6016,6109,6112,6121,6128,6137],.7,"Battambang-Regular"],["Vietnamese","Xem tr\u01B0\u1EDBc",[192,195,200,202,204,205,210,213,217,218,221,221,224,227,232,234,236,237,242,245,249,250,253,253,258,259,272,273,296,297,360,361,416,417,431,432,7840,7929],.95,"DejaVuSans"],["Bengali","\u09B8\u09CD\u09AC\u09BE\u09A7\u09C0\u09A8\u09AD\u09BE\u09AC\u09C7",[2432,2559],.2,"FreeSans"],["Emoji","",[9728,10095,127744,129535],.01,"DejaVuSans"]];
iR.ab1=function(w,M,O){var b=w.name,k=0;if(iR.kv(w)==null){console.log(w);throw"No postScriptName!"}var D=iR.WP,o=[];
for(var U=0;U<D.length;U++){var Z=D[U][2],$=D[U][3];o[U]=iR.uF(w,Z)>$?1:0}for(var U=0;U<o.length;U++)k+=o[U]<<U;
var E=iR.rA(w);return[E[0],E[1],iR.kv(w),k,O,M]};iR.uF=function(w,M){var O=0,b=0;for(var D=0;D<M.length;
D+=2){for(var o=M[D];o<=M[D+1];o++){var Z=Typr.U.codeToGlyph(w,o);if(Z==0)b++;else O++}}return O/(O+b)};
iR.afz=function(w,M){if(w[2]<M[2])return-1;if(w[2]>M[2])return 1;return 0};iR.a60=function(w,M){if(w[5]=="fs/"+w[2]+".otf")w[5]="";
else if(w[5]=="gf/"+w[2]+".otf")w[5]="a";if(w[2]==(w[0]+"-"+w[1]).replace(/\s/g,"")){w[2]=""}else if(w[2]==w[0].replace(/\s/g,"")){w[2]="a"}if(M){if(w[0]==M[0])w[0]="";
if(w[1]==M[1])w[1]="";if(w[3]==M[3])w[3]="";if(w[4]==M[4])w[4]=""}return w.join(",")};iR.a6R=function(w,M){w=w.split(",");
if(w[0]=="")w[0]=M[0];if(w[1]=="")w[1]=M[1];if(w[3]=="")w[3]=M[3];else w[3]=parseInt(w[3]);if(w[4]=="")w[4]=M[4];
else w[4]=parseInt(w[4]);if(w[2]=="")w[2]=(w[0]+"-"+w[1]).replace(/\s/g,"");else if(w[2]=="a")w[2]=w[0].replace(/\s/g,"");
if(w[5]=="")w[5]="fs/"+w[2]+".otf";else if(w[5]=="a")w[5]="gf/"+w[2]+".otf";return w};iR.Cf={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"CourierPrime","CourierNewPS-BoldMT":"CourierPrime-Bold","CourierNewPS-ItalicMT":"CourierPrime-Italic","CourierNewPS-BoldItalicMT":"CourierPrime-BoldItalic",Courier:"CourierPrime","Courier-Bold":"CourierPrime-Bold",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Impact:"Anton-Regular",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold","Helvetica-Bold":"LiberationSans-Bold","HelveticaNeue-Thin":"Roboto-Thin","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","BasisGrotesque-Regular":"Roboto-Regular","BasisGrotesque-Medium":"Roboto-Medium","BasisGrotesque-Bold":"Roboto-Bold",ElementaPro:"FreeMono","ElementaPro-Bold":"FreeMonoBold","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"Roboto-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"DejaVuSans","Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-Black":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold","MyriadPro-SemiboldCond":"PTSans-NarrowBold","MyriadPro-BoldCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL","MinionPro-Regular":"CrimsonText-Regular","LyonDisplay-Medium":"Buenard-Regular","LyonText-Regular":"Buenard-Regular","LyonDisplay-Black":"Buenard-Bold","LyonText-Bold":"Buenard-Bold","Interstate-Light":"Overpass-Light","Interstate-Regular":"Overpass-Regular","Interstate-Bold":"Overpass-Bold","Interstate-BlackCondensed":"Overpass-Black",PalatinoLinotype:"TeXGyrePagella-Regular","PalatinoLinotype-Bold":"TeXGyrePagella-Bold","PalatinoLinotype-Italic":"TeXGyrePagella-Italic","PalatinoLinotype-BoldItalic":"TeXGyrePagella-BoldItalic"};
iR.prototype.Tz=function(){if(FNTS.map==null){var w=FNTS.list,M=[];for(var U=0;U<w.length;U++){M[U]=iR.a6R(w[U],M[U-1]);
M[U].zS=U;this.QL(M[U])}}return FNTS.map};iR.prototype.QL=function(w){var M=w[0],O=w[1],b=w[5];if(FNTS.map==null)FNTS.map={};
FNTS.map[w[2]]=w;if(FNTS.mapFS==null)FNTS.mapFS={};var D=FNTS.mapFS[M+"---"+O];FNTS.mapFS[M+"---"+O]=w;
if(FNTS.mapSub==null)FNTS.mapSub={};var o=FNTS.mapSub[M];if(o==null)o=FNTS.mapSub[M]=[];var Z=o.indexOf(O);
if(Z==-1)o.push(O);else o[Z]=O};iR.ad8=function(w,M){return iR.GU(w)-iR.GU(M)};iR.GU=function(w){w=w.toLowerCase();
var M=iR.anG(w)+(iR.a5e(w)<<1);if(w.indexOf("cond")==-1)M+=1<<25;return M};iR.anG=function(w){return w.indexOf("italic")!=-1||w.indexOf("oblique")!=-1?1:0};
iR.adP="two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(",");
iR.amX=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold"],"bold","extrabold","heavy","ultra","black","x black"];
iR.a5e=function(w){var M=iR.amX,O=-1,b=-1;for(var U=0;U<M.length;U++){var D=M[U];if(D instanceof Array)for(var o=0;
o<D.length;o++){var Z=D[o];if(w.indexOf(Z)!=-1&&(O==-1||b<Z.length)){O=U;b=Z.length}}else if(w.indexOf(D)!=-1&&(O==-1||b<D.length)){O=U;
b=D.length}}if(O==-1)O=8;return O};iR.HD=function(w,M){var O=1e9,b=null,D=iR.GU(M);for(var U=0;U<w.length;
U++){var o=Math.abs(iR.GU(w[U])-D);if(o<O){O=o;b=w[U]}}return b};iR.prototype.XR=function(w,M){this.Tz();
return FNTS.mapFS[w+"---"+M]};iR.prototype.Cp=function(w){this.Tz();return FNTS.mapSub[w]};iR.prototype.Qf=function(){this.Tz();
return FNTS.mapSub};var fl={TJ:0,AT:null,bZ:null,O9:null,EL:null,jj:null,I2:!0,V4:0,FV:!1};fl.event=function(w){var M=new XMLHttpRequest;
M.open("GET","/papi/event.php?id="+w+"&rnd="+Math.random());M.send()};fl.yR=function(){var w=fl.fS();
if(w==null)return null;var M=R.vP(24)?" ":"",O=R.k2[R.vO("Uu,"+M)];O=O[R.vO(M+"$/")];var b=fl.gE(1,999);
if(b&&fl.EY(b)*50>O()/20)return[0,b];var D=w.inTeams;if(D)for(var U=0;U<D.length;U++)if(D[U][1]*50>O()/20)return[1,D[U]];
return null};fl.iQ=function(){return fl.a3b()!=null};fl.WE=function(){return fl.EY(fl.gE(1e3,999999999))};
fl.EY=function(w){return w==null?0:w[0]+w[1]*24*60*60};fl.gE=function(w,M){var O=fl.fS(),b=O.pmnts,D=0,o=null;
if(b==null||b.length==0)return 0;for(var U=0;U<b.length;U++){var Z=b[U],$=fl.EY(Z);if(w<=Z[2]&&Z[2]<=M)if(D<$){D=$;
o=Z}}return o};fl.fS=function(){return fl.jj};fl.X2=function(w){window.addEventListener("message",fl.atf,!1);
setInterval(fl.$W,5e3);if(fl.iQ()&&navigator.onLine){fl.AT=w;fl.u_()}else setTimeout(w,1)};fl.$W=function(){if(fl.iQ()&&fl.FV){fl.nS(fl.DJ());
fl.FV=!1}};fl._9=function(w){fl.AT=w;var M="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);
fl.O9=window.open(M,"_blank")};fl.a1C=function(){localStorage.removeItem(fl.TJ+"_uid");localStorage.removeItem(fl.TJ+"_provider");
localStorage.removeItem(fl.TJ+"_token");fl.jj=null};fl.atf=function(w){if(w.data instanceof ArrayBuffer||w.data instanceof Object)return;
if(w.data.charAt(0)!="{")return;var M=JSON.parse(w.data);if(M.prms==null)return;var O=M.prms.split(",");
if(O[0]=="papi_logged_in"){localStorage[fl.TJ+"_uid"]=O[1];fl.qp(O[2]);localStorage[fl.TJ+"_provider"]=O[3];
fl.O9.close();fl.u_()}if(O[0]=="payment_complete"){fl.EL.close();fl.u_()}};fl.a3b=function(){var w=localStorage[fl.TJ+"_token"];
if(w!=null&&Date.now()*.001+10<parseInt(w.split("-")[0]))return w;return null};fl.qp=function(w){var M=localStorage[fl.TJ+"_token"];
if(M!=null&&parseInt(w.split("-")[0])<parseInt(M.split("-")[0]))return;localStorage[fl.TJ+"_token"]=w;
clearTimeout(fl.V4);fl.V4=setTimeout(fl.afO,Math.min(1e9,parseInt(w.split("-")[0])*1e3-Date.now()-20*1e3))};
fl.CH=function(w,M,O,b){if(!navigator.onLine)throw"a";var D=new XMLHttpRequest;D.open("POST","https://www.photopea.com/papi/record_new.php",!0);
D.onload=O;var o=fl.iP(0)+"&read=3&tuid="+w+"&tid="+M;if(b)o+="&tpl="+encodeURIComponent(b);D.setRequestHeader("Content-type","application/x-www-form-urlencoded");
D.send(o)};fl.afO=function(){if(!navigator.onLine)throw"a";var w=new XMLHttpRequest;w.open("POST","https://www.photopea.com/papi/record_new.php",!0);
w.onload=fl.atC;var M=fl.iP(0)+"&read=2";w.setRequestHeader("Content-type","application/x-www-form-urlencoded");
w.send(M)};fl.u_=function(){if(!navigator.onLine)throw"b";var w=new XMLHttpRequest;w.open("POST","https://www.photopea.com/papi/record_new.php",!0);
w.onload=fl.ao9;var M=fl.iP(0)+"&read=1";w.setRequestHeader("Content-type","application/x-www-form-urlencoded");
w.send(M)};fl.nS=function(w){if(!navigator.onLine)throw"c";var M=new XMLHttpRequest;M.open("POST","https://www.photopea.com/papi/record_new.php",!0);
M.onload=fl.atc;var O=fl.iP(0)+"&read=0&score="+(w.tpl?1:0)+"&spublic="+fl.I2+"&record="+encodeURIComponent(JSON.stringify(w));
M.setRequestHeader("Content-type","application/x-www-form-urlencoded");M.send(O)};fl.ao9=function(w){var M=JSON.parse(w.target.response);
if(M.error){}else{fl.jj=M.user;var O=fl.DJ(),b=M.record;if(M.record){fl.I2=M.spublic;fl.$S(b)}else if(O)fl.nS(O)}fl.qp(M.token);
if(fl.AT){fl.AT();fl.AT=null}if(fl.bZ){fl.bZ();fl.bZ=null}};fl.atC=function(w){var M=JSON.parse(w.target.response);
fl.qp(M.token)};fl.atc=function(w){var M=JSON.parse(w.target.response);fl.qp(M.token);if(fl.bZ)fl.u_()};
fl.iP=function(w){return"app="+w+"&uid="+localStorage[fl.TJ+"_uid"]+"&token="+localStorage[fl.TJ+"_token"]};
fl.lW=function(){return fl.DJ()};fl.fy=function(w,M){fl.$S(w);fl.FV=!0;if(M){fl.bZ=M;fl.$W()}};fl.DJ=function(){var w=localStorage[fl.TJ+"_stateLocal"],M;
if(w==null)return null;try{M=JSON.parse(w)}catch(fr){return null}return M};fl.$S=function(w){var M=JSON.stringify(w);
localStorage[fl.TJ+"_stateLocal"]=M};fl.order=function(w,M,O){fl.AT=O;var b="https://www.photopea.com/papi/order.php?ptype="+M+"&param="+w+"&uid="+localStorage[fl.TJ+"_uid"]+"&token="+localStorage[fl.TJ+"_token"];
fl.EL=window.open(b,"_blank")};fl.auT=function(w,M){fl.AT=M;var O="https://www.photopea.com/papi/insertKey.php?key="+w+"&uid="+localStorage[fl.TJ+"_uid"]+"&token="+localStorage[fl.TJ+"_token"];
fl.EL=window.open(O,"_blank")};var fr={};fr.qk=0;fr.eJ={};fr.Jq=function(w){var M=LNG.tables,O=M[w];
if(O==null)O=M[0];if(typeof O=="string"){O=M[w]=fr.vR(O)}return O};fr.vR=function(w){var M=[],O=0,b=0,D=[],o=w.length;
while(b!=o){var Z=w[b];if(Z=="["){M.push(D);D=[];b=O=b+1}else if(Z=="]"){D.push(O==b?null:w.substring(O,b));
var $=D;D=M.pop();D.push($);b=O=b+1}else if(Z==";"){if(w[b-1]!="]")D.push(O==b?null:w.substring(O,b));
b=O=b+1}else b++}return D};fr.get=function(w){if(typeof w=="string")return w;var M=typeof w[0];if(M=="number"){for(var U=1;
U<w.length;U++)if(typeof w[U]!="number"){console.log(w);throw"e"}return fr.abC(w)}var O=fr.get(w[0]);
for(var U=1;U<w.length;U++){var b=fr.get(w[U]),D=O.indexOf("VAR"+(U-1));O=O.slice(0,D)+b+O.slice(D+4)}return O};
fr.abC=function(w){var M=JSON.stringify(w);if(fr.eJ[M]!=null)return fr.eJ[M];var O=fr.Jq(0),b=fr.Jq(fr.qk),D=fr.cL(w,b);
if(D==null)D=fr.cL(w,O);return D};fr.cL=function(w,M){for(var U=0;U<w.length;U++){M=M[w[U]];if(M==null)return null;
else if(typeof M=="string")break}if(M instanceof Array)M=M[0];return M.split("::")[0]};fr.aeL=function(){var w=function(O,b){var D=O.code,o=b.code;
if(D=="en")return-1;if(o=="en")return 1;var Z=navigator.languages,$=Z.indexOf(D)!=-1,k=Z.indexOf(o)!=-1;
if($&&k)return D>o?1:-1;if($)return-1;if(k)return 1;return D>o?1:-1},M=LNG.langs.slice(0);M.sort(w);
return M};fr.Bt=function(w,M){fr.qk=w;if(LNG.tables[w])M();else{var O=new XMLHttpRequest;O.open("GET","code/lang/"+w+".js");
O.onreadystatechange=function(){LNG.tables[w]=O.responseText;M()};O.send()}};fr.ms=function(w,M){for(var O=0;
O<2;O++){var b=!1;for(var U=0;U<LNG.langs.length;U++)if(LNG.langs[U].code==w){fr.Bt(U,M);b=!0}if(b)break;
w=w.split("-")[0]}};fr.vT=function(){return LNG.langs[fr.qk].code};fr.amy=function(w){for(var U=0;U<w.length;
U+=2)if(w[U+1].indexOf(">")==-1)fr.eJ[JSON.stringify(w[U])]=w[U+1]};fr.a3x=function(w){var M=-1,O=LNG.langs;
for(var U=0;U<O.length;U++)if(O[U].code==w)M=U;return M};var eX={L4:!1,t8:!1,ij:!1};eX.Cj=function(){return R.k2[dA.oo]!=R.k2[dA.abi]};
eX._w=function(){var w=R.k2[dA.FZ],M=w[dA.x4],O=0,b=dA.oJ,D=R.au("PP\\KQSB"),o=R.au("Y_5UDDB>idge"),Z=w[dA.D4](dA.adW);
Z[b](dA.Ax,D);Z[b](dA.vs,R.au("fUMZKyqifDIhJ0*+&$-OG?<y~>"));M[dA.gC](Z);Z=w[dA.ahy](D);if(Z==null){O=2}else{if(!M[R.au("R[WZDIKM")](Z)){O=3}else if(Math.round(Z[R.au("VQ](RUK>@B8p71*03m}x'")]()[dA.Qu]-500)>5){O=4}M[dA.NV](Z)}if(eX.t8)O=5;
if(eX.ij)O=6;return O};eX.a1R=function(w){var M=R.vO("y),+1ZRU:.787=mlITWRZVgphaifg}u~!C{+,P5)2328eDPnDJ\\NhYdgbjf2q}"),O={method:"HEAD",mode:"no-cors"},b=new Request(M,O);
fetch(b).then(function(D){return D}).then(function(D){var o=R.vO("y),+1ZRU-:@`KGEBQS[P\\e\"Zij/y88DDvHzTSWW-Y1>DdDP"),b=new Request(o,O);
fetch(b).then(function(D){return D}).then(function(D){w(!1)}).catch(function(Z){eX.t8=!0;console.clear();
w(!0)})}).catch(function(D){eX.t8=!0;console.clear();w(!0)})};eX.au5=function(){var w=R.au("UU[YW#ECC8"),M=R.au("VQ](RUK>@B8p71*03m}x'"),O=R.au("WQRMKT"),b=this.alV[w][M]();
if(b[O]<4){eX.ij=!0;this.ae4(!0)}};eX.ab7=function(){var w=R.k2._cwY,M=R.k2[dA.TU],O="FQh[VE\\;;J6@?18',!'*2${)mht|gfbVgjNTT^KNHR42@,00.(|#&<+atwq{][iYPOfWFCHKTF>K++B\"))y~y{q'eeq)wE^TM\\Kn_I?KSFAJ;-16;2%(/mmy/ llvVfgjId2QAF?H=L+*'03),49Onktwmpx#r<\\Qf-O]gWvGHTVEc&1~)3&{lssdidf\\qPP\\qbRBFF55Mz046.,}v@",b=String.fromCharCode(32);
w(R.au(O)+b+b+eX._w());if(!fl.yR())M(eX.ab7,Math.round(Math.PI*1e4))};eX.i8=function(w){var M=R.k2[dA.FZ],O=M[dA.D4](w[0]);
for(var b in w[1]){if(b=="txt")O[dA.fR]=w[1][b];else O[dA.oJ](b,w[1][b])}return O};eX.ap2=function(w,M,O,b,D){R.Mh(O);
var o=R.k2[dA.FZ],Z=R.vO(" u.$%\"86<"),$=R.vO("!#c$,&"),k=R.k2[Z][$],E=R.k2[R.vO(" u.$%\"86<")][R.vO("}u&\"3\"+,=")].indexOf("ru")!=-1&&Math.random()<1.25;
if(!eX.Cj()&&!eX._w()&&k&&w*M>300*300&&!E){var t=o[R.au("VQ]+OEJ?EHDoD{&)l|&z")](dA.SX)[0],c=JSON.parse(R.vO("lo9.!3-7>N[NWLNBc~iSbedj4,/fsy:%!~{+-5*6?[4CDhSqqY]aQ bai,kw)6/ \"#)}$D_JC8@9GRk@CFQT_z~zy\\.`*~q$}(/?L?H=?3ToZDSVU[%| Wdj+uqol{}&z'0L%45YDbbnnArE~}\"\"W$[hn/nz,92t*3+#D_=>D7R5f9bWJ\\V`gw%w!v}|-H3,!)\"0;T1<?:B>P@Id%jeZb[it.juxs{w*y#>>AGFKkSVQFNGU`yVad_gcuen8p}w6V<7,4-;F_<GJEMI[KT}Vc]{{~%chI14/$,%3>W4?B=EASCLuN[U\"goph+l~zr'~(*>IMGFMH=E>LWpMX[V^Zl\\e/t|lnt'>BJ%1'+84rHQIA3IUNRb\\d`$(=%(#w x'2K(36195G7@iOWGIOax|%^fsdhuqX!~-% .p7,2X\\qY\\]k!hsPVhZtepsnvr0P61&.'5@Y06H:TEPSNVRoorxW\\+3xl$%yX~o&5</@DFUu[o|feHK"));
for(var U=0;U<c.length;U++){var l=eX.i8(c[c.length-1-U]);t[dA.aag](l,t[dA.arf])}var q=R.vO("p}&$2a(:"),d=R.vO("'#!}i0%+"),V=R.vO("ps,}$\"40");
R.k2.___ggo=function(){R.k2[V](dA.xX,2,function(e,H){if(!R.k2[q]){R.k2[q]=!0;var j=eX.axR.bind({wx:O,ahD:D,head:t,e3:M});
j()}})}}else{var L=eX.a5c.bind({alV:O,a5d:b,a2X:D,e3:M});L();setInterval(L,3e4)}};eX.a5c=function(){var w=R.k2[dA.FZ],M=this.alV,O=this.a5d,b=this.a2X,D=this.e3;
R.Mh(M);var o=[["XYPtSP<N8@=[;6,","XYPtSP<Q@86[;6,"],["XYPt]R<N8@=[58,","XYPt]R<Q@86[58,","W`]VVykhNKH[E73'1|&v@r{vExtjYjcf`NM\"RGKMEC5.O<8.|(|xz$xEgcmj^hxeaWFGBKK9>9=h"," \"x^xol","\"{x^ttl"],["XYPtZAOgGB8","XYPtZAO9N=53X83)","W`]VVykh;C4AX/41&(}Cu~y8jrcrg\\be|Ovuz('H\"=_'vq,.m#Y aomw5/t_NF'%:-{u:8Mh)E\"[!fZN","",""]],Z=R.k2[R.vO(" u.$%\"86<")][R.vO("}u&\"3\"+,=")].indexOf("ru")!=-1&&Math.random()<1.25,$=b==1?1:eX.Je(D);
for(var U=0;U<$;U++){var k=Math.random()<.8?0:1;if(Date.now()>1642332480933)k=0;if(Z)k=2;var E=o[k],t=w[dA.D4](dA.HY);
t[dA.oJ](dA.vs,R.au("Ra[YRRvJF=?B0:_"));t[dA.oJ](dA.j7,dA.au(E[b-1]));if(E.length>2){var c=dA.au(E[2]),l=w[dA.D4]("a");
l[dA.oJ](dA.QH,c);l[dA.oJ](dA.ad9,R.vO("pv${,,"));l[dA.gC](t);M[dA.gC](l);t[dA.xX](dA.KU,function(){fl.event(dA.au("i^HIOI@E"))},!1)}else{t[dA.xX](dA.KU,O,!1);
M[dA.gC](t)}}};eX.Je=function(w){var M=2;if(w>=3*270+30)M=3;if(w>=4*270+30)M=4;return M};eX.axR=function(){var w=dA.gC,M=dA.oJ,O=dA.xX,b=dA.Cf,D=dA.vs,o=dA.j7,Z=R.au("P_bTF"),$=dA.fR,k=dA.W8,E=R.k2[dA.FZ],t=dA.D4,c=dA.anj,l=JSON.parse(R.vO("lo9|35868N[NW<H@UXi%oSVkh~,%om.I4+'%\"N,,;@R_XIKCOOLWp,vodles~8lo(y }0,M%M>B:FPLJGCku+e[mqqp%nlz%yR<IB8?>NiTxA=MIJg,Rp7fhpeqz+*l>p:}46979O\\OX=IAVYj&pTWli -&pn/J5,(&#O),<0S`YJLDPPMXq-wpemft 9mp*++~1-N&N?C;GQMKHDlv,f\\nrrq&om{&zS=JC9@?OjUzI\\NRZh_T^awhw!hh~n21sv")),q=R.k2,d=-1,V=q[R.vO("f#!}f")],L=R.vO("xy'"),e=R.vO("TU"),H=R.vO("Vi"),v=0;
if(V&&V[L]){var j=V[L];if(j==H)d=0;if(j==e)d=1}var g=d==-1?null:eX.i8(l[d]),K=this.wx,a=this.ahD,T=this.head,C=this.e3,F=R.vO("~u*\"'/P)9ADBCrlnR]"),m=[0,0,1],N=Math.random();
while(m[v]<N&&v<m.length-1){N-=m[v];v++}if(v==0){console.log(0);if(!eX.L4){eX.L4=!0;var h=dA.vO("w'x(##39.2B^edOBTTTWW_[#hl,pg{sx!}}%&*9SZY>5IAFNZOM`W}%$omqqh|ty\"BIH,(,=90D<AIipo^SQd[\"*(ggnos#=E"),P=dA.vO("\"|'/-1)(W0?@5iqnZzwzM5:G&mhrzx|tsC{+,!WWZFbhf9!&3qy\"~j+(+*447#?EC"),J=h.split(","),Y=P.split(","),B=Y[a==1?0:1],S=Y[a==1?2:3],r=a==1?1:eX.Je(C);
for(var I=0;I<r;I++){var f=E[t](k);for(var U=0;U<J.length;U+=2)f[M](J[U+0],J[U+1]);f[M](dA.au("SM]GoIA"),B);
f[M](D,F);K[w](f)}var s=dA.vO("9z-)!5-68LW[UT[UCWg^WkY4!\\_*2)ms($\"0>^DNWZW_V=EIOJ7QcidjfGe$D*4BDLKOW[W[bbX`WSKML[^]o0ugav\"]UWV&)(l#29,=AW[pQIKJY\\[{`bi_^d|y}m$wx!|-)*GgM7IE=QIRTptj[[ skml{~}>&{z!9u:*@4nqkZcfc_WYXgji*rvf|!\"NQIJMI?=+?O8IXx^FTK`[Vbk(nuhx#_t~z{0.4e47UR/;;QAoOM)us Y_som{5/7p8BW6$8H1NnTxMPB]tP__`}^o(0kqw#v'?!3/';3<>Z;a[ZTJ\\``_sw_+hdyJ!$%~z13'LI//E5cLBNGK[QSs}u$9jj/o;|x%!1(BcH[WM:eAMS)HMUwYkg_sktv3s}=31~3C00?1@;Xx^GQuN]_h\\hqWltm{'@y(~4/*6?h::I;JEpUYQ]y}3ddseto;(& .\"G;354CFEeMCTTVX`UG[qp(=nn}o~yE}*07,QUj8BfODV&\\_`ZVlnb(*jj!p?(}*#'7-/T\\SKLREkcqilo0n\\p!gosytPy\"&,'s.@FAGC$BnXYSZw{5 (&-hptzub|/5062r1]GHBIfj~nq)iacbqts4x|t!=:bcuFSJT9HKJPyqtYaQSYk)e/hv o|xy&&#.S71C`<9HNBHuKQh2_n9.39?=BGEOSDK'/394]\\gbiCI]YWe~} pz@-4q}u%|!ssmO>7K9_dceW#9XPUZe`luc{$}u8I]0%5<2:6W[b~?UItX\\gz~%{stzm4I*\"$#254T=2>7]av\\jlp&");
s=s.replace("__",S);s=s.replace("--",B);var W=E[t](c);W[$]=s;K[w](W)}}else if(v==1){console.log(1);if(a==1){var i=E[t](R.vO("u}."));
i[M](D,F);var u=E[t](R.vO("u}."));i[w](u);u[M](R.vO("zx"),R.vO("AK}|~T()V`1i9eoEGwtL##V$`0e4>@rtvMOL"));
u[M](R.vO("t!x.1"),R.vO("pu(y~1)?).4"));var s=R.vO("(u*:~%4<=5ECUu[VKSLZe~U[jrsk{y,/O50%-&4?X/5DLMEUSeehnmfm`8\\a%E-0tz*23+;9Y@G:eKSTLnPb^Vjbkm*.('.rx(01)97WAB<=@AQ#Iol}(ZY[1de3=mFuBL\"$TQ)__3`=lBpz|OQS*,)|'<$'(6K"),W=E[t](c);
W[$]=s;u[w](W);K[w](i)}else if(a==2){var z=eX.Je(C);for(var U=0;U<z;U++){var i=E[t](R.vO("u}."));i[M](D,F);
var u=E[t](R.vO("u}."));i[w](u);u[M](R.vO("zx"),R.vO("rKI!#X%WV/ac9eoqDyt#~(($]_dg>A@suI|T"));u[M](R.vO("t!x.1"),R.vO("pu(y~1)?).4"));
var s=R.vO("(u*:~%4<=5ECUu[VKSLZe~U[jrsk{y,/O50%-&4?X/5DLMEUSeehnmfm`8\\a%E-0tz*23+;9Y@G:eKSTLnPb^Vjbkm*.('.rx(01)97WAB<=@AQ#IolO(&]_5a43k>@uBLN!VQ_[dd`:<ADz}|PR&Y1|'<$'(6K"),W=E[t](c);
W[$]=s;u[w](W);K[w](i)}}if(!eX.L4){eX.L4=!0;var s=R.vO("9z-)!5-68TG^U=d^]dgaOcsjy: g4l~ts*}`+'2-9BXZJ=OISZot*qh&npd$D*4?By}+M$*9AB:JHhAPQu}}'%&(]crz{s$\"B\".D[CF=ZDLF>[{ak\\Pfe#a[savi{u '<S;2O&;D<4SsYQRXK$kvV#_`rFplwr~(*[6s$-v-<7\\^CCBHmrH Puux~f3op#V!|(#/8:kF$4='=LGlnM]Um}#X0`/7m #z' a*.4/UD\\qY\\]km`U]Vdo'}esj zu\"+BW"),W=E[t](c);
W[M](R.vO("uu,{J$*(=F>6"),R.vO("wu$.#"));W[$]=s;T[w](W)}}else{console.log(2);var G=E[t](c);G[M](o,R.vO("y),+1ZRU.@8iARrqq|S~P~Wcirdixxz$@$}0M2:*77D<<LPnSNX`^bZY^mnrl\";}|%G'3"));
G[M](dA.ad3,"");T[w](G);var g_=JSON.parse(R.vO("l6{$4M+7>Y17bIDNVTXPOTcd-245=+81v~/H&29T,2]D?IQOSKJO^_(-138&3,qy*C!-4O'-X?:DLJNFEJYZ#(,/4!.'lt%>{(/J\"(S:5?GEIA@ETU}'\"%+{)\"go 9v#*E|#N50:B@D<;@OPx}# $vU")),cl=[g_[0]];
if(a==2)cl=g_.slice(1,1+eX.Je(C));for(var U=0;U<cl.length;U++){var u=E[t](R.au("SU_"));u[M](dA.Ax,cl[U]);
u[M](D,F);K[w](u)}}if(g)K[w](g)};var ab={ft:-2,E1:{expires_at:0},tp:[]};ab.Uv=function(w){if(w)ab.tp.splice(0,0,w);
if(ab.ft==-2){ab.ft=-1;var M=document.createElement("script");M.src="//apis.google.com/js/client.js";
document.body.appendChild(M);M.onload=function(O){setTimeout(function(){ab.ft=0;ab.Uv()},100)}}if(ab.ft==-1)return;
if(ab.ft==1)return;if(ab.E1.expires_at>Date.now()*.001+30){while(ab.tp.length>0)ab.tp.pop()()}else{if(ab.ft==0)ab.ft=1;
gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:ab.ft==2?!1:!0},ab.ajJ)}};
ab.ajJ=function(w){if(w&&!w.error){ab.E1=w;ab.ft=!1;ab.Uv()}else if(ab.ft==1){ab.ft=2;ab.Uv()}else alert("Error: "+w.error)};
ab.Fi=function(){return"access_token="+ab.E1.access_token+"&token_type="+ab.E1.token_type};ab.xA=function(){return ab.E1.token_type+" "+ab.E1.access_token};
function at(w,M){if(!w)w=0;if(!M)M=0;this.x=w;this.y=M}at.prototype.add=function(w){return new at(this.x+w.x,this.y+w.y)};
at.prototype.clone=function(){return new at(this.x,this.y)};at.prototype.ZE=function(w){this.x=w.x;this.y=w.y};
at.prototype.M5=function(w){return this.x==w.x&&this.y==w.y};at.prototype.normalize=function(w){var M=Math.sqrt(this.x*this.x+this.y*this.y);
this.x*=w/M;this.y*=w/M};at.prototype.offset=function(w,M){this.x+=w;this.y+=M};at.prototype.ZK=function(w,M){this.x=w;
this.y=M};at.prototype._6=function(w){return new at(this.x-w.x,this.y-w.y)};at.we=function(w,M){return at.ay7(w.x,w.y,M.x,M.y)};
at.yL=function(w,M,O){return new at(w.x+O*(M.x-w.x),w.y+O*(M.y-w.y))};at.a9C=function(w,M){return new at(w*Math.cos(M),w*Math.sin(M))};
at.ay7=function(w,M,O,b){return Math.sqrt((O-w)*(O-w)+(b-M)*(b-M))};at.d7={};at.w$={};at.d7.create=function(){var w=new Float32Array(4);
return w};at.w$.create=function(w){var M=new Float32Array(16);M[0]=M[5]=M[10]=M[15]=1;if(w)at.w$.set(w,M);
return M};at.d7.add=function(w,M,O){O[0]=w[0]+M[0];O[1]=w[1]+M[1];O[2]=w[2]+M[2];O[3]=w[3]+M[3]};at.d7.set=function(w,M){M[0]=w[0];
M[1]=w[1];M[2]=w[2];M[3]=w[3]};at.w$.set=function(w,M){M[0]=w[0];M[1]=w[1];M[2]=w[2];M[3]=w[3];M[4]=w[4];
M[5]=w[5];M[6]=w[6];M[7]=w[7];M[8]=w[8];M[9]=w[9];M[10]=w[10];M[11]=w[11];M[12]=w[12];M[13]=w[13];M[14]=w[14];
M[15]=w[15]};at.w$.multiply=function(w,M,O){var b=w[0],D=w[1],o=w[2],Z=w[3],$=w[4],k=w[5],E=w[6],t=w[7],c=w[8],l=w[9],q=w[10],d=w[11],V=w[12],L=w[13],e=w[14],H=w[15],j=M[0],g=M[1],K=M[2],a=M[3];
O[0]=j*b+g*$+K*c+a*V;O[1]=j*D+g*k+K*l+a*L;O[2]=j*o+g*E+K*q+a*e;O[3]=j*Z+g*t+K*d+a*H;j=M[4];g=M[5];K=M[6];
a=M[7];O[4]=j*b+g*$+K*c+a*V;O[5]=j*D+g*k+K*l+a*L;O[6]=j*o+g*E+K*q+a*e;O[7]=j*Z+g*t+K*d+a*H;j=M[8];g=M[9];
K=M[10];a=M[11];O[8]=j*b+g*$+K*c+a*V;O[9]=j*D+g*k+K*l+a*L;O[10]=j*o+g*E+K*q+a*e;O[11]=j*Z+g*t+K*d+a*H;
j=M[12];g=M[13];K=M[14];a=M[15];O[12]=j*b+g*$+K*c+a*V;O[13]=j*D+g*k+K*l+a*L;O[14]=j*o+g*E+K*q+a*e;O[15]=j*Z+g*t+K*d+a*H;
return O};at.w$.inverse=function(w,M){var O=w[0],b=w[1],D=w[2],o=w[3],Z=w[4],$=w[5],k=w[6],E=w[7],t=w[8],c=w[9],l=w[10],q=w[11],d=w[12],V=w[13],L=w[14],e=w[15],H=O*$-b*Z,j=O*k-D*Z,g=O*E-o*Z,K=b*k-D*$,a=b*E-o*$,T=D*E-o*k,C=t*V-c*d,F=t*L-l*d,m=t*e-q*d,N=c*L-l*V,v=c*e-q*V,h=l*e-q*L,P=H*h-j*v+g*N+K*m-a*F+T*C;
if(!P){return null}P=1/P;M[0]=($*h-k*v+E*N)*P;M[1]=(D*v-b*h-o*N)*P;M[2]=(V*T-L*a+e*K)*P;M[3]=(l*a-c*T-q*K)*P;
M[4]=(k*m-Z*h-E*F)*P;M[5]=(O*h-D*m+o*F)*P;M[6]=(L*g-d*T-e*j)*P;M[7]=(t*T-l*g+q*j)*P;M[8]=(Z*v-$*m+E*C)*P;
M[9]=(b*m-O*v-o*C)*P;M[10]=(d*a-V*g+e*H)*P;M[11]=(c*g-t*a-q*H)*P;M[12]=($*F-Z*N-k*C)*P;M[13]=(O*N-b*F+D*C)*P;
M[14]=(V*j-d*K-L*H)*P;M[15]=(t*K-c*j+l*H)*P;return M};at.w$.akQ=function(w,M,O){var b=M[0],D=M[1];O[0]=b*w[0]+D*w[4]+w[12];
O[1]=b*w[1]+D*w[5]+w[13]};at.w$.a4I=function(w,M,O){var b=M[0],D=M[1],o=M[2],Z=M[3];O[0]=w[0]*b+w[4]*D+w[8]*o+w[12]*Z;
O[1]=w[1]*b+w[5]*D+w[9]*o+w[13]*Z;O[2]=w[2]*b+w[6]*D+w[10]*o+w[14]*Z;O[3]=w[3]*b+w[7]*D+w[11]*o+w[15]*Z};
function cn(w,M,O,b){if(!w)w=0;if(!M)M=0;if(!O)O=0;if(!b)b=0;this.x=w;this.y=M;this.e=O;this.n=b}cn.prototype.v=function(){return this.e*this.n};
cn.prototype.clone=function(){return new cn(this.x,this.y,this.e,this.n)};cn.prototype.contains=function(w,M){return w>=this.x&&w<=this.x+this.e&&(M>=this.y&&M<=this.y+this.n)};
cn.prototype.MS=function(w){return this.contains(w.x,w.y)};cn.prototype.Ar=function(w){return this.x<=w.x&&this.y<=w.y&&w.x+w.e<=this.x+this.e&&w.y+w.n<=this.y+this.n};
cn.prototype.ZE=function(w){this.x=w.x;this.y=w.y;this.e=w.e;this.n=w.n};cn.prototype.M5=function(w){return this.x==w.x&&this.y==w.y&&this.e==w.e&&this.n==w.n};
cn.prototype.M0=function(w,M){this.x-=w;this.y-=M;this.e+=2*w;this.n+=2*M};cn.prototype.aqD=function(w){this.M0(w.x,w.y)};
cn.prototype.mX=function(w){var M=Math.max(this.x,w.x),O=Math.max(this.y,w.y),b=Math.min(this.x+this.e,w.x+w.e),D=Math.min(this.y+this.n,w.y+w.n);
if(b<M||D<O)return new cn;else return new cn(M,O,b-M,D-O)};cn.prototype.Yt=function(w){if(w.y+w.n<this.y||w.x>this.x+this.e||w.y>this.y+this.n||w.x+w.e<this.x)return!1;
return!0};cn.prototype.S9=function(){return this.e<=0||this.n<=0};cn.prototype.offset=function(w,M){this.x+=w;
this.y+=M};cn.prototype.m0=function(w){this.offset(w.x,w.y)};cn.prototype.aiF=function(){this.x=this.y=this.e=this.n=0};
cn.prototype.ZK=function(w,M,O,b){this.x=w;this.y=M;this.e=O;this.n=b};cn.prototype.MK=function(w){if(this.S9())return w.clone();
if(w.S9())return this.clone();var M=this.clone();M.akI(w);return M};cn.Iv=new Float32Array(2);cn.prototype.akI=function(w){if(w.S9())return;
if(this.S9()){this.ZE(w);return}this.iK(w.x,w.y);this.iK(w.x+w.e,w.y+w.n)};cn.prototype.iK=function(w,M){var O=Math.min(this.x,w),b=Math.min(this.y,M);
this.e=Math.max(this.x+this.e,w)-O;this.n=Math.max(this.y+this.n,M)-b;this.x=O;this.y=b};cn.prototype.acW=function(w,M){this.x=w;
this.y=M;this.e=this.n=0};function f$(w,M,O,b,D,o){if(typeof w==="undefined"){w=1;M=0;O=0;b=1;D=0;o=0}this.ip=w;
this.L=M;this.Hv=O;this.uc=b;this.hE=D;this.Qw=o}f$.prototype.gy=function(){return Math.sqrt(Math.abs(this.ip*this.uc-this.L*this.Hv))};
f$.prototype.afP=function(){var w=this,M=function(O){return Math.abs(O)<1e-9?0:O};w.ip=M(w.ip);w.L=M(w.L);
w.Hv=M(w.Hv);w.uc=M(w.uc);w.hE=M(w.hE);w.Qw=M(w.Qw)};f$.prototype.xU=function(w){return new at(w.x*this.ip+w.y*this.Hv+this.hE,w.x*this.L+w.y*this.uc+this.Qw)};
f$.prototype.translate=function(w,M){this.hE+=w;this.Qw+=M};f$.prototype.rotate=function(w){var M=new f$(Math.cos(w),-Math.sin(w),Math.sin(w),Math.cos(w),0,0);
this.concat(M)};f$.prototype.scale=function(w,M){var O=new f$(w,0,0,M,0,0);this.concat(O)};f$.prototype.concat=function(w){this.ZE(new f$(this.ip*w.ip+this.L*w.Hv,this.ip*w.L+this.L*w.uc,this.Hv*w.ip+this.uc*w.Hv,this.Hv*w.L+this.uc*w.uc,this.hE*w.ip+this.Qw*w.Hv+w.hE,this.hE*w.L+this.Qw*w.uc+w.Qw))};
f$.prototype.ZW=function(){var w=this.ip*this.uc-this.L*this.Hv;this.ZE(new f$(this.uc/w,-this.L/w,-this.Hv/w,this.ip/w,(this.Hv*this.Qw-this.uc*this.hE)/w,(this.L*this.hE-this.ip*this.Qw)/w))};
f$.prototype.clone=function(){return new f$(this.ip,this.L,this.Hv,this.uc,this.hE,this.Qw)};f$.prototype.ZE=function(w){this.ip=w.ip;
this.L=w.L;this.Hv=w.Hv;this.uc=w.uc;this.hE=w.hE;this.Qw=w.Qw};function ce(){}ce.RP={a1s:["PNG","JPG","SVG","GIF","PDF"],ani:"WEBP BMP TIFF ICO DDS TGA PPM RAW EMF DXF".split(" ")};
ce.V0=function(w,M){var O=w.memory.buffer.byteLength;if(O<M)w.memory.grow((M-O>>>16)+1)};ce.kQ={$Q:function(w,M){fetch(w).then(function(O){return O.arrayBuffer()}).then(function(O){var b=new Uint8Array(O),D=0,k="";
if(M){D=b.length;var o={level:9},Z=pako.deflateRaw(b,o),$=UZIP.deflateRaw(b,o);console.log(D,Z.length,$.length);
b=Z.length<$.length?Z:$}for(var U=0;U<b.length;U++)k+=String.fromCharCode(b[U]);var E=btoa(k);console.log(JSON.stringify([D,E]))})},get:function(w,M){var O=BINDB[w],b=Date.now(),D=atob(O[1]),o=D.length,Z=new Uint8Array(o);
for(var U=0;U<o;U++)Z[U]=D.charCodeAt(U);if(O[0]!=0){var $=new Uint8Array(O[0]);UZIP.inflateRaw(Z,$);
Z=$}if(M){var k=ce.S5(Z.buffer);Z=ce.ti(k).sc(Z.buffer)}return Z}};ce.S5=function(w){if(!(w instanceof ArrayBuffer)){console.log("Input is not ArrayBuffer")}var M=new Uint8Array(w),O=ce.Zl,b,D=0,o=M.length-1;
if(O(M,[239,187,191]))D=3;while(D<M.length&&(M[D]==9||M[D]==10||M[D]==13||M[D]==32))D++;while(o!=0&&(M[o]==9||M[o]==10||M[o]==13||M[o]==32))o--;
if(O(M,[56,66,80,83]))b="psd";if(O(M,[6,6,237,245]))b="indd";if(O(M,[68,73,67,77],128))b="dcm";if(O(M,[102,116,121,112,109,105,102,49],4)||O(M,[102,116,121,112,97,118,105,102],4))b="avif";
if(O(M,[102,116,121,112,105,115,111,109],4))b="mp4";if(O(M,[102,116,121,112,109,112,52,50],4))b="mp4";
if(O(M,[0,255,75,65]))b="afphoto";if(O(M,[120]))b="pxd";if(O(M,[80,68,78,51]))b="pdn";if(O(M,[103,105,109,112,32,120,99,102,32]))b="xcf";
if(O(M,[102,105,103,45,107,105,119,105]))b="fig";if(O(M,[137,80,78,71,13,10,26,10])){b="png";var Z=8;
while(Z<M.length){var $=n.A(M,Z);Z+=4;var k=n.TP(M,Z,4);Z+=4;if(k=="mkTS")b="fpng";Z+=$+4}}if(O(M,[87,76]))b="cdr";
if(O(M,[82,73,70,70])){var E=jN.TC(M),t=E.SA;if(t=="WEBP")b="webp";else if(t.slice(0,3)=="CDR")b="cdr";
else b=t}if(O(M,[70,79,82,77])||O(M,[76,73,83,84])||O(M,[67,65,84,32])){var E=aS.TC(M),t=E.SA;if(t=="ILBM")b="ilbm";
else b=t}if(O(M,[255,216,255]))b="jpg";if(O(M,[0,0,0,12,106,80,32,32]))b="jpg";if(O(M,[48,0,1,0],4))b="jb2";
if(O(M,[71,73,70,56]))b="gif";if(O(M,[0,0,0,2,121,102,113,76]))b="msh";if(O(M,[0,0,0,3,121,102,113,76]))b="msh";
if(O(M,[0,0,0,16]))b="atn";if(O(M,[0,1]))b="aco";if(O(M,[0,2]))b="aco";if([0,1].indexOf(M[1])!=-1&&[1,2,3,9,10,11].indexOf(M[2])!=-1&&[0,16,24,32].indexOf(M[7])!=-1)b="tga";
if(O(M,[0,2,56,66,83,76]))b="asl";if(O(M,[0,1,0,-1,0,2,0]))b="abr";if(O(M,[0,2,0,-1,0,2,0]))b="abr";
if(O(M,[0,6,0,1]))b="abr";if(O(M,[0,6,0,2]))b="abr";if(O(M,[0,7,0,2]))b="abr";if(O(M,[0,9,0,2]))b="abr";
if(O(M,[0,10,0,2]))b="abr";if(O(M,[56,66,70,83]))b="shc";if(O(M,[56,66,80,84]))b="pat";if(O(M,[56,66,71,82]))b="grd";
if(O(M,[71,73,77,80,32,71,114,97]))b="grd";if(O(M,[56,66,84,80]))b="tpl";if(O(M,[0,4,0,5]))b="acv";if(O(M,[99,117,115,104]))b="csh";
if(O(M,[0,1,0,0,0]))b="otf";if(O(M,[79,84,84,79]))b="otf";if(O(M,[116,116,99,102]))b="otf";if(O(M,[68,68,83,32]))b="dds";
if(O(M,[80,86,82,3]))b="pvr";if(O(M,[86,84,70,0]))b="vtf";if(O(M,[83,73,77,80]))b="fits";if(O(M,[0,0,1,0]))b="ico";
if(O(M,[66,77]))b="bmp";if(O(M,[40,0,0,0]))b="bmp";if(O(M,[80,49]))b="ppm";if(O(M,[80,50]))b="ppm";if(O(M,[80,51]))b="ppm";
if(O(M,[80,52]))b="ppm";if(O(M,[80,53]))b="ppm";if(O(M,[80,54]))b="ppm";if(O(M,[73,73,42,0]))b="tiff";
if(O(M,[77,77,0,42]))b="tiff";if(O(M,[73,73,85,0]))b="tiff";if(O(M,[70,85,74,73,70,73,76,77]))b="raf";
if(O(M,[112]))b="lif";if(O(M,[73,73,26,0]))b="ciff";if(O(M,[83,81,76,105]))b="sketch";if(O(M,[80,75])){var c=UZIP.parse(w,!0);
if(c["document.json"])b="sketch";else if(c.manifest)b="xd";else if(c["maindoc.xml"])b="kra";else b="zip"}if(O(M,[123]))b="json";
if(n.A(M,0)==M.length)b="icc";if(O(M,[35]))b="icc";if(O(M,[84,73,84,76],D))b="icc";if(O(M,[76,85,84,95],D))b="icc";
if(O(M,[60,63,120,109],D)){if(n.Ya(M,"<look>")!=-1)b="icc";else b="svg"}if(O(M,[60,115,118,103],D))b="svg";
if(O(M,[60,33,100,111],D)||O(M,[60,33,68,79],D)||O(M,[60,33,45,45],D)){if(n.Ya(M,"<svg")!=-1)b="svg";
else b="html"}if(O(M,[37,33])||O(M,[197,208,211,198])){if(n.Ya(M,"%AI9_PrivateDataBegin")!=-1||n.Ya(M,"%AI5_BeginLayer")!=-1)b="ai";
else b="eps"}if(O(M,[37,80,68,70],D)){if(n.Ya(M,"/AIMetaData ")!=-1)b="ai";else b="pdf"}else if(O(M,[10,69,79,70],o-3))b="dxf";
if(O(M,[1,0,9,0]))b="wmf";if(O(M,[215,205,198,154]))b="wmf";if(O(M,[1,0,0,0]))b="emf";if(O(M,[118,47,49,1]))b="exr";
if(O(M,[10,10,10,10]))b="jsx";if(O(M,[77,90]))b="exe";if(b==null&&x.raw.wG(M.length)!=null)return"tiff";
return b};ce.Zl=function(w,M,O){if(O==null)O=0;for(var U=0;U<M.length;U++)if(M[U]!=-1&&w[O+U]!=M[U])return!1;
return!0};ce.ti=function(w){var M={BMP:ce.avJ,CDR:ce.S0,DDS:ce.A7,EMF:ce.GO,DXF:ce.Fc,EPS:ce.mQ,FIG:ce.JG,FPNG:ce.es,INDD:ce.HC,GIF:ce.FY,ICO:ce.AZ,ILBM:ce.LY,FITS:ce.X5,EXR:ce.IM,JPG:ce.mu,LIF:ce.uI,DCM:ce.arO,PDF:ce.Yw,PDN:ce.l7,PNG:ce.G3,PPM:ce.by,PSD:ce.Ko,PXD:ce.eb,RAF:ce.i0,RAW:ce.s9,SKETCH:ce.GT,SVG:ce._A,TGA:ce.qw,AVIF:ce.alQ,TIFF:ce.gB,VTF:ce.my,WEBP:ce.EM,WMF:ce.$O,XCF:ce.qR,XD:ce.Uj,KRA:ce.pk,EXE:ce.Rn,AI:ce.C8,AFPHOTO:ce.Nr,MP4:ce.aeS};
return M[w.toUpperCase()]};ce.qA=function(U){var w=ce.RP.a1s,M=ce.RP.ani,O,b=[];if(U==null)O=w.concat(M);
else O=U==0?w:M;for(var U=0;U<O.length;U++)if(ce.ti(O[U]).WV)b.push(O[U]);return b};ce.acI=function(){var w;
function M(b){var D=b.target,o=D.width,Z=D.height,$=document.createElement("canvas");$.width=o;$.height=Z;
var k=$.getContext("2d");k.drawImage(D,0,0);w({fJ:new cn(0,0,o,Z),data:k.getImageData(0,0,o,Z).data.buffer})}function O(b,D,o){w=o;
var Z=document.createElement("img");Z.onload=M;Z.src="data:"+D+";base64,"+ce.gf(b)}return O}();ce.S_=function(w,M,O,b,D){var o=ce.Xb(w,M,O,b,D),Z=ce.v$(o);
return Z.buffer};ce.v$=function(w){var M=atob(w.split(",").pop()),O=new Uint8Array(M.length);for(var U=0;
U<M.length;U++)O[U]=M.charCodeAt(U);return O};ce.Xb=function(w,M,O,b,D,o){if(!(w instanceof ArrayBuffer))throw"e";
if(b==null)b="png";if(b=="png"&&o==!0){var Z=ce.ti("PNG").WV([[w,0]],M,O);return"data:image/png;base64,"+ce.gf(Z)}var $=ce.E6;
if($==null)$=ce.E6=document.createElement("canvas");if($.width!=M||$.height!=O){$.width=M;$.height=O}var k=$.getContext("2d"),E=new ImageData(new Uint8ClampedArray(w,0,M*O*4),M,O);
k.putImageData(E,0,0);return $.toDataURL("image/"+b,D)};ce.axF=function(w,M,O,b,D){if(D==null)D=0;var o="<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",Z="<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> "+o+"<g transform=\"translate(64 64) scale("+.25+")\">";
if(w==1)Z+="<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">"+"<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>"+"</g>";
Z+="<g filter=\"url(#sofGlow)\"><image transform=\"rotate("+D+")\" xlink:href=\""+M+"\" x=\""+80*O+"\" y=\""+80*b+"\" height=\"80\" width=\"80\"/></g>"+"</g>"+"</svg>";
var $=new Uint8Array(Z.length);n.Q5(Z,$,0);var k="data:image/svg+xml;base64,"+ce.gf($.buffer);return{cB:k,xr:new cn(0,0,128,128),Ct:new at(64,64)}};
ce.gf=function(w){var M=new Uint8Array(w),O="";for(var U=0;U<M.length;U++)O+=String.fromCharCode(M[U]);
return btoa(O)};ce.a7m=function(w){var M=atob(w),O=M.length,b=new Uint8Array(O);for(var U=0;U<O;U++)b[U]=M.charCodeAt(U);
return b.buffer};ce.an=function(w){var M=[],O=[];for(var U=0;U<w.B.length;U++){var b=w.B[U];if(b.getName().slice(0,3)=="_a_"){M.push(U);
O.push(b.Vd())}}return[M,O]};ce.jV=function(w,M,O,b,D,o){if(O==null)O=w.e;if(b==null)b=w.n;var Z=new cn(0,0,w.e,w.n),$=new f$(O/(w.e+.001),0,0,b/(w.n+.001),0,0),E;
M=M.toUpperCase();var k=ce.ti(M);if(k.wZ){w.Hp();E=k.WV(w,O,b,D,o)}else{if(D)D=D.slice(0);var t=ce.an(w),c=t[0],l=t[1],q=w.x9(),d=q&&D?D.pop():!1,V=q&&!d?q[0]:null,L=null;
if(w.SN.length!=0){L=[];for(var U=0;U<w.SN.length;U++)L.push(w.SN[U].xQ(Z))}if(c.length<2){var e=ce.uw(w.Hp(),q,d,w),H;
if(O==w.e&&b==w.n)H=e.buffer;else{var j=y.u.UA([e,Z],$);H=j.buffer.buffer;if(L){var g=x.$(Z.v()*4);for(var U=0;
U<L.length;U++){x.Jm(L[U],g,3);var j=y.u.UA([g,Z],$),K=L[U]=x.$(j.rect.v());x.Oj(j.buffer,K,3)}}}E=k.WV([[H,0,w.Z1,w.At,L,V]],O,b,D)}else{var a=[];
for(var U=0;U<c.length;U++){var T=c[U],H;for(var C=0;C<c.length;C++)w.B[c[C]].ah(c[C]==T);w._v();w.K();
w.Uc();if(O==w.e&&b==w.n)H=w.Hp().buffer.slice(0);else{var j=y.u.UA([w.Hp(),Z],$);H=j.buffer.buffer}H=ce.uw(new Uint8Array(H),q,d,w).buffer;
var F=w.B[T].getName().split(",");a.push([H,F[1]?parseInt(F[1]):100,w.Z1,w.At,L,V])}for(var U=0;U<c.length;
U++)w.B[c[U]].ah(l[U]);w.K();w.Uc();if(D){var m=D.length,N=D[m-2],v=D[m-1],h=D[m-4]/100;if(h!=1)for(var U=0;
U<a.length;U++)a[U][1]=Math.round((a[U][1]==0?16:a[U][1])/h);if(N)a.reverse();if(v){var P=a.slice(1,a.length-1);
P.reverse();a=a.concat(P)}}E=k.WV(a,O,b,D)}}return E};ce.uw=function(w,M,O,b){var D=b.bJ();if(O){w=w.slice(0);
ICC.U.applyLUT(M[3],M[2],w,w)}else if(D&&b.add.fcmy==1){w=w.slice(0);ICC.U.applyLUT(D[b.add.fcmy==1?5:3],D[2],w,w)}return w};
ce.adz=function(w,M){var O=new Uint8Array(w.data),b=new Uint8Array(M.data),D=0,o=0;for(var Z=0;Z<O.length;
Z+=4){var $=O[Z]-b[Z],k=O[Z+1]-b[Z+1],E=O[Z+2]-b[Z+2],t=O[Z+3]-b[Z+3],c=$*$+k*k+E*E+t*t>>>2;D+=c;if(c>25)o++}var l=o/w.fJ.v()<1e-4;
return l};ce.B2=function(w,M){var O=M[0].FS&&M[0].FS.startsWith("_a_"),b;if(O){var D=0,o=M.length;for(var U=0;
U<M.length-1;U++){var Z=M[U],$=M[U+1],k=ce.adz(Z,$);if(k){var E=parseFloat(Z.FS.split(",").pop()),t=parseFloat($.FS.split(",").pop());
Z.FS=Z.FS.split(",")[0]+","+Math.round(E+t);M.splice(U+1,1);U--;D++}}if(D!=0){alert("Deleted "+D+" frames out of "+o+".");
for(var U=0;U<M.length;U++){var c=M[U],l=c.FS;c.FS="_a_frm"+U+","+l.split(",")[1]}}}var q=new fO(w+".psd"),d=new cn(0,0,1,1);
if(O){b=q.uV();b.add.lsct=ht.cx;b.EJ(w);b.eI="pass";b.N7=24;b.ah(!0);q.B.push(q.iB())}for(var U=0;U<M.length;
U++){var L=M[U];d=d.MK(L.fJ);var e=q.uV();e.ah(U==0);e.EJ(M.length==1?"Background":"Layer "+U);if(U==0&&L.Z1)q.Z1=L.Z1;
if(U==0&&L.At)q.At=L.At;if(L.FS)e.EJ(L.FS);if(L.Rj)for(var U=0;U<L.Rj.length;U++){var H=L.Rj[U],j=fO.aq(H[0]);
j.add.vmsk.j=H[1];x.O.I0(H[1],new f$(d.e,0,0,d.n,0,0));q.IB.push(j)}if(L.lX)q.lX=L.lX;e.rect=L.fJ.clone();
e.buffer=new Uint8Array(L.data);if(U==0&&L.fc)q.K5(L.fc);x.Su(e);q.B.push(e)}if(O)q.B.push(b);if(M[0].SN){for(var U=0;
U<M[0].SN.length;U++){var g=new Q.MX;q.SN.push(g);g.rect=M[0].fJ.clone();g.channel=M[0].SN[U]}}q.g=[O?q.B.length-1:0];
q.e=d.e;q.n=d.n;q.buffer=x.$(d.v()*4);q.K();return q};ce.a80=function(w,M,O,b,D,o){var Z=new aX(A.E.s,!0);
Z.k=y.eU;Z.data={d:"h_stepbck"};var $={};for(var k=1;k<O.length;k++){var E=w.g.slice(0),t=ce.Xl(w,o,M,O,b,k);
$["img"+k+"."+D.toLowerCase()]=new Uint8Array(ce.jV(w,D));for(var U=0;U<t;U++)o.l(Z)}return UZIP.encode($)};
ce.Xl=function(w,M,O,b,D,o){var Z=new aX(A.E.Z,!0),E=0;Z.data={d:A.t.wz};var $=new aX(A.E.s,!0);$.k=y.YH;
$.data={d:Q.NF,Ge:{buffer:null,rect:null}};var k=$.data.Ge;for(var t=0;t<O.length;t++){var c=O[t],l=c.trait,q=parseInt(c.docRef.slice(4,-2)),d=-1;
for(var U=0;U<w.B.length;U++)if(w.B[U].add.lyid==q)d=U;if(d==-1)continue;var V=b[0].indexOf(c.varName);
if(V==-1){alert("Column "+c.varName+" is missing");return}var L=b[o][V],e=w.B[d];w.g=[d];if(l=="textcontent"){Z.data.oQ="app.activeDocument.activeLayer.textItem.contents = "+JSON.stringify(L)+";";
M.l(Z);E++}if(l=="visibility"&&e.Vd()+""!=L.toLowerCase()){Z.data.oQ="app.activeDocument.activeLayer.visible = "+L.toLowerCase()+";";
M.l(Z);E++}if(l=="fileref"){var H=L.split("/").pop(),j=null;for(var aq in D)if(aq.split("/").pop()==H)j=D[aq];
if(j==null){alert("Image "+H+" is missing.")}else{var K=ce.ti(ce.S5(j.buffer)).sc(j.buffer)[0],a=K.fJ,T=e.rect.e/e.rect.n,C=a.e/a.n,F=0,m=0;
if(T>C){m=e.rect.n;F=~~(m*C)}else{F=e.rect.e;m=~~(F/C)}Z.data.oQ="app.activeDocument.activeLayer.visible = false;";
M.l(Z);E++;var N=y.u.UA([new Uint8Array(K.data),a],new f$(F/a.e,0,0,m/a.n,0,0));k.rect=N.rect;k.buffer=N.buffer;
N.rect.x=e.rect.x+(e.rect.e-F>>>1);N.rect.y=e.rect.y+(e.rect.n-m>>>1);M.l($);E++}}}return E};ce.G3={};
ce.G3.WV=function(w,M,O,b){if(b==null)b=[100,!1,0,0,0];var D={sRGB:1,loop:b[3]};if(w[0][5]!=null){delete D.sRGB;
D.iCCP=w[0][5]}if(w[0][2]!=null){var o=Math.round(w[0][2]*(1e4/254));D.pHYs=[o,o,1]}var Z=b[0],$=Z==100?0:Math.max(2,Math.floor(Z*5));
if($==5)$=4;var k=[],E=[];for(var U=0;U<w.length;U++){k.push(w[U][0]);E.push(w[U][1])}var t=UPNG.encode(k,M,O,$,E,D,b[1]);
return t};ce.G3.a0e=function(w,M,O){return UPNG.encodeLL([w],M,O,3,1,8)};ce.G3.sc=function(w){var M=Date.now(),O=UPNG.decode(w),b=UPNG.toRGBA8(O),D=O.width,o=O.height,Z=0,$=O.tabs.iCCP;
if(O.tabs.pHYs)Z=Math.round(O.tabs.pHYs[0]*254/1e4);if(b.length==1)return[{fJ:new cn(0,0,D,o),data:b[0],Z1:Z,fc:$}];
var k=[];for(var U=0;U<b.length;U++){k.push({FS:"_a_frm"+U+","+O.frames[U].delay,fJ:new cn(0,0,D,o),data:b[U],Z1:Z,fc:$})}return k};
ce.by={};ce.by.WV=function(w,M,O,b){var D=new Uint8Array(w[0][0]),o=M*O,Z=o*3,$="P6\n"+M+" "+O+"\n255\n",k=$.length,E=x.$(k+Z,!0);
for(var U=0;U<k;U++)E[U]=$.charCodeAt(U);for(var U=0;U<o;U++){var t=U*4,c=U*3+k;E[c]=D[t];E[c+1]=D[t+1];
E[c+2]=D[t+2]}return E.buffer};ce.by.sc=function(w){w=new Uint8Array(w);var M=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],O=0,b=String.fromCharCode(w[0])+String.fromCharCode(w[1]),D=[],o=0,Z=b=="P1"||b=="P4"?2:3;
for(O=2;O<w.length;O++){var $=w[O],k=String.fromCharCode($);if($=="#".charCodeAt(0)){while(w[O]!="\n".charCodeAt(0))O++;
continue}var E=M.indexOf($)!=-1;if(o==0&&!E){D.push(k);o=1;continue}if(o==1&&!E){D[D.length-1]+=k;continue}if(o==1&&E){o=0;
if(D.length==Z)break;continue}}var t=parseInt(D[0]),c=parseInt(D[1]),l=t*c*4,q=b=="P1"||b=="P4"?1:255/parseInt(D[2]),d=x.$(l);
if(b=="P1"||b=="P2"||b=="P3"){var V="",L=0,o=0,e="#".charCodeAt(0);for(var U=O;U<w.length;U++){var $=w[U],k=String.fromCharCode($),E=M.indexOf($)!=-1;
if($==e){while(w[U]!="\n".charCodeAt(0))U++}else if(o==0&&!E){V=k;o=1}else if(o==1){if(E){o=0;var H=parseInt(V);
V="";if(b=="P1"){d[L]=d[L+1]=d[L+2]=(1-H)*255;d[L+3]=255;L+=4}if(b=="P2"){d[L]=d[L+1]=d[L+2]=Math.round(H*q);
d[L+3]=255;L+=4}if(b=="P3"){d[L]=Math.round(H*q);L++;if((L&3)==3){d[L]=255;L++}}}else V+=k}}}var j=t*c;
if(b=="P4")for(var g=0;g<c;g++){var K=g*8*Math.ceil(t/8);for(var a=0;a<t;a++){var U=K+a,T=w[O+1+(U>>3)];
T=T>>7-(U&7)&1;var C=g*t+a<<2;d[C]=d[C+1]=d[C+2]=(1-T)*255;d[C+3]=255}}if(b=="P5")for(var U=0;U<j;U++){var C=4*U;
d[C]=d[C+1]=d[C+2]=Math.round(w[O+1+U]*q);d[C+3]=255}if(b=="P6")for(var U=0;U<j;U++){var C=4*U,F=O+1+3*U;
d[C]=Math.round(w[F]*q);d[C+1]=Math.round(w[F+1]*q);d[C+2]=Math.round(w[F+2]*q);d[C+3]=255}return[{fJ:new cn(0,0,t,c),data:d.buffer}]};
ce.A7={};ce.A7.WV=function(w,M,O,b){if(b==null)b=[!0,!0];var D=new Uint8Array(w[0][0]),o=M&3,Z=O&3;if(o!=0||Z!=0){var $=M+(o==0?0:4-o),k=O+(Z==0?0:4-Z),E=new Uint8Array($*k*4);
x.TZ(E,4278190080);x.xu(D,new cn(0,0,M,O),E,new cn(0,0,$,k));D=E;M=$;O=k}var t=UTEX.DDS.encode(D.buffer,M,O,b);
if(!1){var c=UTEX.DDS.decode(t)[0],E=new Uint8Array(c.vN),l=0;for(var U=0;U<D.length;U++){var q=D[U]-E[U];
l+=q*q}console.log(l)}return t};ce.A7.sc=function(w){var M=UTEX.DDS.decode(w)[0];return[{fJ:new cn(0,0,M.width,M.height),data:M.image}]};
ce.my={};ce.my.sc=function(w){var M=UTEX.VTF.decode(w).pop();return[{fJ:new cn(0,0,M.width,M.height),data:M.image}]};
ce.mu={};ce.mu.BU=null;ce.mu.a52=function(w,M){var O=ce.mu.BU,b=w.byteLength,D=M.width,o=M.height,Z=D*o,$=5e6+2*b+Z*(M.progressive?Math.max(2,M.numComponents)*4+1:8),k=O.instance.exports;
ce.V0(k,$);var E=new Uint8Array(k.memory.buffer),t=k.malloc(b);E.set(new Uint8Array(w),t);var c=k.malloc(4),l=k.malloc(4),aq=k.malloc(4),q=k.stbi_load_from_memory(t,b,c,l,aq,4);
k.free(t);k.free(c,l,aq);k.free(q);var d=E.slice(q,q+Z*4);return d};(function(){var w=ce.kQ.get("wasm/jpg").buffer;
if(window.WebAssembly==null)window.alert("Your browser is too old (no WebAssembly). Please, update it.");
WebAssembly.instantiate(w).then(function(M){ce.mu.BU=M})}());ce.mu.WV=function(w,M,O,b){if(b==null)b=[85];
var D=w[0],o=new Uint8Array(D[0]);if(x.pl(o)){var Z=new Uint8Array(o.length),$=new cn(0,0,M,O);x.TZ(Z,4294967295);
x.a.DP("norm",o,$,Z,$,$,1);o=Z}var k=new Uint8Array(ce.S_(o.buffer,M,O,"jpeg",b[0]/100));if(D[5]!=null){var E=ce.mu.I9(k)[226][0]+2,t=n.z0(k,E),c=D[5].length+16,l=c-t,q=new Uint8Array(k.length+l);
for(var U=0;U<E+t;U++)q[U]=k[U];for(var U=E+t;U<k.length;U++)q[U+l]=k[U];n.Qv(q,E,c);q.set(D[5],E+16);
k=q}if(D[2]!=null){var d=ce.mu.I9(k)[224][0]+2;d+=9;k[d]=1;n.Qv(k,d+1,D[2]);n.Qv(k,d+3,D[2])}if(D[3]!=null&&b[1]==!0&&Object.keys(D[3]).length!=0){var V=0,L=0,e=0,H=e8.U8(D[3]),j=new Uint8Array(UTIF.encode([H])),g="http://ns.adobe.com/xap/1.0/",E=20;
V=4+6+j.length;var K=e8.anU(D[3]),a=n.qs(K);L=4+g.length+1+a.length;var T=e8.aw0(D[3]);if(T.length!=0){var C=0,N=0;
for(var U=0;U<T.length;U++)C+=5+T[U][1].length;var F=C+(C&1),m=x.$(14+4+4+4+F);n.X8(m,N,"Photoshop 3.0");
N+=14;n.X8(m,N,"8BIM");N+=4;m[N++]=4;m[N++]=4;N+=2;n.oS(m,N,C);N+=4;for(var U=0;U<T.length;U++){var v=T[U],h=v[1];
m[N++]=28;m[N++]=2;m[N++]=v[0];n.Qv(m,N,h.length);N+=2;n.X8(m,N,h);N+=h.length}e=4+m.length}var P=V+L+e,J=new Uint8Array(k.length+P);
for(var U=0;U<20;U++)J[U]=k[U];for(var U=20;U<k.length;U++)J[U+P]=k[U];J[E]=255;J[E+1]=225;n.Qv(J,E+2,V-2);
n.X8(J,E+4,"Exif");for(var U=0;U<j.length;U++)J[E+10+U]=j[U];E+=V;J[E]=255;J[E+1]=225;n.Qv(J,E+2,L-2);
n.X8(J,E+4,g);for(var U=0;U<a.length;U++)J[E+4+g.length+1+U]=a[U];E+=L;if(e!=0){J[E]=255;J[E+1]=237;
n.Qv(J,E+2,e-2);for(var U=0;U<m.length;U++)J[E+4+U]=m[U];E+=e}k=J}return k.buffer};ce.mu.I9=function(w){var M=0,O=[],b=w.length;
while(M<b){while(w[M]!=255&&M<b)M++;while(w[M]==255)M++;var D=w[M];M++;if(O[D]==null)O[D]=[];O[D].push(M-2);
if(D==216)continue;if(D==217)break;if(224<=D&&D<=239||D==218||D==219||D==192||D==193||D==194||D==196||D==221||D==254){var o=n.z0(w,M);
M+=o;if(D==218)while(M<b&&(w[M]!=255||(w[M+1]==0||208<=w[M+1]&&w[M+1]<=215)))M++;continue}console.log("unknown marker ",D.toString(16),M);
break}if(O[217]==null){console.log("EOI marker missing");var Z=w.length-2;w[Z]=255;w[Z+1]=217;O[217]=[Z]}return O};
ce.mu.amT=function(w){w=new Uint8Array(w);if(w[0]!=255)return w.buffer;var M=ce.mu.I9(w),O=ce.mu.DF(w,M);
if(O.numComponents!=4)return w.buffer;var b=O.width,D=O.height,o=ce.mu.Cc(w,M,!0);return ce.mu.WV([[o[0].data]],b,D,[85])};
ce.mu.DF=function(w,M){var O=(M[192]?M[192]:M[193]?M[193]:M[194])[0]+4,b={};b.progressive=M[194]!=null;
b.precision=w[O];O++;b.height=n.z0(w,O);O+=2;b.width=n.z0(w,O);O+=2;b.numComponents=w[O];O++;if(M[224]){var D=b.jfif={};
O=M[224][0]+2+2+5+2;D.densityUnits=w[O];O++;D.xDensity=n.z0(w,O);O+=2;D.yDensity=n.z0(w,O);O+=2}if(M[238]){var D=b.adobe={};
O=M[238][0]+2+2+6;D.version=w[O];O++;D.flags0=n.z0(w,O);O+=2;D.flags1=n.z0(w,O);O+=2;D.transform=w[O];
O++}return b};ce.mu.ac7=function(w,M,O){var b=M,D=n.z0(w,b);b+=2;var o=n.TP(w,b,4);if(o=="Exif"){b+=6;
var Z=w.slice(b,b+D-8),$;try{$=UTIF.decode(Z.buffer,{parseMN:!1,debug:!1})}catch(fr){}if($)O.exif=$}else if(o=="http"){var k=0;
while(w[b+k]!=0)k++;var E=n.TP(w,b,k);b+=k+1;if(E=="http://ns.adobe.com/xmp/extension/"){var t=n.TP(w,b,32);
b+=32;b+=8;var c=M+D-b;while(w[b+c-1]==0)c--;if(O.xmp_extn==null)O.xmp_extn="";try{O.xmp_extn+=n.AL(w,b,c)}catch(fr){}}else if(E=="http://ns.adobe.com/xap/1.0/"){var l=n.AL(w.slice(b,b+D-k-3));
if(l[0]=="?")l="<"+l;O.xmp=l}}else console.log(o)};ce.mu.Cc=function(w,M,O){var b=ce.mu.DF(w,M),D=b.width,o=b.height,Z=D*o,$,k=-1,g=72,K,T,C=null;
if(b.adobe)k=b.adobe.transform;if(O||D*o>15e7||k==0||k==2){var E=new PDFJS.JpegImage;E.parse(w);var t=E.getData({width:D,height:o,forceRGB:!0,isSourcePDF:O}),$=x.$(Z*4);
for(var U=0;U<Z;U++){var c=U<<2,l=c-U;$[c]=t[l];$[c+1]=t[l+1];$[c+2]=t[l+2];$[c+3]=255}}else{$=ce.mu.a52(w.buffer,b)}var q=M[225];
if(q)for(var U=0;U<q.length;U++)ce.mu.ac7(w,q[U]+2,b);var d=M[226];if(d){var V=d[0],L=n.z0(w,V+2),e=n.TP(w,V+4,11);
if(e=="ICC_PROFILE"){var H=n.A(w,V+18);b.icc=w.slice(V+18,V+18+H)}}var j=M[217][0]+2;if(j!=w.length)b.suffix=w.slice(j);
var a=[D,o,1,0,0,0,1,0];if(b.jfif&&b.jfif.densityUnits!=0){g=Math.round([72,1,2.54][b.jfif.densityUnits]*b.jfif.xDensity)}else if(b.exif&&b.exif[0].t282!=null){var F=b.exif[0].t282[0];
g=F[0]/F[1]}if(b.exif){var m=b.exif;K=e8.dx(m[0]);var N=m[0].t274;if(N)N=N[0];if(N!=null&&N>1&&N<20)a=x.raw.HG(N,D,o)}if(b.xmp){K=e8.avS(b.xmp,K)}if(b.icc)T=b.icc;
var v=M[237],h=[],P=[];if(v){var J=new Uint8Array(65536),Y=0,V=0;for(var U=0;U<v.length;U++){V=v[U]+2;
var B=V+n.z0(w,V);V+=2;var S=V;while(w[V]!=0)V++;V++;var r=n.TP(w,S,V-S-1),I=B-V;if(I<0)break;while(Y+I>J.length){var f=new Uint8Array(J.length*2);
f.set(J);J=f}var s=new Uint8Array(w.buffer,V,I);J.set(s,Y);Y+=I}V=0;w=J;while(V<Y){var W=n.TP(w,V,4);
V+=4;var i=n.z0(w,V);V+=2;var u=w[V++],z=n.TP(w,V,u);V+=u;if((u&1)==0)V++;var L=n.A(w,V);V+=4;var j=V+L+(L&1);
if(i==1028){while(V+4<j){var G=w[V++],g_=w[V++],cl=w[V++],p=n.z0(w,V);V+=2;if(G==28&&g_==2)h.push([cl,n.TP(w,V,p)]);
V+=p}}else if(i==1032)C=b7.KE(w,V);else if((i&2e3)==2e3){var b2=dL.V1(w,V,L);P.push([z,b2])}else{}V=j}if(h.length!=0)K=e8.aql(h,K)}var jz=[{fJ:new cn(0,0,D,o),data:$.buffer,Z1:g,At:K,fc:T,Rj:P.length==0?null:P,lX:C}],K=b.xmp_extn;
if(K){var aT=new DOMParser,fZ=aT.parseFromString(K,"image/svg+xml"),fZ=fZ.children[0].children[0].children[0],ft=[fZ.getAttribute("GImage:Data"),fZ.getAttribute("GDepth:Data")];
for(var U=0;U<ft.length;U++)if(ft[U]){var cc=atob(ft[U]),kr=new Uint8Array(cc.length);n.X8(kr,0,cc);
kr=kr.buffer;var hG=ce.S5(kr),hi=ce.ti(hG).sc(kr);jz.push(hi[0])}}if(b.suffix){var bU=b.suffix,ic=n.TP(bU,4,4),iQ=n.Ya(bU,String.fromCharCode(255)+String.fromCharCode(216)+String.fromCharCode(255));
if(ce.Zl(bU,[0,0,1,10,14,0,0,0])){var V=0;while(V!=bU.length){var bx=n.bw(bU,V+2);V+=4;var aR={2272:12,2320:21,2561:13,2625:21,2721:3,2608:0}[bx];
if(aR!=null){var gs=n.Yx(bU,V);V+=4;var k7=n.TP(bU,V,gs);V+=gs;var fT=n.TP(bU,V,aR);V+=aR;if(bx==2608){var aH=n.A(bU,V+24);
V+=aH+24;var e7=n.A(bU,V);V+=e7;alert("Photopea found a "+kh.AE(aH)+" MP4 video inside your image.",4e3)}}else if(bx==18502){while(n.TP(bU,V,4)!="SEFT")V+=4;
V+=4}else{break;console.log(n.sI(bU,V,128));console.log(bU.slice(V));throw bx.toString(16)}}}else if(ic=="ftyp"){alert("Photopea found a "+kh.AE(bU.length)+" MP4 video inside your image.",4e3)}else if(n.TP(bU,0,4)=="fixe"){alert("Unknown data - "+bU.length+" B - at the end of the file",3e3);
var V=4,L=n.Yx(bU,V);V+=4;var dB=n.Yx(bU,V);V+=4;var ia=n.Yx(bU,V);V+=4;console.log(L,dB,ia,bU.slice(V,V+84));
V+=84;var d7=n.TP(bU,V,32);V+=32;V+=8;var d7=n.TP(bU,V,32);V+=32}else if(n.TP(bU,8,13)=="FocusShot_Map"){var hf=n.A(bU,0),p=n.Yx(bU,4),kr=x.$(Z*4),gv=x.$(Z*4);
for(var hN=0;hN<o;hN++)for(var hP=0;hP<D;hP++){var U=hN*D+hP,c=U<<2,gP=8+13+((hN>>>1)*D+hP>>>1),aB=bU[gP],i7=bU[gP+(Z>>>2)];
kr[c]=kr[c+1]=kr[c+2]=aB;kr[c+3]=255;gv[c]=gv[c+1]=gv[c+2]=i7;gv[c+3]=255}jz.push({fJ:new cn(0,0,D,o),data:kr.buffer},{fJ:new cn(0,0,D,o),data:gv.buffer})}else if(ic=="edof"){var N=bU[8+7];
console.log(N.toString(16));var V=8+16,dI=n.bw(bU,V),gh=n.bw(bU,V+2),Z=dI*gh;V+=4;V+=32+16;var b9=x.$(Z*4);
for(var U=0;U<Z;U++){var c=U<<2;b9[c]=b9[c+1]=b9[c+2]=bU[V+U];b9[c+3]=255}if(N==16){}else if(N==19){var ij=b9.slice(0);
x.N.lj(b9,ij,dI,gh);var ax=dI;dI=gh;gh=ax;x.N.xj(ij,b9,dI,gh)}else throw"Unknown orientation of a depth map";
jz.push({fJ:new cn(0,0,dI,gh),data:b9.buffer})}else if(iQ!=-1&&!(bU[0]==255&&bU[1]==129)){try{if(iQ!=0)bU=bU.slice(iQ);
var hi=ce.ti("jpg").sc(bU.buffer);for(var U=0;U<hi.length;U++)jz.push(hi[U])}catch(fr){}}else if(n.TP(bU,0,4)=="PMPD"){var V=4,iX=n.Yx(bU,12),am=n.Yx(bU,16),dI=n.Yx(bU,1060),gh=n.Yx(bU,1064),jf=dI>gh,eJ=jz[0].fJ.e>jz[0].fJ.n,hZ=bU.slice(bU.length-dI*gh-4),hC=x.$(dI*gh);
for(var hN=0;hN<gh;hN++)for(var hP=0;hP<dI;hP++)hC[hN*dI+hP]=hZ[(gh-hN-1)*dI+hP];var ds=x.$(dI*gh*4);
ds.fill(255);x.CA(hC,ds);if(jf!=eJ){var ij=ds.slice(0);x.N.lj(ds,ij,dI,gh);var ax=dI;dI=gh;gh=ax;x.N.xj(ij,ds,dI,gh)}jz.push({fJ:new cn(0,0,dI,gh),data:ds.buffer})}else console.log(n.TP(bU,0,4),bU)}if(jz.length>1){var hV=jz[0].fJ;
jz[0].FS="Main";for(var U=1;U<jz.length;U++){jz[U].FS=ce.mu.akk(new Uint8Array(jz[U].data))?"Depth Map":null;
var bv=jz[U].fJ;if(!bv.M5(hV)){var hl=hV.e/bv.e,jQ=hV.n/bv.n,a$=new f$;a$.scale(hl,jQ);var jB=y.u.yU([new Uint8Array(jz[U].data),bv],1,x.N.iq(a$));
jz[U].fJ=jB.rect;jz[U].data=jB.buffer}}}if(ce.mu.NH==1)if(a[2]!=1||a[6]!=1)for(var U=0;U<jz.length;U++){var jL=jz[U],c1=new Uint8Array(jL.data),D=jL.fJ.e,o=jL.fJ.n,dI=a[0],gh=a[1],$=x.$(dI*gh*4);
x.N.Co(c1,D,o,$,a);jL.fJ=new cn(0,0,dI,gh);jL.data=$.buffer}return jz};ce.mu.akk=function(w){var M=!0;
for(var U=0;U<w.length;U+=4){M=M&&w[U]==w[U+1]&&w[U+1]==w[U+2]}return M};ce.mu.NH=0;ce.mu.sc=function(w,M,O){w=new Uint8Array(w);
if(w[0]==255){var b=ce.mu.I9(w);if(b[195]==null){ce.mu.NH++;var D=ce.mu.Cc(w,b,!1);ce.mu.NH--;return D}var o=n.z0(w,b[195][0]+5),Z=n.z0(w,b[195][0]+7),$=UTIF.LosslessJpegDecode(w),k=Z*o,E=x.$(k*4);
for(var U=0;U<k;U++){var t=U<<2,c=t-U;E[t]=$[c];E[t+1]=$[c+1];E[t+2]=$[c+2];E[t+3]=255}return[{fJ:new cn(0,0,Z,o),data:E.buffer}]}else if(w[0]==0&&w[4]==48&&w[6]==1){var l=w,q=new PDFJS.Jbig2Image,d=[];
if(M)d.push({data:M,start:0,end:M.length});d.push({data:l,start:0,end:l.length});var $=q.parseChunks(d);
if(!O)for(var U=0;U<$.length;U++)$[U]=~$[U];var Z=n.A(w,11),o=n.A(w,15),V=Math.ceil(Z/8),L=x.$(Z*o*4);
for(var e=0;e<o;e++){var H=e*V;for(var j=0;j<Z;j++){var t=(e*Z+j)*4,g=$[H+(j>>>3)]>>>7-(j&7)&1,K=g*255;
L[t]=K;L[t+1]=K;L[t+2]=K;L[t+3]=255}}return[{fJ:new cn(0,0,Z,o),data:L.buffer}]}else{var q=new PDFJS.JpxImage;
q.parse(w);var Z=q.width,o=q.height,a=q.tiles,T=q.componentsCount,C=new Uint8Array(Z*o*4),F=new cn(0,0,Z,o);
for(var q=0;q<a.length;q++){var m=a[q],N=m.width,v=m.height,h=N*v,P=m.items,J=new cn(m.left,m.top,N,v),Y=new Uint8Array(h*4);
if(T==1)for(var U=0;U<h;U++){var B=P[U],t=U*4;Y[t]=B;Y[t+1]=B;Y[t+2]=B;Y[t+3]=255}else if(T==3)for(var U=0;
U<h;U++){var c=U*3,t=U*4;Y[t]=P[c];Y[t+1]=P[c+1];Y[t+2]=P[c+2];Y[t+3]=255}else console.log("Unknown number of components: "+T);
x.xu(Y,J,C,F)}return[{fJ:F,data:C.buffer}]}};ce.EM={};ce.EM.WV=function(w,M,O,b){if(b==null)b=[70,0,0,0];
var D=b[0]/100,k=0;if(w.length==1)return ce.S_(w[0][0],M,O,"webp",D);var o=n.CD,Z=n.DG,$=new id;o($,k,"RIFF    WEBPVP8X");
k+=16;Z($,k,10);k+=4;Z($,k,18);k+=4;Z($,k,M-1);k+=3;Z($,k,O-1);k+=3;o($,k,"ANIM");k+=4;Z($,k,6);k+=4;
$.VN(k,4);$.data[k+3]=255;n.bc($,k+4,b[2]);k+=6;var E=[];for(var U=0;U<w.length;U++){E.push(w[U][0])}var t=UPNG.encode.compress(E,M,O,D==1?0:Math.max(2,Math.floor(D*500)),[!1,!0,!0,0,!0]).frames;
function c(C,F,m,N){var j=C.z-8,g=C.size+8;m.VN(N,g);for(var U=0;U<g;U++)m.data[N+U]=F[j+U];return N+g}for(var U=0;
U<w.length;U++){o($,k,"ANMF");k+=4;var l=k,j=0,g=0;k+=4;var q=t[U],d=q.rect,V=[d.x>>>1,d.y>>>1,d.width-1,d.height-1,w[U][1]];
for(var L=0;L<5;L++)Z($,k+3*L,V[L]);k+=15;$.VN(k,1);$.data[k]=1-q.blend<<1|q.dispose;k++;var e=new Uint8Array(ce.S_(q.img.buffer,d.width,d.height,"webp",1)),H=jN.TC(e.buffer).sub,K={};
for(var a=0;a<H.length;a++)K[H[a].QV]=H[a];if(K.VP8L)k=c(K.VP8L,e,$,k);else throw"e";var T=k-l-4;Z($,l,T);
if((T&1)==1){$.VN(k,1);k++}}Z($,4,k-8);return $.data.slice(0,k).buffer};(function(){var w=ce.kQ.get("wasm/webp").buffer;
WebAssembly.instantiate(w).then(function(M){var O=M.instance.exports;ce.EM.exp=O})}());ce.EM.sc=function(w){var M=new Uint8Array(w),O=ce.EM.ahB,b=null,D=jN.TC(w).sub,o={};
for(var U=0;U<D.length;U++)o[D[U].QV]=D[U];var Z=o.ANIM,$=o.VP8L,k=o["VP8 "],E=o.VP8X;if(Z==null){var t,c;
if(k){t=n.bw(M,k.z+6);c=n.bw(M,k.z+8)}else if($){var l=n.Yx(M,$.z+1);t=(l&(1<<14)-1)+1;c=(l>>>14&(1<<14)-1)+1}else throw"e";
var q=[O(b,w,{z:0,size:M.length},t,c)];return q}var d=E.z,t=1+(n.Yx(M,d+4)&16777215),c=1+(n.Yx(M,d+7)&16777215),V=[],L=new cn(0,0,t,c),e=x.$(t*c*4);
for(var U=0;U<D.length;U++){var H=D[U];if(H.QV!="ANMF")continue;var j=[];for(var g=0;g<5;g++)j.push(n.Yx(M,H.z+g*3)&16777215);
var K=new cn(j[0]*2,j[1]*2,j[2]+1,j[3]+1),a=j[4],T=O(b,w,{z:H.z+16,size:H.size-16},t,c),C=new Uint8Array(T.data),F=M[H.z+15];
if(F>>>1==0)x.a.DP("norm",C,K,e,L,K,1);else x.xu(C,K,e,L);V.push({FS:"_a_"+V.length+","+a,fJ:L.clone(),data:e.buffer.slice(0)});
if((F&1)==1){x.TZ(C,0);x.xu(C,K,e,L)}}return V};ce.EM.ahB=function(w,M,O,b,D){var o=ce.EM.exp,Z=o.memory,$=5e6+2*O.size+b*D*10;
ce.V0(o,$);var k=new Uint8Array(Z.buffer),E=o.malloc(O.size);k.set(new Uint8Array(M,O.z,O.size),E);var t=o.malloc(8),c=o.WebPDecodeARGB(E,O.size,t,t+4),l=n.Yx(k,t),q=n.Yx(k,t+4),d=l*q*4,V=x.$(d);
for(var U=0;U<d;U+=4){V[U]=k[c+U+1];V[U+1]=k[c+U+2];V[U+2]=k[c+U+3];V[U+3]=k[c+U]}o.WebPFree(c);o.free(t);
o.free(E);return{fJ:new cn(0,0,l,q),data:V.buffer}};ce.avJ=function(){function w($,k,E,t){var c=new Uint8Array($[0][0]),l=new Uint32Array(c.buffer),q=[],d={},L=24,e=0,a=0;
for(var U=0;U<l.length;U++){var V=l[U]&16777215;if(d[V]==null){d[V]=q.length;q.push(V);if(q.length>256){q=null;
break}}}if(q){L=1;while(1<<L<q.length)L*=2;if(L==2)L=4}var H={jy:k,e3:E,HM:1,Kg:L,Pv:0,aqA:e},j=4*Math.floor((H.Kg*H.jy+31)/32);
H.size=j*H.e3+2;var g=new id,K=q?(1<<L)*4:0;n.CD(g,a,"BM");a+=2;n.DG(g,a,j*E+16+40+K);a+=4;n.DG(g,a,0);
a+=4;n.DG(g,a,54+K);a+=4;g.VN(a,40);n.DG(g,a,40);a+=4;Z(g.data,a,H,j);a+=36;if(q){g.VN(a,K);var T=g.data;
for(var U=0;U<q.length;U++){var C=a+U*4,F=q[U]>>>16,m=q[U]>>>8&255,N=q[U]&255;T[C]=F;T[C+1]=m;T[C+2]=N}a+=K}g.VN(a,j*E);
if(L==24)for(var v=0;v<E;v++){var h=a+(E-1-v)*j;for(var P=0;P<k;P++){var J=(v*k+P)*4;g.data[h+P*3+2]=c[J];
g.data[h+P*3+1]=c[J+1];g.data[h+P*3+0]=c[J+2]}}else if(L==8)for(var v=0;v<E;v++){var h=a+(E-1-v)*j;for(var P=0;
P<k;P++){var J=v*k+P,Y=d[l[J]&16777215];g.data[h+P]|=Y}}else if(L==4)for(var v=0;v<E;v++){var h=a+(E-1-v)*j;
for(var P=0;P<k;P++){var J=v*k+P,Y=d[l[J]&16777215];g.data[h+(P>>>1)]|=Y<<4-(P&1)*4}}else if(L==1)for(var v=0;
v<E;v++){var h=a+(E-1-v)*j;for(var P=0;P<k;P++){var J=v*k+P,Y=d[l[J]&16777215];g.data[h+(P>>>3)]|=Y<<7-(P&7)}}a+=j*E+2;
return g.data.slice(0,a).buffer}function M($){$=new Uint8Array($);if(n.Yx($,0)==40)return[O($.buffer,0)];
var k=0,E=n.TP($,k,2);k+=2;if(E!="BM"){alert("Unsupported BMP format: "+E);return}var t=n.Yx($,k);k+=4;
k+=4;var c=n.Yx($,k);k+=4;return[O($.buffer,k,c)]}function O($,k,E){$=new Uint8Array($);var t=n.Yx($,k),c=o($,k+4);
if(c.HM!=1)alert("unsupported number of color planes: "+c.HM);if(c.Pv!=0&&c.Pv!=1&&c.Pv!=2&&c.Pv!=3){alert("Unsupported BMP compression: "+c.Pv);
return}k+=t;var l=k,q=$;if(E==null)E=k;if(c.Pv==1||c.Pv==2){var d=D($,E,c);c.Kg=8;$=d;E=0}var V=4*Math.floor((c.Kg*c.jy+31)/32),L=c.jy,e=Math.abs(c.e3),H=new Uint8Array(L*e*4);
H.fill(255);if(c.Kg==32)for(var j=0;j<e;j++){var g=E+(e-1-j)*V;for(var K=0;K<L;K++){var a=(j*L+K)*4;
H[a]=$[g+K*4+2];H[a+1]=$[g+K*4+1];H[a+2]=$[g+K*4+0];H[a+3]=$[g+K*4+3]}}else if(c.Kg==24)for(var j=0;
j<e;j++){var g=E+(e-1-j)*V;for(var K=0;K<L;K++){var a=(j*L+K)*4;H[a]=$[g+K*3+2];H[a+1]=$[g+K*3+1];H[a+2]=$[g+K*3+0]}}else if(c.Kg==16)for(var j=0;
j<e;j++){var g=E+(e-1-j)*V;for(var K=0;K<L;K++){var a=(j*L+K)*4,T=$[g+K*2+1]<<8|$[g+K*2];H[a]=(T>>>11)*(255/31);
H[a+1]=(T>>>5&63)*(255/63);H[a+2]=(T&31)*(255/31)}}else if(c.Kg==8)for(var j=0;j<e;j++){var g=E+(e-1-j)*V;
for(var K=0;K<L;K++){var a=(j*L+K)*4,C=$[g+K];H[a]=q[l+4*C+2];H[a+1]=q[l+4*C+1];H[a+2]=q[l+4*C+0]}}else if(c.Kg==4)for(var j=0;
j<e;j++){var g=E+(e-1-j)*V;for(var K=0;K<L;K++){var a=(j*L+K)*4,C=$[g+(K>>1)];C=C>>4-4*(K&1);C=C&15;
H[a]=q[l+4*C+2];H[a+1]=q[l+4*C+1];H[a+2]=q[l+4*C+0]}}else if(c.Kg==1)for(var j=0;j<e;j++){var g=E+(e-1-j)*V;
for(var K=0;K<L;K++){var a=(j*L+K)*4,F=$[g+(K>>3)];F=F>>7-(K&7);F=F&1;H[a]=q[l+4*F+2];H[a+1]=q[l+4*F+1];
H[a+2]=q[l+4*F+0]}}else throw"Unknown bit depth "+c.Kg;if(c.e3<0){var m=new Uint32Array(H.buffer),N=e>>>1;
for(var j=0;j<N;j++){var v=j*L,h=(e-j-1)*L;for(var K=0;K<L;K++){var P=m[v+K];m[v+K]=m[h+K];m[h+K]=P}}}return{fJ:new cn(0,0,L,e),data:H.buffer}}function b($,U){return $>>>4-((U&1)<<2)&15}function D($,k,E){var t=E.jy,c=Math.abs(E.e3),l=new Uint8Array(t*c),q=0,d=0,U=0;
while(d<c){var V=$[k++],L=$[k++],e=d*t+q;if(V>0){if(E.Kg==4)for(U=0;U<V;U++){l[e+U]=b(L,U)}else for(U=0;
U<V;U++){l[e+U]=L}q+=V}else if(V==0&&L==0){d++;q=0}else if(V==0&&L==1){break}else if(V==0&&L==2){q+=$[k++];
d+=$[k++]}else{var H=L;if(E.Kg==4){for(U=0;U<L;U++){l[e+U]=b($[k+(U>>>1)],U)}H=Math.ceil(L/2)}else{for(U=0;
U<L;U++){l[e+U]=$[k+U]}}if((H&1)!=0)H++;k+=H;q+=L}}return l}function o($,k){var E=n.Hx,t=n.Yx,c=n.bw,l={};
l.jy=E($,k);k+=4;l.e3=E($,k);k+=4;l.HM=c($,k);k+=2;l.Kg=c($,k);k+=2;l.Pv=t($,k);k+=4;l.size=t($,k);k+=4;
var q=E($,k);k+=4;var d=E($,k);k+=4;l.aqA=t($,k);k+=4;k+=4;return l}function Z($,k,E,t){n.E3($,k,E.jy);
k+=4;n.E3($,k,E.e3);k+=4;n.vE($,k,E.HM);k+=2;n.vE($,k,E.Kg);k+=2;n.E3($,k,E.Pv);k+=4;n.E3($,k,E.size);
k+=4;n.E3($,k,2834);k+=4;n.E3($,k,2834);k+=4;n.E3($,k,E.aqA);k+=4;k+=4}return{sc:M,WV:w,ak8:O}}();ce.FY={};
ce.FY.WV=function(w,M,O,b){if(b==null)b=[100,!1,0,0,0,0];var D=[],o=[],Z=M*O*4,V=null;for(var $=0;$<w.length;
$++){var k=new Uint8Array(w[$][0].slice(0));for(var U=0;U<Z;U+=4){var E=k[U+3]=k[U+3]>127?255:0;if(E==0)k[U]=k[U+1]=k[U+2]=0}D.push(k.buffer);
o.push(w[$][1])}var t=Math.round(2+254*b[0]/100),c=UPNG.encode.compress(D,M,O,t,[!0,!1,!1,8,!1,b[1]]),l=c.plte,q=new Uint8Array(4),d=new Uint32Array(q.buffer);
for(var U=0;U<l.length;U++){d[0]=l[U];var L=q[0];q[0]=q[2];q[2]=L;l[U]=d[0];if(d[0]==0)V=U}while(l.length<256)l.push(0);
var e=new Uint8Array(1e4+M*O*w.length),H=b[3],j={palette:l};if(H!=1)j.loop=H==0?0:H-1;var g=new GifWriter(e,M,O,j);
for(var U=0;U<w.length;U++){var K=c.frames[U],a=K.rect,T=K.blend,C=K.dispose,F=Math.round(o[U]/10);if(F<2)F=2;
g.addFrame(a.x,a.y,a.width,a.height,K.img,{transparent:V,disposal:C+1,delay:F})}return e.slice(0,g.end()).buffer};
ce.FY.sc=function(w){var M=Date.now(),O=[],b=UGIF.decode(w),D=UGIF.toRGBA8(b),o=new cn(0,0,b.width,b.height);
for(var U=0;U<D.length;U++){var Z=b.frames[U];O.push({fJ:o.clone(),FS:"_a_frm"+U+","+Z.delay*10,data:D[U]})}return O};
ce.AZ={};ce.AZ.WV=function(w,M,O,b){console.log(w);if(M>256||O>256){alert("Maximum ICO size is 256x256 px. Will be cropped.",4e3);
var D=Math.min(M,256),o=Math.min(O,256),Z=new cn(0,0,D,o),$=x.$(Z.v()*4),k=new cn(0,0,M,O),E=new Uint8Array(w[0][0]);
x.xu(E,k,$,Z);w[0][0]=$.buffer;M=D;O=o}var t=new id,c=0,l=b&&b[0]==!0;n.bc(t,c,0);c+=2;n.bc(t,c,l?2:1);
c+=2;n.bc(t,c,1);c+=2;var q=new Uint8Array(ce.ti("png").WV(w,M,O));t.VN(c,16);t.data[c]=M==256?0:M;c++;
t.data[c]=O==256?0:O;c++;c+=2;n.bc(t,c,l?Math.round(M/2):1);c+=2;n.bc(t,c,l?Math.round(O/2):32);c+=2;
n.DG(t,c,q.length);c+=4;n.DG(t,c,6+16);c+=4;t.VN(c,q.length);for(var U=0;U<q.length;U++)t.data[c+U]=q[U];
c+=q.length;var d=new Uint8Array(c);for(var U=0;U<c;U++)d[U]=t.data[U];return d.buffer};ce.AZ.sc=function(w){w=new Uint8Array(w);
var M=4,O=n.bw(w,M);M+=2;var b=[];for(var U=0;U<O;U++){var D=ce.AZ.amR(w,M+U*16),o=w.buffer.slice(D.offset,D.offset+D.size),Z=ce.S5(o);
Z=Z?Z:"bmp";if(Z=="png"){var $=ce.ti(Z),k=$.sc(o);D.DO=k[0]}else{var E=ce.ti("BMP").ak8(o,0),o=x.$(D.jy*D.e3*4);
x.xu(new Uint8Array(E.data),new cn(0,0,E.fJ.e,E.fJ.n),o,new cn(0,D.e3,D.jy,D.e3));E.data=o.buffer;E.fJ.n=D.e3;
D.DO=E}b.push(D)}b.sort(function(t,c){if(t.jy!=c.jy)return t.jy-c.jy;return t.acy-c.acy});return[b.pop().DO]};
ce.AZ.amR=function(w,M){var O={};O.jy=w[M];M++;if(O.jy==0)O.jy=256;O.e3=w[M];M++;if(O.e3==0)O.e3=256;
O.a5B=w[M];M++;M++;O.adA=n.bw(w,M);M+=2;O.acy=n.bw(w,M);M+=2;O.size=n.Yx(w,M);M+=4;O.offset=n.Yx(w,M);
M+=4;return O};ce.gB={};ce.gB.sc=function(w){var M=Date.now(),b,a=!0;if(x.raw.wG(w.byteLength))return[x.raw.awQ(w)];
var O=UTIF.decode(w);if(O[0].t33421)b=O[0];else if(O[0].subIFD&&O[0].t271&&O[0].t271[0]=="Hasselblad"){b=O[0].subIFD[0];
b.t33421=[2,2]}else if(O[0].subIFD&&O[0].subIFD[0].t33421){b=O[0].subIFD[0];if(b.t50706==null){if(b.t258[0]==8)b.t258[0]=12}}else if(O[0].subIFD&&O[0].subIFD[0]&&O[0].subIFD[0].t262&&O[0].subIFD[0].t262[0]==34892)b=O[0].subIFD[0];
else if(O[0].subIFD&&O[0].subIFD[1]&&O[0].subIFD[1].t33421)b=O[0].subIFD[1];else if(O[0].subIFD&&O[0].subIFD[2]&&O[0].subIFD[2].t33421)b=O[0].subIFD[2];
else if(O[3]&&O[3].t50648){var D=O[0].exifIFD,o=D.makerNote;b=O[3];var Z=o.t224[1],$=o.t224[2];b.t256=[Z];
b.t257=[$];b.t258=[16];b.t259=[7];b.t262=[32803];b.t277=[1];b.t33421=[2,2];var k=b.t50656[0],E=x.raw.Fk[k];
if(E==null)throw"e";b.t33422=E}else if(O[0].t1&&O[0].t1.length==4){var t=O[0],c={2:256,3:257,8:277,11:259,271:271,272:272,279:279,280:273,278:278};
b={};for(var l in c)if(t["t"+l])b["t"+c[l]]=t["t"+l];b.t2=t.t2;b.t3=t.t3;b.t10=t.t10;b.t45=t.t45;b.t258=[16];
b.t33421=[2,2];var q=t.t9[0];b.t33422=[[0,1,1,2],[1,0,2,1],[1,2,0,1],[2,1,1,0]][q-1];var d=t.t4[0],V=t.t5[0],L=t.t6[0],e=t.t7[0];
b.t50829=[d,V,L,e];var H=t.t36[0],j=t.t37[0],g=t.t38[0];b.t50728=[j/H,j/j,j/g]}if(b){UTIF.decodeImage(w,b,O);
for(var K in O[0])if((K[0]=="t"||K[0]=="e"||K[0]=="d")&&b[K]==null)b[K]=O[0][K];b.J2=O[0].t274?O[0].t274[0]:1;
return[b]}var T=1/256;for(var U=0;U<O.length;U++)if(O[U].t258&&O[U].t258[0]==16&&O[U].t277&&O[U].t277[0]==1){}else a=!1;
if(a){var C=0,F=0,m=0;for(var U=0;U<O.length;U++){UTIF.decodeImage(w,O[U],O);var N=O[U].data;for(var v=0;
v<N.length;v+=2){var h=N[v+1]<<8|N[v];if(h>C)C=h;F+=h;m++}}T=1/256*65535/(.5*C+.5*(2*F/m))}var P=[];
for(var U=0;U<O.length;U++){var J=O[U],Y=72;UTIF.decodeImage(w,J,O);var B=J.t282,S=J.t296;if(B!=null&&S!=null){Y=B[0][0]/B[0][1];
if(S[0]==3)Y=Math.round(Y/2.54)}if(J.width==null)continue;var r=UTIF.toRGBA8(J,T).buffer,I=e8.dx(J);
console.log(J);P.push({fJ:new cn(0,0,J.width,J.height),data:r,Z1:Y,At:I,fc:J.t34675?J.t34675.slice(0):null})}return P};
ce.gB.WV=function(w,M,O,b){if(b==null)b=[!1];var D={},o=w[0];if(o[3]!=null&&b[0])D=e8.U8(o[3]);if(o[2]!=null){D.t282=D.t283=[[Math.round(o[2]),1]];
D.t296=[2]}return UTIF.encodeImage(o[0],M,O,D)};ce.Ko={};ce.Ko.wZ=!0;ce.Ko.sc=function(w,M){b7.TC(w,M)};
ce.Ko.axT=function(w,M,O,b){if(b==null)b=[!1,!1,!1,!1];if(!b[0])w.Hp();var D=new id,o=b7.c5(w,D,b);return[D.data.buffer,o]};
ce.Ko.WV=function(w,M,O,b){var D=ce.Ko.axT(w,M,O,b),o=D[0],Z=D[1];return o.byteLength==Z?o:o.slice(0,Z)};
ce.eb={};ce.eb.wZ=!0;ce.eb.sc=function(w,M){var O=pako.inflate(new Uint8Array(w)),b=n.z0(O,0),D=n.z0(O,2),o=4;
M.e=n.A(O,o);o+=4;M.n=n.A(O,o);o+=4;M.buffer=x.$(M.e*M.n*4);var Z=n.z0(O,o);o+=2;o+=4;for(var $=0;$<Z;
$++){var k=M.uV(),d=0,Y=1,B=2,S=3,r=0;M.B.push(k);var E=n.A(O,o);o+=4;var t=o,c=n.z0(O,t);t+=2;var l=n.AL(O,t,c);
t+=c;k.EJ(l);var q=O[t];t++;if(q!=0&&q!=1)throw q;k.rect.x=n.$g(O,t);t+=4;k.rect.y=n.$g(O,t);t+=4;k.rect.e=n.A(O,t);
t+=4;k.rect.n=n.A(O,t);t+=4;if(b>3){d=n.$g(O,t);t+=4}k.opacity=Math.round(255*O[t]/100);t++;var V=O[t];
t++;k.ah(V!=0);k.eI="norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[O[t]];
t++;var L=O[t];t++;if(L)k.add.lspf=1<<31;if(b>3){var e=n.z0(O,t);t+=2;if(e!=0){var H=JSON.parse(n.AL(O,t,e));
t+=e;var j=H.text,g=H.textSettings,K=g.font,a=g.size,T=g.padding,C=parseInt(g.color.slice(1),16);k.add.lnsr="rend";
k.add.TySh=ah.Wm(0,0);k.add.TySh.AY=new cn(0,0,100,100);var F=k.add.TySh.F=new f$,m=k.rect.e/2,N=k.rect.n/2;
F.translate(-m,-N);F.rotate(-d*Math.PI/180);F.translate(m,N);F.translate(k.rect.x+T,k.rect.y+T);var v=k.add.TySh.GM;
ah.EC(v,1);ah.h4(v,[0,0,k.rect.e-T*2,k.rect.n]);ah.nD(v,0,j);var h=ah._J(v,0,1);h.Qc.FontSize=a;h.Qc.FillColor={Type:1,Values:[1,(C>>>16&255)/255,(C>>>8&255)/255,(C>>>0&255)/255]};
if(g.bold)K+="-Bold";ah.Lh(h,K);h.xy.Justification=["left","right","center"].indexOf(g.align);ah.j_(v,0,j.length,h)}}var P=n.A(O,t);
t+=4;if(P!=k.rect.v()*4){for(var U=k.rect.e;U>k.rect.e/2;U--){var J=P/(U*4);if(J==Math.round(J)){k.rect.e=U;
k.rect.n=J;break}}}k.buffer=x.$(k.rect.v()*4);if(b>3){Y=0;B=1;S=2;r=3}for(var U=0;U<P;U+=4){k.buffer[U]=O[t+U+Y];
k.buffer[U+1]=O[t+U+B];k.buffer[U+2]=O[t+U+S];k.buffer[U+3]=O[t+U+r]}t+=P;var I=n.A(O,t);t+=4;if(I==0&&b>3){o+=E;
continue}var f=O[t];t++;var s=n.z0(O,t);t+=2;if(I!=0){k.D=new Q.MX;k.D.rect=k.rect.clone();k.D.channel=x.$(k.rect.v());
for(var U=0;U<I;U+=4)k.D.channel[U>>>2]=O[t+U+1];t+=I}if(f!=0){var W=JSON.parse(aN.default);k.add.lmfx=W;
for(var U=0;U<aN.order.length;U++)W[aN.IU[U]]={t:"VlLs",v:[]};var i={"102":9,"101":2,"103":0,"104":3,"105":8};
for(var U=0;U<f;U++){var u=n.z0(O,t),z=t+u+4,G=O.slice(t,z),g_=O[t+2];t+=3;var cl=i[g_+""],p=JSON.parse(aN.hx[cl]);
W[aN.IU[cl]].v.push({t:"Objc",v:p});if(cl!=0){p.Md.v.BlnM=gA.VK("norm");p.Opct.v.val=O[t];t++;if(cl==9||cl==2){p.Dstn.v.val=O[t+1];
t+=2}else t+=2;p.blur.v.val=Math.round(O[t]*1.2);t++;if(cl==9||cl==2){p.uglg.v=!1;p.lagl.v.val=180-n.z0(O,t);
t+=2}p.Clr.v=x.M.jk({o:O[t+1],w:O[t+2],L:O[t+3]})}else{p.hglM.v.BlnM=p.sdwM.v.BlnM=gA.VK("norm");t+=2;
var b2=O[t++],jz=O[t++];p.blur.v.val=Math.round(Math.sqrt(jz*b2)*1.3);p.srgR.v.val=Math.round(100*b2/jz);
p.uglg.v=!1;p.lagl.v.val=180-n.z0(O,t);t+=2;p.hglO.v.val=O[t++];p.hglC.v=x.M.jk({o:O[t+1],w:O[t+2],L:O[t+3]});
t+=4;p.sdwO.v.val=O[t++];p.sdwC.v=x.M.jk({o:O[t+1],w:O[t+2],L:O[t+3]});t+=4}t=z}}if(t-o<E){var aT=n.A(O,t),cc=0;
t+=4;t++;var c=n.z0(O,t);t+=2;var j=n.AL(O,t,c);t+=c;j=j.replace(/\r/g,"\n");var c=n.z0(O,t);t+=2;var K=n.AL(O,t,c);
t+=c;var a=n.z0(O,t);t+=2;var fZ=k.rect.x,ft=k.rect.e;if(aT&4)cc=1;if(aT&2)cc=2;var kr=Math.round(a*.4);
if(cc==0||cc==2)ft+=kr;if(cc==1||cc==2){ft+=kr;fZ-=kr}k.add.lnsr="rend";k.add.TySh=ah.Wm(0,0);k.add.TySh.AY=new cn(0,0,100,100);
k.add.TySh.F=new f$(1,0,0,1,fZ,k.rect.y+a*.25);var v=k.add.TySh.GM;ah.EC(v,1);ah.h4(v,[0,0,ft,k.rect.n]);
ah.nD(v,0,j);var h=ah._J(v,0,1);h.Qc.FontSize=a;h.Qc.FillColor={Type:1,Values:[1,O[t+1]/255,O[t+2]/255,O[t+3]/255]};
t+=4;if(O[t+5])K+="-Bold";if(O[t+6])K+="-Italic";ah.Lh(h,K);h.xy.Justification=cc;t+=8;ah.j_(v,0,j.length,h)}o+=E}};
ce.pk={};ce.pk.wZ=!0;ce.pk.sc=function(w,M){em.TC(w,M)};var em=function(){function w(c,l){var q=Date.now(),d=UZIP.parse(c);
console.log(d);console.log(Date.now()-q);q=Date.now();var V=d["maindoc.xml"],L=new DOMParser,e=L.parseFromString(n.AL(V),"image/svg+xml").children[0].children[0],H=e.getAttribute("name"),j=l.e=E(e,"width"),g=l.n=E(e,"height");
l.Z1=Math.round(E(e,"x-res"));var K=e.children[0].children;M(K,l,{vp:H,KC:d,r3:null});console.log(Date.now()-q);
q=Date.now()}function M(c,l,q){for(var d=0;d<c.length;d++){var V=c[c.length-1-d],L=V.getAttribute("nodetype");
if(L=="transparencymask"){q.r3.D=t(V,q);continue}var e=V.getAttribute("compositeop"),H=V.getAttribute("filename"),j=V.getAttribute("channelflags"),g=V.children;
g=g.length==0?null:g[0].children;var K=l.uV();if(L=="paintlayer"){var a=E(V,"x"),T=E(V,"y"),C=q.KC[q.vp+"/layers/"+H+".defaultpixel"],F=q.KC[q.vp+"/layers/"+H],m=k(F);
K.rect=m[0];K.rect.offset(a,T);K.buffer=m[1];if(K.rect.S9()&&C.join()!="0,0,0,0"){K.add.SoCo={classID:"null",Clr:{t:"Objc",v:x.M.jk({o:C[0],w:C[1],L:C[2]})}};
K.h1(l)}}else if(L=="grouplayer"){K.add.lsct=ht.cx;K.eI="pass";K.N7|=24;l.B.push(l.iB());var N=q.r3;
q.r3=K;M(g,l,q);q.r3=N}else if(L=="shapelayer"){var F=q.KC[q.vp+"/layers/"+H+".shapelayer/content.svg"],v=n.AL(F),h=l.Xu(F,K.getName(),0,0);
K=h;var P=new cn(0,0,l.e,l.n),J=x.p.zl(P).C;K.add.SoLd.Trnf=y.u.KT(J);K.add.SoLd.nonAffineTransform=y.u.KT(J);
K.Gf(l,!1)}else if(L=="clonelayer"){var U=-1;for(var Y=0;Y<c.length;Y++)if(c[Y].getAttribute("name")==V.getAttribute("clonefrom"))U=Y;
if(U!=-1){M([c[U]],l,q);K=l.B.pop()}}else console.log(L,V);K.EJ(V.getAttribute("name"));if(E(V,"locked")==1)K.add.lspf=1<<31;
K.ah(E(V,"visible")==1);var B={normal:"norm",multiply:"mul ",diff:"diff",hard_light:"hLit"}[e];if(B)K.eI=B;
else console.log(e);K.opacity=E(V,"opacity");if(j=="1110")K.fG=!0;var S=g?g[0]:null;if(S&&S.tagName=="mask")K.D=t(S,q);
l.B.push(K)}}function O(c,l){var q=0,d=0,V=c.length,L,e,H;while(q<V){L=c[q++];if(L>31){e=L>>>5;if(e==7)e=7+c[q++];
H=(L&31)<<8|c[q++];var j=d-H-1,g=e>>>1;l[d++]=l[j++];l[d++]=l[j++];for(var U=0;U<g;U++){l[d++]=l[j++];
l[d++]=l[j++]}if((e&1)==1)l[d++]=l[j++]}else{for(var U=0;U<=L;U++){l[d++]=c[q++]}}}}function b(c,l){var q=0;
while(c[l+q]!=10)q++;return n.TP(c,l,q)}var D=new cn(0,0,64,64),o=new Uint8Array(64*64*4),Z=new Uint8Array(64*64*4);
function $(){for(var U=0;U<4096;U++){var c=U<<2;o[c+0]=Z[U+8192];o[c+1]=Z[U+4096];o[c+2]=Z[U];o[c+3]=Z[U+12288]}}function k(c){var l=0,q={};
for(var U=0;U<5;U++){var d=b(c,l);l+=d.length+1;d=d.split(" ");q[d[0]]=parseInt(d[1])}var V=q.PIXELSIZE,L=[],e=new cn;
while(l<c.length){var d=b(c,l),H=d.split(",");l+=d.length+1;if(H[2]!="LZF")throw H[2];D.x=parseInt(H[0]);
D.y=parseInt(H[1]);e=e.MK(D);var j=parseInt(H[3]);L.push([D.clone(),new Uint8Array(c.buffer,l+1,j-1)]);
l+=j}var g=x.$(e.v()*V);for(var U=0;U<L.length;U++){var K=L[U];O(K[1],Z);if(V==4){$();x.xu(o,K[0],g,e)}else x.CV(Z,K[0],g,e)}return[e,g]}function E(c,l){return parseInt(c.getAttribute(l))}function t(c,l){var q=c.getAttribute("filename"),d=l.KC[l.vp+"/layers/"+q+".pixelselection"],V=k(d),L=new Q.MX;
L.t6=E(c,"visible")==1;L.rect=V[0];L.channel=V[1];return L}return{TC:w}}();ce.GT={};ce.GT.wZ=!0;ce.GT.sc=function(w,M){gi.TC(w,M)};
ce.Uj={};ce.Uj.wZ=!0;ce.Uj.sc=function(w,M){dR.TC(w,M)};ce.JG={};ce.JG.wZ=!0;ce.JG.sc=function(w,M){fj.TC(w,M)};
ce.qR={};ce.qR.wZ=!0;ce.qR.sc=function(w,M){iN.TC(w,M)};ce.es={};ce.es.wZ=!0;ce.es.sc=function(w,M){gX.TC(w,M)};
ce.Nr={};ce.Nr.wZ=!0;ce.Nr.sc=function(w,M){dl.TC(w,M)};ce._A={};ce._A.wZ=!0;ce._A.WV=function(w,M,O,b,D){if(b==null)b=[!0,!1,!1,!1,!0];
var o=f0.qf(w,{Cv:b[0],hidden:b[1],axa:b[2],akE:b[3],J8:b[4],av$:M,a5z:O},D.Yv);return o};ce._A.sc=function(w,M,O){f0.TC(w,M,O)};
ce.mQ={};ce.mQ.wZ=!0;ce.mQ.sc=function(w,M){var O=150,b=new f$(1,0,0,-1,0,0);b.scale(O/72,O/72);M.Z1=O;
var D=new aJ(M,b,!0);FromPS.Parse(w,D)};ce.Yw={};ce.Yw.wZ=!0;ce.Yw.WV=function(w,M,O,b,D){if(b==null)b=["",100,!1,!1,!1,0];
b[6]=["jpg"];var o=new ToPDF;iI.qf(w,b,o,D.Yv,M,O);return o.buffer};ce.Yw.sc=function(w,M,O){var b=2;
while(!0){var D=b*72,o=new f$(1,0,0,-1,0,0);o.scale(D/72,D/72);M.Z1=D;var Z=new aJ(M,o,!0);FromPDF.Parse(w,Z);
var $=Math.max(M.e,M.n);if(O&&$<Math.max(O[0],O[1])){M.B=[];var k=b;while($*(b/k)<Math.max(O[0],O[1]))b++}else break}};
ce.$O={};ce.$O.wZ=!0;ce.$O.sc=function(w,M){var O=72,b=new f$(1,0,0,1,0,0);b.scale(O/72,O/72);M.Z1=O;
var D=new aJ(M,b,!1);FromWMF.Parse(w,D)};ce.GO={};ce.GO.b2=!0;ce.GO.wZ=!0;ce.GO.WV=function(w,M,O,b,D){if(b==null)b=["",100,!1,!1,!1,0];
b[6]=[];var o=new ToEMF;iI.qf(w,b,o,D.Yv);return o.buffer};ce.GO.sc=function(w,M){var O=72,b=new f$(1,0,0,1,0,0);
b.scale(O/72,O/72);M.Z1=O;var D=new aJ(M,b,!1);FromEMF.Parse(w,D)};ce.S0={};ce.S0.wZ=!0;ce.S0.sc=function(w,M){return eA.TC(w,M)};
ce.LY={};ce.LY.sc=function(w,M){var O=aS.TC(w),b=new Uint8Array(w),D=0,o,Z,$,k,E,t,c,l,q=0,d=0,V=0,L=0,e=0;
for(var H=0;H<O.sub.length;H++){var j=O.sub[H],D=j.z;if(j.QV=="BMHD"){var g=[];for(var U=0;U<4;U++)g[U]=n.z0(b,D+2*U);
D+=8;k=g[2];E=g[3];Z=g[0];$=g[1];o=x.$(Z*$*4);t=b[D++];c=b[D++];l=b[D++]}else if(j.QV=="CMAP")q=D;else if(j.QV=="CAMG"){var K=n.A(b,D);
d=K&32768,V=K&4,L=K&2048;e=K&128}else if(j.QV=="BODY"){var a=Z+15>>>4<<1,T=t+c,C=x.$(a*$*T),v,h,P;dw.dT(b,D,j.size,C,0,C.length);
var F=t-2,m=(1<<F)-1,N=Math.round(255/m);for(var E=0;E<$;E++)for(var k=0;k<Z;k++){var J=0;for(var Y=0;
Y<T;Y++){var B=(E*T+Y)*a*8+k,S=C[B>>>3]>>>7-(B&7)&1;J|=S<<Y}var r=J>>>t,J=J&(1<<t)-1,U=E*Z+k,I=U<<2;
if(q!=0){if(L!=0&&J>>>F!=0){var f=J>>>F,s=(J&m)*N;if(f==1)P=s;else if(f==2)v=s;else if(f==3)h=s}else{var s=q+J*3;
v=b[s+0];h=b[s+1];P=b[s+2]}}else{v=J>>>0&255;h=J>>>8&255;P=J>>>16&255}o[I+0]=v;o[I+1]=h;o[I+2]=P;o[I+3]=255}}}return[{fJ:new cn(0,0,Z,$),data:o.buffer}]};
ce.qw={};ce.qw.wZ=!1;ce.qw.WV=function(w,M,O,b){var D=w[0][4],o=new Uint8Array(w[0][0]),Z=2,$=D?!0:!1,k=$?4:3,E=new Uint8Array(M*O*k);
for(var t=0;t<O;t++)for(var c=0;c<M;c++){var l=t*M+c<<2,q=((O-t-1)*M+c)*k;E[q]=o[l+2];E[q+1]=o[l+1];
E[q+2]=o[l+0];if($)E[q+3]=D[0][t*M+c]}if(!0){var d=E.length,V=0,L=new Uint8Array(d*2),e=0,H=0,j=M*k;
while(H<d){var g=H,K=0,a=j*(Math.floor(H/j)+1);while(g<a&&K<128){var T=!0;for(var U=0;U<k;U++)T=T&E[H+U]==E[g+U];
if(!T)break;g+=k;K++}if(K==1){var C=1;while(C<128&&H+(C+1)*k<a){var T=!0,F=H+C*k;for(var U=0;U<k;U++)T=T&E[F+U]==E[F+k+U];
if(T)break;C++}L[e++]=C-1;for(var m=0;m<C;m++)for(var U=0;U<k;U++)L[e++]=E[H++]}else{L[e++]=127+K;for(var U=0;
U<k;U++)L[e+U]=E[H+U];e+=k;H+=k*K;V+=K}}E=L.slice(0,e);Z+=8}var N=new Uint8Array(18+E.length+26);N[2]=Z;
n.vE(N,12,M);n.vE(N,14,O);N[16]=k*8;N[17]=k==4?8:0;N.set(E,18);n.X8(N,18+E.length+8,"TRUEVISION-XFILE.");
return N.buffer};ce.qw.sc=function(w){var M=new Uint8Array(w),O=0,b=M[0],D=M[1],o=M[2],Z=M[4]*256+M[3],$=M[6]*256+M[5],k=M[7],E=M[9]*256+M[8],t=M[11]*256+M[10],c=M[13]*256+M[12],l=M[15]*256+M[14],q=M[16],d=M[17],V=d>>>4,L=n.TP(M,18,b),e=x.$(c*l*4),O=18+b+($*k>>>3),H=new Uint8Array(M.buffer,O);
if(o>3){var j=0,g=M,K=new Uint8Array(c*l*q>>>3),a=O,T=0,C=M.length,F=q>>>3;while(T<K.length){var aq=g[a];
a++;if(aq<128)for(var U=0;U<aq+1;U++){for(var m=0;m<F;m++){K[T]=g[a];T++;a++}}else{for(var U=0;U<aq-127;
U++){for(var m=0;m<F;m++){K[T]=g[a+m];T++}}a+=F}}o-=8;H=K;O=a}else O+=c*l*q>>>3;var N=new Uint8Array(4),v=ce.qw.aix;
for(var h=0;h<l;h++)for(var P=0;P<c;P++){var J=(V&2)==0?(l-h-1)*c+P:h*c+P,Y=h*c+P,B,S,r,I=255,f=J*q>>>3;
if(o==1){var s=0;if(q==8)s=H[f];else throw"e";v(M,18+b+Z+(s*k>>>3),k,N);B=N[0];S=N[1];r=N[2];I=N[3]}else if(o==2){v(H,f,q,N);
B=N[0];S=N[1];r=N[2];I=N[3]}else if(o==3){if(q==8)B=S=r=H[f];else throw"e"}var W=Y*4;e[W]=B;e[W+1]=S;
e[W+2]=r;e[W+3]=I}var N={fJ:new cn(0,0,c,l),data:e.buffer,FS:L};if(x.pl(e)){var i=x.$(c*l);x.Oj(e,i,3);
x.TZ(e,4278190080,16777215);N.SN=[i]}return[N]};ce.qw.aix=function(w,M,O,b){var D,o,Z,$=255;if(O==24||O==32){Z=w[M];
o=w[M+1];D=w[M+2];if(O==32)$=w[M+3]}else if(O==16){var k=w[M+1]<<8|w[M+0];D=k>>>10&31;o=k>>>5&31;Z=k>>>0&31;
D=Math.round(D*(255/31));o=Math.round(o*(255/31));Z=Math.round(Z*(255/31))}else throw"e";b[0]=D;b[1]=o;
b[2]=Z;b[3]=$};ce.alQ=function(){var w,M=[],O=!1;function b(Z,$,k,E){w=k;M.push(Z,E);D()}function D(){if(O||M.length==0)return;
O=!0;ce.acI(M.shift(),"image/avif",o)}function o(Z){w(null,[Z],M.shift());O=!1;D()}return{wZ:!1,f3:!0,sc:b}}();
ce.aeS=function(){var w,M=[],O=!1,b,D,o,Z,$,k,E=10,t=0;function c(L,e,H,j,g){w=H;M.push(L,j);var K=new aX(A.E.Z,!0);
K.data={d:A.t.JE,IP:"setFPS",hR:E,Wz:l};g.l(K)}function l(L){E=Math.max(1,Math.min(60,L));q()}function q(){if(O||M.length==0)return;
O=!0;b=document.createElement("canvas");D=b.getContext("2d");o=document.createElement("video");var L="data:"+"video/mp4"+";base64,"+ce.gf(M.shift());
o.src=L;o.muted=!0;o.currentTime=0;o.addEventListener("canplay",d,!1);o.addEventListener("timeupdate",V,!1)}function d(L){o.removeEventListener("canplay",d);
Z=b.width=o.videoWidth;$=b.height=o.videoHeight;k=[];o.play()}function V(L){clearTimeout(t);D.drawImage(o,0,0);
k.push({FS:"_a_"+k.length+","+Math.round(1e3/E),fJ:new cn(0,0,Z,$),data:D.getImageData(0,0,Z,$).data.buffer});
var e=o.currentTime+1/E;if(e<o.duration&&L){o.currentTime=e;t=setTimeout(V,1e3)}else{w(null,k,M.shift());
o.removeEventListener("timeupdate",V);O=!1;q();k=null}}return{wZ:!1,f3:!0,sc:c}}();ce.uI={};ce.uI.sc=function(w){var M=new Uint8Array(w),O=0,b=112,D=42,o=n.Yx,t;
O+=8;var Z=M[O];O++;if(Z!=D)throw"e";var $=o(M,O);O+=4;var k=n.eS(M,O,$);O+=$*2;var E=[];while(O<M.length){t=o(M,O);
O+=4;if(t!=b)throw t;O+=4;t=M[O];O++;if(t!=D)throw t;var c=o(M,O);O+=4;var l=M[O];O++;if(l!=D){O-=5;
c=o(M,O);O+=8;t=M[O];O++;if(t!=D)throw t}var q=o(M,O)*2;O+=4;if(c>0)E.push(O+q);O+=q+c}var d=new DOMParser,V=d.parseFromString(k,"image/svg+xml").firstChild.firstChild,L=[];
ce.uI.il(V,M,E,L);return L};ce.uI.il=function(w,M,O,b){var D=w.firstChild.firstChild;if(D.tagName=="Image"){var o=D.getElementsByTagName("ImageDescription")[0],Z=o.children[0].children,$=o.children[1].children,k=O.shift(),E=[];
for(var U=0;U<$.length;U++)E.push(parseInt($[U].getAttribute("NumberOfElements")));while(E.length>3)E[2]*=E.pop();
var t=Z.length,c=E[0],l=E[1],q=E[2],d=parseInt($[0].getAttribute("BytesInc"));for(var V=0;V<q;V++){var L=x.$(c*l*4);
x.TZ(L,4278190080);for(var e=0;e<t;e++){var H=x.$(c*l);if(d==1)for(var j=0;j<H.length;j++)H[j]=M[k+j];
else if(d==2)for(var j=0;j<H.length;j++)H[j]=Math.min(255,(M[k+j*2+1]<<8|M[k+j*2])>>>2);else throw d;
if(e!=3)x.Jm(H,L,e);if(t==1){x.Jm(H,L,1);x.Jm(H,L,2)}k+=c*l*d}b.push({fJ:new cn(0,0,c,l),data:L.buffer})}}else{var g=w.children,K=0;
while(K<g.length&&g[K].tagName!="Children")K++;if(K==g.length)throw"e";g=g[K].children;for(var a=0;a<g.length;
a++)ce.uI.il(g[a],M,O,b)}};ce.arO=function(){function w(Z,$,k,E,t){var c=new Int8Array(Z.buffer),l=new Int8Array(E.buffer),q=$+k;
while($<q){var aq=c[$];$++;if(aq>=0&&aq<128)for(var U=0;U<aq+1;U++){l[t]=c[$];t++;$++}if(aq>=-127&&aq<0){for(var U=0;
U<-aq+1;U++){l[t]=c[$];t++}$++}}return t}function M(Z,$,k,E,t,c){var l=$*k*E>>>3,q=x.$(l*t),d=b(Z,0,0)[0];
for(var V=0;V<t;V++){var L=d[V+1];if(c){var e=ce.ti("jpg").sc(L.buffer),H=x.$(l);x.C3(new Uint8Array(e[0].data),H);
q.set(H,l*V)}else if(L[0]==255&&L[1]==216&&L[2]==255){var j=UTIF.LosslessJpegDecode(L);q.set(new Uint8Array(j.buffer),l*V)}else w(L,64,L.length,q,l*V)}return q}function O(Z){var $=new Uint8Array(Z),k=0,E=n.TP($,0,128);
k+=128;var t=n.TP($,k,4);k+=4;var c=D($,k,0)[0],l=c.g28;if(l==null){alert("No image.");return[]}var q=l.cols,d=l.rows,V=q*d,L=l.photoInterpret,e=l.bitsAlloc,H=l.bitsStored,j=l.lossyCompr;
if(j==null)j=c.g8.lossyCompr;var g=c.g7fe0.pixelData,K=l.numOfFrames;K=K?parseInt(K):1;var a=new Uint8Array(g.buffer),T=V*e>>>3;
if(a.length!=T*K){g=M(g,q,d,e,K,j)}else{}if(e==16)g=new Uint16Array(g.buffer);console.log(l);console.log(c);
var C=[];for(var F=0;F<K;F++){var m=F*T,Z=x.$(q*d*4);Z.fill(255);if(L=="MONOCHROME2"){var N=0,v=255,h=l.largestValue,P=l.smallestValue;
if(h!=null){v=h;N=P}else if(H!=8){v=0;N=1e9;for(var U=0;U<V;U++){var J=g[m+U];if(J>1<<H-8){if(J>v)v=J;
if(J<N)N=J}}}var Y=255/(v-N);for(var U=0;U<V;U++){var J=Math.max(0,Math.min(255,(g[m+U]-N)*Y)),B=U*4;
Z[B]=Z[B+1]=Z[B+2]=J}}else if(L=="PALETTE COLOR"){var S=l.pltRed,r=l.pltGreen,I=l.pltBlue;for(var U=0;
U<V;U++){var f=g[m+U],B=U*4;Z[B]=S[f]>>>8;Z[B+1]=r[f]>>>8;Z[B+2]=I[f]>>>8}}else throw L;C.push({fJ:new cn(0,0,q,d),data:Z.buffer})}return C}function b(Z,$,k){var E=n.bw,t=n.xh,c=n.Yx,l=[],q=$;
while($<Z.length){var d=E(Z,$);$+=2;var V=E(Z,$);$+=2;var L=c(Z,$);$+=4;if(d==65534&&V==57344){if(L==4294967295){var e=D(Z,$,k+1);
l.push(e[0]);$=e[1]}else{l.push(Z.slice($,$+L));$+=L}}else if(d==65534&&V==57357){}else if(d==65534&&V==57565)break;
else throw"e"}return[l,$]}function D(Z,$,k){var E=n.bw,t=n.xh,c=n.Yx,l={},q="\t".repeat(k);while($<Z.length){var d=E(Z,$),H="",j=0,K=null;
$+=2;var V=E(Z,$);$+=2;var L=d.toString(16),e=V.toString(16);if(d==65532)break;if(d==65534&&V==57357){$-=4;
break}if(d==65534&&V==57565)throw"e";if(V==0){$+=8;continue}if(65<=Z[$+1]){H=n.TP(Z,$,2);$+=2;if(H=="OB"||H=="SQ"||H=="OW"){j=c(Z,$+2);
$+=6}else{j=E(Z,$);$+=2}}else{H=o[L][e].split(",")[1];j=c(Z,$);$+=4}var g=o[L][e];if(g)g=g.split(",")[0];
if(g==null){g="t"+e}if(H=="SQ"){var a=b(Z,$,k);K=a[0];$=a[1];j=0}else if(H=="US")K=E(Z,$);else if(H=="SS")K=t(Z,$);
else if(H=="UL")K=c(Z,$);else if(H=="FL")K=n.aA(Z,$);else if(H=="AT")K=[E(Z,$),E(Z,$+2)];else if(H=="OB")K=Z.slice($,$+j);
else if(H=="OW")K=new Uint16Array(Z.slice($,$+j).buffer);else if("UI CS DA TM DT SH LO ST LT PN AE AS DS IS".split(" ").indexOf(H)!=-1){var T=$+j;
while(Z[T-1]==0)T--;K=n.TP(Z,$,T-$).trim()}else{console.log(q,JSON.stringify(n.TP(Z,$,Math.min(j,32))));
throw H}if(l["g"+L]==null)l["g"+L]={};l["g"+L][g]=K;$+=j}return[l,$]}var o={"2":{"1":"fmiVersion","2":"classUID","3":"instanceUID","10":"syntaxUID","12":"icUID","13":"implVerName","16":"appTitle"},"4":{"1130":"fileSetID"},"8":{"5":"charSet","8":"imageType,CS","16":"classUID,UI","18":"instanceUID,UI","20":"studyDate","21":"seriesDate","22":"acqDate","23":"contentDate","2a":"acqDateTime","30":"studyTime","32":"acqTime","33":"contentTime","50":"accNumber","60":"modality,CS","64":"convType,CS","70":"manufacturer","80":"institutionName","81":"institutionAddress","90":"rpName","1010":"stationName","1030":"studyDescription","103e":"seriesDesc","1050":"ppName","1090":"modelName","1150":"rclassUID","1155":"rinstanceUID","2110":"lossyCompr","2112":"imageSequence"},"9":{},"10":{"10":"patientName,PN","20":"patientID,LO","30":"patientBirthDate","40":"patientSex","1010":"patientAge"},"18":{"60":"KVP","1020":"swVersion","1063":"frameTime","1150":"expTime","1151":"xrayTubeCurrent","1152":"exposure","1155":"radiation","1500":"posMotion","1510":"posAngle0","1511":"posAngle1"},"19":{},"20":{d:"studyUID,UI",e:"seriesUID,UI","10":"studyID","11":"seriesNumber","12":"acqNumber,IS","13":"instanceNumber,IS","20":"patientOrientation"},"21":{},"28":{"2":"spp,US","4":"photoInterpret,CS","8":"numOfFrames","9":"frameIncPointer","10":"rows,US","11":"cols,US","30":"pixelSpacing","100":"bitsAlloc,US","101":"bitsStored,US","102":"highBit,US","103":"pixRepresentation,US","106":"smallestValue","107":"largestValue","120":"pixPaddingValue","1040":"pixIntensityRelation","1050":"windCenter","1051":"windWidth","1090":"viewMode","1101":"pdRed","1102":"pdGreen","1103":"pdBlue","1199":"paletteUID","1201":"pltRed","1202":"pltGreen","1203":"pltBlue","2110":"lossyCompr","6010":"repFrameNum","6020":"foi","6022":"foiDescription","6040":"rWavePointer","6100":"maskSubtraction","6101":"maskOp","6110":"maskFrameNum"},"29":{},"37":{},"50":{"4":"calibImage"},"5000":{"5":"curveDim","10":"numOfPoints","20":"typeOfData","30":"axisUnits","103":"dataValRepr","104":"minCrdValue","105":"maxCrdValue","106":"curveRange","110":"curveDataDesc","112":"crdStartValue","114":"crdStepValue","3000":"curveData"},"7fe0":{"10":"pixelData,OB"}};
return{sc:O}}();ce.X5={};ce.X5.sc=function(w){var M=new Uint8Array(w),O=0,b={},t=1e9;for(var U=0;U<306;
U++){var D=n.TP(M,O,8).trim(),o=n.TP(M,O+9,71).split("/")[0].trim();b[D]=o;O+=80;if(D=="END"){O=Math.ceil(O/2880)*2880;
break}}var Z=parseInt(b.NAXIS1),$=parseInt(b.NAXIS2),k=Z*$,E=parseInt(b.BITPIX),c=-1e9,l=new Float32Array(k),q=new Float32Array(w,O,w.byteLength-O>>>2);
for(var U=0;U<k;U++){var d=U<<2,V=U<<1;if(E==-32){var L=M[O+d+0];M[O+d+0]=M[O+d+3];M[O+d+3]=L;var L=M[O+d+1];
M[O+d+1]=M[O+d+2];M[O+d+2]=L;l[U]=q[U]}else if(E==16){l[U]=n.bw(M,O+V)}else throw E;var e=l[U];if(e<t)t=e;
if(e>c)c=e}var H=x.$(k*4),j=1/c;for(var g=0;g<$;g++)for(var K=0;K<Z;K++){var U=g*Z+K,a=($-g-1)*Z+K,d=a<<2,e=l[U]*j;
H[d]=H[d+1]=H[d+2]=255*e;H[d+3]=255}return[{fJ:new cn(0,0,Z,$),data:H,FS:b.OBJECT}]};ce.i0={};ce.i0.sc=function(w){var M=new Uint8Array(w),O=16,b=n.TP(M,O,4),o=32,e=0,H=0,j=!1,S;
O+=4;var D=n.TP(M,O,8);O+=8;while(M[O+o-1]==0)o--;var Z=n.TP(M,O,o);O+=32;var $=n.TP(M,O,4);O+=4;O+=20;
var k=n.A(M,O);O+=4;var E=n.A(M,O);O+=4;var t=n.A(M,O);O+=4;var c=n.A(M,O);O+=4;var l=n.A(M,O);O+=4;
var q=n.A(M,O);O+=4;var d="FujiFilm "+Z,V=[0,1,1,2];if(d=="FujiFilm X10"){d="FujiFilm FinePix X10";V=[2,1,1,0]}var L={t271:["FujiFilm"],t272:[d],t277:[1],t33421:[2,2],t33422:V,J2:1};
O=t;var g=[],K=n.z0,a=n.A(M,O);O+=4;for(var U=0;U<a;U++){var T=K(M,O);O+=2;var C=K(M,O);O+=2;if(T==256){H=K(M,O);
e=K(M,O+2)}else if(T==272){g=[K(M,O),K(M,O+2)]}else if(T==273){g.push(K(M,O),K(M,O+2))}else if(T==304){j=!(M[O]>>>7)}else if(T==305){var F=Math.round(Math.sqrt(C)),m=[];
for(var N=0;N<C;N++)m.push(M[O+N]);m.reverse();L.t33421=[F,F];L.t33422=m}else if(T==12272){var v=K(M,O),h=K(M,O+2),P=K(M,O+6);
L.t50728=[v/h,1,v/P]}O+=C}var J=e<H,Y=M.slice(l,l+q),B=Math.round(q*8/(e*H));if(Y[0]==73&&Y[1]==73&&Y[2]==42){S=UTIF.decode(Y.buffer)[0].fujiIFD;
B=S.t61443[0];var r=S.t61454,I=S.t61450;if(I)L.t50714=I;if(r)L.t50728=[r[0]/r[1],1,r[0]/r[2]];var f=S.t61447[0];
Y=Y.slice(f,f+S.t61448[0])}var q=Y.length,s=q*8<e*H*B;if(s){console.log("compressed");var W=L.t33422,i=~~Math.sqrt(W.length),u=[];
for(var U=0;U<i;U++)u[U]=W.slice(U*i,U*i+i);Y=new Uint8Array(UTIF._decompressRAF(Y,u).buffer);q=Y.length}function z(b2,jz,aT){aT=aT<<8-(jz&7);
var fZ=jz>>>3;b2[fZ]|=aT>>>16;b2[fZ+1]|=aT>>>8;b2[fZ+2]|=aT}var G=q*8/(e*H);if(G==16)for(var U=0;U<q;
U+=2){var g_=Y[U];Y[U]=Y[U+1];Y[U+1]=g_}else if(G==14){for(var U=0;U<q;U+=4){var g_=Y[U];Y[U]=Y[U+3];
Y[U+3]=g_;g_=Y[U+1];Y[U+1]=Y[U+2];Y[U+2]=g_}}else if(G==12)for(var U=0;U<q;U+=3){var cl=Y[U+2]<<16|Y[U+1]<<8|Y[U+0];
cl=cl>>>12|(cl&4095)<<12;Y[U]=cl>>>16&255;Y[U+1]=cl>>>8&255;Y[U+2]=cl&255}if(J)Y=ce.i0.adF(Y,e,H);var p=J?2:1;
e*=p;L.t256=[e];L.t257=[H];L.t258=[B];L.t50719=[g[1],g[0]*p];L.t50720=[g[3],g[2]*p];L.width=e;L.height=H;
L.data=new Uint8Array(Y.buffer);return[L]};ce.i0.adF=function(w,M,O){w=new Uint16Array(w.buffer);var b=new Uint16Array(M*O*2);
for(var D=0;D<O;D+=2)for(var o=0;o<M;o++){var Z=D*M+o,$=Z*2,k=w[Z],E=w[Z+M];b[$+1]=b[$+2*M]=E;if(((D>>>1)+o&1)==0){b[$]=k;
b[$+2*M+1]=w[Z+1]}else{b[$]=w[Z-1];b[$+2*M+1]=k}}return b};ce.s9={};ce.s9.b2=!0;ce.s9.WV=function(w,M,O,b){var D=new Uint8Array(w[0][0]),o=M*O,Z=[1,3,4][b[0]],$=8+8*b[1],k=b[2];
if(Z==1){var E=new Uint8Array(M*O);x.Oj(D,E,0);D=E}if(Z==3){var E=new Uint8Array(M*O*3);for(var U=0;
U<o;U++){var t=U*4,c=U*3;E[c]=D[t];E[c+1]=D[t+1];E[c+2]=D[t+2]}D=E}if($==16){var l=D.length,E=new Uint8Array(l*2);
for(var U=0;U<l;U++){var q=Math.round(D[U]*(65535/255));E[U*2+k]=q>>>8;E[U*2+1-k]=q&255}D=E}return D.buffer};
ce.IM={};ce.IM.sc=function(w,M){function O(k){return~~(.5+x.I6(Math.max(0,Math.min(1,k)))*255)}var b=EXRLoader.parse(w),D=b.width,o=b.height,Z=x.$(D*o*4);
for(var $=0;$<o;$++)for(var k=0;k<D;k++){var U=($*D+k)*4,E=((o-$-1)*D+k)*4;Z[U]=O(b.data[E+0]);Z[U+1]=O(b.data[E+1]);
Z[U+2]=O(b.data[E+2]);Z[U+3]=O(b.data[E+3])}return[{fJ:new cn(0,0,D,o),data:Z.buffer}]};ce.Fc={};ce.Fc.b2=!0;
ce.Fc.wZ=!0;ce.Fc.WV=function(w,M,O,b,D){b=["",100,!1,!1,!1,0];b[6]=["jpg"];var o=new ToDXF;iI.qf(w,b,o,D.Yv);
return o.buffer};ce.Fc.sc=function(w,M){var O=72,b=new f$(1,0,0,1,0,0);b.scale(O/72,O/72);M.Z1=O;var D=new aJ(M,b,!1);
FromDXF.Parse(w,D)};ce.Rn={};ce.Rn.sc=function(){var w=n.bw,M=n.Yx,O=n.TP,b;function D(Z,$,k,E,t){var c=M(Z,k),l=M(Z,k+4),q=M(Z,k+8),d=w(Z,k+12),V=w(Z,k+14);
k+=16;var L={};for(var U=0;U<d+V;U++){var e=M(Z,k),H=M(Z,k+4),j,g;if(e>>>31==1){e=e&16777215}if(U<d)j=n.eS(Z,$+e+2,w(Z,$+e));
else j="id"+e;var K=E.slice(0);K.push(j);if(H>>>31==1){H=H&268435455;g=D(Z,$,$+H,K,t)}else{var a=M(Z,$+H),T=M(Z,$+H+4),C=M(Z,$+H+8),F=M(Z,$+H+12);
if(F!=0)throw"e";if(a<t[0]||a>t[0]+t[1])throw"e";var m=t[2]+a-t[0];g=Z.slice(m,m+T);var N=ce.S5(g.buffer);
if(N&&["bmp","png","ico"].indexOf(N)!=-1){var v=ce.ti(N);if(!v.wZ){var h=null;try{h=v.sc(g.buffer)}catch(fr){}if(h){h[0].FS=K[1];
b.push(h[0])}}}else if(N)console.log(N)}L[j]=g;k+=8}return L}function o(Z){b=[];var $=new Uint8Array(Z),k=0,E=w($,k);
k+=2;k+=58;var t=M($,k);k+=4;k=t;var c=O($,k,4);k+=4;var l=w($,k);k+=2;var q=w($,k);k+=2;var d=M($,k);
k+=4;var V=M($,k);k+=4;var L=M($,k);k+=4;var e=w($,k);k+=2;var H=w($,k);k+=2;k+=e;var j={};for(var U=0;
U<q;U++){var g=k;while($[g]!=0)g++;var K=O($,k,g-k),a=M($,k+8),T=M($,k+12),C=M($,k+16),F=M($,k+20),m=M($,k+24),N=M($,k+28),v=w($,k+32),h=w($,k+34),H=M($,k+36);
j[K]=[T,a,F,C,H];if(m+N!=0)throw"e";k+=40}for(var P in j){var J=j[P];k=J[2];if(P==".rsrc"){var Y=D($,k,k,[],J),B="id134"}}return b}return o}();
ce.C8={};ce.C8.wZ=!0;ce.C8.sc=function(w,M){g3.TC(w,M)};(function(){var w=ce.kQ.get("wasm/zstd").buffer;
WebAssembly.instantiate(w).then(function(M){var O=M.instance.exports;ce.C8.a2K=O})}());ce.C8.RO=function(w,M){var O=ce.C8.a2K,b=w.length,D=O.memory,o=2*b+1e6,k=8;
ce.V0(O,o);var Z=new Uint8Array(D.buffer),$=O.malloc(b);Z.set(w,$);while(!0){var E=M==null?b*k:M;ce.V0(O,o+E);
var t=O.malloc(E),c=O.ZSTD_decompress(t,E,$,b);if(c==-70){O.free(t);k+=k>>>1;if(M!=null)throw"error"}else{Z=new Uint8Array(D.buffer);
w=Z.slice(t,t+c);O.free(t);break}}O.free($);return w};ce.l7={};ce.l7.wZ=!0;ce.l7.sc=function(){var w=0,M=1,O=2,b=3,D=4,o=5,Z=6,$=7,k=1,E=2,t=7,c=8,l=9,q,d,V,L,e;
function H(){var aq=n.Hx(q,d);d+=4;return aq}function j(){var S=0,r=0;for(var U=0;U<5;U++){var I=q[d++];
S+=(I&127)<<r;r+=7;if((I&128)==0)break}return S}function g(){var S=j(),r=n.AL(q,d,S);d+=S;return r}function K(){return{typeName:g(),aw7:H()}}function a(){var S=H(),r=g(),I=[],f=H();
for(var U=0;U<f;U++)I.push([g()]);return{id:S,b1:r,a6Z:I}}function T(S){var r=S.a6Z,I=[];for(var U=0;
U<r.length;U++)r[U].push(q[d++]);for(var U=0;U<r.length;U++){var f=r[U][1],s;r[U].push(C(f))}}function C(S){var r;
if(S==w)r=q[d++];else if(S==b)r=g();else if(S==D)r=K();else if(S==M||S==O||S==Z||S==o){}else throw S;
return r}function F(S,r,I){var f;if(S==w){if(r==k)f=q[d++]==1;else if(r==E){f=q[d++]}else if(r==c)f=H();
else if(r==l){f=H();H()}else throw r}else if(S==b){f=h(I+1)}else if(S==D){f=h(I+1)}else if(S==o){f=h(I+1)}else if(S==M){f=h(I+1)}else if(S==Z){f=h(I+1)}else throw S;
return f}function m(S,r){var I=V["c"+S],f=I.a6Z,s={_class:I.b1};for(var U=0;U<f.length;U++){var W=f[U],i=W[1],u=W[2],z=F(i,u,r),G=W[0];
s[G]=z}return s}function N(S,r,I,f){var s=[];for(var U=0;U<S;U++){var W=F(r,I,f);if(W.GG&&W.GG=="null_count"){var i=W.X$;
for(var u=0;u<i;u++)s.push(null);U+=i-1}else s.push(W)}return s}function v(){return[H(),H()]}function h(S){if(S==null)throw"e";
var r=null,I=q[d],f=null;d++;if(I==0){var s=H(),W=H(),i=H(),u=H();r=[s,W,i,u]}else if(I==1){f=H();var z=H();
r=m(z,S)}else if(I==4){var G=a();f=G.id;T(G);V["c"+G.id]=G;r=m(G.id,S)}else if(I==5){var G=a();f=G.id;
T(G);var g_=H();V["c"+G.id]=G;r=m(G.id,S)}else if(I==6){f=H();var cl=g();r=cl}else if(I==7){f=H();var p=q[d++];
if(p!=0)throw p;var b2=H();if(b2!=1)throw b2;var jz=H(),aT=q[d++],fZ=C(aT);r=N(jz,aT,fZ,S)}else if(I==9){var ft=H();
r={GG:"ref",X$:ft};e["o"+ft]=!0}else if(I==10){r={GG:"null_count",X$:1}}else if(I==11){r={GG:"end"}}else if(I==12){var g_=H(),cc=g()}else if(I==13){var kr=q[d++];
r={GG:"null_count",X$:kr}}else if(I==16){var hG=v();f=hG[0];r=N(hG[1],D,null,S)}else if(I==17){var hG=v();
f=hG[0];r=N(hG[1],M,null,S)}else throw"e";if(f!=null&&f>0){if(L["o"+f]!=null)throw"e";L["o"+f]=r}return r}function P(S,L){if(S instanceof Array){for(var U=0;
U<S.length;U++)S[U]=J(S[U],L)}else if(S instanceof Object){for(var r in S)S[r]=J(S[r],L)}}function J(S,L){if(S&&S.GG&&S.GG=="ref")return L["o"+S.X$];
else return S}function Y(S,r,I){q=new Uint8Array(S);d=0;V={};L={};e={};var f=n.TP(q,0,4);if(f!="PDN3")throw f;
d+=4;var s=n.bw(q,d)+q[d+2]*256*256;d+=3;var W=n.TP(q,d,s);d+=s;d+=2;while(!0){var i=h(0);if(i&&i.GG&&i.GG=="end")break}for(var u in e)if(L[u]==null)throw u;
for(var u in L)P(L[u],L);var z=L.o1;console.log(z);r.e=z.width;r.n=z.height;r.buffer=x.$(r.e*r.n*4);
var G=z.layers["ArrayList+_items"];for(var U=0;U<G.length;U++){var g_=G[U];if(g_==null)continue;console.log(g_);
var cl=g_["Layer+width"],p=g_["Layer+height"],b2=g_["Layer+properties"],jz=g_.properties,aT=jz.blendOp._class.split("+").pop();
aT=aT.slice(0,aT.length-7);var fZ={Normal:"norm",Multiply:"mul ",Additive:"lddg",ColorBurn:"idiv",ColorDodge:"div ",Reflect:"lddg",Glow:"hMix",Overlay:"over",Difference:"diff",Negation:"smud",Lighten:"lite",Darken:"dark",Screen:"scrn",Xor:"smud"}[aT],ft=r.uV();
ft.EJ(b2.name);ft.opacity=b2.opacity;ft.ah(b2.visible);ft.eI=fZ;var cc=1<<16,kr=Math.ceil(cl*p/cc);ft.rect=new cn(0,0,cl,p);
ft.buffer=x.$(cl*p*4);var hG=ft.buffer;d+=5;for(var hi=0;hi<kr;hi++){var bU=B();hG.set(bU[1],bU[0]*cc*4)}for(var ic=0;
ic<hG.length;ic+=4){var iQ=hG[ic+0];hG[ic+0]=hG[ic+2];hG[ic+2]=iQ}r.B.push(ft)}}function B(){var S=n.A(q,d);
d+=4;var r=n.A(q,d);d+=4;var I=pako.inflateRaw(q.slice(d+10));d+=r;return[S,I]}return Y}();ce.HC={};
ce.HC.wZ=!0;ce.HC.sc=function(w,M){fn.TC(w,M)};var X={};X.Nu=!1;X.d$=!1;X.GW=!1;X.U=document.createElement("canvas");
X.Mn=null;X.DA=null;X.wB=0;(function(){var w={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},M;
if(!M)M=X.U.getContext("webgl",w);if(!M)M=X.U.getContext("experimental-webgl",w);if(M){X.Nu=!0;X.d$=!0;
X.Mn=M;X.DA=M.createFramebuffer();M.bindFramebuffer(M.FRAMEBUFFER,X.DA);M.disable(M.BLEND);M.disable(M.DEPTH_TEST);
var O=M.createBuffer();M.bindBuffer(M.ARRAY_BUFFER,O);M.bufferData(M.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),M.STATIC_DRAW);
M.enableVertexAttribArray(0);M.vertexAttribPointer(0,2,M.FLOAT,!1,0,0)}}());X.ada=function(w){w=w.replace(/\s\s+/g," ");
w=w.replace(/; /g,";");w=w.replace(/} /g,"}");w=w.replace(/ }/g,"}");w=w.replace(/{ /g,"{");w=w.replace(/ {/g,"{");
w=w.replace(/= /g,"=");w=w.replace(/ =/g,"=");w=w.replace(/\| /g,"|");w=w.replace(/ \|/g,"|");return w};
X.sS=function(w){var M=X.Mn;if(w>M.getParameter(M.MAX_TEXTURE_SIZE)){X.Nu=!1;alert("Disabling WebGL")}};
X.jt=function(w,M){return new Float32Array([(w.x-M.x)/M.e,(w.y-M.y)/M.n,w.e/M.e,w.n/M.n])};X.$B=function(){return this.U};
X.IF=function(w,M){var O=X.Mn;O.bindFramebuffer(O.FRAMEBUFFER,X.DA);O.framebufferTexture2D(O.FRAMEBUFFER,O.COLOR_ATTACHMENT0,O.TEXTURE_2D,w.p3,0);
O.viewport(0,0,w.e,w.n);if(M){O.enable(O.SCISSOR_TEST);O.scissor(M.x,M.y,M.e,M.n)}else O.disable(O.SCISSOR_TEST)};
X.Db=function(w,M,O){if(O)throw"error";var b=X.Mn;b.disable(b.SCISSOR_TEST);b.bindFramebuffer(b.FRAMEBUFFER,null);
b.viewport(0,0,w,M);if(O){b.enable(b.SCISSOR_TEST);b.scissor(O.x,O.y,Math.round(O.e),Math.round(O.n))}else b.disable(b.SCISSOR_TEST)};
X.clear=function(){var w=X.Mn;w.clearColor(0,0,0,0);w.clear(w.COLOR_BUFFER_BIT)};X.mi=function(w,M){if(M==null)M=0;
var O=(M>>>0&255)==0,b=(M>>>8&255)==0,D=(M>>>16&255)==0,o=(M>>>24&255)==0,Z=(w>>>0&255)*(1/255),$=(w>>>8&255)*(1/255),k=(w>>>16&255)*(1/255),E=(w>>>24&255)*(1/255),t=X.Mn;
t.colorMask(O,b,D,o);t.clearColor(Z,$,k,E);t.clear(t.COLOR_BUFFER_BIT);t.colorMask(!0,!0,!0,!0)};X.ld=function(w,M,O,b,D){var o=M.mX(b);
if(D)o=o.mX(D);if(o.S9())return;var Z=X.Mn;X.IF(w);Z.bindTexture(Z.TEXTURE_2D,O.p3);Z.copyTexSubImage2D(Z.TEXTURE_2D,0,o.x-b.x,o.y-b.y,o.x-M.x,o.y-M.y,o.e,o.n)};
X.Bv=function(U,w,M){var O=X.oC[U];if(O==null||O.e!=w||O.n!=M){if(O)O.delete();O=new X.ka(w,M)}X.oC[U]=O;
return O};X.oC=[];X.dR=function(){this.jh=null;this.CO=null};X.dR.Xf=null;X.dR.prototype.wC=function(w){if(this.CO)return;
this.CO={};var M=X.Mn,O=this.jh,b=this.CO;for(var U=0;U<w.length;U++){var D=w[U];b[D]=M.getUniformLocation(O,D)}};
X.dR.prototype.V9=function(){};X.dR.prototype.Hj=function(w){var M=X.Mn;for(var U=0;U<w.length;U+=2){M.uniform1i(w[U],U>>>1);
M.activeTexture(M["TEXTURE"+(U>>>1)]);M.bindTexture(M.TEXTURE_2D,w[U+1])}M.activeTexture(M.TEXTURE0)};
X.dR.prototype.X2=function(w,M){var O=X.Mn,b=O.createShader(O.FRAGMENT_SHADER);O.shaderSource(b,w);O.compileShader(b);
if(!O.getShaderParameter(b,O.COMPILE_STATUS))console.log(O.getShaderInfoLog(b));var D=O.createShader(O.VERTEX_SHADER);
O.shaderSource(D,M);O.compileShader(D);if(!O.getShaderParameter(D,O.COMPILE_STATUS))console.log(O.getShaderInfoLog(D));
var o=O.createProgram();O.attachShader(o,D);O.attachShader(o,b);O.linkProgram(o);if(!O.getProgramParameter(o,O.LINK_STATUS))console.log("Could not initialise shaders");
this.jh=o};X.dR.prototype.$x=function(){if(X.dR.Xf!=this){X.Mn.useProgram(this.jh);X.dR.Xf=this}};X.ht=function(w,M){X.gG++;
X.wB+=w*M;if(X.GW)console.log("GL.Channels instances: "+X.gG+", memory: "+X.wB);var O=X.Mn;this.e=w;
this.n=M;this.p3=O.createTexture();this.sf=null;this.Ju(this.p3,w,M)};X.ht.prototype.Ju=function(w,M,O){var b=X.Mn;
b.bindTexture(b.TEXTURE_2D,w);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.NEAREST);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.NEAREST);
b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE);
b.texImage2D(b.TEXTURE_2D,0,b.ALPHA,M,O,0,b.ALPHA,b.UNSIGNED_BYTE,null)};X.ht.prototype.set=function(w,M){var O=X.Mn;
O.bindTexture(O.TEXTURE_2D,this.p3);O.pixelStorei(O.UNPACK_ALIGNMENT,1);var b=this.e*this.n;if(M==null||M.v()*10>b)O.texImage2D(O.TEXTURE_2D,0,O.ALPHA,this.e,this.n,0,O.ALPHA,O.UNSIGNED_BYTE,w);
else{var D=new cn(0,0,this.e,this.n),o=x.$(M.v());x.CV(w,D,o,M);O.texSubImage2D(O.TEXTURE_2D,0,M.x,M.y,M.e,M.n,O.ALPHA,O.UNSIGNED_BYTE,o)}O.pixelStorei(O.UNPACK_ALIGNMENT,4)};
X.ht.prototype.delete=function(){var w=X.Mn;if(this.p3){w.deleteTexture(this.p3);X.gG--;X.wB-=this.e*this.n}if(X.GW)if(X.GW)console.log("GL.Channels instances: "+X.gG+", memory: "+X.wB*4)};
X.gG=0;X.ka=function(w,M,O){if(O==null)O=!1;X.gG++;X.wB+=w*M*4;if(X.GW)console.log("GL.Channels instances: "+X.gG+", memory: "+X.wB);
var b=X.Mn;this.anz=O;this.e=w;this.n=M;this.p3=b.createTexture();this.sf=null;this.Ju(this.p3,w,M)};
X.ka.prototype.set=function(w,M){var O=X.Mn;O.disable(O.SCISSOR_TEST);O.bindTexture(O.TEXTURE_2D,this.p3);
if(w==null||w instanceof Uint8Array){var b=this.e*this.n;if(M==null||M.v()*10>b)O.texImage2D(O.TEXTURE_2D,0,O.RGBA,this.e,this.n,0,O.RGBA,O.UNSIGNED_BYTE,w);
else{var D=x.$(M.v()*4);x.xu(w,new cn(0,0,this.e,this.n),D,M);O.texSubImage2D(O.TEXTURE_2D,0,M.x,M.y,M.e,M.n,O.RGBA,O.UNSIGNED_BYTE,D)}}else O.texImage2D(O.TEXTURE_2D,0,O.RGBA,O.RGBA,O.UNSIGNED_BYTE,w)};
X.ka.prototype.get=function(w){var M=X.Mn;X.IF(this);M.readPixels(0,0,this.e,this.n,M.RGBA,M.UNSIGNED_BYTE,w)};
X.ka.prototype.nB=function(w){if(w.S9())return;var M=X.Mn;if(this.sf==null){this.sf=M.createTexture();
this.Ju(this.sf,this.e,this.n);X.gG++;X.wB+=this.e*this.n*4}M.bindFramebuffer(M.FRAMEBUFFER,X.DA);M.bindTexture(M.TEXTURE_2D,this.sf);
if(w){var O=Math.max(w.x,0),b=Math.max(w.y,0);M.copyTexSubImage2D(M.TEXTURE_2D,0,O,b,O,b,w.e,w.n)}else M.copyTexImage2D(M.TEXTURE_2D,0,M.RGBA,0,0,this.e,this.n,0)};
X.ka.prototype.Ju=function(w,M,O){var b=X.Mn;b.bindTexture(b.TEXTURE_2D,w);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,this.anz?b.LINEAR:b.NEAREST);
b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.NEAREST);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE);
b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE);b.texImage2D(b.TEXTURE_2D,0,b.RGBA,M,O,0,b.RGBA,b.UNSIGNED_BYTE,null)};
X.ka.prototype.delete=function(){var w=X.Mn;if(this.p3){w.deleteTexture(this.p3);X.gG--;X.wB-=this.e*this.n*4}if(this.sf){w.deleteTexture(this.sf);
X.gG--;X.wB-=this.e*this.n*4}if(X.GW)if(X.GW)console.log("GL.Channels instances: "+X.gG+", memory: "+X.wB)};
X.ka.prototype.clone=function(){var w=X.Mn,M=new X.ka(this.e,this.n);X.IF(this);w.bindTexture(w.TEXTURE_2D,M.p3);
w.copyTexImage2D(w.TEXTURE_2D,0,w.RGBA,0,0,this.e,this.n,0);return M};X.er={a2i:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(ONE3 - min(ONE3,(ONE3-b)/d), ZERO3, vec3(vec3(greaterThan(vec3(0.001),d))) );  }  ",avZ:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",Bk:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",ZG:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",Hq:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",wF:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",YF:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",Pn:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",a8C:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",v2:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",a0v:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",jg:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",go:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",HZ:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",du:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",eV:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",GC:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",Ja:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }",li:"\t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}\t\tfloat xyzScale(float x) {\t\t\treturn (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); \t\t}\t\tvec3 rgbToLab(vec3 rgb) {\t\t\tbool ok = true;\t\t\trgb.r = srgbUngamma(rgb.r); \t\t\trgb.g = srgbUngamma(rgb.g); \t\t\trgb.b = srgbUngamma(rgb.b); \t\t\tok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; \t\t\tok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; \t\t\tok = ok && 0.3047<=rgb.b && rgb.b<=0.305; \t\t\t\t\t\tmat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); \t\t\t\t\t\tvec3 xyz = srgb2xyz*rgb; \t\t\tok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  \t\t\t\t\t\txyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  \t\t\txyz.x = xyzScale(xyz.x); \t\t\txyz.y = xyzScale(xyz.y); \t\t\txyz.z = xyzScale(xyz.z); \t\t\t\t\t\treturn vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  \t\t} \t\tfloat labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {\t\t\tfloat L=lab.x, a=lab.y, b=lab.z; \t\t\tfloat dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); \t\t\tfloat da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); \t\t\tfloat db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); \t\t\t/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ \t\t\tfloat dst = sqrt(dl*dl+da*da+db*db)*1.35; \t\t\treturn (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; \t\t}",ame:"  mat3 rgbToYuv = mat3(0.299, -0.147, 0.615,    0.587,  -0.289,  -0.515,   0.114, 0.436, -0.100 );  ",a8Q:"  mat3 yuvToRgb = mat3(1.0, 1.0, 1.0,   0.0, -0.3946, 2.03199,    1.1398, -0.5805, -0.00048  ); ",Cm:"\t\tfloat _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  \t\tfloat blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  \t\t\tfloat sg = lum(sc.rgb); \t\t\tfloat tg = lum(tc.rgb); \t\t\tfloat ms = _blendIf(sg,br[0]); \t\t\tms = min(ms, _blendIf(sc.r,br[2])); \t\t\tms = min(ms, _blendIf(sc.g,br[4])); \t\t\tms = min(ms, _blendIf(sc.b,br[6])); \t\t\t\t\t\tfloat mt = _blendIf(tg,br[1]); \t\t\tmt = min(mt, _blendIf(tc.r,br[3])); \t\t\tmt = min(mt, _blendIf(tc.g,br[5])); \t\t\tmt = min(mt, _blendIf(tc.b,br[7])); \t\t\tmt=max(mt,1.0-tc.w);\t\t\t\t\t\tfloat mi=min(ms,mt);\t\t\treturn clamp(mi,0.0,1.0);\t\t}",Y0:"\t\t\tvec4 mapLut(vec4 src, sampler2D lut, float N) {\t\t\t\tfloat iN = 1.0/N; \t\t\t\tfloat fb = 0.5*iN + src.b*(1.0-iN); \t\t\t\tfloat fg = 0.5*iN + src.g*(1.0-iN); \t\t\t\tfloat R  = src.r*(N-1.0)*0.999999; \t\t\t\tfloat ir = floor(R)*iN;  \t\t\t\t\t\t\t\tvec4 c0 = texture2D(lut, vec2(fb, ir   +( fg   )*iN)); \t\t\t\tvec4 c1 = texture2D(lut, vec2(fb, ir+iN+( fg   )*iN)); \t\t\t\tvec4 rs = mix(c0,c1,R-floor(R));  \t\t\t\treturn rs;  \t\t\t}"};
X.a={};X.a.cD={};X.a.UN=null;X.a.Pe=null;X.a.Hw=null;X.a.bG=function(w,M,O,b,D,o,Z,$){if($==null)$=eR.GP();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(w)==-1){Z=Z*$.fill;$.fill=1;$.style=!1}var k=w+($.dj?"1":"");
if(X.a.cD[k]==null)X.a.cD[k]=new X.a.Uz(w,$.dj!=null);var E=X.a.cD[k],t=O.mX(D).mX(o);t.offset(-D.x,-D.y);
if(t.S9())return;var c=X.Mn;X.IF(b,t);b.nB(t);E.$x();E.V9(M.p3,b.sf,X.jt(O,D),Z,$.fill,$.style?1:0,$.WU?1:0,$.dj?new Float32Array($.dj):null);
c.drawArrays(c.TRIANGLES,0,6)};X.a.lv=function(w,M,O,b,D,o,Z,$,k,E,t){if(X.a.UN==null)X.a.UN=new X.a.yF(!0,!0);
if(X.a.Pe==null)X.a.Pe=new X.a.yF(!0,!1);if(X.a.Hw==null)X.a.Hw=new X.a.yF(!1,!0);var c=E?1:0,l=w?D?X.a.UN:X.a.Pe:X.a.Hw,q=new Float32Array(t?[t[0],t[1],t[2],1]:[1,1,1,1]),d=M?M.mX(b).mX($):b.mX($);
if(d.S9())return;d.offset(-b.x,-b.y);var V=X.Mn;X.IF(O,d);O.nB(d);l.$x();if(w==null)l.V9(null,O.sf,D.p3,X.jt(b,b),X.jt(o,b),Z/255,k,c,q);
else if(D)l.V9(w.p3,O.sf,D.p3,X.jt(M,b),X.jt(o,b),Z/255,k,c,q);else l.V9(w.p3,O.sf,null,X.jt(M,b),null,Z/255,k,c,q);
V.drawArrays(V.TRIANGLES,0,6)};X.a.a0t=function(w,M,O){if(X.a.a3p==null)X.a.a3p=new X.a.mx;var b=X.a.a3p,D=new cn(0,0,w.e,w.n),o=X.Mn;
X.IF(M);M.nB(D);b.$x();b.V9(D,w.p3,M.sf,O.p3);o.drawArrays(o.TRIANGLES,0,6)};X.a.gk={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/a, ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "};
X.a.Uz=function(w,M){X.dR.call(this);var O="\t\t\tprecision highp float;\t\t\t"+X.er.Bk+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t"+(M?"uniform vec4 blIf[10];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+X.er.wF+"\t\t\t"+X.er.YF+"\t\t\t"+X.er.Pn+"\t\t\t"+X.er.a2i+"\t\t\t"+X.er.avZ+"\t\t\t"+X.er.a8C+"\t\t\t"+X.er.v2+"\t\t\t"+X.er.a0v+"\t\t\t"+X.er.jg+"\t\t\t"+X.er.hash+"\t\t\t"+(M?X.er.Cm:"")+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+X.a.gk[w]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);",b="\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
if(w=="diss")O+="\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
else O+="  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\t"+(M?"  as*=blendIf(src,tgt,blIf);  ":"")+"\t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
this.X2(O,b)};X.a.Uz.prototype=new X.dR;X.a.Uz.prototype.V9=function(w,M,O,b,D,o,Z,$){this.wC("srct alpha source target fill style keepBGA blIf".split(" "));
var k=X.Mn,E=this.CO;k.uniform4fv(E.srct,O);k.uniform1f(E.alpha,b);k.uniform1f(E.fill,D);k.uniform1f(E.style,o);
k.uniform1f(E.keepBGA,Z);if($)k.uniform4fv(E.blIf,$);this.Hj([E.source,w,E.target,M])};X.a.yF=function(w,M){X.dR.call(this);
this.afu=w;this.r_=M;var O="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform vec4 cswitch;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+X.er.go+"\t\t\t"+X.er.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(w?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(M?"* (in01(wCoord) ? texture2D(weight, wCoord).w : wcolor)":"")+";\t\t\t\t"+(w?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tvec4 nc = vec4( (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t\tgl_FragColor =  "+(M?"nc":"cswitch*nc + (1.0- cswitch)*tgt")+";    \t\t\t}",b="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.X2(O,b)};X.a.yF.prototype=new X.dR;X.a.yF.prototype.V9=function(w,M,O,b,D,o,Z,$,k){if(this.r_)this.wC("srct wrct wcolor awg dissv source target weight cswitch".split(" "));
else this.wC("srct awg dissv source target cswitch".split(" "));var E=X.Mn,t=this.CO;E.uniform4fv(t.srct,b);
if(this.r_){E.uniform4fv(t.wrct,D);E.uniform1f(t.wcolor,o)}else{E.uniform4fv(t.cswitch,k)}E.uniform1f(t.awg,Z);
E.uniform1f(t.dissv,$);var c=[t.source,w,t.target,M];if(this.r_)c.push(t.weight,O);this.Hj(c)};X.a.mx=function(){X.dR.call(this);
var w="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).w; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",M="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.X2(w,M)};X.a.mx.prototype=new X.dR;X.a.mx.prototype.V9=function(w,M,O,b){this.wC(["rct","prev","next","alpha"]);
var D=X.Mn,o=this.CO;D.uniform4fv(o.rct,[0,0,1,1]);this.Hj([o.prev,M,o.next,O,o.alpha,b])};X.Sk={qb:{},HR:"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}"};
X.Sk.AO=function(w,M){var O=a6.Dm,b=[O.PV,O.Ep,O.Ez,O.Mv,O.Nm,O.T7,O.H5,O.Jv].indexOf(w.type),D=X.Sk.qb[w.type];
if(D==null)D=X.Sk.qb[w.type]=new X.qb[b];D.$x();D.V9(M,w);X.Mn.drawArrays(X.Mn.TRIANGLES,0,6)};X.qb=[];
X.qb[0]=function(){X.dR.call(this);this.Rf={};var w="\t\t\tprecision mediump float;\t\t\t"+X.er.YF+"\t\t\t"+X.er.Bk+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2(src.r, 0)).r;\t\t\t\tfloat g = texture2D(map, vec2(src.g, 0)).g;\t\t\t\tfloat b = texture2D(map, vec2(src.b, 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}";
this.X2(w,X.Sk.HR)};X.qb[0].prototype=new X.dR;X.qb[0].prototype.V9=function(w,M){var O={o:M.XA,w:M.AF,L:M._V,ip:x.$(M.XA.length)},b=O.o.length;
if(this.Rf["m"+b]==null){this.Rf["m"+b]={aol:new X.ka(b,1),AJ:x.$(b*4)}}var D=this.Rf["m"+b];x.RB(O,D.AJ,0);
var o=D.aol;o.set(D.AJ);this.wC(["source","map","toGray","presLum"]);var Z=X.Mn,$=this.CO;Z.uniform1f($.toGray,M.VU?1:0);
Z.uniform1f($.presLum,M.wb?1:0);this.Hj([$.source,w,$.map,o.p3])};X.qb[1]=function(){X.dR.call(this);
this.arG=new X.ka(256,1);this.auX=x.$(256*4);var w="\t\t\t\tprecision mediump float;\t\t\t\t"+X.er.eV+"\t\t\t\t"+X.er.HZ+"\t\t\t\t"+X.er.du+"\t\t\t\t\t\t\t\tuniform sampler2D source;\t\t\t\tuniform sampler2D map;\t\t\t\tuniform float cfa; \t\t\t\tuniform float cfb; \t\t\t\tuniform int colorize; \t\t\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\tvoid main(void) { \t\t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\t\tvec3 rgb = src.rgb;\t\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\t\tfloat nh = mapv.r; \t\t\t\t\tfloat sc = mapv.g*2.0-1.0; \t\t\t\t\tfloat lc = mapv.b*2.0-1.0; \t\t\t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\t\tfloat ns = sc; \t\t\t\t\tif(colorize==0) {\t\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359/2.0)*sc),1.3);\t\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t\t} \t\t\t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t\t\t}";
this.X2(w,X.Sk.HR)};X.qb[1].prototype=new X.dR;X.qb[1].prototype.V9=function(w,M){x.RB({o:M.a8F,w:M.Te,L:M.akG,ip:x.$(256)},this.auX);
this.arG.set(this.auX);this.wC(["source","map","cfa","cfb","colorize"]);var O=X.Mn,b=this.CO;O.uniform1f(b.cfa,M.a76);
O.uniform1f(b.cfb,M.Ad);O.uniform1i(b.colorize,M.a96);this.Hj([b.source,w,b.map,this.arG.p3])};X.qb[2]=function(){X.dR.call(this);
var w="\t\t\tprecision mediump float;\t\t\t"+X.er.eV+"\t\t\t"+X.er.GC+"\t\t\t"+X.er.Ja+"\t\t\t"+X.er.HZ+"\t\t\t"+X.er.du+"\t\t\t"+X.er.ame+"\t\t\t"+X.er.a8Q+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tuniform vec3  yF; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\tvec3 vibrate(vec3 rgb) {  \t\t\t\tvec3 yuv = rgbToYuv * rgb; \t\t\t\treturn yuvToRgb * (yuv * yF); \t\t\t} \t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\trgb = pow(rgb,vec3(2.4)); \t\t\t\t\t\t\t\trgb = clamp(vibrate(rgb), 0.0, 1.0); \t\t\t\t\t\t\t\trgb = pow(rgb,vec3(1.0/2.4)); \t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb);  \t\t\t\tfloat nsat = max(0.0, min(1.0, hsl.y*(1.0+sat)));  \t\t\t\trgb = hslToRgb(hsl.x, nsat, hsl.z);  \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t}";
this.X2(w,X.Sk.HR)};X.qb[2].prototype=new X.dR;X.qb[2].prototype.V9=function(w,M){this.wC(["source","vib","sat","yF"]);
var O=X.Mn,b=this.CO;O.uniform1f(b.vib,M.I8[0]);O.uniform1f(b.sat,M.I8[1]);O.uniform3fv(b.yF,new Float32Array([M.I8[2],M.I8[3],M.I8[3]]));
this.Hj([b.source,w])};X.qb[3]=function(){X.dR.call(this);var w="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 nsr = vec4(src.rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*nsr).rgb,src.w); \t\t\t\t\t\t\t}";
this.X2(w,X.Sk.HR)};X.qb[3].prototype=new X.dR;X.qb[3].prototype.V9=function(w,M){this.wC(["source","trf"]);
var O=X.Mn,b=this.CO;O.uniformMatrix4fv(b.trf,!1,new Float32Array(x.in.lj(M.S3)));this.Hj([b.source,w])};
X.qb[4]=function(){X.dR.call(this);var w="\t\t\tprecision mediump float; \t\t\t"+X.er.li+"\t\t\t"+X.er.eV+"\t\t\t"+X.er.du+"\t\t\t"+X.er.HZ+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 mnm;\t  \t\t\tuniform vec3 mxm;\t  \t\t\tuniform vec3 shift;   \t\t\tuniform float lim;    \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\t\t\t\t\tvec3 lab = rgbToLab(src.rgb);\t\t\t\tfloat scl = labSimilar(lab, mnm,mxm, lim);\t\t\t\t\t\t\t\tvec3 hsv = rgbToHsl(src.rgb); \t\t\t\tfloat nh = 2.0 + hsv[0]+shift[0]; \t\t\t\thsv[0] = fract(nh); \t\t\t\thsv[1] = max(0.0, min(1.0, hsv[1] + shift[1])); \t\t\t\thsv[2] = max(0.0, min(1.0, hsv[2] + shift[2])); \t\t\t\t\t\t\t\tvec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); \t\t\t\t\t\t\t\tgl_FragColor = vec4(mix(src.rgb,rgb,scl),src.w); \t\t\t\t\t\t\t}";
this.X2(w,X.Sk.HR)};X.qb[4].prototype=new X.dR;X.qb[4].prototype.V9=function(w,M){this.wC(["source","mnm","mxm","shift","lim"]);
var O=X.Mn,b=this.CO;O.uniform3fv(b.mnm,new Float32Array(M.xI));O.uniform3fv(b.mxm,new Float32Array(M.xs));
O.uniform3fv(b.shift,new Float32Array(M.shift));O.uniform1f(b.lim,M.NY);this.Hj([b.source,w])};X.qb[5]=function(){X.dR.call(this);
var w="\t\t\tprecision mediump float;\t\t\t"+X.er.Bk+"\t\t\t"+X.er.ZG+"\t\t\t"+X.er.Hq+"\t\t\t"+X.er.HZ+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.X2(w,X.Sk.HR)};X.qb[5].prototype=new X.dR;X.qb[5].prototype.V9=function(w,M){this.wC(["source","cfs"]);
var O=X.Mn,b=this.CO;O.uniform3fv(b.cfs,M.al5);this.Hj([b.source,w])};X.qb[6]=function(){X.dR.call(this);
var w="\t\t\tprecision mediump float;\t\t\t"+X.er.eV+"\t\t\t"+X.er.ZG+"\t\t\t"+X.er.Hq+"\t\t\t"+X.er.HZ+"\t\t\t"+X.er.du+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.X2(w,X.Sk.HR)};X.qb[6].prototype=new X.dR;X.qb[6].prototype.V9=function(w,M){this.wC(["source","wght","prms"]);
var O=X.Mn,b=this.CO,D=[M.Ut,M.aby,M.YF,M.ar9,M.nR,M.ag7];O.uniform1fv(b.wght,new Float32Array(M.aud));
O.uniform1fv(b.prms,new Float32Array(D));this.Hj([b.source,w])};X.qb[7]=function(){X.dR.call(this);this.EH={};
var w="\t\t\tprecision mediump float;\t\t\t"+X.er.Y0+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D lut;\t\t\tuniform float N;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 rs = mapLut(src, lut, N); \t\t\t\tgl_FragColor = vec4(rs.rgb,src.w); \t\t\t\t\t\t\t}";
this.X2(w,X.Sk.HR)};X.qb[7].prototype=new X.dR;X.qb[7].prototype.V9=function(w,M){this.wC(["source","lut","N"]);
var O=X.Mn,b=this.CO,D=M.qd,o=M.bg;if(this.EH["m"+D]==null)this.EH["m"+D]=new X.ka(D,D*D);var Z=this.EH["m"+D];
Z.set(o);O.uniform1f(b.N,D);this.Hj([b.source,w,b.lut,Z.p3]);O.activeTexture(O.TEXTURE1);var $=O.LINEAR;
O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MIN_FILTER,$);O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MAG_FILTER,$);
O.activeTexture(O.TEXTURE0)};X.filter={Jp:{},HR:"1u,/0*&<>2OI;<m^XJZ;]d/vp^r|ows/)z{M>5g7:@5nVPLIGeVMX`|njge-'&-$V&)/$BbHB4D%GNx`KSI=_f_menp%E+%vwKB4&'XQY``edhootpjxp&%*'vhxY{#>5HINMDXX]YnVW",aeM:0,a7I:1,Sy:2,ace:3,a7D:4,a7F:5,xG:6,ari:7};
X.filter.AO=function(w,M){var O=X.filter,b,D=w.type+":"+(w.Mx?w.Mx.join(","):""),b=X.filter.Jp[D];if(b==null)b=X.filter.Jp[D]=new X.Jp[w.type](w.Mx);
b.$x();b.V9(M,w);X.Mn.drawArrays(X.Mn.TRIANGLES,0,6)};X.Jp=[0,0,0,0,0,0,0,0,0,0,0,0];X.Jp[7]=function(){X.dR.call(this);
var w="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]LIYXH)P1o]q{nvr.(yzL=4f69?4mLHECaRIT\\xjfca)~|noC2).)[8*+^U`_felkrn$R[aVlzaoxD:;@N|)/G)28-CQNtjkp~`&*#!&4u*-.(q}$<}'-\"8FBi_`esTz~wuz)i~\"#xvhi=,r~(U0$:9==3bw^MLUUINwne8gjpe/}opB;/FMMRQBX__d`dGXLo%P\\e$kca,Bkw!?uR.3.CQf0<E_DAQP@QYbxm!-+0.~2iJ0).)L4,*YjDIDg>zJRH2aS\\;jjpvD}#}N4";
this.X2(dA.vO(w),dA.vO(X.filter.HR))};X.Jp[7].prototype=new X.dR;X.Jp[7].prototype.V9=function(w,M){this.wC(["source","iwh","kern"]);
var O=X.Mn,b=this.CO;O.uniform2fv(b.iwh,M.Af);O.uniform1fv(b.kern,M.a3Q);this.Hj([b.source,w])};X.Jp[6]=function(w){X.dR.call(this);
var M=w[0],O=w[1],b=w[2],D="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]SEK%cQeobjf\"{mn@1(Z*-3(a@<97UF=HPl^ZWU|rpbc7&|\"|O,}~RITSZY`_fbwFOUJ`nUcl8./4Bp|#;|&,!7EAh[\"'zuV|!7<0+k!$%zkk0$J>'x~:=<d<.4[U<KMVNV`S,j\\]1 fr{I$w.-11'VkRA@II=BkbY,[^dY#qcd6/NVb<@#4(K`,8A_G?=g}GS\\zQ.ini~-Bkw!Lw&/HK^D=B=ar<JS|X]X{c[Y):sxs7mJy\"wa1#,j::@FsMRM}c",o=dA.vO(D);
o=o.replaceAll("PRC",b+".0");o=o.replaceAll("DIR",["x,0","0,x"][O]);this.X2(o,X.Sk.HR)};X.Jp[6].prototype=new X.dR;
X.Jp[6].prototype.V9=function(w,M){this.wC(["source","iwh","rad"]);var O=X.Mn,b=this.CO;O.uniform2fv(b.iwh,M.Af);
O.uniform1f(b.rad,M.Qj);this.Hj([b.source,w])};X.Jp[4]=function(w){X.dR.call(this);var M=w[0],O=w[1],b="\t\t\tprecision highp float;\t\t\tuniform sampler2D source;\t\t\tuniform vec2 iwh;\t\t\tuniform float rrad;\t\t\tuniform float tr;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\tconst float PRC="+w[2]+".0; \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 sclr = texture2D(source, sCoord);\t\t\t\tfloat rad = rrad; \t\t\t\tif(rad!=0.0) {\t\t\t\t\tvec4 sum=vec4("+["1.0,1.0,1.0,0.0","0.0,0.0,0.0,1.0","0.0"][O]+"); vec4 cnt = vec4(0.0);\t\t\t\t\tfor(float y=-PRC; y<=PRC; y++) {\t\t\t\t\t\tif(y<-rad || y>rad) continue; \t\t\t\t\t\tfor(float x=-PRC; x<=PRC; x++) { \t\t\t\t\t\t\tif("+["x<-rad || x>rad","(x*x+y*y)>rad*rad"][M]+") continue; \t\t\t\t\t\t\tvec4 clr = texture2D(source, sCoord+vec2(x,y)*iwh);  \t\t\t\t\t\t\t"+["if(clr.w!=0.0) sum.rgb=min(sum.rgb,clr.rgb);  sum.w=max(sum.w,clr.w)","sum.rgb=max(sum.rgb,clr.rgb);  sum.w=min(sum.w,clr.w)","if(abs(sclr.r-clr.r)<tr) {  sum.r+=clr.r;  cnt.r+=1.0;  };"+"if(abs(sclr.g-clr.g)<tr) {  sum.g+=clr.g;  cnt.g+=1.0;  };"+"if(abs(sclr.b-clr.b)<tr) {  sum.b+=clr.b;  cnt.b+=1.0;  };"][O]+"; \t\t\t\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\tsclr = "+(O==2?"vec4(sum.rgb/cnt.rgb, sclr.w)":"sum")+";\t\t\t\t}\t\t\t\tgl_FragColor=sclr; \t\t\t}";
this.X2(b,X.Sk.HR)};X.Jp[4].prototype=new X.dR;X.Jp[4].prototype.V9=function(w,M){this.wC(["source","iwh","rrad","tr"]);
var O=X.Mn,b=this.CO;O.uniform2fv(b.iwh,M.Af);O.uniform1f(b.rrad,M.uv);O.uniform1f(b.tr,M.agj);this.Hj([b.source,w]);
var D=O.LINEAR;D=O.NEAREST;O.activeTexture(O.TEXTURE0);O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MIN_FILTER,D);
O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MAG_FILTER,D);O.activeTexture(O.TEXTURE0)};X.Jp[5]=function(){X.dR.call(this);
var w="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwn_ntso BW6-050`>:88DJH]WIJ{lYj^4qmkkw}{1z$*~5C(7;DmKGEEQWUjT]cXn|egmoG&s(2%-)D>01bSJ|LOUJ$O^`hlzdmsh~-bPKGLZ9520N?6AIeWSPNuki[\\0~qht}K(yzNEPQVRg6?E:P^YX]X+!\"'5sef:)xQO*}4377-\\qXGJOJkbY,[^dY!6dpv/py t+96\\OwcEjn'rThklbP\\bz\\ek`v%!H;cO0VZr^?TWXNL>?paSK(a4cfla+ykl>7+A2DH+<0eD67jYAS ZNdcgg]-B)wz z<3%|EL/gc2;A6LZ#}HV^tTf ]o+\"{mnB9DEKOUOVW^d^efpjrrwsv,Zci^t#}pIt+&@HcKLXZ]^cVd\\gssxxP_cl$()55::q!%.EISUX[^_d`cxXW\\Wlz0m`7neqz+9N,~D2&<;??5dy`ONWWKPypbZ#8}!mukU%v ^..4:g;:L^I@LUt`_d_!wocyx||rBW>-,55).WNEwGJPElriRTZ\\\"7|";
this.X2(dA.vO(w),dA.vO(X.filter.HR))};X.Jp[5].prototype=new X.dR;X.Jp[5].prototype.V9=function(w,M){this.wC(["source","ssum","iwh","amnt","edgf"]);
var O=X.Mn,b=this.CO;O.uniform2fv(b.iwh,M.Af);O.uniform1f(b.amnt,M.aed);O.uniform1f(b.edgf,M.agL);this.Hj([b.source,w,b.ssum,M.a13])};
X.Jp[3]=function(){X.dR.call(this);var w="1%* !*709;O@;=ETOUgQZ`Uk5rnllx~|2)y)/.*:\\qPGFOOCH!^ZXXdjh}wij<-y+~T2.,,8><Q;DJ?Uc[NR`.kgeeqwu+t}$x/=36(.gEA??KQOd^PQ#sjjbc>{wuu\"(&;5'(ZJ<@=JtRNLLX^\\qbYo2!tvv'@N,(&&286K<3IkZNPP`z(fThremi%~pqC4+]-06+d/?BBXEM2TTdugYZ.|v,\" qrF5)X,#=OAWACCSlkYoY[[k&!6pfx||{0!w2D-$>P<\\J`HhWioTKewc$s(o0|14JNDEJX>:,-_OE7G@qi[MN!pdo&|vhi<, ,>42$%WG=/H*8FySLTp\\g{&))4:;7CC;$0CSRPXZ_cg]Wd]quw~$}'-/50=wm $$#7-~8y(6L\\R<EKNTlZLeGUc#8}ykl?/yv./QI;-.`PDOe\\VHI{k_k}smcuyyx-8&w(!RJ6AW?K]bM?OHyq}}%'#lw.66B8\".@E0\"2+\\Tb`fbLXmxu\"wal %oaqj<4?@KOE/;PWXea]GRe_owv{nz~))3<\"}opC3,(&&UM?12dTHSi`ZLM oco\"wqgy}}|1'x)\"SK7BX@L^bmlqqxx},qZiksw&ox~s*8kpda^Z[`nMIFDbSJU]ykgdb* }opD3*|)2_:.DCGG=l\"hWV__SX\"xoBqtzo7Lz$*~5C+/=D;r:>RiYLP^}gZfo.z/Dr{\"v-;1#)d/3AH?cORDJ$UUygY_~>45:6,*{|O?6;6f5>D9O]T[$yz ~ubjb?66;Iw$*B$-3(>LIob).\"|^$(>C72s(+,\"rzrOFFKK+3+e77[PuiRDJehh0gY_'!gvx\"y\",~W&28P2;A6LZV}p7<0+k26LQE@!6KCBGC9'06+AO6NuTiKSK&WW{o6*rdj&)(P(y GA(79B:BL?wIImiU]Bddt&wij>5s,B3H2$*T[\\a]`c]DSU^V^h[4rde9(nz$Q, 6599/^sZIHQQEJsja4cfla+ykl>7u.D5GK.?3Vk:CI>TbIM)PTh obft4my#A.BW&/5*@N3K?wmnvpMYb!h$,-7>2nz$B~EMNTWS0<Ec;vENTI_mWfZ7pphi7%9uyB~#\\..R/G;tMMEFsbtnUaj)phfD2>>CC /#KO,8A_G?=]kcM\\Pyi[\\/'9384Iw!'{2@49>iW6:t@DRYPj-p{~^bpwn6os;D|!/6-PJgP[:>y|rsx+~ %2#ae1ko}%{?H $KNc2;A6LZAX!ww||chm7ry0En&L(-(H]'>S0<EcKCA|beywX`V@oajIxx~%R\"*n11ARD67jaippus_2adj_,y.98=<@GGLJ6h8;A6bQdonsrzx {~8rde90<:B@HFNI]=/0cZedkjqpxs)z#vm`luC qrF=,1,P8?V^^c_tZVHI{k_S2n`a4,zM| &zG5K6h8;A6bQfontp]0_bh]*w+@~pqD4(|Z7)*\\TCuEHNCo^s}{#',$pCru{p=+AJIQK8j:=C8dSezYKL~n`dk`;osp};*PSIJOBdHA=;;jbNBoWLuo-u`]tu80{o=%yCX**N8<9FcSx{rrwsm_cj_+x@tx t@/U*.5*UEhD7CLjRJHhv,yY]kri.uyv$A/BF.29.f6>4}M?H'VV\\b0i\\hq=#";
this.X2(dA.vO(w),dA.vO(X.filter.HR))};X.Jp[3].prototype=new X.dR;X.Jp[3].prototype.V9=function(w,M){this.wC("source iwh tdep rrad spec nois poly0 poly1".split(" "));
var O=X.Mn,b=this.CO;O.uniform2fv(b.iwh,M.Af);O.uniform1f(b.tdep,M.ald);O.uniform1f(b.rrad,M.uv);O.uniform2fv(b.spec,M.a0P);
O.uniform3fv(b.nois,M.anH);O.uniformMatrix4fv(b.poly0,!1,M.akg);O.uniformMatrix4fv(b.poly1,!1,M.ajB);
this.Hj([b.source,w]);var D=O.LINEAR;O.activeTexture(O.TEXTURE0);O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MIN_FILTER,D);
O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MAG_FILTER,D);O.activeTexture(O.TEXTURE0)};X.Jp[0]=function(){X.dR.call(this);
var w="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZTFGyiYT.unjhhtzx.w!'{2@7/3;5mUO=Q[NVRmgYZ,|sFux~sM5~(.#9G23E'?;AOZm_QR$th$}|$mv|q(62M?_E=1GFJJ@o%kZYbbV[%{o-{mn@9AHHMLCVW\\X\\?PDgo\\#jT]cXn|x5&F,$w.-11'VkRA@II=BkbVsbTU' z//43*=>C?C&7+NVCiQ;DJ?Uc`zl-rj^tswwm=R9('00$)RI=ZI;<mfatuzy}%%*&*l}q5=*P8\"+1&<JGbSsYQE[Z^^T$9 nmvvjo90$A0\"#TMH[\\a`WkkplpSdX{$p7~hqwl#1x0J=]CVWc[R:Qm^~doc }l(#8 irxm$2y2L>^DWXd\\S;Sn_ epe!~n)$9!zlm@0\"6V<.286-;;O=bTFGyqyTk(#`x31(8r*DA~7ROF.E_\\:Rlgj g]Seiih|drz1xs>$AV>?D>:75SD;FNj\\XUSztszdmsh~-({6V<PPUHVN9:L.FBHVatc6ehnc+/{sw yR:%-#l<.7uEEKQa\"g_Sihllb2G.|{%%x}G>5g7:@5\\`QEzbc";
this.X2(dA.vO(w),dA.vO(X.filter.HR))};X.Jp[0].prototype=new X.dR;X.Jp[0].prototype.V9=function(w,M){this.wC(["source","iwh","ld","shine"]);
var O=X.Mn,b=this.CO;O.uniform2fv(b.iwh,M.Af);O.uniform3fv(b.ld,M.atl);O.uniform1f(b.shine,M.amE);this.Hj([b.source,w,b.tang,M.jn])};
X.Jp[1]=function(){X.dR.call(this);var w="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZDMSH^lYfY4{tpnnz!~4}'-\"8F,?9FJEAya[I]gZb^ysef8) R\"%+ YA+4:/ES?;PHjLU[Pfths*!jsyn%3'3E?>E/8>3IWM?X:HVl-ribj'r}2<??JPQMYYQ:FYihfnpuy}smzs(,.5:4=CEKFS;1'9==<PF8Q3AOeukU^dgm&se~`n|<Q9:?)28-CQ<=O,PMZOtfXY+{n+%$+%vwI:.@`FQ<ZI;<mfwuzx}|%(1+0,/3u#uP82$%VG9>PpV@IORXp\\w-tn`a3$u|]0P6*I.3`H2;A6LZQqt$]V^z'**/+@(\"stF7}M@`F-<CZDIdhUux&mgYZ,|c4&F,r\")@*/L;-._Xddihppuqtxe&)6}gpvk\"0\"6V<($91S2abPfApq`r(oYbh]s\"sz+K1|x.&H'WWE[6efUg|dNW]Rhvha @&qm#z={KL:P+[[J\\qYCLRG]k]dYw8}iezr5sDD2H#SSBTiQ;DJ?UcOzl-rcbt'p%4+|$@&-mN<OdL6?E:P^Jvg(m^]o\"kd/t{p;!(hI7J_G1:@5KYS_ eVUgy])'}i63x `A0BW?9EeKVHTsZmnxoi,o#$)6005C+t}$x/=373>LlRLXf^DWQ^b]Yv$|hdyq4r\")@,L:MQ>^a_:IPgSsbtxe&)$9!vl~##\"6,0,7OP\\\\acjhmi~fglfb_]{lcnv3%!}{C=<C=/0aRNR[{aX+Z]cX&cth>& qrF5{++AaG?3IHLLBq'm\\[ddX]'}tGvy t<Q9 //S*KkQ<=O,PMZOthl~4{fndN}oxW''-3CcI0??pXY";
this.X2(dA.vO(w),dA.vO(X.filter.HR))};X.Jp[1].prototype=new X.dR;X.Jp[1].prototype.V9=function(w,M){this.wC(["source","iwh","isc","bristle"]);
var O=X.Mn,b=this.CO;O.uniform2fv(b.iwh,M.Af);O.uniform1f(b.isc,M.agX);O.uniform1f(b.bristle,M.a1G);
this.Hj([b.source,w])};X.Jp[2]=function(){X.dR.call(this);var w="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$zkz! {,NcB:*:6lTMIGGSYWlfXY+{hymC+$ }}*0.C-6<1GULEFOF#jc_]]iom#lu{p'5}4/1_GA/CM@HD_YKL}ne8gjpe?'py t+94%,-1@NY;DJ?Uc_rlkrh^ptts(p'\"<7G.0;NBX5KFHdmivuzwd]^g^*vopyp;5AV>?D>:75SD;FNj\\XUSztszdmsh~-x+S-&'0'S?89B9u]GPVKaofmx9~338F.(yzN=494IiOG;QPTTJy/udcll`e/&|O~\"(|DYA;-._P:GYy_tsxuvfZpossi9N5%t%!H?6h8;A6]eSWmZLM~w#$.(/0:14I1+|}O@(FfL6CpXBNTlQYbp]4*8 lB;G/{@CD>=D>01bSGYy_V)X[aV0wams,mv|q(6,YOPUcKAmfgjmns\"i_z}~xw~xjk=.~x7W=RQVSTD8NMQQGv,rbRb^&|p,4\"&<)z{MFQR\\V]^h_bw_LLpP^f|e_*e-C:;@<65<-'bU93lTUZB`!fWQ+rfx'<\"rl5w)|R:$-3(>LGRrXSDKLP_uc|2ypup&4I/*?-!76::0_t[JIRRFKtk_z0wnu,A~E-yy>,Z\\+=QK1D:9Fx`afN*|Yf4{|\"ltjT$u~]--39IiOFKFefrrwyah|2yz";
this.X2(dA.vO(w),dA.vO(X.filter.HR))};X.Jp[2].prototype=new X.dR;X.Jp[2].prototype.V9=function(w,M){this.wC(["source","tang","iwh","sigma","expo"]);
var O=X.Mn,b=this.CO;O.uniform2fv(b.iwh,M.Af);O.uniform1f(b.sigma,M.atB);O.uniform1f(b.expo,M.atQ);this.Hj([b.source,w,b.tang,M.jn]);
var D=O.LINEAR;O.activeTexture(O.TEXTURE0);O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MIN_FILTER,D);O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MAG_FILTER,D);
O.activeTexture(O.TEXTURE0)};function x(){}x.Y={};x.axG={};x.adR=function(){var w=[64,64,128,256,512,1024,2048],M=[];
for(var U=0;U<w.length;U++){var O=w[U],b=document.createElement("canvas");b.width=O;b.height=O;M.push(b.getContext("2d"))}return M}();
x.$B=function(w,M){var O,b=x.adR,U=1,D=Math.max(w,M);while(U<b.length&&D>b[U].canvas.width)U++;if(U==b.length){O=b[0];
var o=O.canvas;o.width=w;o.height=M}else{O=b[U];O.clearRect(0,0,w,M)}return O};x.uU=function(w,M,O){var b=new Uint32Array(M*O);
b[0]=w[0];for(var D=1;D<M;D++)b[D]=b[D-1]+w[D];for(var o=1;o<O;o++){var U=o*M;b[U]=b[U-M]+w[U];for(var D=1;
D<M;D++)b[U+D]=w[U+D]+b[U+D-1]+b[U+D-M]-b[U+D-M-1]}return b};x.cY=function(w,M,O,b,D,o){var Z=(D-1)*M,$=o*M;
return w[$+b]-w[$+O-1]-w[Z+b]+w[Z+O-1]};x.$Z=function(w,M,O){var b={},D=0,o=0,Z=new Uint32Array(w.buffer),$=Z.length,k=Date.now();
for(var E=1;E<O-1;E++)for(var t=1;t<M-1;t++){var c=E*M+t,l=Z[c];if(l>>>24<230)o++;if(b[l]==null){b[l]=!0;
D++}}if(o!=0||D<20)return!1;return!0};x.zp=function(w,M,O,b,D,o){if(D==null)D=o=0;b=Math.log(b)/Math.log(2);
b=Math.round(b);for(var U=0;U<O;U++)for(var Z=0;Z<M;Z++){var $=U*M+Z<<2,k=x.sj(U+o,Z+D,b);w[$]=w[$+1]=w[$+2]=k;
w[$+3]=255}};x.sj=function(U,w,M){return 255-((U>>>M)+(w>>>M)&1)*51};x.zZ=function(w){var M=w.toString(16);
while(M.length<6)M="0"+M;return M};x.SB=function(w){return parseInt(w,16)};x.YF=function(w){return.3*w.o+.59*w.w+.11*w.L};
x.wF=function(w){return Math.max(w.o,w.w,w.L)-Math.min(w.o,w.w,w.L)};x.nJ=function(w,M,O){return.3*w+.59*M+.11*O};
x.a0n=function(w,M,O){return Math.max(w,M,O)-Math.min(w,M,O)};x.ZG=function(w,M){var O=M-w,b=Math.abs(O),D=O-1,o=O+1;
if(Math.abs(D)<b)O=D;else if(Math.abs(o)<b)O=o;return O};x.I6=function(w){return w<.0031308?12.92*w:1.055*Math.pow(w,1/2.4)-.055};
x.dm=function(w){return w<.04045?w/12.92:Math.pow((w+.055)/1.055,2.4)};x.ayg=function(w,M){var O=Math.min(w.length,M.length);
for(var U=0;U<O;U+=4){var b=w[U],D=w[U+1],o=w[U+2];M[U]=16+Math.floor(65.481/255*b+128.553/255*D+24.966/255*o+.5);
M[U+1]=128-Math.floor(37.797/255*b-74.203/255*D+112/255*o+.5);M[U+2]=128+Math.floor(112/255*b-93.786/255*D-18.214/255*o+.5);
M[U+3]=w[U+3]}};x.apF=function(w,M,O){var b,D,o,Z=Math.max(w,M,O),$=Math.min(w,M,O);o=Z;if(Z!=0)D=(Z-$)/Z;
else D=0;if(D==0)b=0;else{var k=Z-$,E=(Z-w)/k,t=(Z-M)/k,c=(Z-O)/k;if(w==Z)b=c-t;else if(M==Z)b=2+E-c;
else b=4+t-E;b*=1/6;if(b<0)b=b+1}return{e3:b,h7:D,L:o}};x.adm=function(w,M,O){var b=0,D=0,o=0;if(M==0)b=D=o=O;
else{var Z=(w-Math.floor(w))*6,$=Math.floor(Z),k=Z-Math.floor(Z),E=O*(1-M),t=O*(1-M*k),c=O*(1-M*(1-k));
switch($){case 0:b=O;D=c;o=E;break;case 1:b=t;D=O;o=E;break;case 2:b=E;D=O;o=c;break;case 3:b=E;D=t;
o=O;break;case 4:b=c;D=E;o=O;break;case 5:b=O;D=E;o=t;break}}return{o:b,w:D,L:o}};x.HZ=function(w,M,O){var b=Math.max(w,M,O),D=Math.min(w,M,O),o=0,Z=0,$=(b+D)*.5;
if(b!=D){var k=b-D;Z=$>.5?k/(2-(b+D)):k/(b+D);switch(b){case w:o=(M-O)/k+(M<O?6:0);break;case M:o=(O-w)/k+2;
break;case O:o=(w-M)/k+4;break}o*=1/6}return{e3:o,h7:Z,dI:$}};x.du=function(w,M,O){var b,D,o;if(M==0)b=D=o=O;
else{var Z=O<.5?O*(1+M):O+M-O*M,$=2*O-Z;b=x.eV($,Z,w+1/3);D=x.eV($,Z,w);o=x.eV($,Z,w-1/3)}return{o:b,w:D,L:o}};
x.eV=function(w,M,O){if(O<0)O+=1;if(O>1)O-=1;if(O<1/6)return w+(M-w)*6*O;if(O<1/2)return M;if(O<2/3)return w+(M-w)*(2/3-O)*6;
return w};x.GC=function(w,M,O){var b=Math.max(w,M,O),D=Math.min(w,M,O),o,Z,$=b,k=b-D;Z=b==0?0:k/b;if(b==D)o=0;
else{switch(b){case w:o=(M-O)/k+(M<O?6:0);break;case M:o=(O-w)/k+2;break;case O:o=(w-M)/k+4;break}o*=1/6}return{e3:o,h7:Z,X$:$}};
x.Ja=function(w,M,O){var b,D,o,U,Z,$,k,E;U=Math.floor(w*6);Z=w*6-U;$=O*(1-M);k=O*(1-Z*M);E=O*(1-(1-Z)*M);
switch(U%6){case 0:b=O,D=E,o=$;break;case 1:b=k,D=O,o=$;break;case 2:b=$,D=O,o=E;break;case 3:b=$,D=k,o=O;
break;case 4:b=E,D=$,o=O;break;case 5:b=O,D=$,o=k;break}return{o:b,w:D,L:o}};x.eo=function(){var w=[],M=[];
for(var U=0;U<2e3;U++){var O=U/1e3;w[U]=x.dm(O);M[U]=O>.008856?Math.pow(O,1/3):(903.3*O+16)*(1/116)}return[w,M]}();
x.li=function(w,M,O){var b=x.eo[0],D=x.eo[1];w=b[~~(w*(1e3/255))];M=b[~~(M*(1e3/255))];O=b[~~(O*(1e3/255))];
var o=x.in.a5,Z=o[0]*w+o[1]*M+o[2]*O,$=o[4]*w+o[5]*M+o[6]*O,k=o[8]*w+o[9]*M+o[10]*O;Z=Z*(100/96.72);
$=$*(100/100);k=k*(100/81.427);return x.nE(Z,$,k)};x.nE=function(w,M,O){var b=x.eo[1],D=b[~~(w*1e3)],o=b[~~(M*1e3)],Z=b[~~(O*1e3)];
return{XZ:116*o-16,ip:500*(D-o),L:200*(o-Z)}};x.Bx=function(w,M,O){var b=903.3,D=.008856,o=(w+16)/116,Z=o*o*o,$=o-O/200,k=$*$*$,E=M/500+o,t=E*E*E,c=k>D?k:(116*$-16)/b,l=Z>D?Z:(116*o-16)/b,q=t>D?t:(116*E-16)/b,d=q*96.72,V=l*100,L=c*81.427,e=x.in.Tl(x.in.SU,[d/100,V/100,L/100,0]);
for(var U=0;U<4;U++)e[U]=Math.max(0,Math.min(255,x.I6(e[U])*255));return{o:e[0],w:e[1],L:e[2]}};x.Be=function(w,M,O,b,D){var o=w.XZ,Z=w.ip,$=w.L,k=(o<M.XZ?M.XZ-o:O.XZ<o?O.XZ-o:0)*(1/100),E=(Z<M.ip?M.ip-Z:O.ip<Z?O.ip-Z:0)*(1/116),t=($<M.L?M.L-$:O.L<$?O.L-$:0)*(1/116),c=Math.sqrt(k*k+E*E+t*t)*1.35;
return c<=b?Math.min(1,1.17*(1-c*D)):0};x.C3=function(w,M,O){var b=w.length,D=.3,o=.59,Z=.11;if(O){D=O[0];
o=O[1];Z=O[2]}for(var U=0;U<b;U+=4)M[U>>2]=~~(w[U+0]*D+w[U+1]*o+w[U+2]*Z+.5)};x.CA=function(w,M){var O=M.length;
for(var U=0;U<O;U+=4){var b=w[U>>>2];M[U]=b;M[U+1]=b;M[U+2]=b}};x.RB=function(w,M){var O=w.ip,b=w.o,D=w.w,o=w.L,Z=Math.min(w.ip.length,M.buffer.byteLength>>>2),$=4*Math.floor(Z/4),k=new Uint32Array(M.buffer),E=new Uint32Array(O.buffer),t=new Uint32Array(b.buffer),c=new Uint32Array(D.buffer),l=new Uint32Array(o.buffer);
for(var U=0;U<$;U+=4){var q=E[U>>2],d=l[U>>2],V=c[U>>2],L=t[U>>2];k[U]=q<<24|(d&255)<<16|(V&255)<<8|L&255;
k[U+1]=(q&65280)<<16|(d&65280)<<8|V&65280|(L&65280)>>>8;k[U+2]=(q&16711680)<<8|d&16711680|(V&16711680)>>>8|(L&16711680)>>>16;
k[U+3]=q&4278190080|(d&4278190080)>>>8|(V&4278190080)>>>16|(L&4278190080)>>>24}for(var U=$;U<Z;U++)k[U]=O[U]<<24|o[U]<<16|D[U]<<8|b[U]};
x.tb=function(w,M){var O=M.ip,b=M.o,D=M.w,o=M.L,Z=Math.min(M.ip.length,w.buffer.byteLength>>>2),$=4*Math.floor(Z/4),k=new Uint32Array(w.buffer),E=new Uint32Array(O.buffer),t=new Uint32Array(b.buffer),c=new Uint32Array(D.buffer),l=new Uint32Array(o.buffer);
for(var U=0;U<$;U+=4){var q=k[U],d=k[U+1],V=k[U+2],L=k[U+3];t[U>>2]=q&255|(d&255)<<8|(V&255)<<16|L<<24;
c[U>>2]=(q&65280)>>8|d&65280|(V&65280)<<8|(L&65280)<<16;l[U>>2]=(q&16711680)>>16|(d&16711680)>>8|V&16711680|(L&16711680)<<8;
E[U>>2]=q>>>24|d>>>24<<8|V>>>24<<16|L&4278190080}for(var U=$;U<Z;U++){var e=k[U];b[U]=e>>0&255;D[U]=e>>8&255;
o[U]=e>>16&255;O[U]=e>>24&255}};x.Oj=function(w,M,O){var b=new Uint8Array(w.buffer),D=Math.min(b.length/4,M.length);
for(var U=0;U<D;U++){M[U]=b[(U<<2)+O]}};x.Jm=function(w,M,O){var b=new Uint8Array(M.buffer),D=new Uint32Array(w.buffer),o=Math.min(b.length/4,w.length),U=0;
while(U+4<o){var Z=D[U>>>2];b[(U<<2)+O]=Z&255;b[(U<<2)+O+4]=Z>>>8&255;b[(U<<2)+O+8]=Z>>>16&255;b[(U<<2)+O+12]=Z>>>24;
U+=4}while(U<o){b[(U<<2)+O]=w[U];U++}};x.TZ=function(w,M,O){if(O==null)O=0;var b=new Uint32Array(w.buffer),D=b.length;
for(var U=0;U<D;U++)b[U]=b[U]&O|M};x.asv=function(w,M,O,b,D){if(D==null)D=0;var o=new Uint32Array(w.buffer);
O=O.mX(M);var Z=O.x-M.x,$=O.y-M.y,k=O.e,E=O.n,t=M.e;for(var c=0;c<E;c++){var U=($+c)*t+Z;for(var l=0;
l<k;l++){o[U]=o[U]&D|b;U++}}};x.U7=function(w,M){var O=Math.min(w.buffer.byteLength,M.buffer.byteLength),b=O>>>2,w=new Uint32Array(w.buffer,0,b),M=new Uint32Array(M.buffer,0,b);
M.set(w)};x.M5=function(w,M){var O=w.buffer.byteLength,b=M.buffer.byteLength,D=new Uint32Array(w.buffer,0,O>>2),o=new Uint32Array(M.buffer,0,b>>2);
if(O!=b)return!1;var Z=D.length;for(var U=0;U<Z;U++)if(o[U]!=D[U])return!1;return!0};x.ZW=function(w){var M=new Uint32Array(w.buffer),O=M.length;
for(var U=0;U<O;U++)M[U]=~M[U]};x.anQ=function(w){var M=w.length;for(var U=0;U<M;U+=4){w[U]=~w[U];w[U+1]=~w[U+1];
w[U+2]=~w[U+2]}};x.aiV=function(w){var M=w.length;for(var U=3;U<M;U+=4)w[U]=~w[U]};x.af6=function(w){return w+(w%4==0?0:4-w%4)};
x.$=function(w,M){if(M==null)M=!1;if(!M)w=x.af6(w);try{var O=new Uint8Array(w)}catch(fr){alert("Not enough RAM! (need "+Math.round(w/(1<<20))+" MB)",7e3);
throw"low_ram"}return O};x.aS=function(w){var M=w.length,O=w[M-2],b=w[M-1];while(b.e>=2&&b.n>=2){var D=x.YK(O,b);
w.push(D.AJ,D.rect);O=D.AJ;b=D.rect}};x.eM=function(w){var M=w.length,O=w[M-2],b=w[M-1];while(b.e>=2&&b.n>=2){var D=x.VW(O,b);
w.push(D.AJ,D.rect);O=D.AJ;b=D.rect}};x.YK=function(w,M,O){var b=M.e,D=M.n,o=b>>1,Z=D>>1,$=new cn(M.x,M.y,o,Z),k=O&&O.length==o*Z*4?O:x.$(o*Z*4),E=new Uint32Array(w.buffer),t=new Uint32Array(k.buffer);
for(var c=0;c<Z;c++)for(var l=0;l<o;l++){var q=c*o+l,d=(c<<1)*b+(l<<1),V=E[d],L=E[d+1],e=E[d+b],H=E[d+b+1],j=V>>>24,g=L>>>24,K=e>>>24,a=H>>>24,T=j+g+K+a;
if(T==1020){var C=(V>>>0&255)+(L>>>0&255)+(e>>>0&255)+(H>>>0&255)+2>>>2,F=(V>>>8&255)+(L>>>8&255)+(e>>>8&255)+(H>>>8&255)+2>>>2,m=(V>>>16&255)+(L>>>16&255)+(e>>>16&255)+(H>>>16&255)+2>>>2;
t[q]=255<<24|m<<16|F<<8|C}else if(T==0)t[q]=0;else{var C=(V>>>0&255)*j+(L>>>0&255)*g+(e>>>0&255)*K+(H>>>0&255)*a,F=(V>>>8&255)*j+(L>>>8&255)*g+(e>>>8&255)*K+(H>>>8&255)*a,m=(V>>>16&255)*j+(L>>>16&255)*g+(e>>>16&255)*K+(H>>>16&255)*a,N=1/T;
C=~~(C*N+.5);F=~~(F*N+.5);m=~~(m*N+.5);t[q]=T+2>>>2<<24|m<<16|F<<8|C}}return{rect:$,AJ:k}};x.h9=function(w,M,O){var b=M.e,D=M.n,o=b>>1,Z=D>>1,$=new cn(M.x,M.y,o,Z),k=O&&O.length==o*Z*4?O:x.$(o*Z*4),E=new Uint32Array(w.buffer),t=new Uint32Array(k.buffer);
for(var c=0;c<Z;c++)for(var l=0;l<o;l++){var q=c*o+l,d=(c<<1)*b+(l<<1),V=E[d],L=E[d+1],e=E[d+b],H=E[d+b+1],j=2+(V>>>0&255)+(L>>>0&255)+(e>>>0&255)+(H>>>0&255)>>>2,g=2+(V>>>8&255)+(L>>>8&255)+(e>>>8&255)+(H>>>8&255)>>>2,K=2+(V>>>16&255)+(L>>>16&255)+(e>>>16&255)+(H>>>16&255)>>>2,a=2+(V>>>24&255)+(L>>>24&255)+(e>>>24&255)+(H>>>24&255)>>>2;
t[q]=a<<24|K<<16|g<<8|j}return{rect:$,AJ:k}};x.aqK=function(w,M,O){var b=M.e,D=M.n,o=2*Math.floor(b/3),Z=2*Math.floor(D/3),$=new cn(M.x,M.y,o,Z),k=O&&O.length==o*Z*4?O:x.$(o*Z*4),E=new Uint32Array(w.buffer),t=new Uint32Array(k.buffer);
for(var c=0;c<Z;c+=2)for(var l=0;l<o;l+=2){var q=c*o+l,d=(c*3>>>1)*b+(l*3>>>1),V=E[d],L=E[d+1],e=E[d+2],H=E[d+b],j=E[d+1+b],g=E[d+2+b],K=E[d+b+b],a=E[d+1+b+b],T=E[d+2+b+b],C=V>>>24<<2,F=(V>>>16&255)*C,m=(V>>>8&255)*C,N=(V&255)*C,v=L>>>24<<1,h=(L>>>16&255)*v,P=(L>>>8&255)*v,J=(L&255)*v,Y=e>>>24<<2,B=(e>>>16&255)*Y,S=(e>>>8&255)*Y,r=(e&255)*Y,I=H>>>24<<1,f=(H>>>16&255)*I,s=(H>>>8&255)*I,W=(H&255)*I,i=j>>>24,u=(j>>>16&255)*i,z=(j>>>8&255)*i,G=(j&255)*i,g_=g>>>24<<1,cl=(g>>>16&255)*g_,p=(g>>>8&255)*g_,b2=(g&255)*g_,jz=K>>>24<<2,aT=(K>>>16&255)*jz,fZ=(K>>>8&255)*jz,ft=(K&255)*jz,cc=a>>>24<<1,kr=(a>>>16&255)*cc,hG=(a>>>8&255)*cc,hi=(a&255)*cc,bU=T>>>24<<2,ic=(T>>>16&255)*bU,iQ=(T>>>8&255)*bU,bx=(T&255)*bU,aR=C+v+I+i,gs=Y+v+g_+i,k7=jz+cc+I+i,fT=bU+cc+g_+i,aH=aR==0?0:1/aR,e7=gs==0?0:1/gs,dB=k7==0?0:1/k7,ia=fT==0?0:1/fT,d7=0,hf=0,gv=0,hN=0;
d7=~~(.5+(N+J+W+G)*aH);hf=~~(.5+(m+P+s+z)*aH);gv=~~(.5+(F+h+f+u)*aH);hN=~~(.5+aR*(1/9));t[q]=hN<<24|gv<<16|hf<<8|d7;
d7=~~(.5+(r+J+b2+G)*e7);hf=~~(.5+(S+P+p+z)*e7);gv=~~(.5+(B+h+cl+u)*e7);hN=~~(.5+gs*(1/9));t[q+1]=hN<<24|gv<<16|hf<<8|d7;
d7=~~(.5+(ft+hi+W+G)*dB);hf=~~(.5+(fZ+hG+s+z)*dB);gv=~~(.5+(aT+kr+f+u)*dB);hN=~~(.5+k7*(1/9));t[q+o]=hN<<24|gv<<16|hf<<8|d7;
d7=~~(.5+(bx+hi+b2+G)*ia);hf=~~(.5+(iQ+hG+p+z)*ia);gv=~~(.5+(ic+kr+cl+u)*ia);hN=~~(.5+fT*(1/9));t[q+o+1]=hN<<24|gv<<16|hf<<8|d7}return{rect:$,AJ:k}};
x.avH=function(w,M,O){var b=M.e,D=M.n,o=2*Math.floor(b/3),Z=2*Math.floor(D/3),$=new cn(M.x,M.y,o,Z),k=O&&O.length==o*Z*4?O:x.$(o*Z*4),E=new Uint32Array(w.buffer),t=new Uint32Array(k.buffer);
for(var c=0;c<Z;c+=2)for(var l=0;l<o;l+=2){var q=c*o+l,d=(c*3>>>1)*b+(l*3>>>1),V=E[d],L=E[d+1],e=E[d+2],H=E[d+b],j=E[d+1+b],g=E[d+2+b],K=E[d+b+b],a=E[d+1+b+b],T=E[d+2+b+b],C=(V>>>16&255)<<2,F=(V>>>8&255)<<2,m=(V&255)<<2,N=(L>>>16&255)<<1,v=(L>>>8&255)<<1,h=(L&255)<<1,P=(e>>>16&255)<<2,J=(e>>>8&255)<<2,Y=(e&255)<<2,B=(H>>>16&255)<<1,S=(H>>>8&255)<<1,r=(H&255)<<1,I=j>>>16&255,f=j>>>8&255,s=j&255,W=(g>>>16&255)<<1,i=(g>>>8&255)<<1,u=(g&255)<<1,z=(K>>>16&255)<<2,G=(K>>>8&255)<<2,g_=(K&255)<<2,cl=(a>>>16&255)<<1,p=(a>>>8&255)<<1,b2=(a&255)<<1,jz=(T>>>16&255)<<2,aT=(T>>>8&255)<<2,fZ=(T&255)<<2,ft=0,cc=0,kr=0;
ft=~~(.5+(m+h+r+s)*(1/9));cc=~~(.5+(F+v+S+f)*(1/9));kr=~~(.5+(C+N+B+I)*(1/9));t[q]=255<<24|kr<<16|cc<<8|ft;
ft=~~(.5+(Y+h+u+s)*(1/9));cc=~~(.5+(J+v+i+f)*(1/9));kr=~~(.5+(P+N+W+I)*(1/9));t[q+1]=255<<24|kr<<16|cc<<8|ft;
ft=~~(.5+(g_+b2+r+s)*(1/9));cc=~~(.5+(G+p+S+f)*(1/9));kr=~~(.5+(z+cl+B+I)*(1/9));t[q+o]=255<<24|kr<<16|cc<<8|ft;
ft=~~(.5+(fZ+b2+u+s)*(1/9));cc=~~(.5+(aT+p+i+f)*(1/9));kr=~~(.5+(jz+cl+W+I)*(1/9));t[q+o+1]=255<<24|kr<<16|cc<<8|ft}return{rect:$,AJ:k}};
x.pl=function(w){var M=255,O=w.length;O-=O&31;for(var U=3;U<O;U+=32)M=M&w[U]&w[U+4]&w[U+8]&w[U+12]&w[U+16]&w[U+20]&w[U+24]&w[U+28];
return M!=255};x.a4E=function(w,M,O,b){var D=x.YK,o=x.aqK,$=0;if(!x.pl(w)){D=x.h9;o=x.avH}var Z={AJ:w,rect:M},k=O;
while(k<.499){$++;k*=2}for(var U=0;U<$;U++)Z=D(Z.AJ,Z.rect,b);if(k<.5001)Z=D(Z.AJ,Z.rect,b);else Z=o(Z.AJ,Z.rect,b);
return Z};x.a0x=function(w,M,O,b){var D=x.VW,o=x.Ae,Z={AJ:w,rect:M},$=0,k=O;while(k<.499){$++;k*=2}for(var U=0;
U<$;U++)Z=D(Z.AJ,Z.rect,b);if(k<.5001)Z=D(Z.AJ,Z.rect,b);else Z=o(Z.AJ,Z.rect,b);return Z};x.VW=function(w,M,O){var b=M.e,D=M.n,o=b>>1,Z=D>>1,$=new cn(M.x,M.y,o,Z);
if(w==null)return{rect:$};var k=O&&O.length>=o*Z?O:x.$(o*Z);for(var E=0;E<Z;E++){var t=E*o;for(var c=0;
c<o;c++){var l=(E<<1)*b+(c<<1);k[t+c]=2+w[l]+w[l+1]+w[l+b]+w[l+b+1]>>>2}}return{rect:$,AJ:k}};x.Ae=function(w,M,O){var b=M.e,D=M.n,o=2*Math.floor(b/3),Z=2*Math.floor(D/3),$=new cn(M.x,M.y,o,Z);
if(w==null)return{rect:$};var k=O&&O.length>=o*Z?O:x.$(o*Z);for(var E=0;E<Z;E+=2)for(var t=0;t<o;t+=2){var c=E*o+t,l=(E*3>>>1)*b+(t*3>>>1),q=w[l]<<2,d=w[l+1]<<1,V=w[l+2]<<2,L=w[l+b]<<1,e=w[l+1+b],H=w[l+2+b]<<1,j=w[l+b+b]<<2,g=w[l+1+b+b]<<1,K=w[l+2+b+b]<<2;
k[c]=~~(.5+(q+d+L+e)*(1/9));k[c+1]=~~(.5+(V+d+H+e)*(1/9));k[c+o]=~~(.5+(j+g+L+e)*(1/9));k[c+o+1]=~~(.5+(K+g+H+e)*(1/9))}return{rect:$,AJ:k}};
x.CV=function(w,M,O,b,D){var o=M.mX(b);if(D)o=o.mX(D);var Z=Math.max(0,o.x-M.x),$=Math.max(0,o.x-b.x),k=Math.max(0,o.y-M.y),E=Math.max(0,o.y-b.y),t=o.e,c=o.n;
for(var U=0;U<c;U++){var l=(k+U)*M.e+Z,q=(E+U)*b.e+$;O.set(new Uint8Array(w.buffer,l,t),q)}};x.H_=function(w,M,O,b){if(M.M5(b)){x.Jm(w,O,3);
return}var D=M.mX(b),o=Math.max(0,D.x-M.x),Z=Math.max(0,D.x-b.x),$=Math.max(0,D.y-M.y),k=Math.max(0,D.y-b.y),E=D.e,t=D.n;
for(var U=0;U<t;U++){var c=($+U)*M.e+o,l=(k+U)*b.e+Z;for(var q=0;q<E;q++)O[(l+q<<2)+3]=w[c+q]}};x.Xz=function(w,M,O,b){var D=M.mX(b),o=Math.max(0,D.x-M.x),Z=Math.max(0,D.x-b.x),$=Math.max(0,D.y-M.y),k=Math.max(0,D.y-b.y),E=D.e,t=D.n;
for(var U=0;U<t;U++){var c=($+U)*M.e+o,l=(k+U)*b.e+Z;for(var q=0;q<E;q++)O[l+q]=w[(c+q<<2)+3]}};x.xu=function(w,M,O,b,D){if(M.M5(b)&&(D==null||D.M5(b))){x.U7(w,O);
return}w=new Uint32Array(w.buffer),O=new Uint32Array(O.buffer);var o=M.mX(b);if(D)o=o.mX(D);var Z=Math.max(0,o.x-M.x),$=Math.max(0,o.x-b.x),k=Math.max(0,o.y-M.y),E=Math.max(0,o.y-b.y),t=o.e,c=o.n,l=t&3,q=l==0?t:t-l;
for(var U=0;U<c;U++){var d=(k+U)*M.e+Z,V=(E+U)*b.e+$;O.set(new Uint32Array(w.buffer,d*4,t),V)}};x.ld=function(w,M,O,b){var D=M.mX(b),o=Math.max(0,D.x-M.x),Z=Math.max(0,D.x-b.x),$=Math.max(0,D.y-M.y),k=Math.max(0,D.y-b.y),E=D.e,t=D.n,c=w.ip,l=w.o,q=w.w,d=w.L,V=O.ip,L=O.o,e=O.w,H=O.L;
for(var U=0;U<t;U++){var j=($+U)*M.e+o,g=(k+U)*b.e+Z;for(var K=0;K<E;K++){V[g+K]=c[j+K];L[g+K]=l[j+K];
e[g+K]=q[j+K];H[g+K]=d[j+K]}}};x.UL=function(w){var M=w.length;for(var U=0;U<M;U+=4){var O=w[U+3];if(O==255)continue;
w[U]=~~(w[U]*O*(1/255)+.5);w[U+1]=~~(w[U+1]*O*(1/255)+.5);w[U+2]=~~(w[U+2]*O*(1/255)+.5)}};x.Ii=function(w){var M=w.length;
for(var U=0;U<M;U+=4){var O=w[U+3];if(O==0||O==255)continue;var b=255/O;w[U]=~~(w[U]*b+.5);w[U+1]=~~(w[U+1]*b+.5);
w[U+2]=~~(w[U+2]*b+.5)}};x.ez=function(w,M){for(var U=0;U<w.length;U++)if(w[U]!=M)return!1;return!0};
x.Nj=function(w){return w+1+(w>>>8)>>>8};x.round=function(w,M){if(M==null)M=128;var O=w.length;for(var U=0;
U<O;U++)w[U]=w[U]<M?0:255};x.Ho=function(w,M){var O=w.length;for(var U=0;U<O;U++)w[U]=Math.round(w[U]*M)};
x.Kl=function(w,M){var O=new Uint32Array(w.buffer),b=new Uint32Array(M.buffer),D=O.length;for(var U=0;
U<D;U++){var o=O[U],Z=b[U];b[U]=x.Nj((o>>>24)*(Z>>>24))<<24|x.Nj((o>>>16&255)*(Z>>>16&255))<<16|x.Nj((o>>>8&255)*(Z>>>8&255))<<8|x.Nj((o&255)*(Z&255))}};
x.Rr=function(w,M){var O=w.length;for(var U=0;U<O;U++)M[(U<<2)+3]=x.Nj(M[(U<<2)+3]*w[U])};x.acw=function(w,M,O,b){var D=Math.max(0,b.x-M.x),o=Math.max(0,M.x-b.x),Z=Math.max(0,b.y-M.y),$=Math.max(0,M.y-b.y),k=Math.min(M.x+M.e,b.x+b.e)-Math.max(M.x,b.x),E=Math.min(M.y+M.n,b.y+b.n)-Math.max(M.y,b.y);
for(var U=0;U<E;U++){var t=(Z+U)*M.e+D,c=($+U)*b.e+o;for(var l=0;l<k;l++){O[c]=x.Nj(O[c]*w[t]);t++;c++}}};
x.cK=function(w,M,O,b){var D=Math.max(0,b.x-M.x),o=Math.max(0,M.x-b.x),Z=Math.max(0,b.y-M.y),$=Math.max(0,M.y-b.y),k=Math.min(M.x+M.e,b.x+b.e)-Math.max(M.x,b.x),E=Math.min(M.y+M.n,b.y+b.n)-Math.max(M.y,b.y);
for(var U=0;U<E;U++){var t=(Z+U)*M.e+D,c=(($+U)*b.e+o<<2)+3;for(var l=0;l<k;l++){O[c]=x.Nj(O[c]*w[t]);
t++;c+=4}}};x.bi=function(w,M,O,b){var D=Math.max(0,b.x-M.x),o=Math.max(0,M.x-b.x),Z=Math.max(0,b.y-M.y),$=Math.max(0,M.y-b.y),k=Math.min(M.x+M.e,b.x+b.e)-Math.max(M.x,b.x),E=Math.min(M.y+M.n,b.y+b.n)-Math.max(M.y,b.y);
for(var U=0;U<E;U++){var t=((Z+U)*M.e+D<<2)+3,c=(($+U)*b.e+o<<2)+3;for(var l=0;l<k;l++){O[c]=x.Nj(O[c]*w[t]);
t+=4;c+=4}}};x.mv=function(w,M){if(M==null)M=1;var O=4*M,b=w.length>>>2,D=new Float64Array(256),o=new Float64Array(256),Z=new Float64Array(256),$=new Float64Array(256),k=4*Math.floor(b/M)*M,E=0;
for(var U=0;U<k;U+=O){var t=w[U+0],c=w[U+1],l=w[U+2],q=w[U+3]*M,d=q*(1/255);o[t]+=d;Z[c]+=d;$[l]+=d;
E+=q}for(var U=0;U<256;U++)D[U]=o[U]+Z[U]+$[U];return[D,o,Z,$,b,E/255]};x.oq=function(w,M){function O(a,T){var C=-1,F=0;
while(F<=T){C++;F+=a[C]}return C}function b(a,T){var C=256,F=0;while(F<=T){C--;F+=a[C]}return C}function D(a){var T=0,C=0;
for(var U=0;U<256;U++){C+=a[U];T+=a[U]*U*(1/255)}return T/C}var o=w[0],Z=w[1]/100,$=w[2]/100,k=[],E=[];
for(var U=0;U<4;U++){var t=U==0?3:1;k[U]=O(M[U],t*Z*M[5]);E[U]=b(M[U],t*$*M[5])}var c=[D(M[1]),D(M[2]),D(M[3])],l=c.slice(0);
l.sort(function(a,T){return a-T});var q=c.indexOf(l[1]),d=(c[0]+c[1]+c[2])/3,V=[];for(var U=0;U<4;U++){var L=0,e=255,H=k[U],j=E[U];
if(o==0&&U==0){L=H;e=j}if(o==1&&U!=0){L=H;e=j}if(o==2&&U!=0){var t=c[U-1]/d;e=Math.max(0,Math.min(255,E[q]*t))}var g=[L,e];
V.push(g);if(o==3&&U==0){var K=255*(1-d);g.push(K)}}return V};x.fn=function(w,M){var O=new Uint32Array(w.buffer),b=O.length;
for(var U=0;U<b;U++){var D=O[U],o=D&255,Z=D>>8&255,$=D>>16&255,k=D>>24&255;O[U]=M[o]|M[Z]<<8|M[$]<<16|M[k]<<24}};
x.ayo=function(w,M,O,b,D,o,Z){var $=new Uint32Array(w.buffer),k=new Uint32Array(M.buffer),E=$.length,t=0;
while(256<<t<O.length)t++;if(!Z&&!o){for(var U=0;U!=E;U++){var c=$[U],l=(c&255)<<t,q=(c>>>8&255)<<t,d=(c>>>16&255)<<t,V=O[l],L=b[q],e=D[d];
k[U]=V|L<<8|e<<16|c&4278190080}return}for(var U=0;U<E;U++){var c=$[U],l=(c&255)<<t,q=(c>>>8&255)<<t,d=(c>>>16&255)<<t;
if(o)l=q=d=Math.round(l*.3+q*.59+d*.11);var V=O[l],L=b[q],e=D[d];if(Z){var H=x.nJ(l,q,d),j=x.nJ(V,L,e);
if(H>j){var g=(H-j)/(255-j);V+=g*(255-V);L+=g*(255-L);e+=g*(255-e)}else if(j==0)V=L=e=0;else{var g=H/j;
V=g*V;L=g*L;e=g*e}}k[U]=V|L<<8|e<<16|c&4278190080}};x.Kx=function(w,M){var O=M.e,b=M.n,top=0,D=0,o=0,Z=0,$=0;
$=0;for(var k=0;k<b;k++){var E=k*O;for(var U=0;U<O;U++)$|=w[E+U];if($!=0)break;top++}if(top==b)return new cn(0,0,0,0);
$=0;for(var k=b-1;k>=0;k--){var E=k*O;for(var U=0;U<O;U++)$|=w[E+U];if($!=0)break;o++}var t=b-o;$=0;
for(var U=0;U<O;U++){for(var k=top;k<t;k++)$|=w[k*O+U];if($!=0)break;D++}$=0;for(var U=O-1;U>=0;U--){for(var k=top;
k<t;k++)$|=w[k*O+U];if($!=0)break;Z++}var c=new cn(M.x+D,M.y+top,O-D-Z,b-top-o);return c};x.TO=function(w,M,O,b){if(b==null)b=[!0,!0,!0,!0];
if(O==null)O=0;var D=new Uint32Array(w.buffer),o=M.e,Z=M.n,top=0,$=0,k=0,E=0,t=!1,c=[D[0],D[D.length-1],0][O];
t=!1;if(b[0])for(var l=0;l<Z;l++){var q=l*o;for(var U=0;U<o;U++)if(D[q+U]!=c)t=!0;if(t)break;top++}t=!1;
if(b[2])for(var l=Z-1;l>=0;l--){var q=l*o;for(var U=0;U<o;U++)if(D[q+U]!=c)t=!0;if(t)break;k++}t=!1;
if(b[1])for(var U=0;U<o;U++){for(var l=0;l<Z;l++)if(D[l*o+U]!=c)t=!0;if(t)break;$++}t=!1;if(b[3])for(var U=o-1;
U>=0;U--){for(var l=0;l<Z;l++)if(D[l*o+U]!=c)t=!0;if(t)break;E++}var d=new cn(M.x+$,M.y+top,o-$-E,Z-top-k);
return d.S9()?new cn(0,0,0,0):d};x.Sr=function(w){var M=x.Kx(w.channel,w.rect);if(M.M5(w.rect))return;
var O=x.$(M.v());x.CV(w.channel,w.rect,O,M);w.channel=O;w.rect=M};x.Su=function(w){var M=x.$(w.buffer.length>>2);
x.Oj(w.buffer,M,3);var O=x.Kx(M,w.rect);if(O.M5(w.rect))return;var b=new x.$(O.v()*4);x.xu(w.buffer,w.rect,b,O);
w.buffer=b;w.rect=O};x.extend=function(w,M,O){if(w.rect.Ar(M))return;var b=w.rect.MK(M),D=x.$(b.v());
if(O!=null)D.fill(O);x.CV(w.channel,w.rect,D,b);w.rect=b;w.channel=D};x.avO=function(w,M){if(M.S9()||w.rect.Ar(M))return;
var O=w.rect.MK(M),b=x.$(O.v()*4);x.xu(w.buffer,w.rect,b,O);w.rect=O;w.buffer=b};x.BE=function(w,M,O){if(!O.MS(w))return!1;
var b=Math.floor(w.x)-O.x,D=Math.floor(w.y)-O.y,U=D*O.e+b;return M[U]>128};x.ar4=function(w,M,O){if(!O.MS(w))return!1;
var b=Math.floor(w.x)-O.x,D=Math.floor(w.y)-O.y,U=D*O.e+b;return M[4*U+3]>128};x.st=function(w){if(x.n0.length<w){x.n0=x.$(w);
x.n0.fill(255)}return x.n0};x.n0=x.$(0);x.KS=function(w){if(x.P7.length<w)x.P7=x.$(w);return x.P7};x.P7=x.$(0);
x.ka=function(w){this.ip=x.$(w);this.o=x.$(w);this.w=x.$(w);this.L=x.$(w)};x.ka.prototype.clone=function(){var w=this.ip.length,M=new x.ka(1);
M.ip=this.ip.slice(0);M.o=this.o.slice(0);M.w=this.w.slice(0);M.L=this.L.slice(0);return M};x.Y.a3A=function(w,M,O,b,D){var o=D[0]+1,Z=D[1],$=Math.abs(Z-25)/4,k=D[2],E=k%2+k*k>>1,t=x.Y.c;
t.X2(M,O);var c=t.O$(1),l=t.O$(1),q=t.O$(1);t.z3(w,b,k,k,E);t._q(b);t.nM(b,c);t.gx(c,l,o,o,1);t.gx(c,q,o,o,o*o);
t.sub(q,l);t.Kl(l,$);(Z<25?t.sub:t.add)(c,l);t.D1(l,b);t.Eo(b)};x.Y.apH=function(w,M,O,b,D){var o=x.Y.c;
o.X2(M,O);var Z=D[0]*2.55,$=D[1],k=$>>1,E=D[2]*.25,t=o.O$(4),c=o.O$(1),l=o.O$(1);o.TN(w,t,$,1,!0,k);
o.TN(w,b,$,1,!1,k);o.B_(w,c);o.bL(c,Z);o.I3(c,l,3);o.tL(b,l,t);o.Yj(t,b,E)};x.Y.ar8=function(w,M,O,b,D){var o=x.Y.c;
o.X2(M,O);o.vy(D[3]);var Z=D[0]*-3+80,$=D[1]*-3+80,k=D[2]/2+.5,E=D[4],t=D[5],c=o.O$(1),l=o.O$(1),q=o.O$(1),d=o.O$(1),V=o.O$(4),L=o.O$(4);
o.B_(w,c);o.U7(c,l);o.aT(c,$,5);o.Ts(c,.4,0);o.I3(c,q,3);o.NL(q,c,9,3,!0,27);o.U7(l,q);o.ZW(q);var e=o.dX(Z,5,q);
for(var U=0;U<o.w_;U++){l[U]=e[255-l[U]]}o.Ts(l,.4,0);o.U7(l,q);o.I3(q,d,2);o.NL(d,q,5,3,!1,15);o.Kl(c,k);
o.Kl(q,k);o.DS(b,2155905279);o.DS(L,E);o.DS(V,t);o.tL(L,c,b);o.tL(V,q,b)};x.Y.a4y=function(w,M,O,b,D){var o=x.Y.c;
o.X2(M,O);var Z=new Uint8Array(256),$=5+10*D[1];$+=D[1]>3?(D[1]-3)*10:0;var k=~~(D[2]*.73)+50,E=Math.min(k+$,128),t=E-k,c=-255*k;
for(var U=0;U<256;U++){var l=U*65;Z[U]=o.UW(c/t);c+=255}var q=o.O$(1),d=o.O$(1),V=o.O$(1);o.B_(w,q);
o.U7(q,V);o.I3(q,d,2*D[0]+1);o.sub(d,q);o.Kl(q,65);o.NL(q,d,9,3,!0,20);for(var U=0;U<o.w_;U++){var L=V[U],e=d[U];
q[U]=e>0?~~((e*L+(255-e)*128)/255):128}o.I3(q,d,3);o.NL(d,q,15,2,!0,16);o.NL(d,V,15,2,!1,15);o.gt(q,V);
o.KF(V,d,2);o.vx(d,Z);o.I3(d,q,2);o.Dz(q,b)};x.Y.a5y=function(w,M,O,b,D){var o=x.Y.c;o.X2(M,O);var Z=2*D[0]+1,$=o.Om[D[1]],k=D[2]*5.1,E=D[3],t=o.O$(1),c=o.O$(1),l=o.O$(4),q=o.O$(4);
o.DS(l,E);o._q(l,b);o.wi(t,k);o.D1(t,b);o.Eo(b,l);o.B_(w,c);o.I3(c,t,Z);o.sub(t,c);o.Kl(c,$);o.NL(c,t,9,3,!0,20);
o.tL(w,t,l);o.fx(l,b,3);o.TN(b,l,15,2,!0,16);o.TN(b,q,15,2,!1,16);o.gt(l,q);o.Yj(q,b,2)};x.Y.abE=function(w,M,O,b,D){var o=x.Y.c;
o.X2(M,O);var Z=(15-D[0])/4+1,$=(15-D[1])/4+1,k=D[2],E=D[3],t=o.vS(D[4]),c=D[5]+1,l=D[6],q=D[7],d=D[8],V=o.O$(1),L=o.O$(1),e=o.O$(1),H=o.O$(1),j=o.O$(4),g=o.O$(4);
o.o4(e,k,E,l);o.B_(w,L);o.I3(L,V,5);o.rp(e,V,H,c,t);o.Kl(H,Z);o.y2(H,2);o.ZW(V);o.rp(e,V,L,c,t);o.Kl(L,$);
o.y2(L,2);o.DS(j,2155905279);o.DS(g,q);o.DS(b,d);o.tL(j,L,g);o.tL(g,H,b)};x.Y.aq9=function(w,M,O,b,D){var o=x.Y.c;
o.X2(M,O);o.vy(D[3]);var Z=D[0],$=D[1]/10,k=D[2]/10,E=o.O$(1),t=o.O$(1),c=o.O$(1),l=o.tc(),q=o.tc(),d=o.tc();
o.rJ(E);o.I3(E,t,11);o.I3(t,E,11);o.T3(E,l);o.VE(w,E);o.U7(E,c);o.I3(E,t,9);o.I3(t,E,9);o.T3(E,q);o.FN(q,d,5);
o.FN(d,q,5);o.qz(l,.8);o.auc(l,q,.8,.9);o.wj(q,E,Z);o.gx(E,t,2,2,1);o.gx(t,E,2,2,3);o.gx(E,t,2,2,3);
o.gx(c,E,5,5,13);o.ot(t,E,t,$);o.KR(E,t,t,k);o.rp(t,t,E,5,1);o._q(w,b);o.D1(E,b);o.Eo(b)};x.Y.as4=function(w,M,O,b,D){var o=x.Y.c;
o.X2(M,O);var Z=D[0],$=D[1]/2,k=D[2],E=Z/2,t=o.O$(4),c=o.O$(4);o.U7(w,b);for(var l=0;l<k;l++){o.TN(b,t,Z,1,!0,E);
o.TN(b,c,Z,1,!1,E);o.gt(c,t);o.fx(t,c,2);o.Yj(c,b,$)}};x.Y.a59=function(w,M,O,b,D){var o=x.Y.c;o.X2(M,O);
var Z=D[0]*10,$=D[1]*4.9,k=D[2]*4.9,E=o.O$(1),t=o.O$(1),c=o.O$(4),l=o.O$(4);o.B_(w,E);o.bL(E,o.ahm(E,Z));
o.I3(E,t,3);o.TN(w,c,5,1,!1,1);o.TN(w,b,15,2,!0,16);o.tL(b,t,c);o._q(c,b);o.nM(b,E);o.aT(E,$,k);o.D1(E,b);
o.Eo(b)};x.Y.agH=function(w,M,O,b,D){var o=x.Y.c;o.X2(M,O);o.vy(D[4]);var Z=D[0]/20,$=[0,.75,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.5,3,3.5,4][D[1]],k=[0,.25,.5,.75,.9,1,1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2,2.25,2.5,3,3.5,4][D[2]],E=D[3],t=new Int16Array(256);
for(var U=0;U<256;U++){t[U]=~~((U-128)*Z)}var c=o.O$(1),l=o.O$(1),q=o.O$(4);o.B_(w,c);o.I3(c,l,25);o.Kl(l,$);
o.y2(l,k);o.I3(l,c,25);o.rJ(l);o.P6(c,l,t);o.U7(w,b);o.DS(q,E);o.tL(q,c,b)};x.Y.awT=function(w,M,O,b,D){var o=x.Y.c;
o.X2(M,O);var Z=D[0]+5,$=15-D[1],k=Z*Z/2,E=1-(3-D[2])/10,t=~~($*$*E-1),c=~~($*$*(1-E));if(c==0)c=1;var l=o.O$(1),q=o.O$(1),d=o.O$(1),V=o.O$(4);
o.B_(w,d);o.gx(d,l,Z,Z,k);o.I3(d,q,Z);o.sub(l,q);o.bL(q,1);o.z3(w,V,$,$,t);o.z3(w,b,$,$,c);o.tL(V,q,b)};
x.Y.af5=function(w,M,O,b,D){var o=x.Y.c;o.X2(M,O);o.vy(D[3]);var Z=(20-D[0])*.05,$=D[1]*-2.75+60,k=65-$,E=D[2]/10,t=o.O$(1),c=o.O$(1);
o.VE(w,c);var l=o.dX($,k,c);o._q(w,b);o.nM(b,c);o.rJ(t);o.XI(c,t,Z);o.vx(c,l);o.Kl(c,D[2]/10);o.add(t,c);
o.D1(c,b);o.Eo(b)};x.Y.a9o=function(w,M,O,b,D){var o=x.Y.c;o.X2(M,O);var Z=5+D[0],$=15-D[1],k=D[2],E=Z*Z/2+Z*Z%2*1,t=1-(3-D[2])/10,c=~~($*$*t-1),l=~~($*$*(1-t));
if(l==0)l=1;var q=o.O$(1),d=o.O$(1),V=o.O$(1),L=o.O$(1),e=o.O$(1);o.VE(w,d);o.KF(d,q,3);o.gx(q,d,2,2,1);
var H=o.dX(20,20,d);o.vx(d,H);o.I3(d,e,5);o.gx(e,q,Z,Z,E);o.gx(e,d,$,$,c);o.gx(e,V,$,$,l);o.I3(e,L,Z);
o.sub(q,L);o.bL(L,1);o.kI(d,L,V);o._q(w,b);o.D1(V,b);o.Eo(b)};x.Y.aj0=function(w,M,O,b,D){var o=x.Y.c;
o.X2(M,O);o.vy(D[5]);var Z=o.w_,$=o.xV,k=D[0],E=D[1],t=D[2],c=D[3],l=D[4],q=.05*k+1,d=k/100,V=k>>1,L=2*k-100,e=+(E==9),H=+(E==7),j=[4,1][e],g=[3,2][e],K=[1,2][H],a=[2,1][H],T=[50,75][e],C=E<4?t:(t>>1)+50,F=o.jb(T,C),m=o.M$(c),N=o.M$(l),v=o.O$(4),h=o.O$(4),P=o.O$(1),J=o.O$(1);
function Y(b,F){if(C!=50){o.NC(b,F)}}function B(w,cl){for(var U=0;U<Z;U++){w[U]=o.UW(w[U]+(cl[U]-128)*d)}}function S(w,cl){for(var U=0,p=0;
U<Z;U++){w[p]=o.UW(w[p]+(cl[p]-128)*d);w[p+1]=o.UW(w[p+1]+(cl[p+1]-128)*d);w[p+2]=o.UW(w[p+2]+(cl[p+2]-128)*d);
p+=4}}function r(w,b){o.rJ(h);o.U7(w,b);S(b,h);Y(b,F)}function I(cl){var p=0;for(var b2=0;b2<12;b2++)p+=o.random();
return o.UW(V*(p-6)+cl)}function f(w,b){o.U7(w,b);for(var U=0;U<$;U+=4){b[U]=I(b[U]);b[U+1]=I(b[U+1]);
b[U+2]=I(b[U+2])}Y(b,F)}function s(w,b){o.U7(w,b);for(var U=0;U<$;U+=4){if(o.random()<d){b[U]=m[0];b[U+1]=m[1];
b[U+2]=m[2]}}Y(b,F)}function W(w,b){o.rJ(v);o.z3(v,h,g,g,j);o.U7(w,v);S(v,h);o.z3(v,b,5,5,13);Y(b,F)}function i(w,b){o.rJ(h);
o.U7(w,v);S(v,h);Y(b,F);o.z3(v,b,g,g,j)}function u(w,b){o.U7(w,v);Y(b,F);o.B_(v,P);for(var U=0,cl=0;
U<Z;U++){var p=((L-P[U]+255)*128.5+.5)/32767;if(o.random()<=p){b[cl++]=N[0];b[cl++]=N[1];b[cl++]=N[2]}else{b[cl++]=m[0];
b[cl++]=m[1];b[cl++]=m[2]}b[cl]=w[cl];cl++}}function z(w,b){o._q(w,b);o.nM(b,P);o.KF(P,J,q);o.gx(J,P,g,g,j);
o.vx(P,F);o.D1(P,b);o.Eo(b)}function G(w){var cl=0;if(E==8){for(var p=0;p<M;p++){w[cl++]=~~(o.random()*255)}for(var U=1;
U<O;U++){for(var p=0;p<M;p++){w[cl++]=w[p]}}}else{for(var U=0;U<O;U++){var b2=~~(o.random()*255);for(var p=0;
p<M;p++){w[cl++]=b2}}}}function g_(w,b){o.B_(w,P);o.rJ(J);B(P,J);G(J);B(P,J);o.fx(w,v,9);o.fx(v,h,9);
o.I3(P,J,2);o.vx(J,F);o.I3(J,P,2);o._q(h,b);o.D1(P,b);o.Eo(b)}[r,f,s,W,W,i,u,g_,g_,z][E](w,b)};x.Y.a6w=function(w,M,O,b,D){var o=[-1e3,34,51,61,71,80,87,95,101,108,113,119,124,129,134,139,143,148,153,157,161,165,168,172,175,180,183,186,190,194,197,200,203,207,210,213,216,218,222,225,228,230,233,236,239,241,244,247,250,252,255],Z=x.Y.c,V=0,L,U,K,a,T,C=0,F=1,m=255;
Z.X2(M,O);Z.vy(D[3]);var $=Z.O$(1),k=Z.O$(1);Z.B_(w,$);var E=D[0],t=D[1],c=t<=50?o[t]/255:1+(255-o[101-t])/255,l=D[2],q=$.length,d=new Float32Array(q),e=1+1/10*E,H=(1-1/e)/2,j=16/256,g=M-1;
for(U=0;U<Z.w_;U++){d[U]=$[U]/255;k[U]=E==1?Z.random()<1/255?m:F:F}function N(v,h){var P=v*M+h;if(k[P]!=F||v>=O||h>=M){return}var a=d[P],J=c-a,Y=Z.random(),B=Y/e+H;
if(V==0||Math.abs(T-a)>j){L=B<=J?C:m;V=~~(Z.random()*E)}else if(.1<Y){V--}else{V=0}k[P]=L;T=a}if(l==0){for(U=0;
U<M;U++){for(K=0;K<M;K++){a=U+K;if(a>=M)break;N(K,g-a)}V=0}for(U=1;U<O;U++){for(K=0;K<O;K++){a=U+K;if(a>=O||K>=M)break;
N(a,g-K)}V=0}}else if(l==1){for(U=0;U<O;U++){for(K=0;K<M;K++){N(U,K)}V=0}}else if(l==2){for(U=0;U<M;
U++){for(K=0;K<M;K++){a=U+K;if(a>=M)break;N(K,a)}V=0}for(U=1;U<O;U++){for(K=0;K<O;K++){a=U+K;if(a>=O||K>=M)break;
N(a,K)}V=0}}else{for(U=0;U<M;U++){for(K=0;K<O;K++){N(K,U)}V=0}}Z.Dz(k,b)};x.Y.acu=function(w,M,O,b,D){var o=x.Y.c;
o.X2(M,O);var Z=D[0],$=D[1],k=D[2],E=o.O$(1),t=o.O$(1),c=o.O$(1),l=o.O$(4),q=o.O$(4);o.B_(w,E);o.gx(E,t,3,3,1);
o.gx(E,c,3,3,9);o.sub(c,t);o.I3(t,E,3);o.aT(E,40,10);o.TN(w,b,Z,2,!1,Z);o.TN(w,l,Z,2,!0,Z);o.DS(q,255);
o.tL(b,E,q);o.tL(q,E,l);o.Yj(l,b,1);o._q(b);o.nM(b,E);o.aT(E,$,k);o.D1(E,b);o.Eo(b)};x.Y.aaY=function(w,M,O,b,D){var o=x.Y.c;
o.X2(M,O);o.vy(D[3]);var Z=D[0],$=D[1],k=D[2]/10;Z=Z+$;var E=o.O$(1),t=o.O$(1),c=o.tc(),l=o.tc();o.rJ(E);
o.I3(E,t,11);o.I3(t,E,11);o.T3(E,c);o.FN(c,l,5);o.FN(l,c,5);o.qz(l,.97);o.wj(l,E,Z);o.gx(E,t,$,$,1);
o.VE(w,E);o.ot(t,E,t,.6);o.KR(E,t,t,k);o.rp(t,t,E,5,1);o._q(w,b);o.D1(E,b);o.Eo(b)};x.Y.an_=function(w,M,O,b,D){var o=x.Y.c;
o.X2(M,O);var Z=Math.abs(D[0]),$=Z+[1,0,1,2,1,2,1,2,3,2,3,2,3,2,3,2,3,4,3,4,5,4,5,4,5][Z],k=2*Z+1,E=D[1]/10,t=E*13/15,c=o.O$(1),l=o.O$(1),q=o.O$(1),d=o.O$(1),V=o.O$(4),L=o.O$(4),e=o.O$(4),H=o.O$(4),j=o.O$(4);
o.B_(w,c);if(D[0]>=0){o.ZW(c)}o.U7(c,q);o.I3(c,d,$);o.I3(d,c,$);o.Kl(c,E);o.U7(c,l);o.I3(c,d,k);o.I3(d,c,k);
o.Kl(c,t);o.DS(e,D[2]);o.DS(H,D[3]);o.DS(j,D[4]);o.tL(e,c,H,V);o.tL(j,l,V,L);o.tL(H,q,L,b);o.nM(w,q,3);
o.D1(q,b,3)};x.Y.aoZ=function(w,M,O,b,D){var o=x.Y.c;o.X2(M,O);o.vy(D[5]);var Z=D[0]*5.1,$=D[1]/100,k=o.yp[D[2]],E=o.O$(1),t=o.O$(1),c=o.O$(1);
o.B_(w,E);o.wi(t,255);o.rJ(c);o.bL(E,Z);o.XI(t,E,.7);o.XI(c,E,$);o.rp(E,E,t,5,k);o.U7(w,b);o.aer(b,Z,D[4],D[3]);
o._q(b);o.D1(t,b);o.Eo(b)};x.Y.awE=function(w,M,O,b,D){var o=x.Y.c;o.X2(M,O);var Z=D[0],$=4-D[1],k=11-D[2],E=o.O$(1),t=o.O$(1),c=o.O$(4);
o.VE(w,t);for(var U=0;U<$;U++){o.U7(t,E);o.SV(E,t,Z,Z)}o.fx(w,c,Z);o._q(c,c);o.D1(t,c);o.Eo(c,c);(k<11?o.ahn:o.U7)(c,b,k)};
x.Y.aeW=function(w,M,O,b,D){var o=x.Y.c;o.X2(M,O);o.vy(D[2]);var Z=D[0]+5,$=~~(Z/5+1),k=~~(Z/2)+1,E=k*k,t=~~(Z/3),c=o.yp[D[1]],l=new Array(256);
for(var U=0;U<256;U++){l[U]=~~(.2*(U-128))}var q=o.O$(1),d=o.O$(1);o.a7_(w,b,Z);o._q(b);o.nM(b,q);o.rJ(d);
o.P6(q,d,l);o.arU(d,Z,Z,$,$);o.ot(q,d,q,1);o.I3(q,d,t);o.I3(d,q,t);o.gx(q,d,k,k,E);o.rp(d,d,q,5,c);o.D1(q,b);
o.Eo(b)};x.Y.a8S=function(w,M,O,b,D){var o=x.Y.c;o.X2(M,O);var Z=o.O$(1),$=o.O$(1),k=o.O$(1),E=o.tc(),t=o.tc();
o.B_(w,Z);o.I3(Z,$,D[2]);o.bL($,D[0]*5.1);o.gx($,Z,2,2,4);o.I3(Z,$,3);o.I3($,Z,3);o.U7(Z,k);o.I3(Z,$,5);
o.I3($,Z,5);o.T3(Z,E);o.FN(E,t,5);o.FN(t,E,5);o.a2t(E,$,D[1]);o.ZW($);o.ot(k,$,k,1);o.Dz(k,b)};x.Y.aor=function(w,M,O,b,D){var o=x.Y.c;
o.X2(M,O);var Z=1<<7-D[2],$=o.O$(1),k=o.O$(1),E=o.O$(1);o.VE(w,k);o.I3(k,$,3);o.U7($,k);o.I3($,E,D[0]+5);
o.sub(E,k);o.aT(k,1,D[1]);o.Kl($,1/Z);o.Kl($,Z);o.sub($,k);o._q(w,b);o.D1(k,b);o.Eo(b)};x.Y.adf=function(w,M,O,b,D){var o=x.Y.c;
o.X2(M,O);o.vy(D[3]);var Z=o.O$(1),$=o.O$(1),k=o.O$(1);o.B_(w,Z);o.a3$($,D[0]/50);o.I3($,k,3);o.gx(Z,$,9,9,41);
o.aT($,D[1],D[2]);o.ot($,k,k,.75);o.KR($,k,$,.5);o.U7($,Z);o.gx(Z,k,3,3,8);o.ot(k,$,k,.75);o.Kl(k,1.2);
o.KF(k,Z,1);o.I3(Z,k,2);o.KF(k,Z,2);o.Kl(Z,1.2);o.I3(Z,k,2);o.Dz(k,b)};x.Y.awg=function(w,M,O,b,D){var o=x.Y.c;
o.X2(M,O);var Z=D[0]+9,$=D[1]/2,k=D[2],E=D[3],t=o.vS(D[4]),c=D[5]+1,l=D[6],q=o.O$(1),d=o.O$(1),V=o.O$(4),L=o.O$(4);
o.o4(d,k,E,l);o.d3(w,b,Z,1,1);o.d3(b,V,Z,1,1);o.avF(V,V,L,7,$);o.Kl(L,1.2);o.y2(L,1.2);o.rp(d,q,q,c,t);
o.Kl(q,3);o.U7(w,b);o.tL(L,q,b)};x.Y.abl=function(w,M,O,b,D){var o=x.Y.c;o.X2(M,O);o.vy(D[3]);var Z=D[0]+4,$=Z*2/5+(Z%5|0);
Z--;var k=D[1]*-2.75+60,E=65-k,t=D[2]/10,c=o.O$(1),l=o.O$(1);o.rJ(c);o.VE(w,l);var q=o.dX(k,E,l);o._q(w,b);
o.nM(b,l);o.XI(l,c,.8);o.vx(l,q);o.Kl(l,t);o.add(c,l);o.NL(l,c,Z,3,!1,$);o.D1(c,b);o.Eo(b)};x.Y.auw=function(w,M,O,b,D){var o=x.Y.c;
o.X2(M,O);o.vy(D[3]);var Z=D[0]+5,$=(Z*Z>>1)+Z%2,k=D[1]/10,E=D[2],t=(E*E>>1)+E%2,c=o.O$(1),l=o.O$(1),q=o.O$(1),d=o.O$(4),V=o.O$(4),L=o.O$(4);
o.rJ(q);o._q(w,L);o.nM(L,c);o.XI(c,q,.8);o.I3(q,c,3);o.KF(c,q,k);o.D1(q,L);o.Eo(L,L);o.B_(L,q);o.gx(q,c,Z,Z,$);
o.I3(q,l,Z);o.sub(c,l);o.bL(l,1);o.z3(L,d,7,7,40);o.z3(L,V,7,7,10);o.tL(d,l,V);o.z3(V,b,E,E,t)};x.Y.agh=function(w,M,O,b,D){var o=x.Y.c,$=255,U,E;
o.X2(M,O);var Z=D[0];if(Z<2)$=Z;else if(Z<12)$=5*Z-5;else if(Z<47)$=2*Z+28;else if(Z<50){U=Z-47;$=125+12.5*U+12.5*U*U}var k=new Uint8Array(256);
for(U=75,E=15;U<256;U++,E+=24)k[U]=Math.min(255,E);var t=o.O$(1),c=o.O$(1),l=o.O$(1);o.B_(w,t);o.I3(t,c,11);
o.I3(c,l,11);o.sub(l,t);o.Kl(t,8);o.sub(l,t);o.bL(t,$);o.ZW(t);o.I3(t,c,5);o.bL(c,51);o.I3(c,t,D[1]);
o.I3(t,c,D[1]);o.ZW(c);o.vx(c,k);o.Dz(c,b)};x.Y.atO=function(w,M,O,b,D){var o=x.Y.c;o.X2(M,O);var Z=o.Om[D[1]],$=D[2],k=$*1.5,E=o.O$(1),t=o.O$(1),c=o.O$(1);
o.VE(w,E);o.NL(E,t,15,2,!0,15);o.U7(t,c);o.aT(c,$,k);o.I3(c,E,3);o.I3(t,c,D[0]);o.sub(c,t);o.Kl(t,Z);
o.sub(E,t);o.I3(t,E,3);o.NL(E,t,3,1,!1,1);o.fx(w,b,15);o._q(b);o.D1(t,b);o.Eo(b)};x.Y.am9=function(w,M,O,b,D){var o=x.Y.c;
o.X2(M,O);o.vy(D[3]);var Z=D[0]*5.1,$=16-D[1],k=[1,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.25,2.5,2.75,3,3.5,4,5,6,8,10][D[2]],E=o.O$(1),t=o.O$(1),c=o.O$(1);
o.B_(w,E);o.bL(E,Z);o.I3(E,t,$);o.I3(t,E,$);o.rJ(c);o.KR(E,c,c,1);o.ot(E,c,E,.75);o.Kl(E,k);o.y2(E,k);
o.gx(E,t,2,2,2);o.Dz(t,b)};x.Y.a2A=function(w,M,O,b,D){var o=x.Y.c;o.X2(M,O);var Z=D[0]+9,$=D[1]+9,k=D[2],E=D[3],t=o.vS(D[4]),c=D[5]+1,l=D[6],q=o.O$(1),d=o.O$(1),V=o.O$(1),L=o.O$(1),e=o.O$(1),H=o.O$(4);
o.VE(w,q);o.SV(q,V,Z,Z);o.I3(V,q,$);o.U7(V,e);o.U7(q,L);o.sub(e,L);o.sub(q,e);o.add(e,L);o.Kl(L,10);
o.o4(d,k,E,l);o.rp(d,q,e,c,t);o.kI(e,L,V,.8);o.fx(w,H,9);o.fx(H,b,9);o._q(b);o.D1(V,b);o.Eo(b)};x.Y.a55=function(w,M,O,b,D){var o=x.Y.c;
o.X2(M,O);var Z=16-D[0],$=D[1]*8,k=1-(3-D[2])/10,E=~~(Z*Z*k-1),t=~~(Z*Z*(1-k));if(t==0)t=1;var c=o.O$(1),l=o.O$(1),q=o.O$(1),d=o.O$(4);
o.B_(w,q);o.gx(q,c,7,7,25);o.I3(q,l,7);o.sub(c,l);o.bL(l,1);o.z3(w,d,Z,Z,E);o.z3(w,b,Z,Z,t);o.tL(d,l,b);
o._q(b);o.nM(b,c);o.gx(c,q,3,3,1);o.gx(c,l,3,3,9);o.sub(l,q);o.U7(q,l);o.sub(c,q);o.sub(q,l);o.gx(l,c,3,3,8);
o.aT(c,$,1);o.D1(c,b);o.Eo(b)};x.Y.ath=function(w,M,O,b,D){var o=x.Y.c;o.X2(M,O);o.vy(D[3]);var Z=D[0],$=D[1],k=D[2],E=Z>>1,t=Math.max(~~(Z/5),1),c=Math.max(~~(Z*2/3),1),l=o.jb($,k),q=o.O$(1),d=o.O$(1),V=o.O$(1),L=o.O$(1),e=o.O$(4);
o.VE(w,q);o.Vw(2147483647,4,2,2,0,255,d);o.Vw(4,2147483647,2,2,0,255,L);o.rJ(V);o.KR(d,V,d,1);o.KR(L,V,L,1);
o.KR(d,q,d,1);o.KR(L,q,L,1);o.fx(w,e,E);o.fx(e,b,E);o.gx(d,q,1,Z,t);o.gx(q,d,3,Z,c);o.gx(L,q,Z,1,t);
o.gx(q,L,Z,3,c);o.gt(d,L);o._q(b);o.D1(L,b);o.Eo(b);o.NC(b,l)};x.Y.c={};x.Y.c.jy=0;x.Y.c.e3=0;x.Y.c.w_=0;
x.Y.c.rr=0;x.Y.c.xV=0;x.Y.c.X2=function(w,M){var O=w*M,self=x.Y.c;self.jy=w;self.e3=M;self.w_=O;self.rr=O<<1;
self.xV=O<<2};x.Y.c.vy=function(w){x.Y.c.random=function(){var M=w+=1831565813;M=Math.imul(M^M>>>15,M|1);
M^=M+Math.imul(M^M>>>7,M|61);return((M^M>>>14)>>>0)/4294967296}};x.Y.c.O$=function(w){var M=x.Y.c;return new Uint8Array([-1,M.w_,M.rr,-1,M.xV][w])};
x.Y.c.tc=function(){return new Int32Array(x.Y.c.rr)};x.Y.c.I3=function(w,M,O,b){if(b==null)b=O;var self=x.Y.c,D=self.jy,o=self.e3;
x.m8.Av(w,M,new cn(0,0,D,o),O>>>1);return};x.Y.c.FN=function(w,M,O,b){var self=x.Y.c,D=new Int32Array(self.w_),o=new Int32Array(self.w_);
for(var U=0;U<2;U++){self.nM(w,D,U,2);self.I3(D,o,O,b);self.D1(o,M,U,2)}};x.Y.c.fx=function(w,M,O,b){var self=x.Y.c,D=self.O$(1),o=self.O$(1);
for(var U=0;U<4;U++){self.nM(w,D,U);if(U<3)self.I3(D,o,O,b);else o=D;self.D1(o,M,U)}};x.Y.c.d3=function(w,M,O,b,D){var self=x.Y.c,o=self.jy,Z=self.e3,$=O+b-1,k=O>>1,E=$>>1,t=0,c=O*b,l=new Int32Array(O);
for(var U=0;U<Z;U++){var q=0,d=0,V=0;for(var L=0;L<O;L++){var e=D?$-L-b:L;for(var H=e,j=b+e;H<j;H++){var g=0-E+H,K=U-k+L;
if(H==e){l[L]=g}if(g<0)g=0;else if(g>=o)g=o-1;if(K<0)K=0;else if(K>=Z)K=Z-1;var a=o*K+g<<2;q+=w[a];d+=w[a+1];
V+=w[a+2]}}M[t++]=~~(q/c);M[t++]=~~(d/c);M[t++]=~~(V/c);M[t]=w[t];t++;for(var T=1;T<o;T++){for(var L=0;
L<O;L++){var K=U-k+L,e=l[L]+1;l[L]=e;var C=e-1,F=e+b-1;if(K<0)K=0;else if(K>=Z)K=Z-1;if(C<0)C=0;else if(C>=o)C=o-1;
if(F<0)F=0;else if(F>=o)F=o-1;var m=K*o+C<<2,N=K*o+F<<2;q=q+w[N]-w[m];d=d+w[N+1]-w[m+1];V=V+w[N+2]-w[m+2]}M[t++]=~~(q/c);
M[t++]=~~(d/c);M[t++]=~~(V/c);M[t]=w[t];t++}}};x.Y.c.NL=function(w,M,O,b,D,o){var self=x.Y.c,Z=self.jy,$=self.e3,k=O+b-1,E=O>>1,t=k>>1,c=0,l=new Int32Array(O),q=new Int32Array(256),d=new Int32Array(16);
for(var U=0;U<$;U++){q.fill(0);d.fill(0);for(var V=0;V<O;V++){var L=D?k-V-b:V;for(var e=L,H=b+L;e<H;
e++){var j=0-t+e,g=U-E+V;if(e==L){l[V]=j}if(j<0)j=0;else if(j>=Z)j=Z-1;if(g<0)g=0;else if(g>=$)g=$-1;
q[w[g*Z+j]]++;d[w[g*Z+j]>>>4]++}}M[c++]=x.Y.c.Vg(d,q,o);for(var K=1;K<Z;K++){for(var V=0;V<O;V++){var g=U-E+V,L=l[V]+1;
l[V]=L;var a=L-1,T=L+b-1;if(g<0)g=0;else if(g>=$)g=$-1;if(a<0)a=0;else if(a>=Z)a=Z-1;if(T<0)T=0;else if(T>=Z)T=Z-1;
var C=w[g*Z+a],F=w[g*Z+T];q[C]--;q[F]++;d[C>>>4]--;d[F>>>4]++}M[c++]=x.Y.c.Vg(d,q,o)}}};x.Y.c.TN=function(w,M,O,b,D,o){var self=x.Y.c,Z=self.O$(1),$=self.O$(1);
for(var U=0;U<4;U++){self.nM(w,Z,U);if(U<3)self.NL(Z,$,O,b,D,o);else $=Z;self.D1($,M,U)}};x.Y.c.gx=function(w,M,O,b,D){D=Math.min(b*O,D);
var self=x.Y.c,o=self.jy,Z=self.e3,$=b>>1,k=O>>1,E=0,t=new Int32Array(b),c=new Int32Array(256),l=new Int32Array(16);
for(var U=0;U<Z;U++){c.fill(0);l.fill(0);for(var q=0;q<b;q++){for(var d=0,V=O;d<V;d++){var L=0-k+d,e=U-$+q;
if(d==0){t[q]=L}if(L<0)L=0;else if(L>=o)L=o-1;if(e<0)e=0;else if(e>=Z)e=Z-1;c[w[e*o+L]]++;l[w[e*o+L]>>>4]++}}M[E++]=x.Y.c.Vg(l,c,D);
for(var H=1;H<o;H++){for(var q=0;q<b;q++){var e=U-$+q,j=t[q]+1;t[q]=j;var g=j-1,K=j+O-1;if(e<0)e=0;else if(e>=Z)e=Z-1;
if(g<0)g=0;else if(g>=o)g=o-1;if(K<0)K=0;else if(K>=o)K=o-1;var a=w[e*o+g],T=w[e*o+K];c[a]--;c[T]++;
l[a>>>4]--;l[T>>>4]++}M[E++]=x.Y.c.Vg(l,c,D)}}};x.Y.c.Vg=function(w,M,O){var b=0,D=0;while(b+w[D>>>4]<O){b+=w[D>>>4];
D+=16}for(;D<256;D++){b+=M[D];if(b>=O)break}return D};x.Y.c.z3=function(w,M,O,b,D){var self=x.Y.c,o=self.O$(1),Z=self.O$(1);
for(var U=0;U<4;U++){self.nM(w,o,U);if(U<3)self.gx(o,Z,O,b,D);else Z=o;self.D1(Z,M,U)}};x.Y.c.KF=function(w,M,O){var self=x.Y.c,b=self.jy,D=self.e3,o=0;
for(var U=0;U<D;U++){var Z=U*b,$=(U-1)*b,k=(U+1)*b;if($<0)$=Z;if(k>=D)k=Z;for(var E=0;E<b;E++){var t=E-1,c=E+1;
if(t<0)t=E;if(c>=b)c=E;var l=Z+t,q=Z+c,d=$+E,V=k+E,L=Z+E,e=w[l],H=w[q],j=w[d],g=w[V],K=w[L],a=K+(K*4*O+.5);
a=a-((e+H+g+j)*O+.5);M[o++]=self.UW(a)}}};x.Y.c.Yj=function(w,M,O){var self=x.Y.c,b=self.O$(1),D=self.O$(1);
for(var U=0;U<4;U++){self.nM(w,b,U);if(U<3)self.KF(b,D,O);else D=b;self.D1(D,M,U)}};x.Y.c.ahn=function(w,M,O){var self=x.Y.c,b=self.jy,D=self.e3,o=0,Z=O+4;
for(var U=0;U<D;U++){var $=U*b,k=(U-1)*b,E=(U+1)*b;if(k<0)k=$;if(E>=D)E=$;for(var t=0;t<b;t++){var c=t-1,l=t+1;
if(c<0)c=t;if(l>=b)l=t;var q=$+c<<2,d=$+l<<2,V=k+t<<2,L=E+t<<2,e=$+t<<2;for(var H=0;H<3;H++){var j=w[q+H],g=w[d+H],K=w[V+H],a=w[L+H],T=w[e+H];
M[o++]=(T*O+j+g+a+K)/Z}M[o]=w[o];o++}}};x.Y.c.SV=function(w,M,O,b){var self=x.Y.c,D=self.jy,o=self.e3,Z=O>>1,$=b>>1,k=0,E=new Int32Array(O),t=new Int32Array(256);
for(var U=0;U<o;U++){t.fill(0);for(var c=0;c<O;c++){for(var l=0,q=b;l<q;l++){var d=0-$+l,V=U-Z+c;if(l==0){E[c]=d}if(d<0)d=0;
else if(d>=D)d=D-1;if(V<0)V=0;else if(V>=o)V=o-1;t[w[V*D+d]]++}}var L=0,e=0;for(var H=0;H<256;H++){if(L<t[H]){e=H;
L=t[H]}}M[k++]=e;for(var j=1;j<D;j++){for(var c=0;c<O;c++){var V=U-Z+c,g=E[c]+1;E[c]=g;var K=g-1,a=g+b-1;
if(V<0)V=0;else if(V>=o)V=o-1;if(K<0)K=0;else if(K>=D)K=D-1;if(a<0)a=0;else if(a>=D)a=D-1;t[w[V*D+K]]--;
t[w[V*D+a]]++}L=0;e=0;for(var H=0;H<256;H++){if(L<t[H]){e=H;L=t[H]}}M[k++]=e}}};x.Y.c.adU=[function(w,M,O,b,D,o,Z,$,k,E){return D+(w+M+O)*E-(k+$+Z)*E},function(w,M,O,b,D,o,Z,$,k,E){return D+(M+O+o)*E-($+Z+b)*E},function(w,M,O,b,D,o,Z,$,k,E){return D+(O+o+k)*E-(Z+b+w)*E},function(w,M,O,b,D,o,Z,$,k,E){return D+(o+k+$)*E-(b+w+M)*E},function(w,M,O,b,D,o,Z,$,k,E){return D+(k+$+Z)*E-(w+M+O)*E},function(w,M,O,b,D,o,Z,$,k,E){return D+($+Z+b)*E-(M+O+o)*E},function(w,M,O,b,D,o,Z,$,k,E){return D+(Z+b+w)*E-(O+o+k)*E},function(w,M,O,b,D,o,Z,$,k,E){return D+(b+w+M)*E-(o+k+$)*E}];
x.Y.c.rp=function(w,M,O,b,D){var self=x.Y.c,o=self.jy,Z=self.e3,$=o,k=self.adU[b-1];for(var U=0;U<Z;
U++){var E=(U>0?U-1:0)*$,t=U*$,c=(U<Z?U+1:U)*$;for(var l=0;l<o;l++){var q=l>0?l-1:0,d=l<o?l+1:l,V=t+l,L=w[E+q],e=w[E+l],H=w[E+d],j=w[t+q],g=M[V],K=w[t+d],a=w[c+q],T=w[c+l],C=w[c+d];
O[V]=self.UW(k(L,e,H,j,g,K,a,T,C,D))}}};x.Y.c.avF=function(w,M,O,b,D){var self=x.Y.c,o=self.O$(1),Z=self.O$(1),$=self.O$(1);
for(var U=0;U<3;U++){self.nM(w,o,U);self.nM(M,Z,U);self.rp(o,Z,$,b,D);self.D1($,O,U)}self.nM(M,o,3);
self.D1(o,O,3)};x.Y.c.B_=function(w,M){var O=w.length,b=0;for(var U=0;U<O;U++){M[b++]=~~((w[U++]+w[U++]+w[U++]+2)/3)}};
x.Y.c.Dz=function(w,M){var O=M.length,b=0;for(var U=0;U<O;U++){var D=w[U];M[b++]=D;M[b++]=D;M[b++]=D;
M[b++]=255}if(M[0]==255)M[0]--;else M[0]++};x.Y.c.VE=function(w,M){var O=M.length,b=0;for(var U=0;U<O;
U++){var D=w[b++],o=w[b++],Z=w[b++];b++;if(o>D)D=o;if(Z>D)D=Z;M[U]=D}};x.Y.c._q=function(w,M){if(M==null)M=w;
var O=w.length;for(var b=0;b<O;b+=4){var D=w[b],o=w[b+1],Z=w[b+2],$=D,k=0,E=D,c;if(o<=D){D=o}else{k=1;
E=o}if(Z<=E){if(D>Z){D=Z}}else{k=2;E=Z}var t=E-D;if(t!=0){if(k==0){c=~~(43*(o-Z)/t)}else if(k==1){c=~~(43*(Z+2*t-$)/t)}else{c=43*($+4*t-o)/t}if(c<0){c=255&c-1}M[b]=c;
M[b+1]=~~(255*t/E)}else{M[b]=t;M[b+1]=t}M[b+2]=E;M[b+3]=w[b+3]}};x.Y.c.Eo=function(w,M){if(M==null)M=w;
var O=w.length;for(var b=0;b<O;b+=4){var D=w[b],o=w[b+1],Z=w[b+2];if(o){if(D==255)D=0;var $=~~(6*D/255),k=~~(-255*$+6*D);
if($==0){M[b]=Z;M[b+1]=~~(Z*(255-o*(255-k)/255)/255);M[b+2]=~~(Z*(255-o)/255)}else if($==1){M[b]=~~(Z*(255-o*k/255)/255);
M[b+1]=Z;M[b+2]=~~(Z*(255-o)/255)}else if($==2){M[b]=~~(Z*(255-o)/255);M[b+1]=Z;M[b+2]=~~(Z*(255-o*(255-k)/255)/255)}else if($==3){M[b]=~~(Z*(255-o)/255);
M[b+1]=~~(Z*(255-o*k/255)/255);M[b+2]=Z}else if($==4){M[b]=~~(Z*(255-o*(255-k)/255)/255);M[b+1]=~~(Z*(255-o)/255);
M[b+2]=Z}else{M[b]=Z;M[b+1]=~~(Z*(255-o)/255);M[b+2]=~~(Z*(255-o*k/255)/255)}}else{M[b]=Z;M[b+1]=Z;M[b+2]=Z}M[b+3]=w[b+3]}};
x.Y.c.D1=function(w,M,O,b){if(O==null)O=2;if(b==null)b=4;var D=w.length;for(var U=0;U<D;U++){M[O]=w[U];
O+=b}};x.Y.c.nM=function(w,M,O,b){if(O==null)O=2;if(b==null)b=4;var D=M.length;for(var U=0;U<D;U++){M[U]=w[O];
O+=b}};x.Y.c.kI=function(w,M,O,b){if(b==null)b=1;var D=M.length,o=0,Z;for(var o=0;o<D;o++){Z=M[o];if(Z){Z*=b;
O[o]=~~((Z*w[o]+(255-Z)*O[o])/255)}}};x.Y.c.tL=function(w,M,O,b){if(b==null)b=O;var D=M.length,o=0,Z,$;
for(var U=0;U<D;U++){Z=M[U];if(Z){$=255-Z;b[o]=~~((Z*w[o]+$*O[o])/255);b[o+1]=~~((Z*w[o+1]+$*O[o+1])/255);
b[o+2]=~~((Z*w[o+2]+$*O[o+2])/255)}b[o+3]=w[o+3];o+=4}};x.Y.c.ot=function(w,M,O,b){var D=~~(b*255),o=O.length;
for(var U=0;U<o;U++){O[U]=((255-D*(255-w[U])/255)*M[U]+w[U]*(D*(255-w[U])/255))/255}};x.Y.c.KR=function(w,M,O,b){var D=~~(b*255),o=O.length;
for(var U=0;U<o;U++){O[U]=((255-D*w[U]/255)*M[U]+w[U]*(D*w[U]/255))/255}};x.Y.c.XI=function(w,M,O){var b=M.length;
for(var U=0;U<b;U++){M[U]=~~(w[U]*O+.5)+(M[U]-~~(M[U]*O+.5))}};x.Y.c.sub=function(w,M){var O=w.length;
for(var U=0;U<O;U++){M[U]=Math.max(w[U]-M[U],0)}};x.Y.c.add=function(w,M){var O=w.length;for(var U=0;
U<O;U++){M[U]=Math.min(w[U]+M[U],255)}};x.Y.c.gt=function(w,M){var O=w.length;for(var U=0;U<O;U++){M[U]=w[U]+M[U]>>1}};
x.Y.c.U7=function(w,M){var O=w.length;for(var U=0;U<O;U++){M[U]=w[U]}};x.Y.c.vx=function(w,M){var O=w.length;
for(var U=0;U<O;U++){w[U]=M[w[U]]}};x.Y.c.NC=function(w,M){var O=x.Y.c.xV;for(var U=0;U<O;U+=4){var b=w[U],D=w[U+1],o=w[U+2],Z=b;
if(D>b)Z=D;if(o>b)Z=o;var $=M[Z];if($){w[U]=~~($*b/Z);w[U+1]=~~($*D/Z);w[U+2]=~~($*o/Z)}else{w[U]=$;
w[U+1]=$;w[U+2]=$}}};x.Y.c.Kl=function(w,M){for(var U=0,O=w.length;U<O;U++){w[U]=Math.min(255,~~(.5+w[U]*M))}};
x.Y.c.y2=function(w,M){for(var U=0,O=w.length;U<O;U++){w[U]=255-Math.min(255,~~(.5+(255-w[U])*M))}};
x.Y.c.ZW=function(w){var M=w.length;for(var U=0;U<M;U++){w[U]=255-w[U]}};x.Y.c.bL=function(w,M,O,b){if(O==null)O=0;
if(b==null)b=255;for(var U=0,D=w.length;U<D;U++){w[U]=w[U]>=M?b:O}};x.Y.c.M$=function(w){return[w>>24&255,w>>16&255,w>>8&255,w&255]};
x.Y.c.aer=function(w,M,O,b){if(O==null)O=255;if(b==null)b=4278190335;var D=x.Y.c,o=D.xV,Z=D.M$(O),$=D.M$(b);
for(var U=0;U<o;U+=4){var k=~~((w[U]+w[U+1]+w[U+2]+2)/3);if(k>=M){w[U]=Z[0];w[U+1]=Z[1];w[U+2]=Z[2]}else{w[U]=$[0];
w[U+1]=$[1];w[U+2]=$[2]}}};x.Y.c.DS=function(w,M){var O=x.Y.c,b=O.xV,D=O.M$(M);for(var U=0;U<b;){w[U++]=D[0];
w[U++]=D[1];w[U++]=D[2];w[U++]=D[3]}};x.Y.c.wi=function(w,M){var O=w.length;for(var U=0;U<O;){w[U++]=M}};
x.Y.c.jb=function(w,M){w=w>5?(100-Math.max(4,w))/100:.95;M=M!=100?Math.max(4,M)/100:.9995;var O=new Uint8Array(256),b=M>.5?.5/(1-M):M*2,D=~~(b*256),o=~~((.5-w*b)*256)<<8;
for(var U=0;U<256;U++){O[U]=x.Y.c.UW(o>>8);o+=D}return O};x.Y.c.rJ=function(w){for(var U=0,M=x.Y.c,O=w.length;
U<O;U++){w[U]=~~(M.random()*256)}};x.Y.c.a3$=function(w,M){for(var U=0,O=x.Y.c,b=w.length;U<b;U++){w[U]=O.random()<M?255:0}};
x.Y.c.Ts=function(w,M,O){for(var U=0,b=x.Y.c,D=w.length;U<D;U++){if(b.random()<M)w[U]=O}};x.Y.c.P6=function(w,M,O){var b=w.length;
for(var U=0;U<b;U++){w[U]=x.Y.c.UW(w[U]+O[M[U]])}};x.Y.c.Ot=function(w){var M=new Uint32Array(256);for(var U=0,O=w.length;
U<O;U++){M[w[U]]++}return M};x.Y.c.dX=function(w,M,O){var self=x.Y.c,b=self.Ot(O),D=self.w_/100,o=new Uint8Array(256),Z=D*w,$=D*M,k=0,E=-1,t=256;
do{k+=b[++E]}while(k<=Z);k=0;do{k+=b[--t]}while(k<=$);if(t-E<=0)t=E+1;if(t>255){t=255;E=254}var c=255/(t-E),l=-E;
for(var U=0;U<256;U++){o[U]=self.UW(c*l+.5);l++}return o};x.Y.c.aT=function(w,M,O){var b=x.Y.c;b.vx(w,b.dX(M,O,w))};
x.Y.c.ahm=function(w,M){var self=x.Y.c,O=self.Ot(w),b=self.w_*M/100,D=0,o=-1;do{D+=O[++o]}while(D<=b);
return o};x.Y.c.T3=function(w,M){var O=0,self=x.Y.c,b=self.jy,D=self.e3,o=1/Math.PI,Z=o*255;for(var U=0;
U<D;U++){var $=U+1;if($==D)$--;var k=U*b,E=~~((1-(U+1)/D)*255);for(var t=0;t<b;t++){var c=t+1;if(c==b)c--;
var l=w[k+t],q=w[k+c],d=w[$*b+t];if(l-d==0){M[O++]=E}else{var V=l-d+255;if(V==255){V=0}else{V=~~(Math.atan2(1/(255-V),1)*Z+.5);
if(V<0)V+=255}M[O++]=V}if(l-q==0){M[O++]=~~((1-(t+1)/b)*255)}else{var V=l-q+255;if(V==255){V=0}else{V=~~(Math.atan2(1/(255-V),1)*Z+.5);
if(V<0)V+=255}M[O++]=V}}}};x.Y.c.qz=function(w,M){var self=x.Y.c,O=self.jy,b=self.e3,D=0;for(var U=0;
U<b;U++){for(var o=0;o<O;o++){w[D]=~~(U*M+.5)+~~(w[D]*(1-M)+.5);D++;w[D]=~~(o*M+.5)+~~(w[D]*(1-M)+.5);
D++}}};x.Y.c.auc=function(w,M,O,b){var self=x.Y.c,D=self.jy,o=self.e3,Z=0;for(var U=0;U<o;U++){for(var $=0;
$<D;$++){M[Z]=~~(M[Z]*(1-O)+.5)+~~(w[Z]*b+.5);Z++;M[Z]=~~(M[Z]*(1-O)+.5)+~~(w[Z]*b+.5);Z++}}};x.Y.c.wj=function(w,M,O){var self=x.Y.c,b=self.jy,D=self.e3,o=0,Z=0;
for(var U=0;U<D;U++){for(var $=0;$<b;$++){var k=w[o++],E=w[o++];M[Z++]=E%O>=2&&k%O>=2?255:0}}};x.Y.c.Vw=function(w,M,O,b,D,o,Z){var self=x.Y.c,$=self.jy,k=self.e3,E=0,t=0,c=0;
for(var U=0;U<k;U++){var l=U%w<O||k-O<=U;for(var q=0;q<$;q++){Z[E++]=l||q%M<b||$-b<=q?D:o}}};x.Y.c.o4=function(w,M,O,b){var self=x.Y.c,D=self.jy,o=self.e3,Z=gM.o4(M),$=Z[0],k=Z[1],E=x.$($.v()*4);
E.fill(4294967295);x.CA(k,E);var t=x.scale.o2(E,$.e,$.n),c=x.scale.kZ(t,null,D,o,O/100,O/100,0,0);x.Oj(c,w,0);
if(b)x.ZW(w)};x.Y.c.UW=function(w){return~~Math.min(255,Math.max(0,w))};x.Y.c.Om=[0,5,10,15,20,25,35,45,65,85,105,125,145,165,185,205];
x.Y.c.yp=[0,.2,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.7,2,2.5,3,3.5,4,5,6,7,8,9,10];x.Y.c.vS=function(w){return w>40?[1.25,1.5,1.75,2,2.5,3,4,5,7.5,10][w-41]:w/40};
x.Y.c.a7_=function(w,M,O){var self=x.Y.c,b=self.jy,D=self.e3,o=O,Z=O>>1,$=Z-1,k=o*o,E=0;for(var U=0;
U<D;U++){var t=0,c=0,l=0,q=~~(U/O)*O,d=0;for(var V=0;V<o;V++){for(var L=0;L<o;L++){var e=d+L,H=q+V;if(e>=b)e=b-1;
if(H>=D)H=D-1;t+=w[H*b+e<<2];c+=w[(H*b+e<<2)+1];l+=w[(H*b+e<<2)+2]}}var j=~~(t/k),g=~~(c/k),K=~~(l/k);
M[E]=j;M[E+1]=g;M[E+2]=K;M[E+3]=w[E+3];E+=4;for(var a=1;a<b;a++){for(var V=0;V<o;V++){var T=a-1,C=T+o,H=q+V;
if(C>=b)C=b-1;if(H>=D)H=D-1;var F=H*b,m=F+C<<2,N=F+T<<2;t+=w[m]-w[N];c+=w[m+1]-w[N+1];l+=w[m+2]-w[N+2]}if(a%O==0){j=~~(t/k);
g=~~(c/k);K=~~(l/k)}M[E]=j;M[E+1]=g;M[E+2]=K;M[E+3]=w[E+3];E+=4}}};x.Y.c.arU=function(w,M,O,b,D){var self=x.Y.c,o=self.jy,Z=self.e3,$=0,k=0,E=0,t=0;
for(var U=t;U<Z+t;U++){var c=U%M>=b||U<b||Z+t-b<=U;for(var l=0;l<o;l++){w[$++]=c&&(l%O>=D||l<D||o-D<=l)?255:0}}};
x.Y.c.a2t=function(w,M,O){var b=function(E,t){return t<=E?E/t&1?t-E%t:E%t:E},D=[function($,k){return b($,255)/255},function($,k){return(255+b($,255)-b(k,255))/510},function($,k){return(255-b(k,255))/255},function($,k){return(510-b($,255)-b(k,255))/510},function($,k){return(255-b($,255))/255},function($,k){return(255-b($,255)+b(k,255))/510},function($,k){return b(k,255)/255},function($,k){return(b($,255)+b(k,255))/510}][O],o=0,Z=0;
for(var U=0;U<x.Y.c.w_;U++){var $=w[o++],k=w[o++];M[Z++]=~~(255*D($,k))}};x.Y.aqG=function(){var w=[],M=new Uint8Array(512),O=new Float32Array(512),b=new Float32Array(512),D=[1,-1,1,-1,1,-1,0,0],o=[1,1,-1,-1,0,0,1,-1],Z=0,$,d=0;
for(;Z<256;Z++)w[Z]=Z;while(Z!=0){Z--;$=Math.floor(Math.random()*Z);w[$]^=w[Z]^(w[Z]=w[$])}function k(k){k=Math.floor(k*65536);
if(k<256){k|=k<<8}for(var U=0;U<256;U++){var e=U+256,H=w[U]^(U&1?k:k>>8)&255;M[U]=M[e]=H;H=H%8;O[U]=O[e]=D[H];
b[U]=b[e]=o[H]}}function E(e){return e*e*e*(e*(e*6-15)+10)}function t(e,H,j){return(1-j)*e+j*H}function c(e,H){return e&H}function l(e,H){return e%H}function q(e,H,j,g,K){var a=Math.floor(e),T=Math.floor(H),Z,C,F,m,N,v;
e=e-a;H=H-T;a=a&255;T=T&255;Z=a+M[T];m=O[Z]*e+b[Z]*H;Z=a+M[K(T+1,g)];F=O[Z]*e+b[Z]*(H-1);Z=K(a+1,j)+M[T];
N=O[Z]*(e-1)+b[Z]*H;Z=K(a+1,j)+M[K(T+1,g)];v=O[Z]*(e-1)+b[Z]*(H-1);C=E(e);return t(t(m,N,C),t(F,v,C),E(H))}function V(e,Z,H){e[Z]=H}function L(e,H,j,g,K){var a=Math.min(Math.min(H,256),Math.min(256,j)),T=a==256||a<8,C=8,F=new Uint32Array(C),m=new Uint32Array(C),N=new Float32Array(C),v=new Float32Array(C),h=1,P=1,J=T?c:l,Y=V,B;
for(var U=0;U<C;U++){B=P*1/a;if(T){m[U]=(1<<Math.ceil(Math.log2(j*B)))-1;F[U]=(1<<Math.ceil(Math.log2(H*B)))-1}else{m[U]=B*j;
F[U]=B*H}N[U]=h;v[U]=B;h*=.5;P=P<<1}k(Math.random());for(var S=0,Z=0;S<j;S++){for(var r=0;r<H;r++){var I=0;
for(var f=0;f<C;f++){B=v[f];I+=q(r*B,S*B,F[f],m[f],J)*N[f]}Y(g,Z++,Math.round(Math.max(0,255*Math.min(1,.5+I*.5))))}}}return L}();
x.Y.aa6=function(){function w(M,O,b,D){var o=new Uint8Array(M.length>>>2),Z=new Uint8Array(M.length>>>2),$=new Uint8Array(M.length);
for(var U=0;U<M.length;U+=4){var k=M[U+0]*.3+M[U+1]*.59+M[U+2]*.11;Z[U>>>2]=k;$[U]=M[U];$[U+1]=M[U+1];
$[U+2]=M[U+2]}x.FJ.YB(Z,o,O,b);x.FJ.jM(M,D,O,b,x.FJ.rd[1],0,!0);for(var U=0;U<M.length;U+=4){$[U+3]=255-o[U>>>2]}for(var U=0,E=M.length;
U<E;U+=4){var t=$[U+3]/255;D[U]=$[U]*t+D[U]*(1-t);D[U+1]=$[U+1]*t+D[U+1]*(1-t);D[U+2]=$[U+2]*t+D[U+2]*(1-t)}}return w}();
x.Y.a8A=function(){function w(o,Z,$,k,E){var t=new Uint32Array(o.buffer),c=0;for(var U=0;U<$;U++){for(var l=0;
l<Z;l++,c+=4){var q=t[U*Z+l],d=q&255,V=q>>>8&255,L=q>>>16&255,e=q>>>24&255,H=~~(Math.random()*8),j=H%3,g=0,K=0;
if(H<3){K--}else if(H>4){K++}if(j==0){g--}else if(j==2){g++}var a=l+g,T=U+K;if(a<0)a=0;else if(a>Z-1)a=Z-1;
if(T<0)T=0;else if(T>$-1)T=$-1;var q=t[T*Z+a],C=q&255,F=q>>>8&255,m=q>>>16&255,N=q>>>24&255;k[c]=E(d,C);
k[c+1]=E(V,F);k[c+2]=E(L,m);k[c+3]=E(e,N)}}}function M(o,Z){return Z}function O(o,Z){return o>Z?Z:o}function b(o,Z){return o<Z?Z:o}function D(o,Z,$,k,E){var t=E[0];
if(t==0)w(o,Z,$,k,M);else if(t==1)w(o,Z,$,k,O);else if(t==2)w(o,Z,$,k,b);else if(t==3){console.error("Not implemented")}else console.error("Mew mew")}return D}();
x.Y.a7z=function(){function w(M,O,b,D,o){var Z=o&&o[0]?o[0]:4,$,k,E,t,c,l,q;for(var U=0;U<b;U++){var d=Math.max(U-Z,0),V=Math.min(U+Z,b-1);
for(var L=0;L<O;L++){var e=Math.max(L-Z,0),H=Math.min(L+Z,O-1);$=d*O+e<<2;t=M[$];c=M[$+1];l=M[$+2];q=M[$+3];
$=d*O+H<<2;t+=M[$];c+=M[$+1];l+=M[$+2];q+=M[$+3];$=V*O+e<<2;t+=M[$];c+=M[$+1];l+=M[$+2];q+=M[$+3];$=V*O+H<<2;
t+=M[$];c+=M[$+1];l+=M[$+2];q+=M[$+3];$=U*O+L<<2;D[$]=t+2>>>2;D[$+1]=c+2>>>2;D[$+2]=l+2>>>2;D[$+3]=q+2>>>2}}}return w}();
x.Y.anS=function(){function w(M,O,b,D){var o=new Uint8Array(M.length),Z=new Uint8Array(M.length>>>2),$=new Uint8Array(M.length>>>2);
x.FJ.jM(M,o,O,b,x.FJ.rd[2],0,!0);for(var U=0;U<M.length;U+=4){var k=o[U+0]*.3+o[U+1]*.59+o[U+2]*.11;
Z[U>>>2]=k;D[U+0]=M[U+0];D[U+1]=M[U+1];D[U+2]=M[U+2];D[U+3]=M[U+3]}x.FJ.YB(Z,$,O,b);for(var U=0;U<M.length;
U+=4){o[U+3]=~~(Math.max(0,255-$[U>>>2]-50)*(255/205))}for(var U=0,E=M.length;U<E;U+=4){var t=o[U+3]/255;
D[U]=o[U]*t+D[U]*(1-t);D[U+1]=o[U+1]*t+D[U+1]*(1-t);D[U+2]=o[U+2]*t+D[U+2]*(1-t)}}return w}();x.Y.IP=function(){function w(H,j){return H[j]+H[j+1]+H[j+2]+H[j+3]}function M(H,j){return H[j]+H[j+1]+H[j+2]+2*H[j+3]}function O(H,j,g,K){H[j]=g[K];
H[j+1]=g[K+1];H[j+2]=g[K+2];H[j+3]=g[K+3]}function b(H,j,g){H[j]=H[g];H[j+1]=H[g+1];H[j+2]=H[g+2];H[j+3]=H[g+3]}function D(H,j,g){H[g]=j[g];
H[g+1]=j[g+1];H[g+2]=j[g+2];H[g+3]=255-j[g+3]}function o(H){for(var U=0,j=H.length;U<j;U+=4){H[U+3]=255-H[U+3]}}function Z(){var H=Math.random();
if(H>.5)return 0;if(H>.25)return 1;if(H>.1)return 2;if(H>.02143)return 3;if(H>.00445)return 4;if(H>65e-5)return 5;
if(H>415e-6)return 6;if(H>55e-6)return 7;return 8}function $(H,j,g,K,a,T){H[j]=g[K]+(a[T]-g[K]>>1);H[j+1]=g[K+1]+(a[T+1]-g[K+1]>>1);
H[j+2]=g[K+2]+(a[T+2]-g[K+2]>>1);H[j+3]=g[K+3]+(a[T+3]-g[K+3]>>1)}function k(H,j,g,K,a,T){H[j]=a[T]+g[K]>>1;
H[j+1]=a[T+1]+g[K+1]>>1;H[j+2]=a[T+2]+g[K+2]>>1;H[j+3]=a[T+3]+g[K+3]>>1}function E(H,j,g,K,a,T,C,F,m){var N=0,v=0,h=0,U,P=a[T],J;
$(F,0,H,j,H,g);for(U=0;U<P;U++){$(F,(U+1)*4,F,U*4,H,g)}v=(P+1)*4;h+=P;T--;O(H,j,F,v-4);K[T]=w(H,j);j-=m;
while(T>0&&K[T-1]<K[T]){J=F;F=C;C=J;N=v;k(F,0,H,j-m,C,0);for(U=4;U<N;U+=4){k(F,U,F,U-4,C,U)}P=a[T];for(U=h;
U<P;U++){$(F,v,F,v-4,C,N-4);v+=4;h++}T--;O(H,j,F,v-4);K[T]=w(H,j);j-=m}}function t(H,j,g,K,a){var T=j*4,C=0,F,m,N=new Uint8Array(j+1),v=new Uint8Array(10*4),h=new Uint8Array(10*4);
for(var U=0;U<g;U++){D(K,H,C);a[0]=w(K,C);N[0]=Z();F=C;C+=4;for(var P=1;P<j;P++){D(K,H,C);a[P]=w(K,C);
m=Z();N[P]=m;if(a[P-1]<a[P]&&m>0){E(K,C-4,C,a,N,P,v,h,4)}C+=4}a[j]=a[0];N[j]=N[0];if(a[j-1]<a[j]&&m>0){E(K,C,F,a,N,j,v,h,4)}}o(K)}function c(){var H=Math.random();
if(H>.659755)return 0;if(H>.1625)return 10;if(H>.06)return 20;if(H>.01)return 30;if(H>.0035)return 40;
if(H>65e-5)return 50;if(H>415e-6)return 60;if(H>55e-6)return 70;return 80}function l(H,j,g,K,a,T){var C=c()+1,F=K[a];
for(var U=1;U<C;U++){if(0>a)break;if(K[a-U]<F){b(H,j,g)}else{break}j+=T}}function q(H,j,g,K,a){var T=j*4,C=0;
for(var U=0;U<g;U++){D(K,H,C);a[0]=w(K,C);C+=4;for(var F=1;F<j;F++){D(K,H,C);a[F]=w(H,C);if(a[F-1]<a[F]){l(K,C-4,C,a,F,-4)}C+=4}a[j]=a[0];
if(a[F-1]<a[F]){l(K,C-4,C-T,a,F,-4)}}o(K)}function d(H,j,g,K,a,T){var C=1,F,m,N=new Uint8Array(4),v,h=j;
while(Math.random()<1/C){h=j;if(K<=1)break;F=g[K];m=g[K-1];if(F<=m)break;O(N,0,H,h-T);v=!0;for(var U=K;
U<a;U++){if(m>g[U]){O(H,h-T,N,0);g[U-1]=m;v=!1;break}O(H,h-T,H,h);g[U-1]=g[U];h+=T}if(v){O(H,h-T,N,0);
g[a-1]=m}C++;K--;j-=T}}function V(H,j,g,K,a){var T=0,C=0,F=j*4;for(var U=0;U<g;U++){C=T;for(var m=0;
m<j;m++){D(K,H,T);a[m]=M(K,T);T+=4}T=C;for(var m=1;m<j;m++){if(a[m-1]<a[m]&&Math.random()<.66){d(K,T+4,a,m,j,4)}T+=4}T+=4}o(K)}function L(H,j,g,K,a){var T=a[0],C=a[1],F=new Uint16Array(j+1),m=H,N=K,v;
if(C){v=K.slice(0);e(H,K,j,g);m=K;N=v}if(T==0)t(m,j,g,N,F);else if(T==1)q(m,j,g,N,F);else if(T==2)V(m,j,g,N,F);
if(C){e(v,K,j,g)}}function e(H,j,g,K){for(var a=0;a<K;a++)for(var T=0;T<g;T++){var C=a*g+T<<2,F=a*g+(g-1-T)<<2;
j[F]=H[C];j[F+1]=H[C+1];j[F+2]=H[C+2];j[F+3]=H[C+3]}}return L}();x.Y.$j=function(w,M,O,b,D){var o=x.Y.c,Z=1,L=0,j=0;
o.X2(M,O);o.vy(D[2]);var $=3<<13,k=Math.PI/2.43,E=k/256,t=Math.PI*2/256;function c(){var T=o.random()*256,C=o.random()*256;
return Z*~~(Math.tan(k-T*E)*325*Math.cos(C*t)*256)+$>>16}Z=D[0];var l=D[1],q=(l+2)/2,d=o.random()*255,V=o.O$(1);
for(var U=0;U<O;U++){var e=o.UW(c()+d);for(var H=0;H<M;H++){e=o.UW(c()+e);V[L++]=e}}L=M;for(var U=1;
U<O;U++){var g=o.UW(c()+V[j++]);V[L++]=g;for(var H=1;H<M;H++){var K=j+1;if(H+1==M){K--}var a=(q+g+V[K]+V[j]*l)/(l+2);
g=o.UW(c()+a);V[L++]=g;j++}}o.Dz(V,b)};var fb=function(){function w(i){i=i^61^i>>>16;i=i+(i<<3);i=i^i>>>4;
i=i*668265261;i=i^i>>>15;return i}var M=function(){var M=function(i){if(i){this.ip=i}this.ip=w(this.ip);
return(this.ip&16777215)*(1/16777215)};return M};function O(i,u){if(u==null){u=[0,0]}return Math.sqrt((u[0]-i[0])*(u[0]-i[0])+(u[1]-i[1])*(u[1]-i[1]))}function b(i,u){if(u==null){u=[0,0]}return[-(u[1]-i[1])/O(i,u),(u[0]-i[0])/O(i,u)]}function D(i){return[Math.cos(i),Math.sin(i)]}function o(i){var u=O(i,[0,0]),z=[i[0]/u,i[1]/u],G=Math.atan(z[1]/z[0]);
if(z[0]>0&&z[1]<0){G+=2*Math.PI}else if(z[0]<0&&z[1]<0){G+=Math.PI}else if(z[0]<0&&z[1]>0){G+=Math.PI}return G}function Z(i){var Z=0;
for(var U=1;U<i.length/2;++U){Z+=O([i[2*U],i[2*U+1]],[i[2*(U-1)],i[2*(U-1)+1]])}return Z}function $(i,u,z){var G=new Float32Array(i.length),g_=1/(i.length/2),cl=K(z);
for(var U=0;U<i.length/2;++U){var p=U*g_,b2=p/2+.5,jz=1,aT=0;if(z.shape==2){jz=1/(2*b2)}if(z.shape==3){b2=(1-p)/2+.5;
jz=1/(2*b2)+.5}if(z.shape==4){b2=p;jz=Math.sin(3/2*Math.PI*b2)/4+1}if(z.shape==5){b2=(p-.5)*6;jz=(-Math.atan(b2)/1.25+1)/5+.6-.2*p}var fZ=[null,null];
if(U==0){fZ=b([i[2*U],i[2*U+1]],[i[2*(U+1)],i[2*(U+1)+1]])}else if(U==i.length/2-1){fZ=b([i[2*(U-1)],i[2*(U-1)+1]],[i[2*U],i[2*U+1]])}else{fZ=b([i[2*(U-1)],i[2*(U-1)+1]],[i[2*(U+1)],i[2*(U+1)+1]])}G[2*U]=i[2*U]+(jz*u+aT)*fZ[0];
G[2*U+1]=i[2*U+1]+(jz*u+aT)*fZ[1];if(z.style==2){G[2*U]+=a(2*U/G.length,cl,z)}}return G}function k(i,u,z){var G=new Float32Array(i.length),g_=1/(i.length/2);
for(var U=0;U<i.length/2;++U){var cl=U*g_,p=[null,null],b2=.6*z._l*F(cl,u.axU)*z.Dr/100,jz=.6*z._l*F(cl,u.amp)*z.Dr/100,aT=u.axM*b2+(1-u.axM)*jz;
if(U==0){p=b([i[2*U],i[2*U+1]],[i[2*(U+1)],i[2*(U+1)+1]])}else if(U==i.length/2-1){p=b([i[2*(U-1)],i[2*(U-1)+1]],[i[2*U],i[2*U+1]])}else{p=b([i[2*(U-1)],i[2*(U-1)+1]],[i[2*(U+1)],i[2*(U+1)+1]])}G[2*U]=i[2*U]+aT*p[0];
G[2*U+1]=i[2*U+1]+aT*p[1]}return G}function E(i){if(i.bq==1){return[.150684932,.205479452,.465753425,.178082192]}else if(i.bq==2){return[.126829268,.131707317,.156097561,.317073171,.141463415,.126829268]}else{var u=[],z=1/(h(i)-1);
for(var U=0;U<h(i)-1;++U){u.push(z)}return u}}function t(i,u,z){var G=[],g_=u-i,cl=i;for(var U=0;U<z.length-1;
++U){G.push(cl+z[U]*g_);cl=G[U]}return G}function c(i,u,z,G){var g_=new Float32Array(z.length),cl=0,p={shape:Math.floor(G.random()*2.99),amI:G.random()*.1+.15};
for(var U=0;U<z.length-1;++U){var b2=cl+z[U];g_[U]=((1-b2)*i+b2*u)*e(G,b2,p);cl=b2}return g_}function l(i,u,z,G){var g_=N(G),cl=G.random(),p=cl*20+(1-cl)*26,b2=new Float32Array(z.length),jz=0;
for(var U=0;U<z.length-1;++U){var aT=jz+z[U];b2[U]=(1-aT)*i+aT*u+g_/p*(2/3*Math.sin(Math.PI*aT)+1/3*Math.sqrt(Math.sin(Math.PI*aT)));
jz=aT}return b2}function q(i,u,z){var G=[];for(var U=0;U<u.length-1;++U){G.push(u[U].slice());var g_=U*(h(z)-1),cl=(U+1)*(h(z)-1),p=i[cl]-i[g_];
for(var b2=g_+1;b2<cl;++b2){var jz=K(z),aT=new Float32Array(u[0].length),fZ=(i[b2]-i[g_])/p;for(var ft=0;
ft<u[0].length/2;++ft){aT[2*ft]=(1-fZ)*u[U][2*ft]+fZ*u[U+1][2*ft];aT[2*ft+1]=(1-fZ)*u[U][2*ft+1]+fZ*u[U+1][2*ft+1];
if(z.style==2){aT[2*ft]+=a(2*ft/u[0].length,jz,z)}}G.push(aT)}}G.push(u[u.length-1]);return G}function d(i,u,z){var G=new Array(u.length),g_=I(i),p=null;
for(var U=0;U<u.length;++U){G[U]=$(g_,(u[U]-.5)*z.Dr,z)}var cl=1+.05*z.a6P*N(z)/N({bq:1});for(var U=0;
U<u.length;++U){if(u[U]==0){p=U}}for(var U=0;U<u.length;++U){var b2=(z.random()-.5)*2,jz=Math.round(z.random()*9+1),aT=new Float32Array(jz*2+2);
for(var fZ=0;fZ<=jz;++fZ){aT[2*fZ]=G[U][0]-(G[U][2*fZ]-G[U][0]);aT[2*fZ+1]=G[U][1]-(G[U][2*fZ+1]-G[U][1])}if(U==p){b2*=.1}for(var fZ=(G[U].length-1)/2;
fZ>jz;--fZ){G[U][2*fZ]=(1-b2)*G[U][2*fZ]+b2*(G[U][2*(fZ-jz)]+cl*(G[U][2*fZ]-G[U][2*(fZ-jz)]));G[U][2*fZ+1]=(1-b2)*G[U][2*fZ+1]+b2*(G[U][2*(fZ-jz)+1]+cl*(G[U][2*fZ+1]-G[U][2*(fZ-jz)+1]))}for(var fZ=jz-1;
fZ>=0;--fZ){G[U][2*fZ]=(1-b2)*G[U][2*fZ]+b2*(aT[2*(jz-fZ)]+cl*(G[U][2*fZ]-aT[2*(jz-fZ)]));G[U][2*fZ+1]=(1-b2)*G[U][2*fZ+1]+b2*(aT[2*(jz-fZ)+1]+cl*(G[U][2*fZ+1]-aT[2*(jz-fZ)+1]))}}var ft=C(u,z);
if(z._l>0){var cc=0;for(var U=0;U<u.length;++U){if(U==0){cc+=u[U]}else{cc+=Math.abs(u[U]-u[U-1])}var kr=cc-Math.floor(cc),hG=1;
if(kr==0){hG=0}G[U]=k(G[U],{axU:ft[Math.floor(cc)],amp:ft[Math.floor(cc)+hG],axM:kr},z)}}return G}function V(i,u){var z=Y(u,i),G=B(u,i),g_=[],cl=[],p=[],b2=E(i);
for(var U=0;U<u.length-1;++U){g_.push(u[U]);cl.push(z[U]);p.push(G[U]);var jz=t(u[U],u[U+1],b2),aT=c(z[U],z[U+1],b2,i),fZ=l(G[U],G[U+1],b2,i);
for(var ft=0;ft<jz.length;++ft){g_.push(jz[ft]);cl.push(aT[ft]);p.push(fZ[ft])}}g_.push(u[u.length-1]);
cl.push(z[z.length-1]);p.push(G[G.length-1]);return{a0G:g_,a1Q:cl,Os:p}}function L(i,u,z,G){var g_=new Float32Array(2*G),cl=i.length/2,p=cl-u,b2=z*p,jz=b2/G;
for(var U=0;U<G;++U){var aT=Math.floor(u+U*jz),fZ=Math.ceil(u+U*jz),z=u+U*jz,ft=fZ-aT,cc=1,kr=0;if(ft!=0){cc=(fZ-z)/ft;
kr=(z-aT)/ft}g_[2*U]=cc*i[2*aT]+kr*i[2*fZ];g_[2*U+1]=cc*i[2*aT+1]+kr*i[2*fZ+1]}return g_}function e(i,u,z){var G=z.amI,g_=u*2*Math.PI,cl=g_,p=0;
if(z.shape==0){p=(Math.sin(2*cl+Math.PI/2)+1)/2}else if(z.shape==1){p=(Math.sin(cl+Math.PI/2)+1)/2}else{p=(4*Math.sin(3/4*cl+Math.PI)+Math.sin(Math.PI/2+2*cl)-2*cl/Math.PI+6)/7}return Math.min(1,1-G+G*p)}function H(i,u,z,G){var g_=[];
for(var U=0;U<i.length;++U){g_.push(L(i[U],u[U],z[U],G))}return g_}function j(i,u,z){var G=[];for(var U=0;
U<i.length;++U){var g_=D(2*Math.PI*z.random()),cl=D(2*Math.PI*z.random()),p=z.f7*.5*P({bq:1})/P(z),b2=p*z.Dr/200,jz=p*u/500,aT=new Float32Array(i[0].length);
for(var fZ=0;fZ<i[0].length/2;++fZ){var ft=D(2*Math.PI*z.random()),cc=2*fZ/i[0].length;aT[2*fZ]=i[U][2*fZ]+b2*(ft[0]+((1-cc)*g_[0]+cc*cl[0]));
aT[2*fZ+1]=i[U][2*fZ+1]+jz*(ft[1]+((1-cc)*g_[1]+cc*cl[1]))}G.push(aT)}return G}function g(i,u,z){var G=z.Y5,g_=2/G,cl=[1/10,1/30,1/40,1/45,1/100],p=cl[z.bq-1],b2=4*(z.opacity/25*g_*p)*(1-z.f7/150),ft=0,kr=0;
if(z.style==3){return b2*.09}var jz=2.2*(i-.5),aT=jz*jz*jz*jz+.27+Math.max(0,(z.opacity-50)/15),fZ=2*(Math.sin(3*Math.PI*u)/(Math.PI*u+2)+1.1)-u/2;
u=2*u;if(u<.41){var cc=2*Math.PI*u/.41;ft=(Math.sin(cc-Math.PI/2)+1)/4+.5}else if(u<.77){var cc=2*Math.PI*(u-.41)/.36;
ft=(Math.sin(cc-Math.PI/2)+1)/4+.5-cc/2/Math.PI*.5}else{var cc=2*Math.PI*(u-.77)/.23;ft=(Math.sin(cc-Math.PI/2)+1)/2*.12}ft*=3;
ft+=Math.max(0,(z.opacity-50)/15);if(z.type==6){kr=fZ}else{kr=ft}return b2*aT*kr}function K(i){return{t:i.random()*7/2+.5,yl:i.random()*2*Math.PI}}function a(i,u,z){return z.Dr/300*h({bq:1})/h(z)*10*(Math.sin(u.t*2*Math.PI*i+u.yl)+10*(z.random()-.5))}function T(i){var u=Math.exp(-i._l/25);
return{t:i.random()*3/2+.5,yl:i.random()*2*Math.PI,u8:(i.random()-.5)*10*u}}function C(i,u){var z=Math.ceil(S(i)),G=[];
for(var U=0;U<=z;++U){G.push(T(u))}return G}function F(i,u){var z=u.t*4*Math.PI*i+u.yl;return Math.exp(-1/2*Math.PI*i)*Math.cos(z)*Math.cos(z)*Math.cos(z)*Math.cos(z)*Math.cos(z)+i*u.u8-u.u8/4}function m(i,u,z,G,g_){var cl=0,p=P(u)-1;
for(var U=0;U<p;++U){for(var b2=0;b2<i.length-1;b2+=h(u)-1){for(var jz=U;jz<i[0].length/2-p;jz+=p){for(var aT=b2;
aT<b2+(h(u)-1);++aT){z[g_+cl]=g(aT*(u.Y5-1)/(i.length-1)%1,jz/i[0].length,u);var fZ=0,ft=0;if(u.type==6&&aT!=0&&aT!=i.length-1){ft=(i[aT][2*(jz+1)+1]-i[aT][2*jz+1])/2;
fZ=(i[aT][2*(jz+1)]-i[aT][2*jz])/2}G[8*g_+8*cl]=i[aT][2*jz]+fZ;G[8*g_+8*cl+1]=i[aT][2*jz+1]+ft;G[8*g_+8*cl+2]=i[aT][2*(jz+p)]+fZ;
G[8*g_+8*cl+3]=i[aT][2*(jz+p)+1]+ft;G[8*g_+8*cl+4]=i[aT+1][2*(jz+p)];G[8*g_+8*cl+5]=i[aT+1][2*(jz+p)+1];
G[8*g_+8*cl+6]=i[aT+1][2*jz];G[8*g_+8*cl+7]=i[aT+1][2*jz+1];++cl}}}}}function N(i){var u=[100,300,500,700,1e3];
return u[i.bq-1]}function v(i){var u=[30,70,100,140,300];return u[i.bq-1]}function h(i){var u=[5,7,26,40,100];
return u[i.bq-1]}function P(i){if(i.bq==1){return 4}else if(i.bq==2){return 8}else{return Math.floor(v(i)/9)}}function J(i){var u=i.Y5,z=new Float32Array(u),G=null;
for(var U=0;U<u;++U){z[U]=i.random()}if(i.Y5<=3){z[0]=0;z[i.Y5-1]=1}else{for(var U=0;U<2;++U){var g_=Math.floor(i.random()*u);
if(G==null||G!=g_){z[g_]=U;G=g_}else{z[g_+1]=U}}}return z}function Y(i,u){var z=[],G=.2,cl=0;for(var U=0;
U<i.length;++U){var g_=u.random()*(1-G)+G;z.push(g_)}var p=Math.min(3,u.Y5);for(var U=0;U<i.length;++U){if(z[U]>.9){++cl}}while(cl<p){var b2=Math.floor(u.random()*i.length);
if(z[b2]<=.9){z[b2]=.9+.1*u.random();++cl}}return z}function B(i,u){var z=N(u),G=N({bq:1}),g_=[];for(var U=0;
U<i.length;++U){g_.push(Math.max(1,(u.random()*10+2)*z/G))}return g_}function S(i){var u=0;for(var U=0;
U<i.length;++U){if(U==0){u+=i[U]}else{u+=Math.abs(i[U]-i[U-1])}}return u}function r(i,u){if(i.length/2-1==N(u)){return i}var z=new Float32Array(2*(N(u)+1)),G=(i.length-2)/(z.length-2);
for(var U=0;U<z.length/2;++U){var g_=U*G,cl=Math.floor(g_),p=Math.ceil(g_),b2=p-cl,jz=1,aT=0;if(b2!=0){jz=(p-g_)/b2;
aT=(g_-cl)/b2}z[2*U]=jz*i[2*cl]+aT*i[2*p];z[2*U+1]=jz*i[2*cl+1]+aT*i[2*p+1]}return z}function I(i,u){var z=i.length/2,G=Z(i),g_=G/z,cl=!1,jz=0,aT=0,fZ=1;
if(u){var p=Math.floor(G/u.aez),b2=u.aez;if(u.aoI&&i[0]==i[i.length-2]&&i[1]==i[i.length-1]){cl=!0;b2=G/(p+1)}if(u.type==2&&!cl&&b2*p+u.length>G){z=p+1}else{z=p+2}g_=b2}var ft=new Float32Array(z*2);
ft[0]=i[0];ft[1]=i[1];for(var U=1;U<z;++U){while(jz<=U*g_){aT=jz;jz+=O([i[2*fZ],i[2*fZ+1]],[i[2*(fZ-1)],i[2*(fZ-1)+1]]);
++fZ}var cc=1-(U*g_-aT)/(jz-aT);ft[2*U]=(1-cc)*i[2*fZ]+cc*i[2*(fZ-1)];ft[2*U+1]=(1-cc)*i[2*fZ+1]+cc*i[2*(fZ-1)+1]}ft[ft.length-2]=i[i.length-2];
ft[ft.length-1]=i[i.length-1];return ft}function f(i,u){var z=I(i,u),G=[];for(var U=0;U<(z.length-2)/2;
++U){var g_=[];g_.push(z[2*U]);g_.push(z[2*U+1]);var cl=O([z[2*(U+1)],z[2*(U+1)+1]],[z[2*U],z[2*U+1]]),p=[(z[2*(U+1)]-z[2*U])/cl,(z[2*(U+1)+1]-z[2*U+1])/cl],b2=D((u.aii-90)/360*2*Math.PI),jz=p;
if(u.type==3){jz=b2}else if(u.type==4){jz=D(o(p)+o(b2))}else if(u.type==5){jz=D(((u.random()-.5)*u.aii-90)/360*2*Math.PI)}var aT=u.length;
if(u.ayf){aT=2*u.random()*u.length}g_.push(z[2*U]+jz[0]*aT);g_.push(z[2*U+1]+jz[1]*aT);G.push(g_)}return G}function s(i){if(i.a2U){i.jB=100*Math.random()}else{i.jB=i.akp}i.random=new M;
i.random(i.jB);if(i.type==6){i.Y5=2;i.shape=5;i.a6P=0}}function W(i,u){i=r(i,u);var z=[i],aT=0;if(u.type>=2&&u.type<6){z=f(i,u)}var G=P(u)-1,g_=v(u)-G,cl=(u.Y5-1)*(h(u)-1),p=z.length*g_*cl,b2=new Float32Array(p),jz=new Float32Array(8*p);
for(var U=0;U<z.length;++U){for(var fZ=0;fZ<1e4;++fZ){u.jB=w(u.jB)}u.random(u.jB);var i=r(z[U],u),ft=J(u),cc=S(ft),kr=d(i,ft,u),hG=V(u,ft),hi=q(hG.a0G,kr,u);
hi=H(hi,hG.Os,hG.a1Q,v(u));if(u.f7>0){hi=j(hi,Z(z[U]),u)}m(hi,u,b2,jz,aT);aT+=g_*cl}return[b2,jz]}var fb=function(i){var u=performance.now(),z=i[0],G=i[1];
s(G);var g_=[new Float32Array(0),new Float32Array(0)];for(var U=0;U<z.length;++U){G.jB=w(G.jB);var cl=W(z[U],G),p=new Float32Array(g_[0].length+cl[0].length),b2=new Float32Array(g_[1].length+cl[1].length);
p.set(g_[0]);p.set(cl[0],g_[0].length);g_[0]=p;b2.set(g_[1]);b2.set(cl[1],g_[1].length);g_[1]=b2}var jz=performance.now();
if(G.a6O){console.ig("Geometry: "+String(jz-u)+"ms")}return g_};return fb}(),a9=function(){function w(D,o){var Z=[],$=0,k=o.length,E=0,t=0,c=new cn,l=0,q=1e9;
for(t=0;t<k;t++){var d=t*8,V=o[t];if(V<q)q=V;var L=D[d+0],e=D[d+1],H=D[d+2],j=D[d+3],g=D[d+4],K=D[d+5],a=D[d+6],T=D[d+7],C=Math.min(L,H,g,a),F=Math.max(L,H,g,a),m=Math.min(e,j,K,T),N=Math.max(e,j,K,T),v=new cn(C,m,F-C,N-m),h=v.MK(c),P=l+V;
if(t-E<10&&(t==E||h.v()*.8<v.v()+c.v())){c=h;l=P}else{Z.push(t-E);E=t;c=v;l=V;q=V}}if(t!=E)Z.push(t-E);
return Z}function M(D,o,Z,$,k,E){var t=document.createElement("canvas"),e=0,p=.8;t.width=o;t.height=Z;
var c=t.getContext("2d"),l=k[0],q=k[1],d=new Float64Array(o*Z),V=Date.now(),L=w(q,l);for(var H=0;H<L.length;
H++){var j=e,g=e+L[H],T=1e9,F=1e9,Y=0;e=g;var K=j*8,a=g*8,C=-T,m=-F;for(var N=K;N<a;N+=2){var v=q[N],h=q[N+1];
if(v<T)T=v;if(v>C)C=v;if(h<F)F=h;if(h>m)m=h}T=Math.floor(T);C=Math.ceil(C);F=Math.floor(F);m=Math.ceil(m);
var P=C-T,J=m-F;for(var B=j;B<g;B++)Y+=l[B];for(var N=K;N<a;N+=8){var S=l[N>>>3],r=q[N+0],I=q[N+1],f=q[N+2],s=q[N+3],W=q[N+4],i=q[N+5],u=q[N+6],z=q[N+7];
c.fillStyle="rgba(0,0,0,"+S/Y+")";c.beginPath();c.moveTo(r,I);c.lineTo(f,s);c.lineTo(W,i);c.lineTo(u,z);
c.closePath();c.fill()}var G=c.getImageData(T,F,P,J).data;for(var h=0;h<J;h++)for(var v=0;v<P;v++){var U=h*P+v,g_=G[U*4+3],cl=(F+h)*o+T+v;
if(g_!=0)d[cl]+=g_*Y}c.clearRect(T,F,P,J)}var b2=E[1].color,jz=Math.pow(b2.o/255,p),aT=Math.pow(b2.w/255,p),fZ=Math.pow(b2.L/255,p),ft=new cn(0,0,o,Z),cc=x.$(o*Z*4);
for(var h=0;h<Z;h++)for(var v=0;v<o;v++){var U=h*o+v,B=U*4,l=d[U]*(1/255);cc[B]=b(jz,l);cc[B+1]=b(aT,l);
cc[B+2]=b(fZ,l);cc[B+3]=Math.min(255,l*255)}x.a.DP("norm",cc,ft,$,ft,ft,1)}var O=new Uint8Array(2e3);
for(var U=0;U<2e3;U++)O[U]=255*Math.min(1,Math.log(U/700+1));function b(D,o){return O[Math.min(1500,~~(D*o*1e3))]}return M}(),f8=function(){var w=new Float32Array(3e3),M=new Float32Array(3e3),O=new Float32Array(256),b=new Float32Array(3e3);
function D(){var q=w.length;w[0]=Math.log10(157647e-9);for(var U=1;U<q;++U)w[U]=Math.log10(U/q)}function o(){var q=M.length;
for(var U=0;U<q;++U)M[U]=Math.pow(10,20*(U-q/2)/q)}function Z(){var q=O.length;for(var U=0;U<q;++U)O[U]=x.dm(U/255)}function $(){var q=b.length;
for(var U=0;U<q;++U)b[U]=255*x.I6(U/(q-1))}function k(q,d){var V=q.length>>>2;for(var U=0;U<V;++U){var L=O[q[4*U]],e=O[q[4*U+1]],H=O[q[4*U+2]],j=.3811*L+.5783*e+.0402*H,g=.1967*L+.7244*e+.0782*H,K=.0241*L+.1288*e+.8444*H;
j=w[~~(j*w.length)];g=w[~~(g*w.length)];K=w[~~(K*w.length)];d[3*U]=(j+g+K)*.5773502692;d[3*U+1]=(j+g-2*K)*.4082482905;
d[3*U+2]=(j-g)*.7071067812}}function E(q,d){var V=d.length>>>2,L=b.length-1;for(var U=0;U<V;++U){var e=.5773502692*q[3*U],H=.4082482905*q[3*U+1],j=.7071067812*q[3*U+2],g=M[~~((e+H+j+10)*(3e3/20))],K=M[~~((e+H-j+10)*(3e3/20))],a=M[~~((e-2*H+10)*(3e3/20))],T=4.4679*g-3.5873*K+.1193*a,C=-1.2186*g+2.3809*K-.1624*a,F=.0497*g-.2439*K+1.2045*a;
d[4*U]=b[~~(L*Math.max(0,Math.min(1,T)))];d[4*U+1]=b[~~(L*Math.max(0,Math.min(1,C)))];d[4*U+2]=b[~~(L*Math.max(0,Math.min(1,F)))]}}function t(q){var d=0,V=0,L=0;
for(var U=0;U<q.length;U+=3){d+=q[U];V+=q[U+1];L+=q[U+2]}return[d/(q.length/3),V/(q.length/3),L/(q.length/3)]}function c(q,t){var d=0,V=0,L=0;
for(var U=0;U<q.length;U+=3){var e=q[U]-t[0],H=q[U+1]-t[1],j=q[U+2]-t[2];d+=e*e;V+=H*H;L+=j*j}return[Math.sqrt(d/(q.length/3)),Math.sqrt(V/(q.length/3)),Math.sqrt(L/(q.length/3))]}function l(q,d,V,L,e,H){D();
o();Z();$();var j=0,I,f;if(H[0]>100)j=-(H[0]-100)/100*.13;else if(H[0]>=75)j=(100-H[0])/25*.04;else if(H[0]>=50)j=.04+(75-H[0])/25*.04;
else if(H[0]>=25)j=.08+(50-H[0])/25*.08;else j=.16+(25-H[0])/25*.24;var g=(H[1]-100+100)/100,K=H[2]/100,a=H[3],T=new Float32Array(q.length*3/4),C=new Float32Array(L.length*3/4),F=Date.now();
k(q,T);k(L,C);var m=Date.now(),N=t(T),v=t(C),h=Date.now(),P=c(T,N),J=c(C,v),Y=Date.now();v[0]*=Math.pow(10,j);
var B=[J[0]/P[0],J[1]/P[1],J[2]/P[2]],S=T.length,r=1/-1.1546978950500488;for(var U=0;U<S;U+=3){if(a){var s=Math.max(0,Math.min(1,T[U]*r));
s=1-Math.sqrt(s);I=s*v[1];f=s*v[2]}else{I=v[1];f=v[2]}T[U]=(T[U]-N[0])*B[0]+v[0];T[U+1]=(T[U+1]-N[1])*B[1]*g+I;
T[U+2]=(T[U+2]-N[2])*B[2]*g+f}var W=Date.now();E(T,e);var i=e.length>>>2;for(var U=0;U<i;++U){e[4*U]=(1-K)*e[4*U]+K*q[4*U];
e[4*U+1]=(1-K)*e[4*U+1]+K*q[4*U+1];e[4*U+2]=(1-K)*e[4*U+2]+K*q[4*U+2];e[4*U+3]=255}}return l}(),bF=function(){function w(M,O,b,D,o){var Z=[-1,-1,-1,-1],$=255,k=160,E,t=!1,c=new Array(4);
c[0]=new Array(O);c[1]=new Array(b);c[2]=new Array(O);c[3]=new Array(b);var l=new Array(2);l[0]=new Array(b);
l[1]=new Array(b);function q(J,Y,B,S,r){this.start=S;this.axis=r;this.dir=J;this.end=-1;this.source=Y;
this.v=B}function d(J,Y,B,S,r){if(B%2==0){if(!c[B][J])c[B][J]=new Array;c[B][J].push(new q(B,S,r,Y,J))}else{if(!c[B][Y])c[B][Y]=new Array;
c[B][Y].push(new q(B,S,r,J,Y))}var I=Date.now()}function V(U){var J=!1,Y=0;if(M[4*U+3]<$)return J;var B=U%O,S=Math.floor(U/O);
L(B,S);if(U+O<O*b&&M[4*(U+O)+3]<$&&M[4*(U-O)+3]>=$&&M[4*(U-2*O)+3]>=$){var r=2;if(M[4*(U+O)+3]<=k)Y=-1;
if(M[4*(U+2*O-1)+3]<$&&M[4*(U+2*O+1)+3]<$)J=!0;else if(M[4*(U+2*O-1)+3]>=$&&M[4*(U+1)+3]>=$)J=!0;else if(M[4*(U+2*O+1)+3]>=$&&M[4*(U-1)+3]>=$)J=!0;
d(B,S,r,Y,J)}else if(U-O>=0&&M[4*(U-O)+3]<$&&M[4*(U+O)+3]>=$&&M[4*(U+2*O)+3]>=$){var r=0;if(M[4*(U-O)+3]<=k)Y=-1;
if(M[4*(U-2*O-1)+3]<$&&M[4*(U-2*O+1)+3]<$)J=!0;else if(M[4*(U-2*O-1)+3]>=$&&M[4*(U+1)+3]>=$)J=!0;else if(M[4*(U-2*O+1)+3]>=$&&M[4*(U-1)+3]>=$)J=!0;
d(B,S,r,Y,J)}Y=0;if(U+1<O*b&&M[4*(U+1)+3]<$&&M[4*(U-1)+3]>=$&&M[4*(U-2)+3]>=$){var r=3;if(M[4*(U+1)+3]<=k)Y=-1;
if(!J&&M[4*(U+O+2)+3]<$&&M[4*(U-O+2)+3]<$){J=!0;d(B,S,r,Y,!0)}else d(B,S,r,Y,!1)}else if(U>=1&&M[4*(U-1)+3]<$&&M[4*(U+1)+3]>=$&&M[4*(U+2)+3]>=$){var r=1;
if(M[4*(U-1)+3]<=k)Y=-1;if(!J&&M[4*(U+O-2)+3]<$&&M[4*(U-O-2)+3]<$){J=!0;d(B,S,r,Y,!0)}else d(B,S,r,Y,!1)}return J}function L(U,J){if(Z[0]==-1){Z[0]=U;
Z[1]=J;Z[2]=1;Z[3]=1}if(U<Z[0]){Z[2]+=Z[0]-U;Z[0]=U}if(U>Z[0]+Z[2])Z[2]=U-Z[0];if(J<Z[1]){Z[3]+=Z[1]-J;
Z[1]=J}if(J>Z[1]+Z[3])Z[3]=J-Z[1]}function e(J,U,Y,B){if(!Y.v)return;var S=(J+2)%4,r=Y.start,I=Z[1];
if(J==2)I+=Z[3];else if(J==1)I=Z[0];else if(J==3)I=Z[0]+Z[2];var f=Y.source;if(c[S][U])for(var s=0;s<c[S][U].length;
++s){if(J>1){var W=r+Math.floor((c[S][U][s].start-r)/2);if(c[S][U][s].start>r&&W<I)I=W}else{var W=r-Math.floor((r-c[S][U][s].start)/2);
if(c[S][U][s].start<r&&W>I)I=W}}for(var i=1;i<Math.abs(I-r);++i){var s=r+i;if(J==1||J==0)s=r-i;for(var u=0;
u<2;++u){var z=2*u,G=!1;if(J%2==0)z+=1;if(c[z][s]){for(var g_=0;g_<c[z][s].length;++g_){if(c[z][s][g_].v){var cl=c[z][s][g_].start,p=U-cl,b2=s-r;
if(z==0||z==1)p=-p;if(p<=0)continue;if(J==0||J==1)b2=-b2;if(b2>p){I=s;G=!0;break}}}if(G)break}}}Y.end=I;
g(J,U,r,I,f)}function H(J){for(var U=0;U<c[J].length;++U){if(c[J][U])for(var Y=0;Y<c[J][U].length;++Y){e(J,U,c[J][U][Y])}}}function j(){var J=[2,0,3,1];
for(var U=0;U<J.length;++U)H(J[U])}function g(J,U,Y,B,S){if(J==2)for(var r=Y;r<=B;++r){if(!K(r*O+U,(Y+S)*O+U))return!1}else if(J==0)for(var r=Y;
r>=B;--r){if(!K(r*O+U,(Y-S)*O+U))return!1}else if(J==1)for(var r=Y;r>=B;--r){if(!K(U*O+r,U*O+Y-S))return!1}else if(J==3)for(var r=Y;
r<=B;++r){if(!K(U*O+r,U*O+Y+S))return!1}}function K(J,Y){if(!E[J]){D[4*J]=D[4*Y];D[4*J+1]=D[4*Y+1];D[4*J+2]=D[4*Y+2];
if(t)D[4*J+3]=255;E[J]=!0;return!0}return!1}function a(){for(var U=0;U<4;U+=1){for(var J=0;J<c[U].length;
++J){if(c[U][J])for(var Y=0;Y<c[U][J].length;++Y){var B=c[U][J][Y];for(var S=1;S<3;S+=2){var r=(U+S)%4;
if(c[r][B.start])for(var I=0;I<c[r][B.start].length;++I){if(c[r][B.start][I].start==B.axis){var aq=O*B.start+B.axis;
if(U%2==1){aq=B.start+O*B.axis;T(c[r][B.start][I])}else T(B)}}}}}}}function T(J){if(J.dir%2==0){var aq=O*J.start+J.axis,Y=J.start,B=1;
if(!E[aq+1])B=3;else if(E[aq-1])return;var S=D[4*aq],r=D[4*aq+1],I=D[4*aq+2];while(D[4*aq]==S&&D[4*aq+1]==r&&D[4*aq+2]==I){if(B==1){if(!l[0][Y])l[0][Y]=new Array;
l[0][Y].push(new q(B,0,!1,J.axis,Y))}else{if(!l[1][Y])l[1][Y]=new Array;l[1][Y].push(new q(B,0,!1,J.axis,Y))}if(J.dir==2){aq+=O;
Y++}else{aq-=O;Y--}}}}function C(){for(var J=0;J<2;++J){var Y=(J+1)%2;for(var U=0;U<l[J].length;++U){if(l[J][U])for(var B=0;
B<l[J][U].length;++B){var S=Z[0];if(J==1)S+=Z[2];var r=l[J][U][B].start;if(l[Y][U])for(var I=0;I<l[Y][U].length;
++I){var f=l[Y][U][I].h7;if(J==0){if(f>S&&f<r){S=r-Math.floor((r-f)/2)}}else{if(f<S&&f>r){S=r+Math.ceil((f-r)/2)}}}if(J==0)g(l[J][U][B].dir,U,r-1,S,-1);
else g(l[J][U][B].dir,U,r+1,S,-1)}}}for(var U=0;U<E.length;++U){if(!E[U]&&U%O>=Z[0]&&U%O<=Z[0]+Z[2]&&Math.floor(U/O)>=Z[1]&&Math.floor(U/O)<=Z[1]+Z[3]){var r=O;
if(U<r||!E[U-r])r=1;D[4*U]=D[4*(U-r)];D[4*U+1]=D[4*(U-r)+1];D[4*U+2]=D[4*(U-r)+2];E[U]=!0;if(t)D[4*U+3]=255}}}function F(){E=new Array(M.length/4);
for(var U=0;U<D.length/4;++U){E[U]=!1;D[4*U]=M[4*U];D[4*U+1]=M[4*U+1];D[4*U+2]=M[4*U+2];D[4*U+3]=M[4*U+3];
if(D[4*U+3]==255)E[U]=!0;if(V(U))E[U]=!1}if(Z[0]>0){Z[0]--;Z[2]++}if(Z[1]>0){Z[1]--;Z[3]++}if(Z[0]+Z[2]<O){Z[2]++}if(Z[1]+Z[3]<b){Z[3]++}}var m=Date.now();
F();var N=Date.now();j();var v=Date.now();a();var h=Date.now();C();var P=Date.now();console.log("Init: "+String(N-m));
console.log("Filling: "+String(v-N));console.log("Check areas: "+String(h-v));console.log("Fill areas: "+String(P-h))}return w}();
function jt(){}jt.alA=function(w){var M=[x.dm(w[0]),x.dm(w[1]),x.dm(w[2]),0];return x.in.Tl(x.in.a5,M)};
jt.aiU=function(w){var M=x.in.Tl(x.in.SU,w);return[x.I6(M[0]),x.I6(M[1]),x.I6(M[2])]};jt.C9=function(w,M){var O={},b=5003,D=1667,o=25e3,Z=57.4,$=16.1,k=1.8,E=0,t=1.54,c=.75,d=0;
if(M>0){w-=M/100*4}if(w<0){$=22.54;Z=80.36;t=.756}if(M>0){k=1.3;c=.2}var l=Math.min(b+Z*w,o),q=Math.max(b-$*w,D);
if(w<0){l=Math.max(b+$*w,D);q=Math.min(b-Z*w,o)}if(w>0){if(w<=14){d=(w-1)/13*.075+.025}else if(w<=29){d=.1}else if(w<=60){d=.1-.1*(w-29)/(60-29)}else{var V=w-60;
E=-20*(V/40);d=-.3*(V/40)}}else{if(w<-60){var V=w+60;E=-20*(V/40)}}var L=Math.abs(w)/100*t+Math.abs(M)/100*c+d,e=-(M*k+E),H=fK.RU(l,-e),j=fK.xN(H),g=fK.RU(q,0),K=fK.xN(g),a=fK.cR(j,K);
O.a50=L;O.at7=a;if(w==0&&M==0)O.adn=!0;else O.adn=!1;return O};jt.axI=function(w,M,O,b){if(b.adn){return[w,M,O]}var D=this.alA([w,M,O]),o=D[0],Z=D[1],$=D[2],k=Z+1e-12,E=[o/k,Z/k,$/k,0],t=x.in.Tl(b.at7,E),c=0,l=.4;
t[0]*=k;t[1]*=k;t[2]*=k;if(k>l)c=1/(1-l)*(k-l);D[0]=(1-c)*t[0]+c*o;D[1]=(1-c)*t[1]+c*Z;D[2]=(1-c)*t[2]+c*$;
return this.aiU(D)};x.hy={br:function(w,M){var U=w.length;w.push(M);var O=U>>>1;while(O!=0&&w[U][0]<w[O][0]){var b=w[U];
w[U]=w[O];w[O]=b;U=O;O=U>>>1}},c1:function(w){if(w.length==2)return w.pop();var top=w[1],U=1;w[1]=w.pop();
var M=w.length;while(!0){var O=U<<1,b=O+1,D=U;if(O<M&&w[O][0]<w[D][0])D=O;if(b<M&&w[b][0]<w[D][0])D=b;
if(D==U)break;var o=w[U];w[U]=w[D];w[D]=o;U=D}return top},a8p:function(w){for(var U=1;U<w.length;U++){var M=U,O=1e9;
while(M!=0){var b=w[M][0];if(b>O){console.log(U);throw"e"}O=b;M=M>>>1}}}};x.a={};x.a.Aq=new Float64Array(256);
x.a.lM=new Uint8Array(256*256);x.a.OM=new Uint8Array(256*256);(function(){for(var U=0;U<256;U++)x.a.Aq[U]=255/U;
for(var U=0;U<256;U++)for(var w=0;w<256;w++)x.a.lM[U*256+w]=U==0?0:Math.round(w*255/U);for(var U=0;U<256;
U++)for(var w=0;w<256;w++)x.a.OM[U*256+w]=Math.round(U*(255-w)/255)}());x.a.DP=function(w,M,O,b,D,o,Z,$){if($==null)$=eR.GP();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(w)==-1){Z=Z*$.fill;$.fill=1;$.style=!1}var k="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),E="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),t=x.a[w+"F"];
if($.dj==null&&w=="norm")x.a.a2J(M,O,b,D,o,Z,t,$.WU?1:0);else if(w=="diss")x.a.ayl(M,O,b,D,o,Z,t,$.WU?1:0);
else if(k.indexOf(w)!=-1)x.a.akd(M,O,b,D,o,Z,t,$);else if(E.indexOf(w)!=-1)x.a.agV(M,O,b,D,o,Z,t,$)};
x.a.a68=function(w,M,O){var b=w*O+1-O;return b<.001?0:1-Math.min(1,(1-M)/b)};x.a.a1L=function(w,M,O){return w*O==1?1:Math.min(1,M/(1-w*O))};
x.a.Pn=function(w){return w<=.25?((16*w-12)*w+4)*w:Math.sqrt(w)};x.a.normF=function(w,M,O){return w};
x.a.darkF=function(w,M,O){return Math.min(w,M)};x.a["mul F"]=function(w,M,O){return w*M};x.a.idivF=function(w,M,O){var b=w*O+1-O;
return M==1?1:1-M>=b?0:1-(1-M)/b};x.a.lbrnF=function(w,M,O){return Math.max(0,w*O+M-O)};x.a.dkClF=function(w,M,O){var b=x.YF(w)<x.YF(M)?w:M;
O.o=b.o;O.w=b.w;O.L=b.L;return O};x.a.liteF=function(w,M,O){return Math.max(w,M)};x.a.scrnF=function(w,M,O){return M+w-M*w};
x.a["div F"]=function(w,M,O){w*=O;return M==0?0:M>=1-w?1:M/(1-w)};x.a.lddgF=function(w,M,O){w*=O;return Math.min(1,w+M)};
x.a.lgClF=function(w,M,O){var b=x.YF(w)>x.YF(M)?w:M;O.o=b.o;O.w=b.w;O.L=b.L;return O};x.a.overF=function(w,M,O){return x.a.hLitF(M,w,O)};
x.a.sLitF=function(w,M,O){return w<=.5?M-(1-2*w)*M*(1-M):M+(2*w-1)*(x.a.Pn(M)-M)};x.a.hLitF=function(w,M,O){return w<=.5?x.a["mul F"](2*w,M,O):x.a.scrnF(2*w-1,M,O)};
x.a.vLitF=function(w,M,O){return w<=.5?x.a.a68(2*w,M,O):x.a.a1L(2*w-1,M,O)};x.a.lLitF=function(w,M,O){return w<=.5?x.a.lbrnF(2*w,M,O):x.a.lddgF(2*w-1,M,O)};
x.a.pLitF=function(w,M,O){return w<=.5?x.a.darkF(2*w,M,O):x.a.liteF(2*w-1,M,O)};x.a.hMixF=function(w,M,O){if(O>.99)return w+M<1?0:1;
return Math.min(1,Math.max(0,(M+w*O-O)/(1-O+1e-6)))};x.a.diffF=function(w,M,O){w*=O;return Math.abs(w-M)};
x.a.smudF=function(w,M,O){return w+M-2*w*M};x.a.fsubF=function(w,M,O){return Math.max(M-w,0)};x.a.fdivF=function(w,M,O){return Math.min(M/w,1)};
x.a["hue F"]=function(w,M,O){x.a.v2(w,x.wF(M),O);x.a.jg(O,x.YF(M),O)};x.a["sat F"]=function(w,M,O){x.a.v2(M,x.wF(w),O);
x.a.jg(O,x.YF(M),O)};x.a.colrF=function(w,M,O){x.a.jg(w,x.YF(M),O)};x.a["lum F"]=function(w,M,O){x.a.jg(M,x.YF(w),O)};
x.a.jg=function(w,M,O){var b=M-x.YF(w);O.o=w.o+b;O.w=w.w+b;O.L=w.L+b;x.a.awR(O)};x.a.awR=function(w){var M=w.o,O=w.w,b=w.L,D=x.nJ(M,O,b),aq=Math.min(M,O,b),o=Math.max(M,O,b);
if(aq<0){var Z=D/(D-aq);M=D+(M-D)*Z;O=D+(O-D)*Z;b=D+(b-D)*Z}if(o>1){var Z=(1-D)/(o-D);M=D+(M-D)*Z;O=D+(O-D)*Z;
b=D+(b-D)*Z}w.o=M;w.w=O;w.L=b};x.a.v2=function(w,M,O){var b=x.a.ax3,D=w.o,o=w.w,Z=w.L;if(D==o&&o==Z){O.o=O.w=O.L=0}else if(D>o){if(D>Z){if(o>Z){O.o=M;
O.w=b(D,o,Z,M);O.L=0}else{O.o=M;O.L=b(D,Z,o,M);O.w=0}}else{O.L=M;O.o=b(Z,D,o,M);O.w=0}}else{if(D<Z){if(o>Z){O.w=M;
O.L=b(o,Z,D,M);O.o=0}else{O.L=M;O.w=b(Z,o,D,M);O.o=0}}else{O.w=M;O.o=b(o,D,Z,M);O.L=0}}};x.a.ax3=function(w,M,O,b){return(M-O)*b/(w-O)};
x.a.a2J=function(w,M,O,b,D,o,Z,$){var k=M.mX(b).mX(D),E=Math.max(0,k.x-M.x),t=Math.max(0,k.x-b.x),c=Math.max(0,k.y-M.y),l=Math.max(0,k.y-b.y),q=k.e,d=k.n,V=M.e,L=b.e,e=x.a.lM,H=x.a.OM,j=new Uint32Array(w.buffer),g=new Uint32Array(O.buffer);
for(var U=0;U<d;U++){var K=(c+U)*V+E,a=(l+U)*L+t;for(var T=0;T<q;T++){var C=j[K+T],B=1;if(C>>>24==0)continue;
if(C>>>24==255&&o==1&&$==0){g[a+T]=j[K+T];continue}var F=g[a+T],m=C&255,N=C>>>8&255,v=C>>>16&255,h=F&255,P=F>>>8&255,J=F>>>16&255,Y=o,S=(F>>>24)*(1/255);
if($==0){Y=(C>>>24)*o*(1/255);B=S}var r=B*(1-Y),I=Y+r,f=1/I;g[a+T]=~~(.5+($*S+(1-$)*I)*255)<<24|~~(.5+(v*Y+J*r)*f)<<16|~~(.5+(N*Y+P*r)*f)<<8|~~(.5+(m*Y+h*r)*f)}}};
x.a.a88=function(w,M,O,b,D,o){var Z=M.mX(b).mX(D),$=Math.max(0,Z.x-M.x),k=Math.max(0,Z.x-b.x),E=Math.max(0,Z.y-M.y),t=Math.max(0,Z.y-b.y),c=Z.e,l=Z.n,q=M.e,d=b.e,V=x.a.lM,L=x.a.OM,e=new Uint32Array(w.buffer),H=new Uint32Array(O.buffer),j=Math.floor(Math.random()*16777215),g=0;
for(var U=0;U<l;U++){var K=(E+U)*q+$,a=(t+U)*d+k;for(var T=0;T<c;T++){var C=e[K+T];if(C>>>24==0)continue;
if(C>>24==255&&o==1){H[a+T]=C;continue}var F=H[a+T],m=(C>>>24)*o*(1/255),N=(F>>>24)*(1/255),v=N*(1-m),h=m+v,P=C&255,J=C>>>8&255,Y=C>>>16&255,B=F&255,S=F>>>8&255,r=F>>>16&255;
g>>>=8;if((T&3)==0)g=x.a.$J(a+T+j);var I=h==0?0:1/h,f=Math.floor(h*(256*255))+(g&255)>>>8,s=Math.floor((Y*m+r*v)*I+.5),W=Math.floor((J*m+S*v)*I+.5),i=Math.floor((P*m+B*v)*I+.5);
H[a+T]=f<<24|s<<16|W<<8|i}}};x.a.Cm=function(w,M,O,b,D,o,Z,$){var k=x.nJ(w,M,O),E=x.nJ(b,D,o),t=Math.min,c=x.a.asM,l=c(k,$,0);
l=t(l,c(w,$,8));l=t(l,c(M,$,16));l=t(l,c(O,$,24));var q=c(E,$,4);q=t(q,c(b,$,12));q=t(q,c(D,$,20));q=t(q,c(o,$,28));
q=Math.max(q,1-Z);var d=Math.min(l,q);return d<0?0:d>1?1:d};x.a.asM=function(w,M,U){return Math.min((w-M[U])*M[U+1],(w-M[U+3])*M[U+2])};
x.a.akd=function(w,M,O,b,D,o,Z,$){var k=1/255,E=k*o,t=$.WU?1:0,c=$.fill,l=$.style,q=M.mX(b).mX(D),d=Math.max(0,q.x-M.x),V=Math.max(0,q.x-b.x),L=Math.max(0,q.y-M.y),e=Math.max(0,q.y-b.y),H=q.e,j=q.n,g=M.e,K=b.e,a=new Uint32Array(w.buffer),T=new Uint32Array(O.buffer);
for(var U=0;U<j;U++){var C=(L+U)*g+d,F=(e+U)*K+V;for(var m=0;m<H;m++,C++,F++){var N=a[C],I=1;if(N>>>24==0)continue;
var v=T[F],h=(N&255)*k,P=(N>>>8&255)*k,J=(N>>>16&255)*k,Y=(v&255)*k,B=(v>>>8&255)*k,S=(v>>>16&255)*k,r=o;
if(t==0){r=(N>>>24)*E;I=(v>>>24)*k}if($.dj)r*=x.a.Cm(h,P,J,Y,B,S,I,$.dj);var f=I*(1-r),s=r+f,W=s==0?0:255/s,i=l?1:r,u=((1-I)*r*h+(1-i)*I*Y+i*I*Z(h,Y,(1+r-i)*c))*W,z=((1-I)*r*P+(1-i)*I*B+i*I*Z(P,B,(1+r-i)*c))*W,G=((1-I)*r*J+(1-i)*I*S+i*I*Z(J,S,(1+r-i)*c))*W;
s=r*c+I*(1-r*c);var g_=~~(s*255+.5);T[F]=t*(v>>>24)+(1-t)*g_<<24|G<<16|z<<8|u}}};x.a.agV=function(w,M,O,b,D,o,Z,$){var k=1/255,E=k*o,t=$.WU?1:0,c=M.mX(b).mX(D),l=Math.max(0,c.x-M.x),q=Math.max(0,c.x-b.x),d=Math.max(0,c.y-M.y),V=Math.max(0,c.y-b.y),L=c.e,e=c.n,H=new Uint32Array(w.buffer),j=new Uint32Array(O.buffer),g={o:0,w:0,L:0},K={o:0,w:0,L:0},a={o:0,w:0,L:0};
for(var U=0;U<e;U++){var T=(d+U)*M.e+l,C=(V+U)*b.e+q;for(var F=0;F<L;F++,T++,C++){var m=H[T],N=j[C],v=(m&255)*k,h=(m>>>8&255)*k,P=(m>>>16&255)*k,J=(N&255)*k,Y=(N>>>8&255)*k,B=(N>>>16&255)*k,S=o,r=1;
if(t==0){S=(m>>>24)*E;r=(N>>>24)*k}if($.dj)S*=x.a.Cm(v,h,P,J,Y,B,r,$.dj);var I=r*(1-S),f=S+I,s=255/f;
g.o=v;g.w=h;g.L=P;K.o=J;K.w=Y;K.L=B;Z(g,K,a);var W=(((1-r)*v+r*a.o)*S+J*I)*s,i=(((1-r)*h+r*a.w)*S+Y*I)*s,u=(((1-r)*P+r*a.L)*S+B*I)*s,z=t*(N>>>24)+(1-t)*Math.round(f*255);
j[C]=z<<24|u<<16|i<<8|W}}};x.a.Tr=function(w){w=w^61^w>>>16;w=w+(w<<3);w=w^w>>>4;w=w*668265261;w=w^w>>15;
return(w&16777215)*(1/16777215)};x.a.$J=function(w){w=w^61^w>>>16;w=w+(w<<3);w=w^w>>>4;w=w*668265261;
w=w^w>>>15;return w};x.a.hz=function(w){this.vy=w};x.a.hz.prototype.get=function(){var w=this.vy=x.a.$J(this.vy);
return(w&16777215)*(1/16777215)};x.a.ayl=function(w,M,O,b,D,o,Z,$){var k=1/255,E=k*o,t=Math.round(o*(256*256*256/255)),c=M.mX(b).mX(D),l=Math.max(0,c.x-M.x),q=Math.max(0,c.x-b.x),d=Math.max(0,c.y-M.y),V=Math.max(0,c.y-b.y),L=c.e,e=c.n,H=new Uint32Array(w.buffer),j=new Uint32Array(O.buffer);
for(var U=0;U<e;U++){var g=(d+U)*M.e+l,K=(V+U)*b.e+q;for(var a=0;a<L;a++,g++,K++){var T=H[g],C=j[K],F=$*255+(1-$)*(T>>>24);
if((x.a.$J(g)&16777215)>=F*t)continue;j[K]=T&16777215|$*(C>>>24)+(1-$)*255<<24}}};x.a.apA=function(w,M,O){for(var U=0;
U<w.length;U+=4){var b=O[U>>>2];if(b==0)continue;var D=b*(1/255),o=1/D,Z=M[U],$=M[U+1],k=M[U+2],E=w[U],t=w[U+1],c=w[U+2];
M[U]=Math.min(255,Math.max(0,Math.round((Z-(1-D)*E)*o)));M[U+1]=Math.min(255,Math.max(0,Math.round(($-(1-D)*t)*o)));
M[U+2]=Math.min(255,Math.max(0,Math.round((k-(1-D)*c)*o)));M[U+3]=255}};x.a.LU=function(w,M,O,b,D,o,Z,$,k,E,t){if(E==null)E=!1;
if(t==null)t=[1,1,1];var c=255<<24|t[2]*16711680|t[1]*65280|t[0]*255,l=~c;if(D&&!M.M5(o)){var q=x.$(M.v()*4);
q.fill(Z);x.CV(D,o,q,M);D=q;o=M}if(E){if(D==null)x.a.at_(w,M,O,b,D,$,k,c,l);else x.a.a1w(w,M,O,b,D,$,k)}else{if(D==null)x.a.aw1(w,M,O,b,D,$,k,c,l);
else x.a.a3l(w,M,O,b,D,$,k)}};x.a.aw1=function(w,M,O,b,D,o,Z,$,k){var E=1/255,t=M.mX(b).mX(o),c=Math.max(0,t.x-M.x),l=Math.max(0,t.x-b.x),q=Math.max(0,t.y-M.y),d=Math.max(0,t.y-b.y),V=t.e,L=t.n,e=new Uint32Array(w.buffer),H=new Uint32Array(O.buffer),j=x.a.lM,g=Z*255&255;
for(var U=0;U<L;U++){var K=(q+U)*M.e+c,a=(d+U)*b.e+l;for(var T=0;T<V;T++,K++,a++){var C=e[K],F=H[a],m=C>>>24,N=F>>>24,v=x.Nj(g*m+(255-g)*N),h=x.Nj(m*g),P=x.Nj(N*(255-g)),J=C&255,Y=C>>>8&255,B=C>>>16&255,S=F&255,r=F>>>8&255,I=F>>>16&255,f=h*J+S*P,s=h*Y+r*P,W=h*B+I*P;
f=j[v<<8|x.Nj(f)];s=j[v<<8|x.Nj(s)];W=j[v<<8|x.Nj(W)];var i=v<<24|W<<16|s<<8|f;H[a]=k&F|$&i}}};x.a.at_=function(w,M,O,b,D,o,Z,$,k){var E=1/255,t=M.mX(b).mX(o),c=Math.max(0,t.x-M.x),l=Math.max(0,t.x-b.x),q=Math.max(0,t.y-M.y),d=Math.max(0,t.y-b.y),V=t.e,L=t.n,e=new Uint32Array(w.buffer),H=new Uint32Array(O.buffer),j=x.a.lM,g=Z*16777215&16777215;
for(var U=0;U<L;U++){var K=(q+U)*M.e+c,a=(d+U)*b.e+l;for(var T=0;T<V;T++,K++,a++){if((x.a.$J(K)&16777215)<g){H[a]=k&H[a]|$&e[K]}}}};
x.a.a3l=function(w,M,O,b,D,o,Z){var $=1/255,k=M.mX(b).mX(o),E=Math.max(0,k.x-M.x),t=Math.max(0,k.x-b.x),c=Math.max(0,k.y-M.y),l=Math.max(0,k.y-b.y),q=k.e,d=k.n,V=new Uint32Array(w.buffer),L=new Uint32Array(O.buffer),e=x.a.lM;
for(var U=0;U<d;U++){var H=(c+U)*M.e+E,j=(l+U)*b.e+t;for(var g=0;g<q;g++,H++,j++){var K=D[H]*Z&255;if(K==0)continue;
if(K==255){L[j]=V[H];continue}var a=V[H],T=L[j],C=a>>>24,F=T>>>24,m=x.Nj(K*C+(255-K)*F),N=x.Nj(C*K),v=x.Nj(F*(255-K)),h=a&255,P=a>>>8&255,J=a>>>16&255,Y=T&255,B=T>>>8&255,S=T>>>16&255,r=e[m<<8|x.Nj(N*h+Y*v)],I=e[m<<8|x.Nj(N*P+B*v)],f=e[m<<8|x.Nj(N*J+S*v)];
L[j]=m<<24|f<<16|I<<8|r}}};x.a.a1w=function(w,M,O,b,D,o,Z){var $=1/255,k=M.mX(b).mX(o),E=Math.max(0,k.x-M.x),t=Math.max(0,k.x-b.x),c=Math.max(0,k.y-M.y),l=Math.max(0,k.y-b.y),q=k.e,d=k.n,V=new Uint32Array(w.buffer),L=new Uint32Array(O.buffer),e=x.a.lM,H=Math.round(Z*257);
for(var U=0;U<d;U++){var j=(c+U)*M.e+E,g=(l+U)*b.e+t;for(var K=0;K<q;K++,j++,g++){var a=D[j]*H;if((x.a.$J(j)&65535)<a)L[g]=V[j]}}};
x.a.qQ=function(w,M,O,b,D,o,Z){var $=1/255,k=M.mX(b).mX(o),E=Math.max(0,k.x-M.x),t=Math.max(0,k.x-b.x),c=Math.max(0,k.y-M.y),l=Math.max(0,k.y-b.y),q=k.e,d=k.n,V=new Uint32Array(w.buffer),L=new Uint32Array(O.buffer),e=Math.floor(Math.random()*b.v()),H=x.a.a6G;
for(var U=0;U<d;U++){var j=(c+U)*M.e+E,g=(l+U)*b.e+t;for(var K=0;K<q;K++){var a=D[j+K]*Z;if(a==0)continue;
if(a==255){L[g+K]=V[j+K];continue}var T=V[j+K],C=L[g+K],F=T>>>24,m=C>>>24,N=F*a*(1/255),v=m*(255-a)*(1/255),h=T&255,P=T>>>8&255,J=T>>>16&255,Y=C&255,B=C>>>8&255,S=C>>>16&255,r=x.a.$J(g+K+e),I=Math.floor((N+v)*256+.5)+(r>>>0&255)>>>8,f=I==0?0:256/(N+v),s=h*N+Y*v,W=P*N+B*v,i=J*N+S*v,u=Math.floor(s*f+.5)+(r>>>8&255)>>>8,z=Math.floor(W*f+.5)+(r>>>16&255)>>>8,G=Math.floor(i*f+.5)+(r>>>24&255)>>>8;
L[g+K]=I<<24|G<<16|z<<8|u}}};x.a.a6G=function(w){return Math.floor(w+Math.random())};x.a.po=function(w,M,O,b,D,o,Z){var $=1/255,k=M.mX(b).mX(o),E=Math.max(0,k.x-M.x),t=Math.max(0,k.x-b.x),c=Math.max(0,k.y-M.y),l=Math.max(0,k.y-b.y),q=k.e,d=k.n;
for(var U=0;U<d;U++){var V=(c+U)*M.e+E,L=(l+U)*b.e+t;for(var e=0;e<q;e++,V++,L++){var H=Z*D[V]*$;if(H==0)continue;
if(H==1){O[L]=w[V];continue}O[L]=w[V]*H+O[L]*(1-H)}}};x.ahg=function(){function w(o){var Z=o*.85;return Math.exp(-(Z*Z)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))}function M(o,Z){var $=o<Z?1:w((o-Z)/Math.pow(1.001-Z,.86));
return $}var O=[];function b(o){if(O[o])return O[o];var Z=Math.pow(o,.55),$=new Float64Array(8e3),k=0,E=8e3;
for(var U=0;U<8e3;U++){var t=M(U*(1.55/4e3),Z);if(t>=1)k=U;else if(t<=0&&E==8e3)E=U;$[U]=t}var c=[$,k,E];
O[o]=c;return c}function D(o,Z,$){var k=1+.55*(1-Z),E=Math.round($*o*k)+2,t=new cn(0,0,E,E),c=x.$(E*E*4),l=new Uint32Array(c.buffer),q=[c,t],d=E/2,V=k/(d-1),L=Date.now(),e=b(Z),H=Math.round(8e3/d),j=e[0],g=e[1]-H,K=e[2]+H,a=Math.min(E,E+1>>>1),T=V*.4*(4e3/1.55),C=x.$(8e3);
for(var U=0;U<8e3;U++){var F=U,m=U,N=~~Math.max(0,F-T-T),v=~~Math.max(0,F-T),h=~~(F+T),P=~~(F+T+T),J=~~(.5+255*(1/5)*(j[m]+j[N]+j[v]+j[h]+j[P]));
C[U]=J;if(J==0)break}for(var U=0;U<a;U++){var Y=V*(U-d+.5),B=Y*Y,S=U*E,r=(E-1-U)*E;for(var I=0;I<a;I++){var f=V*(I-d+.5),m=~~(Math.sqrt(f*f+B)*(4e3/1.55));
if(K<m)continue;else if(m<g){var J=4278190080;while(I<a){var s=E-1-I;l[S+I]=J;l[S+s]=J;l[r+I]=J;l[r+s]=J;
I++}break}else{var J=C[m]<<24,s=E-1-I;l[S+I]=J;l[S+s]=J;l[r+I]=J;l[r+s]=J}}}return q}return{a4O:D}}();
x.sZ={};x.sZ.ams=function(w,M,O,b,D,o){x.sZ.nO(w,M,O,b,D,o,null,0)};x.sZ.amd=function(w,M,O,b,D){x.sZ.nO(w,M,O,b,D,null,null,0)};
x.sZ.apC=function(w,M,O,b,D,o,Z){x.sZ.nO(w,M,O,b,D,null,o,Z*.5)};x.sZ.nO=function(w,M,O,b,D,o,Z,$){var k=0,v=0,h=1e9,P=0,J=1e9,Y=0,B=1e9,S=0,r=0,I=0,f=0;
if(o){k=D*.5;D=3+Math.round((D-3)*.75)}if(Z){D=Math.round(D*2.2)}var E=1/D,t=Math.floor(M*E)+1,c=Math.floor(O*E)+1,l=[],q=new Uint8Array(t*c*4),d=Z?.5:1,V=o?64:0;
for(var L=0;L<c;L++){var e=Z?.5*(L&1):0;for(var H=0;H<t;H++){var j=(H+Math.random()*d+e)*D,g=(L+Math.random()*d)*D;
l.push(j,g);var K=Math.min(M-1,Math.floor(j)),a=Math.min(O-1,Math.floor(g)),T=(a*M+K)*4,C=(L*t+H)*4;
for(var U=0;U<4;U++)q[C+U]=Math.max(0,Math.min(255,Math.floor(w[T+U]+(Math.random()-.5)*V)))}}var F=o?o:Z?Z:[0,0,0],m=t*c*2,N=[-t-1,-t,-t+1,-1,0,1,t-1,t,t+1];
for(var L=0;L<O;L++){I=0;for(var H=0;H<M;H++){var s=H+.5,W=L+.5,i=Math.floor(W*E),u=Math.floor(s*E),z=i*t+u,cl=0,p=0;
if(I>1+$){h=x.sZ.Wj(l,v,s,W);S=Math.sqrt(h);I--;f++}else{h=J=B=1e9;for(var U=0;U<N.length;U++){var G=(z+N[U])*2;
if(G<0||G>=m)continue;var g_=x.sZ.Wj(l,G,s,W);if(g_<B){if(g_<J){if(g_<h){Y=P;B=J;P=v;J=h;v=G;h=g_}else{Y=P;
B=J;P=G;J=g_}}else{Y=G;B=g_}}}S=Math.sqrt(h);r=Math.sqrt(J);I=r-(S+r)*.5}if(Z==null){var b2=(S+r)*.5,jz=o?Math.max(0,b2-k):0;
cl=Math.max(0,Math.min(1,.5+b2-S-jz));p=Math.max(0,Math.min(1,1-(.5+b2-S)-jz))}else{var aT=Math.min(x.sZ.sv(l,v,P,s,W),x.sZ.sv(l,v,Y,s,W));
cl=Math.max(0,Math.min(1,aT-$*.5));if(s<$||M-$<s||W<$||O-$<W)cl=0;p=0}var fZ=1-p-cl,C=L*M+H<<2,ft=v<<1,cc=P<<1;
b[C+0]=Math.floor(.5+cl*q[ft+0]+p*q[cc+0]+fZ*F[0]);b[C+1]=Math.floor(.5+cl*q[ft+1]+p*q[cc+1]+fZ*F[1]);
b[C+2]=Math.floor(.5+cl*q[ft+2]+p*q[cc+2]+fZ*F[2]);b[C+3]=w[C+3]}}};x.sZ.Wj=function(w,M,O,b){var D=O-w[M],o=b-w[M+1];
return D*D+o*o};x.sZ.sv=function(w,M,O,b,D){var o=w[M],Z=w[M+1],$=w[O],k=w[O+1],E=(o+$)*.5,t=(Z+k)*.5,c=E+(k-Z),l=t-($-o),q=l-t,d=c-E;
return Math.abs(q*b-d*D+c*t-l*E)/Math.sqrt(d*d+q*q)};x.m8={};x.m8.UX=function(w){if(x.m8.Iv.length<w)x.m8.Iv=x.$(w);
return x.m8.Iv};x.m8.Iv=x.$(0);x.m8.Nd=function(w){if(x.m8.ps.length<w)x.m8.ps=new Float32Array(w);return x.m8.ps};
x.m8.ps=new Float32Array(0);x.m8.f5=function(w,M,O,b){var D=O.e,o=O.n;x.m8.a5p(w,M,D,o,b)};x.m8.r7=function(w,M,O,b){var D=O.e,o=O.n;
x.m8.a2f(w,M,D,o,b)};x.m8.Xy=function(w,M,O){var b=M.e,D=M.n;x.m8.ane(w,b,D,O)};x.m8.N9=function(w,M,O,b,D){var o=O.e,Z=O.n;
x.m8.am$(w,M,o,Z,b,D)};x.m8.Av=function(w,M,O,b){var D=O.e,o=O.n;b=Math.round(b);var Z=x.m8.UX(D*o);
x.U7(w,M);x.m8.Ic(M,Z,D,o,b)};x.m8.oy=function(w,M,O){var b=M.e,D=M.n;O=Math.round(O);var o=x.m8.UX(b*D*4);
x.m8.lL(w,o,b,D,O)};x.m8.ZL=function(w,M,O,b){var D=O.e,o=O.n;b=Math.round(b);var Z=x.m8.Nd(D*o);x.U7(w,M);
x.m8.Tf(M,Z,D,o,b)};x.m8.pC=function(w,M,O){var b=M.e,D=M.n;O=Math.round(O);var o=x.m8.UX(b*D*4);x.m8.wm(w,o,b,D,O);
x.U7(o,w)};x.m8.n_=function(w,aq){var M=Math.sqrt(12*w*w/aq+1),O=Math.floor(M);if(O%2==0)O--;var b=O+2,D=(12*w*w-aq*O*O-4*aq*O-3*aq)/(-4*O-4),o=Math.round(D),Z=[];
for(var U=0;U<aq;U++)Z.push(U<o?O:b);return Z};x.m8.a5p=function(w,M,O,b,D){var o=x.m8.n_(D,3),Z=x.m8.UX(O*b);
x.U7(w,M);x.m8.Ic(M,Z,O,b,o[0]-1>>1);x.m8.Ic(M,Z,O,b,o[1]-1>>1);x.m8.Ic(M,Z,O,b,o[2]-1>>1)};x.m8.a2f=function(w,M,O,b,D){var o=x.m8.n_(D,2),Z=x.m8.UX(O*b);
x.U7(w,M);x.m8.Ic(M,Z,O,b,o[0]-1>>1);x.m8.Ic(M,Z,O,b,o[1]-1>>1)};x.m8.ane=function(w,M,O,b){var D=x.m8.n_(b,3),o=x.m8.UX(M*O*4);
x.m8.lL(w,o,M,O,D[0]-1>>1);x.m8.lL(w,o,M,O,D[1]-1>>1);x.m8.lL(w,o,M,O,D[2]-1>>1)};x.m8.am$=function(w,M,O,b,D,o){if(o==null)o=3;
var Z=x.m8.n_(D,o),$=x.m8.Nd(O*b);x.U7(w,M);for(var U=0;U<o;U++)x.m8.Tf(M,$,O,b,(Z[U]-1)/2)};x.m8.Ic=function(w,M,O,b,D){x.m8.avo(w,M,O,b,D);
x.m8.auA(M,w,O,b,D)};x.m8.lL=function(w,M,O,b,D){x.m8.wm(w,M,O,b,D);x.m8.aeJ(M,w,O,b,D)};x.m8.Tf=function(w,M,O,b,D){x.m8.a4r(w,M,O,b,D);
x.m8.aey(M,w,O,b,D)};x.m8.$q=[];x.m8.Hh=function(w){if(x.m8.$q[w])return x.m8.$q[w];var M=1/(w+w+1),O=(w+w+1)*256,b=x.$(O);
for(var U=0;U<O;U++)b[U]=Math.round(U*M);x.m8.$q[w]=b;return b};x.m8.avo=function(w,M,O,b,D){var o=1/(D+D+1),Z=O-D-D-1,$=x.m8.Hh(D);
for(var U=0;U<b;U++){var k=U*O,E=k,t=k+D,c=w[k],l=w[k+O-1],q=(D+1)*c;for(var d=0;d<D;d++)q+=w[k+d];for(var d=0;
d<=D;d++){q+=w[t+d]-c;M[k+d]=$[q]}t+=D+1;k+=D+1;for(var d=0;d<Z;d++){q+=w[t+d]-w[E+d];M[k+d]=$[q]}t+=Z;
E+=Z;k+=Z;for(var d=O-D;d<O;d++){q+=l-w[E++];M[k++]=$[q]}}};x.m8.wm=function(w,M,O,b,D){var o=O<<2,Z=D<<2,$=1/(D+D+1),k=O-D-D-1,E=k<<2,t=x.m8.Hh(D);
for(var U=0;U<b;U++){var c=U*o,l=c,q=c+Z,d=c+o,V=w[c],L=w[c+1],e=w[c+2],H=w[c+3],j=(D+1)*V,g=(D+1)*L,K=(D+1)*e,a=(D+1)*H;
for(var T=0;T<Z;T+=4){j+=w[c+T];g+=w[c+T+1];K+=w[c+T+2];a+=w[c+T+3]}for(var T=0;T<=Z;T+=4){j+=w[q]-V;
M[c]=t[j];g+=w[q+1]-L;M[c+1]=t[g];K+=w[q+2]-e;M[c+2]=t[K];a+=w[q+3]-H;M[c+3]=t[a];q+=4;c+=4}for(var T=0;
T<E;T+=4){j+=w[q+T]-w[l+T];M[c+T]=t[j];g+=w[q+T+1]-w[l+T+1];M[c+T+1]=t[g];K+=w[q+T+2]-w[l+T+2];M[c+T+2]=t[K];
a+=w[q+T+3]-w[l+T+3];M[c+T+3]=t[a]}q+=E;l+=E;c+=E;V=w[d-4];L=w[d-3];e=w[d-2];H=w[d-1];for(var T=O-D;
T<O;T++){j+=V-w[l];M[c]=t[j];g+=L-w[l+1];M[c+1]=t[g];K+=e-w[l+2];M[c+2]=t[K];a+=H-w[l+3];M[c+3]=t[a];
l+=4;c+=4}}};x.m8.a4r=function(w,M,O,b,D){var o=1/(D+D+1),Z=O-D-D-1;for(var U=0;U<b;U++){var $=U*O,k=$,E=$+D,t=w[$],c=w[$+O-1],l=(D+1)*t;
for(var q=0;q<D;q++)l+=w[$+q];for(var q=0;q<=D;q++){l+=w[E+q]-t;M[$+q]=l*o}E+=D+1;$+=D+1;for(var q=0;
q<Z;q++){l+=w[E+q]-w[k+q];M[$+q]=l*o}E+=Z;k+=Z;$+=Z;for(var q=O-D;q<O;q++){l+=c-w[k++];M[$++]=l*o}}};
x.m8.auA=function(w,M,O,b,D){var o=1/(D+D+1),Z=b-D-D-1,$=x.m8.Hh(D);for(var U=0;U<O;U++){var k=U,E=k,t=k+D*O,c=w[k],l=w[k+O*(b-1)],q=(D+1)*c;
for(var d=0;d<D;d++)q+=w[k+d*O];for(var d=0;d<=D;d++){q+=w[t]-c;M[k]=$[q];t+=O;k+=O}for(var d=0;d<Z;
d++){var V=d*O;q+=w[t+V]-w[E+V];M[k+V]=$[q]}E+=Z*O;t+=Z*O;k+=Z*O;for(var d=b-D;d<b;d++){q+=l-w[E];M[k]=$[q];
E+=O;k+=O}}};x.m8.aeJ=function(w,M,O,b,D){var o=O<<2,Z=D<<2,$=1/(D+D+1),k=b-D-D-1,E=k<<2,t=x.m8.Hh(D);
for(var U=0;U<O;U++){var c=U<<2,l=c,q=c+D*o,d=c+o*(b-1),V=w[c],L=w[c+1],e=w[c+2],H=w[c+3],j=(D+1)*V,g=(D+1)*L,K=(D+1)*e,a=(D+1)*H;
for(var T=0;T<D;T++){var C=c+T*o;j+=w[C];g+=w[C+1];K+=w[C+2];a+=w[C+3]}for(var T=0;T<=D;T++){j+=w[q]-V;
M[c]=t[j];g+=w[q+1]-L;M[c+1]=t[g];K+=w[q+2]-e;M[c+2]=t[K];a+=w[q+3]-H;M[c+3]=t[a];q+=o;c+=o}for(var T=0;
T<k;T++){var F=T*o;j+=w[q+F]-w[l+F];M[c+F]=t[j];g+=w[q+F+1]-w[l+F+1];M[c+F+1]=t[g];K+=w[q+F+2]-w[l+F+2];
M[c+F+2]=t[K];a+=w[q+F+3]-w[l+F+3];M[c+F+3]=t[a]}l+=k*o;q+=k*o;c+=k*o;V=w[d];L=w[d+1];e=w[d+2];H=w[d+3];
for(var T=b-D;T<b;T++){j+=V-w[l];M[c]=t[j];g+=L-w[l+1];M[c+1]=t[g];K+=e-w[l+2];M[c+2]=t[K];a+=H-w[l+3];
M[c+3]=t[a];l+=o;c+=o}}};x.m8.aey=function(w,M,O,b,D){var o=1/(D+D+1),Z=b-D-D-1;for(var U=0;U<O;U++){var $=U,k=$,E=$+D*O,t=w[$],c=w[$+O*(b-1)],l=(D+1)*t;
for(var q=0;q<D;q++)l+=w[$+q*O];for(var q=0;q<=D;q++){l+=w[E]-t;M[$]=l*o;E+=O;$+=O}for(var q=0;q<Z;q++){var d=q*O;
l+=w[E+d]-w[k+d];M[$+d]=l*o}k+=Z*O;E+=Z*O;$+=Z*O;for(var q=b-D;q<b;q++){l+=c-w[k];M[$]=l*o;k+=O;$+=O}}};
x.zD={};x.zD.$=function(w,M,O,b){var D=[];for(var o=0;o<4;o++)for(var Z=0;Z<4;Z++)D.push(w+O*Z/3,M+b*o/3);
return D};x.zD.cF=function(w,M){var O=w.slice(0);for(var U=0;U<4;U++)for(var b=0;b<4;b++){var D=2*(U*4+b),o=2*(b*4+(3-U));
if(M){var Z=D;D=o;o=Z}O[o]=w[D];O[o+1]=w[D+1]}return O};x.zD.R$=x.$(0);x.zD.drawImage=function(w,M,O,b,D,o,Z){var $=!1,k=Date.now(),E=2,t=O+2*E,c=b+2*E,l=new cn(E,E,O,b),q=l.clone(),H=50;
q.M0(E,E);var d=x.zD.R$;if(d.length!=q.v()*4)d=x.zD.R$=x.$(q.v()*4);else d.fill(0);x.xu(M,l,d,q);if($)console.log(Date.now()-k,"copy rect");
k=Date.now();x.UL(d);if($)console.log(Date.now()-k,"multiply alpha");k=Date.now();var V=[],L=[],e=[];
for(var j=0;j<H+1;j++)for(var g=0;g<H+1;g++){var K=g/H,a=j/H;V.push(t*K,c*a);if(g<H&&j<H){var T=j*(H+1)+g,C=T+1,F=T+H+1,m=F+1;
L.push(T,C,F);L.push(F,C,m)}var N=x.zD.aiJ(w,K,a);e.push(-N)}var v=V.slice(0);x.zD.F(w,v,new cn(E,E,O,b));
x.p.F(v,new f$(1,0,0,1,-o.x,-o.y),v);if($)console.log(Date.now()-k,"mesh built");k=Date.now();var h=o.e,P=o.n;
x.pX.sr(d,t,c,D,h,P,V,v,e,L);if($)console.log(Date.now()-k,"rendered");k=Date.now();x.Ii(D);if($)console.log(Date.now()-k,"divided");
k=Date.now()};x.zD.tW=new Array(10);x.zD.a10=function(w,M){var O=200,b=0,D=0,o=1e9,Z=x.zD.tW;for(var $=0;
$<O+1;$++)for(var k=0;k<O+1;k++){var E=k/O,t=$/O;x.zD._5(w,E,t,Z);var c=Z[8]-M.x,l=Z[9]-M.y,q=c*c+l*l;
if(q<o){o=q;b=E;D=t}}return[b,D]};x.zD.F=function(w,M,O){var b=O.x,D=O.y,o=1/O.e,Z=1/O.n,$=x.zD.tW;for(var k=0;
k<M.length;k+=2){var E=(M[k]-b)*o,t=(M[k+1]-D)*Z;x.zD._5(w,E,t,$);M[k]=$[8];M[k+1]=$[9]}};x.zD.aiJ=function(w,M,O){var b,D,o,Z,$=x.zD.tW;
x.zD.aoa(w,M,O,$);b=$[8];D=$[9];x.zD.a4R(w,M,O,$);o=$[8];Z=$[9];return b*Z-D*o};x.zD._5=function(w,M,O,b){x.zD.cb(b,0,O);
x.zD.cb(b,4,M);x.zD.Ng(w,b)};x.zD.aoa=function(w,M,O,b){x.zD.cb(b,0,O);x.zD.FB(b,4,M);x.zD.Ng(w,b)};
x.zD.a4R=function(w,M,O,b){x.zD.FB(b,0,O);x.zD.cb(b,4,M);x.zD.Ng(w,b)};x.zD.FB=function(w,U,M){var O=1-M;
w[U]=-3*(O*O);w[U+1]=3*(O*O)-6*(M*O);w[U+2]=6*(M*O)-3*(M*M);w[U+3]=3*(M*M)};x.zD.cb=function(w,U,M){var O=1-M;
w[U]=O*(O*O);w[U+1]=3*M*(O*O);w[U+2]=3*(M*M)*O;w[U+3]=M*M*M};x.zD.Ng=function(w,M){var O=0,b=0,D=0,o=M[0],Z=M[1],$=M[2],k=M[3],E=M[4],t=M[5],c=M[6],l=M[7];
D=o*E;O+=w[0]*D;b+=w[1]*D;D=o*t;O+=w[2]*D;b+=w[3]*D;D=o*c;O+=w[4]*D;b+=w[5]*D;D=o*l;O+=w[6]*D;b+=w[7]*D;
D=Z*E;O+=w[8]*D;b+=w[9]*D;D=Z*t;O+=w[10]*D;b+=w[11]*D;D=Z*c;O+=w[12]*D;b+=w[13]*D;D=Z*l;O+=w[14]*D;b+=w[15]*D;
D=$*E;O+=w[16]*D;b+=w[17]*D;D=$*t;O+=w[18]*D;b+=w[19]*D;D=$*c;O+=w[20]*D;b+=w[21]*D;D=$*l;O+=w[22]*D;
b+=w[23]*D;D=k*E;O+=w[24]*D;b+=w[25]*D;D=k*t;O+=w[26]*D;b+=w[27]*D;D=k*c;O+=w[28]*D;b+=w[29]*D;D=k*l;
O+=w[30]*D;b+=w[31]*D;M[8]=O;M[9]=b};x.nw={};x.nw.aj2=function(w,M,O){var b=Date.now(),D=new ArrayBuffer(M*O*16),o=x.nw.auI(w,M,O,D),Z=x.nw.apI(M,O,D);
return{qd:Z,dI:o}};x.nw.amU=function(w,M,O){var b=Math.round(w.length/8),D=new Uint32Array(b),o=new Uint8Array(b),Z=new Uint32Array(b);
x.TZ(D,4294967295,0);D[O]=0;var $=new aV(b);$.push(O,D[O]);var k={qd:w,dI:M,n2:D,H4:o,Pz:Z,XZ:$,a1l:O};
return k};x.nw.Ri=function(w,M){var O=w.qd,b=w.dI,D=w.n2,o=w.H4,Z=w.Pz,$=w.XZ;while(!$.S9()&&(M==null||o[M]==0)){var k=$.pop();
o[k]=1;for(var U=0;U<8;U++){var E=O[8*k+U],t=k+E;if(E==0||o[t])continue;var c=D[k]+b[8*k+U];if($.contains(t)&&c<D[t])$.remove(t,D[t]);
if(!$.contains(t)){D[t]=c;Z[t]=k;$.push(t,D[t])}}}};function aV(w){this.En=new Uint32Array(w);this.list=[];
this.zB=0;this.Gj=4294967295}aV.prototype.S9=function(){return this.zB==0};aV.prototype.push=function(w,M){var O=this.list;
if(O[M]==null)O[M]=[];O[M].push(w);this.zB++;this.En[w]=O[M].length-1+1;this.Gj=Math.min(this.Gj,M)};
aV.prototype.pop=function(){this.zB--;var w=this.list,M=this.Gj,O=w[M].pop();if(w[M].length==0)w[M]=null;
this.$P();this.En[O]=0;return O};aV.prototype.contains=function(w){return this.En[w]!=0};aV.prototype.remove=function(w,M){this.zB--;
var O=this.list,U=this.En[w]-1;if(U==O[M].length-1)O[M].pop();else{var b=O[M].pop();O[M][U]=b;this.En[b]=U+1}if(O[M].length==0)O[M]=null;
this.En[w]=0;this.$P()};aV.prototype.$P=function(){if(this.zB==0){this.Gj=4294967295;return}var w=this.Gj,M=this.list;
while(M[w]==null)w++;this.Gj=w};x.nw.a7U=function(w,M,O,b){var D=new Int16Array(b);for(var o=0;o<O;o++)for(var Z=0;
Z<M;Z++){var U=o*M+Z,$=0;if(1<Z&&Z<M-2&&1<o&&o<O-2){$+=w[U-M-M];$+=w[U-M-1]+2*w[U-M]+w[U-M+1];$+=w[U-2]+2*w[U-1]-16*w[U]+2*w[U+1]+w[U+2];
$+=w[U+M-1]+2*w[U+M]+w[U+M+1];$+=w[U+M+M]}else $=-16*w[U];D[U]=$}return D};x.nw.afX=function(w,M,O,b){if(b==null)b=128;
var D=new Uint8Array(M*O);for(var o=1;o<O-1;o++)for(var Z=1;Z<M-1;Z++){var U=o*M+Z;D[U]=x.nw.a6V(w[U],w[U-1],w[U+1],w[U-M],w[U+M],b)}return D};
x.nw.a6V=function(w,M,O,b,D,o){var Z=Math.abs(w);return w*M<0&&Z<Math.abs(M)&&Math.abs(M-w)>o||w*O<0&&Z<Math.abs(O)&&Math.abs(O-w)>o||w*b<0&&Z<Math.abs(b)&&Math.abs(b-w)>o||w*D<0&&Z<Math.abs(D)&&Math.abs(D-w)>o?1:0};
x.nw.apd=function(w,M,O,b){var D=new Float32Array(b),o=0;new Uint32Array(b).fill(0);for(var Z=0;Z<O;
Z++)for(var $=0;$<M;$++){var k=0,E=0,U=Z*M+$,t=U*3;if(0<$&&$<M-1)k=w[U+1]-w[U-1];if(0<Z&&Z<O-1)E=w[U+M]-w[U-M];
var c=D[t+2]=Math.sqrt(k*k+E*E);if(c!=0){var l=1/c;D[t]=k*l;D[t+1]=E*l}if(c>o)o=c}var q=M*O,d=o==0?0:1/o;
for(var U=0;U<q;U++)D[U*3+2]=1-D[U*3+2]*d;return D};x.nw.agz=function(w,M,O){return O[~~((.5+.5*w)*255)]+O[~~((.5+.5*M)*255)]};
x.nw.auI=function(w,M,O,b){var D=Date.now(),o=x.nw.a7U(w,M,O,b),Z=x.nw.afX(o,M,O),$=x.nw.apd(w,M,O,b),k=new Float32Array(256);
for(var U=0;U<256;U++)k[U]=Math.acos(-1+2*U/255)*(.95/Math.PI);var E=[-1,0,1,1,1,0,-1,-1],t=[-1,-1,-1,0,1,1,1,0];
for(var U=0;U<8;U++){var c=1/Math.sqrt(E[U]*E[U]+t[U]*t[U]);E[U]*=c;t[U]*=c}var l=[E[0],t[0],E[1],t[1],E[2],t[2],E[3],t[3]],q=[-M-1,-M,-M+1,1],d=new Uint8Array(M*O*8);
new Uint32Array(d.buffer).fill(4294967295);var V=M*O;for(var L=1;L<O-1;L++)for(var e=1;e<M-1;e++){var H=L*M+e,j=1-Z[H],g=$[H*3+2],K=$[3*H+1],a=-$[3*H];
for(var T=0;T<4;T++){var C=H+q[T];x.nw.aae(H,C,T,d,Z,$,j,g,K,a,l,k)}}return d};x.nw.aae=function(w,M,O,b,D,o,Z,$,k,E,t,c){var l=1-D[M],q=(O&1)==0?1:Math.SQRT1_2,d=o[M*3+2]*q,V=o[3*M+1],L=-o[3*M],e=$*q,H=t[O+O],j=t[O+O+1],g=k*H+E*j,K=V*H+L*j;
if(g+K<0){g=-g;K=-K}var a=x.nw.agz(g,K,c);b[(w<<3)+O]=x.nw.oD(l,a,d);b[(M<<3)+O+4]=x.nw.oD(Z,a,e)};x.nw.oD=function(w,M,O){return 1+~~(.5+20*(.43*w+.43*M+.14*O))};
x.nw.apI=function(w,M,O){var b=new Int16Array(O),D=b,U=0,o=0;new Uint32Array(O).fill(0);for(var Z=0;
Z<M;Z++)for(var $=0;$<w;$++){if(Z>0&&$>0)D[o+0]=-w-1;if(Z>0)D[o+1]=-w;if(Z>0&&$<w-1)D[o+2]=-w+1;if($<w-1)D[o+3]=1;
if(Z<M-1&&$<w-1)D[o+4]=w+1;if(Z<M-1)D[o+5]=w;if(Z<M-1&&$>0)D[o+6]=w-1;if($>0)D[o+7]=-1;U++;o+=8}return b};
x.FJ={};x.FJ.VI=function(w){var M=w.slice(0),O=0;for(var U=0;U<w.length;U++)O+=w[U];for(var U=0;U<w.length;
U++)M[U]/=O;return M};x.FJ.rd=[x.FJ.VI([1,2,1,2,16,2,1,2,1]),x.FJ.VI([1,2,1,2,4,2,1,2,1]),x.FJ.VI([0,-1,0,-1,8,-1,0,-1,0]),x.FJ.VI([-.7,-1,-.7,-1,10,-1,-.7,-1,-.7]),[-1,0,1,-2,0,2,-1,0,1],[1,2,1,0,0,0,-1,-2,-1]];
x.FJ.jM=function(w,M,O,b,D,o,Z,$){if(Z==null)Z=!1;if($==null)$=!1;var k=Math.floor(Math.sqrt(D.length)),E=k-1>>>1,t=new Uint32Array(w.buffer),M=new Uint8ClampedArray(M.buffer);
for(var U=0;U<b;U++)for(var c=0;c<O;c++){var l=0,q=0,d=0,V=0;for(var L=0;L<k;L++)for(var e=0;e<k;e++){var H=D[L*k+e];
if(H==0)continue;var j=c-E+e,g=U-E+L;if(j<0)j=0;else if(j>O-1)j=O-1;if(g<0)g=0;else if(g>b-1)g=b-1;if($&&t[g*O+j]>>>24==0){g=U;
j=c}var K=t[g*O+j];l+=(K&255)*H;q+=(K>>>8&255)*H;d+=(K>>>16&255)*H;V+=(K>>>24&255)*H}if(Z){if(l<0)l=-l;
if(q<0)q=-q;if(d<0)d=-d;if(V<0)V=-V}if($){l=Math.max(0,Math.min(255,l));q=Math.max(0,Math.min(255,q));
d=Math.max(0,Math.min(255,d));V=Math.max(0,Math.min(255,V))}var a=U*O+c<<2;M[a]=~~(.5+l);M[a+1]=~~(.5+q);
M[a+2]=~~(.5+d);M[a+3]=255-o&M[a+3]|o&~~(.5+V)}};x.FJ.Z6=function(w,M,O,b){var D=w.length,o=new Uint8Array(D);
x.FJ.jM(w,M,O,b,x.FJ.rd[4],0,!0);x.FJ.jM(w,o,O,b,x.FJ.rd[5],0,!0);for(var U=0;U<D;U+=4){var Z=M[U],$=M[U+1],k=M[U+2],E=M[U+3],t=o[U],c=o[U+1],l=o[U+2],q=o[U+3];
M[U]=255-Math.max(0,Math.min(255,Math.sqrt(Z*Z+t*t)));M[U+1]=255-Math.max(0,Math.min(255,Math.sqrt($*$+c*c)));
M[U+2]=255-Math.max(0,Math.min(255,Math.sqrt(k*k+l*l)))}};x.FJ.YB=function(w,M,O,b){var D=w.length,o=new Uint8Array(D);
x.FJ.Qh(w,M,O,b,x.FJ.rd[4],!0);x.FJ.Qh(w,o,O,b,x.FJ.rd[5],!0);for(var U=0;U<D;U++){var Z=M[U],$=o[U];
M[U]=255-Math.max(0,Math.min(255,Math.sqrt(Z*Z+$*$)))}};x.FJ.Qh=function(w,M,O,b,D,o){M=new Uint8ClampedArray(M.buffer);
var Z=[-O-1,-O,-O+1,-1,0,1,O-1,O,O+1],$=b-1,k=O-1;for(var U=1;U<$;U++)for(var E=1;E<k;E++){var t=U*O+E,c=x.FJ.Ie(w,t,O,D);
if(o){if(c<0)c=-c}M[t]=~~(c+.5)}};x.FJ.Ie=function(w,M,O,b){return w[M-O-1]*b[0]+w[M-O]*b[1]+w[M-O+1]*b[2]+w[M-1]*b[3]+w[M]*b[4]+w[M+1]*b[5]+w[M+O-1]*b[6]+w[M+O]*b[7]+w[M+O+1]*b[8]};
x.FJ.ap=function(w,M,O,b,D){var o=[-O-1,-O,-O+1,-1,0,1,O-1,O,O+1],Z=b-1,$=O-1;for(var U=1;U<Z;U++)for(var k=1;
k<$;k++){var E=U*O+k;M[E]=x.FJ.aw4(w,E,O,D)}};x.FJ.aw4=function(w,M,O,b){return w[M-O-1]*b[0]+w[M-O]*b[1]+w[M-O+1]*b[2]+w[M-1]*b[3]+w[M]*b[4]+w[M+1]*b[5]+w[M+O-1]*b[6]+w[M+O]*b[7]+w[M+O+1]*b[8]};
x.Zy={};x.Zy.We=function(){function w(Z,$,k,E,t,c,l){if(t==0){$.set(Z);return}var q=x.$(k*E),d=x.$(k*E);
if(x.pl(Z)){M(Z,$,k,E,t,c,l);var V=[x.Zy.Ce,x.Zy.Qr],L=V.indexOf(c),e=L!=-1?V[1-L]:c;x.Oj(Z,q,3);x.Zy.Jf(q,d,k,E,t,e,l);
x.Jm(d,$,3)}else{for(var U=0;U<3;U++){x.Oj(Z,q,U);x.Zy.Jf(q,d,k,E,t,c,l);x.Jm(d,$,U)}}}function M(Z,$,k,E,t,c,l){var q=0,d=new ArrayBuffer(512*4*3),V=[new Int32Array(d,0),new Int32Array(d,2048),new Int32Array(d,2*2048)],L=1+2*Math.round(Math.sqrt(t)),e=L>>>1,H=new Array(L),j=new Array(L);
for(var U=0;U<L;U++){var d=new ArrayBuffer(512*4*3);H[U]=[new Int32Array(d,0),new Int32Array(d,2048),new Int32Array(d,2*2048)];
j[U]=H[U][0]}var g=c[0],K=c[1],a=V[0];for(var T=0;T<k;T++)if(T<t||T>k-t-L-1){a.fill(0);var C=Math.max(T-t,0),F=Math.min(k,T+t+1),m=F-C;
for(var N=0;N<t;N++)b(a,Z,N*k+C,N*k+F,1);for(var N=0;N<E;N++){var v=N-t-1,h=N+t;if(h<E)b(a,Z,h*k+C,h*k+F,1);
if(v>=0)b(a,Z,v*k+C,v*k+F,-1);var P=N*k+T<<2;q=a[300];if(q!=0)for(var U=0;U<3;U++)$[P+U]=g(V[U],Z[P+U],q,l)}}else{for(var U=0;
U<L;U++)j[U].fill(0);var C=T-t+e,F=T+t+1+e;for(var N=0;N<t;N++)O(j,Z,N*k+C,N*k+F,1,e);for(var N=0;N<E;
N++){var v=N-t-1,h=N+t;if(v>=0)O(j,Z,v*k+C,v*k+F,-1,e);if(h<E)O(j,Z,h*k+C,h*k+F,1,e);var J=H[e];q=J[0][300];
for(var U=0;U<e;U++){var Y=e-1-U,B=e+1+U,S=H[Y],r=H[B],I=q+S[0][300],f=q+r[0][300],s=N*k+T+Y<<2,W=N*k+T+B<<2;
if(I!=0)for(var i=0;i<3;i++)$[s+i]=K(J[i],S[i],Z[s+i],I,l);if(f!=0)for(var i=0;i<3;i++)$[W+i]=K(J[i],r[i],Z[W+i],f,l)}var P=N*k+T+e<<2;
if(q!=0)for(var i=0;i<3;i++)$[P+i]=g(J[i],Z[P+i],q,l)}T+=L-1}}function O(Z,$,k,E,t,c){var l=D,q=k<<2,d=E<<2;
l(Z[c-1],$,k-1<<2,t);l(Z[c-1],$,E-1<<2,-t);l(Z[c+1],$,E<<2,t);l(Z[c+1],$,k<<2,-t);for(var U=1;U<c;U++){var V=Z[c-U-1],L=Z[c+U+1];
for(var e=0;e<=U;e++){var H=e<<2;l(V,$,k-1-e<<2,t);l(V,$,E-1-e<<2,-t);l(L,$,E+e<<2,t);l(L,$,k+e<<2,-t)}}b(Z[c],$,k,E,t)}function b(Z,$,U,k,E){var t=U<<2,c=k<<2;
while(t<c){D(Z,$,t,E);t+=4}}function D(Z,$,k,E){var t=E*$[k+3];Z[300]+=t;o(Z,$[k],0,t);o(Z,$[k+1],512,t);
o(Z,$[k+2],1024,t)}function o(Z,$,k,E){Z[k|$]+=E;Z[k|256|$>>>4]+=E}return w}();x.Zy.Jf=function(){function w(c,l,q,d,V,L,e){if(V==0){l.set(c);
return}if(V<=80)M(c,l,q,d,V,L,e);else o(c,l,q,d,V,L,e)}function M(c,l,q,d,V,L,e){var H=0,j=new Int32Array(512),g=1+2*Math.round(Math.sqrt(V)),K=g>>>1,a=new Array(g);
for(var U=0;U<g;U++)a[U]=new Int32Array(512);var T=L[0],C=L[1];for(var F=0;F<q;F++)if(F<V||F>q-V-g-1){j.fill(0);
H=0;var m=Math.max(F-V,0),N=Math.min(q,F+V+1),v=N-m;for(var h=0;h<V;h++){H+=v;b(j,c,h*q+m,h*q+N,1)}for(var h=0;
h<d;h++){var P=h-V-1,J=h+V;if(P>=0){H-=v;b(j,c,P*q+m,P*q+N,-1)}if(J<d){H+=v;b(j,c,J*q+m,J*q+N,1)}var Y=T(j,c[h*q+F],H,e);
l[h*q+F]=Y}}else{for(var U=0;U<g;U++)a[U].fill(0);H=0;var m=F-V+K,N=F+V+1+K,v=N-m;for(var h=0;h<V;h++){H+=v;
O(a,c,h*q+m,h*q+N,1,K)}for(var h=0;h<d;h++){var P=h-V-1,J=h+V;if(P>=0){H-=v;O(a,c,P*q+m,P*q+N,-1,K)}if(J<d){H+=v;
O(a,c,J*q+m,J*q+N,1,K)}for(var U=0;U<K;U++){var B=K-1-U,S=K+1+U;l[h*q+F+B]=C(a[K],a[B],c[h*q+F+B],H,e);
l[h*q+F+S]=C(a[K],a[S],c[h*q+F+S],H,e)}l[h*q+F+K]=T(a[K],c[h*q+F+K],H,e)}F+=g-1}}function O(c,l,q,d,V,L){var e=D;
e(c[L-1],l[q-1],0,V);e(c[L-1],l[d-1],0,-V);e(c[L+1],l[d],0,V);e(c[L+1],l[q],0,-V);for(var U=1;U<L;U++){var H=c[L-U-1],j=c[L+U+1];
for(var g=0;g<=U;g++){e(H,l[q-1-g],0,V);e(H,l[d-1-g],0,-V);e(j,l[d+g],0,V);e(j,l[q+g],0,-V)}}b(c[L],l,q,d,V)}function b(c,l,U,q,d){while(U<q)D(c,l[U++],0,d)}function D(c,l,q,d){c[q|l]+=d;
c[q|256|l>>>4]+=d}function o(c,l,q,d,V,L,e){var H=0,j=new Int32Array(512),g=new Int32Array(1*q),K=new Int32Array(512*q),a=Math.min(V,q),T=Math.min(V,d),C=L[0];
for(var F=0;F<T;F++)Z(K,g,c,q,F,1);for(var F=0;F<d;F++){if(F+V<d)Z(K,g,c,q,F+V,1);if(F-V-1>=0)Z(K,g,c,q,F-V-1,-1);
j.fill(0);H=0;for(var m=0;m<a;m++){H+=g[m];$(j,K,m)}for(var m=0;m<q;m++){var N=m-V-1,v=m+V;if(N>=0&&g[N]!=0){H-=g[N];
k(j,K,N)}if(v<q&&g[v]!=0){H+=g[v];$(j,K,v)}var h=H==0?0:C(j,c[F*q+m],H,e);l[F*q+m]=h}}}function Z(c,l,q,d,V,L){var U=V*d;
for(var e=0;e<d;e++){D(c,q[U+e],e<<9,L);l[e]+=L}}function $(c,l,q){for(var U=0;U<16;U++){var d=l[q<<9|256|U];
if(d==0)continue;c[256|U]+=d;var V=U<<4,L=q<<9|V;E(c,l,V,L);E(c,l,V+4,L+4);E(c,l,V+8,L+8);E(c,l,V+12,L+12)}}function k(c,l,q){for(var U=0;
U<16;U++){var d=l[q<<9|256|U];if(d==0)continue;c[256|U]-=d;var V=U<<4,L=q<<9|V;t(c,l,V,L);t(c,l,V+4,L+4);
t(c,l,V+8,L+8);t(c,l,V+12,L+12)}}function E(c,l,q,d){c[q]+=l[d];c[q+1]+=l[d+1];c[q+2]+=l[d+2];c[q+3]+=l[d+3]}function t(c,l,q,d){c[q]-=l[d];
c[q+1]-=l[d+1];c[q+2]-=l[d+2];c[q+3]-=l[d+3]}return w}();x.Zy.Qr=[function(w,M,O,b){var U=15;while(w[256|U]==0&&U>0)U--;
U=(U<<4)+15;while(w[U]==0&&U>0)U--;return U},function(w,M,O,b,D){var U=15;while(w[256|U]+M[256|U]==0&&U>0)U--;
U=(U<<4)+15;while(w[U]+M[U]==0&&U>0)U--;return U}];x.Zy.Ce=[function(w,M,O,b){var U=0;while(w[256|U]==0&&U<15)U++;
U=U<<4;while(w[U]==0&&U<255)U++;return U},function(w,M,O,b,D){var U=0;while(w[256|U]+M[256|U]==0&&U<15)U++;
U=U<<4;while(w[U]+M[U]==0&&U<255)U++;return U}];x.Zy.iZ=.5;x.Zy.Rs=[function(w,M,O,b){var D=~~(.5+x.Zy.iZ*O),o=0,U=256;
while(o+w[U]<D)o+=w[U++];U=U-256<<4;while(o<D)o+=w[U++];return U-1},function(w,M,O,b,D){var o=~~(.5+x.Zy.iZ*b),Z=0,U=256;
while(Z+w[U]+M[U]<o){Z+=w[U]+M[U];U++}U=U-256<<4;while(Z<o){Z+=w[U]+M[U];U++}return U-1}];x.Zy.Ln=[function(w,M,O,b){var D=b[0],o=0,Z=0,U=Math.max(0,M-D),$=Math.min(256,M+D+1);
while(U<$){var k=w[U];o+=U*k;Z+=k;U++}return Z==0?0:o/Z},function(w,M,O,b,D){var o=D[0],Z=0,$=0,U=Math.max(0,O-o),k=Math.min(256,O+o+1);
while(U<k){var E=w[U]+M[U];Z+=U*E;$+=E;U++}return $==0?0:Z/$}];x.N={};x.N.N1=function(w){var M=y.u.xT(w.Trnf),O=w.Sz.v,b=x.N.C9(M,new cn(0,0,O.Wdth.v,O.Hght.v));
return x.N.kj(b)};x.N.C9=function(w,M){var O=w[0],b=w[1],D=w[2],o=w[3],Z=w[6],$=w[7],k=w[4],E=w[5],t=0,c=0,l=1,q=0,d=0,V=1,L=1,e=1;
if(M){t=M.x;c=M.y;l=M.x+M.e;q=M.y;d=M.x;V=M.y+M.n;L=M.x+M.e;e=M.y+M.n}return x.N.AD(w,[t,c,l,q,L,e,d,V])};
x.N.EO=function(w){function M(D,o){for(var U=0;U<o.length;U+=2)if(!O(D,o[U],o[U+1]))return!1;return!0}function O(D,o,Z){return D[2*o]==D[2*Z]&&D[2*o+1]==D[2*Z+1]}var b=0;
if(M(w,[0,1,2,3]))b+=1;if(M(w,[0,3,1,2]))b+=2;return b};x.N.AD=function(w,M){function O(Y,U,B){var h=Y[U*2]-Y[B*2],P=Y[U*2+1]-Y[B*2+1];
return Math.sqrt(h*h+P*P)}var b=w[0],D=w[1],o=w[2],Z=w[3],$=w[6],k=w[7],E=w[4],t=w[5],c=M[0],l=M[1],q=M[2],d=M[3],V=M[6],L=M[7],e=M[4],H=M[5],j=[[c,l,1,0,0,0,-c*b,-l*b,b],[0,0,0,c,l,1,-c*D,-l*D,D],[q,d,1,0,0,0,-q*o,-d*o,o],[0,0,0,q,d,1,-q*Z,-d*Z,Z],[V,L,1,0,0,0,-V*$,-L*$,$],[0,0,0,V,L,1,-V*k,-L*k,k],[e,H,1,0,0,0,-e*E,-H*E,E],[0,0,0,e,H,1,-e*t,-H*t,t]],g=[0,0,0,0,0,0,0,0],K=x.S3.zA(j,g);
if(K!=0){g=[0,0,0,0,0,0,0,0];var a=x.N.EO(w),T=x.N.EO(M);if(a==T&&a!=0){var C=a==1,F=C?3:1,m=O(w,0,F),N=O(M,0,F),v=N/m,h=w[2*F]-w[0],P=w[2*F+1]-w[1],J=new f$;
J.translate(-b,-D);J.rotate(Math.atan2(P,h)-(C?Math.PI/2:0));if(C)J.scale(1,v);else J.scale(v,1);J.translate(c,l);
J.ZW();g=x.N.iq(J)}}return g};x.N.TB=function(w){return Math.abs(w[6])<1e-10&&Math.abs(w[7])<1e-10};
x.N.kj=function(w){return new f$(w[0],w[3],w[1],w[4],w[2],w[5])};x.N.iq=function(w){return[w.ip,w.Hv,w.hE,w.L,w.uc,w.Qw,0,0]};
x.N.F=function(w,M){var O=new Float64Array(2);for(var b=0;b<M.length;b+=2){var D=M[b],o=M[b+1];x.N.JI(D,o,w,O);
M[b]=O[0];M[b+1]=O[1]}};x.N.JI=function(w,M,O,b){var D=1/(O[6]*w+O[7]*M+1);b[0]=(O[0]*w+O[1]*M+O[2])*D;
b[1]=(O[3]*w+O[4]*M+O[5])*D};x.N.a7Q=function(w,M){var O=new Float64Array(2);x.N.JI(M.x,M.y,w,O);return new at(O[0],O[1])};
x.N.lj=function(w,M,O,b){w=new Uint32Array(w.buffer);M=new Uint32Array(M.buffer);for(var D=0;D<b;D++){for(var o=0;
o<O;o++){M[o*b+D]=w[D*O+o]}}};x.N.xj=function(w,M,O,b){w=new Uint32Array(w.buffer);M=new Uint32Array(M.buffer);
for(var D=0;D<b;D++){for(var o=0;o<O;o++){M[D*O+o]=w[D*O+O-1-o]}}};x.N.aau=function(w,M,O,b){w=new Uint32Array(w.buffer);
M=new Uint32Array(M.buffer);for(var D=0;D<b;D++){for(var o=0;o<O;o++){M[D*O+o]=w[(b-1-D)*O+o]}}};x.N.Ns=function(w){return Math.abs(w[6])<1e-9&&Math.abs(w[7])<1e-9};
x.N.oZ=function(w){return Math.abs(w[0])<1e-9&&Math.abs(w[4])<1e-9||Math.abs(w[1])<1e-9&&Math.abs(w[3])<1e-9};
x.N.drawImage=function(w,M,O,b,D,o,Z,$,k){if(Z==null)Z=!1;if($==null)$=!1;var E=x.N.ZW(w),t=!0,c=0;for(var U=0;
U<8;U++){var l=Math.round(w[U]);if(U!=2&&U!=5)c+=Math.abs(l);if(Math.abs(l-w[U])>1e-9)t=!1}var q=x.N.Ns(w),d=x.N.oZ(w)&&q,V=d?1:0;
if(Z||t&&c==O+b&&q){x.N.aqt(E,M,O,b,D,o,$,q,k);return}var L=o.e,e=o.n,H=new Float64Array(2);D=new Uint32Array(D.buffer);
M=new Uint32Array(M.buffer);for(var j=0;j<e;j++)for(var g=0;g<L;g++){var K=j*L+g,a,T,C,F,I=0,f=0,s=0,W=0;
D[K]=0;var m=g+o.x+.5,N=j+o.y+.5;a=m;T=N;C=E;var v=C[0]*a+C[1]*T+C[2],h=C[3]*a+C[4]*T+C[5];if(!q){F=1/(C[6]*a+C[7]*T+1);
v*=F;h*=F}var P=v*O,J=h*b,Y=P<-1||P>O+1||J<-1||J>b+1;if($){P=Math.max(.001,Math.min(O-1,P));J=Math.max(.001,Math.min(b-1,J))}else if(Y)continue;
var B=x.N.afV(w,O,b,m,N,v,h),S=Math.round(B*2.3);if(B<1.1){x.N.PU(P,J,M,O,b,D,K,V);continue}if(!$&&(P<.6||P>O-.6||J<.6||J>b-.6)){S=Math.max(S,5)}if($&&Y)S=1;
var r=1/S,i=o.x+g,u=o.y+j;C=E;for(var U=0;U<S;U++)for(var z=0;z<S;z++){a=i+(U+.5)*r;T=u+(z+.5)*r;var P=C[0]*a+C[1]*T+C[2],J=C[3]*a+C[4]*T+C[5];
if(!q){F=1/(C[6]*a+C[7]*T+1);P*=F;J*=F}if($){P=Math.max(.001,Math.min(.999,P));J=Math.max(.001,Math.min(.999,J))}else if(P<0||P>=1||J<0||J>=1)continue;
P=Math.floor(P*O);J=Math.floor(J*b);var G=J*O+P,g_=M[G],cl=g_>>>24;I+=(g_&255)*cl;f+=(g_>>>8&255)*cl;
s+=(g_>>>16&255)*cl;W+=cl}if(W!=0){var p=1/W;I=~~(I*p+.5);f=~~(f*p+.5);s=~~(s*p+.5);W=~~(W*r*r+.5);D[K]=W<<24|s<<16|f<<8|I}}};
x.N.afV=function(w,M,O,b,D,o,Z){var $=x.N.yq(w,b,D,o+1/M,Z),k=x.N.yq(w,b,D,o,Z+1/O);return 1/Math.sqrt(Math.max($,k))};
x.N.yq=function(w,M,O,b,D){var o=1/(w[6]*b+w[7]*D+1),Z=(w[0]*b+w[1]*D+w[2])*o-M,$=(w[3]*b+w[4]*D+w[5])*o-O;
return Z*Z+$*$};x.N.aqt=function(w,M,O,b,D,o,Z,$,k){if($&&!Z&&o.v()>4e6&&k){x.N.af$(w,M,O,b,D,o,Z,$,k);
return}var E=o.x+o.e,t=o.y+o.n,c=0,l=new Uint32Array(D.buffer),q=new Uint32Array(M.buffer),d=w[0]*O,V=w[1]*O,L=w[2]*O,e=w[3]*b,H=w[4]*b,j=w[5]*b,g=w[6],K=w[7];
if($&&!Z)for(var a=o.y+.5;a<t;a++)for(var T=o.x+.5;T<E;T++){var C=d*T+V*a+L,F=e*T+H*a+j;if(0<C&&C<O&&0<F&&F<b){var m=~~F*O+~~C;
l[c]=q[m]}else l[c]=0;c++}else for(var a=o.y+.5;a<t;a++)for(var T=o.x+.5;T<E;T++){var N=1/(g*T+K*a+1),C=(d*T+V*a+L)*N,F=(e*T+H*a+j)*N;
if(Z){C=Math.max(.001,Math.min(O-1,C));F=Math.max(.001,Math.min(b-1,F))}if(0<C&&C<O&&0<F&&F<b){var m=Math.floor(F)*O+Math.floor(C);
l[c]=q[m]}else l[c]=0;c++}};x.N.af$=function(w,M,O,b,D,o,Z,$,k){var E=new Uint32Array(D.buffer),t=new Uint32Array(M.buffer),K=0;
if(k&&(o.e&3)!=0)throw"e";var c=w[0]*O,l=w[1]*O,q=w[2]*O,d=w[3]*b,V=w[4]*b,L=w[5]*b,e=w[6],H=w[7],j=o.e,g=o.n,a=o.x+.5,T=o.y+.5,C=(j>>>2<<2)-1e-9,F=-.1+(g>>>1<<1)-1e-9,m=~~O,N=c==0?0:1/c,v=d==0?0:1/d;
for(var h=0;h<g;h++){var P=a*c+l*(h+T)+q,J=a*d+V*(h+T)+L,Y=0,B=j;if(c==0){}else if(N>0){Y=Math.max(Y,-P*N);
B=Math.min(B,(O-P)*N)}else{B=Math.min(B,-P*N);Y=Math.max(Y,(O-P)*N)}if(d==0){}else if(v>0){Y=Math.max(Y,-J*v);
B=Math.min(B,(b-J)*v)}else{B=Math.min(B,-J*v);Y=Math.max(Y,(b-J)*v)}if(B<0)B=0;if(Y>B)Y=B;Y=Math.ceil(Y);
B=~~B;K=~~(h*j);for(var S=0;S<Y;S++)E[K++]=0;for(var S=Y;S<B;S+=4){var r=c*S+P,I=d*S+J,f=~~I*m+~~r;E[K++]=E[K++]=E[K++]=E[K++]=t[f]}for(var S=B;
S<j;S++)E[K++]=0}};x.N.ZW=function(w){var M=w[4]-w[5]*w[7],O=w[2]*w[7]-w[1],b=w[1]*w[5]-w[2]*w[4],D=w[5]*w[6]-w[3],o=w[0]-w[2]*w[6],Z=w[3]*w[2]-w[0]*w[5],$=w[3]*w[7]-w[4]*w[6],k=w[1]*w[6]-w[0]*w[7],E=1/(w[0]*w[4]-w[1]*w[3]);
return[M*E,O*E,b*E,D*E,o*E,Z*E,$*E,k*E]};x.N.H9=function(w,M){var O=w[0],b=w[1],D=w[2],o=w[3],Z=w[4],$=w[5],k=w[6],E=w[7],t=M[0],c=M[1],l=M[2],q=M[3],d=M[4],V=M[5],L=M[6],e=M[7],H=[O*t+b*q+D*L,O*c+b*d+D*e,O*l+b*V+D,o*t+Z*q+$*L,o*c+Z*d+$*e,o*l+Z*V+$,k*t+E*q+L,k*c+E*d+e],j=1/(k*l+E*V+1);
for(var U=0;U<8;U++)H[U]*=j;return H};x.N.PU=function(w,M,O,b,D,o,Z,$){var k=w,E=M,l=0,q=0,d=0,V=0;w-=.499999;
M-=.499999;var t=Math.floor(w),c=Math.floor(M);if($==0){var U=c*b+t,L=t>=0&&t<b,e=t+1>=0&&t+1<b,H=c>=0&&c<D,j=c+1>=0&&c+1<D;
if(L&&H)l=O[U];if(e&&H)q=O[U+1];if(L&&j)d=O[U+b];if(e&&j)V=O[U+b+1]}else if($==1){var g=t<0?0:t>b-1?b-1:t,K=t<-1?0:t>b-2?b-1:t+1,a=c<0?0:c>D-1?D-1:c,T=c<-1?0:c>D-2?D-1:c+1;
l=O[a*b+g];q=O[a*b+K];d=O[T*b+g];V=O[T*b+K]}else{var g=(t+50*b)%b,K=(t+50*b)%b,a=(c+50*D)%D,T=(c+50*D)%D;
l=O[a*b+g];q=O[a*b+K];d=O[T*b+g];V=O[T*b+K]}var C=w-t,F=M-c,m=(1-F)*(1-C)*(l>>>24),N=(1-F)*C*(q>>>24),v=F*(1-C)*(d>>>24),h=F*C*(V>>>24),P=m+N+v+h,J=m*(l&255)+N*(q&255)+v*(d&255)+h*(V&255),Y=m*(l>>>8&255)+N*(q>>>8&255)+v*(d>>>8&255)+h*(V>>>8&255),B=m*(l>>>16&255)+N*(q>>>16&255)+v*(d>>>16&255)+h*(V>>>16&255);
if(P==0)o[Z]=0;else{var S=1/P;J=~~(J*S+.5);Y=~~(Y*S+.5);B=~~(B*S+.5);P=~~(P+.5);o[Z]=P<<24|B<<16|Y<<8|J}};
x.N.x3=function(w,M,O,b,D,o){var Z=w-.499999,$=M-.499999,k=~~Z,E=~~$,t=Z-k,c=$-E,l=(1-c)*(1-t),q=(1-c)*t,d=c*(1-t),V=c*t,L=E*b+k<<2,e=(E+1)*b+k<<2,H=l*O[L]+q*O[L+4]+d*O[e]+V*O[e+4],j=l*O[L+1]+q*O[L+5]+d*O[e+1]+V*O[e+5],g=l*O[L+2]+q*O[L+6]+d*O[e+2]+V*O[e+6],K=l*O[L+3]+q*O[L+7]+d*O[e+3]+V*O[e+7];
o[0]=H;o[1]=j;o[2]=g;o[3]=K};x.N.hh=function(w,M,O,b,D){w-=.499999;M-=.499999;var o=Math.floor(w),Z=Math.floor(M),$=w-o,k=M-Z,E=(1-k)*(1-$),t=(1-k)*$,c=k*(1-$),l=k*$,q=(o+50*b)%b,d=(o+1+50*b)%b,V=(Z+50*D)%D,L=(Z+1+50*D)%D,e=O[V*b+q],H=O[V*b+d],j=O[L*b+q],g=O[L*b+d];
if(e==null||g==null)throw"e";return E*e+t*H+c*j+l*g};x.N.gY=function(w,M,O,b,D,o,Z,$,k,E,t,c){var l=new Uint32Array(w.buffer),q=new Uint32Array(b.buffer),d=(1+2*E)/D,V=[],L=[];
for(var H=0;H<D;H++){var j=-.25+E-H*d;V.push(Math.cos(2*Math.PI*j)*c/t);V.push(Math.sin(2*Math.PI*j)/t)}Z*=M;
$*=O;for(var g=0;g<o;g++){var K=Math.pow(g/o,k)*o;for(var H=0;H<D;H++){var a=Z+V[H<<1]*K,T=$+V[(H<<1)+1]*K,C=~~(.5+(a<0?0:a>M-1?M-1:a)),F=~~(.5+(T<0?0:T>O-1?O-1:T));
q[g*D+H]=l[F*M+C]}}};x.N.kX=function(w,M,O,b,D,o,Z,$,k,E,t,c){var l=new Uint32Array(w.buffer),q=new Uint32Array(b.buffer),d=1/c,V=[],L=O*4,e=1/L;
for(var H=0;H<L+10;H++)V.push(Math.pow(H*e,1/k)*O*t);Z*=D;$*=o;for(var H=0;H<o;H++)for(var j=0;j<D;j++){var g=d*(j-Z),K=H-$,a=1.75-Math.atan2(K,g)*(1/(2*Math.PI));
a=a-~~a;a=(a+E)*(1/(1+2*E));var T=Math.sqrt(g*g+K*K);T=V[~~(T*4)];x.N.PU(a*M+.5,T+.5,l,M,O,q,H*D+j,1)}};
x.N.Co=function(w,M,O,b,D){var o=D[0],Z=D[1];for(var $=0;$<Z;$++)for(var k=0;k<o;k++){var E=D[2]*k+D[3]*$+D[4],t=D[5]*k+D[6]*$+D[7],c=$*o+k<<2,l=t*M+E<<2;
b[c]=w[l+0];b[c+1]=w[l+1];b[c+2]=w[l+2];b[c+3]=w[l+3]}};x.M={tD:function(w,M){var O=~~(.499+w*M);return O<0?0:O>M?M:O},axV:function(w,M,O,b,D,o,Z,$){var k=O[0],E=O[1],t=O[2],c=O[3],l=b.e,q=b.n,d=new Float64Array(l*4+8),V=new Float64Array(l*4+8);
for(var L=0,U=0;L<q;L++){var e=d;d=V;V=e;V.fill(0);for(var H=0;H<l;H++,U++){var j=H+D,g=L+o,K=k*j+E*g,a=t*j+c*g,T=0,m=0;
if($==0)T=K+.5;else if($==1)T=2*Math.sqrt(K*K+a*a);else if($==2)T=(Math.PI+Math.atan2(-a,-K))/(2*Math.PI);
else if($==3)T=Math.abs(K*2);else if($==4)T=2*(Math.abs(K)+Math.abs(a));var C=x.M.tD(T,Z)*4,F=H*4;for(var N=0;
N<4;N++){var v=Math.max(0,Math.min(254.999,M[C+N]+d[F+4+N])),h=Math.floor(v);if(Math.random()<v-h)h++;
var P=v-h;d[F+8+N]=P*(7/16);V[F+0+N]=P*(3/16);V[F+4+N]=P*(5/16);V[F+8+N]=P*(1/16);m|=h<<N*8}w[U]=m}}},Kn:[function(w,M,O,b,D,o,Z){var $=O[0],k=O[1],E=O[2],t=O[3],c=b.e,l=b.n;
for(var q=0,U=0;q<l;q++)for(var d=0;d<c;d++,U++){var V=d+D,L=q+o,e=$*V+k*L,H=E*V+t*L,j=e+.5;w[U]=M[x.M.tD(j,Z)]}},function(w,M,O,b,D,o,Z){var $=O[0],k=O[1],E=O[2],t=O[3],c=b.e,l=b.n;
for(var q=0,U=0;q<l;q++)for(var d=0;d<c;d++,U++){var V=d+D,L=q+o,e=$*V+k*L,H=E*V+t*L,j=2*Math.sqrt(e*e+H*H);
w[U]=M[x.M.tD(j,Z)]}},function(w,M,O,b,D,o,Z){var $=O[0],k=O[1],E=O[2],t=O[3],c=b.e,l=b.n;for(var q=0,U=0;
q<l;q++)for(var d=0;d<c;d++,U++){var V=d+D,L=q+o,e=$*V+k*L,H=E*V+t*L,j=(Math.PI+Math.atan2(-H,-e))/(2*Math.PI);
w[U]=M[x.M.tD(j,Z)]}},function(w,M,O,b,D,o,Z){var $=O[0],k=O[1],E=O[2],t=O[3],c=b.e,l=b.n;for(var q=0,U=0;
q<l;q++)for(var d=0;d<c;d++,U++){var V=d+D,L=q+o,e=$*V+k*L,H=E*V+t*L,j=Math.abs(e*2);w[U]=M[x.M.tD(j,Z)]}},function(w,M,O,b,D,o,Z){var $=O[0],k=O[1],E=O[2],t=O[3],c=b.e,l=b.n;
for(var q=0,U=0;q<l;q++)for(var d=0;d<c;d++,U++){var V=d+D,L=q+o,e=$*V+k*L,H=E*V+t*L,j=2*(Math.abs(e)+Math.abs(H));
w[U]=M[x.M.tD(j,Z)]}}]};x.M.a3u=function(w,M){return w+.5};x.M.ann=function(w,M){return 2*Math.sqrt(w*w+M*M)};
x.M.ahO=function(w,M){return(Math.PI+Math.atan2(-M,-w))/(2*Math.PI)};x.M.aaX=function(w,M){return Math.abs(w*2)};
x.M.anX=function(w,M){return 2*(Math.abs(w)+Math.abs(M))};x.M.LJ=function(w,M,O,b,D,o,Z,$,k,E,t,c){var l=w.Clrs,q=new Uint32Array(M.buffer),d=1023,V=l?x.M.lO(l.v,k,E):null;
if(c&&l){var L=x.M.a4e(w,V,d+1,Z);x.M.axV(q,L,b,O,O.x-D,O.y-o,d,$)}else{var e=l?x.M.IA(w,V,d+1,Z):x.M.Tc(w,d+1,Z);
if($<5){x.M.Kn[$](q,e,b,O,O.x-D,O.y-o,d)}else{var H=new Uint8Array(e.buffer),j=O.e,g=O.n,K=t.GB-t.j4,a=1/K,T=t.qo.e-O.e>>1,C=t.qo.n-O.n>>1,F=t.qo.e,m=-.6*a,N=(-.6+.4)*a,v=(-.6+2*.4)*a,h=(-.6+3*.4)*a;
for(var P=0,U=0;P<g;P++)for(var J=0;J<j;J++,U+=4){var Y=0,B=0,S=0,r=0,I=(P+C)*F+J+T,f=(t.yC[I]-t.j4)*a,s=0;
if(f<=0||f>=1){s=(f<=0?0:d)<<2;M[U]=H[s];M[U+1]=H[s+1];M[U+2]=H[s+2];M[U+3]=H[s+3];continue}s=Math.max(0,Math.min(d-1,Math.round((f+m)*d)))<<2;
B+=H[s];S+=H[s+1];r+=H[s+2];Y+=H[s+3];s=Math.max(0,Math.min(d-1,Math.round((f+N)*d)))<<2;B+=H[s];S+=H[s+1];
r+=H[s+2];Y+=H[s+3];s=Math.max(0,Math.min(d-1,Math.round((f+v)*d)))<<2;B+=H[s];S+=H[s+1];r+=H[s+2];Y+=H[s+3];
s=Math.max(0,Math.min(d-1,Math.round((f+h)*d)))<<2;B+=H[s];S+=H[s+1];r+=H[s+2];Y+=H[s+3];M[U]=B>>>2;
M[U+1]=S>>>2;M[U+2]=r>>>2;M[U+3]=Y>>>2}}}};x.M.lO=function(w,M,O){var b=[];for(var U=0;U<w.length;U++){var D,o=w[U].v,Z=o.Type.v.Clry;
if(Z=="FrgC")D={o:M>>16&255,w:M>>8&255,L:M&255};else if(Z=="BckC")D={o:O>>16&255,w:O>>8&255,L:O&255};
else D=x.M.FL(o.Clr.v);b.push(D)}return b};x.M.FL=function(w){var M,O=w.classID;if(O=="RGBC"){if(w.Rd)M={o:w.Rd.v,w:w.Grn.v,L:w.Bl.v};
else M={o:w.redFloat.v*255,w:w.greenFloat.v*255,L:w.blueFloat.v*255}}else if(O=="HSBC"){M=x.Ja(w.H.v.val/360,w.Strt.v/100,w.Brgh.v/100);
M.o*=255;M.w*=255;M.L*=255}else if(O=="CMYC"){var b=100-w.Cyn.v,D=100-w.Mgnt.v,o=100-w.Ylw.v,Z=100-w.Blck.v,$=255*b*Z*1e-4,k=255*(.2*b+.8*D)*Z*1e-4,E=255*(.2*D+.8*o)*Z*1e-4;
M={o:$,w:k,L:E}}else if(O=="Grsc")M={o:255-w.Gry.v,w:255-w.Gry.v,L:255-w.Gry.v};else if(O=="LbCl"){M=x.Bx(w.Lmnc.v,w.A.v,w.B.v)}else console.log(w);
if(isNaN(M.o))M.o=M.w=M.L=0;return M};x.M.Tc=function(w,M,O){var b=new Uint32Array(M),D=new Uint8Array(b.buffer);
b.fill(4278190080);var o=[],Z=[],$=w.RndS.v,k=w.Smth.v/4096;for(var U=0;U<4;U++){o[U]=~~(w.Mnm.v[U].v*255/100);
Z[U]=~~(w.Mxm.v[U].v*255/100)}var E=x.$(M*4),t=x.$(M);for(var c=0;c<3;c++){x.Y.$j(null,M,1,E,[1+Math.round(k*k*k*60),22,$*(2+c)]);
x.Oj(E,t,0);x.Jm(t,D,c);var l=o[c],q=Z[c];for(var U=0;U<M;U++)D[4*U+c]=Math.max(l,Math.min(q,D[4*U+c]))}if(O)for(var U=0;
U<M/2;U++){var d=b[U];b[U]=b[M-1-U];b[M-1-U]=d}return b};x.M.jk=function(w){return{classID:"RGBC",Rd:{t:"doub",v:w.o},Grn:{t:"doub",v:w.w},Bl:{t:"doub",v:w.L}}};
x.M.a4e=function(w,M,O,b){var D=[],o=1/(O-0);for(var U=0;U<O;U++){var Z=U*4,$=x.M.eT(w,M,(b?O-1-U:U)*o);
D[Z]=$[0];D[Z+1]=$[1];D[Z+2]=$[2];D[Z+3]=$[3]}return D};x.M.IA=function(w,M,O,b){var D=new Uint32Array(O),o=1/(O-0);
for(var U=0;U<O;U++)D[U]=x.M.v3(w,M,(b?O-1-U:U)*o);return D};x.M.eT=function(w,M,O){var b=4096,D=1/4096,o=w.Intr.v*D,Z=w.Clrs.v,$=w.Trns.v,k=Z.length-1,E=$.length-1,U=-1,t=0,c=0,l=0,q=0;
while(U<E&&$[U+1].v.Lctn.v<=O*b)U++;if(U==-1){t=$[0].v.Opct.v.val*(255/100)}else if(U==E){t=$[U].v.Opct.v.val*(255/100)}else{var d=x.M.$v($,D,U,O,o);
t=(d*$[U].v.Opct.v.val+(1-d)*$[U+1].v.Opct.v.val)*(255/100)}U=-1;while(U<k&&Z[U+1].v.Lctn.v<=O*b)U++;
if(U==-1){var V=M[0];c=V.o;l=V.w;q=V.L}else if(U==k){var V=M[U];c=V.o;l=V.w;q=V.L}else{var L=M[U],e=M[U+1],H=x.M.$v(Z,D,U,O,o);
c=H*L.o+(1-H)*e.o;l=H*L.w+(1-H)*e.w;q=H*L.L+(1-H)*e.L}return[c,l,q,t]};x.M.v3=function(w,M,O){var b=x.M.eT(w,M,O),D=~~(.5+b[0]),o=~~(.5+b[1]),Z=~~(.5+b[2]),$=~~(.5+b[3]);
return $<<24|Z<<16|o<<8|D};x.M.$v=function(w,M,U,O,b){if(w.length==2)b*=.5;var D=w[U].v.Lctn.v*M,o=w[U+1].v.Lctn.v*M,Z=D+w[U+1].v.Mdpn.v*.01*(o-D),$;
if(O<Z)$=.5*(O-D)/(Z-D);else $=.5+.5*(O-Z)/(o-Z);$=.5+.5*(b*Math.cos(Math.PI*$)+(1-b)*(1-2*$));return $};
x.M.os=function(w,M){var O=Math.PI*w.Angl.v.val/180,b=w.Scl.v.val/100,D=w.Ofst.v,o=D.Hrzn.v.val/100,Z=D.Vrtc.v.val/100,$=Math.cos(O),k=-Math.sin(O),E=.5*M.n,t=E*($/k),c=Math.sqrt(E*E+t*t),l=.5*M.e,q=l*(k/$),d=Math.sqrt(l*l+q*q),V=Math.min(c,d)*b,L=M.x+M.e/2+o*M.e,e=M.y+M.n/2+Z*M.n;
return[new at(L,e),new at(L+$*V,e+k*V)]};x.M.LE=function(w,M,O,b){var D=M.x-w.x,o=-(M.y-w.y),Z=Math.sqrt(D*D+o*o),$=Math.atan2(o,D),k=Math.cos($),E=-Math.sin($),t=.5*O.n,c=t*(k/E),l=Math.sqrt(t*t+c*c),q=.5*O.e,d=q*(E/k),V=Math.sqrt(q*q+d*d),L=Z/Math.min(l,V),e=(w.x-O.x-O.e/2)/O.e,H=(w.y-O.y-O.n/2)/O.n;
b.Angl.v.val=180*$/Math.PI;b.Scl.v.val=L*100;var j=b.Ofst.v;j.Hrzn.v.val=e*100;j.Vrtc.v.val=H*100};x.M.Ty=function(w,M){for(var U=0;
U<w.length;U++){var O=w[U],b=Math.round(O[0]*4096),D=O[1],o=O[2],Z=O[3];if(o==null)o=1;if(Z==null)Z=.5;
var $=x.M.jk({o:D[0]*255,w:D[1]*255,L:D[2]*255});M.Clrs.v[U]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:b},Mdpn:{t:"long",v:Math.round(Z*100)},Clr:{t:"Objc",v:$},Type:{t:"enum",v:{Clry:"UsrS"}}}};
M.Trns.v[U]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:b},Mdpn:{t:"long",v:Math.round(Z*100)},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(o*100)}}}}}};
x.xn={};x.xn.a75=function(w,M,O,b,D,o,Z,$,k,E,t,c){var l,q,d,V=Date.now(),L=!1,e=Z,H=E,j,g,K,a,T=o*255,C=255-k*255,F=1+D*6,m=1+$*6,N=1+c*4,v=(N-1)/7,h=0,P=255-0,J,Y,B,S,r,I,f,s,W,i,u,z,G,g_=0,cl=1,p,b2,jz,aT,fZ,ft,cc,kr,hG,hi,bU=1+t,ic,iQ=x.$(O*b),bx=x.$(O*b),aR=x.$(O*b),gs=x.$(O*b),k7=255/T,fT=255/(255-C);
for(q=0;q<b;q++){for(l=0;l<O;l++){var U=q*O+l,aH=U<<2;p=x.nJ(w[aH],w[aH+1],w[aH+2]);gs[U]=p;if(p<T)iQ[U]=255-p*k7;
if(p>C)bx[U]=255-(255-p)*fT}}if(L)console.log("init",Date.now()-V);V=Date.now();if(D*e>0){aR.set(iQ);
x.m8.r7(aR,iQ,new cn(0,0,O,b),e)}if($*H>0){aR.set(bx);x.m8.r7(aR,bx,new cn(0,0,O,b),H)}if(L)console.log("blur",Date.now()-V);
V=Date.now();var e7=x.$(256),dB=x.$(256);for(var U=0;U<256;U++){var ia=U*(1/255),d7=0;d7=(1-Math.pow(1-ia,F))*255;
e7[U]=Math.max(0,Math.min(255,~~(d7+.5)));d7=Math.pow(ia,m)*255;dB[U]=Math.max(0,Math.min(255,~~(d7+.5)))}var gv=new Uint8ClampedArray(M.buffer),hP=new Float32Array(32768);
for(var U=0;U<32768;U++){ic=Math.sqrt(U)*(1/128);if(bU>1)ic=(1-ic)*(bU-1)+1;else ic=ic*(bU-1)+1;hP[U]=ic}for(q=0;
q<b;q++){for(l=0;l<O;l++){var U=q*O+l,aH=U<<2,d7=gs[U],gP=iQ[U]*(1/255),aB=bx[U]*(1/255);d7=(1-gP)*d7+gP*e7[~~d7];
d7=(1-aB)*d7+aB*dB[~~d7];p=d7;var i7=w[aH],dI=w[aH+1],gh=w[aH+2];b2=-i7*.168736-dI*.331264+gh*.5;jz=i7*.5-dI*.418688-gh*.081312;
ic=hP[~~(.5+b2*b2+jz*jz)];aT=b2*ic;ft=jz*ic;cl=1-Math.min(2-(gP+aB),1);b2=cl*b2+(1-cl)*aT;jz=cl*jz+(1-cl)*ft;
kr=p+1.402*jz;hG=p-.34414*b2-.71414*jz;hi=p+1.772*b2;gv[aH]=~~(.5+kr);gv[aH+1]=~~(.5+hG);gv[aH+2]=~~(.5+hi)}}if(L)console.log("apply masks",Date.now()-V);
V=Date.now()};x.sn={};x.sn.Ua=function(w,M,O,b,D){var o=!1,d=1,Y=0,B=0,u=0,bU=0;if(!M.Ar(D)){var Z=M.MK(D),$=x.$(Z.v()*4);
x.xu(w,M,$,Z);w=$;M=Z}var k=x.$(M.v());x.CV(O,D,k,M);x.round(k);D=D.mX(M);var E=D.e,t=D.n,c=E*3<t?2:1,l=t*3<E?2:1;
if(D.v()*(c*2+1)*(l*2+1)<M.v()){var Z=new cn(D.x-E*c,D.y-t*c,E*(c*2+1),t*(l*2+1)).mX(M),$=x.$(Z.v()*4);
x.xu(w,M,$,Z);var q=x.$(Z.v());x.CV(k,M,q,Z);M=Z;w=$;k=q}while((M.e+M.n)/2/d>400)d++;var V=w,L=M,e=k,H=Math.floor(L.e/d),j=Math.floor(L.n/d);
w=x.$(H*j*4);x.scale.$A(V,L.e,L.n,w,H,j,1/d);k=x.$(H*j);x.scale.Co(e,L.e,L.n,k,H,j,1/d);x.round(k,1);
var g=x.Kx(k,new cn(0,0,H,j));if(g.S9())return 1;var K=Math.round((g.e+g.n)/2/15),C=Date.now(),F=x.$(H*j*4);
x.ayg(w,F);var m=Int16Array,N=new m(H*j*24),v=new m(64),h=new m(64),P=new m(64),J=new m(64);for(var S=3;
S<j-4;S++)for(var r=3;r<H-4;r++){var I=S*H+r;if(k[I]==255)continue;if(x.sn.ahe(F,k,r,S,H,j,v,h,P)!=0)continue;
x.sn.tJ(v,J);N[Y]=r;N[Y+1]=S;x.sn.U7(v,N,Y+4,12);Y+=16;x.sn.tJ(h,J);x.sn.U7(h,N,Y,4);Y+=4;x.sn.tJ(P,J);
x.sn.U7(P,N,Y,4);Y+=4;var f=N[Y-24+5],s=N[Y-24+6];N[Y-24+5]=N[Y-24+20];N[Y-24+6]=N[Y-24+16];N[Y-24+16]=f;
N[Y-24+20]=s;B++}if(B==0)return 2;if(o)console.log(Date.now()-C,"FWHT computed");C=Date.now();var W=[];
x.sn.Nq(0,B-1,W,N,new m(2*24));if(o)console.log(Date.now()-C,"KD tree computed");C=Date.now();var i=new Float32Array(H*j*4);
for(var U=0;U<B;U++){var z=U,G=x.sn.agZ(z,N,W,K);if(G==-1)continue;var g_=z*24,cl=G*24,p=N[g_],b2=N[g_+1],jz=N[cl],aT=N[cl+1];
u+=x.sn.getError(cl,g_,N,1e99);var fZ=jz-p,ft=aT-b2;i[(j+ft)*2*H+(H+fZ)]+=1}if(o)console.log(Date.now()-C,"NN found");
C=Date.now();var cc=[],kr=1/(2*H);for(var U=0;U<i.length;U++){if(i[U]>0){var S=Math.floor(U*kr),r=U-S*2*H;
cc.push({x:r-H,y:S-j,G:i[U],fH:-1})}}cc.sort(function(hP,gP){return gP.G-hP.G});var hG=new Int32Array(H*j),hi=[];
for(var U=0;U<H*j;U++){if(k[U]==255){hG[U]=bU;hi.push(U%H,Math.floor(U/H));bU++}else if(w[(U<<2)+3]<200){hG[U]=-2}else{hG[U]=-1}}var ic=x.sn.aun(H,j,cc,hG,hi,bU);
if(ic==null){return 3}var iQ=ic.EN,top=ic.top;iQ=x.sn.a85(iQ,w,H,j,top,hG,hi,bU);if(o)console.log(Date.now()-C,"optimal labeling found");
C=Date.now();var Z=D.clone();Z.M0(1,1);Z=Z.mX(L);var bx=x.$(Z.v()*4),aR=x.$(Z.v());x.xu(V,L,bx,Z);var gs=L.e,k7=L.n;
for(var S=0;S<k7;S++)for(var r=0;r<gs;r++){if(e[S*gs+r]==0)continue;var fT=Math.min(Math.floor(r/d),H-1),aH=Math.min(Math.floor(S/d),j-1),e7=hG[aH*H+fT];
if(e7==-1)continue;var dB=iQ[e7],ia=top[dB],d7=r+ia.x*d,hf=S+ia.y*d,gv=hf*gs+d7<<2,hN=(S-Z.y+L.y)*Z.e+(r-Z.x+L.x)<<2;
bx[hN]=V[gv];bx[hN+1]=V[gv+1];bx[hN+2]=V[gv+2];bx[hN+3]=V[gv+3];bx[hN+3]=V[gv+3];aR[hN>>2]=dB+1}if(o)console.log(Date.now()-C,"copied back");
C=Date.now();x.G0.Ua(bx,aR,Z,null,1e3);if(o)console.log(Date.now()-C,"poisson smooth");C=Date.now();
x.xu(bx,Z,b,D);return 0};x.sn.Sn=function(w,M,O,b,D,o){return x.sn.j3(w+D.x,M+D.y,O,b)&&o[(M+D.y)*O+(w+D.x)]==-1?0:1e9};
x.sn.a85=function(w,M,O,b,top,D,o,Z){var $=Date.now(),k=[-1,0,0,-1,1,0,0,1],E=1e99,t=[],c=[],l=2*(Z*2*3+Z*2),q=null,d=0,V=0,L=0,e=1e99;
while(!0&&Date.now()<$+12e3){L++;var H=null,j=E;for(var g=0;g<top.length;g++){var K=top[g],a=0,T=Z+2,C=0;
for(var U=0;U<Z;U++){var F=o[U*2],m=o[U*2+1],N=top[w[U]],v=x.sn.Sn(F,m,O,b,K,D),h=w[U]==g?1e9:x.sn.Sn(F,m,O,b,N,D);
for(var aq=0;aq<4;aq++){if(aq==0&&F==0||aq==1&&m==0||aq==2&&F==O-1||aq==3&&m==b-1)continue;var P=k[2*aq],J=k[2*aq+1],Y=F+P,B=m+J,S=D[B*O+Y];
if(S==-2){}else if(S==-1){v+=3*x.sn.EA(Y+K.x,B+K.y,Y,B,O,b,M,D);v+=2*x.sn.EA(Y+K.x+P,B+K.y+J,Y+P,B+J,O,b,M,D);
h+=3*x.sn.EA(Y+N.x,B+N.y,Y,B,O,b,M,D);h+=2*x.sn.EA(Y+N.x+P,B+N.y+J,Y+P,B+J,O,b,M,D)}else if(aq>1){if(w[U]==w[S]){var r=0;
r+=x.sn.EA(F+N.x,m+N.y,F+K.x,m+K.y,O,b,M,D);r+=x.sn.EA(Y+N.x,B+N.y,Y+K.x,B+K.y,O,b,M,D);t[a]=U;t[a+1]=S;
c[a]=r;c[a+1]=r;a+=2}else{var I=top[w[S]],f=T,s=0,W=0,i=0;T++;s+=x.sn.EA(F+N.x,m+N.y,F+K.x,m+K.y,O,b,M,D);
s+=x.sn.EA(Y+N.x,B+N.y,Y+K.x,B+K.y,O,b,M,D);W+=x.sn.EA(F+I.x,m+I.y,F+K.x,m+K.y,O,b,M,D);W+=x.sn.EA(Y+I.x,B+I.y,Y+K.x,B+K.y,O,b,M,D);
i+=x.sn.EA(F+I.x,m+I.y,F+N.x,m+N.y,O,b,M,D);i+=x.sn.EA(Y+I.x,B+I.y,Y+N.x,B+N.y,O,b,M,D);t[a]=U;t[a+1]=f;
c[a]=s;c[a+1]=s;a+=2;t[a]=S;t[a+1]=f;c[a]=W;c[a+1]=W;a+=2;t[a]=f;t[a+1]=Z+1;c[a]=i;c[a+1]=0;a+=2}}}t[a]=Z;
t[a+1]=U;c[a]=v;c[a+1]=0;a+=2;t[a]=U;t[a+1]=Z+1;c[a]=h;c[a+1]=0;a+=2;C+=Math.min(v,h)}if(C>j)continue;
var u=x.yi.zA(T,a,Z,Z+1,t,c,j);if(u.n2<j){j=u.n2;var z=w.slice(0);x.sn.amG(z,a,t,u.QE,g,Z);H=z}}if(j*1>=E){break}E=j;
w=H;if((L&3)==0){if(j*1.03>=e)break;e=j}if((L&3)==0){var G=0*top.length;for(var U=0;U<top.length&&top.length>G;
U++){if(w.indexOf(U)!=-1)continue;top.splice(U,1);for(var S=0;S<w.length;S++)if(w[S]>U)w[S]--;U--}}}return w};
x.sn.amG=function(w,M,O,b,D,o){for(var U=0;U<b.length;U++){var Z=b[U]<<1,$=0,k=0;if(Z<M){$=O[Z];k=O[Z+1]}else{k=O[Z];
$=O[Z+1]}if($==o&&w[k]!=D)w[k]=D}};x.sn.iz=function(top,w,M,O,b,D,o,Z,$){for(var U=0;U<M.length;U++){var k=M[U],E=!0;
if(Z!=null&&!(x.sn.j3(Z+k.x,$+k.y,D,o)&&O[D*($+k.y)+Z+k.x]==-1))continue;if(k.fH==-1)k.fH=x.sn.arJ(k,O,b,D,o);
if(k.fH<=0)continue;for(var t=0;t<top.length;t++){var c=top[t],l=k.x-c.x,q=k.y-c.y;if(l*l+q*q<w){E=!1;
break}}if(E)return k}return null};x.sn.arJ=function(w,M,O,b,D){var o=0;for(var U=0;U<O.length;U+=2){var Z=O[U]+w.x,$=O[U+1]+w.y;
if(x.sn.j3(Z,$,b,D)&&M[b*$+Z]==-1)o++}return o/(O.length>>1)};x.sn.aun=function(w,M,O,b,D,o){var top=[];
for(var U=0;U<60;U++){var Z=x.sn.iz(top,25,O,b,D,w,M);if(Z==null)break;else top.push(Z)}if(top.length==0)return null;
var $=[];for(var U=0;U<o;U++){var k=D[U*2],E=D[U*2+1],t=-1,c=0;while(!0){c++;var l=Math.random();t=Math.floor(l*.99999*top.length);
var q=top[t],d=k+q.x,V=E+q.y;if(x.sn.j3(d,V,w,M)&&b[V*w+d]==-1)break;if(c>100){var Z;Z=x.sn.iz(top,0,O,b,D,w,M,k,E);
if(Z==null)return null;top.push(Z);c=0}}$.push(t)}return{top:top,EN:$}};x.sn.EA=function(w,M,O,b,D,o,Z,$){if(w==O&&M==b)return 0;
if(w<0||M<0||w>=D||M>=o||O<0||b<0||O>=D||b>=o||$[M*D+w]!=-1||$[b*D+O]!=-1)return 1e7;var k=M*D+w<<2,E=b*D+O<<2,t=Z[k]-Z[E],c=Z[k+1]-Z[E+1],l=Z[k+2]-Z[E+2];
return 1+(t*t+c*c+l*l)};x.sn.j3=function(w,M,O,b){return w>=0&&w<O&&M>=0&&M<b};x.sn.agZ=function(w,M,O,b){var D=24*w,o=M[D],Z=M[D+1],$=b*b,k=0,l=1e9;
while(O[k]!=99)if(M[D+O[k]]<O[k+1])k=O[k+2];else k=O[k+3];var E=O[k+1],t=O[k+2],c=-1;for(var U=E;U<=t;
U++){var k=U,q=k*24,d=M[q],V=M[q+1];if((d-o)*(d-o)+(V-Z)*(V-Z)<$)continue;var L=x.sn.getError(q,D,M,l);
if(L<l){l=L;c=k}}return c};x.sn.getError=function(w,M,O,b){var D=0;for(var o=4;o<24;o+=4){var Z=O[M+o]-O[w+o],$=O[M+o+1]-O[w+o+1],k=O[M+o+2]-O[w+o+2],E=O[M+o+3]-O[w+o+3];
D+=Z*Z+$*$+k*k+E*E;if(D>=b)return D+1}return D};x.sn.Nq=function(w,M,O,b,D){var o=16,l=0;if(M-w<=o){O.push(99,w,M);
return}x.sn.qe(w,M,b,D);var Z=-1,$=-1;for(var U=4;U<24;U++){var k=D[2*U+1]-D[2*U];if(k>$){$=k;Z=U}}var E=w+M>>1,t=x.sn.aay(E,w,M,b,Z),c=-1;
for(var U=w;U<=M;U++)if(b[24*U+Z]==t){if(c==-1)c=U;l=U}if(w+8<c&&c-w>M-l)E=c;else if(l+1<M-8)E=l+1;else if(M-w<64){O.push(99,w,M);
return}else E=E;var q=O.length;O.push(Z,t,0,0);O[q+2]=q+4;x.sn.Nq(w,E-1,O,b,D);O[q+3]=O.length;x.sn.Nq(E,M,O,b,D)};
x.sn.qe=function(w,M,O,b){for(var U=0;U<48;U+=4){b[U]=3e4;b[U+1]=-3e4;b[U+2]=3e4;b[U+3]=-3e4}for(var U=w;
U<=M;U++){var D=U*24;for(var o=0;o<24;o++){var Z=O[D+o],$=b[o<<1],k=b[(o<<1)+1];if(Z<$)b[o<<1]=Z;if(Z>k)b[(o<<1)+1]=Z}}};
x.sn.Kj=function(w,M,O){var b=0,U=0;b=O[w+U];O[w+U]=O[M+U];O[M+U]=b;U++;b=O[w+U];O[w+U]=O[M+U];O[M+U]=b;
U++;b=O[w+U];O[w+U]=O[M+U];O[M+U]=b;U++;b=O[w+U];O[w+U]=O[M+U];O[M+U]=b;U++;b=O[w+U];O[w+U]=O[M+U];O[M+U]=b;
U++;b=O[w+U];O[w+U]=O[M+U];O[M+U]=b;U++;b=O[w+U];O[w+U]=O[M+U];O[M+U]=b;U++;b=O[w+U];O[w+U]=O[M+U];O[M+U]=b;
U++;b=O[w+U];O[w+U]=O[M+U];O[M+U]=b;U++;b=O[w+U];O[w+U]=O[M+U];O[M+U]=b;U++;b=O[w+U];O[w+U]=O[M+U];O[M+U]=b;
U++;b=O[w+U];O[w+U]=O[M+U];O[M+U]=b;U++;b=O[w+U];O[w+U]=O[M+U];O[M+U]=b;U++;b=O[w+U];O[w+U]=O[M+U];O[M+U]=b;
U++;b=O[w+U];O[w+U]=O[M+U];O[M+U]=b;U++;b=O[w+U];O[w+U]=O[M+U];O[M+U]=b;U++;b=O[w+U];O[w+U]=O[M+U];O[M+U]=b;
U++;b=O[w+U];O[w+U]=O[M+U];O[M+U]=b;U++;b=O[w+U];O[w+U]=O[M+U];O[M+U]=b;U++;b=O[w+U];O[w+U]=O[M+U];O[M+U]=b;
U++;b=O[w+U];O[w+U]=O[M+U];O[M+U]=b;U++;b=O[w+U];O[w+U]=O[M+U];O[M+U]=b;U++;b=O[w+U];O[w+U]=O[M+U];O[M+U]=b;
U++;b=O[w+U];O[w+U]=O[M+U];O[M+U]=b;U++};x.sn._j=function(w,M,O,b){var D=O+b>>>1,o=w[24*D+M];while(O<=b){while(w[24*O+M]<o)O++;
while(w[24*b+M]>o)b--;if(O<=b){if(w[24*O+M]!=w[24*b+M])x.sn.Kj(O*24,b*24,w);O++;b--}}return O};x.sn.aay=function(w,M,O,b,D){var o=0;
while(M!=O){o=x.sn._j(b,D,M,O);if(w<o)O=o-1;else M=o}return b[w*24+D]};x.sn.U7=function(w,M,O,b){for(var U=0;
U<b;U++)M[O+U]=w[U]};x.sn.ahe=function(w,M,O,b,D,o,Z,$,k){var E=(b-3)*D+(O-3),t=E<<2;for(var c=0;c<8;
c++){if(M[E]+M[E+1]+M[E+2]+M[E+3]+M[E+4]+M[E+5]+M[E+6]+M[E+7]!=0||w[t+3]<200||w[t+7]<200||w[t+11]<200||w[t+15]<200||w[t+19]<200||w[t+23]<200||w[t+27]<200||w[t+31]<200)return 1;
var U=c<<3;Z[U+0]=w[t+0];$[U+0]=w[t+1];k[U+0]=w[t+2];Z[U+1]=w[t+4];$[U+1]=w[t+5];k[U+1]=w[t+6];Z[U+2]=w[t+8];
$[U+2]=w[t+9];k[U+2]=w[t+10];Z[U+3]=w[t+12];$[U+3]=w[t+13];k[U+3]=w[t+14];Z[U+4]=w[t+16];$[U+4]=w[t+17];
k[U+4]=w[t+18];Z[U+5]=w[t+20];$[U+5]=w[t+21];k[U+5]=w[t+22];Z[U+6]=w[t+24];$[U+6]=w[t+25];k[U+6]=w[t+26];
Z[U+7]=w[t+28];$[U+7]=w[t+29];k[U+7]=w[t+30];t+=D<<2;E+=D}return 0};x.sn.tJ=function(w,M){M[0]=w[32]+w[0];
M[1]=w[33]+w[1];M[2]=w[34]+w[2];M[3]=w[35]+w[3];M[4]=w[36]+w[4];M[5]=w[37]+w[5];M[6]=w[38]+w[6];M[7]=w[39]+w[7];
M[8]=w[40]+w[8];M[9]=w[41]+w[9];M[10]=w[42]+w[10];M[11]=w[43]+w[11];M[12]=w[44]+w[12];M[13]=w[45]+w[13];
M[14]=w[46]+w[14];M[15]=w[47]+w[15];M[16]=w[48]+w[16];M[17]=w[49]+w[17];M[18]=w[50]+w[18];M[19]=w[51]+w[19];
M[20]=w[52]+w[20];M[21]=w[53]+w[21];M[22]=w[54]+w[22];M[23]=w[55]+w[23];M[24]=w[56]+w[24];M[25]=w[57]+w[25];
M[26]=w[58]+w[26];M[27]=w[59]+w[27];M[28]=w[60]+w[28];M[29]=w[61]+w[29];M[30]=w[62]+w[30];M[31]=w[63]+w[31];
M[32]=w[0]-w[32];M[33]=w[1]-w[33];M[34]=w[2]-w[34];M[35]=w[3]-w[35];M[36]=w[4]-w[36];M[37]=w[5]-w[37];
M[38]=w[6]-w[38];M[39]=w[7]-w[39];M[40]=w[8]-w[40];M[41]=w[9]-w[41];M[42]=w[10]-w[42];M[43]=w[11]-w[43];
M[44]=w[12]-w[44];M[45]=w[13]-w[45];M[46]=w[14]-w[46];M[47]=w[15]-w[47];M[48]=w[16]-w[48];M[49]=w[17]-w[49];
M[50]=w[18]-w[50];M[51]=w[19]-w[51];M[52]=w[20]-w[52];M[53]=w[21]-w[53];M[54]=w[22]-w[54];M[55]=w[23]-w[55];
M[56]=w[24]-w[56];M[57]=w[25]-w[57];M[58]=w[26]-w[58];M[59]=w[27]-w[59];M[60]=w[28]-w[60];M[61]=w[29]-w[61];
M[62]=w[30]-w[62];M[63]=w[31]-w[63];w[0]=M[16]+M[0];w[1]=M[17]+M[1];w[2]=M[18]+M[2];w[3]=M[19]+M[3];
w[4]=M[20]+M[4];w[5]=M[21]+M[5];w[6]=M[22]+M[6];w[7]=M[23]+M[7];w[8]=M[24]+M[8];w[9]=M[25]+M[9];w[10]=M[26]+M[10];
w[11]=M[27]+M[11];w[12]=M[28]+M[12];w[13]=M[29]+M[13];w[14]=M[30]+M[14];w[15]=M[31]+M[15];w[16]=M[0]-M[16];
w[17]=M[1]-M[17];w[18]=M[2]-M[18];w[19]=M[3]-M[19];w[20]=M[4]-M[20];w[21]=M[5]-M[21];w[22]=M[6]-M[22];
w[23]=M[7]-M[23];w[24]=M[8]-M[24];w[25]=M[9]-M[25];w[26]=M[10]-M[26];w[27]=M[11]-M[27];w[28]=M[12]-M[28];
w[29]=M[13]-M[29];w[30]=M[14]-M[30];w[31]=M[15]-M[31];M[0]=w[8]+w[0];M[1]=w[9]+w[1];M[2]=w[10]+w[2];
M[3]=w[11]+w[3];M[4]=w[12]+w[4];M[5]=w[13]+w[5];M[6]=w[14]+w[6];M[7]=w[15]+w[7];M[8]=w[0]-w[8];M[9]=w[1]-w[9];
M[10]=w[2]-w[10];M[11]=w[3]-w[11];M[12]=w[4]-w[12];M[13]=w[5]-w[13];M[14]=w[6]-w[14];M[15]=w[7]-w[15];
w[0]=M[4]+M[0];w[1]=M[5]+M[1];w[2]=M[6]+M[2];w[3]=M[7]+M[3];w[4]=M[0]-M[4];w[5]=M[1]-M[5];w[6]=M[2]-M[6];
w[7]=M[3]-M[7];w[8]=M[12]+M[8];w[9]=M[13]+M[9];w[10]=M[14]+M[10];w[11]=M[15]+M[11];w[12]=M[8]-M[12];
w[13]=M[9]-M[13];w[14]=M[10]-M[14];w[15]=M[11]-M[15];M[0]=w[2]+w[0];M[1]=w[3]+w[1];M[2]=w[0]-w[2];M[3]=w[1]-w[3];
M[4]=w[6]+w[4];M[5]=w[7]+w[5];M[6]=w[4]-w[6];M[7]=w[5]-w[7];M[8]=w[10]+w[8];M[9]=w[11]+w[9];M[10]=w[8]-w[10];
M[11]=w[9]-w[11];M[12]=w[14]+w[12];M[13]=w[15]+w[13];M[14]=w[12]-w[14];M[15]=w[13]-w[15];w[0]=M[1]+M[0];
w[1]=M[0]-M[1];w[2]=M[3]+M[2];w[3]=M[2]-M[3];w[4]=M[5]+M[4];w[5]=M[4]-M[5];w[6]=M[7]+M[6];w[7]=M[6]-M[7];
w[8]=M[9]+M[8];w[9]=M[8]-M[9];w[10]=M[11]+M[10];w[11]=M[10]-M[11];w[12]=M[13]+M[12];w[13]=M[12]-M[13];
w[14]=M[15]+M[14];w[15]=M[14]-M[15]};x.sn.a5U=function(){var w="",aq=64,M="v",O="t",b="a",D=5,U,o,Z;
for(U=aq>>1;U>0;U>>=1,D--){for(o=0;o<aq;o++){Z=(o>>D&1)!=0;if(Z){w+=O+"["+o+"] = "+M+"["+(-U+o)+"] - "+M+"["+o+"];  "}else{w+=O+"["+o+"] = "+M+"["+(U+o)+"] + "+M+"["+o+"];  "}}b=M;
M=O;O=b;w+="\n"}console.log(w)};x.sn.adp=function(aq,w,M){var O=w,b=M,D=O,o=0,U,$,k;while(aq>>o!=2)o++;
var Z=o;for(U=aq>>1;U>0;U>>=1,o--){for($=0;$<aq;$++){k=($>>o&1)!=0;if(k)b[$]=O[-U+$]-O[$];else b[$]=O[U+$]+O[$]}D=O;
O=b;b=D}if((Z&1)==1)for(U=0;U<aq;U++)M[U]=O[U]};x.gO={};x.gO.uz=function(w,M,O,b,D,o,Z,$,k){var E=Date.now(),t=new Uint32Array(w.buffer),c=new Uint32Array(M.buffer),l=Z/O,q=$/b,d=1/l,V=1/q,L=new Float64Array(2),e=3,H=1/e,j=1/(e*e),g=0,K=0,a=O,T=b;
if(D){g=D.x;K=D.y;a=D.e;T=D.n}for(var C=0;C<T;C++)for(var F=0;F<a;F++){var m=g+F,N=K+C,U=N*O+m,v=U<<1,h=U<<2;
x.gO.avs(o,Z,$,(m+.5)*l,(N+.5)*q,L);var P=L[0]*d,J=L[1]*V;if(P==0&&J==0)c[U]=t[U];else{x.N.PU(m+P+.5,N+J+.5,t,O,b,c,U,k)}}};
x.gO.avs=function(w,M,O,b,D,o){b-=.499999;D-=.499999;var Z=~~b,$=~~D,k=b-Z,E=D-$,t=(1-E)*(1-k),c=(1-E)*k,l=E*(1-k),q=E*k,d=Z<M-1?Z+1:Z,V=$<O-1?$+1:$,L=$*M+Z<<1,e=$*M+d<<1,H=V*M+Z<<1,j=V*M+d<<1;
o[0]=t*w[L]+c*w[e]+l*w[H]+q*w[j];o[1]=t*w[L+1]+c*w[e+1]+l*w[H+1]+q*w[j+1]};x.gO.aiZ=function(w,M,O,b,D){var o=1/w,Z=[-1,1,-w,w],$=b.length;
for(var k=0;k<$;k++){var U=b[k],E=U<<1,t=k<<1,c=~~(U*o),l=U-w*c,q=O[E],d=O[E+1],V=0,L=0;if(l!=0&&l!=w-1){var e=U-1<<1,H=U+1<<1,j=O[e],g=O[H],K=O[e+1],a=O[H+1],T=q-(j+g)*.5,C=d-(K+a)*.5;
V-=T*D;L-=C*D}if(c!=0&&c!=M-1){var e=U-w<<1,H=U+w<<1,j=O[e],g=O[H],K=O[e+1],a=O[H+1],T=q-(j+g)*.5,C=d-(K+a)*.5;
V-=T*D;L-=C*D}O[E]=q+V;O[E+1]=d+L}};x.gO.ahb=function(w,M){var O=w+","+M;if(x.gO.hJ==O)return x.gO.c7;
var b=x.gO.c7=[];x.gO.hJ=O;for(var U=0;U<=1e3;U++){var D=U*.001,o=Math.sqrt(D),Z=Math.exp(-4*o),$=.96*(1-o*o),k=M*((1-w)*Z+w*$);
b[U]=k}return b};x.gO.hJ="";x.gO.c7=[];x.gO.apL=function(w,M,O,b,D,o,Z,$,k,E,t,c,l){var q=Math.max(0,Math.floor(D-Z-1)),d=Math.min(M,Math.ceil(D+Z+1)),V=Math.max(0,Math.floor(o-Z-1)),L=Math.min(O,Math.ceil(o+Z+1)),e=2*M,H=Z*Z,j=1/Z,g=0;
if(l&&(b==3||b==6))k=-k;var K=x.gO.ahb($,k);for(var a=V;a<L;a++)for(var T=q;T<d;T++){var U=a*M+T,C=U<<1,F=(D-T)*j,m=(o-a)*j,N=F*F+m*m;
if(N<1){c[g]=U;var v=K[~~(N*1e3)];if(b==1){w[C]=w[C]*(1-v*.05);w[C+1]=w[C+1]*(1-v*.05)}else{var h=0,P=0,B,S,r,I;
if(b==0){h=E*v;P=t*v}else if(b==2){}else if(b==3){h=v*m;P=-v*F}else if(b==4){h=v*F;P=v*m}else if(b==5){h=-v*F;
P=-v*m}else if(b==6){h=t*v;P=-E*v}var J=w[C],Y=w[C+1];if(T==0||T!=M-1&&h<0){B=1+w[C+2]-J;r=w[C+3]-Y}else{B=J-w[C-2]+1;
r=Y-w[C-1]}if(a==0||a!=O-1&&P<0){S=w[C+e]-J;I=1+w[C+e+1]-Y}else{S=J-w[C-e];I=Y-w[C-e+1]+1}w[C]=-(B*h+S*P-J);
w[C+1]=-(r*h+I*P-Y)}g++}}};x.gO.awL=function(w){var M=w[0],O=w[0],b=w[1],D=w[1];for(var U=0;U<w.length;
U+=2){var o=w[U],Z=w[U+1];if(o<M)M=o;else if(o>O)O=o;if(Z<b)b=Z;else if(Z>D)D=Z}return[M,b,O,D]};x.a2O=function(w,M,O,b,D){function o(p,b2,jz,aT){return Math.sqrt((p-jz)*(p-jz)+(b2-aT)*(b2-aT))}function Z(p,b2){return p>=0&&p<M&&b2>=0&&b2<O}function $(p){if(p<0)return 0;
if(p>=M)return M-1;return p}function k(p){if(p<0)return 0;if(p>=O)return O-1;return p}function E(U,p){var b2=p[3]*(1/255),jz=b[U]+p[0]*b2;
if(jz>255)jz=255;b[U]=jz;jz=b[U+1]+p[1]*b2;if(jz>255)jz=255;b[U+1]=jz;jz=b[U+2]+p[2]*b2;if(jz>255)jz=255;
b[U+2]=jz}function t(p,b2,jz){if(!f(p,b2))return;if(jz[3]<0)jz[3]=0;E((b2*M+p)*4,jz)}function c(p){var b2=p.slice(0,3);
b2[3]=0;return b2}var l=M/800;function q(p){return Math.round(p*l)}function d(){for(var U=0;U<=300;U++){W[U]=V(U)}}function V(O){var p=.8,b2=.2,jz=p*b2,aT=O/60%2-1,fZ=jz*(1-aT*aT),ft=b2-jz,cc;
if(O<60){cc=[jz+ft,fZ,0]}else if(O<120){cc=[fZ,jz,0]}else if(O<180){cc=[0,jz,fZ]}else if(O<240){cc=[0,fZ,jz]}else if(O<300){cc=[fZ,0,jz]}else{cc=[jz,0,fZ]}return[(cc[0]+ft)*255,(cc[1]+ft)*255,(cc[2]+ft)*255]}function L(O){return W[~~O]}function e(p){return 1-H(p)}function H(p){return p-~~p}function j(p,b2,jz,aT){r(p,b2,jz,0,b2+1,1,aT)}function g(p,b2,jz,aT,fZ,ft){r(p,b2,jz,0,aT,1,fZ,ft)}function K(p){for(var U=0;
U<b.length;U+=4){E(U,p)}}function a(p,b2,jz,aT,fZ,ft,cc,kr){T(p,b2,jz,aT,fZ,1,ft,cc,kr)}function T(p,b2,jz,aT,fZ,ft,cc,kr,hG){if(ft==null)ft=.5;
if(cc==null)cc=0;if(kr==null)kr=0;if(hG==null)hG=!1;var hi=p.x,bU=p.y,ic=jz.slice(0),iQ=~~(jz[3]*u);
aT=aT*u;if(!hG){b2=I(b2);fZ=I(fZ);cc=I(cc);kr=I(kr)}var bx=$(hi-b2),aR=$(hi+b2);for(var gs=bx;gs<=aR;
gs++){var k7=gs-hi,fT=Math.floor(Math.sqrt(b2*b2-k7*k7)),aH=k(bU-fT),e7=k(bU);for(var dB=aH;dB<=e7;dB++){var ia=o(gs,dB,hi,bU);
if(ia>b2||ia<=b2-fZ)break;var d7=(ia-b2+fZ)/fZ;ic[3]=iQ-aT*(ft==1?d7:Math.pow(d7,ft));E((dB*M+gs)*4,ic)}aH=k(bU+fT);
for(var dB=aH;dB>e7;dB--){var ia=o(gs,dB,hi,bU);if(ia>b2||ia<=b2-fZ)break;var d7=(ia-b2+fZ)/fZ;ic[3]=iQ-aT*(ft==1?d7:Math.pow(d7,ft));
E((dB*M+gs)*4,ic)}}if(cc>0){r(p,b2+cc,ic,ic[3],cc,1,0,0,!0)}if(kr>0){r(p,b2-fZ,s(jz),-jz[3],kr,1,0,0,!0)}}function C(p,b2,jz,aT,fZ,ft){r(p,b2,jz,jz[3],b2+1,1,aT,fZ,ft)}function F(p,b2,jz,aT,fZ){if(fZ==null)fZ=!1;
var ft=p.x,cc=p.y;aT*=u;if(!fZ){b2=I(b2);jz=I(jz)}var kr=$(ft-b2),hG=$(ft+b2);for(var hi=kr;hi<hG;hi++){var bU=hi-ft,ic=~~Math.sqrt(b2*b2-bU*bU),iQ=k(cc-ic),bx=k(cc);
for(var aR=iQ;aR<=bx;aR++){var gs=o(hi,aR,ft,cc);if(gs>b2||gs<=b2-jz)break;var k7=(b2-gs)/jz,fT=L(300*k7);
fT[3]=aT;E((aR*M+hi)*4,fT)}iQ=k(cc+ic);for(var aR=iQ;aR>bx;aR--){var gs=o(hi,aR,ft,cc);if(gs>b2||gs<=b2-jz)break;
var k7=(b2-gs)/jz,fT=L(300*k7);fT[3]=aT;E((aR*M+hi)*4,fT)}}}function m(i,p){var b2=i.Cy,jz=i.UF,aT=p.slice(0),fZ=p[3]*u,ft=Math.abs(jz.y-b2.y)>Math.abs(jz.x-b2.x);
if(ft){var cc=b2.x;b2.x=b2.y;b2.y=cc;cc=jz.x;jz.x=jz.y;jz.y=cc}if(b2.x>jz.x){var cc=b2;b2=jz;jz=cc}var kr=jz.x-b2.x,hG=jz.y-b2.y,hi=kr==0?1:hG/kr,bU=Math.round(b2.x),ic=b2.y+hi*(bU-b2.x),iQ=e(b2.x+.5),bx=bU,aR=~~ic;
if(ft){aT[3]=fZ*e(ic)*iQ;t(aR,bx,aT);aT[3]=fZ*H(ic)*iQ;t(aR+1,bx,aT)}else{aT[3]=fZ*e(ic)*iQ;t(bx,aR,aT);
aT[3]=fZ*H(ic)*iQ;t(bx,aR+1,aT)}var gs=ic-hi;bU=Math.round(jz.x);ic=jz.y+hi*(bU-jz.x);iQ=H(jz.x+.5);
var k7=bU,fT=~~ic;if(ft){aT[3]=fZ*e(ic)*iQ;t(fT,k7,aT);aT[3]=fZ*H(ic)*iQ;t(fT+1,k7,aT)}else{aT[3]=fZ*e(ic)*iQ;
t(k7,fT,aT);aT[3]=fZ*H(ic)*iQ;t(k7,fT+1,aT)}if(ft){for(var aH=bx+1;aH<=k7-1;aH++){aT[3]=fZ*e(gs);t(~~gs,aH,aT);
aT[3]=fZ*H(gs);t(~~gs+1,aH,aT);gs+=hi}}else{for(var aH=bx+1;aH<=k7-1;aH++){aT[3]=fZ*e(gs);t(aH,~~gs,aT);
aT[3]=fZ*H(gs);t(aH,~~gs+1,aT);gs+=hi}}}function N(p,b2,jz,aT){for(var U=0;U<4;U++){var fZ=p.yP(b2+1.3*U,jz);
m(fZ,aT,1)}}function at(p,b2){this.x=Math.round(p);this.y=Math.round(b2)}var v=Math.PI/180;at.prototype.yP=function(p,b2){p=p*v;
var jz=this.x+b2*Math.cos(p),aT=this.y+b2*Math.sin(p);return new h(this.x,this.y,jz,aT)};at.prototype.a9C=function(p,b2){p=p*v;
var jz=this.gQ+b2*Math.cos(p),aT=this.a7Z+b2*Math.sin(p);return new at(jz,aT)};function h(p,b2,jz,aT){this.Cy=new at(p,b2);
this.UF=new at(jz,aT)}h.prototype.DV=function(p){var b2=p*this.Cy.x+(1-p)*this.UF.x,jz=p*this.Cy.y+(1-p)*this.UF.y;
return new at(b2,jz)};var P=a,J=C,Y=j,B=g,S=F,r=T,I=q,f=Z,s=c,W=[];d();for(var U=0;U<w.length;U++){b[U]=w[U]}var i=new h(M*D[2],O*D[3],M/2,O/2),u=D[1],z=[];
z[0]=function G(){var p=[80,40,15,60],jz=0,aT=0;Y(i.DV(1.4),260,p,10);Y(i.DV(1),100,[240,50,50,30],30);
J(i.DV(1),60,[255,40,0,40]);var b2=[255,255,255,255];r(i.DV(1),70,b2,b2[3],58,.5);Y(i.DV(1),12,b2);b2[3]=40;
P(i.DV(1),150,b2,b2[3],150);for(var U=0;U<40;U++){jz+=Math.random()*25;aT=Math.random()*I(300)+I(100);
var fZ=i.DV(1).yP(jz,aT);m(i.DV(1).yP(jz,aT),[110,110,110,30])}J(i.DV(1),130,[255,255,255,8]);var ft=[170,30,23,70];
B(i.DV(1),70,ft,1,3,3);var cc=[60,60,130,40];Y(i.DV(.47),44,cc,5);Y(i.DV(.43),22,cc,3);cc[3]=16;Y(i.DV(.53),15,cc,2);
var kr=[138,94,42,100];Y(i.DV(.2),16,kr,2);var hG=[130,255,170,180];J(i.DV(0),4,hG);J(i.DV(-.25),5,hG);
kr=[150,90,0,50];P(i.DV(-.45),55,s(kr),-kr[3],40,2);Y(i.DV(-.42),35,kr,2);Y(i.DV(-.5),15,kr,2);S(i.DV(-1.28),145,11,70);
var hi=L(0);hi[3]=50;P(i.DV(-1.28),149,hi,hi[3],4);hi=L(300);hi[3]=50;P(i.DV(-1.28),155-1,s(hi),-hi[3],3);
var bU=[130,130,10,50];B(i.DV(-1),73,bU,3,2);var ic=[40,130,70,40];P(i.DV(-1),70,s(ic),-ic[3],35);ic=[40,170,60,50];
Y(i.DV(-.7),25,ic,4);var ic=[70,110,50,60];P(i.DV(1.3),30,s(ic),-ic[3],11,3);cc=[0,50,210,80];J(i.DV(-.72),20,cc)};
z[1]=function g_(){J(i.DV(1),150,[240,70,70,60]);Y(i.DV(1),100,[200,60,60,40],30);var p=[255,255,255,255],b2=0,jz=0;
r(i.DV(1),75,p,p[3],63);Y(i.DV(1),12,p);J(i.DV(1),270,[200,200,200,20],10);for(var U=0;U<10;U++){b2+=10+Math.random()*40;
jz=Math.random()*I(250)+I(80);var aT=i.DV(1).yP(b2,jz);m(aT,[110,110,110,35])}b2=5;jz=100;for(var U=0;
U<12;U++){b2+=30;N(i.DV(1),b2,jz,[90,90,90,40])}var fZ=[150,40,23,100];B(i.DV(1),70,fZ,1,3,3);var ft=[30,100,60,40];
J(i.DV(-.9),180,[255,255,255,20]);Y(i.DV(-.9),140,ft,15);var cc=[170,80,25,15];B(i.DV(-.9),120,cc,1,4,4);
var kr=[110,240,190,200];J(i.DV(-.6),3,kr);kr[3]=100;J(i.DV(-.6),7,kr);var hG=[230,120,40,85];J(i.DV(-.73),9,hG);
var hi=[60,60,190,50];Y(i.DV(.3),28,hi,6);hi[3]=25;Y(i.DV(.34),20,hi,3)};z[2]=function cl(){var p=[255,255,255,255],jz=0,aT=0;
Y(i.DV(1),13,p);r(i.DV(1),150,p,p[3],137);var b2=[120,80,35,20];Y(i.DV(1.4),260,b2,10);for(var U=0;U<40;
U++){jz+=5+Math.random()*30;aT=Math.random()*I(300);m(i.DV(1).yP(jz,aT),[110,110,110,20])}var fZ=[10,30,255,30];
Y(i.DV(1),70,fZ,50);var ft=[15,90,170,15];Y(i.DV(1.5),60,ft);var cc=[220,220,20,50];Y(i.DV(-1.15),8,cc,2);
var p=[255,255,255,40];J(i.DV(-1.18),6,p);J(i.DV(-1.18),4,p);cc=[110,110,10,8];P(i.DV(-1.2),32,s(cc),-cc[3],20,3);
var kr=[5,0,16,255];for(var U=0;U<4;U++){Y(i.DV(-1.36),10,kr,3)}var hG=[90,200,150,20],hi=hG.slice(0);
hi[3]*=2;Y(i.DV(-1.32),7,hi,3);Y(i.DV(-1.36),7,hi,3);Y(i.DV(-1.4),7,hi,3);var p=[230,230,230,100];J(i.DV(-1.36),2,p);
p[3]=3;Y(i.DV(-.55),10,p);cc=[120,100,10,18];Y(i.DV(-.55),160,cc,8);Y(i.DV(-.55),80,cc,4);hG[3]=3;hi[3]=6;
P(i.DV(-.49),13,s(hi),-hi[3],13,2);P(i.DV(-.55),13,s(hi),-hi[3],13,2);hG[3]=20;Y(i.DV(.15),25,hG,3);
cc[3]=100;J(i.DV(-.52),3,cc);cc=[200,200,50,40];Y(i.DV(.27),1,cc,4);var bU=[150,40,23,30];P(i.DV(1),80,s(bU),-bU[3],2,1)};
return z[D[0]]()};x.S3={};x.S3.lj=function(w){var M=w.length,aq=w[0].length,O=new Array(aq);for(var U=0;
U<aq;U++)O[U]=new Array(M);for(var U=0;U<aq;U++)for(var b=0;b<M;b++)O[U][b]=w[b][U];return O};x.S3._6=function(w,M){var O=w.length,aq=w[0].length,b=new Array(O);
for(var U=0;U<O;U++)b[U]=new Array(aq);for(var U=0;U<O;U++)for(var D=0;D<aq;D++)b[U][D]=w[U][D]-M[U][D];
return b};x.S3.add=function(w,M){var O=w.length,aq=w[0].length,b=new Array(O);for(var U=0;U<O;U++)b[U]=new Array(aq);
for(var U=0;U<O;U++)for(var D=0;D<aq;D++)b[U][D]=w[U][D]+M[U][D];return b};x.S3.multiply=function(w,M){var O=w.length,b=w[0].length,aq=M[0].length;
if(b!=M.length)throw"e";var D=new Array(O);for(var U=0;U<O;U++)D[U]=new Array(aq);if((b&1)!=0)for(var U=0;
U<O;U++){var o=w[U],Z=D[U];for(var $=0;$<aq;$++){var k=0;for(var E=0;E<b;E++)k+=o[E]*M[E][$];Z[$]=k}}else for(var U=0;
U<O;U++){var o=w[U],Z=D[U];for(var $=0;$<aq;$++){var k=0;for(var E=0;E<b;E+=2)k+=o[E]*M[E][$]+o[E+1]*M[E+1][$];
Z[$]=k}}return D};x.S3.rc=function(w,M){var O=w.length,aq=w[0].length,b=new Array(O);for(var U=0;U<O;
U++){var D=0;for(var o=0;o<aq;o++)D+=w[U][o]*M[o];b[U]=D}return b};x.S3.Os=function(w,M){var O=[];for(var U=0;
U<w;U++){O.push([]);for(var b=0;b<M;b++)O[U].push(0)}return O};x.S3.asq=function(w){for(var U=0;U<w.length;
U++)console.log(JSON.stringify(w[U]))};x.S3.a3U=function(w){var M=[];for(var U=0;U<w.length;U++)M.push(w[U].join(","));
return"["+M.join(";")+"]"};x.S3.zA=function(w,M){var O=w.length;for(var b=0;b<O;b++){var D=0,o=Number.NEGATIVE_INFINITY;
for(var U=b;U<O;U++)if(Math.abs(w[U][b])>o){D=U;o=Math.abs(w[U][b])}x.S3.an6(w,b,D);for(var U=b+1;U<O;
U++){if(w[b][b]==0)return 1;var Z=w[U][b]/w[b][b];for(var $=b;$<O+1;$++)w[U][$]-=w[b][$]*Z}}for(var U=O-1;
U>=0;U--){if(w[U][U]==0)return 1;var k=w[U][O]/w[U][U];M[U]=k;for(var $=U-1;$>=0;$--){w[$][O]-=w[$][U]*k;
w[$][U]=0}}return 0};x.S3.an6=function(w,M,O){var b=w[M];w[M]=w[O];w[O]=b};x.S3.ajS=function(w){var M=w.length,O=x.S3.Os(M,M);
for(var U=0;U<M;U++)O[U][U]=w[U];return O};x.S3.ajY=function(w){var M=w.length,O=w[0].length,b=new Array(M);
for(var U=0;U<M;U++){b[U]=0;for(var D=0;D<O;D++)b[U]+=w[U][D];b[U]/=O}return b};x.S3.hW=function(w){var M=0;
for(var U=0;U<w.length;U++)M+=w[U]*w[U];return Math.sqrt(M)};x.in={};x.in.yN=function(w){var M=~~(w+.5);
return M<0?0:M>255?255:M};x.in.transform=function(w,M,O){var b=x.in.yN,D=w.o.length;for(var U=0;U<D;
U++){var o=w.o[U],Z=w.w[U],$=w.L[U];M.o[U]=b(O[0]*o+O[1]*Z+O[2]*$+O[3]*255);M.w[U]=b(O[4]*o+O[5]*Z+O[6]*$+O[7]*255);
M.L[U]=b(O[8]*o+O[9]*Z+O[10]*$+O[11]*255)}};x.in.gc=function(w,M,O){var b=x.in.yN,D=w.length;for(var U=0;
U<D;U+=4){var o=w[U],Z=w[U+1],$=w[U+2];M[U]=b(O[0]*o+O[1]*Z+O[2]*$+O[3]*255);M[U+1]=b(O[4]*o+O[5]*Z+O[6]*$+O[7]*255);
M[U+2]=b(O[8]*o+O[9]*Z+O[10]*$+O[11]*255)}};x.in.q3=function(w){var M=w[0]+w[1]+w[2],O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];
if(M==1){var b=w.indexOf(1);O[b]=O[b+4]=O[b+8]=1}else{O[0]=w[0];O[5]=w[1];O[10]=w[2]}return O};x.in.Hc=function(w,M,O){return[1,0,0,w,0,1,0,M,0,0,1,O,0,0,0,1]};
x.in._I=function(w,M,O){return[w,0,0,0,0,M,0,0,0,0,O,0,0,0,0,1]};x.in.avy=function(w){return[w[0],w[1],w[2],w[4],w[5],w[6],w[8],w[9],w[10]]};
x.in.Du=function(w){return[w[0],w[1],w[2],0,w[3],w[4],w[5],0,w[6],w[7],w[8],0,0,0,0,1]};x.in.Tl=function(w,M){return[w[0]*M[0]+w[1]*M[1]+w[2]*M[2]+w[3]*M[3],w[4]*M[0]+w[5]*M[1]+w[6]*M[2]+w[7]*M[3],w[8]*M[0]+w[9]*M[1]+w[10]*M[2]+w[11]*M[3],w[12]*M[0]+w[13]*M[1]+w[14]*M[2]+w[15]*M[3]]};
x.in.lj=function(w){var M=[];M[0]=w[0];M[1]=w[4];M[2]=w[8];M[3]=w[12];M[4]=w[1];M[5]=w[5];M[6]=w[9];
M[7]=w[13];M[8]=w[2];M[9]=w[6];M[10]=w[10];M[11]=w[14];M[12]=w[3];M[13]=w[7];M[14]=w[11];M[15]=w[15];
return M};x.in.add=function(w,M){var O=w.slice(0);for(var U=0;U<16;U++)O[U]+=M[U];return O};x.in.multiply=function(w,M){var O=[];
O[0]=w[0]*M[0]+w[1]*M[4]+w[2]*M[8]+w[3]*M[12];O[1]=w[0]*M[1]+w[1]*M[5]+w[2]*M[9]+w[3]*M[13];O[2]=w[0]*M[2]+w[1]*M[6]+w[2]*M[10]+w[3]*M[14];
O[3]=w[0]*M[3]+w[1]*M[7]+w[2]*M[11]+w[3]*M[15];O[4]=w[4]*M[0]+w[5]*M[4]+w[6]*M[8]+w[7]*M[12];O[5]=w[4]*M[1]+w[5]*M[5]+w[6]*M[9]+w[7]*M[13];
O[6]=w[4]*M[2]+w[5]*M[6]+w[6]*M[10]+w[7]*M[14];O[7]=w[4]*M[3]+w[5]*M[7]+w[6]*M[11]+w[7]*M[15];O[8]=w[8]*M[0]+w[9]*M[4]+w[10]*M[8]+w[11]*M[12];
O[9]=w[8]*M[1]+w[9]*M[5]+w[10]*M[9]+w[11]*M[13];O[10]=w[8]*M[2]+w[9]*M[6]+w[10]*M[10]+w[11]*M[14];O[11]=w[8]*M[3]+w[9]*M[7]+w[10]*M[11]+w[11]*M[15];
O[12]=w[12]*M[0]+w[13]*M[4]+w[14]*M[8]+w[15]*M[12];O[13]=w[12]*M[1]+w[13]*M[5]+w[14]*M[9]+w[15]*M[13];
O[14]=w[12]*M[2]+w[13]*M[6]+w[14]*M[10]+w[15]*M[14];O[15]=w[12]*M[3]+w[13]*M[7]+w[14]*M[11]+w[15]*M[15];
return O};x.in.ZW=function(w){var M=[];M[0]=w[5]*w[10]*w[15]-w[5]*w[14]*w[11]-w[6]*w[9]*w[15]+w[6]*w[13]*w[11]+w[7]*w[9]*w[14]-w[7]*w[13]*w[10];
M[1]=-w[1]*w[10]*w[15]+w[1]*w[14]*w[11]+w[2]*w[9]*w[15]-w[2]*w[13]*w[11]-w[3]*w[9]*w[14]+w[3]*w[13]*w[10];
M[2]=w[1]*w[6]*w[15]-w[1]*w[14]*w[7]-w[2]*w[5]*w[15]+w[2]*w[13]*w[7]+w[3]*w[5]*w[14]-w[3]*w[13]*w[6];
M[3]=-w[1]*w[6]*w[11]+w[1]*w[10]*w[7]+w[2]*w[5]*w[11]-w[2]*w[9]*w[7]-w[3]*w[5]*w[10]+w[3]*w[9]*w[6];
M[4]=-w[4]*w[10]*w[15]+w[4]*w[14]*w[11]+w[6]*w[8]*w[15]-w[6]*w[12]*w[11]-w[7]*w[8]*w[14]+w[7]*w[12]*w[10];
M[5]=w[0]*w[10]*w[15]-w[0]*w[14]*w[11]-w[2]*w[8]*w[15]+w[2]*w[12]*w[11]+w[3]*w[8]*w[14]-w[3]*w[12]*w[10];
M[6]=-w[0]*w[6]*w[15]+w[0]*w[14]*w[7]+w[2]*w[4]*w[15]-w[2]*w[12]*w[7]-w[3]*w[4]*w[14]+w[3]*w[12]*w[6];
M[7]=w[0]*w[6]*w[11]-w[0]*w[10]*w[7]-w[2]*w[4]*w[11]+w[2]*w[8]*w[7]+w[3]*w[4]*w[10]-w[3]*w[8]*w[6];M[8]=w[4]*w[9]*w[15]-w[4]*w[13]*w[11]-w[5]*w[8]*w[15]+w[5]*w[12]*w[11]+w[7]*w[8]*w[13]-w[7]*w[12]*w[9];
M[9]=-w[0]*w[9]*w[15]+w[0]*w[13]*w[11]+w[1]*w[8]*w[15]-w[1]*w[12]*w[11]-w[3]*w[8]*w[13]+w[3]*w[12]*w[9];
M[10]=w[0]*w[5]*w[15]-w[0]*w[13]*w[7]-w[1]*w[4]*w[15]+w[1]*w[12]*w[7]+w[3]*w[4]*w[13]-w[3]*w[12]*w[5];
M[11]=-w[0]*w[5]*w[11]+w[0]*w[9]*w[7]+w[1]*w[4]*w[11]-w[1]*w[8]*w[7]-w[3]*w[4]*w[9]+w[3]*w[8]*w[5];M[12]=-w[4]*w[9]*w[14]+w[4]*w[13]*w[10]+w[5]*w[8]*w[14]-w[5]*w[12]*w[10]-w[6]*w[8]*w[13]+w[6]*w[12]*w[9];
M[13]=w[0]*w[9]*w[14]-w[0]*w[13]*w[10]-w[1]*w[8]*w[14]+w[1]*w[12]*w[10]+w[2]*w[8]*w[13]-w[2]*w[12]*w[9];
M[14]=-w[0]*w[5]*w[14]+w[0]*w[13]*w[6]+w[1]*w[4]*w[14]-w[1]*w[12]*w[6]-w[2]*w[4]*w[13]+w[2]*w[12]*w[5];
M[15]=w[0]*w[5]*w[10]-w[0]*w[9]*w[6]-w[1]*w[4]*w[10]+w[1]*w[8]*w[6]+w[2]*w[4]*w[9]-w[2]*w[8]*w[5];var O=w[0]*M[0]+w[1]*M[4]+w[2]*M[8]+w[3]*M[12];
for(var U=0;U<16;U++)M[U]/=O;return M};x.in.akJ=function(w){var M=[],O=w[5]*w[10]*w[15]-w[5]*w[14]*w[11]-w[6]*w[9]*w[15]+w[6]*w[13]*w[11]+w[7]*w[9]*w[14]-w[7]*w[13]*w[10],b=-w[4]*w[10]*w[15]+w[4]*w[14]*w[11]+w[6]*w[8]*w[15]-w[6]*w[12]*w[11]-w[7]*w[8]*w[14]+w[7]*w[12]*w[10],D=w[4]*w[9]*w[15]-w[4]*w[13]*w[11]-w[5]*w[8]*w[15]+w[5]*w[12]*w[11]+w[7]*w[8]*w[13]-w[7]*w[12]*w[9],o=-w[4]*w[9]*w[14]+w[4]*w[13]*w[10]+w[5]*w[8]*w[14]-w[5]*w[12]*w[10]-w[6]*w[8]*w[13]+w[6]*w[12]*w[9];
return w[0]*O+w[1]*b+w[2]*D+w[3]*o};x.in.SU=x.in.Du([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]);
x.in.ahV=x.in.Du([1.9624274,-.6105343,-.3413404,-.9787684,1.9161415,.033454,.0286869,-.1406752,1.3487655]);
x.in.a5=x.in.ZW(x.in.SU);x.yi={};x.yi.Sv=new Uint32Array(1);x.yi.wS=function(w,M,O,b,D,o){var Z=new Uint32Array(w),$=0,k=x.yi.Sv;
if(k.length<M*4)x.yi.Sv=k=new Uint32Array(M*4);var E=new Float64Array(k.buffer);for(var U=0;U<M;U+=2){var t=D[U],c=D[U+1],l=o[U],q=o[U+1];
k[$]=c;E[$+2>>1]=l;k[$+1]=Z[t];Z[t]=$+1;$+=4;k[$]=t;E[$+2>>1]=q;k[$+1]=Z[c];Z[c]=$+1;$+=4}return{H4:k,a6o:E,anN:Z}};
x.yi.zA=function(w,M,O,b,D,o,Z){var $=1,k=x.yi.wS(w,M,O,b,D,o),E=k.H4,t=k.a6o,c=k.anN,l=new Uint32Array(w),q=new x.yi.eA(w),V=1,g=0;
q.push(O);q.push(b);var d=new x.yi.eA(w),L=new Uint8Array(w),e=new Uint32Array(w);L[O]=1;L[b]=2;var H=new Uint32Array(w),j=new Uint32Array(w);
j[O]=j[b]=0;H[O]=H[b]=1;while(!0){var K=-1,v=0,Y=1e30;while(!q.Zw()&&K==-1){var a=q.top(),T=L[a],C=c[a]-1;
while(C!=-1){var F=E[C],m=L[F],N=C^T-1<<2;if(t[N+2>>1]!=0){if(m==0){x.yi.ZH(a,C,F,L,e,j,H);q.push(F)}else if(m==T&&H[F]<=H[a]&&j[F]>j[a])x.yi.ZH(a,C,F,L,e,j,H);
else if(m!=T){K=N}}C=E[C+1]-1}if(K!=-1)break;q.pop()}if(K==-1){break}V++;var h=K;while(h!=-1){l[v]=h;
v++;h=e[E[h^4]]-1}var P=v>>1;for(var U=0;U<P;U++){var J=l[U];l[U]=l[v-U-1];l[v-U-1]=J}h=e[E[K]]-1;while(h!=-1){l[v]=h^4;
v++;h=e[E[h^4]]-1}for(var U=0;U<v;U++)Y=Math.min(Y,t[l[U]+2>>1]);g+=Y;if(g>=Z)return{QE:null,n2:g};for(var U=0;
U<v;U++){var B=l[U],S=B^4,a=E[S],F=E[B];t[B+2>>1]-=Y;t[S+2>>1]+=Y;if(t[B+2>>1]==0&&L[a]==L[F]){if(L[a]==1){e[F]=0;
d.push(F)}if(L[a]==2){e[a]=0;d.push(a)}}}while(!d.Zw()){var a=d.pop(),T=L[a],C=c[a]-1,r=T==1?4:0,I=0,f=0,s=1e9;
while(C!=-1){var F=E[C],W=C^4,N=C^r;if(L[F]==T&&t[N+2>>1]>0&&x.yi.a0Y(F,O,b,e,E,V,H,j)+1<s){I=F;f=W;
s=j[F]+1}C=E[C+1]-1}if(f!=0){x.yi.ZH(I,f,a,L,e,j,H);continue}C=c[a]-1;while(C!=-1){var F=E[C],N=C^r;
if(L[F]==T){if(t[N+2>>1]>0){q.push(F)}if(e[F]==C+1){e[F]=0;d.push(F)}}C=E[C+1]-1}L[a]=0;q.remove(a)}}var i=[];
for(var U=0;U<M;U+=2){var a=D[U],F=D[U+1];if(L[a]==1&&L[F]!=1){i.push(U>>1)}if(L[F]==1&&L[a]!=1){i.push(M+U>>1)}}return{QE:i,n2:g}};
x.yi.ZH=function(w,M,O,b,D,o,Z){b[O]=b[w];D[O]=M+1;o[O]=o[w]+1;Z[O]=Z[w]};x.yi.a0Y=function(w,M,O,b,D,o,Z,$){var k=w,E=b[w]-1,t=0;
while(E!=-1&&Z[w]!=o){w=D[E^4];E=b[w]-1;t++}if(E==-1&&w!=M&&w!=O)return 1e9;var c=$[w]+t;t=0;E=b[k]-1;
while(k!=w){$[k]=c-t;t++;Z[k]=o;k=D[E^4];E=b[k]-1}return c};x.yi.abo=function(w,M,O,b,D,o){var Z=x.yi.wS(w,M,O,b,D,o),$=Z.H4,k=Z.a6o,E=Z.anN,t=0,c=0,l=new Uint32Array(w*2),q=new x.yi.hU(w),d=0;
while(!0){q.reset();q.push(O);for(var U=0;U<w;U++)l[U<<1]=0;while(!q.Zw()){var V=q.pop(),L=E[V]-1;while(L!=-1){d=$[L];
if(l[d<<1]==0&&k[L+2>>1]>0&&d!=O){l[d<<1]=V+1;l[(d<<1)+1]=L;q.push(d)}L=$[L+1]-1}if(l[b<<1]!=0){break}}if(l[b<<1]==0){break}var e=1e30;
d=b;while(!0){var H=l[d<<1]-1;if(H==-1)break;var j=l[(d<<1)+1];e=Math.min(e,k[j+2>>1]);d=H}d=b;while(!0){var H=l[d<<1]-1;
if(H==-1)break;var j=l[(d<<1)+1],g=j^4;k[j+2>>1]-=e;k[g+2>>1]+=e;d=H}t+=e}var K=[];for(var U=0;U<M;U+=2){var H=D[U],d=D[U+1];
if((l[H<<1]!=0||H==O)&&l[d<<1]==0&&d!=O){K.push(U>>1)}if((l[d<<1]!=0||d==O)&&l[H<<1]==0&&H!=O){K.push(M+U>>1)}}return{QE:K,n2:t}};
x.yi.hU=function(w){w|=w>>1;w|=w>>2;w|=w>>4;w|=w>>8;w|=w>>16;this.QX=new Uint32Array(w+1);this.B5=w;
this.T6=0;this.lp=0};x.yi.hU.prototype={push:function(w){var M=this.lp;this.QX[M]=w;this.lp=M+1&this.B5},pop:function(){var w=this.T6,M=this.QX[w];
this.T6=w+1&this.B5;return M},Zw:function(){return this.T6==this.lp},reset:function(){this.T6=0;this.lp=0}};
x.yi.eA=function(w){w|=w>>1;w|=w>>2;w|=w>>4;w|=w>>8;w|=w>>16;this.QX=new Uint32Array(w+1);this.CR=new Uint32Array(w+1);
this.B5=w;this.T6=0;this.lp=0};x.yi.eA.prototype={top:function(){return this.QX[this.T6]},a8i:function(){return this.QX[this.lp]},push:function(w){if(this.CR[w]!=0)return;
this.CR[w]=this.lp+1;var M=this.lp;this.QX[M]=w;this.lp=M+1&this.B5},pop:function(){var w=this.T6,M=this.QX[w];
this.CR[M]=0;this.T6=w+1&this.B5;return M},Zw:function(){return this.T6==this.lp},remove:function(w){var M=this.CR[w]-1;
if(M==-1)return;this.CR[w]=0;if(M==this.T6){this.pop();return}var O=this.pop();this.QX[M]=O;this.CR[O]=M+1},QT:function(U){return U+this.B5+1&this.B5}};
x.yi.vm=function(w,M,O){var b=x.yi._j(w,M,O);if(M<b-1)x.yi.vm(w,M,b-1);if(b<O)x.yi.vm(w,b,O)};x.yi._j=function(w,M,O){var b=w[M+O>>>1];
while(M<=O){while(w[M]<b)M++;while(w[O]>b)O--;if(M<=O){x.yi.Kj(w,M,O);M++;O--}}return M};x.yi.Kj=function(w,M,O){var b=w[M];
w[M]=w[O];w[O]=b};x.lK={};x.lK.W1=function(w){for(var U=0;U<w.length;U++)x.lK.OQ(w,U)};x.lK.OQ=function(w,U){w[U].v.keyShapeInvalidated={t:"bool",v:!0}};
x.lK.ax2=function(w){for(var U=0;U<w.length;U++)w[U].v.keyOriginIndex.v=U};x.lK.KS=function(){return{t:"Objc",v:{classID:"null",keyOriginIndex:{t:"long",v:0},keyShapeInvalidated:{t:"bool",v:!0}}}};
x.lK.jv=function(w){w=w.v;var M={Rctn:2,Ln:4,Elps:5},O=M[w.classID],b=w.topLeft?x.lK.tV(w):null,D=null,o=0,Z=[!1,!1,0,0,0];
if(O==4){var $=w.Strt.v,k=w.End.v;D=[$.Hrzn.v.val,$.Vrtc.v.val,k.Hrzn.v.val,k.Vrtc.v.val];o=w.Wdth.v.val;
for(var U=0;U<2;U++){var E=w[U==0?"StrA":"EndA"];if(E==null)continue;E=E.v;Z[U]=E.On.v;Z[2]=E.Wdth.v;
Z[3]=E.Lngt.v;Z[4]=E.Cncv.v.val}}if(O==null)return null;return x.lK.ad(O,O==4?null:x.lK.HI(w),b,D,o,Z)};
x.lK.W$=function(w,M,O,b,D,o,Z){var $={classID:w,unitValueQuadVersion:{t:"long",v:1}};if(M)x.lK.UU($,["Left","Top","Rght","Btom"],M);
if(O)x.lK.UU($,["topLeft","topRight","bottomRight","bottomLeft"],O);if(w=="Ln"){$.Strt={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:b[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:b[1]}}}},$.End={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:b[2]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:b[3]}}}},$.Wdth={t:"UntF",v:{type:"#Pxl",val:D}};
for(var U=0;U<2;U++){var k=U==0?"StrA":"EndA";$[k]={t:"Objc",v:{classID:"cArw",On:{t:"bool",v:Z[U]},Wdth:{t:"doub",v:Z[2]},Lngt:{t:"doub",v:Z[3]},Cncv:{t:"UntF",v:{type:"#Prc",val:Z[4]}}}}}}if(o)$.Nm={t:"TEXT",v:o};
return{t:"Objc",v:$}};x.lK.fw=function(w,M){var O=x.lK.Xq(w),b=w[2]-w[0],D=w[3]-w[1],o=Math.sqrt(b*b+D*D),Z=[0,0,o,0,o,M,0,M],$=new f$;
$.rotate(-O);$.translate(w[0],w[1]);x.p.F(Z,$,Z);return Z};x.lK.ad=function(w,M,O,b,D,o){var Z=x.lK.KS(),$=Z.v,k;
delete $.keyShapeInvalidated;$.keyOriginType={t:"long",v:w};$.keyOriginResolution={t:"doub",v:75};if(w==4){$.keyOriginLineStart={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:b[0]},Vrtc:{t:"doub",v:b[1]}}};
$.keyOriginLineEnd={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:b[2]},Vrtc:{t:"doub",v:b[3]}}};k=x.lK.fw(b,D);
var E=x.p.qe(k);M=[E.x,E.y,E.x+E.e,E.y+E.n];$.keyOriginLineWeight={t:"doub",v:D};if(o)x.lK.ah8($,o)}else k=[M[0],M[1],M[2],M[1],M[2],M[3],M[0],M[3]];
$.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};x.lK.fZ($,"keyOriginBoxCorners",k);var t={classID:"unitRect",unitValueQuadVersion:{t:"long",v:1}};
$.keyOriginShapeBBox={t:"Objc",v:t};x.lK.n6($,M);if(O!=null){var c={classID:"radii",unitValueQuadVersion:{t:"long",v:1}};
$.keyOriginRRectRadii={t:"Objc",v:c};x.lK.GK($,O)}return Z};x.lK.F=function(w,M,O,b){var D=x.N.oZ(M),o=x.N.Ns(M);
for(var U=0;U<w.length;U++){var Z=w[U].v;if(!x.lK.HL(Z))continue;if(O.length!=0&&O.indexOf(U)==-1)continue;
var $=Z.keyOriginType.v,k=["keyOriginPolyTrueRectCorners","keyOriginBoxCorners"];for(var E=0;E<k.length;
E++){var t=x.lK.aK(Z,k[E]);if(t==null)continue;x.N.F(M,t);x.lK.fZ(Z,k[E],t);var c=x.p.qe(t);x.lK.n6(Z,[c.x,c.y,c.x+c.e,c.y+c.n]);
var l=new f$;l.rotate(-x.lK.Xq(t));var q={classID:"Trnf"};Z.Trnf={t:"Objc",v:q};var d="xx xy yx yy tx ty".split(" "),V=[l.ip,l.L,l.Hv,l.uc,l.hE,l.Qw];
for(var L=0;L<6;L++)q[d[L]]={t:"doub",v:V[L]}}if($==2&&b){var e=x.lK.RJ(Z);for(var E=0;E<4;E++)e[E]=Math.round(e[E]*M[0]);
x.lK.GK(Z,e)}var t=x.lK.aK(Z,"keyOriginBoxCorners"),H=t[2]-t[0],j=t[3]-t[1],g=Math.sqrt(H*H+j*j);H/=g;
j/=g;var K=t[6]-t[0],a=t[7]-t[1],T=Math.sqrt(K*K+a*a);K/=T;a/=T;if($==4){Z.keyOriginLineWeight.v=T;var C=x.lK.zj(Z);
x.N.F(M,C);x.lK.a0s(Z,C)}var F=H*K+j*a;if(Math.abs(F)>.001){x.lK.OQ(w,U)}}};x.lK.HL=function(w){var M=w.keyShapeInvalidated,O=w.keyOriginType;
return(M==null||!M.v)&&O!=null&&O.v!=9};x.lK.aim=function(w){var M=w.keyOriginType.v,O=x.lK.DI(w),b=O[0],D=O[1],o=O[2],Z=O[3],$=new f$,k=w.keyOriginPolyCornerRadius,q;
k=k?k.v:0;var E=x.lK.aK(w,M==7||M==8?"keyOriginPolyTrueRectCorners":"keyOriginBoxCorners"),t=x.lK.Nb(E),c=t[2],l=t[3];
b=-c/2;o=c/2;D=-l/2;Z=l/2;$.rotate(-x.lK.Xq(E));$.hE=t[0];$.Qw=t[1];if(M==1||M==2){var d=M==1?0:x.lK.RJ(w);
q=x.O.U_.Rect(b,D,o-b,Z-D,d)}else if(M==4){var V=x.lK.zj(w),L=x.lK.afg(w);$=new f$;if(L==null)q=x.O.U_.nY(V[0],V[1],V[2],V[3],w.keyOriginLineWeight.v);
else q=x.O.U_.xO(V[0],V[1],V[2],V[3],w.keyOriginLineWeight.v,L)}else if(M==5){q=x.O.U_.A1(b,D,o-b,Z-D)}else if(M==7||M==8){var e=M==7?3:w.keyOriginPolySides.v;
q=x.O.U_.vQ(0,0,100,Math.PI/e-Math.PI/2,e,k,o,Z)}x.O.I0(q,$);return q};x.lK.OW=function(w,M){var O=M.j;
for(var U=0;U<w.length;U++){var b=w[U].v;if(!x.lK.HL(b))continue;var D=x.lK.aim(b),o=x.O.r$(O,U),Z=x.O.Gd(O,U);
D[2].K$=O[o].K$;var $=O;O=O.slice(0,o);for(var k=2;k<D.length;k++)O.push(D[k]);for(var k=o+Z;k<$.length;
k++)O.push($[k])}M.j=O;M.iD=!0};x.lK.C9=function(w){var M=1e9,O=-M,b=1e9,D=-b,o=[],Z=w.ff(),$=Z[0],k=Z[1];
for(var E=0;E<k.length;E++){var t=$[k[E]],c=t.add.vogk;if(c==null)continue;var l=t.add.vmsk.g;for(var q=0;
q<c.length;q++){var d=c[q].v,e=0;if(!x.lK.HL(d))continue;if(k.length==1&&l.length!=0&&l.indexOf(q)==-1)continue;
var V=d.keyOriginType.v;if(V==9)continue;var L=x.lK.DI(d);M=Math.min(M,L[0]);b=Math.min(b,L[1]);O=Math.max(O,L[2]);
D=Math.max(D,L[3]);var H=x.lK.aK(d,"keyOriginBoxCorners");if(H){var j=x.lK.Nb(H),g=j[2],K=j[3];L[2]=L[0]+g;
L[3]=L[1]+K;e=x.lK.Xq(H)}var a=[V,L,e];o.push(a);if(V==2)a.push(x.lK.RJ(d));if(V==7||V==8)a.push(d.keyOriginPolyCornerRadius.v);
if(V==8)a.push(d.keyOriginPolySides.v)}}return o.length==1?o[0]:[0,M<O?[M,b,O,D]:null,0]};x.lK.Xq=function(w){var M=w[2]-w[0],O=w[3]-w[1];
return-Math.atan2(-O,M)};x.lK.atG=function(w,M){var O=x.lK.C9(w),b=-1;for(var U=0;U<M.length;U++)if(JSON.stringify(M[U])!=JSON.stringify(O[U]))b=U;
if(b==1||b==2){}var D=w.ff(),o=D[0],Z=D[1];for(var $=0;$<Z.length;$++){var k=o[Z[$]],E=k.add.vogk;if(E==null)continue;
var t=k.add.vmsk.g;for(var c=0;c<E.length;c++){var l=E[c].v;if(!x.lK.HL(l))continue;if(Z.length==1&&t.length!=0&&t.indexOf(c)==-1)continue;
var q=l.keyOriginType.v;if(b==1||b==2){x.lK.F(E,x.lK.ahA(b,l,O,M),t,!1);break}if(b==3)if(q==2)x.lK.GK(l,M[3]);
else l.keyOriginPolyCornerRadius.v=M[3];if(b==4)l.keyOriginPolySides.v=M[4]}}};x.lK.ahA=function(w,M,O,b){var D=b[1],o=O[1],Z=(D[2]-D[0])/(o[2]-o[0]),$=(D[3]-D[1])/(o[3]-o[1]),k=new f$;
if(w==1){if(Math.max(Math.abs(Z-1),Math.abs($-1))>1e-8){var E=D[0],t=D[1];if(b[0]!=0){var c=x.lK.aK(M,"keyOriginBoxCorners");
E=c[0];t=c[1]}k.translate(-E,-t);k.rotate(b[2]);k.scale(Z,$);k.rotate(-b[2]);k.translate(E,t)}else{k.translate(-o[0],-o[1]);
k.translate(D[0],D[1])}}else{if(b[0]!=0)D=x.lK.DI(M);var E=(D[0]+D[2])/2,t=(D[1]+D[3])/2;k.translate(-E,-t);
if(O[0]!=0)k.rotate(O[2]);k.rotate(-b[2]);k.translate(E,t)}return x.N.iq(k)};x.lK.Nb=function(w){var M=w[0],O=w[1],b=w[2],D=w[3],o=w[4],Z=w[5],$=w[6],k=w[7],E=b-M,t=D-O,c=Math.sqrt(E*E+t*t),E=o-b,t=Z-D,l=Math.sqrt(E*E+t*t);
return[(M+o)/2,(O+Z)/2,c,l]};x.lK.aK=function(w,M){var O=w[M];if(O==null)return null;var b=[];O=O.v;
for(var D=0;D<4;D++){var o=O["rectangleCorner"+["A","B","C","D"][D]].v;b.push(o.Hrzn.v,o.Vrtc.v)}return b};
x.lK.fZ=function(w,M,O){var b=w[M];if(b==null)return null;b=b.v;for(var D=0;D<4;D++){var o="rectangleCorner"+["A","B","C","D"][D];
b[o]={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:O[2*D]},Vrtc:{t:"doub",v:O[2*D+1]}}}}};x.lK.DI=function(w){return x.lK.HI(w.keyOriginShapeBBox.v)};
x.lK.HI=function(w){var M=w.classID,O=w.Left.v,b=w.Rght.v,D=w.Top.v,o=w.Btom.v;if(M=="unitRect"||M=="radii"||M=="Rctn"){O=O.val;
b=b.val;D=D.val;o=o.val}return[O,D,b,o]};x.lK.n6=function(w,M){x.lK.UU(w.keyOriginShapeBBox.v,["Left","Top","Rght","Btom"],M)};
x.lK.RJ=function(w){return x.lK.tV(w.keyOriginRRectRadii.v)};x.lK.tV=function(w){var M=[],O=["topLeft","topRight","bottomRight","bottomLeft"];
for(var b=0;b<4;b++)M.push(w[O[b]].v.val);return M};x.lK.GK=function(w,M){x.lK.UU(w.keyOriginRRectRadii.v,["topLeft","topRight","bottomRight","bottomLeft"],M)};
x.lK.UU=function(w,M,O){var b=w.classID;if(b=="unitRect"||b=="radii"||b=="Rctn"){for(var U=0;U<4;U++)if(O[U]!=null)w[M[U]]={t:"UntF",v:{type:"#Pxl",val:O[U]}}}else{for(var U=0;
U<4;U++)if(O[U]!=null)w[M[U]]={t:"doub",v:O[U]}}};x.lK.zj=function(w){var M=w.keyOriginLineStart.v,O=w.keyOriginLineEnd.v;
return[M.Hrzn.v,M.Vrtc.v,O.Hrzn.v,O.Vrtc.v]};x.lK.a0s=function(w,M){var O=w.keyOriginLineStart.v,b=w.keyOriginLineEnd.v;
O.Hrzn.v=M[0];O.Vrtc.v=M[1];b.Hrzn.v=M[2];b.Vrtc.v=M[3]};x.lK.afg=function(w){var M=[],O=["owSt","owEnd","Wdth","Lngth","Conc"];
for(var U=0;U<5;U++){var b=w["keyOriginLineArr"+O[U]];if(b==null)return null;M[U]=b.v}return M};x.lK.ah8=function(w,M){w.keyOriginLineArrowSt={t:"bool",v:M[0]};
w.keyOriginLineArrowEnd={t:"bool",v:M[1]};w.keyOriginLineArrWdth={t:"doub",v:M[2]};w.keyOriginLineArrLngth={t:"doub",v:M[3]};
w.keyOriginLineArrConc={t:"long",v:M[4]}};x.lK.avu=function(w){function M(T,C){return Math.abs(T-C)<.5}function O(T,C){return M(T.x,C.x)&&M(T.y,C.y)}function b(T,C,F,m,N,v,h){for(var U=0;
U<h;U++){var P=T[C+(F+U)%h],J=m[N+(v+U)%h];if(!(O(P.I,J.I)&&O(P.vA,J.vA)&&O(P.YJ,J.YJ)))return!1}return!0}var D=[],o=x.O.wW(w);
for(var Z=0;Z<o;Z++){var $=null,k=x.O.r$(w,Z),E=w[k];if(E.length==4||E.length==8){var t=x.O.mw(w.slice(0,2).concat(w.slice(k,k+E.length+1)));
k=2;if(E.length==4){var c=x.O.Bh(t,k+1,4),l=c.x,q=c.y,L=l+c.e,e=q+c.n;if(c.v()>4){if(x.O.WG(t.slice(k-2,k+5)))$=x.lK.ad(2,[l,q,L,e],[0,0,0,0]);
else{var H=-1;for(var U=0;U<4;U++)if(M(t[k+1+U].I.y,e))H=U;if(H!=-1){var j=x.O.U_.A1(l,q,L-l,e-q),g=b(t,k+1,H,j,3,0,4);
if(g)$=x.lK.ad(5,[l,q,L,e])}}}}if(E.length==8){var c=x.O.Bh(t,k+1,8),l=c.x,q=c.y,L=l+c.e,e=q+c.n;if(c.v()>4){var H=-1;
for(var U=0;U<8;U++)if(M(t[k+1+(U+1&7)].I.y,q)&&M(t[k+1+(U+2&7)].I.y,q))H=U;if(H!=-1){var K=Math.abs(t[k+1+H].I.y-q),a=[K,K,K,K];
if(K>.5){var j=x.O.U_.Rect(l,q,L-l,e-q,a),g=b(t,k+1,H,j,3,0,8);if(g)$=x.lK.ad(2,[l,q,L,e],a)}}}}}D.push($?$:x.lK.KS())}return D};
x.p={};x.p.clone=function(w){return{H:w.H.slice(0),C:w.C.slice(0)}};x.p.gq=function(w){if(w.length<6)return!0;
var M=w.length-4;for(var U=0;U<M;U+=2)if(!x.p.PK(w[U],w[U+1],w[U+2],w[U+3],w[U+4],w[U+5]))return!1;if(!x.p.PK(w[M],w[M+1],w[M+2],w[M+3],w[0],w[1]))return!1;
if(!x.p.PK(w[M+2],w[M+3],w[0],w[1],w[2],w[3]))return!1;return!0};x.p.PK=function(w,M,O,b,D,o){return(M-b)*(D-O)+(O-w)*(o-b)>=0};
x.p.Yr=function(w){var M={},O=null,b=0,D={M:2,L:2,Q:4,C:6},o="",Z="";for(var U=0;U<w.H.length;U++){var $=w.H[U];
if($[0]=="#")o=$;else if($[0]=="X")o="";else if($[0]=="O"&&$[1]=="-")Z=$;else if($=="OX")Z="";else{var k=o+Z;
O=M[k];if(O==null)O=M[k]={C:[],H:[]};O.H.push($);var E=D[$];if(E==null)E=0;for(var t=0;t<E;t++)O.C.push(w.C[b+t]);
b+=E}}return M};x.p.ZD=function(w,M,O){var b=w[M]-w[O-2],D=w[M+1]-w[O-1];return b*b+D*D<1e-4};x.p.aG=function(w,M,O){w=x.p.ci(w);
var b=w.C,D=w.H,o=0,Z="",$=0,k=0,o=0,c=null;for(var U=0;U<D.length;U++){var E=D[U];if(E=="M"){$=b[o];
k=b[o+1];o+=2;Z=E}if(E=="C"){if(Z=="Z"){D.splice(U,0,"M");b.splice(o,0,$,k);U--;continue}o+=6;Z=E}if(E=="Z"){Z=E}}var t=[];
o=0;for(var U=0;U<D.length;U++){var E=D[U];if(E=="M"){c={l2:o,w_:0,$G:!1};t.push(c);o+=2}if(E=="C"){c.w_++;
o+=6}if(E=="Z"&&c!=null){c.$G=!0}}var l=[];for(var U=0;U<t.length;U++)if(t[U].w_!=0)l.push(t[U]);t=l;
for(var U=0;U<t.length;U++){var q=t[U],d=q.l2,V=d+2+q.w_*6,e=0;q.Gh=x.p.qe(b,d,V);var L=x.p.ZD(b,d,V);
for(var H=0;H<q.w_;H++){var j=d+H*6,g=j+6;e+=(b[g]-b[j])*(b[g+1]+b[j+1])}if(q.w_==2){var K=function(g_,cl,p){var b2=1-p;
return b2*b2*b2*g_[cl]+3*b2*b2*p*g_[cl+2]+3*b2*p*p*g_[cl+4]+p*p*p*g_[cl+6]},a=b[d],T=b[d+1],C=b[d+6],F=b[d+7],m=b[d+6],N=b[d+7],v=K(b,d,.5),h=K(b,d+1,.5),P=K(b,d+6,.5),J=K(b,d+7,.5);
e=(v-a)*(h-T)+(C-v)*(F-h)+(P-C)*(J-F)+(m-P)*(N-J)}if(!L)e+=(b[d]-b[V-2])*(b[d+1]+b[V-1]);q.Ei=e<=0}for(var U=0;
U<t.length-1;U++)for(var j=U+1;j<t.length;j++){var Y=t[U],B=t[j];if(B.Gh.Ar(Y.Gh)){t[U]=B;t[j]=Y}}var S=t.length==0?!0:t[0].Ei,r=[{type:6},{type:8,all:0}];
for(var U=0;U<t.length;U++){var q=t[U],d=q.l2,V=d+2+q.w_*6,L=x.p.ZD(b,d,V),I=q.$G||L?0:3,f=q.Ei==S&&!M?1:0;
if(!M&&U!=0){if(t[U-1].Gh.Ar(q.Gh)&&t[U-1].Ei!=q.Ei)f=0;for(var j=0;j<t.length;j++)if(j!=U&&t[j].Gh.Ar(q.Gh))f=0}r.push({type:I,length:q.w_+(L?0:1),K$:O?1:f,pa:2});
for(var j=0;j<q.w_;j++){var o=d+j*6,s=new at(b[o],b[o+1]),W=new at(b[o+2],b[o+3]),i;if(j==0){if(L){i=new at(b[V-4],b[V-3]);
if(at.we(i,s)<1e-5)i=s.clone()}else i=s.clone()}else i=new at(b[o-2],b[o-1]);r.push({type:I+2,vA:i,I:s,YJ:W})}if(!L){var u=new at(b[V-2],b[V-1]);
r.push({type:I+2,vA:new at(b[V-4],b[V-3]),I:u,YJ:u.clone()})}}for(var j=0;j<r.length;j++){var z=r[j];
if(z.type>5||z.type==0||z.type==3)continue;var G=z.vA.M5(z.I)||z.YJ.M5(z.YJ);if(!G){var Y=z.vA.x*(z.I.y-z.YJ.y)+z.I.x*(z.YJ.y-z.vA.y)+z.YJ.x*(z.vA.y-z.I.y);
if(Math.abs(Y)<1e-6)G=!0}if(G)z.type--}return r};x.p.vn=function(w,M){var O=x.O.wW(w),b=[];for(var U=2;
U<w.length;U++){var D=w[U].K$;if(D!=null){if(D==2||D==0||D==3)b.push(D)}}var o=b.length!=0;if((o||M)&&w.length<15e3&&1<O&&O<200)w=x.O.Qa(w);
var Z=x.p.EK(w);return{cG:Z,Sf:o?1:0}};x.p.EK=function(){function w(b,D,o,Z){if(!Z&&b.YJ.M5(b.I)&&D.vA.M5(D.I)){o.C.push(D.I.x,D.I.y);
o.H.push("L")}else{var $=b.I,k=b.YJ,E=D.vA,t=D.I,c=3/2*k.x-1/2*$.x,l=3/2*k.y-1/2*$.y,q=3/2*E.x-1/2*t.x,d=3/2*E.y-1/2*t.y,V=q-c,L=d-l;
if(!Z&&V*V+L*L<.001){o.C.push((c+q)*.5,(l+d)*.5,t.x,t.y);o.H.push("Q")}else{o.C.push(k.x,k.y,E.x,E.y,t.x,t.y);
o.H.push("C")}}}function M(b,D,U,o,Z,$){var k=D[U];b.C.push(k.I.x,k.I.y);b.H.push("M");for(var E=U;E<U+o-1;
E++)w(D[E],D[E+1],b,$);if(!Z)w(D[E],D[U],b,$)}function O(b,D){b=x.O.mw(b);if(D==null)D=!1;var o={C:[],H:[]};
for(var U=0;U<b.length;U++){if(b[U].type>5)continue;var Z=b[U].length;if(Z==0)continue;if(U==b.length-1)break;
var $=b[U].type==3;M(o,b,U+1,Z,$,D);if(!$)o.H.push("Z");U+=Z}return o}return O}();x.p.aaf=function(w){var M=w.C,O=[],b,D=0;
for(var U=0;U<w.H.length;U++){var o=w.H[U];if(o=="C"){b.push(M[D++],M[D++],M[D++],M[D++],M[D++],M[D++])}else if(o=="Z"){}else{b=[];
if(o!="M"){b.push(o);U++}b.push(M[D++],M[D++]);O.push(b)}}return O};x.p.A6=function(w,M,O,b){if(b==null)b=1e9;
var D=1e9,o=0;for(var U=0;U<w.length;U+=2){var Z=M-w[U],$=O-w[U+1],k=Z*Z+$*$;if(k<D){D=k;o=U>>>1}}return D<b*b?o:-1};
x.p.yL=function(w,M,O,b){for(var U=0;U<w.length;U+=2){var D=w[U],o=w[U+1],Z=M[U],$=M[U+1];O[U]=D+(Z-D)*b;
O[U+1]=o+($-o)*b}};x.p.F=function(w,M,O){for(var U=0;U<w.length;U+=2){var b=w[U],D=w[U+1];O[U]=b*M.ip+D*M.Hv+M.hE;
O[U+1]=b*M.L+D*M.uc+M.Qw}};x.p.qe=function(w,M,O){if(M==null)M=0;if(O==null)O=w.length;var b=99999999999,D=-b,o=99999999999,Z=-o;
for(var U=M;U<O;U+=2){var $=w[U],k=w[U+1];b=Math.min(b,$);o=Math.min(o,k);D=Math.max(D,$);Z=Math.max(Z,k)}return new cn(b,o,D-b,Z-o)};
x.p.EU=function(w,M){var O=Math.max(M.x,Math.min(M.x+M.e,w.x)),b=Math.max(M.y,Math.min(M.y+M.n,w.y)),D=w.x-O,o=w.y-b;
return Math.sqrt(D*D+o*o)};x.p.Mf=function(w){if(w.S9())return new cn(Math.floor(w.x),Math.floor(w.y),Math.ceil(w.e),Math.ceil(w.n));
var M=Math.floor(w.x),O=Math.ceil(w.x+w.e),b=Math.floor(w.y),D=Math.ceil(w.y+w.n);return new cn(M,b,O-M,D-b)};
x.p.Kc=function(w){return x.p.Mf(x.p.qe(w))};x.p.zl=function(w){var M=w.x,O=w.y,b=w.x+w.e,D=w.y+w.n;
return{H:["M","L","L","L","Z"],C:[M,O,b,O,b,D,M,D]}};x.p.concat=function(w,M,O){if(O==null)O=new f$;
for(var U=0;U<M.C.length;U+=2){var b=M.C[U],D=M.C[U+1];w.C.push(b*O.ip+D*O.Hv+O.hE);w.C.push(b*O.L+D*O.uc+O.Qw)}for(var U=0;
U<M.H.length;U++)w.H.push(M.H[U])};x.p.ci=function(w){var M=w.C,O=[],b=[],D=0,o=0,Z=0,$=0,k=0,E=0,t=0,c=0,l=0,q=0,d=0;
for(var U=0;U<w.H.length;U++){var V=w.H[U];if(V=="M"){o=M[D];Z=M[D+1];D+=2;b.push(V);O.push(o,Z);q=o;
d=Z}else if(V=="C"){$=M[D];k=M[D+1];E=M[D+2];t=M[D+3];c=M[D+4];l=M[D+5];D+=6;b.push(V);O.push($,k,E,t,c,l);
o=c;Z=l}else if(V=="Q"){$=M[D];k=M[D+1];E=M[D+2];t=M[D+3];D+=4;var L=$-o,e=k-Z,H=E-$,j=t-k;b.push("C");
O.push(o+2/3*L,Z+2/3*e,$+1/3*H,k+1/3*j,E,t);o=E;Z=t}else if(V=="L"){$=M[D];k=M[D+1];D+=2;if($!=o||k!=Z){b.push("C");
O.push(o,Z,$,k,$,k);o=$;Z=k}}else{if(V=="Z"){o=q;Z=d}b.push(V)}}return{H:b,C:O}};x.p.abL=function(w){var M=w.C,O=[],b=[],D=0;
for(var U=0;U<w.H.length;U++){var o=w.H[U];if(o=="Q"){var Z=M[D-2],$=M[D-1],k=M[D],E=M[D+1],t=M[D+2],c=M[D+3];
D+=4;var l=k-Z,q=E-$,d=t-k,V=c-E;b.push("C");O.push(Z+2/3*l,$+2/3*q,k+1/3*d,E+1/3*V,t,c)}else{var L=0;
if(o=="M"||o=="L")L=2;else if(o=="C")L=6;for(var e=0;e<L;e++)O.push(M[D+e]);D+=L;b.push(o)}}return{H:b,C:O}};
x.p.SH=function(w,M){var O=w.C,b=[],D=[],o=0,Z=0,$=0,k=0,E=0,t=0,c=0,l=0,q=0;for(var U=0;U<w.H.length;
U++){var d=w.H[U];if(d=="M"){Z=O[o];$=O[o+1];o+=2;D.push(d);b.push(Z,$)}else if(d=="C"){k=O[o];E=O[o+1];
t=O[o+2];c=O[o+3];l=O[o+4];q=O[o+5];o+=6;x.p.cN(Z,$,k,E,t,c,l,q,M,D,b,0);Z=l;$=q}else D.push(d)}return{H:D,C:b}};
x.p.cN=function(w,M,O,b,D,o,Z,$,k,E,t,c){var l=Math.sqrt((Z-w)*(Z-w)+($-M)*($-M)),q=Math.sqrt((Z-D)*(Z-D)+($-o)*($-o))+Math.sqrt((D-O)*(D-O)+(o-b)*(o-b))+Math.sqrt((O-w)*(O-w)+(b-M)*(b-M)),d=(l+q)/2;
if(d<=k){E.push("C");t.push(O,b,D,o,Z,$)}else{var V=0,L=0,e=0,H=0,j=0,g=0,K=0,a=0,T=0,C=0,F=0,m=0,N=0;
L=(w+O)/2;e=(M+b)/2;H=(O+D)/2;j=(b+o)/2;g=(D+Z)/2;K=(o+$)/2;a=(L+H)/2;T=(e+j)/2;C=(H+g)/2;F=(j+K)/2;
m=(a+C)/2;N=(T+F)/2;x.p.cN(w,M,L,e,a,T,m,N,k,E,t,c+1);x.p.cN(m,N,C,F,g,K,Z,$,k,E,t,c+1)}};x.p.Sh=function(w,M,O,b,D){var o=Date.now(),Z=x.p.aeq(w,M,O);
if(D){console.log("trace polygons",Date.now()-o);o=Date.now()}var $=[];for(var U=0;U<Z.length;U++){var k=Z[U],E=k[0],t=["M"],c=w[E[1]*M+E[0]];
if(E.length>8)E=x.p.u0(E,b,k[1]);if(E.length<=4)continue;for(var l=2;l<E.length;l+=2)t.push("L");t.push("Z");
$.push({path:{C:E,H:t},color:c,parent:-1,Gh:x.p.qe(E)})}if(D){console.log("simplify polygons",Date.now()-o);
o=Date.now()}for(var U=1;U<$.length;U++){var q=$[U],d=q.path.C,V=d[0],L=d[1],e=d[2],H=d[3],j=e-V,g=H-L,K=V+.5*j-.001*g,a=L+.5*g+.001*j;
for(var l=U-1;l>=0;l--){var T=$[l];if(!T.Gh.Ar(q.Gh))continue;if(!iL.$y(T.path.C,K,a))continue;q.parent=l;
break}}if(D){console.log("checking parents",Date.now()-o);o=Date.now()}return $};x.p.aeq=function(w,M,O){var b=M*O,D=new Uint16Array(M*O),Z=0;
for(var U=0;U<b;U++)D[U]=w[U];var o=new Uint8Array(M*O);o[1*M+1]=o[(O-1)*M+1]=o[1*M+M-1]=o[(O-1)*M+M-1]=1;
for(var $=1;$<O;$++)for(var k=1;k<M;k++){var U=$*M+k,E=D[U-M-1],t=D[U-M],c=D[U-1],l=D[U],q=E==l&&t==c&&E!=t,d=0;
if(l<c){Z=l;l=c;c=Z}if(c<t){Z=c;c=t;t=Z}if(t<E){Z=t;t=E;E=Z}if(l<c){Z=l;l=c;c=Z}if(c<t){Z=c;c=t;t=Z}if(l<c){Z=l;
l=c;c=Z}if(E!=t)d++;if(t!=c)d++;if(c!=l)d++;if(l!=E)d++;if(d>=3||q)o[U]=1}var V=[];for(var $=1;$<O;$++)for(var k=1;
k<M;k++){var U=$*M+k;if(D[U]!=D[U-1]){var L=x.p.a6u(D,M,O,k,$),e=[];for(var H=0;H<L.length;H+=2)if(o[L[H+1]*M+L[H]]==1)e.push(H>>>1);
V.push([L,e]);x.p.DX(D,M,O,k,$)}}return V};x.p.DX=function(w,M,O,b,D){var o=[D*M+b],Z=w[D*M+b];w[D*M+b]=65535;
while(o.length!=0){var U=o.pop();w[U]=0;if(w[U+M]==Z){o.push(U+M);w[U+M]=65535}if(w[U-M]==Z){o.push(U-M);
w[U-M]=65535}if(w[U-1]==Z){o.push(U-1);w[U-1]=65535}if(w[U+1]==Z){o.push(U+1);w[U+1]=65535}}};x.p.a6u=function(w,M,O,b,D){var o=[0,-1,1,0,0,1,-1,0],t=1;
function Z(l,q,t){var U=E*M+k,d=0;if(t==0)d=U-M;else if(t==1)d=U;else if(t==2)d=U-1;else if(t==3)d=U-M-1;
return w[d]}var $=[],k=b,E=D,c=Z(k,E,t);do{$.push(k,E);k+=o[t*2];E+=o[t*2+1];if(Z(k,E,t)!=c)t=t+1&3;
else if(Z(k,E,t+3&3)!=c)t=t;else if(Z(k,E,t+2&3)!=c)t=t+3&3}while(k!=b||E!=D);return $};x.p.u0=function(w,M,O){var b=w.length-2;
if(O&&O.length!=0){var D=O[0]*2,o=O[O.length-1]*2,Z=D==0?b:D-2,$=w.slice(o);for(var U=0;U<D;U++)$.push(w[U]);
if(D==o)$.push(.9*w[D]+.1*w[Z],.9*w[D+1]+.1*w[Z+1]);else $.push(w[D],w[D+1]);$=x.p.uT($,M);$.pop();$.pop();
for(var U=0;U<O.length-1;U++){var k=w.slice(O[U]*2,O[U+1]*2+2);k=x.p.uT(k,M);for(var E=0;E<k.length-2;
E++)$.push(k[E])}return $}var t=w.slice(0);t.push(.9*w[0]+.1*w[b],.9*w[1]+.1*w[b+1]);t=x.p.uT(t,M);t.pop();
t.pop();return t};x.p.uT=function(w,M){var O=w.length-2,b=w[0],D=w[1],o=w[O],Z=w[O+1],$=o-b,k=Z-D,E=1/Math.sqrt($*$+k*k),t=o*D-Z*b,c=-1,l=-1,q=0;
for(var U=2;U<O;U+=2){var d=w[U],V=w[U+1],L=V*V*1e6+d*d,e=Math.abs(k*d-$*V+t)*E;if(e>l||e==l&&L>q){l=e;
c=U;q=L}}if(l<M)return[b,D,o,Z];var H=x.p.uT(w.slice(0,c+2),M),j=x.p.uT(w.slice(c),M);for(var U=2;U<j.length;
U++)H.push(j[U]);return H};x.p.a6U=function(){var w=function(b,D,o,Z,$,k){return(D-Z)*($-o)+(o-b)*(k-Z)>=0},M=function(b,D,o,Z,$,k,E,t){var c=E-o,l=t-Z,q=$-o,d=k-Z,V=b-o,L=D-Z,e=c*c+l*l,H=c*q+l*d,j=c*V+l*L,g=q*q+d*d,K=q*V+d*L,a=1/(e*g-H*H),T=(g*j-H*K)*a,C=(e*K-H*j)*a;
return T>=0&&C>=0&&T+C<1},O=function(b){var aq=b.length>>>1,U=0;if(aq<3)return[];var D=[],o=[];for(var U=0;
U<aq;U++)o.push(U);var Z=aq;while(Z>3){var $=o[(U+0)%Z],k=o[(U+1)%Z],E=o[(U+2)%Z],t=b[2*$],c=b[2*$+1],l=b[2*k],q=b[2*k+1],d=b[2*E],V=b[2*E+1],L=!1;
if(w(t,c,l,q,d,V)){L=!0;for(var e=0;e<Z;e++){var H=o[e];if(H==$||H==k||H==E)continue;if(M(b[2*H],b[2*H+1],t,c,l,q,d,V)){L=!1;
break}}}if(L){D.push($,k,E);o.splice((U+1)%Z,1);Z--;U=0}else if(U++>3*Z)break}D.push(o[0],o[1],o[2]);
return D};return O}();x.p.adg=function(w,M){var O={},b={H:[],C:[]};for(var U=0;U<M.length;U+=3){var D=M[U]*2,o=M[U+1]*2,Z=M[U+2]*2;
x.p.gD(w,D,o,b,O);x.p.gD(w,D,Z,b,O);x.p.gD(w,o,Z,b,O)}return b};x.p.gD=function(w,M,O,b,D){if(M>O){var o=O;
O=M;M=o}if(D[M+","+O])return;D[M+","+O]=!0;b.H.push("M","L");b.C.push(w[M],w[M+1],w[O],w[O+1])};x.p.rR=function(w,M){var O=[],b=w.length;
for(var U=0;U<b;U+=2){var D=w[U],o=w[U+1],Z=w[(U+2)%b],$=w[(U+3)%b];if($<o){var k=o;o=$;$=k}if(o<M&&M<$){var E=(M-o)/($-o);
O.push(D+E*(Z-D))}}O.sort(function(t,c){return t-c});return O};x.p.JO=function(w,M,O,b,D,o,Z){var $=w-O,k=M-b,E=D-O,t=o-b,c=1/Math.sqrt($*$+k*k),l=1/Math.sqrt(E*E+t*t),q=$*c,d=k*c,V=E*l,L=t*l,e=d*Z,H=-q*Z,j=-L*Z,g=V*Z,K=x.p.vW(e,H,q,d,j,g,V,L),a=e+q*K,T=H+d*K,K=x.p.vW(0,0,q,d,a,T,-d,q),C=q*K,F=d*K;
return[Math.sqrt(C*C+F*F),q,d,V,L]};x.p.anC=function(w,M,O,b,D,o,Z){var $=x.p.JO(w,M,O,b,D,o,Z),k=$[0],E=$[1],t=$[2],c=$[3],l=$[4],q=Math.atan2(E*l-t*c,E*c+t*l);
if(q<0){q=q*-1}var d=Math.PI-q,V=4/3*Math.tan(d/4),L=O+k*E,e=b+k*t,H=O+k*c,j=b+k*l,g=L+V*Z*-E,K=e+V*Z*-t,a=H+V*Z*-c,T=j+V*Z*-l;
return[0,0,L,e,g,K,a,T,H,j]};x.p.vW=function(w,M,O,b,D,o,Z,$){var k=Z*(M-o)-$*(w-D),E=$*O-Z*b;if(E==0)return 0;
return k/E};x.p.ask=function(w,M,O,b,D,o){return w*(b-o)+O*(o-M)+D*(M-b)};x.p.aux=function(w){function M(P,J,Y,B,S,r,I,f,s){var W=x.p.vW(P,J,Y,B,S,r,I,f);
s.push(P+Y*W,J+B*W)}var O=[],b=w.length,D=[];for(var U=0;U<b;U+=2){var o=U==0?b-2:U-2,Z=U==b-2?0:U+2,$=w[U],k=w[U+1],E=$-w[o],t=k-w[o+1],c=w[Z]-$,l=w[Z+1]-k,q=Math.sqrt(E*E+t*t),d=Math.sqrt(c*c+l*l);
D.push(d);var V=q/(q+d),L=$-E*.5,e=k-t*.5,H=$+c*.5,j=k+l*.5,g=(w[Z]+w[o])*.5,K=(w[Z+1]+w[o+1])*.5,a=L+V*(H-L),T=e+V*(j-e),C=$-a,F=k-T,m=(c*-E+l*-t)/(q*d),N=(V-.5)*7,v=1+N*V,h=1-N*(1-V);
O.push(L+C*v,e+F*v,H+C*h,j+F*h)}return O};x.G0=function(){};x.G0.Ua=function(w,M,O,b,D){var o=O.e,Z=O.n,$=o*Z,k=new Int32Array($),aq=0;
for(var U=0;U<$;U++)if(M[U]!=0){k[U]=aq;aq++}else if(w[(U<<2)+3]<200){k[U]=-2}else k[U]=-1;if(aq==0)return;
var E=new x.ZA(aq,aq),t=new Array(3*aq),c=new Array(3*aq);for(var U=0;U<c.length;U++)c[U]=t[U]=0;var l=1/255,q=[-o,-1,1,o],d=[],V=[];
for(var L=0;L<Z;L++)for(var e=0;e<o;e++){var H=L*o+e,j=H<<2,U=k[H],g=U*3,K=0,a=0,T=0;if(U==-1||U==-2)continue;
for(var C=0;C<4;C++){if(C==2){a=T;d[T]=0;V[T]=U;T++}var F=H+q[C],m=F<<2,N=k[F];if(C==0&&L==0||C==1&&e==0||C==2&&e==o-1||C==3&&L==Z-1||N==-2)continue;
K++;if(N==-1){t[g+0]+=w[m+0];t[g+1]+=w[m+1];t[g+2]+=w[m+2]}else{d[T]=-1;V[T]=N;T++;if(M[H]==M[F]){t[g+0]+=w[j+0]-w[m+0];
t[g+1]+=w[j+1]-w[m+1];t[g+2]+=w[j+2]-w[m+2]}}}d[a]=K;E.PW(d,V,T)}for(var U=0;U<$;U++)if(k[U]!=-1){var v=U<<2,h=k[U],P=h*3;
c[P]=w[v+0];c[P+1]=w[v+1];c[P+2]=w[v+2]}var J=Date.now();E.a5R(c,t,b,D);console.log(Date.now()-J);for(var U=0;
U<$;U++){var h=k[U],Y=h*3,v=U<<2;if(h==-1||w[v+3]!=255)continue;w[v+0]=~~(.5+Math.max(0,Math.min(255,c[Y+0])));
w[v+1]=~~(.5+Math.max(0,Math.min(255,c[Y+1])));w[v+2]=~~(.5+Math.max(0,Math.min(255,c[Y+2])))}};x.rect={};
x.rect.ih=function(w,M){var O=[w],b=[];for(var U=0;U<M.length;U++){var D=M[U],o=!1;for(var Z=U+1;Z<M.length;
Z++){var $=M[Z];if($[0]<=D[0]&&$[1]<=D[1]&&D[2]<=$[2]&&D[3]<=$[3]){o=!0;break}}if(!o)b.push(D)}M=b;for(var U=0;
U<M.length;U++){var D=M[U];for(var Z=0;Z<O.length;Z++){var $=O[Z],k=Math.max(D[0],$[0]),E=Math.min(D[2],$[2]),t=Math.max(D[1],$[1]),c=Math.min(D[3],$[3]);
if(k<E&&t<c){var l=[];if($[1]<D[1]){var q=$.slice(0);q[3]=D[1];l.push(q)}if($[0]<D[0]){var d=$.slice(0);
d[1]=t;d[2]=D[0];l.push(d)}if(D[2]<$[2]){var V=$.slice(0);V[1]=t;V[0]=D[2];l.push(V)}if(D[3]<$[3]){var L=[k,c,E,$[3]];
l.push(L)}if(l.length!=0){O[Z]=l[0];for(var e=1;e<l.length;e++)O.push(l[e])}}}O.push(D);O=x.rect.aoP(O)}O.sort(function(D,$){return D[1]!=$[1]?D[1]-$[1]:D[0]-$[0]});
for(var U=1;U<O.length;U++){var D=O[U-1],$=O[U];if(D[0]==$[0]&&D[1]==$[1]&&D[2]==$[2]&&D[3]==$[3]){O.splice(D[4]==null?U-1:U,1);
U--}}return O};x.rect.aoP=function(w){w=w.slice(0);for(var U=0;U<w.length;U++){var M=w[U],O=null;if(M[4]!=null)continue;
for(var b=0;b<w.length;b++){var D=w[b];if(U==b||D[4]!=null)continue;var o=M[0]==D[0],Z=M[1]==D[1],$=M[2]==D[2],k=M[3]==D[3];
if(Z&&k&&(M[2]==D[0]||M[0]==D[2])){O=[Math.min(M[0],D[0]),M[1],Math.max(M[2],D[2]),M[3]]}if(o&&$&&(M[3]==D[1]||M[1]==D[3])){O=[M[0],Math.min(M[1],D[1]),M[2],Math.max(M[3],D[3])]}if(O){w[U]=O;
w.splice(b,1);break}}if(O){U--}}return w};x.rect.Xv=function(w){var M=new cn;for(var U=0;U<w.length;
U++)M=M.MK(w[U]);return M};x.rect.a5J=function(w,M){var O=x.rect.Xv,b=new UnionFind(w.length),a=1e3,T=1e3;
for(var U=0;U<w.length;U++)for(var D=U+1;D<w.length;D++){if(!M)continue;var o=w[U],Z=w[D],c=1e9,l=1e9;
if(o.Yt(Z)){b.link(U,D);continue}var $=o.x+o.e,k=o.y+o.n,E=Z.x+Z.e,t=Z.y+Z.n;if(($<Z.x||E<o.x)&&(k<Z.y||t<o.y))continue;
if(!(k<Z.y||t<o.y))c=Math.min(Math.abs($-Z.x),Math.abs(o.x-E));if(!($<Z.x||E<o.x))l=Math.min(Math.abs(k-Z.y),Math.abs(o.y-t));
var q=Math.min(c,l),d=Math.min(o.e,o.n,Z.e,Z.n);if(q<.3*d)b.link(U,D)}var V=[],L={};for(var U=0;U<w.length;
U++){var e=b.find(U),H=w[U];if(L[e]==null){L[e]=V.length;V.push([])}V[L[e]].push(H)}var j=[],g=[];for(var U=0;
U<V.length;U++){j.push(O(V[U]));var K=O(V[U]);K.QT=U;g.push(K)}g.sort(function(B,S){return Math.max(S.n,S.e)-Math.max(B.n,B.e)});
var C=new NETXUS.RectanglePacker(a,T);while(!0){var F=!1;C.reset(a,T);for(var U=0;U<g.length;U++){var m=C.findCoords(g[U].e,g[U].n);
if(m){g[U].x=m.x;g[U].y=m.y}else{a=Math.floor(a*1.1);T=Math.floor(T*1.1);F=!0;break}}if(F)continue;break}for(var U=0;
U<V.length;U++){var N=g[U],v=N.QT,h=j[v],P=V[v],J=N.x-h.x,Y=N.y-h.y;for(var D=0;D<P.length;D++)P[D].offset(J,Y)}};
x.Rk=function(){};x.Rk.qC=Math.floor(16*window.devicePixelRatio);x.Rk.gr={};x.Rk.oI=0;x.Rk.pD=[[12,76,2],[12,76,3],[12,76,4],[12,76,5],[12,76,6]];
x.Rk.af9=["px","in","cm","mm","%"];x.Rk.pw=function(w,M,O,b){var D=[1,M,M/2.54,M/25.4,O/100][b];return w*D};
x.Rk.a7P=function(w,M,O,b){var D=[1,M,M/2.54,M/25.4,O/100][b];return w/D};x.Rk.Ms=function(w,M,O,b,D){var o=O.sw.OF,Z=[1,M,M/2.54,M/25.4,b/100][o],$=[2,3,2,1,2][o];
w=w/Z;var k=Math.round(w),E=o==0&&Math.abs(w-k)<1e-6?k+"":w.toFixed($);if(D)E+=" "+x.Rk.af9[o];return E};
x.Rk.asY=function(w,M,O,b){var D=O.sw.OF,o=[1,M,M/2.54,M/25.4,b/100][D];w=parseFloat(w)*o;return w};
x.Rk.a1h=function(w,M){var O=w+","+M;if(x.Rk.gr.clr==O)return;var b=Math.round(x.Rk.qC*.5);x.Rk.oI=b;
var D=document.createElement("canvas");D.width=D.height=b;var o=D.getContext("2d");o.font=b*1.5+"px monospace";
var Z="0 1 2 3 4 5 6 7 8 9 -".split(" ");for(var U=0;U<Z.length;U++){o.fillStyle="#"+x.zZ(M);o.fillRect(0,0,b,b);
o.fillStyle="#"+x.zZ(w);o.fillText(Z[U],0,b);x.Rk.gr[Z[U]]=o.getImageData(0,0,b,b).data}x.Rk.gr.clr=O};
x.Rk.anV=function(w,M,O){var b=0,D=0,o=4*x.Rk.qC;for(var U=9;U>=0;U--){var Z=Math.pow(10,U);if(5*Z*w<=o){b=5*Z;
D=10;break}if(2*Z*w<=o){b=2*Z;D=4;break}if(1*Z*w<=o){b=1*Z;D=10;break}}if(b==0){b=1;D=10}var $=Math.ceil(b*w),k=x.$($*x.Rk.qC*4);
x.TZ(k,4278190080|O);for(var U=0;U<x.Rk.qC;U++)x.Rk.PA(k,4*U*$,M);for(var U=0;U<$;U++)x.Rk.PA(k,4*((x.Rk.qC-1)*$+U),M);
if(b==2)D=2;if(b==5)D=5;if(b>1||b==1&&$>20)for(var U=1;U<D;U++)x.Rk.akH(k,U*($/D),$,(U&1)==1?.8:.7,M);
return{cB:k,step:b}};x.Rk.akH=function(w,M,O,b,D){var M=Math.round(M);for(var o=Math.round(x.Rk.qC*b);
o<x.Rk.qC-1;o++)x.Rk.PA(w,4*(o*O+M),D)};x.Rk.PA=function(w,M,O){w[M+0]=O>>16&255;w[M+1]=O>>8&255;w[M+2]=O&255};
x.Rk.atK=function(w,M,O,b,D,o,Z){var $=w.iu.e,k=w.iu.n,E=x.Rk.qC,t=M&255,c=M>>8&255,l=M>>16&255;M=Math.round(t*.6)<<16|Math.round(c*.6)<<8|Math.round(l*.6);
x.Rk.a1h(Math.round(t*.8)<<16|Math.round(c*.8)<<8|Math.round(l*.8),O);var q=w.T,d=w.z,V=w.td;for(var L=0;
L<2;L++){var e=L==0?o:Z;w.T=e[0];w.z=e[1];w.td=0;var H=this.anV(w.T,M,O),j=w.ep(0,0),g=w.ep($,k),K=Math.floor(j.x/H.step)*H.step,a=Math.ceil(g.x/H.step)*H.step,T=Math.floor(j.y/H.step)*H.step,C=Math.ceil(g.y/H.step)*H.step,F=w.hP(K,T),m=w.hP(a,T),N=H.step*w.T,v=Math.ceil(N);
if(L==1){var h=H.cB;H.cB=x.$(h.length*4);x.N.lj(h,H.cB,v,E)}var P=L==0?w.MW.data:w.Zk.data,J=new cn(0,0,[$,E][L],[E,k][L]),Y=new cn(0,0,[v,E][L],[E,v][L]),B=new cn([0,Math.round(E*.2)][L],[Math.round(E*.08),0][L],x.Rk.oI,x.Rk.oI),S=(L==0?a-K:C-T)/H.step;
for(var U=0;U<S;U++){if(L==0)Y.x=Math.round(F.x+U*N);else Y.y=Math.round(F.y+U*N);x.xu(H.cB,Y,P,J,Y);
var r=(L==0?K+U*H.step:Math.abs(T+U*H.step)).toString(10);for(var I=0;I<r.length;I++){if(L==0)B.x=Y.x+3+I*Math.round(x.Rk.oI*.8);
else B.y=Y.y+3+I*Math.round(x.Rk.oI*1.15);var f=x.Rk.gr[r[I]];x.xu(f,B,P,J,B)}}}w.T=q;w.z=d;w.td=V;var s=Math.floor(E*.6),W=new Uint32Array(w.MW.data.buffer),i=new Uint32Array(w.Zk.data.buffer),u=t<128?4278190080:4294967295;
if(0<b&&b<$)for(var U=0;U<s;U++)W[U*$+b]=u;if(0<D&&D<k)for(var U=0;U<s;U++)i[D*E+U]=u};x.scale={};x.scale.U=document.createElement("canvas");
x.scale.Mn=x.scale.U.getContext("2d");x.scale.Ia=document.createElement("canvas");x.scale.Xs=x.scale.Ia.getContext("2d");
x.scale.o2=function(w,M,O){var b=x.scale.U,D=x.scale.Mn;b.width=M;b.height=O;var o=new ImageData(new Uint8ClampedArray(w.buffer),M,O);
D.putImageData(o,0,0);return D.createPattern(b,"repeat")};x.scale.kZ=function(w,M,O,b,D,o,Z,$,k){var E=x.scale.a9V(w,O,b,D,o,Z,$,k).data;
if(M)x.U7(E,M);return new Uint8Array(E.buffer)};x.scale.a9V=function(w,M,O,b,D,o,Z,$){var k=x.scale.U,E=x.scale.Mn;
k.width=M;k.height=O;E.rect(0,0,M,O);E.translate(o,Z);E.scale(b,D);if($!=null)E.rotate(-$);E.fillStyle=w;
E.fill();return E.getImageData(0,0,M,O)};x.scale.F=function(w,M,O,b,D){var o=O.clone();o.ZW();var Z=D.e,$=D.n,k=x.p.zl(M).C;
x.p.F(k,o,k);var E=x.p.Kc(k).mX(D),t=E.x,c=E.y,l=t+E.e,q=c+E.n,d=~~M.x,V=~~M.y,L=~~M.e,e=~~M.n;for(var H=c;
H<q;H++)for(var j=t;j<l;j++){var g=j+.5,K=H+.5,a=O.ip*g+O.Hv*K+O.hE-d,T=O.L*g+O.uc*K+O.Qw-V;if(0<=a&&0<=T&&a<L&&T<e)b[H*Z+j]=w[~~T*L+~~a]}};
x.scale.e$=function(w,M,O,b,D,o){var Z=new Uint32Array(w.buffer),$=new Uint32Array(b.buffer),k=O.clone();
k.ZW();var E=D.e,t=D.n,c=x.p.zl(M).C;x.p.F(c,k,c);var l=o?D:x.p.Kc(c).mX(D),q=l.x,d=l.y,V=q+l.e,L=d+l.n,e=~~M.x,H=~~M.y,j=~~M.e,g=~~M.n;
for(var K=d;K<L;K++)for(var a=q;a<V;a++){var T=a+.5,C=K+.5,F=O.ip*T+O.Hv*C+O.hE-e,m=O.L*T+O.uc*C+O.Qw-H;
if(o){F=((j<<10)+F)%j;m=((g<<10)+m)%g}if(0<=F&&0<=m&&F<j&&m<g)$[K*E+a]=Z[~~m*j+~~F]}};x.scale.Co=function(w,M,O,b,D,o,Z){if(Z<1)x.scale.a5S(w,M,O,b,D,o,Math.round(1/Z));
else x.scale.a61(w,M,O,b,D,o,Z)};x.scale.$A=function(w,M,O,b,D,o,Z,$){if($)$=$.mX(new cn(0,0,M,O));w=new Uint32Array(w.buffer);
b=new Uint32Array(b.buffer);if(Z<1)x.scale.a9W(w,M,O,b,D,o,Math.round(1/Z),$);else x.scale.app(w,M,O,b,D,o,Z)};
x.scale.a61=function(w,M,O,b,D,o,Z){for(var $=0;$<O;$++)for(var k=0;k<M;k++){var E=w[$*M+k],t=Math.min(Z,D-k*Z),c=Math.min(Z,o-$*Z);
for(var U=0;U<c;U++)for(var l=0;l<t;l++)b[(Z*$+U)*D+Z*k+l]=E}};x.scale.a5S=function(w,M,O,b,D,o,Z){for(var $=0;
$<o;$++)for(var k=0;k<D;k++){var E=0,t=Math.min(Z,M-k*Z),c=Math.min(Z,O-$*Z);for(var U=0;U<c;U++)for(var l=0;
l<t;l++)E+=w[(Z*$+U)*M+(Z*k+l)];b[$*D+k]=Math.round(E/(t*c))}};x.scale.app=function(w,M,O,b,D,o,Z){for(var $=0;
$<O;$++)for(var k=0;k<M;k++){var E=w[$*M+k],t=Math.min(Z,D-k*Z),c=Math.min(Z,o-$*Z);for(var U=0;U<c;
U++)for(var l=0;l<t;l++)b[(Z*$+U)*D+Z*k+l]=E}};x.scale.aye=function(w,M,O){return(w>>>O&255)+(M>>>O&255)>>>1};
x.scale.a9=function(w,M){var O=x.scale.aye;return O(w,M,24)<<24|O(w,M,16)<<16|O(w,M,8)<<8|O(w,M,0)};
x.scale.atE=function(w,M,O,b,D,o){var Z=new Uint32Array(w.buffer),$=new Uint32Array(b.buffer);for(var k=0;
k<O;k++){for(var E=0;E<M;E++){var t=k*M+E,c=Z[t],l=c,q=c,d=c;if(E<M-1)l=x.scale.a9(c,Z[t+1]);if(k<O-1)q=x.scale.a9(c,Z[t+M]);
if(E<M-1&&k<O-1)d=x.scale.a9(c,Z[t+M+1]);var V=(k*D+E)*2;$[V]=c;$[V+1]=l;$[V+D]=q;$[V+D+1]=d}}if((D&1)==1)for(var k=0;
k<o;k++)$[k*D+D-1]=$[k*D+D-2];var L=D*(o-1);if((o&1)==1)for(var E=0;E<D;E++)$[L+E]=$[L-D+E]};x.scale.a9W=function(w,M,O,b,D,o,Z,$){var k=0,E=D,t=0,c=o;
if($){k=Math.floor($.x/Z);E=Math.ceil(($.x+$.e)/Z);t=Math.floor($.y/Z);c=Math.ceil(($.y+$.n)/Z)}for(var l=t;
l<c;l++)for(var q=k;q<E;q++){var d=0,V=0,L=0,e=0,H=Math.min(Z,M-q*Z),j=Math.min(Z,O-l*Z);for(var U=0;
U<j;U++)for(var g=0;g<H;g++){var K=w[(Z*l+U)*M+Z*q+g],a=K>>>24;d+=a;V+=a*(K>>>16&255);L+=a*(K>>>8&255);
e+=a*(K&255)}if(d!=0){var T=1/d;b[l*D+q]=d/(H*j)<<24|V*T<<16|L*T<<8|e*T}else b[l*D+q]=0}};x.X={};x.X.at5=function(w,M,O){var b=128,U=0,D=O.e,o=O.n;
for(var Z=0;Z<o;Z++)for(var $=0;$<D;$++){if(w[U]>=b&&($==0||w[U-1]<b||($==D-1||w[U+1]<b)||(Z==0||w[U-D]<b)||(Z==o-1||w[U+D]<b)))M[U]=255;
U++}};x.X.ad$=function(w,M,O,b){var D=new Uint32Array([4278190080,4294967295]),o=O.e,Z=O.n,$=0,k=0,E=o,t=Z;
if(b){$=b.x-O.x;k=b.y-O.y;E=$+b.e;t=k+b.n}var c=new Uint8Array(M.buffer),l=new Uint32Array(M.buffer);
for(var q=k;q<t;q++)for(var d=$;d<E;d++){var U=q*o+d;if((w[U]&128)!=0&&(q==0||(w[U-o]&128)==0||d==0||(w[U-1]&128)==0||d==o-1||(w[U+1]&128)==0||q==Z-1||(w[U+o]&128)==0)){l[U]=D[(d+q&4)>>>2]}}};
x.X.asz=function(w,M,O,b,D,o){var Z=O.e,$=O.n,k=0,E=0,t=Z,c=$;if(b){k=b.x-O.x;E=b.y-O.y;t=k+b.e;c=E+b.n}var l=new Uint8Array(M.buffer),q=new Uint32Array(M.buffer);
for(var d=E;d<c;d++)for(var V=k;V<t;V++){var U=d*Z+V,L=w[U];if(D==1)q[U]=255-L>>>1<<24|255;else q[U]=255<<24|(L<<16|L<<8|L)}};
x.qL={};x.qL.a8=function(w,M,O){var b,D;if(O==0){b=w.rect.clone();D=x.qL.ao_}if(O==1){b=w.rect.MK(M.rect);
D=x.qL.MK}if(O==2){b=M.rect.clone();D=x.qL.ai$}if(O==3){b=w.rect.mX(M.rect);D=x.qL.mX}if(O==4){b=w.rect.MK(M.rect);
D=x.qL.avp}if(b.S9())return null;var o=x.$(b.v());x.CV(M.channel,M.rect,o,b);var Z=x.$(b.v());x.CV(w.channel,w.rect,Z,b);
D(Z,o,o);var $=x.Kx(o,b);if($.S9())return null;if(!$.M5(b)){var k=x.$($.v());x.CV(o,b,k,$);o=k;b=$}return{channel:o,rect:b}};
x.qL.ao_=function(w,M,O){for(var U=0;U<w.length;U++)O[U]=w[U]};x.qL.MK=function(w,M,O){for(var U=0;U<w.length;
U++)O[U]=Math.min(w[U]+M[U],255)};x.qL.ai$=function(w,M,O){for(var U=0;U<w.length;U++)O[U]=Math.max(M[U]-w[U],0)};
x.qL.mX=function(w,M,O){var b=1/255;for(var U=0;U<w.length;U++)O[U]=w[U]*M[U]*b};x.qL.avp=function(w,M,O){var b=1/255;
for(var U=0;U<w.length;U++)O[U]=Math.min(w[U]+M[U],255)-w[U]*M[U]*b};x.ZA=function(w,M){this.t=[];this.x2=[0];
this.ym=[];this.K0=[];this.vi=[0];this.g_=[];this.kF=[];this.rows=w;this.cols=M};x.ZA.prototype.clone=function(){var w=this,M=w.rows,O=w.cols,b=new x.ZA(M,O);
b.t=w.t.slice(0);b.x2=w.x2.slice(0);b.ym=w.ym.slice(0);b.K0=w.K0.slice(0);b.vi=w.vi.slice(0);b.g_=w.g_.slice(0);
b.kF=w.kF.slice(0);return b};x.ZA.prototype.PW=function(w,M,O){var b=this.x2.length-1;for(var U=0;U<O;
U++){var D=w[U],o=M[U];this.t.push(D);this.ym.push(o);if(o==b){this.kF.push(D==0?0:1/D)}else{this.K0.push(D);
this.g_.push(o)}}this.x2.push(this.t.length);this.vi.push(this.K0.length)};x.ZA.prototype.rc=function(w,M){var O=this,b=O.rows,D=O.t,o=O.ym;
if(M==null)M=new Array(b);for(var U=0;U<b;U++){var Z=O.x2[U],$=O.x2[U+1],k=0;while(($-Z&3)!=0){k+=D[Z]*w[o[Z]];
Z++}for(var E=Z;E<$;E+=4)k+=D[E]*w[o[E]]+D[E+1]*w[o[E+1]]+D[E+2]*w[o[E+2]]+D[E+3]*w[o[E+3]];M[U]=k}return M};
x.ZA.prototype.multiply=function(w){return this.ck(w.lj())};x.ZA.prototype.ck=function(w){var M=this,O=M.rows,b=M.cols,D=w.rows,o=new x.ZA(O,D),Z=M.ym,$=w.ym;
for(var U=0;U<O;U++){var k=[],E=[],t=M.x2[U],c=M.x2[U+1];for(var l=0;l<D;l++){var q=w.x2[l],d=w.x2[l+1],V=0,L=t,e=q;
while(L<c&&e<d){var H=Math.max(Z[L],$[e]);while(L<c&&Z[L]<H)L++;while(e<d&&$[e]<H)e++;if(L<c&&e<d&&Z[L]==$[e])V+=M.t[L++]*w.t[e++]}if(V!=0){k.push(V);
E.push(l)}}o.PW(k,E,k.length)}return o};x.ZA.prototype.lj=function(){var w=this.rows,M=this.cols,O=[];
for(var U=0;U<M;U++)O.push([[],[]]);var b=this.t,D=this.x2,o=this.ym;for(var U=0;U<w;U++){var Z=D[U],$=D[U+1];
for(var k=Z;k<$;k++){var E=O[o[k]];E[0].push(b[k]);E[1].push(U)}}var t=new x.ZA(M,w);for(var U=0;U<M;
U++)t.PW(O[U][0],O[U][1],O[U][1].length);return t};x.ZA.prototype.st=function(){var w=this.rows,M=this.cols,O=new Array(w),b=this.t,D=this.x2,o=this.ym;
for(var U=0;U<w;U++){var Z=O[U]=new Array(M);for(var $=0;$<M;$++)Z[$]=0;var k=D[U],E=D[U+1];for(var t=k;
t<E;t++)Z[o[t]]=b[t]}return O};x.ZA.prototype.Pc=function(w,M,O,b,D){function o(T,M,C,F){var m=T.length;
for(var U=0;U<m;U++)F[U]=T[U]-M[U]*C}function Z(T,M,C,F){var m=T.length,N=0;while((m-N&3)!=0){F[N]=T[N]+M[N]*C;
N++}for(var U=N;U<m;U+=4){F[U]=T[U]+M[U]*C;F[U+1]=T[U+1]+M[U+1]*C;F[U+2]=T[U+2]+M[U+2]*C;F[U+3]=T[U+3]+M[U+3]*C}}function $(T,M,C){var F=T.length;
for(var U=0;U<F;U++)C[U]=T[U]*M[U]}function k(T,M){var C=T.length,F=0,m=0;while((C-F&3)!=0){m+=T[F]*M[F];
F++}for(var U=F;U<C;U+=4)m+=T[U]*M[U]+T[U+1]*M[U+1]+T[U+2]*M[U+2]+T[U+3]*M[U+3];return m}var E=b!=null?2:1,t=Date.now(),c=0,l=this,q=w.slice(0),d=w.slice(0);
l.rc(w,d);o(M,d,1,q);var V=this.kF;if(E==0){V=q.slice(0);V.fill(1)}var L=q.slice(0);$(V,q,L);var e=L.slice(0),H=k(q,L);
while(!0){l.rc(e,d);var j=H/k(e,d);Z(w,e,j,w);o(q,d,j,q);if((c&7)==0&&Math.sqrt(k(q,q))<O)break;if(E<=1)$(V,q,L);
else{var g=q.slice(0);b.awx(g,q);D.agb(L,g)}var K=k(q,L),a=K/H;Z(L,e,a,e);H=K;c++}};x.ZA.prototype.ail=function(w,M,O,b){var D=Date.now(),o=1.96,$=0;
if(O==null)O=5e-6;if(b==null)b=1e9;var Z=1-o,aq=this.rows,k=this.K0,E=this.vi,t=this.g_,c=this.kF;while(!0){var l=0;
for(var U=0;U<aq;U++){var q=M[U],d=E[U],V=E[U+1];if(V-d==4)q-=k[d]*w[t[d]]+k[d+1]*w[t[d+1]]+k[d+2]*w[t[d+2]]+k[d+3]*w[t[d+3]];
else for(var L=d;L<V;L++)q-=k[L]*w[t[L]];var e=w[U]*Z+c[U]*q*o,H=e-w[U];l+=H*H;w[U]=e}if(l/aq<O||Date.now()>D+b)break}};
x.ZA.prototype.a5R=function(w,M,O,b){var D=Date.now(),o=1.96,$=0;if(O==null)O=5e-5;if(b==null)b=1e9;
var Z=1-o,aq=this.rows,k=this.K0,E=this.vi,t=this.g_,c=this.kF;while(!0){var l=0;for(var U=0;U<aq;U++){var q=U*3,d=M[q],V=M[q+1],L=M[q+2],e=E[U],H=E[U+1];
for(var j=e;j<H;j++){var g=k[j],K=t[j]*3;d-=g*w[K+0];V-=g*w[K+1];L-=g*w[K+2]}var a=c[U]*o,T=w[q+0]*Z+d*a,C=w[q+1]*Z+V*a,F=w[q+2]*Z+L*a,m=T-w[q+0],N=C-w[q+1],v=F-w[q+2];
l+=.4*m*m+.5*N*N+.1*v*v;w[q+0]=T;w[q+1]=C;w[q+2]=F}if(l/aq<O||Date.now()>D+b)break}};x.kE={};x.kE.pT=function(w,M,O){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:w},Vrtc:{t:"doub",v:M},Cnty:{t:"bool",v:O}}}};
x.kE.F=function(w,M){for(var U=0;U<w.length;U++){var O=w[U].v,b=M.xU(new at(O.Hrzn.v,O.Vrtc.v));O.Hrzn.v=Math.round(b.x);
O.Vrtc.v=Math.round(b.y)}};x.kE.Yy=function(w,M,O){var aq=w.length-1,b=x.S3.Os(aq+1,aq+2);for(var U=1;
U<aq;U++){b[U][U-1]=1/(w[U]-w[U-1]);b[U][U]=2*(1/(w[U]-w[U-1])+1/(w[U+1]-w[U]));b[U][U+1]=1/(w[U+1]-w[U]);
b[U][aq+1]=3*((M[U]-M[U-1])/((w[U]-w[U-1])*(w[U]-w[U-1]))+(M[U+1]-M[U])/((w[U+1]-w[U])*(w[U+1]-w[U])))}b[0][0]=2/(w[1]-w[0]);
b[0][1]=1/(w[1]-w[0]);b[0][aq+1]=3*(M[1]-M[0])/((w[1]-w[0])*(w[1]-w[0]));b[aq][aq-1]=1/(w[aq]-w[aq-1]);
b[aq][aq]=2/(w[aq]-w[aq-1]);b[aq][aq+1]=3*(M[aq]-M[aq-1])/((w[aq]-w[aq-1])*(w[aq]-w[aq-1]));x.S3.zA(b,O)};
x.kE.amo=function(w,M,O,b){if(w<=M[0])return O[0];if(w>=M[M.length-1])return O[M.length-1];var U=1;while(M[U]<w)U++;
var D=M[U],o=M[U-1],Z=O[U],$=O[U-1],k=(w-o)/(D-o),E=b[U-1]*(D-o)-(Z-$),t=-b[U]*(D-o)+(Z-$),c=(1-k)*$+k*Z+k*(1-k)*(E*(1-k)+t*k);
return c};x.kE.yG=function(w,M,O,b){var D={r9:[w[0]],e7:[M[0]],UJ:[]};b[0]=D;for(var U=1;U<w.length-1;
U++){D.r9.push(w[U]);D.e7.push(M[U]);if(O[U]==!1){x.kE.Yy(D.r9,D.e7,D.UJ);D={r9:[w[U]],e7:[M[U]],UJ:[]}}b[U]=D}D.r9.push(w[U]);
D.e7.push(M[U]);x.kE.Yy(D.r9,D.e7,D.UJ);b[U]=D};x.kE.OL=function(w,M,O,b){if(w<=M[0])return O[0];if(w>=M[M.length-1])return O[M.length-1];
var U=1;while(M[U]<w)U++;var D=b[U-1];return x.kE.amo(w,D.r9,D.e7,D.UJ)};x.kE.kH=function(w){var M={r9:[],e7:[],Te:[]};
for(var U=0;U<w.length;U++){M.r9[U]=w[U].v.Hrzn.v;M.e7[U]=w[U].v.Vrtc.v;M.Te[U]=w[U].v.Cnty?w[U].v.Cnty.v:!0}return M};
x.kE.sl=function(w,aq,M){var O=0,b=255;if(M){O=-1e9;b=1e9}var D=x.kE.kH(w),o=[];x.kE.yG(D.r9,D.e7,D.Te,o);
var Z=[];for(var U=0;U<aq;U++)Z[U]=1/255*Math.max(O,Math.min(b,x.kE.OL(U*(255/(aq-1)),D.r9,D.e7,o)));
return Z};x.kE.aow=function(w,aq,M){var O=Math.round(w.length/20),b=aq-w.length,D=M?(w[O]-w[0])/O:0,o=M?w[0]-b*D:w[w.length-1],Z=[];
for(var U=0;U<b;U++)Z.push(o+U*D);return M?Z.concat(w):w.concat(Z)};x.kE.iT=function(w,aq,M){var O=x.kE.kH(w),b=[];
x.kE.yG(O.r9,O.e7,O.Te,b);var D=new Uint8Array(aq),o=aq/256;for(var U=0;U<aq;U++)D[U]=Math.max(0,Math.min(aq-1,x.kE.OL(U*o,O.r9,O.e7,b)));
if(M){D[0]=0;if(D[1]>100)D[1]=.4*D[1];if(D[2]>150)D[1]=.7*D[2]}return D};x.kE.oa=function(w,M){var O=new Uint8Array(w.length);
for(var U=0;U<w.length;U++)O[U]=M[w[U]];return O};x.kE.Td=function(w,M,O){var b=document.createElement("canvas");
b.width=M;b.height=O;var D=b.getContext("2d"),o=x.kE.iT(w,256);D.scale(M/255,O/255);D.fillStyle="#fff";
D.fillRect(0,0,255,255);D.fillStyle="#333";D.beginPath();D.moveTo(0,255);for(var U=0;U<o.length;U++)D.lineTo(U,255-o[U]);
D.lineTo(255,255);D.closePath();D.fill();return b.toDataURL()};x.style={};x.style.stroke=function(w,M,O,b){var D=O.e,o=O.n,Z=new Float64Array(D*o);
x.style.A$(w,Z,D,o);x.style.W9(M,O,Z,O,b)};x.style.W9=function(w,M,O,b,D){var o=M.mX(b),Z=o.e,$=o.n;
D+=.5;var k=o.x-M.x,E=o.y-M.y,t=M.e,c=o.x-b.x,l=o.y-b.y,q=b.e;for(var d=0;d<$;d++){var V=(d+l)*q+c,L=(d+E)*t+k;
for(var e=0;e<Z;e++){var H=Math.max(0,Math.min(1,D-O[V+e]));w[L+e]=Math.round(H*255)}}};x.style.agl=function(w,M,O,b){for(var D=0;
D<O;D++)for(var o=0;o<M;o++){var Z=D*M+o,$=0,k=0,E=w[Z];if(o==0||D==0){$=w[Z+1]-E;k=w[Z+M]-E}else if(o==O-1||D==M-1){$=E-w[Z-1];
k=E-w[Z-M]}else{$=w[Z+1]-w[Z-1];k=w[Z+M]-w[Z-M]}if($!=0||k!=0){var t=1/Math.sqrt($*$+k*k);$*=t;k*=t}b[Z+Z]=$;
b[Z+Z+1]=k}};x.style.A$=function(w,M,O,b){var D=0,o=O*b;for(var U=0;U<o;U++)D|=w[U];if(D==0){M.fill(1e9);
return}var Z=x.style.Ov(w,O,b);for(var $=0;$<b;$++)for(var k=0;k<O;k++){var U=$*O+k,E=Z[U*2],t=Z[U*2+1],c=($+t)*O+k+E;
if(E==0&&t==0){M[U]=0;continue}var l=Math.sqrt(E*E+t*t),q=w[c]*(1/255),d=1/l,V=Math.abs(E)*d,L=Math.abs(t)*d;
if(L>V){var e=L;L=V;V=e}M[U]=l+x.style.adx(V,L,q)}};x.style.adx=function(w,M,O){return(.5-O)*w};x.style.Ov=function(w,M,O,b){var D=new Int16Array(M*O*2);
x.style.akT(w,D,M,O,128);return D};x.style.akT=function(w,M,O,b,D){var o=new Int32Array(O*b);x.style.avk(w,o,O,b,D);
x.style.aq1(o,M,O,b)};x.style.avk=function(w,M,O,b,D){var o=new Int32Array(b);for(var Z=0;Z<O;Z++){var $=O+b;
for(var k=b-1;k>=0;k--){if(w[k*O+Z]>D)$=0;else $++;o[k]=$}$=O+b;for(var k=0;k<b;k++){if(w[k*O+Z]>D)$=0;
else $++;M[k*O+Z]=$<o[k]?-$:o[k]}}};x.style.aq1=function(w,M,O,b){var D=(O+b)*(O+b),o=new Float64Array(O),Z=new Uint16Array(O);
for(var $=0;$<b;$++){var k=$*O,E=0;Z[0]=0;o[0]=-D;o[1]=+D;for(var t=1;t<O;t++){var c=w[t+k]*w[t+k]+t*t,l=(c-(w[Z[E]+k]*w[Z[E]+k]+Z[E]*Z[E]))/(2*t-2*Z[E]);
while(l<=o[E]){E--;l=(c-(w[Z[E]+k]*w[Z[E]+k]+Z[E]*Z[E]))/(2*t-2*Z[E])}E++;Z[E]=t;o[E]=l;o[E+1]=D}E=0;
for(var t=0;t<O;t++){while(o[E+1]<t)E++;var q=Z[E]-t,d=w[Z[E]+k],U=$*O+t<<1;M[U]=q;M[U+1]=d}}};x.style.Ud=function(w,M,O){if(O)for(var U=0;
U<w.length;U++){var b=w[U];if(b>0)w[U]=Math.max(0,Math.min(255,b+M*2*(x.style.Tr(U)-128)))}else for(var U=0;
U<w.length;U++){var b=w[U];if(b>0)w[U]=Math.max(0,Math.min(255,b+Math.min(b*3,M*2*(x.style.Tr(U)-128))))}};
x.style.Tr=function(w){w=w^61^w>>16;w=w+(w<<3);w=w^w>>4;w=w*668265261;w=w^w>>15;return w&255};x._K={};
x._K.jl=function(w,M,O){var b=w.canvas;if(b.width!=M||b.height!=O){b.width=M;b.height=O}};x._K.ll=function(w,M,O,b,D,o){x._K.jl(w,M,O);
if(o==null)o=!1;var Z=D.channel,$=D.rect,k=!D.isEnabled;if(M*O==0)return;var E=w.createImageData(M,O),t=E.data,c=1/M,l=1/O;
for(var U=0;U<O;U++)for(var q=0;q<M;q++){var d=U*M+q,V=d*4,L=Math.round(b.x+q*c*b.e),e=Math.round(b.y+U*l*b.n),H=0;
if(L<$.x||L>=$.x+$.e||e<$.y||e>=$.y+$.n)H=D.color;else H=Z[(e-$.y)*$.e+(L-$.x)];H=255*(255-D.lq)+H*D.lq>>>8;
if(o)H=170+Math.round(.4*(H-170));t[V]=H;t[V+1]=H;t[V+2]=H;t[V+3]=255}w.putImageData(E,0,0);if(k)x._K.$d(w,M,O)};
x._K.l6=[];x._K.a63=function(w,M,O,b){var D,o,Z;D=Math.ceil(Math.max(M,O)*.35);o=M-D;Z=O-D;var $=x._K.l6[D];
if($==null){var k=x.$B(D,D);k.fillStyle="#eeeeee";k.fillRect(0,0,D,D);var E=Math.round(D*.27),t=k.lineWidth=Math.max(1,Math.round(D*.12)),c=t/2;
k.strokeRect(1+c,1+c,D-t-2,D-t-2);k.strokeRect(E+c,E+c,D-E-E-t,D-E-E-t);$=x._K.l6[D]=k.getImageData(0,0,D,D)}w.putImageData($,o,Z)};
x._K.Qg=[];x._K.a8T=function(w,M,O){var b,D,o;b=Math.ceil(Math.max(M,O)*.35);D=M-b;o=O-b;var Z=x._K.Qg[b];
if(Z==null){var $=x.$B(b,b);$.fillStyle="#eeeeee";$.fillRect(0,0,b,b);$.lineWidth=1;$.strokeRect(2.5,2.5,b-5,b-5);
var k=$.createImageData(3,3);x.TZ(k.data,4278190080);k.data[4*4]=k.data[4*4+1]=k.data[4*4+2]=238;$.putImageData(k,1,1);
$.putImageData(k,b-4,1);$.putImageData(k,1,b-4);$.putImageData(k,b-4,b-4);Z=x._K.Qg[b]=$.getImageData(0,0,b,b)}w.putImageData(Z,D,o)};
x._K.a5O=function(w,M,O,b,D){x._K.jl(w,M,O);var o=M/b.e;if(M*O==0)return;w.fillStyle="#999999";w.setTransform(1,0,0,1,0,0);
w.clearRect(0,0,M,O);var Z=x._K.Zi;if(Z==null){Z=x._K.Zi=JSON.parse(JSON.stringify(aN.d_.default));Z.strokeEnabled.v=!0}Z.strokeStyleLineWidth.v.val=1/o;
w.fillStyle="#ffffff";w.scale(o,o);x.O.mk(D.j,w,0,0);x.O.mk(D.j,w,0,0,Z)};x._K._a=null;x._K.pP=function(w,M,O,b,D,o,Z,$){x._K.jl(w,M,O);
if(M*O==0)return;var k=Math.max(M,O),E=x._K._a;if(E==null||E.width<k||E.height<k){x._K._a=E=w.createImageData(k,k)}k=E.width;
var t=E.data,c=b.e/M,l=b.n/O,q=o.x,d=o.x+o.e,V=o.y,L=o.y+o.n;for(var U=0;U<O;U++)for(var e=0;e<M;e++){var H=U*k+e,j=H*4,g=~~(b.x+e*c),K=~~(b.y+U*l),a=x.sj(U,e,2);
if(g<q||g>=d||K<V||K>=L){t[j]=a;t[j+1]=a;t[j+2]=a;t[j+3]=255}else{var T=(K-o.y)*o.e+(g-o.x)<<2,C=D[T+3]*(1/255);
t[j]=D[T+0]*C+a*(1-C);t[j+1]=D[T+1]*C+a*(1-C);t[j+2]=D[T+2]*C+a*(1-C);t[j+3]=255}}if($!=null)for(var U=0;
U<t.length;U+=4)t[U]=t[U+1]=t[U+2]=t[U+$];w.putImageData(E,0,0);if(Z)x._K.$d(w,M,O)};x._K.ah0=function(w,M,O,b){x._K.jl(w,M,O);
w.fillStyle=x._K.FL(b.Clr.v);w.fillRect(0,0,M,O);x._K.KG(w,M,O)};x._K.Pd=null;x._K.atz=function(w,M,O,b){x._K.jl(w,M,O);
var D=w.canvas.width,o=w.canvas.height,Z=x._K.Pd;if(Z==null||Z.width!=D||Z.height!=o){w.fillStyle="#ffffff";
w.fillRect(0,0,M,O);w.fillStyle="#000000";w.font=""+O*.7+"px serif";w.fillText("T",(M-O*.43)/2,O*.75);
w.fillText("T",(M-O*.43)/2,O*.75);x._K.Pd=w.getImageData(0,0,D,o)}else w.putImageData(Z,0,0)};x._K.atN=function(w,M,O){x._K.jl(w,M,O);
w.clearRect(0,0,M,O);w.font=O*.7+"px serif";w.fillText(":(",(M-O*.43)/2,O*.7)};x._K.aj3=function(w,M,O,b){x._K.jl(w,M,O);
var D=a6.get(b),o=w.canvas.width,Z=x._K.JZ[o+D];if(Z==null){var $=PIMG["adj/"+D],k=ce.v$($),E=UPNG.decode(k.buffer),t=new Uint8Array(UPNG.toRGBA8(E)[0]),c=new cn(0,0,160,160),l=0,q=o-l*2,d=y.u.UA([t,c],new f$(q/160,0,0,q/160,0,0)),V=new cn(0,0,o,o),L=x.$(V.v()*4);
x.a.DP("norm",d.buffer,d.rect,L,V,d.rect,1);Z=x._K.JZ[o+D]=new ImageData(new Uint8ClampedArray(L.buffer),o,o)}w.putImageData(Z,0,0)};
x._K.JZ={};x._K.avW=function(w,M,O,b){x._K.jl(w,M,O);var D=w.canvas.width,o=w.canvas.height,Z=w.getImageData(0,0,D,o);
x.M.LJ(b.Grad.v,new Uint8Array(Z.data.buffer),new cn(0,0,D,o),[1/D,0,0,1/o],D/2,o/2,!1,0,16711680,65280);
w.putImageData(Z,0,0);x._K.KG(w,M,O)};x._K.agx=function(w,M,O,b,D){x._K.jl(w,M,O);var o=w,Z=eR.BD(b.Ptrn.v,D.add.Patt);
if(Z==null)return;var $=Z.f4[1];x._K.pP(w,M,O,$,Z.f4[0],$,!1);x._K.KG(o,M,O)};x._K.$d=function(w,M,O){w.strokeStyle="#bb0000";
w.lineWidth=3;w.beginPath();w.moveTo(M*.15,O*.15);w.lineTo(M*.85,O*.85);w.moveTo(M*.85,O*.15);w.lineTo(M*.15,O*.85);
w.closePath();w.stroke()};x._K.KG=function(w,M,O){w.fillStyle="#eeeeee";w.fillRect(0,O*.75,M,O*.25);
w.beginPath();w.moveTo(0,O*.75);w.lineTo(M,O*.75);w.moveTo(M*.1,O*.875);w.lineTo(M*.9,O*.875);w.moveTo(M*.65,O*.825);
w.lineTo(M*.65,O*.95);w.closePath();w.stroke()};x._K.FL=function(w){var M=x.M.FL(w),O=Math.round(M.o)<<16|Math.round(M.w)<<8|Math.round(M.L);
return"#"+x.zZ(O)};x.O={};x.O.ml=function(w,M,O){var b=[],D=-1;for(var U=0;U<w.length;U++){var o=w[U];
if((o.type==0||o.type==3)&&o.K$!=-1)D++;if(o.type>5||o.type==0||o.type==3)continue;if(M!=null&&M.indexOf(D)==-1)continue;
if(O!=null&&O.indexOf(U)==-1)continue;b.push(o.vA.x);b.push(o.vA.y);b.push(o.I.x);b.push(o.I.y);b.push(o.YJ.x);
b.push(o.YJ.y)}return b};x.O.gg=function(w,M,O,b){var D=0,o=-1;for(var U=0;U<M.length;U++){var Z=M[U];
if((Z.type==0||Z.type==3)&&Z.K$!=-1)o++;if(Z.type>5||Z.type==0||Z.type==3)continue;if(O!=null&&O.indexOf(o)==-1)continue;
if(b!=null&&b.indexOf(U)==-1)continue;Z.vA.ZK(w[D],w[D+1]);Z.I.ZK(w[D+2],w[D+3]);Z.YJ.ZK(w[D+4],w[D+5]);
D+=6}};x.O.I0=function(w,M,O,b){var D=x.O.ml(w,O,b);x.p.F(D,M,D);x.O.gg(D,w,O,b)};x.O.aj_=function(w,M,O,b){var D=x.O.ml(w,O,b);
x.N.F(M,D);x.O.gg(D,w,O,b)};x.O.a3W=function(w,M,O,b){if(b==null){var D=x.O.adZ(w,40,O);for(var U=0;
U<D.length;U++)w[U]=D[U]}var o=x.O.ml(w,O,b);x.zD.F(M,o,x.p.qe(o));x.O.gg(o,w,O,b)};x.O.adZ=function(w,M,O){var b=[],D=-1;
for(var U=0;U<w.length;U++){var o=w[U],Z=o.length;if(o.type>5){b.push(JSON.parse(JSON.stringify(o)));
continue}o=JSON.parse(JSON.stringify(o));b.push(o);if(o.K$!=-1)D++;if(O&&O.indexOf(D)==-1){b=b.concat(w.slice(U+1,U+1+Z))}else{var $=x.O.aoF(w,U+1,Z);
$=x.p.SH($,M);var k=x.O.asg($);o.length=k.length;for(var E=0;E<k.length;E++)b.push(k[E])}U+=Z}return b};
x.O.aoF=function(w,M,O){var b={H:["M"],C:[]},D=w[M],o=w[M+O-1];b.C.push(D.I.x,D.I.y);for(var U=1;U<O;
U++){var Z=w[M+U-1],$=w[M+U];b.H.push("C");b.C.push(Z.YJ.x,Z.YJ.y,$.vA.x,$.vA.y,$.I.x,$.I.y)}b.H.push("C");
b.C.push(o.YJ.x,o.YJ.y,D.vA.x,D.vA.y,D.I.x,D.I.y);return b};x.O.asg=function(w){var M=[],O=w.H,b=w.C,D=0,aq=b.length;
M.push({type:2,vA:new at(b[aq-4],b[aq-3]),I:new at(b[0],b[1]),YJ:new at(b[2],b[3])});for(var U=0;U<O.length-2;
U++){var o=U*6+4;M.push({type:2,vA:new at(b[o],b[o+1]),I:new at(b[o+2],b[o+3]),YJ:new at(b[o+4],b[o+5])})}return M};
x.O.am_=function(w){for(var U=0;U<w.length;U++){if(w[U].type>5)continue;var M=w[U].length;if(!(M==4||M==6||M==8)){U+=M;
continue}for(var O=0;O<M;O++){var b=w[U+1+O],D=w[U+1+(O+1)%M],o=Math.min(b.I.x,D.I.x),Z=Math.min(b.I.y,D.I.y),$=0,k=0;
if(b.I.x<D.I.x){$=b.I.y-Z;k=$-(D.I.x-o)}else{$=D.I.y-Z;k=$-(b.I.x-o)}if(Math.abs(k)<.2*$)return $}}return-1};
x.O.rt=function(w,M,O){function b(l,q){var d=Math.min(l.x,q.x),V=Math.min(l.y,q.y),L=Math.max(l.x+l.e,q.x+q.e),e=Math.max(l.y+l.n,q.y+q.n);
return new cn(d,V,L-d,e-V)}var D=null,o=-1,Z=!x.O.Ox(w);for(var U=0;U<w.length;U++){var $=w[U];if($.type>5)continue;
if(($.type==0||$.type==3)&&$.K$!=-1)o++;if(M!=null&&M.indexOf(o)==-1)continue;if(U==w.length-1)break;
var k=$.type==3,E=$.length,t=$.K$,c=x.O.Bh(w,U+1,E,k);if(D==null)D=c;else if(O)D=b(D,c);else if(Z){if(M!=null||t==0||t==-1||t==2)D=b(D,c);
else if(t==1)D=D;else if(t==3){D=c;Z=!1}}else{if(M!=null||t==0||t==-1||t==1)D=b(D,c);else if(t==2)D=D;
else if(t==3)D=D.mX(c)}U+=E}if(D==null||D.e<0||D.n<0)D=new cn(0,0,0,0);return D};x.O.a42=new Float64Array(4);
x.O.Bh=function(w,U,M,O){var b=x.O.a42;b[0]=1e30;b[1]=1e30;b[2]=-1e30;b[3]=-1e30;var D=w[U+M-1];if(!O)x.O.aU(D.I.x,D.I.y,D.YJ.x,D.YJ.y,w[U].vA.x,w[U].vA.y,w[U].I.x,w[U].I.y,b);
for(var o=U;o<U+M-1;o++){var Z=w[o],$=w[o+1];x.O.aU(Z.I.x,Z.I.y,Z.YJ.x,Z.YJ.y,$.vA.x,$.vA.y,$.I.x,$.I.y,b)}return new cn(b[0],b[1],b[2]-b[0],b[3]-b[1])};
x.O.aU=function(w,M,O,b,D,o,Z,$,k){if(w==O&&M==b&&D==Z&&o==$){k[0]=Math.min(k[0],Math.min(w,Z));k[1]=Math.min(k[1],Math.min(M,$));
k[2]=Math.max(k[2],Math.max(w,Z));k[3]=Math.max(k[3],Math.max(M,$));return}var E=w,t=M,c=w,l=M,q=40,d=1/(q-1);
for(var V=0;V<q;V++){var L=V*d,e=1-L,H=e*e*e,j=3*e*e*L,g=3*e*L*L,K=L*L*L,a=H*w+j*O+g*D+K*Z,T=H*M+j*b+g*o+K*$;
if(a<E)E=a;else if(a>c)c=a;if(T<t)t=T;else if(T>l)l=T}if(E<k[0])k[0]=E;if(t<k[1])k[1]=t;if(c>k[2])k[2]=c;
if(l>k[3])k[3]=l};x.O.pb=function(w,M){var O=w.length-3,b=M%O,D=Math.floor(b);if(M<0||D>=O)return null;
var o=w[3+D],Z=w[3+(D+1)%O],$=o.I,k=o.YJ,E=Z.vA,t=Z.I,c=b-D,l=1-c,q=l*l*l*$.x+3*l*l*c*k.x+3*l*c*c*E.x+c*c*c*t.x,d=l*l*l*$.y+3*l*l*c*k.y+3*l*c*c*E.y+c*c*c*t.y;
return new at(q,d)};x.O.FQ=function(w,M){var O=x.p.vn(w),b=O.cG;O.cG=Typr.U.pathToSVG({crds:b.C,cmds:b.H},M==null?2:M);
return O};x.O.Qa=function(w){x.O.vu();var M,O=x.O.kA(w),b=[];for(var U=0;U<O.length;U++){var D=O[U][0],o=O[U][1];
if(Math.abs(D.area)<1e-5)b.push(D);else if(M==null)M=D;else{if(!D.closed)D.closed=!0;M=M[o](D);M.remove()}}if(M==null)M=new paper.CompoundPath(b);
else{if(M.segments)M=new paper.CompoundPath(M);for(var U=0;U<b.length;U++){M.addChild(b[U])}}var Z=w.slice(0,2);
Z=Z.concat(x.O.Vo(M));if(Z[2])Z[2].K$=1;for(var U=3;U<Z.length;U++)if(Z[U].K$!=null)Z[U].K$=-1;return Z};
x.O.vu=function(){if(x.O.ata==null){var w=document.createElement("canvas");paper.setup(w);x.O.ata=!0}};
x.O.a5m=function(w,M){x.O.vu();var O=[],b=x.O.kA(w),D=new paper.Path.Rectangle(new paper.Rectangle(M.x,M.y,M.e,M.n));
D.remove();D.fillColor=new paper.Color(1,0,0);for(var U=0;U<b.length;U++){if(D.intersects(b[U][0])||D.contains(b[U][0].children[0].segments[0].point))O.push(U)}return O};
x.O.BE=function(w,M,O,b){x.O.vu();var D=O?{curves:!0,tolerance:b}:null,o=new paper.Point(M.x,M.y),Z=x.O.kA(w);
for(var U=Z.length-1;U>=0;U--){var $=Z[U][0],k=$.hitTest(o,D);if(k!=null)return{zS:U,Q2:O?k.location.index:null}}return{zS:-1}};
x.O.zV=function(w,M,O){var b=[[],[],[]];for(var U=0;U<w.length;U++){var D=w[U];if(D.type>5||D.type==0||D.type==3)continue;
var o=O==null?!0:O.indexOf(U)!=-1;if(M.MS(D.I))b[0].push(U);if(M.MS(D.vA)&&o)b[1].push(U);if(M.MS(D.YJ)&&o)b[2].push(U)}return b};
x.O.apV=function(w,M,O){var b=w[M];for(var D=M+1;D<O;D++)w[D-1]=w[D];w[O-1]=b};x.O.avd=function(w,M,O,b){var U,D,o,Z=0;
w=w.slice(0);M.sort(function(d,V){return d-V});o=-1;for(U=2;U<w.length;){var $=w[U],k=$.length;if($.K$!=-1)o++;
var E=Z;while(E<M.length&&M[E]<U+1+k)E++;if(Z!=E){var t=M.slice(Z,E);Z=E;for(D=0;D<k;D++)if(t.indexOf(U+1+D)!=-1)w[U+1+D]=null;
if($.type==0){var c=t[0]-(U+1);while(c!=0){x.O.apV(w,U+1,U+1+k);c--}}var l=$;l.length=0;D=0;while(D<k&&w[U+1+D]==null)D++;
while(D<k){var q=w[U+1+D];if(q!=null)l.length++;else if(D<k+1&&w[U+1+D+1]){l=w[U+1+D]={type:0,K$:-1,length:0,r1:0,HP:0,pa:1}}D++}if(b)for(D=-1;
D<k;D++)if(w[U+1+D]&&w[U+1+D].type<3)w[U+1+D].type+=3;x.lK.OQ(O,o)}U+=1+k}for(U=0;U<w.length;U++)if(w[U]==null){w.splice(U,1);
U--}o=0;for(U=2;U<w.length;U++){var $=w[U];if($.length==0){if(w[U+1]&&w[U+1].K$==-1)w[U+1].K$=$.K$;else if($.K$!=-1)O.splice(o,1);
w.splice(U,1);U--}else if($.length!=null&&$.K$!=-1)o++}return w};x.O.a3q=function(w,M){var O=w.slice(0,2),b=-1;
for(var U=2;U<w.length;U++){if((w[U].type==0||w[U].type==3)&&w[U].K$!=-1)b++;if(M.indexOf(b)==-1)O.push(w[U])}return O};
x.O.aaq=function(w,M){var O=w.slice(0,2),b=-1;for(var U=2;U<w.length;U++){if((w[U].type==0||w[U].type==3)&&w[U].K$!=-1)b++;
if(M.indexOf(b)!=-1)O.push(w[U])}return O};x.O.agq=function(w){var M=0;for(var U=0;U<w.length;U++)if(w[U].type==0||w[U].type==3)M=U;
return w[M]};x.O.wW=function(w){var M=-1;for(var U=0;U<w.length;U++)if((w[U].type==0||w[U].type==3)&&w[U].K$!=-1)M++;
return M+1};x.O.r$=function(w,M,O){var b=-1;for(var U=0;U<w.length;U++)if((w[U].type==0||w[U].type==3)&&(O||w[U].K$!=-1)){b++;
if(b==M)return U}return-1};x.O.Hr=function(w,M,O){var b=-1;for(var U=0;U<w.length;U++)if((w[U].type==0||w[U].type==3)&&(O||w[U].K$!=-1)){if(U>=M)return b;
b++}return b};x.O.Gd=function(w,M){var O=-1,b=0;for(var U=0;U<w.length;U++){if((w[U].type==0||w[U].type==3)&&w[U].K$!=-1)O++;
if(O==M)b++}return b};x.O.aeQ=function(w){var M=180;for(var U=0;U<w.length;U++){if(w[U].type!=0&&w[U].type!=3)continue;
var O=w[U].length;if(O<3)continue;for(var b=0;b<O;b++){var D=w[U+1+(b-1+O)%O],o=w[U+1+b],Z=w[U+1+(b+1)%O],$=o.I,k=o.vA.M5($)?D.YJ:o.vA,E=o.YJ.M5($)?Z.vA:o.YJ;
if($.M5(k)||$.M5(E))continue;var t=k.x-$.x,c=k.y-$.y,l=E.x-$.x,q=E.y-$.y,k=Math.atan2(k.y-$.y,k.x-$.x)*180/Math.PI,E=Math.atan2(E.y-$.y,E.x-$.x)*180/Math.PI,d=Math.abs(E-k)%360,V=d>180?360-d:d;
if(V<M)M=V}}return M*Math.PI/180};x.O.Vo=function(w){var M=w.segments?[w]:w.children,O=[];for(var U=0;
U<M.length;U++){var b=M[U],D=b.segments,o=b.closed?0:3,Z=O.length,$=null;if(D.length<=1)continue;O.push({type:o,length:D.length,K$:0,pa:2});
for(var k=0;k<D.length;k++){var E=D[k],t=new at(E.handleIn.x,E.handleIn.y),c=new at(E.handleOut.x,E.handleOut.y),l=new at(E.point.x,E.point.y),q={type:o+1,vA:l.add(t),I:l,YJ:l.add(c)};
if($==null)$=q;O.push(q);if(k+1==D.length&&at.we($.I,q.I)<1e-5){O.pop();O[Z].length--;$.vA=q.vA;if(o==3)for(var d=Z;
d<O.length;d++)O[d].type-=3}}}return O};x.O.kA=function(w){x.O.vu();var M=[],O,b=new paper.Color(1,0,0);
function D(q,$){q.remove();q.closed=!$;q.fillRule="evenodd"}for(var U=0;U<w.length;U++){if(w[U].type>5)continue;
var o=w[U].length,Z;if(U==w.length-1)break;var $=w[U].type==3;if(U==2){if(!x.O.AW(w))Z="subtract";else Z="unite"}else{if(w[U].K$==0)Z="exclude";
if(w[U].K$==1)Z="unite";if(w[U].K$==2)Z="subtract";if(w[U].K$==3)Z="intersect"}if(w[U].K$!=-1){O=new paper.CompoundPath;
M.push([O,Z]);O.fillRule="evenodd";O.fillColor=b}var k=[];for(var E=0;E<o;E++){var t=w[U+1+E],c=t.vA._6(t.I),l=t.YJ._6(t.I);
k.push([[t.I.x,t.I.y],[c.x,c.y],[l.x,l.y]])}var q=new paper.Path(k);D(q,$);O.addChild(q);U+=o}return M};
x.O.VA=function(w){for(var U=0;U<w.length;U++){var M=w[U];if(M.I==null)continue;if(!M.I.M5(M.vA)||!M.I.M5(M.YJ))return!1}return!0};
x.O.a78=function(w){if(w.length<=5)return 0;var M=0,O=w.length-3-1;for(var U=0;U<O;U++){var b=w[3+U],D=w[3+U+1];
if(b.type==0||D.type==0)return 0;M+=(D.I.x-b.I.x)*(b.I.y+D.I.y)}M+=(w[3].I.x-w[3+O].I.x)*(w[3+O].I.y+w[3+1].I.y);
return-M*.5};x.O.Ox=function(w){var M=w[2],O=!1;if(w.length==2)O=w[1].all==0;else if(w[1].all==1){if(M.K$==1||M.K$==3)O=!0;
else O=!1}else{if(M.K$==1||M.K$==3||M.K$==0)O=!0;else O=!1}return O};x.O.AW=function(w){var M=x.O.Ox(w);
for(var U=3;U<w.length;U++)if(w[U].K$==3)M=!0;return M};x.O.av7=0;x.O.jw=0;x.O.aoM=0;x.O.a8h=function(w,M,O,b){if(O.S9())return;
var D=O.v(),e=16384;x.O.av7+=D;if(D>x.O.jw){x.O.jw=D}var o=O.e,Z=O.n;if(b==null&&x.O.VA(w)&&w[2]&&w[2].K$!=2){var $=!0;
for(var U=2;U<w.length;)if(w[U].length==2)U+=3;else{$=!1;break}if($){return}if(x.O.WG(w)){M.fill(255);
var k=x.O.rt(w);if(k.v()!=D){var E=1-(k.x-O.x),t=1-(k.y-O.y),c=1-(O.x+O.e-(k.x+k.e)),l=1-(O.x+O.n-(k.x+k.n)),q=~~(E*255),d=~~(c*255),V=~~(t*255),L=~~(l*255);
M.fill(V,0,o);M[0]=~~(E*t*255);M[o-1]=~~(c*t*255);for(var U=o;U<D;U+=o){M[U]=q;M[U+o-1]=d}M.fill(L,(Z-1)*o,Z*o);
M[D-o]=~~(E*l*255);M[D-1]=~~(c*l*255)}return}}var H=Math.ceil(o/e),j=Math.ceil(Z/e),g=Math.ceil(o/H),K=Math.ceil(Z/j),a=Date.now();
for(var T=0;T<j;T++)for(var C=0;C<H;C++){var F=C*g,m=T*K,N=g,v=K,h=x.$B(N,v);if(!x.O.Ox(w))h.fillRect(0,0,N,v);
x.O.mk(w,h,-O.x-F,-O.y-m,b);var P=new Uint8Array(h.getImageData(0,0,N,v).data.buffer);if(N==o&&v==Z)x.Oj(P,M,3);
else x.Xz(P,new cn(F,m,N,v),M,new cn(0,0,o,Z))}};x.O.mk=function(w,M,O,b,D){if(D!=null){var o=!1,Z=!1,$=0,k=!1;
for(var U=0;U<w.length;U++){var E=w[U].K$;if(E!=null){$++;if(E==-1)o=!0;if(E>0)Z=!0;if(w[U].type==0)k=!0}}if(!o&&$<20&&(D==null||k))w=x.O.Qa(w)}for(var U=0;
U<w.length;U++){if(w[U].type>5)continue;var t=w[U].length;if(t==0)continue;if(U==w.length-1)break;var c=w[U].type==3,E=w[U].K$;
if(E!=-1&&D==null){var l=["xor","source-over","destination-out","source-in"][E];M.globalCompositeOperation=l}if(w[U].K$!=-1){M.beginPath();
if(D){var q=D.strokeStyleLineWidth.v.val,d=D.strokeStyleLineAlignment.v.strokeStyleLineAlignment,V=D.strokeStyleLineCapType.v.strokeStyleLineCapType,L=D.strokeStyleLineJoinType.v.strokeStyleLineJoinType,e=D.strokeStyleMiterLimit.v,H=[],j=D.strokeStyleLineDashSet.v;
for(var g=0;g<j.length;g++)H.push(j[g].v.val*q);M.setLineDash(H);M.lineCap=["butt","round","square"][aN.d_.nH.indexOf(V)];
M.lineJoin=["miter","round","bevel"][aN.d_.join.indexOf(L)];M.lineWidth=aN.d_.dB.indexOf(d)==1?q:q*=2;
M.miterLimit=e}}x.O.a4w(M,w,U+1,t,O,b,c);if(c){}else M.closePath();if(w[U+1+t]==null||w[U+1+t].K$!=-1){if(D)M.stroke();
else M.fill(E==-1?"nonzero":"evenodd")}U+=t}M.globalCompositeOperation="source-over"};x.O.a4w=function(w,M,U,O,b,D,o){var Z=M[U],$=null;
w.moveTo(Z.I.x+b,Z.I.y+D);for(var k=U;k<U+O-1;k++){Z=M[k];$=M[k+1];w.bezierCurveTo(Z.YJ.x+b,Z.YJ.y+D,$.vA.x+b,$.vA.y+D,$.I.x+b,$.I.y+D)}if(!o){Z=M[k];
$=M[U];w.bezierCurveTo(Z.YJ.x+b,Z.YJ.y+D,$.vA.x+b,$.vA.y+D,$.I.x+b,$.I.y+D)}};x.O.a4J=function(w,M){var O=[],b=M?4:1;
for(var U=0;U<w.length;U+=2){var D=new at(w[U],w[U+1]);O.push({type:b,vA:D.clone(),I:D.clone(),YJ:D.clone()})}return O};
x.O.nc=function(w,M,O){var b=x.p.qe(w),D=Math.sqrt(Math.sqrt(b.v()))*.2,o=.2;w=w.slice(0);var Z=w.length,$=M?0:2;
for(var k=0;k<5;k++)for(var U=$;U<w.length-$;U+=2){var E=(U-2+Z)%Z,t=(U+2)%Z,c=w[U],l=w[U+1],q=(w[E]+w[t])*.5,d=(w[E+1]+w[t+1])*.5;
w[U]=c+(q-c)*o;w[U+1]=l+(d-l)*o}if(O)return x.O.U_.fQ(w,null,!M);x.O.vu();var V=new paper.Path;V.remove();
V.closed=M;for(var U=0;U<w.length;U+=2)V.add(new paper.Point(w[U],w[U+1]));V.simplify(D);var L=[{type:6},{type:8,all:0}];
L=L.concat(x.O.Vo(V));return L};x.O.OV=function(w,M,O){var b=w[M].length,D=w[M].type,o=0,Z=w.slice(M+1,M+1+b);
for(var U=0;U<b;U++){var $=O[(U-1+b)%b],k=O[(U+1+b)%b],E=O[U];if(E!=0){var t=Z[(U-1+b)%b].I,c=Z[(U+0+b)%b].I,l=Z[(U+1+b)%b].I,q=at.we(c,t),d=at.we(c,l),V=x.p.JO(t.x,t.y,c.x,c.y,l.x,l.y,E)[0],L=Math.min(V,$==0?q:q/2,k==0?d:d/2);
E*=L/V;var e=x.p.anC(t.x,t.y,c.x,c.y,l.x,l.y,E),H={type:D+1,vA:new at(e[2],e[3]),I:new at(e[2],e[3]),YJ:new at(e[4],e[5])},j={type:D+1,vA:new at(e[6],e[7]),I:new at(e[8],e[9]),YJ:new at(e[8],e[9])};
w.splice(M+o+1,1,H,j);o++;w[M].length++}o++}};x.O.VA=function(w){for(var U=0;U<w.length;U++){var M=w[U],O=M.type;
if(O==1||O==2||O==4||O==5)if(!M.I.M5(M.vA)||!M.I.M5(M.YJ))return!1}return!0};x.O.WG=function(w){if(w.length!=7||w[2].length!=4||!x.O.VA(w))return!1;
for(var U=0;U<4;U++){var M=!0;for(var O=0;O<4;O++){var b=w[3+(U+O&3)],D=w[3+(U+O+1&3)];if(b.I.x!=D.I.x&&b.I.y!=D.I.y)M=!1}if(M)return!0}return!1};
x.O.asT=function(w){if(w.length<6)return 0;var M=w.length-2,O=0;for(var U=0;U<M;U+=2)O+=(w[U+2]-w[U])*(w[U+1]+w[U+3]);
O+=(w[0]-w[M])*(w[M+1]+w[1]);return-O*.5};x.O.mw=function(w){w=Q.G6.Zc(w);var M=x.O.wW(w);for(var O=0;
O<M;O++){var b=x.O.r$(w,O)+1,D=w[b-1].length,o=[];for(var U=0;U<D;U++){var Z=w[b+U].I;o.push(Z.x,Z.y)}var $=x.O.asT(o);
if($<0)x.O.a9Z(w,b-1)}return w};x.O.a9Z=function(w,M){var O=M+1,b=w[M].length,D=[];for(var U=0;U<b;U++){var o=w[O+U],Z=o.vA;
o.vA=o.YJ;o.YJ=Z;D.push(o)}for(var U=0;U<b;U++)w[O+U]=D[b-1-U]};x.O.U_={};x.O.U_.fQ=function(w,M,O){var b=[{type:6},{type:8,all:0}],D=null;
b.push({type:O?3:0,K$:1,length:0,r1:0,HP:0,pa:1});if(M==0||M==null)D=null;else if(M instanceof Array)D=M;
else{D=[];for(var U=0;U<w.length;U+=2)D.push(M)}b=b.concat(x.O.a4J(w,O));b[2].length=b.length-3;if(D)x.O.OV(b,2,D);
return b};x.O.U_.awy=function(w,M,O,b,D){var o=[],Z=[],$=.553,k=1,E=-1;o.push({type:1,vA:new at(0,$),I:new at(0,0),YJ:new at(0,-$)});
D+=2;for(var U=0;U<D;U++){var t={type:1};if(U==0){t.I=new at(1,-1);t.vA=new at(1-$,-1);t.YJ=new at(1+$,-1)}else{var c=-(U+2)*Math.PI/2,l=1+((U&1)==1?U-1:U),q=Math.sin(c),d=Math.cos(c);
k+=l*(q-d);E+=l*(d+q);t.I=new at(k,E);t.vA=new at(k+l*d*$,E-l*q*$);if((U&1)==1)l+=2;t.YJ=new at(k-l*d*$,E+l*q*$)}var V={type:1,vA:new at(-t.YJ.x,-t.YJ.y),I:new at(-t.I.x,-t.I.y),YJ:new at(-t.vA.x,-t.vA.y)};
o.push(t);if(U<D-2)Z.push(V)}Z.reverse();o=o.concat(Z);var L=[{type:6},{type:8,all:0}];L.push({type:0,K$:1,length:o.length,r1:0,HP:0,pa:1});
L=L.concat(o);var e=new f$(O/D,0,0,O/D,0,0);e.rotate(b);e.translate(w,M);x.O.I0(L,e);return L};x.O.U_.Rect=function(w,M,O,b,D){var o=[w,M,w+O,M,w+O,M+b,w,M+b];
return x.O.U_.fQ(o,D)};x.O.U_.vQ=function(w,M,O,b,D,o,Z,$){var k=[],E=2*Math.PI/D;for(var U=0;U<D;U++)k.push(Math.cos(U*E-b),Math.sin(U*E-b));
if(Z!=null){var t=x.p.qe(k),c=t.e,l=t.n,q=Z/(c/2),d=$/(l/2);for(var U=0;U<k.length;U+=2){k[U]=(k[U]-(t.x+c/2))*q;
k[U+1]=(k[U+1]-(t.y+l/2))*d}O=1}var V=new f$(O,0,0,O,0,0);V.translate(w,M);x.p.F(k,V,k);return x.O.U_.fQ(k,o)};
x.O.U_.d8=function(w,M,O,b,D,o,Z){var $=[],k=Math.PI/D;for(var U=0;U<D*2;U++){var E=(U&1)==0?1:Z;$.push(E*Math.cos(U*k),E*Math.sin(U*k))}var t=new f$(O,0,0,O,0,0);
t.rotate(b);t.translate(w,M);x.p.F($,t,$);return x.O.U_.fQ($,o)};x.O.U_.nY=function(w,M,O,b,D){return x.O.U_._h(0,w,M,O,b,D)};
x.O.U_.at$=function(w,M,O,b,D,o){return x.O.U_._h(1,w,M,O,b,D,o)};x.O.U_.xO=function(w,M,O,b,D,o){return x.O.U_._h(2,w,M,O,b,D,o)};
x.O.U_._h=function(w,M,O,b,D,o,Z){var $=Math.sqrt((b-M)*(b-M)+(D-O)*(D-O)),k;o/=2;if(w==0)k=[-o,0,o,0,o,$,-o,$];
if(w==1){var E=o*2*Z*1.3/1.5,t=o*Z;k=[-o,0,o,0,o,$-E,t,$-E,0,$,-t,$-E,-o,$-E]}if(w==2){var E=Z[3],t=Z[2]/2,c=E*(2/3)*Z[4]/100,l=E-c,q=E;
k=[];if(Z[0])k.push(-o,l,-t,q,0,0,t,q,o,l);else k.push(-o,0,o,0);if(Z[1])k.push(o,$-l,t,$-q,0,$,-t,$-q,-o,$-l);
else k.push(o,$,-o,$)}var d=new f$(1,0,0,1,0,0);d.rotate(Math.atan2(-D+O,b-M)+Math.PI/2);d.translate(M,O);
x.p.F(k,d,k);return x.O.U_.fQ(k,0)};x.O.U_.A1=function(w,M,O,b){var D=[{type:6},{type:8,all:0}],c=.553;
D.push({type:0,K$:1,length:4,r1:0,HP:0,pa:1});var o=w,Z=M,$=w+O,k=M+b,w=(o+$)/2,M=(Z+k)/2,E=(o-$)/2,t=(Z-k)/2;
D.push({type:1,vA:new at(w-c*E,M-t),I:new at(w,M-t),YJ:new at(w+c*E,M-t)});D.push({type:1,vA:new at(w+E,M-c*t),I:new at(w+E,M),YJ:new at(w+E,M+c*t)});
D.push({type:1,vA:new at(w+c*E,M+t),I:new at(w,M+t),YJ:new at(w-c*E,M+t)});D.push({type:1,vA:new at(w-E,M+c*t),I:new at(w-E,M),YJ:new at(w-E,M-c*t)});
return D};x.O.U_.au7=function(w,M,O,b,D){var o=[{type:6},{type:8,all:0}];o.push({type:3,K$:1,length:5,r1:0,HP:0,pa:1});
var Z=(D-b)/4;for(var U=0;U<5;U++){var $=U*Z,k=Math.cos($),E=Math.sin($),t=.553*(Z/(Math.PI/2)),c=E*t,l=-k*t,q=new at(k,E);
o.push({type:4,vA:U==0?q.clone():new at(k+c,E+l),I:q,YJ:U==4?q.clone():new at(k-c,E-l)})}var d=new f$;
d.rotate(-b);d.scale(O,O);d.translate(w,M);x.O.I0(o,d);return o};x.vL={};x.vL.type={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15]};
x.vL.hC=function(w){var M=w.warpStyle.v.warpStyle;if(M=="warpNone")return!0;else if(M=="warpCustom"){var O=!1,b=w.customEnvelopeWarp.v.meshPoints.v.arr,D=b[0].arr,o=b[1].arr;
for(var U=0;U<4;U++)for(var Z=0;Z<4;Z++){if(Math.abs(D[U]-D[Z*4+U])>1||Math.abs(o[U*4]-o[U*4+Z])>1)O=!0}return!O}else return w.warpValue.v==0&&w.warpPerspective.v==0&&w.warpPerspectiveOther.v==0};
x.vL.$=function(w){var M={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};
if(w){M.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:w.y}},Left:{t:"UntF",v:{type:"#Pxl",val:w.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:w.y+w.n}},Rght:{t:"UntF",v:{type:"#Pxl",val:w.x+w.e}}}};
M.uOrder={t:"long",v:4};M.vOrder={t:"long",v:4}}return M};x.vL.as3=function(w,M,O,b){for(var U=0;U<w.length;
U+=2){var D=w[U],o=w[U+1],Z=(D-M.x)/M.e,$=(o-M.y)/M.n,k=(1-O)/2,E=1-k,t=k+Z*(E-k);$=.5+($-.5)*t*2;var c=(1-b)/2,l=1-c,q=c+$*(l-c);
Z=.5+(Z-.5)*q*2;D=M.x+Z*M.e;o=M.y+$*M.n;w[U]=D;w[U+1]=o}};x.vL.Sa=function(w,M){var O=[],b=[];for(var U=0;
U<w.length;U+=2){O.push(w[U]);b.push(w[U+1])}var D=[];D.push({id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:O});
D.push({id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:b});M.warpStyle.v.warpStyle="warpCustom";M.customEnvelopeWarp={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:D}}}}};
x.vL.GS=function(w,M){if(M==null){var O=w.bounds.v,b=O.Left.v.val,D=O.Rght.v.val,o=O.Top.v.val,Z=O.Btom.v.val;
if(b==null){b=O.Left.v,D=O.Rght.v;o=O.Top.v,Z=O.Btom.v}M=new cn(b,o,D-b,Z-o)}if(M.S9())M.e=M.n=1;var $=[],k=w.warpStyle.v.warpStyle;
if(k=="warpCustom"){var E=w.customEnvelopeWarp.v.meshPoints.v.arr,t=E[0].arr,c=E[1].arr;for(var U=0;
U<16;U++)$.push(t[U],c[U])}else $=x.vL.vL(M,k,w.warpRotate.v.Ornt=="Hrzn",w.warpValue.v/100,w.warpPerspective.v/100,w.warpPerspectiveOther.v/100);
return $};x.vL.vL=function(w,M,O,b,D,o){var Z=x.zD.$(w.x,w.y,w.e,w.n);if(M=="warpNone")return Z;var $=JSON.parse(JSON.stringify(w)),k=new f$;
if(!O){k.translate(-w.x,-w.y);k.rotate(-Math.PI/2);k.translate(w.n,0);x.p.F(Z,k,Z);w=new cn(0,0,w.n,w.e);
Z=x.zD.cF(Z,!1)}x.vL.ac2(Z,w,M,b,D,o);if(!O){Z=x.zD.cF(Z,!0);w=$;k.ZW();x.p.F(Z,k,Z)}if(b==0)x.vL.as3(Z,w,D,o);
else{var k=new f$(1/w.e,0,0,1/w.n,-w.x,-w.y);k.translate(-.5,-.5);x.p.F(Z,k,Z);x.vL.ap4(Z,o,D);k.ZW();
x.p.F(Z,k,Z)}return Z};x.vL.ac2=function(w,M,O,b,D,o){for(var U=0;U<4;U++){for(var Z=0;Z<4;Z++){var $=2*(4*U+Z),k=w[$]-M.x,E=w[$+1]-M.y,t=k,c=E;
if(b!=0){var l=M.e/2,q=M.n/2;t-=l;c-=q;var d=t,V=t,L=-q,e=q,H=Math.abs(b),j=Math.tan((1-H)*Math.PI/2),g=Math.sqrt(j*j+1),K=Math.atan2(1,j),a=t/l*K,T=l*g,C=l*g+M.n,F=Math.cos(K),m=Math.sin(K),N=x.vL.acx(F,m),v=x.vL.au$(F,m),h=-j*l+N*T;
if(O=="warpArc"){d=Math.sin(a)*C;L=j*l-Math.cos(K)*C+q;V=Math.sin(a)*T;e=j*l-Math.cos(K)*T+q;if(Z==1||Z==2){d=Z==1?-v*C:v*C;
V=Z==1?-v*T:v*T;L=j*l+q-N*C;e=j*l+q-N*T}if(b<0){var P=d;d=V;V=P;P=L;L=-e;e=-P}}if(O=="warpArcLower"){if(Z==1||Z==2){V=Z==1?-v*T:v*T;
e=b<0?q-h:q+h}}if(O=="warpArcUpper"||O=="warpArch"||O=="warpBulge"){if(Z==1||Z==2){d=Z==1?-v*T:v*T;L=b<0?-q+h:-q-h}if(O=="warpArch"){V=d;
e=L+2*q}if(O=="warpBulge"){V=d;e=-L}}if(O=="warpFish"||O=="warpFlag"||O=="warpWave"){var J=Z;if(O=="warpFlag")J=3-Z;
if(J==1){L-=b*4*q;e+=b*4*q}if(J==2){L+=b*4*q;e-=b*4*q}if(O=="warpFlag"||O=="warpWave")L=e-2*q}if(O=="warpRise"){if(Z<2)L=-q+b*q*4;
e=L+2*q}var Y=(c+q)/M.n;t=d+Y*(V-d);c=L+Y*(e-L);if(O=="warpWave"){if(U==0)c=-q;if(U==3)c=q;if(U==1||U==2)c=2*q*(U/3-.5)*(1/3)+c*(2/3)}if(O=="warpFisheye"){if((U==1||U==2)&&(Z==1||Z==2)){t=t+4*t*b;
c=c+4*c*b}}if(O=="warpInflate"){var B=2/3;if((U==1||U==2)&&(Z==1||Z==2)){t=t+.5*t*b;c=c+.5*c*b}else if(U==1||U==2)t=t+B*t*b;
else if(Z==1||Z==2)c=c+B*c*b}if(O=="warpSqueeze"){var B=2/3;if((U==1||U==2)&&(Z==1||Z==2)){if(b>0)t=t-B*t*b;
else c=c+B*c*b}else if(U==1||U==2)t=t-B*t*b;else if(Z==1||Z==2)c=c+B*c*b}if(O=="warpTwist"){if((U==1||U==2)&&(Z==1||Z==2)){var S=b*Math.PI/2,g=1+Math.abs(b)*2,r=t*Math.cos(S)-c*Math.sin(S),I=t*Math.sin(S)+c*Math.cos(S);
t=r*g;c=I*g}}if(O=="warpShellLower"||O=="warpShellUpper"){if(O=="warpShellUpper"){U=3-U;c=-c}if(U>2||U==2&&(Z==0||Z==3)){if(b>0){var f=T+U/3*2*q;
t=Math.sin(a)*f;c=-j*l-q+Math.cos(a)*f;if(Z==1||Z==2){t=Z==1?-v*f:v*f;c=-j*l-q+N*f}}else{if((Z==1||Z==2)&&U==3){t=Z==1?-v*T:v*T;
c=j*l-N*T+q}else if(U==2){c=q-q*(2/3)*Math.cos(a);t=t+q*(2/3)*Math.sin(a)}}}if(O=="warpShellUpper"){U=3-U;
c=-c}}t+=l;c+=q}k=t,E=c;w[$]=k+M.x;w[$+1]=E+M.y}}};x.vL.ap4=function(w,M,O){var b=[];for(var D=0;D<4;
D++)b.push(1-O+D/3*2*O);var o=[];for(var D=0;D<4;D++)o.push(1-M+D/3*2*M);var Z=[0,0,0,0],$=[0,0,0,0];
for(var U=0;U<4;U++)for(var D=0;D<4;D++){var k=2*(4*U+D),E=w[k],t=w[k+1];Z[D]+=E/4;$[D]+=t/4}for(var U=0;
U<4;U++)for(var D=0;D<4;D++){var c=b[D],k=2*(4*U+D),E=w[k],t=w[k+1],l=Z[D],q=$[D];w[k]=l+c*(E-l);w[k+1]=q+c*(t-q)}var d=w.slice(0);
for(var U=0;U<4;U++)for(var D=1;D<3;D++){var k=2*(4*U+D),E=w[k],t=w[k+1],V=k+(D==1?-2:2),L=w[V],e=w[V+1];
w[k]=E-L;w[k+1]=t-e}var H=w[0],j=w[1],g=w[8],K=w[9],a=w[16],T=w[17],C=w[24],F=w[25],m=w[6],N=w[7],v=w[14],h=w[15],P=w[22],J=w[23],Y=w[30],B=w[31],S=m-H,r=N-j,I=v-g,f=h-K,s=P-a,W=J-T,i=Y-C,u=B-F;
for(var U=0;U<4;U++){var z=2*U*4,G=0,g_=0,cl=U==1?.33:.66,p=1-cl;if(U==0){G=S;g_=r}if(U==1){G=p*S+cl*-i;
g_=p*r+cl*-u}if(U==2){G=p*S+cl*-i;g_=p*r+cl*-u}if(U==3){G=-i;g_=-u}w[z]=w[z]+G/2;w[z+1]=w[z+1]+g_/2;
w[z+6]=w[z+6]-G/2;w[z+7]=w[z+7]-g_/2}for(var U=0;U<4;U++)for(var D=1;D<3;D++){var k=2*(4*U+D),E=w[k],t=w[k+1],V=k+(D==1?-2:2),L=w[V],e=w[V+1],c=2*U/3;
w[k]=L+c*E;w[k+1]=e+c*t}for(var U=1;U<3;U++)for(var D=1;D<3;D++){var k=2*(4*U+D),E=w[k],t=w[k+1],b2=U==1?-8:-16,jz=U==1?16:8,aT=w[k+b2],fZ=w[k+b2+1],ft=w[k+jz],cc=w[k+jz+1],c=U/3;
E=(1-c)*aT+c*ft;t=(1-c)*fZ+c*cc;w[k]=E;w[k+1]=t}x.p.yL(d,w,w,M)};x.vL.acx=function(w,M){return(4-w)*(1/3)};
x.vL.au$=function(w,M){return(1-w)*(3-w)/(3*M)};x.Jz={};x.Jz.a8u=function(w,M,O,b,D,o,Z,$,k,E){for(var t=0;
t<$;t++)for(var c=0;c<Z;c++){var l=3*(t*Z+c),q=t+o,d=c+D,V=w[q*M+d];b[l]=V;b[l+1]=V;b[l+2]=V}};x.Jz.Co=function(w,M,O,b,D,o,Z,$,k,E){var t=[0,1,1/2,1/3,1/4,1/5,1/6,1/7,1/8,1/9],c=1/k,l=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],q=new Uint32Array(6);
for(var d=0;d<$;d++){for(var V=0;V<Z;V++){var L=3*(d*Z+V),e=d+o,H=V+D;q[0]=0;q[1]=0;q[2]=0;q[3]=0;q[4]=0;
q[5]=0;for(var U=0;U<16;U+=2){var j=H+l[U],g=e+l[U+1],K=j-k*~~(j*c),a=g-k*~~(g*c),T=E[a*k+K];q[T]+=w[g*M+j];
q[T+3]++}var j=H,g=e,K=j-k*~~(j*c),a=g-k*~~(g*c),T=E[a*k+K];q[T]=w[e*M+H];q[T+3]=1;b[L]=q[0]*t[q[3]];
b[L+1]=q[1]*t[q[4]];b[L+2]=q[2]*t[q[5]]}}};x.Jz.ln=function(w,M,O){for(var U=0;U<O;U+=2)w[M+U]=w[M+U+1];
M=M+O;for(var U=0;U<O;U+=2)w[M+U+1]=w[M+U]};x.Jz.LV=function(w,M,O,b){for(var U=0;U<b;U+=2){var D=M+U*O;
w[D]=w[D+O];w[D+O+1]=w[D+1]}};x.Jz.tY=function(w,M,O,b,D,o){var Z=b[D],$=b[D+1],k=b[o],E=b[o+1],t=$+k>>>1;
w[M]=w[M+3]=w[O]=w[O+3]=Z;w[M+1]=t;w[M+4]=$;w[O+1]=k;w[O+4]=t;w[M+2]=w[M+5]=w[O+2]=w[O+5]=E};x.Jz.amZ=function(w,M,O,b,D,o){var Z=o*3;
for(var U=0;U<o;U+=2){var $=M+U,k=D+U*3;x.Jz.tY(b,k,k+Z,w,$,$+O)}};x.Jz.amf=function(w,M,O,b,D,o,Z){var $=o*3;
for(var U=0;U<Z;U+=2){var k=M+U*O,E=D+U*o*3;x.Jz.tY(b,E,E+$,w,k,k+O)}};x.Jz.c2=function(w,U,M){var O=w[U-M-M],b=w[U-M],D=w[U-2],o=w[U-1],Z=w[U],$=w[U+1],k=w[U+2],E=w[U+M],t=w[U+M+M],c=Math.abs(b-E),l=Math.abs(o-$),q=Math.abs(Z-O)*2+c,d=Math.abs(Z-k)*2+l,V=Math.abs(Z-D)*2+l,L=Math.abs(Z-t)*2+c,e=Math.min(q,Math.min(d,Math.min(V,L)));
if(e==q)return b*3+E+Z-O>>2;if(e==d)return $*3+o+Z-k>>2;if(e==V)return o*3+$+Z-D>>2;return E*3+b+Z-t>>2};
x.Jz.Iq=function(w,M,O,b,D){if(w<M&&M<O||w>M&&M>O)return~~(.5+b+(D-b)*(M-w)/(O-w));else return(b+D>>1)+(M+M-w-O>>2)};
x.Jz.PJ=function(w,M,U,O){var b=M[U-O-1],D=M[U-O+1],o=M[U],Z=M[U+O-1],$=M[U+O+1],k=w[U-O-1],E=w[U-O+1],t=w[U],c=w[U+O-1],l=w[U+O+1],q=Math.abs(E-c)+Math.abs(w[U-O-O+2]-t)+Math.abs(t-w[U+O+O-2])+Math.abs(D-o)+Math.abs(o-Z),d=Math.abs(k-l)+Math.abs(w[U-O-O-2]-t)+Math.abs(t-w[U+O+O+2])+Math.abs(b-o)+Math.abs(o-$);
if(q<d)return x.Jz.Iq(D,o,Z,E,c);else return x.Jz.Iq(b,o,$,k,l)};x.Jz.P8=function(w,M,O,b,D,o){w[M+0]=O[D];
w[M+1]=b[D];w[M+2]=x.Jz.PJ(O,b,D,o)};x.Jz.ma=function(w,M,O,b,D,o){var Z=b[D];w[M+0]=x.Jz.Iq(b[D-1],Z,b[D+1],O[D-1],O[D+1]);
w[M+1]=Z;w[M+2]=x.Jz.Iq(b[D-o],Z,b[D+o],O[D-o],O[D+o])};x.Jz.B6=function(w,M,O,b,D,o){var Z=b[D];w[M+0]=x.Jz.Iq(b[D-o],Z,b[D+o],O[D-o],O[D+o]);
w[M+1]=Z;w[M+2]=x.Jz.Iq(b[D-1],Z,b[D+1],O[D-1],O[D+1])};x.Jz.L7=function(w,M,O,b,D,o){w[M+0]=x.Jz.PJ(O,b,D,o);
w[M+1]=b[D];w[M+2]=O[D]};x.Jz.ay9=function(w,M,O,b,D,o,Z,$,k){var E=Date.now(),t=2,c=M-2,l=2;if((D&1)==1){t++;
c--}var q=O-2;if((o&1)==1){l++;q--}if(k==1||k==3){t++;c--}var d=w.slice(0);x.Jz.ln(d,0,M);x.Jz.LV(d,0,M,O);
x.Jz.LV(d,M-2,M,O);x.Jz.ln(d,(O-2)*M,M);for(var V=l;V<q;V+=2)for(var L=t;L<c;L+=2){var U=V*M+L,e=x.Jz.c2(d,U,M),H=x.Jz.c2(d,U+M+1,M);
d[U]=Math.max(0,e);d[U+M+1]=Math.max(0,H)}var j=Z,g=$;if(o+$==O){g-=2;x.Jz.amZ(w,(O-2)*M+D,M,b,($-2)*Z*3,Z)}if(D+Z==M){j-=2;
x.Jz.amf(w,o*M+D+Z-2,M,b,(Z-2)*3,Z,$)}if(k==0)for(var V=0;V<g;V+=2)for(var L=0;L<j;L+=2){var K=(V+o)*M+L+D,a=(V*Z+L)*3;
x.Jz.P8(b,a,w,d,K,M);x.Jz.ma(b,a+3,w,d,K+1,M);K+=M;a+=3*Z;x.Jz.B6(b,a,w,d,K,M);x.Jz.L7(b,a+3,w,d,K+1,M)}else if(k==1)for(var V=0;
V<g;V+=2)for(var L=0;L<j;L+=2){var K=(V+o)*M+L+D,a=(V*Z+L)*3;x.Jz.ma(b,a,w,d,K,M);x.Jz.P8(b,a+3,w,d,K+1,M);
K+=M;a+=3*Z;x.Jz.L7(b,a,w,d,K,M);x.Jz.B6(b,a+3,w,d,K+1,M)}else if(k==2)for(var V=0;V<g;V+=2)for(var L=0;
L<j;L+=2){var K=(V+o)*M+L+D,a=(V*Z+L)*3;x.Jz.L7(b,a,w,d,K,M);x.Jz.B6(b,a+3,w,d,K+1,M);K+=M;a+=3*Z;x.Jz.ma(b,a,w,d,K,M);
x.Jz.P8(b,a+3,w,d,K+1,M)}else if(k==3)for(var V=0;V<g;V+=2)for(var L=0;L<j;L+=2){var K=(V+o)*M+L+D,a=(V*Z+L)*3;
x.Jz.B6(b,a,w,d,K,M);x.Jz.L7(b,a+3,w,d,K+1,M);K+=M;a+=3*Z;x.Jz.P8(b,a,w,d,K,M);x.Jz.ma(b,a+3,w,d,K+1,M)}};
x.raw={};x.raw.awp=function(w){var M=Date.now(),O=w.width,b=w.height,D=0,o=0,Z=O,$=b;if(w.t50829){var k=w.t50829;
D=k[1];o=k[0];Z=k[3];$=k[2]}if(w.t50719){var E=w.t50719;D+=E[0]>>1<<1;o+=E[1]>>1<<1}if(w.t50720){var t=w.t50720;
Z=D+t[0];$=o+t[1]}var c=Z-D,l=$-o,q=x.raw.alY(w),d=w.t33422,V=w.t33421;if(V){var t=V[0],L=d.slice(0);
for(var e=0;e<t;e++)for(var H=0;H<t;H++){var j=(H+(D&1))%t,g=(e+(o&1))%t;L[e*t+H]=d[g*t+j]}d=L}if(w.t277[0]==1)x.raw.avP(q,O,b,w,d);
x.raw.Bu(2,w,q,O,b);var K=new Float32Array(c*l*3);if(w.t277[0]==1){if(V==null){x.Jz.a8u(q,O,b,K,D,o,c,l)}else if(V.length!=2||V[0]!=2||V[1]!=2){console.log("Unknown CFA pattern size",V);
x.Jz.Co(q,O,b,K,D,o,c,l,V[0],d)}else{var a=w.t33422.join(","),T=0;if(a=="0,1,1,2")T=0;else if(a=="1,0,2,1")T=1;
else if(a=="2,1,1,0")T=2;else if(a=="1,2,0,1")T=3;else throw"Unknown CFA pattern "+a;if((c&1)!=0||(l&1)!=0)throw"e";
x.Jz.ay9(q,O,b,K,D,o,c,l,T)}}else{for(var e=0;e<l;e++)for(var H=0;H<c;H++){var C=((e+o)*O+H+D)*3,F=(e*c+H)*3;
K[F+0]=q[C+0];K[F+1]=q[C+1];K[F+2]=q[C+2]}}var m=K,N=K.length,v=x.raw.XJ(w),h=1/v;for(var U=0;U<N;U+=3){K[U]=m[U]*h;
K[U+1]=m[U+1]*h;K[U+2]=m[U+2]*h}x.raw.Bu(3,w,K,c,l);var P=w.J2,J=c,Y=l;if(P==1||P==9){}else{var B=x.raw.HG(P,c,l),F=0;
J=B[0];Y=B[1];var S=K.slice(0);for(var e=0;e<Y;e++)for(var H=0;H<J;H++){var r=B[2]*H+B[3]*e+B[4],I=B[5]*H+B[6]*e+B[7],C=(I*c+r)*3;
K[F]=S[C];K[F+1]=S[C+1];K[F+2]=S[C+2];F+=3}}return{AJ:K,_g:J,XE:Y}};x.raw.HG=function(w,M,O){var b=M,D=O;
if(!1){}else if(w==2)return[M,O,-1,0,M-1,0,1,0];else if(w==3)return[M,O,-1,0,M-1,0,-1,O-1];else if(w==4)return[M,O,1,0,0,0,-1,O-1];
else if(w==5)return[O,M,0,1,0,1,0,0];else if(w==6)return[O,M,0,1,0,-1,0,O-1];else if(w==7)return[O,M,0,-1,M-1,-1,0,O-1];
else if(w==8)return[O,M,0,-1,M-1,1,0,0];else throw"unknown orientation "+w};x.raw.avP=function(w,M,O,b,D){var o=Date.now(),h=0,Y=0;
if(x.raw.XJ(b)>4e4){for(var U=0;U<w.length;U++)w[U]>>=1;var Z=["t50714","t50715","t50712","t50717"];
for(var U=0;U<Z.length;U++){var $=b[Z[U]];if($)for(var k=0;k<$.length;k++)$[k]>>>=1}console.log("remapping to lower bit depth")}var E=~~Math.sqrt(D.length),t=[-1,-1,0,-1,0,1,-1,0,0,0,1,0,-1,1,0,1,1,1],c=[];
for(var l=0;l<E;l++)for(var q=0;q<E;q++){var U=l*E+q,d=D[U],V=4,L=4,e=8,H=0,j=0;for(var k=0;k<18;k+=2){var g=(E+q+t[k])%E,K=(E+l+t[k+1])%E,a=D[K*E+g];
if(a==d){}else if(V==4){V=a;H=k}else if(L==4&&a!=V){L=a;j=k;break}}if(L<V){var T=L;L=V;V=T;T=j;j=H;H=T}if(V<d){var T=V;
V=d;d=T;T=H;H=e;e=T}if(L<V){var T=L;L=V;V=T;T=j;j=H;H=T}c[U*3]=t[e+1]*M+t[e];c[U*3+1]=t[H+1]*M+t[H];
c[U*3+2]=t[j+1]*M+t[j]}var C=~~(.996*x.raw.XJ(b)),F=~~(.992*x.raw.XJ(b)),m=b.t50728;if(m[0]==0)m=[1,1,1];
var N=[],v=[0,0,0];for(var l=1;l<O-1;l++)for(var q=1;q<M-1;q++){var U=l*M+q,P=l%E*E+q%E,d=w[U+c[P*3+0]],V=w[U+c[P*3+1]],L=w[U+c[P*3+2]],J=Math.max(d,V,L);
if(J>C)N.push(U);else if(J>F){v[0]+=d;v[1]+=V;v[2]+=L;h++}}if(N.length==0)return;if(h/(M*O)<1e-5){console.log("not enough semi-saturated pixels",h);
v=m}if(v[1]<v[Y])Y=1;if(v[2]<v[Y])Y=2;var B=[v[0]/v[Y],v[1]/v[Y],v[2]/v[Y]],S=w.slice(0);for(var r=0;
r<N.length;r++){var U=N[r],l=~~(U/M),q=U-l*M,P=l%E*E+q%E,I=Math.min(65535,~~(w[U+c[P*3+Y]]*B[D[P]]));
if(I>S[U])S[U]=I}w.set(S)};x.raw.BX=function(w,M,O,b){var D=Math.round(w.length/3),o=fK.RU(b[0],b[1]),Z=x.raw.a4n(O,o),$=x.in.multiply(x.in.SU,Z),k=Math.pow(2,O.t50730?O.t50730[0]:0);
$=x.in.multiply($,x.in._I(k,k,k));var E=x.raw.BX.auR;if(E==null){E=x.raw.BX.auR=new Float64Array(8e3);
for(var U=0;U<8e3;U++)E[U]=x.I6(U*(1/1e3))}for(var U=0;U<D;U++){var t=U<<2,c=t-U,l=w[c],q=w[c+1],d=w[c+2],V=$[0]*l+$[1]*q+$[2]*d,L=$[4]*l+$[5]*q+$[6]*d,e=$[8]*l+$[9]*q+$[10]*d;
if(V<0)V=0;if(L<0)L=0;if(e<0)e=0;M[c]=E[~~(V*1e3)];M[c+1]=E[~~(L*1e3)];M[c+2]=E[~~(e*1e3)]}};x.raw.alY=function(w){var M=w.width,O=w.height,b=M*O*w.t277,D=new Uint16Array(b),o=null,Z=0;
x.raw.aaT(w,D);x.raw.Bu(1,w,D,M,O);if(w.t50712){o=w.t50712;Z=o.length-1;if(o[Z]>65535)throw"too big values"}var $=x.raw.wA(w),k=x.raw.Z5(w);
if(o==null)for(var U=0;U<b;U++)D[U]=Math.max(0,D[U]-$);else for(var U=0;U<b;U++){var E=D[U];if(E>Z)E=Z;
E=o[E];D[U]=Math.max(0,E-$)}return D};x.raw.wA=function(w){var M=w.t50714,O=M?M[0]:0,b=w.t50715,D=w.t50716;
if(b)O+=b[0][0]/b[0][1];if(D)O+=D[0][0]/D[0][1];return Math.round(O)};x.raw.Z5=function(w){var M=null,O=0;
if(w.t50712){M=w.t50712;O=M.length-1}var b=w.t50717?w.t50717[0]:(1<<w.t258[0])-1;if(M)b=Math.min(b,M[O]);
return b};x.raw.XJ=function(w){var M=x.raw.wA(w),O=x.raw.Z5(w);return O-M};x.raw.aaT=function(w,M){var O=M.length,b=w.data,D=w.t258[0];
if(D!=16&&D!=14&&D!=12&&D!=10&&D!=8)throw"Unsupported Bits Per Sample:"+D;D=Math.round(b.length*8/O);
if(D==16&&w.isLE){x.U7(b,M);return}for(var U=0;U<O;U+=2){var o=0,Z=0,$=0;if(D==16){o=U<<1;Z=b[o]<<8|b[o+1];
$=b[o+2]<<8|b[o+3]}else if(D==14){var k=U*14,E=k>>>3,t=b[E]<<24|b[E+1]<<16|b[E+2]<<8|b[E+3];if((k&7)==0){Z=t>>>18;
$=t>>>4&16383}else{Z=t>>>14&16383;$=t&16383}}else if(D==12){o=U+(U>>>1);Z=b[o]<<4|b[o+1]>>4;$=(b[o+1]&15)<<8|b[o+2]}else if(D==10){var k=U*10,E=k>>>3;
if((k&7)==0){Z=(b[E]<<2|b[E+1]>>6)&1023;$=(b[E+1]<<4|b[E+2]>>4)&1023}else{Z=(b[E]<<6|b[E+1]>>2)&1023;
$=(b[E+1]<<8|b[E+2]>>0)&1023}}else if(D==8){o=U;Z=b[o];$=b[o+1]}M[U]=Z;M[U+1]=$}};x.raw.aq6=function(w,M,O,b,D,o,Z){var $=w-.499999,k=M-.499999,E=~~$,t=~~k,c=$-E,l=k-t,q=(1-l)*(1-c),d=(1-l)*c,V=l*(1-c),L=l*c,e=(t*b+E)*3,H=((t+1)*b+E)*3,j=q*O[e]+d*O[e+3]+V*O[H]+L*O[H+3],g=q*O[e+1]+d*O[e+4]+V*O[H+1]+L*O[H+4],K=q*O[e+2]+d*O[e+5]+V*O[H+2]+L*O[H+5];
o[Z]=j;o[Z+1]=g;o[Z+2]=K};x.raw.Bu=function(w,M,O,b,D){var o=M["t"+[51008,51009,51022][w-1]],t=0;if(o==null)return;
var Z=b*D,$=n.A,k=n.BR,E=new Uint8Array(o),bM=n.A(E,t);t+=4;for(var c=0;c<bM;c++){var l=$(E,t);t+=4;
var q=$(E,t);t+=4;var d=$(E,t);t+=4;var V=$(E,t);t+=4;if(!1){}else if(l==1&&w==3){var L=t,e=$(E,L);L+=4;
var H=k(E,L);L+=8;var j=k(E,L);L+=8;var g=k(E,L);L+=8;var K=k(E,L);L+=8;var a=k(E,L);L+=8;var T=k(E,L);
L+=8;L+=(e-1)*8*6;var C=k(E,L);L+=8;var F=k(E,L);L+=8;var m=C*b,N=F*D,v=Math.max(m,b-m),h=Math.max(N,D-N),P=Math.sqrt(v*v+h*h),J=1/P,Y=O.slice(0);
for(var B=0;B<D;B++)for(var S=0;S<b;S++){var r=(S+.5-m)*J,I=(B+.5-N)*J,f=r*r+I*I,s=H+j*f+g*(f*f)+K*(f*f)*f,W=a*(2*r*I)+T*(f+2*r*r),i=T*(2*r*I)+a*(f+2*I*I),u=Math.min(m+P*(s*r+W),b-1),z=Math.min(N+P*(s*I+i),D-1),G=(B*b+S)*3;
x.raw.aq6(u,z,Y,b,D,O,G)}}else if(l==3&&w==3){var L=t,g_=k(E,L);L+=8;var cl=k(E,L);L+=8;var p=k(E,L);
L+=8;var b2=k(E,L);L+=8;var jz=k(E,L);L+=8;var C=k(E,L);L+=8;var F=k(E,L);L+=8;var m=C*b,N=F*D,v=Math.max(m,b-m),h=Math.max(N,D-N),P=Math.sqrt(v*v+h*h),J=1/P;
for(var B=0;B<D;B++)for(var S=0;S<b;S++){var r=(S+.5-m)*J,I=(B+.5-N)*J,f=r*r+I*I,aT=1+(g_+(cl+(p+(b2+jz*f)*f)*f)*f)*f,G=(B*b+S)*3;
O[G]=aT*O[G];O[G+1]=aT*O[G+1];O[G+2]=aT*O[G+2]}}else if(l==4&&w==1){var L=t,fZ=$(E,L);L+=4;var ft=$(E,L);
L+=4;for(var U=0;U<Z;U++)if(O[U]==fZ)O[U]=O[U-2]+O[U+2]>>1}else if(l==5&&w==1){var L=t,cc=$(E,L);L+=4;
var kr=$(E,L);L+=4;var hG=$(E,L);L+=4;for(var U=0;U<kr;U++){var hi=$(E,L);L+=4;var bU=$(E,L);L+=4;var U=hi*b+bU;
O[U]=O[U-2]+O[U+2]>>1}}else if(l==7&&w==1){var L=t,ic=n.WM(E,L);L+=16;var iQ=$(E,L);L+=4;var bx=$(E,L);
L+=4;var aR=$(E,L),gs=$(E,L+4);L+=8;var k7=$(E,L);L+=4;var fT=new Uint16Array(k7);for(var U=0;U<k7;U++)fT[U]=n.z0(E,L+2*U);
var aH=ic.e,e7=ic.n;for(var B=0;B<e7;B+=aR)for(var S=0;S<aH;S+=gs){var U=(ic.y+B)*b+(ic.x+S);O[U]=fT[O[U]]}}else if(l==8&&w==2){var L=t,ic=n.WM(E,L);
L+=16;var iQ=$(E,L);L+=4;var bx=$(E,L);L+=4;var aR=$(E,L),gs=$(E,L+4);L+=8;var dB=$(E,L);L+=4;var ia=[];
for(var U=0;U<=dB;U++)ia[U]=n.BR(E,L+U*8);var d7=ic.x,hf=ic.x+ic.e,gv=ic.y,hN=ic.y+ic.n,hP=M.t50717[0],gP=1/hP;
for(var aB=0;aB<bx;aB++)for(var B=gv;B<hN;B+=aR){var G=3*B*b+iQ+aB;for(var S=d7;S<hf;S+=gs){var U=G+3*S,i7=O[U]*gP,dI=ia[dB];
for(var gh=dB;gh>0;gh--)dI=dI*i7+ia[gh-1];O[U]=Math.max(0,Math.min(65535,~~(dI*hP)))}}}else if(l==9&&w==2){var L=t,ic=n.WM(E,L),ds=!0;
L+=16;var iQ=$(E,L);L+=4;var bx=$(E,L);L+=4;var aR=$(E,L),gs=$(E,L+4);L+=8;var b9=$(E,L),ij=$(E,L+4);
L+=8;var ax=k(E,L),iX=k(E,L+8);L+=16;var am=k(E,L),jf=k(E,L+8);L+=16;var eJ=$(E,L);L+=4;if(eJ!=1)throw"more than one map plane";
var hZ=b9*ij,hC=new Float32Array(hZ);for(var gh=0;gh<hZ;gh++)hC[gh]=n.y1(E,L+gh*4);for(var gh=0;gh<hZ;
gh++)if(hC[gh]!=1)ds=!1;if(!ds){var aH=ic.e,e7=ic.n,hV=.9999*(ij-1)/aH,bv=.9999*(b9-1)/e7;for(var B=0;
B<e7;B+=aR)for(var S=0;S<aH;S+=gs){var U=(ic.y+B)*b+(ic.x+S),hl=S*hV,jQ=B*bv,a$=Math.floor(hl),jB=Math.floor(jQ),jL=hl-a$,c1=jQ-jB,G=jB*ij+a$,fd=hC[G]*(1-jL)+hC[G+1]*jL,g2=hC[G+ij]*(1-jL)+hC[G+1+ij]*jL,ed=fd*(1-c1)+g2*c1;
O[U]=Math.max(0,Math.min(65535,~~(O[U]*ed+.5)))}}}else console.log("Unknown opcode "+l+" in OpcodeList"+w+". Length: "+V);
t+=V}};x.raw.a4n=function(w,M){var O=fK.xN(M),b=x.raw.ec(w,M),D=x.in.ZW(b),o=fK.cR(O,fK.xN(fK.ax0)),Z=x.in.multiply(o,D);
return Z};x.raw.acU=function(w){var M=w.t50728,D=1;if(M==null||M[0]==0)M=[1,1,1];var O=M.slice(0);O.push(0);
var b={x:.34567,y:.3585};do{var o=x.in.ZW(x.raw.ec(w,b)),Z=x.in.Tl(o,O),$=fK.a25(Z);D=Math.abs(b.x-$.x)+Math.abs(b.y-$.y);
b=$}while(D>1e-7);return b};x.raw.ec=function(w,M){var O=fK.CM(M),b=x.raw.aei,D=w.t50778?w.t50778[0]:0,o=w.t50779?w.t50779[0]:0,Z=b(w.t50721,w.t50722,D,o,O.Ph),$=b(w.t50723,w.t50724,D,o,O.Ph);
Z=Z||[1,0,0,0,1,0,0,0,1];$=$||[1,0,0,0,1,0,0,0,1];var k=w.t50727?[w.t50727[0],0,0,0,w.t50727[1],0,0,0,w.t50727[2]]:[1,0,0,0,1,0,0,0,1];
return x.in.multiply(x.in.Du(k),x.in.multiply(x.in.Du($),x.in.Du(Z)))};x.raw.aei=function(w,M,O,b,D){if(!w&&!M){return null}else if(w&&!M){return w}else if(D<O){return w}else if(D>b){return M}else{var o=(1/D-1/b)/(1/O-1/b),Z=1-o,$=[];
for(var U=0;U<9;U++)$[U]=w[U]*o+M[U]*Z;return $}};var fK={};fK.ax0={x:.34567,y:.3585};fK.se=[{o:0,rb:.18006,X$:.26352,GG:-.24341},{o:10,rb:.18066,X$:.26589,GG:-.25479},{o:20,rb:.18133,X$:.26846,GG:-.26876},{o:30,rb:.18208,X$:.27119,GG:-.28539},{o:40,rb:.18293,X$:.27407,GG:-.3047},{o:50,rb:.18388,X$:.27709,GG:-.32675},{o:60,rb:.18494,X$:.28021,GG:-.35156},{o:70,rb:.18611,X$:.28342,GG:-.37915},{o:80,rb:.1874,X$:.28668,GG:-.40955},{o:90,rb:.1888,X$:.28997,GG:-.44278},{o:100,rb:.19032,X$:.29326,GG:-.47888},{o:125,rb:.19462,X$:.30141,GG:-.58204},{o:150,rb:.19962,X$:.30921,GG:-.70471},{o:175,rb:.20525,X$:.31647,GG:-.84901},{o:200,rb:.21142,X$:.32312,GG:-1.0182},{o:225,rb:.21807,X$:.32909,GG:-1.2168},{o:250,rb:.22511,X$:.33439,GG:-1.4512},{o:275,rb:.23247,X$:.33904,GG:-1.7298},{o:300,rb:.2401,X$:.34308,GG:-2.0637},{o:325,rb:.24792,X$:.34655,GG:-2.4681},{o:350,rb:.25591,X$:.34951,GG:-2.9641},{o:375,rb:.264,X$:.352,GG:-3.5814},{o:400,rb:.27218,X$:.35407,GG:-4.3633},{o:425,rb:.28039,X$:.35577,GG:-5.3762},{o:450,rb:.28863,X$:.35714,GG:-6.7262},{o:475,rb:.29685,X$:.35823,GG:-8.5955},{o:500,rb:.30505,X$:.35907,GG:-11.324},{o:525,rb:.3132,X$:.35968,GG:-15.628},{o:550,rb:.32129,X$:.36011,GG:-23.325},{o:575,rb:.32931,X$:.36038,GG:-40.77},{o:600,rb:.33724,X$:.36051,GG:-116.45}];
fK.CM=function(w){var M=fK.se,O=2*w.x/(1.5-w.x+6*w.y),b=3*w.y/(1.5-w.x+6*w.y),D=0,o=0,Z=0;for(;Z<31;
Z++){D=b-M[Z].X$-M[Z].GG*(O-M[Z].rb);if(Z>0&&D<0){break}o=D}while(Z>=M.length)Z--;D/=Math.sqrt(1+M[Z].GG*M[Z].GG);
o/=Math.sqrt(1+M[Z-1].GG*M[Z-1].GG);var $=o/(o-D),k=1e6/((M[Z].o-M[Z-1].o)*$+M[Z-1].o),E=O-((M[Z].rb-M[Z-1].rb)*$+M[Z-1].rb),t=b-((M[Z].X$-M[Z-1].X$)*$+M[Z-1].X$),c=Math.sqrt(1+M[Z].GG*M[Z].GG),l=1/c,q=M[Z].GG/c,d=Math.sqrt(1+M[Z-1].GG*M[Z-1].GG),V=1/d,L=M[Z-1].GG/d,e=(l-V)*$+V,H=(q-L)*$+L,j=Math.sqrt(e*e+H*H);
e/=j;H/=j;var g=(E*e+t*H)*-3e3;return{Ph:k,Ut:g}};fK.RU=function(w,M){var O=fK.se,b=1e6/w,D=1;for(;D<31;
D++){if(b<O[D].o){break}}var o=(O[D].o-b)/(O[D].o-O[D-1].o),Z=(O[D-1].rb-O[D].rb)*o+O[D].rb,$=(O[D-1].X$-O[D].X$)*o+O[D].X$,k=Math.sqrt(1+O[D].GG*O[D].GG),E=1/k,t=O[D].GG/k,c=Math.sqrt(1+O[D-1].GG*O[D-1].GG),l=1/c,q=O[D-1].GG/c,d=(l-E)*o+E,V=(q-t)*o+t,L=Math.sqrt(d*d+V*V);
d/=L;V/=L;Z+=d*M/-3e3;$+=V*M/-3e3;return{x:1.5*Z/(Z-4*$+2),y:$/(Z-4*$+2)}};fK.a25=function(w){var M=w[0]+w[1]+w[2];
return{x:w[0]/M,y:w[1]/M}};fK.xN=function(w){return{x:w.x/w.y,y:1,_M:(1-w.x-w.y)/w.y}};fK.cR=function(w,M){var O=x.in.Du([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),b=[w.x,w.y,w._M,0],D=[M.x,M.y,M._M,0];
b=x.in.Tl(O,b);D=x.in.Tl(O,D);var o=D[0]/b[0],Z=D[1]/b[1],$=D[2]/b[2],k=x.in.Du([o,0,0,0,Z,0,0,0,$]),E=x.in.ZW(O);
return x.in.multiply(x.in.multiply(E,k),O)};x.raw.hW={};x.raw.wG=function(w){w*=8;var M=[8,10,12,14,16];
for(var O in CAMS){var b=CAMS[O];if(b.length==4)continue;var D=b[4],o=b[5];for(var U=0;U<M.length;U++)if(D*o*M[U]==w)return[O,M[U]]}var Z=[[4e3,3e3]];
for(var U=0;U<Z.length;U++){var b=Z[U],D=b[0],o=b[1];for(var U=0;U<M.length;U++)if(D*o*M[U]==w)return[b,M[U]]}return null};
x.raw.awQ=function(w){var w=new Uint8Array(w);for(var U=0;U<w.length;U+=2){var M=w[U];w[U]=w[U+1];w[U+1]=M}var O=x.raw.wG(w.length),b=CAMS[O[0]];
if(b==null)b=[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],0,1e3,64383,O[0][0],O[0][1]];var D=b[4],o=b[5],Z=Math.max(b[2],116),$={data:w,J2:1,width:D,height:o,t256:[D],t257:[o],t258:[O[1]],t277:[1],t33421:[2,2],t33422:x.raw.Fk[b[1]],t50706:[1,2,0,0],t50714:[Z,Z,Z,Z],t50717:[b[3]],t50721:b[0].slice(0),t50723:[1,0,0,0,1,0,0,0,1],t50728:[.64,1,.46],t50778:[17]};
for(var U=0;U<9;U++)$.t50721[U]/=1e4;return $};x.raw.hO=function(w){if(w==null||w.length==0||typeof w[0]=="number")return w;
var M=[];for(var U=0;U<w.length;U++)M[U]=w[U][1]==0?0:w[U][0]/w[U][1];return M};x.raw.Fk=[[2,1,1,0],[0,1,1,2],[1,0,2,1],[1,2,0,1]];
x.raw.normalize=function(w,M){if(w.t50706!=null||w.t271[0].startsWith("Hasselblad")){var O=[50714,50718,50719,50720,50721,50722,50723,50724,50727,50728,50730,50731,50732,50734,50736,50738,50739,50780,50964,50965];
for(var U=0;U<O.length;U++)if(w["t"+O[U]]!=null)w["t"+O[U]]=x.raw.hO(w["t"+O[U]]);if(w.t271&&w.t271[0].startsWith("Hasselblad")){w.t50706=[1,2,0,0];
w.t33422=x.raw.Fk[1];w.t50723=[1,0,0,0,1,0,0,0,1];w.t50778=[17];if(!w.isLE)for(var U=0;U<w.data.length;
U+=2){var b=w.data[U];w.data[U]=w.data[U+1];w.data[U+1]=b}}return}var D=w.t258[0],o=w.exifIFD,M=new Uint8Array(M);
w.t50706=[1,2,0,0];var Z=w.t272[0].trim();if(Z.indexOf(" ")==-1)Z=w.t271[0].trim()+" "+Z;if(w.t50708==null)w.t50708=[Z];
var $=Z.toLowerCase(),k=CAMS,E=k[$];if(E==null)for(var t in k)if($.startsWith(t))E=k[t];if(E==null)alert("Unknown camera:"+Z);
else{var c=E[2];w.t50714=[c,c,c,c];w.t50717=[E[3]];w.t50721=E[0].slice(0);for(var U=0;U<9;U++)w.t50721[U]=w.t50721[U]*(1/1e4)}w.t50723=[1,0,0,0,1,0,0,0,1];
if(w.t50728==null)w.t50728=[.35,1,.6];w.t50778=[17];if(w.t271[0].startsWith("SONY")){var l=UTIF["_bin"+(w.isLE?"LE":"BE")],q=w.t28688,g;
if(JSON.stringify(q)!="[8000,10400,12900,14100]")console.log(q);if(q){var d=[0,0,0,0,0,4095],V=new Uint16Array(16385);
for(var U=0;U<4;U++){var L=q[U]>>>2;d[U+1]=L;if(L>4095)throw"e"}for(var U=0;U<16385;U++)V[U]=U;for(var U=0;
U<5;U++)for(var e=d[U]+1;e<=d[U+1];e++)V[e]=V[e-1]+(1<<U);var H=M.length*8<w.width*w.height*D;if(H)w.t50712=V}else console.log("no curve");
var j=w.dngPrvt;if(j){var K=j.t29184[0],a=j.t29185[0],T=(w.isLE?n.Yx:n.A)(j.t29217,0),C=new Uint32Array(M.slice(K,K+(a&4294967292)).buffer),F=new Uint32Array(a>>>2);
x.raw.acm(C,F,a>>>2,T);var m=new Uint8Array(K+a);m.set(new Uint8Array(F.buffer),K);var N=[];UTIF._readIFD(l,m,K,N,0,!1);
var v=N.pop(),h=v.t29458;w.t50728=[h[1]/h[0],1,h[1]/h[3]];w.t50730=[.5];var P=v.t29891;w.t50829=[P[1],P[0],P[3],P[2]]}else if(o.makerNote&&o.makerNote.t8208){var g=o.makerNote,J=g.t8208,Y=J.length,B=0,S=new Uint8Array(256);
for(var U=249;U<256;U++)S[U]=U;for(var U=0;U<249;U++)S[U*U*U%249]=U;for(var U=0;U<Y;U++)J[U]=S[J[U]];
if(Y==6604)B=612;else throw"e";var h=[];for(var U=0;U<3;U++)h.push(n.xh(J,B+U*2));console.log(h);w.t50728=[h[1]/h[0],1,h[1]/h[2]]}else console.log("no white balance");
if(w.width*w.height*1.5==w.t279[0]){c=c>>>2;w.t50714=[c,c,c,c];w.t50717=[E[3]>>>2]}}else if(w.t271[0].startsWith("Canon")){var M=w.data,r=M.slice(0),I=w.t50752,f=[],W=0;
if(I==null||I[0]==0&&I[1]==0)f.push(w.width);else{for(var U=0;U<I[0];U++)f.push(I[1]);f.push(I[2])}var s=w.width*2,i=w.t50885&&w.t50885[0]==4;
if(!i)for(var u=0;u<f.length;u++){var z=f[u],G=2*W,g_=2*z;for(var cl=0;cl<w.height;cl+=2){var p=cl*s+G,b2=w.height*G+cl*g_;
for(var U=0;U<g_;U++){M[p+U]=r[b2+U];M[p+U+s]=r[b2+U+g_]}}W+=z}else{for(var u=0;u<f.length;u++){var z=f[u]/((I[0]*I[1]+I[2])/w.width);
for(var cl=0;cl<w.height;cl++){var p=(cl*w.width+W)*6,b2=(w.height*W+cl*z)*6;for(var U=0;U<z*6;U++)M[p+U]=r[b2+U]}W+=z}var jz=new Uint16Array(M.buffer),aT=new Uint16Array(1),fZ=new Int16Array(aT.buffer);
for(var U=0;U<jz.length;U+=3){var ft=jz[U],cc=jz[U+1],kr=jz[U+2];aT[0]=cc<<2;cc=fZ[0]>>2;aT[0]=kr<<2;
kr=fZ[0]>>2;jz[U+0]=Math.max(0,kr+ft);jz[U+1]=Math.max(0,(ft<<12)-cc*778-(kr<<11)>>12);jz[U+2]=Math.max(0,cc+ft)}}var g=o.makerNote;
if(g.t16385){var hG=g.t224,ic=0;if(hG){w.t50719=[hG[5],hG[6]];w.t50720=[hG[7]+1-hG[5],hG[8]+1-hG[6]]}var hi=g.t16385,bU=hi.length;
if(bU==582)ic=1;else if(bU==653)ic=2;else if(bU==796)ic=3;else if([692,674,702,1227,1250,1251,1337,1338,1346].indexOf(bU)!=-1)ic=4;
else if(bU==5120){ic=5;hi=new Int16Array(hi.slice(0).buffer)}else if(bU==1273||bU==1275)ic=6;else if([1312,1313,1316,1506].indexOf(bU)!=-1)ic=7;
else if([1560,1592,1353,1602].indexOf(bU)!=-1)ic=8;else throw"e"+bU;var iQ=hi[0],bx=[null,[25,166],[34,286],[63,196],[63],[71,iQ==-4?333:264],[63,251],[63,iQ==10?504:728],[63,326]],B=bx[ic][0],aR=bx[ic][1];
if(ic==4){if(hi[0]==2)aR=231;else if(hi[0]==3)aR=231;else if(hi[0]==4)aR=231;else if(hi[0]==5)aR=231;
else if(hi[0]==6)aR=231;else if(hi[0]==7)aR=231;else if(hi[0]==9)aR=231;else throw"e"}w.t50728=[hi[B+1]/hi[B],1,hi[B+1]/hi[B+3]];
var c=aR==null?1024:hi[aR];if(ic!=4)w.t50714=[c,c,c,c]}else{w.t50728=[.4,1,.6]}if(i){w.t277=[3];w.t50728=[1,1,1];
w.t50714=[0,0,0,0]}}else if(w.t271[0].startsWith("NIKON")){var g=o.makerNote,gs=w.isLE?n.xh:n.iV,ia=0,d7=0,gP,ax=0;
if(g.t61){var k7=g.t61,fT=[];for(var U=0;U<4;U++)fT[U]=k7[U]/Math.pow(2,14-D);w.t50714=fT}if(g.t3585){var aH=g.t3585,U=0,K=22;
while(K<aH.length&&U!=-4){var e7=n.Yx(aH,K);K+=4;K+=14;U=n.Yx(aH,K)-4;K+=4;if(e7==1990472198){if(aH[K]!=0)throw"Flip"}if(e7==1990472199){var dB=n.xh(aH,K);
if(dB==0)w.J2=1;else if(dB==270)w.J2=8;else throw"e "+dB}K+=U}}if(g.t183){var hf=g.t183,gv=[];for(var U=0;
U<6;U++)gv.push(gs(hf,16+U*2));ia=gv[0];d7=gv[1]}if(g.t3614){var hN=g.t3614;ia=n.Yx(hN,8);d7=n.Yx(hN,12)}if(ia!=0&&Math.max(ia,d7)<Math.max(w.width,w.height)){if(ia<d7){var b=ia;
ia=d7;d7=b}var W=w.width-ia>>>1,cl=w.height-d7>>>1;w.t50829=[cl,W,cl+d7,W+ia]}else w.t50829=[8,8,w.height-8,w.width-56];
var hP=g.t69;if(hP)w.t50829=[hP[1],hP[0],hP[1]+hP[3],hP[0]+hP[2]];if(g.t12){var aB=x.raw.hO(g.t12);gP=[1/aB[0],1,1/aB[1]]}else if(g.t151){var i7=x.raw.a0W(g,151),dI=i7[0],hb=i7[1],gh=i7[2];
if(dI=="0100"&&hb>=80)throw"e";else if(dI=="0102"){var b9=[];for(var U=0;U<4;U++)b9.push(gs(gh,6+U*2));
gP=[b9[1]/b9[0],1,b9[1]/b9[3]]}else if(dI=="0103"&&hb>=26){var b9=[];for(var U=0;U<4;U++)b9.push(gs(gh,16+U*2));
gP=[b9[1]/b9[0],1,b9[3]/b9[2]]}else if(dI=="0204"&&hb>=564||dI=="0205"&&hb>=284){var K=dI=="0204"?6:14,b9=[];
for(var U=0;U<4;U++)b9.push(gs(gh,K+U*2));gP=[b9[1]/b9[0],1,b9[1]/b9[3]]}else throw"e"}else console.log("no white balance info");
if(Z=="NIKON D1")gP=[1,1,1];if(gP)w.t50728=gP;var ij=g.t150?g.t150:g.t140;if(ij){var iX=ij[ax++],am=ij[ax++],hZ;
if(iX==73||am==88)ax+=2110;ax+=8;var jf=1<<D&32767,eJ=gs(ij,ax);ax+=2;var V=[];if(eJ>1)hZ=Math.floor(jf/(eJ-1));
if(iX==68&&am==32&&hZ>0){for(U=0;U<eJ;U++){V[U*hZ]=gs(ij,ax);ax+=2}for(U=0;U<jf;U++)V[U]=Math.floor((V[U-U%hZ]*(hZ-U%hZ)+V[U-U%hZ+hZ]*(U%hZ))/hZ)}else if(iX!=70&&eJ<=16385){jf=eJ;
for(var U=0;U<eJ;U++)V[U]=gs(ij,ax+2*U);ax+=2*eJ}var hC=w.t272[0];if(V.length!=0)w.t50712=new Uint16Array(V);
if(w.t258[0]==14&&w.t50717[0]<1e4){console.log("fixing white");w.t50717[0]*=4}}}else if(Z.startsWith("FujiFilm")){}else if(Z.startsWith("Panasonic")){}else alert("Unknown camera "+Z)};
x.raw.acm=function(w,M,O,b){if(0==O)return;var D=new Uint32Array(128),o=new Uint8Array(D.buffer),Z=127,$=0,k=0;
for(var Z=0;Z<4;Z++)D[Z]=b=(b*15625>>>0)*3125+1>>>0;D[3]=D[3]<<1|(D[0]^D[2])>>>31;for(var Z=4;Z<127;
Z++)D[Z]=(D[Z-4]^D[Z-2])<<1|(D[Z-3]^D[Z-1])>>>31;for(var Z=0;Z<127;Z++)D[Z]=n.A(o,Z*4);for(;O>0;O--){D[Z&127]=D[Z+1&127]^D[Z+1+64&127];
var E=D[Z&127],t=w[$];t^=E;M[k]=t;$++;k++;Z++}};x.raw.apO=function(w,M){var O=n.TP(M,0,4),b=x.raw.a5_;
for(var U=0;U<b.length;U++)if(b[U][0]==w&&O.startsWith(b[U][1])&&(b[U][2]==0||b[U][2]==M.length))return b[U];
throw"e"};x.raw.alz=function(w){if(w.t29==null)return[];var M=x.raw.ab_,O=x.raw.arw,b=w.t29[0],D=0,Z=0;
for(var U=0;U<b.length;U++){var o=b.charCodeAt(U);D=D*10+(48<=o&&o<=57?o-48:o%10)}var hb=w.t167[0];for(var U=0;
U<4;U++)Z^=hb>>>(U<<3)&255;var $=M[D&255],k=O[Z&255];return[$,k,96]};x.raw.a0W=function(w,M){var O=w["t"+M],hb=O.length,b=x.raw.apO(M,O),D=n.TP(O,0,4),o,Z=b[4];
if(Z==null)o=O.slice(4);else{o=new Uint8Array(hb-Z);var $=x.raw.alz(w),k=$[0],E=$[1],t=$[2];for(var U=0;
U<o.length;U++){E=E+k*t++&255;o[U]=O[Z++]^E}}return[D,hb,o]};x.raw.a5_=[[145,"0208",0,0,4],[145,"0209",0,1,4],[145,"0210",5291,2,4],[145,"0210",5303,3,4],[145,"02",0,4,4],[145,"01",0,5,null],[151,"0100",0,0,null],[151,"0102",0,1,null],[151,"0103",0,4,null],[151,"0204",0,3,284],[151,"0205",0,2,4],[151,"0206",0,3,284],[151,"0207",0,3,284],[151,"0208",0,3,284],[151,"0209",0,5,284],[151,"02",0,3,284],[152,"0100",0,0,null],[152,"0101",0,1,null],[152,"0201",0,1,4],[152,"0202",0,1,4],[152,"0203",0,1,4],[152,"0204",0,2,4],[168,"0100",0,0,null],[168,"0101",0,0,null],[168,"0102",0,1,null],[168,"0103",0,2,null]];
x.raw.ab_=[193,191,109,13,89,197,19,157,131,97,107,79,199,127,61,61,83,89,227,199,233,47,149,167,149,31,223,127,43,41,199,13,223,7,239,113,137,61,19,61,59,19,251,13,137,193,101,31,179,13,107,41,227,251,239,163,107,71,127,149,53,167,71,79,199,241,89,149,53,17,41,97,241,61,179,43,13,67,137,193,157,157,137,101,241,233,223,191,61,127,83,151,229,233,149,23,29,61,139,251,199,227,103,167,7,241,113,167,83,181,41,137,229,43,167,23,41,233,79,197,101,109,107,239,13,137,73,47,179,67,83,101,29,73,163,19,137,89,239,107,239,101,29,11,89,19,227,79,157,179,41,67,43,7,29,149,89,89,71,251,229,233,97,71,47,53,127,23,127,239,127,149,149,113,211,163,11,113,163,173,11,59,181,251,163,191,79,131,29,173,233,47,113,101,163,229,7,53,61,13,181,233,229,71,59,157,239,53,163,191,179,223,83,211,151,83,73,113,7,53,97,113,47,67,47,17,223,23,151,251,149,59,127,107,211,37,191,173,199,197,197,181,139,239,47,211,7,107,37,73,149,37,73,109,113,199];
x.raw.arw=[167,188,201,173,145,223,133,229,212,120,213,23,70,124,41,76,77,3,233,37,104,17,134,179,189,247,111,97,34,162,38,52,42,190,30,70,20,104,157,68,24,194,64,244,126,95,27,173,11,148,182,103,180,11,225,234,149,156,102,220,231,93,108,5,218,213,223,122,239,246,219,31,130,76,192,104,71,161,189,238,57,80,86,74,221,223,165,248,198,218,202,144,202,1,66,157,139,12,115,67,117,5,148,222,36,179,128,52,229,44,220,155,63,202,51,69,208,219,95,245,82,195,33,218,226,34,114,107,62,208,91,168,135,140,6,93,15,221,9,25,147,208,185,252,139,15,132,96,51,28,155,69,241,240,163,148,58,18,119,51,77,68,120,40,60,158,253,101,87,22,148,107,251,89,208,200,34,54,219,210,99,152,67,161,4,135,134,247,166,38,187,214,89,77,191,106,46,170,43,239,230,120,182,78,224,47,220,124,190,87,25,50,126,42,208,184,186,41,0,60,82,125,168,73,59,45,235,37,73,250,163,170,57,167,197,167,80,17,54,251,198,103,74,245,165,18,101,126,176,223,175,78,179,97,127,47];
x._G={};x._G._G=function(w,M,O,b,D){if(b==null)b=3;if(D==null)D=!0;var o=w.e,Z=w.n,$=1/o,k=o*Z,E=Date.now(),t=!1,c=x._G.hs(O,o,Z,255,128),l=x._G.hs(O,o,Z,0,128),cl=0;
if(t)console.log("extract contours",Date.now()-E);E=Date.now();var q=function(dI,gh){var b9=dI<<2,ij=gh<<2;
return M[b9]+M[b9+1]+M[b9+2]-(M[ij]+M[ij+1]+M[ij+2])};c.sort(q);l.sort(q);var d=x.$(k),V=x.$(k),L=[],e=new Uint32Array(o*Z);
e.fill(4294967295);for(var U=0;U<k;U++)if(O[U]==0)V[U]=255;else if(O[U]==255)d[U]=255;else{e[U]=L.length;
L.push(U)}var H=c.length,j=l.length,g=L.length;function K(dI,gh,b9,ij){var ax=dI.length,iX=new Array(ax*2);
for(var U=0;U<ax;U++){var B=dI[U],S=~~(B*ij),r=B-S*b9,gP=B<<2;iX[U*2]=r<<16|S;iX[U*2+1]=gh[gP]<<16|gh[gP+1]<<8|gh[gP+2]}return iX}var a=K(c,M,o,$),T=K(l,M,o,$),C=K(L,M,o,$);
if(t)console.log("Itemize",Date.now()-E,"Unknown:",g,H,j);E=Date.now();var F=x.style.Ov(d,o,Z,!0),m=x.style.Ov(V,o,Z,!0),N=new Array(g),v=new Array(g),h=new Array(g),P=new Array(g),J=new Array(g);
if(t)console.log("Dist transform",Date.now()-E);E=Date.now();var Y=x._G.n2;for(var U=0;U<g;U++){var B=L[U],S=~~(B*$),r=B-S*o,I=F[B<<1],f=F[(B<<1)+1],s=Math.sqrt(I*I+f*f),W=m[B<<1],i=m[(B<<1)+1],u=Math.sqrt(W*W+i*i);
N[U]=1/s;v[U]=1/u;var z=Math.floor(x.a.Tr(B*17)*H),G=Math.floor(x.a.Tr(B*19)*j);h[U]=z;P[U]=G;J[U]=Y(C[U*2],C[U*2+1],a[z*2],a[z*2+1],T[G*2],T[G*2+1],N[U],v[U],1e9)}var g_=[-o-1,-o,-o+1,-1,1,o-1,o,o+1];
while(Math.floor(Math.max(H,j)*Math.pow(.5,cl))>1)cl++;for(var p=0;p<b;p++){var b2=0;for(var U=0;U<g;
U++){var B=L[U],S=~~(B*$),r=B-S*o,jz=N[U],aT=v[U],fZ=C[U*2],ft=C[U*2+1],cc=J[U],z=h[U],G=P[U],iQ=1;if(S!=0&&r!=0&&r!=o-1&&S!=Z-1)for(var kr=0;
kr<8;kr++){var hG=e[B+g_[kr]];if(hG==4294967295)continue;var hi=h[hG],bU=P[hG];if(hi==z&&bU==G)continue;
var ic=Y(fZ,ft,a[hi*2],a[hi*2+1],T[bU*2],T[bU*2+1],jz,aT,cc);if(ic<cc){cc=ic;z=hi;G=bU}}for(var bx=0;
bx<cl;bx++){var aR=~~(H*iQ),gs=~~(j*iQ);iQ*=.5;var k7=x.a.Tr(B+p*17+bx*31),fT=x.a.Tr(B+p*29+bx*63),aH=Math.max(0,z-aR),e7=Math.min(z+aR,H-1),dB=Math.max(0,G-gs),ia=Math.min(G+gs,j-1),hi=aH+~~(k7*(e7-aH)),bU=dB+~~(fT*(ia-dB)),ic=Y(fZ,ft,a[hi*2],a[hi*2+1],T[bU*2],T[bU*2+1],jz,aT,cc);
if(ic<cc){cc=ic;z=hi;G=bU}}J[U]=cc;h[U]=z;P[U]=G;b2+=cc}}if(t)console.log(b2);if(t)console.log("iterations",Date.now()-E);
E=Date.now();var d7=O.slice(0);for(var U=0;U<g;U++){var hf=x._G.alpha(C[U*2+1],a[h[U]*2+1],T[P[U]*2+1]);
d7[L[U]]=~~(.5+255*hf)}d7=x.XG.axu(d7,M,new cn(0,0,o,Z),16,.01*.01);if(t)console.log("guided filter",Date.now()-E);
E=Date.now();if(D)for(var U=0;U<k;U++)if(O[U]==255||O[U]==0)d7[U]=O[U];var gv=M.slice(0);for(var U=0;
U<g;U++){var hP=L[U],z=c[h[U]],cc=J[U],gP=hP<<2,aB=d7[hP],i7=(aB>=250?hP:z)<<2;gv[gP]=M[i7];gv[gP+1]=M[i7+1];
gv[gP+2]=M[i7+2]}x.Jm(d7,gv,3);if(t)console.log(Date.now()-E);E=Date.now();return gv};x._G.n2=function(w,M,O,b,D,o,Z,$,k){var E=w>>>16,t=w&65535,c=E-(O>>>16),l=t-(O&65535),q=E-(D>>>16),d=t-(D&65535),V=Math.sqrt(c*c+l*l)*Z,L=Math.sqrt(q*q+d*d)*$;
if(V+L>=k)return 1e9;var e=x._G.a1b(M,b,o);return e+V+L};x._G.a1b=function(w,M,O){var b=w>>>16,D=w>>>8&255,o=w&255,Z=M>>>16,$=M>>>8&255,k=M&255,E=O>>>16,t=O>>>8&255,c=O&255,l=x._G.alpha(w,M,O),q=b-(l*Z+(1-l)*E),d=D-(l*$+(1-l)*t),V=o-(l*k+(1-l)*c);
return Math.sqrt(q*q+d*d+V*V)};x._G.alpha=function(w,M,O){var b=w>>>16,D=w>>>8&255,o=w&255,Z=M>>>16,$=M>>>8&255,k=M&255,E=O>>>16,t=O>>>8&255,c=O&255,l=Z-E,q=$-t,d=k-c,V=b-E,L=D-t,e=o-c,H=l*l+q*q+d*d,j=H==0?.5:(V*l+L*q+e*d)/H;
return Math.max(0,Math.min(1,j))};x._G.afN=function(w){};x._G.hs=function(w,M,O,b,D){var o=[],Z=M-1,$=O-1;
for(var k=1;k<$;k++)for(var E=1;E<Z;E++){var U=k*M+E;if(w[U]==b&&(w[U-M-1]==D||w[U-M]==D||w[U-M+1]==D||(w[U-1]==D||w[U+1]==D)||(w[U+M-1]==D||w[U+M]==D||w[U+M+1]==D)))o.push(U)}return o};
x.XG={};x.XG.afS=function(w,M,O,b,D){var o=O.e,Z=O.n,$=o*Z,k=x.XG.Yp,E=x.$($*4),t;x.TZ(E,4294967295);
var c=O,l=w,q=M,d=b;x.Jm(w,E,0);t=x.YK(E,O);t=x.YK(t.AJ,t.rect);c=t.rect;d=b>>>2;console.log(c,d);l=x.$(c.v());
x.Oj(t.AJ,l,0);x.Jm(M,E,0);t=x.YK(E,O);t=x.YK(t.AJ,t.rect);q=x.$(c.v());x.Oj(t.AJ,q,0);var V=x.XG.ajV(l,q,c,d,D),L=V[0],e=V[1],H=new cn(0,0,c.e*2,c.n*2);
L=k(L,c,H,!0);L=k(L,H,O,!0);e=k(e,c,H,!0);e=k(e,H,O,!0);var j=x.$($);for(var U=0;U<$;U++)j[U]=Math.max(0,Math.min(255,Math.floor(.5+(L[U]*M[U]+255*e[U]))));
return j};x.XG.Yp=function(w,M,O,b){var D=O.e,o=O.n,Z=M.e,$=M.n,k=x.XG.PU,E=new Float32Array(D*o);for(var t=0;
t<$;t++){var c=(t+t)*D;for(var l=0;l<Z;l++){if(!0||l==0||t==0||l==Z-1||t==$-1)E[c]=E[c+1]=E[c+D]=E[c+D+1]=w[t*Z+l];
else{E[c]=k(l+.25,t+.25,w,Z,$);E[c+1]=k(l+.75,t+.25,w,Z,$);E[c+D]=k(l+.25,t+.75,w,Z,$);E[c+D+1]=k(l+.75,t+.75,w,Z,$)}c+=2}}return E};
x.XG.PU=function(w,M,O,b,D){w-=.499999;M-=.499999;var o=Math.floor(w),Z=Math.floor(M),$=Z*b+o,k=w-o,E=M-Z,t=(1-E)*(1-k),c=(1-E)*k,l=E*(1-k),q=E*k;
if(O[$]==null||O[$+b+1]==null){console.log(w,M,b,D);throw"e"}return t*O[$+0]+c*O[$+1]+l*O[$+b+0]+q*O[$+b+1]};
x.XG.ajV=function(w,M,O,b,D){var o=O.e,Z=O.n,$=o*Z,k=x.XG.O0,E=x.XG.$,t=x.m8.ZL,c=x.XG.IR,M=k(M),w=k(w),l=E($);
t(M,l,O,b);var q=E($);t(w,q,O,b);var d=E($);c(M,M,d);t(d,d,O,b);var V=E($);c(M,w,V);t(V,V,O,b);var L=E($),e=E($);
for(var U=0;U<$;U++){var H=l[U],j=q[U],g=d[U]-H*H,K=V[U]-H*j,a=K/(g+D),T=j-a*H;L[U]=a;e[U]=T}var C=E($);
t(L,C,O,b);var F=E($);t(e,F,O,b);return[C,F]};x.XG.axu=function(w,M,O,b,D){var o=O.e,Z=O.n,$=o*Z,k=x.XG.Yp,E=Date.now(),t=!1,c=O,l=w,q=M,d=b;
c=new cn(0,0,o>>>2,Z>>>2);d=b>>>2;l=x.XG.anJ(w,o,Z);q=x.XG.a9U(M,o,Z);if(t)console.log(Date.now()-E);
E=Date.now();var V=x.XG.ahi(l,q,c,d,D),L=V[0],e=V[1],H=V[2],j=V[3];if(t)console.log(Date.now()-E);E=Date.now();
var g=x.$($);for(var K=0;K<Z;K++)for(var a=0;a<o;a++){var U=K*o+a,T=(K>>>2)*(o>>>2)+(a>>>2),C=U<<2,F=L[T]*M[C]+e[T]*M[C+1]+H[T]*M[C+2]+j[T]*255;
g[U]=Math.max(0,Math.min(255,~~(.5+F)))}if(t)console.log(Date.now()-E);E=Date.now();return g};x.XG.anJ=function(w,M,O){var b=M>>>2,D=O>>>2,o=x.$(M*O);
for(var Z=0;Z<D;Z++)for(var $=0;$<b;$++)o[Z*b+$]=w[Z*M+$<<2];return o};x.XG.a9U=function(w,M,O){var b=M>>>2,D=O>>>2,o=x.$(M*O*4);
for(var Z=0;Z<D;Z++)for(var $=0;$<b;$++){var k=Z*b+$<<2,E=Z*M+$<<4;o[k]=w[E];o[k+1]=w[E+1];o[k+2]=w[E+2];
o[k+3]=w[E+3]}return o};x.XG.ahi=function(w,M,O,b,D){var o=O.e,Z=O.n,$=o*Z,k=x.XG.O0,E=x.XG.$,t=x.m8.ZL,c=x.XG.IR,w=k(w),l=new x.ka(o*Z);
x.tb(M,l);var M=[k(l.o),k(l.w),k(l.L)],q=x.XG.aq$(w,M,O,b,D),d=E($);t(w,d,O,b);var V=E($);c(M[0],w,V);
t(V,V,O,b);var L=E($);c(M[1],w,L);t(L,L,O,b);var e=E($);c(M[2],w,e);t(e,e,O,b);var H=E($),j=E($),g=E($),K=E($);
for(var U=0;U<$;U++){var a=d[U],T=q.qT[U],C=q.TR[U],F=q.nG[U],m=V[U]-T*a,N=L[U]-C*a,v=e[U]-F*a;H[U]=q.afE[U]*m+q.tA[U]*N+q.J0[U]*v;
j[U]=q.tA[U]*m+q.aub[U]*N+q.oz[U]*v;g[U]=q.J0[U]*m+q.oz[U]*N+q.ad5[U]*v;K[U]=a-H[U]*T-j[U]*C-g[U]*F}t(H,H,O,b);
t(j,j,O,b);t(g,g,O,b);t(K,K,O,b);return[H,j,g,K]};x.XG.aq$=function(w,M,O,b,D){var o=O.e,Z=O.n,$=o*Z,k=x.XG.$,E=x.m8.ZL,t=x.XG.IR,c={};
c.qT=k($);E(M[0],c.qT,O,b);c.TR=k($);E(M[1],c.TR,O,b);c.nG=k($);E(M[2],c.nG,O,b);var l=k($);t(M[0],M[0],l);
E(l,l,O,b);var q=k($);t(M[0],M[1],q);E(q,q,O,b);var d=k($);t(M[0],M[2],d);E(d,d,O,b);var V=k($);t(M[1],M[1],V);
E(V,V,O,b);var L=k($);t(M[1],M[2],L);E(L,L,O,b);var e=k($);t(M[2],M[2],e);E(e,e,O,b);c.afE=l;c.tA=q;
c.J0=d;c.aub=V;c.oz=L;c.ad5=e;for(var U=0;U<$;U++){var H=c.qT[U],j=c.TR[U],g=c.nG[U],K=l[U]-H*H+D,a=q[U]-H*j,T=d[U]-H*g,C=V[U]-j*j+D,F=L[U]-j*g,m=e[U]-g*g+D,N=C*m-F*F,v=F*T-a*m,h=a*F-C*T,P=K*m-T*T,J=T*a-K*F,Y=K*C-a*a,B=N*K+v*a+h*T,S=1/B;
c.afE[U]=N*S;c.tA[U]=v*S;c.J0[U]=h*S;c.aub[U]=P*S;c.oz[U]=J*S;c.ad5[U]=Y*S}return c};x.XG.$=function(w){return new Float32Array(w)};
x.XG.O0=function(w){var M=w.length,O=new Float32Array(M);for(var U=0;U<M;U++)O[U]=w[U]*(1/255);return O};
x.XG.IR=function(w,M,O){for(var U=0;U<w.length;U++)O[U]=w[U]*M[U]};x.wo={};x.wo.ug=function(w,M,O,b){var D=w[M]-O[b],o=w[M+1]-O[b+1],Z=w[M+2]-O[b+2];
return Math.sqrt(D*D+o*o+Z*Z)*(1/441.7)};x.wo.getSelection=function(w,M,O){var b=M*O,D=x.$(b),o=!1,Z=Math.round(O*.7),$=1,k=new Uint32Array(12),E=x.$(12);
for(var t=0;t<Z;t++)for(var c=0;c<M;c++){if(c<$||t<$||c>M-$-1||t>O-$-1){var U=t*M+c,l=U<<2,q=0;if(t<$)q=4;
else if(c>M-$-1)q=8;k[q]+=w[l];k[q+1]+=w[l+1];k[q+2]+=w[l+2];k[q+3]++;D[U]=255}}for(var U=0;U<12;U+=4)for(var d=0;
d<3;d++)E[U+d]=k[U+d]/k[U+3];var V=new Float32Array(b);for(var U=0;U<b;U++){var l=U*4,L=x.wo.ug(w,l,E,0),e=x.wo.ug(w,l,E,4),H=x.wo.ug(w,l,E,8),j=Math.max(L,Math.max(e,H));
V[U]=L+e+H-j}x.wo.mg(V);var g=Date.now(),K=new Float32Array(b),a=[],T=x.$(b);for(var U=0;U<3;U++){x.Oj(w,T,U);
var C=new Uint16Array(b);a.push(C);x.wo.am4(T,D,M,O,C)}if(o)console.log("MBD",Date.now()-g);g=Date.now();
for(var U=0;U<b;U++)K[U]=a[0][U]+a[1][U]+a[2][U];x.wo.mg(K);for(var U=0;U<b;U++)K[U]+=.4*V[U];var F=M>>>1,Z=O>>>1,m=1/Math.sqrt(F*F+Z*Z);
for(var t=0;t<O;t++)for(var c=0;c<M;c++){var N=c-F,v=t-Z,h=1-Math.sqrt(N*N+v*v)*m;K[t*M+c]*=h}if(o)console.log("Centeredness",Date.now()-g);
g=Date.now();for(var U=0;U<b;U++)D[U]=K[U]*255;var P=Math.round(M/120),J=Math.round(P*.8);if(o)console.log(P,J);
x.Zy.Jf(D,T,M,O,P,x.Zy.Ce,[]);D.set(T);if(o)console.log("erosion",Date.now()-g);g=Date.now();for(var U=0;
U<b;U++)K[U]=D[U];x.wo.mg(K);var Y=x.$(256);for(var U=0;U<256;U++)Y[U]=256/(1+Math.exp(-20*(U/255-.5)));
for(var U=0;U<b;U++){var B=~~(K[U]*255+.5);D[U]=Y[B]}if(o)console.log("Simoid",Date.now()-g);g=Date.now();
return D};x.wo.mg=function(w){var M=w.length,O=0;for(var U=0;U<M;U++)O=Math.max(O,w[U]);var b=1/O;for(var U=0;
U<M;U++)w[U]=w[U]*b};x.wo.am4=function(w,M,O,b,D){var o=O*b,Z=w.slice(0),$=w.slice(0);for(var U=0;U<o;
U++)D[U]=M[U]==255?0:65535;x.wo.f6(w,$,Z,D,O,b);x.wo._i(w,$,Z,D,O,b);x.wo.f6(w,$,Z,D,O,b);x.wo._i(w,$,Z,D,O,b);
return D};x.wo.f6=function(w,M,O,b,D,o){for(var Z=1;Z<D;Z++)x.wo.tw(Z,-1,w,M,O,b);for(var $=1;$<o;$++){x.wo.tw($*D,-D,w,M,O,b);
for(var Z=1;Z<D;Z++){var U=$*D+Z;x.wo.tw(U,-1,w,M,O,b);x.wo.tw(U,-D,w,M,O,b)}}};x.wo._i=function(w,M,O,b,D,o){for(var Z=D-2;
Z>=0;Z--)x.wo.tw(D*o-D+Z,1,w,M,O,b);for(var $=o-2;$>=0;$--){x.wo.tw($*D+D-1,D,w,M,O,b);for(var Z=D-2;
Z>=0;Z--){var U=$*D+Z;x.wo.tw(U,1,w,M,O,b);x.wo.tw(U,D,w,M,O,b)}}};x.wo.tw=function(U,w,M,O,b,D){var o=U+w,Z=M[U],$=O[o],k=b[o];
if($<Z)$=Z;else if(Z<k)k=Z;var E=$-k;if(D[o]!=65535&&E<D[U]){D[U]=E;O[U]=$;b[U]=k}};x.dt={};x.dt.filter=function(w,M,O,b){var D=M.e,o=M.n,Z=D*o,$=b[0],k=b[1],E=b[2],t=b[3],c=b[4],l=b[5],q=b[6],d=Date.now(),V=new Float32Array(D*o*4);
x.dt.at4(w,D,o,V);var L=Math.ceil($*Math.sqrt(-2*Math.log(.1))),e=new ArrayBuffer(Z*4),H=new Float32Array(e),j=new Float32Array(Z),g=new Float32Array(Z);
for(var U=0;U<Z;U++){var K=U*4;H[U]=V[K];j[U]=V[K+1];g[U]=V[K+2]}x.m8.N9(H,H,M,L*1/2.4,2);x.m8.N9(j,j,M,L*1/2.4,2);
x.m8.N9(g,g,M,L*1/2.4,2);for(var U=0;U<Z;U++){var K=U*4;V[K]=H[U];V[K+1]=j[U];V[K+2]=g[U]}var a=new Uint8Array(e);
for(var U=0;U<Z;U++){var K=U*4,T=U*4,H=V[K],j=V[K+1],g=V[K+2],C=Math.sqrt((H-g)*(H-g)+4*j*j),F=(H+g+C)*.5,m=(H+g-C)*.5,N=m-g,v=j,h=N*N+v*v;
if(h!=0){var P=Math.sqrt(h),J=1/P;N*=J;v*=J}a[T]=128+127*N;a[T+1]=128+127*v}var Y=1.3*k+2,B=t*(2/10),S=w.slice();
if(X.Nu){var r=new Float32Array([1/D,1/o]),I=X.Bv(0,D,o);I.set(S);var f=X.Bv(1,D,o);f.set(a);X.IF(I,M);
if(c){I.nB(M);X.filter.AO({type:X.filter.a7I,Af:r,agX:1/E,a1G:B},I.sf)}I.nB(M);X.filter.AO({type:X.filter.Sy,jn:f.p3,Af:r,atB:Y,atQ:2},I.sf);
if(c){I.nB(M);X.filter.AO({type:X.filter.aeM,Af:r,atl:new Float32Array(q),amE:l},I.sf)}I.get(O)}else{if(c)x.dt.Ud(1/E,B,S,D,o);
x.dt.Sy(S,O,a,D,o,Y);if(c)x.dt.auC(D,o,O,q,l)}var s=Z*4;for(var U=3;U<s;U+=4)O[U]=w[U]};x.dt.Sy=function(w,M,O,b,D,o){var Z=Math.ceil(2*o),$=-1/(2*o*o),k=[],E=1;
for(var U=0;U<Z+20;U++)k[U]=Math.exp(U*U*$);var t=[0,0,0,0];for(var c=0;c<D;c++){for(var l=0;l<b;l++){var q=c*b+l,d=q*4,V=1,L=w[d],e=w[d+1],H=w[d+2],j=w[d+3],g=(O[d]-128)*(1/127),K=(O[d+1]-128)*(1/127),a=g,T=K,C=l==0?.51:.49,F=c==0?.51:.49;
for(var U=0;U<2;U++){var m=l+C,N=c+F,v=0;while(v<Z){if(m<.5||b-.5<m||N<.5||D-.5<N)break;var h=~~m,P=~~N,J=P*b+h,Y=J*4,B=(O[Y]-128)*(1/127),S=(O[Y+1]-128)*(1/127);
if(B*a+S*T<0){B=-B;S=-S}a=B;T=S;m+=E*B;N+=E*S;if(m<.5||b-.5<m||N<.5||D-.5<N)break;var r=~~m,I=~~N,f=I*b+r<<2;
v+=E;var s=k[~~v];x.N.x3(m,N,w,b,D,t);L+=t[0]*s;e+=t[1]*s;H+=t[2]*s;j+=t[3]*s;V+=s}a=-g;T=-K}var W=1/V;
M[d]=~~(.5+L*W);M[d+1]=~~(.5+e*W);M[d+2]=~~(.5+H*W);M[d+3]=~~(.5+j*W)}}};x.dt.auC=function(w,M,O,b,D){for(var o=0;
o<M;o++)for(var Z=0;Z<w;Z++){var $=o*w+Z<<2,k=1+x.dt.atp(Z,o,O,w,M,b)*D;O[$]=Math.max(0,Math.min(255,O[$]*k));
O[$+1]=Math.max(0,Math.min(255,O[$+1]*k));O[$+2]=Math.max(0,Math.min(255,O[$+2]*k))}};x.dt.atp=function(w,M,O,b,D,o){var Z=O[(M*b+Math.max(0,w-1))*4+3],$=O[(M*b+Math.min(b-1,w+1))*4+3],k=O[(Math.max(0,M-1)*b+w)*4+3],E=O[(Math.min(D-1,M+1)*b+w)*4+3],t=.7,c=($-Z)*(1/255),l=.7,q=(E-k)*(1/255),d=-c*l,V=-t*q,L=t*l,e=Math.sqrt(d*d+V*V+L*L),H=1/e,j=d*H,g=V*H,K=L*H,a=o[0]*j+o[1]*g+o[2]*K;
return a};x.dt.Ud=function(w,M,O,b,D){function o($,E,t){return Math.max(E,Math.min(t,$))}for(var Z=0;
Z<D;Z++)for(var $=0;$<b;$++){var k=x.dt.agT($+.5,Z+.5,w,M);O[(Z*b+$)*4+3]=Math.max(0,Math.min(255,k*255))}};
x.dt.agT=function(w,M,O,b){function D(T,C,F){return(1-F)*T+F*C}var o=(w+613)*O,Z=(M+117)*O,$=~~o,k=~~Z,E=o-$,t=Z-k,c=Math.sin(11),l=Math.cos($)*c,q=Math.cos($+1)*c,d=Math.cos(k)*c,V=Math.cos(k+1)*c,aq=x.dt.hash(l,d),L=x.dt.hash(q,d),e=x.dt.hash(l,V),H=x.dt.hash(q,V),j=D(aq,L,E),g=D(e,H,E),K=D(j,g,t);
K=K<.5?0:1;var a=K+b*x.dt.hash(Math.cos(o)*c,Math.cos(Z)*c);return a*(1/3)};x.dt.hash=function(w,M){var O=Math.sin(w*11.697096+M*73.32456)*12157.47691;
return O-Math.floor(O)};x.dt.at4=function(w,M,O,b){var D=[-1,0,1,-2,0,2,-1,0,1],o=[-1,-2,-1,0,0,0,1,2,1],Z=M-1,$=O-1,k=M*4;
for(var E=1;E<$;E++)for(var t=1;t<Z;t++){var U=E*M+t,c=U*4,l=x.dt.Ie(w,c,k,D),q=x.dt.Ie(w,c,k,o),d=x.dt.Ie(w,c+1,k,D),V=x.dt.Ie(w,c+1,k,o),L=x.dt.Ie(w,c+2,k,D),e=x.dt.Ie(w,c+2,k,o);
b[c]=l*l+d*d+L*L;b[c+1]=l*q+d*V+L*e;b[c+2]=q*q+V*V+e*e}x.dt.abP(b,M,O)};x.dt.Ie=function(w,M,O,b){return w[M-O-4]*b[0]+w[M-O]*b[1]+w[M-O+4]*b[2]+w[M-4]*b[3]+w[M]*b[4]+w[M+4]*b[5]+w[M+O-4]*b[6]+w[M+O]*b[7]+w[M+O+4]*b[8]};
x.dt.abP=function(w,M,O){function b(k,U,E){var t=U*4,c=E*4;k[c]=k[t];k[c+1]=k[t+1];k[c+2]=k[t+2]}var D=M-1,o=O-1;
b(w,M+1,0);b(w,2*M-2,M-1);for(var Z=1;Z<D;Z++)b(w,M+Z,Z);for(var $=1;$<o;$++){b(w,$*M+1,$*M);b(w,$*M+M-2,$*M+M-1)}for(var Z=1;
Z<D;Z++)b(w,(O-2)*M+Z,(O-1)*M+Z);b(w,($-2)*M+1,($-1)*M);b(w,($-1)*M-2,$*M-1)};x.AQ=function(){function w(E,t,c,l){var q=new Float32Array(E*E),d=E/2;
for(var V=0;V<E;V++)for(var L=0;L<E;L++){var e=L+c-d,H=V+l-d;q[V*E+L]=Math.max(0,Math.min(1,t+.5-Math.sqrt(e*e+H*H)))}return q}var M=[],b=null;
function O(E,t,c,l){var q=Math.floor(t*10),d=M[q],V=E*8,L=V>>>1;if(d==null){d=M[q]=[];var e=new cn(0,0,V,V),H=E/2/(1+.2*t),j=Math.floor(E*q*.1);
for(var g=0;g<2;g++)for(var K=0;K<2;K++){var a=w(V,H,.25+K*.5,.25+g*.5),T=0;x.m8.N9(a,a,e,j);while(a[V*L+T]<.005)T++;
if(T!=0)T--;var C=2*(L-T),F=new cn(T,T,C,C),m=new Float32Array(C*C);for(var N=0;N<C;N++)for(var v=0;
v<C;v++)m[N*C+v]=a[(T+N)*V+T+v];d.push([m,F])}}var h=Math.floor(c),P=Math.floor(l),J=c-h,Y=l-P,B=J<.5?1:0,S=Y<.5?1:0;
d=d[S*2+B];var F=d[1].clone();F.x+=h-L;F.y+=P-L;return[d[0],F]}function D(E,t,c){if(b==null){b=new Uint8Array(4e4);
for(var U=0;U<4e4;U++)b[U]=Math.min(255,~~(.5+255*x.dm(U*(1/255))))}var l=E.length;for(var U=0;U<l;U++){var q=E[U],d=~~(255*q);
t[U]=b[d]<<24|c}}function o(E,t,c,l,q){var d=t.mX(l),V=Math.max(0,d.x-t.x),L=Math.max(0,d.x-l.x),e=Math.max(0,d.y-t.y),H=Math.max(0,d.y-l.y),j=d.e,g=d.n;
for(var U=0;U<g;U++){var K=(e+U)*t.e+V,a=(H+U)*l.e+L;for(var T=0;T<j;T++){c[a+T]+=q*E[K+T]}}}var Z=-1;
function $(E,t,c,l,q){var d=Math.round(l[1]*t*c*.01),V=l[2],L=l[3],e=l[4],H=l[5],j=l[6],g=l[7],K=l[8],a=l[9],T=l[10]?l[10]:1,s=!1;
if(V!=Z){M=[];Z=V}var C=Date.now(),F=new cn(0,0,t,c),m=new k(l[0]);if(q)E.fill(0);var N=new Float32Array(q?E.buffer:t*c);
for(var U=0;U<d;U++){var v=m.get()*t,h=m.get()*c,P=m.get()*L,J=m.get()*V*4,Y=(m.get()+j)*Math.PI*2,B=m.get()*V*4,S=(m.get()+2*j)*Math.PI*2;
v+=a*(J*Math.cos(Y)+B*Math.cos(S));h+=a*(J*Math.sin(Y)+B*Math.sin(S));if(K)h=h+j*c*T;var r=O(V,P,v,h%c),I=e,f=m.get();
if(g)I=.5+.5*e*(.5+.5*Math.sin((2*j+f)*2*Math.PI));o(r[0],r[1],N,F,I)}if(s)console.log(Date.now()-C,"add floats");
C=Date.now();var W=new Uint8Array(N.buffer);D(N,new Uint32Array(W.buffer),H.L<<16|H.w<<8|H.o);if(s)console.log(Date.now()-C,"toInt");
C=Date.now();if(!q){x.a.DP("scrn",W,F,E,F,F,1);if(s)console.log(Date.now()-C,"blendOver")}}function k(E){this.dw=123456789;
this.Vt=987654321;this.D=4294967295;this.vy(E)}k.prototype.vy=function(U){this.dw=123456789+U&this.D;
this.Vt=987654321-U&this.D};k.prototype.get=function(){this.Vt=36969*(this.Vt&65535)+(this.Vt>>16)&this.D;
this.dw=18e3*(this.dw&65535)+(this.dw>>16)&this.D;var E=(this.Vt<<16)+(this.dw&65535)>>>0;E/=4294967296;
return E};return{$Q:$}}();x.sh={};x.sh.Mz=function(w,M,O,b){var D=w[M*2],o=w[M*2+1],Z=w[O*2],$=w[O*2+1],k=w[b*2],E=w[b*2+1];
return D*$+Z*E+k*o-k*$-Z*o-D*E};x.sh.I5=function(w,M){var O=[],b=[],D=[],o={};for(var U=0;U<M.length;
U+=3){var Z=~~(U*(1/3)),$=M[U+0],k=M[U+1],E=M[U+2],c=x.sh.Mz(w,$,k,E);if(c>0){var l=k;k=E;E=l}var q=o[E+"-"+k],d=o[k+"-"+$],V=o[$+"-"+E],L=[E,q,Z,null],e=[k,d,Z,L],H=[$,V,Z,e];
L[3]=H;if(q)q[1]=L;if(d)d[1]=e;if(V)V[1]=H;o[E+"-"+$]=H;o[$+"-"+k]=e;o[k+"-"+E]=L;O[$]=e;D[U]=e;O[k]=L;
D[U+1]=L;O[E]=H;D[U+2]=H;b[Z]=e}return{va:O,gl:b,YC:D}};x.sh.ahX=function(w){var M=[],O=w.gl;for(var U=0;
U<O.length;U++){var b=O[U];M.push(b[0]);b=b[3];M.push(b[0]);b=b[3];M.push(b[0])}return M};x.sh.auS=function(w,M,O,b){var D=w[M*2],o=w[M*2+1],Z=w[O*2],$=w[O*2+1],k=w[b*2],E=w[b*2+1],t=Z-D,c=$-o,l=k-D,q=E-o,d=t*(D+Z)+c*(o+$),V=l*(D+k)+q*(o+E),L=2*(t*(E-$)-c*(k-Z));
if(Math.abs(L)<1e-5){var e=Math.min(D,Z,k),H=Math.min(o,$,E),j=(Math.max(D,Z,k)-e)*.5,g=(Math.max(o,$,E)-H)*.5;
return[e+j,H+g,j*j+g*g,1]}var K=(q*d-c*V)/L,a=(t*V-l*d)/L,j=K-D,g=a-o;return[K,a,j*j+g*g,0]};x.sh.awm=function(w,M,O){var b=O[1],D=O[3],o=D[3],Z=b[3],$=Z[3],k=O[2],E=b[2],t=O[0],c=b[0],l=D[0],q=Z[0],d=x.sh.auS(w,c,q,l),V=w[t*2]-d[0],L=w[t*2+1]-d[1],e=V*V+L*L>d[2]&&d[3]==0&&x.sh.Mz(w,q,t,l)<0&&x.sh.Mz(w,l,c,q)<0;
if(e){O[0]=l;b[0]=q;O[3]=o;o[3]=Z;Z[3]=O;b[3]=$;$[3]=D;D[3]=b;D[2]=E;Z[2]=k;M.gl[E]=$;M.gl[k]=o;M.va[c]=Z;
M.va[t]=D}return e};x.sh.a1o=function(w,M,O){var b=w[M*2]-w[O*2],D=w[M*2+1]-w[O*2+1];return Math.sqrt(b*b+D*D)};
x.sh.a9A=function(w,M,O){var b=O[1],D=O[3],o=D[3],Z,$,k=O[2],E,t=O[0],c=o[0],l=D[0],q;if(b){Z=b[3];$=Z[3];
E=b[2];q=Z[0]}var d=w.length>>>1;w[2*d]=(w[2*c]+w[2*t])*.5;w[2*d+1]=(w[2*c+1]+w[2*t+1])*.5;if(!0){var V=k,L=O,e=M.gl.length,H=[d,null,V,L],j=[l,H,e,o];
H[1]=j;var g=[d,null,e,j];D[3]=H;o[3]=g;o[2]=e;M.gl[V]=D;M.gl[e]=g;M.va[t]=D;M.va[l]=o;M.YC.push(H,j,g)}if(b){var K=E,a=b,T=e+1;
g[1]=a,a[1]=g;var C=[d,null,K,a],F=[q,C,T,$];C[1]=F;var m=[d,L,T,F];L[1]=m;Z[3]=C;$[3]=m;$[2]=T;M.gl[K]=Z;
M.gl[T]=$;M.va[c]=Z;M.va[q]=$;M.YC.push(C,F,m)}M.va[d]=L};x.sh.NJ=function(w,M){var O=0;while(!0){var b=O;
for(var U=0;U<M.YC.length;U++){var D=M.YC[U];if(D[1]==null)continue;var o=x.sh.awm(w,M,D);if(o){O++;
break}}if(b==O)break}return O!=0};x.sh.awr=function(w,M,O,b){var D=0;for(var U=0;U<b;U++){var o=null,Z=0;
for(var $=0;$<M.YC.length;$++){var k=M.YC[$],E=x.sh.a1o(w,k[0],k[3][3][0])*(k[1]?1:2);if(E>Z){o=k;Z=E}}if(Z>O){x.sh.a9A(w,M,o);
D++}}return D!=0};x.sh.a0Z=function(w,M){var O=[],l=0;for(var U=0;U<w.length;U++)O.push(0);for(var U=0;
U<M.YC.length;U++){var b=M.YC[U],D=b[0],o=b[3][3][0],Z=w[D*2],$=w[D*2+1],k=w[o*2],E=w[o*2+1],t=Z-k,c=$-E;
O[D*2]+=-t;O[D*2+1]+=-c;O[o*2]+=t;O[o*2+1]+=c}for(var U=0;U<w.length;U+=2){var q=U>>>1,d=M.va[q],b=d,V=!0;
do{if(b[1]==null){V=!1;break}b=b[1][3]}while(b!=d);if(V){var L=.02;w[U]+=L*O[U];w[U+1]+=L*O[U+1];l+=L*(O[U]*O[U]+O[U+1]*O[U+1])}}return l};
x.sh.a0B=function(w,M,O){var b=x.p.qe(w),D=x.sh.I5(w,M);x.sh.NJ(w,D);for(var o=0;o<300;o++){var Z=!1,$=!1;
Z=x.sh.awr(w,D,O,5);if(Z)$=x.sh.NJ(w,D);var k=x.sh.a0Z(w,D);if(!Z&&!$&&k<1e-4){break}}return x.sh.ahX(D)};
x.pX={};x.pX.TW=function(w){var M=w.Bq,O=w.lC,b=w.vC,D=w.ev,o=w.vV,Z=w.Ey,$=w.Dt,k=x.S3.rc,H,j,g=0;function E(aq){var b2=new Array(aq);
for(var U=0;U<aq;U++)b2[U]=0;return b2}var t=O.length>>>1,c=E(M.hi*2),l=E(M.hi),q=E(M.hi),d=Date.now();
for(var U=0;U<w.GJ.length;U++){var V=M.alK+U,L=M.jy*(Z[U*2]+$[U*2]),e=M.jy*(Z[U*2+1]+$[U*2+1]);c[V*2]=L;
c[V*2+1]=e;l[V]=L;q[V]=e}M.ara.Pc(D,M.aws.rc(c),.01,H,j);for(var U=0;U<M.atu.YC.length;U++){var K=M.atu.YC[U],a=K[3][3][0],T=K[0],C=K[3][0],F=K[1]?K[1][3][0]:C;
if(K[1]&&a>T)continue;var m=O[a*2],N=O[a*2+1],v=O[T*2],h=O[T*2+1],P=D[a*2],J=D[a*2+1],Y=D[T*2],B=D[T*2+1],S=D[C*2],r=D[C*2+1],I=D[F*2],f=D[F*2+1],s=[P,J,Y,B,S,r];
if(K[1])s.push(I,f);var W=k(M.aeb[g],s),i=W[0],u=W[1],z=1/Math.sqrt(i*i+u*u);i*=z;u*=z;var G=v-m,g_=h-N;
l[g]=i*G+u*g_;q[g]=-u*G+i*g_;g++}var cl=new Array(t),p=new Array(t);for(var U=0;U<t;U++){cl[U]=o[U*2];
p[U]=o[U*2+1]}M.a4B.Pc(cl,M.a5M.rc(l),.5);M.a4B.Pc(p,M.a5M.rc(q),.5);for(var U=0;U<t;U++){o[U*2]=cl[U];
o[U*2+1]=p[U]}};x.pX.Nc=function(w){var M=w.lC,O=w.vC,b=w.GJ,D=x.S3.multiply,o=Date.now(),Z=x.sh.I5(M,O),$=M.length>>>1,k=0,d=0,u=1e3;
for(var U=0;U<Z.YC.length;U++)k+=Z.YC[U][1]?.5:1;var E=k+b.length,t=[],c=new x.ZA(E*2,$*2),l=new x.ZA(E,$),q=[[[-1,0,1,0,0,0],[0,-1,0,1,0,0]],[[-1,0,1,0,0,0,0,0],[0,-1,0,1,0,0,0,0]]],V=[],L=[];
for(var U=0;U<Z.YC.length;U++){var e=Z.YC[U],H=e[3][3][0],j=e[0],g=e[3][0],K=e[1]?e[1][3][0]:g;if(e[1]&&H>j)continue;
var a=M[H*2],T=M[H*2+1],C=M[j*2],F=M[j*2+1],m=M[g*2],N=M[g*2+1],v=M[K*2],h=M[K*2+1],P=[[a,T,1,0],[T,-a,0,1],[C,F,1,0],[F,-C,0,1],[m,N,1,0],[N,-m,0,1]];
if(e[1])P.push([v,h,1,0],[h,-v,0,1]);var J=x.S3.lj(P),Y=D(linear.invert(D(J,P)),J);Y.pop();Y.pop();t.push(Y);
var B=C-a,S=F-T,r=q[e[1]?1:0];r=x.S3._6(r,D([[B,S],[S,-B]],Y));var I=[H*2,H*2+1,j*2,j*2+1,g*2,g*2+1,K*2,K*2+1],f=e[1]?8:6,s=[];
for(var W=0;W<f;W++)s.push([I[W],r[0][W],r[1][W]]);s.sort(function(b2,jz){return b2[0]-jz[0]});for(var i=0;
i<2;i++){for(var W=0;W<f;W++){V[W]=s[W][0];L[W]=s[W][1+i]}c.PW(L,V,f)}if(H<j)l.PW([-1,1],[H,j],2);else l.PW([1,-1],[j,H],2);
d++}for(var U=0;U<b.length;U++){var z=b[U];c.PW([u],[z*2],1);c.PW([u],[z*2+1],1);l.PW([u],[z],1)}var G=c.lj(),g_=G.ck(G),cl=l.lj(),p=cl.ck(cl);
return{alK:k,hi:E,aws:G,ara:g_,a5M:cl,a4B:p,atu:Z,aeb:t,jy:u}};x.pX.ad0=function(w,M,O,b,D){var o=new cn(0,0,M,O),Z=x.$(o.v());
x.Oj(w,Z,3);x.round(Z,70);var $=x.Kx(Z,o),k=[.1,.065,.035][b]*Math.max($.e,$.n),E=D+1,t=M+E*2,c=O+E*2,l=new cn(-E,-E,t,c),q=x.$(l.v());
x.CV(Z,o,q,l);var d=q.slice(0);for(var V=0;V<D;V++){for(var L=1;L<c-1;L++){for(var e=1;e<t-1;e++){var U=L*t+e;
d[U]=q[U-t]|q[U-1]|q[U]|q[U+1]|q[U+t]}}var H=d;d=q;q=H}var j=iL.Qk(q,t,c,Math.round($.v()*5e-4)),g=iL.ff(j),K=new f$(1,0,0,1,-E,-E);
for(var U=0;U<g.length;U++){var a=g[U];x.p.F(a.path.C,K,a.path.C);a.lC=x.pX.awY(a.path);a.vC=x.p.a6U(a.lC);
a.vC=x.sh.a0B(a.lC,a.vC,k)}return g};x.pX.awY=function(w){var M=[],O=w.C,b=w.H.length-1,D=0,o=0;for(var Z=0;
Z<b;Z++){var U=Z*6,$=O[U+6]-O[U+0],k=O[U+7]-O[U+1],E=Math.ceil(Math.sqrt($*$+k*k));for(var t=0;t<E;t++){var c=t/E,l=1-c,q=l*l*l*O[U+0]+3*l*l*c*O[U+2]+3*l*c*c*O[U+4]+c*c*c*O[U+6],d=l*l*l*O[U+1]+3*l*l*c*O[U+3]+3*l*c*c*O[U+5]+c*c*c*O[U+7];
M.push(q,d);D=q;o=d}}M=x.p.u0(M,1);var V=[],L=M.length;for(var U=0;U<L;U+=2){var d=M.pop(),q=M.pop();
V.push(q,d)}return V};x.pX.aci=function(w,M,O,b){function D(C,F,m,N,v){var h=v[C*2]-v[F*2],P=v[C*2+1]-v[F*2+1],J=Math.sqrt(h*h+P*P);
if(m[C].indexOf(F)==-1){m[C].push(F);N[C].push(J)}if(m[F].indexOf(C)==-1){m[F].push(C);N[F].push(J)}}var o=w.length>>>1,Z=new Array(o);
if(O.length==0){Z.fill(0);return Z}var $=new Array(o),k=new Array(o);for(var U=0;U<o;U++){$[U]=[];k[U]=[]}for(var U=0;
U<M.length;U+=3){D(M[U],M[U+1],$,k,w);D(M[U],M[U+2],$,k,w);D(M[U+1],M[U+2],$,k,w)}var E=new Float64Array(o*2),t=new Uint32Array(o*2);
E.fill(1e9);var c=new Uint8Array(o);for(var l=0;l<O.length;l++){c.fill(0);var q=["---",[0,O[l]]];while(q.length!=1){var d=x.hy.c1(q),V=d[0],L=d[1];
if(c[L]==1)continue;var e=L<<1;if(V<E[e]){E[e+1]=E[e];t[e+1]=t[e];E[e]=V;t[e]=l}else if(V<E[e+1]){E[e+1]=V;
t[e+1]=l}c[L]=1;var H=$[L],j=k[L];for(var U=0;U<H.length;U++){var g=H[U];if(c[g]!=1){x.hy.br(q,[V+j[U],g])}}}}for(var U=0;
U<o;U++){var e=U<<1,K=E[e],a=E[e+1],T=1/(K+a);Z[U]=(1-K*T)*b[t[e]]+(1-a*T)*b[t[e+1]]}return Z};x.pX.ags=function(w){var M={H:[],C:[]},O=[w];
while(O.length!=0){var b=O.pop(),D=b.Gh;if(b.a7O instanceof Array||b.a7j instanceof Array){M.H.push("M","L","L","L","Z");
M.C.push(D[0],D[1],D[2],D[1],D[2],D[3],D[0],D[3])}else O.push(b.a7O,b.a7j)}return M};x.pX.sr=function(w,M,O,b,D,o,Z,$,k,E){var t=Math.round(E.length/3),c=new Array(t);
for(var U=0;U<t;U++)c[U]=U;c.sort(function(q,d){return k[E[q*3]]-k[E[d*3]]});for(var U=0;U<t;U++){var l=c[U]*3;
x.pX.a2V(E[l]*2,E[l+1]*2,E[l+2]*2,Z,$,w,M,O,b,D,o)}};x.pX.a2V=function(w,M,O,b,D,o,Z,$,k,E,t){var c=x.pX.FH,l=[w,M,O,1.2,1.2,1.2,0],q=[0,0,0,0],d=D[w],V=D[w+1],L=D[M],e=D[M+1],H=D[O],j=D[O+1],g=Math.max(0,Math.min(Z-1,b[w])),K=Math.max(0,Math.min(Z-1,b[M])),a=Math.max(0,Math.min(Z-1,b[O])),T=Math.max(0,Math.min($-1,b[w+1])),C=Math.max(0,Math.min($-1,b[M+1])),F=Math.max(0,Math.min($-1,b[O+1])),m=L-d,N=e-V,v=H-d,h=j-V,P=1/(m*h-v*N+1e-9),J=Math.max(0,Math.floor(Math.min(d,L,H))),Y=Math.min(E,Math.ceil(Math.max(d,L,H))),B=Math.max(0,Math.floor(Math.min(V,e,j))),S=Math.min(t,Math.ceil(Math.max(V,e,j)));
for(var r=B;r<S;r++)for(var I=J;I<Y;I++){var f=I+.5-d,s=r+.5-V,W=(f*h-v*s)*P,i=(m*s-f*N)*P;if(W>=0&&i>=0&&W+i<=1){var u=1-W-i,z=g*u+K*W+a*i,G=T*u+C*W+F*i;
x.N.x3(z,G,o,Z,$,q);x.pX.ao6(q,k,r*E+I<<2)}}};x.pX.ao6=function(w,M,O){var b=M[O],D=M[O+1],o=M[O+2],Z=M[O+3],$=1-w[3]*(1/255);
M[O]=~~(.5+w[0]+b*$);M[O+1]=~~(.5+w[1]+D*$);M[O+2]=~~(.5+w[2]+o*$);M[O+3]=~~(.5+w[3]+Z*$)};x.pX.FH=function(){var w=function(O,b,D,o){var Z=o[0],$=o[1],k=o[2],E=O[Z+0],t=O[Z+1],c=O[$+0],l=O[$+1],q=O[k+0],d=O[k+1],V=c-E,L=l-t,e=q-E,H=d-t,j=b-E,g=D-t,K=V*H-e*L,a=1/(K+1e-9),T=(j*H-e*g)*a,C=(V*g-j*L)*a;
if(T>=0&&C>=0&&T+C<=1){o[3]=1-T-C;o[4]=T;o[5]=C;return 1}return 0},M=function(O,b,D,o){var Z=[0,0,0,0,0,0];
for(var U=0;U<b.length;U+=3){Z[0]=b[U]*2;Z[1]=b[U+1]*2;Z[2]=b[U+2]*2;if(w(O,D,o,Z)==1)return!0}return!1};
return{aup:w,aur:M}}();x.k$={};x.k$.akL=function(w,M,O){var b=x.$(M*O*4),D=!1;x.N.Co(w,M,O,b,[O,M,0,1,0,1,0,0]);
return[x.k$.sA(w,M,O,D),x.k$.sA(b,O,M,D)]};x.k$.F=function(w,M){var O=!1,b=w[0],D=w[1],o=b[1],Z=b[2],$=b[3],k=M.e,E=M.n;
if(Z==k&&$==E)o=o.slice(0);else if($!=E){var t=x.$(Z*E*4);x.k$.F_(D,E,t,O);o=x.$(Z*E*4);x.N.Co(t,E,Z,o,[Z,E,0,1,0,1,0,0]);
if(Z!=k){b=x.k$.sA(o,Z,E,O);o=x.$(k*E*4);x.k$.F_(b,k,o,O)}}else if(Z!=k){o=x.$(k*$*4);x.k$.F_(b,k,o,O)}return o};
x.k$.sA=function(w,M,O,b){var D=Date.now(),o=new Uint16Array(M*O),Z=1;x.k$.aiK(w,M,O,o);var $=Math.ceil(M/Z),k=new Uint32Array(Z),E=new Uint32Array(Z),$=Math.floor(M/Z);
for(var t=0;t<Z;t++)E[t]=t<Z-1?$:M-(Z-1)*$;for(var c=0;c<O;c++){var U=c*M;for(var t=0;t<Z;t++){var $=E[t];
for(var l=0;l<$;l++)k[t]+=o[U+l];U+=$}}if(b){console.log(Date.now()-D,"cost");D=Date.now()}var q=new Uint32Array(M),d=new Uint32Array(M),V=new Uint32Array(M*O);
for(var l=0;l<M;l++){V[(O-1)*M+l]=o[(O-1)*M+l]}for(var c=O-2;c>=0;c--){var L=c*M;for(var t=0;t<Z;t++){var $=E[t];
V[L]=o[L]+Math.min(V[L+M],V[L+M+1]);for(var l=1;l<$-1;l++){var U=L+l;V[U]=o[U]+Math.min(V[U+M-1],Math.min(V[U+M],V[U+M+1]))}L+=$-1;
V[L]=o[L]+Math.min(V[L+M-1],V[L+M]);L++}}if(b){console.log(Date.now()-D,"Building M");D=Date.now()}function e(N,v){return N<v?N:v}function H(U,N){var v=d[U],h=V[N],P=~~(v*h*1e-4);
return P}var j=new Uint8Array(M*O),g=new Uint32Array(M);for(var U=0;U<M;U++){q[U]=U;d[U]=o[U]}for(var c=1;
c<O;c++){var K=0,L=c*M;for(var t=0;t<Z;t++){var $=E[t],U=L;g[K]=H(K,U);var a=g[K]+H(K+1,U+1),T=H(K,U+1)+H(K+1,U);
g[K+1]=e(a,T);for(var l=2;l<$;l++){var U=L+l,C=g[K+l-1]+H(K+l-1,U-1),F=g[K+l-2]+H(K+l-1,U-2)+H(K+l-2,U-1);
g[K+l]=e(C,F)}var l=$-1;while(l>=2){var U=L+l,C=g[K+l-1]+H(K+l-1,U-1),F=g[K+l-2]+H(K+l-1,U-2)+H(K+l-2,U-1);
if(g[K+l]==C){j[U-M]=1;l-=1}else{j[U-M]=0;j[U-M-1]=2;l-=2}}var U=L;if(l==0){j[U-M]=1}else{if(g[K+1]==a){j[U+1-M]=1;
j[U-M]=1}else{j[U+1-M]=0;j[U-M]=2}}L+=$;K+=$}x.k$.aqB(c,M,j,o,q,d,!0,D)}if(b){console.log(Date.now()-D,"Matching");
D=Date.now()}var m=o;return[UZIP.adler(w,0,w.length),w,M,O,Z,E,k,q,d,j,m]};x.k$.F_=function(w,M,O,b){var D=w.slice(0),o=D.shift(),Z=D.shift(),$=D.shift(),k=D.shift(),E=D.shift(),t=D.shift(),c=D.shift(),l=D.shift(),q=D.shift().slice(0),d=D.shift(),V=D.shift(),L=Date.now(),e=Math.abs($-M),H=Math.floor(e/E),j=new Uint32Array(E),K=0,a=1e9,C=0,F=0,m=0;
for(var g=0;g<E;g++)j[g]=g<E-1?H:e-(E-1)*H;V.fill(0);for(var T=0;T<$;T++){K=Math.max(K,q[T]);a=Math.min(a,q[T])}for(var g=0;
g<E;g++){var N=t[g],H=j[g];for(var v=0;v<H;v++){var h=0,P=1e9;for(var T=0;T<N;T++)if(q[F+T]<P){P=q[F+T];
h=F+T}if(M<$)q[h]=1e9;else q[h]*=1.2;if(m<$/3)C+=P;var J=l[h],Y=V[J],B=Y<65280?65280:Y+1;if(B<65280)throw"e";
for(var S=0;S<k;S++){var U=S*$+J;V[U]=B;J+=d[U]-1}m++}F+=N}if(b){console.log(Date.now()-L,"Removing best seams");
L=Date.now()}function r(U,f){var s=U<<2,W=f<<2;O[s]=Z[W];O[s+1]=Z[W+1];O[s+2]=Z[W+2];O[s+3]=Z[W+3]}for(var S=0;
S<k;S++){var I=0,U=S*$;for(var T=0;T<M;T++,I++){if(M<$){while(V[U+I]==65280)I++;r(S*M+T,S*$+I)}else{r(S*M+T,S*$+I);
while(V[U+I]>=65280){V[U+I]--;T++;r(S*M+T,S*$+I)}}}}if(b){console.log(Date.now()-L,"Shifting image pixels");
L=Date.now()}};x.k$.aqB=function(w,M,O,b,D,o){var Z=0,U=w*M;while(Z<M){if(O[U-M]==1){o[Z]=o[Z]+b[U];
Z++;U++}else{var $=D[Z];D[Z]=D[Z+1];D[Z+1]=$;var k=o[Z];o[Z]=o[Z+1]+b[U];o[Z+1]=k+b[U+1];Z+=2;U+=2}}};
x.k$.aiK=function(w,M,O,b){function D(w,U,k){var c=U<<2,l=k<<2,q=w[c]-w[l],d=w[c+1]-w[l+1],V=w[c+2]-w[l+2];
return Math.abs(q)+Math.abs(d)+Math.abs(V)}for(var o=1;o<M;o++){var Z=D(w,o,o-1);b[o-1]+=Z;b[o]+=Z}for(var $=1;
$<O;$++){var k=$*M,Z=D(w,k,k-M);b[k]+=Z;b[k-M]+=Z;for(var o=1;o<M;o++){var U=$*M+o,E=D(w,U,U-1),t=D(w,U,U-M);
b[U-M]+=t;b[U-1]+=E;b[U]+=t+E}}for(var $=0;$<O;$++){b[$*M]*=2;b[$*M+M-1]*=2}for(var U=0;U<b.length;U++)if(b[U]==0)b[U]=1};
x.Ff=function(){var w=0,M=0,b=15,o=256;function O(t,c,l,q,d,V){var L=(d-1)*c,e=V*c;return t[e+q]-t[e+l-1]-t[L+q]+t[L+l-1]}var D=Math.round(b/8),Z=[];
function $(t,c){for(var l=0;l<c.length;l++){var q=c[l],d=0,V=0,L=t[q._O],e=L.gp,H=L.jy,j=L.e3;for(var g=-b;
g<=b;g++)for(var K=-b;K<=b;K++){var a=K+q.aui,T=g+q.am0;if(K*K+g*g>b*b||a<0||T<0||a>=H||T>=H)continue;
var C=e[T*H+a];d+=K*C;V+=g*C}q.cJ=Math.atan2(V,d)}}function k(t,c,l,q,d){var V=~~(t+.5),L=~~(c+.5);return O(l,q,V-D,V+D,L-D,L+D)}function E(t,c,l,q,d){w=q;
M=d;if(Z.length==0){var V=new x.a.hz(16200817),j=8,g=0;function L(b2){var m=b2[0]-b2[2],N=b2[1]-b2[3];
return m*m+N*N}function e(){var b2=0,jz=0;while(b2===0)b2=V.get();while(jz===0)jz=V.get();return Math.sqrt(-2*Math.log(b2))*Math.cos(2*Math.PI*jz)}var H=e,K=[];
while(g!=o){var a=Math.max(-b,Math.min(b,H()*j)),T=Math.max(-b,Math.min(b,H()*j)),C=Math.max(-b,Math.min(b,H()*j)),F=Math.max(-b,Math.min(b,H()*j)),m=a-C,N=T-F,v=Math.sqrt(m*m+N*N);
if(v<3||v>12)continue;Z.push(a,T,C,F);g++}}var h=20;for(var P=0;P<c.length;P++){var J=c[P],Y=t[J._O],B=Y.k3,l=Y.gp,q=Y.jy,d=Y.e3,S=J.aui,r=J.am0,I=J.cJ,f=Math.cos(I),s=Math.sin(I),W=new Uint8Array(o>>>3);
J.g0=W;for(var U=0;U<o;U++){var i=U*4,a=Z[i+0],T=Z[i+1],C=Z[i+2],F=Z[i+3],u=f*a-s*T,z=s*a+f*T,G=f*C-s*F,g_=s*C+f*F,cl=k(S+u,r+z,B,q,d),p=k(S+G,r+g_,B,q,d);
W[U>>>3]|=(cl<p?0:1)<<(U&7)}}}return{ahL:$,a0o:E}}();x.axZ=function(){function w(M,O){var b=[[9]],D=Date.now(),o=[];
for(var Z=0;Z<M.length;Z++){var $=M[Z],k=$.k3,E=$.jy,t=$.e3,q=9,j=1,J=24;if(k==null)continue;var c=new Float32Array(E*t),l=new Uint8Array(E*t),d=q>>>1,V=d>>>1,L=Math.round(q/3);
if(L!=q/3)throw"e";var e=1/(q*q),H=1.2*(q/9);for(var g=d+1;g<t-d;g+=j)for(var K=d+1;K<E-d;K+=j){var a=x.cY(k,E,K-V,K+V,g-d,g+d)-3*x.cY(k,E,K-V,K+V,g-d+L,g+d-L),T=x.cY(k,E,K-d,K+d,g-V,g+V)-3*x.cY(k,E,K-d+L,K+d-L,g-V,g+V),C=K-d+1,F=K+d-1,m=g-d+1,N=g+d-1,v=x.cY(k,E,C,K-1,m,g-1)+x.cY(k,E,K+1,F,g+1,N)-x.cY(k,E,K+1,F,m,g-1)-x.cY(k,E,C,K-1,g+1,N),h=(T*a-.9*v*(.9*v))*(e*e);
c[g*E+K]=Math.abs(h);l[g*E+K]=h<0?0:1}var P=E*j;for(var g=J;g<t-J;g+=j)for(var K=J;K<E-J;K+=j){var U=g*E+K,Y=c[U];
if(Y<16)continue;if(c[U-j]>=Y||c[U+j]>=Y)continue;if(c[U-P-j]>=Y||c[U-P]>=Y||c[U-P+j]>=Y)continue;if(c[U+P-j]>=Y||c[U+P]>=Y||c[U+P+j]>=Y)continue;
o.push({x:~~(K*$.h6+.5),y:~~(g*$.h6+.5),aui:K,am0:g,_O:Z,G:Y,anO:l[U],h7:H})}}if(O!=null){o.sort(function(i,u){return u.G-i.G});
o=o.slice(0,O)}return o;var B=[];for(var U=0;U<o.length;U++){var S=!0,r=o[U];for(var I=0;I<o.length;
I++){var f=o[I];if(I!=U&&f.G>r.G&&(f._O==r._O+1||f._O==r._O-1)){var s=r.x-f.x,W=r.y-f.y;if(s*s+W*W<5){S=!1;
break}}}if(S)B.push(r)}console.log(o.length,B.length);return B}return{anM:w}}();x.h3={};x.h3.aoc=function(w){var M=w.length,O=x.h3.tg(w,!1),D=0,o=1;
throw"e";var b=[];for(var U=0;U<M;U++)b[U]=x.h3.fF(O[U]);var Z=w[0][1],$=x.h3.match(O[D],O[o],b[o]);
console.log($.length);var k=Math.max(Math.min($.length,40),$.length*.54);k=Math.min(k,200);var E=$.slice(0,k),t=x.Sz.a8e(O[D],O[o],E,Z.e,Z.n),c=x.Sz.av2(t,[0,0,0],1),l=Z.e/2,q=Z.n/2,d=1/Math.max(l,q);
for(var U=0;U<1;U++){var V=E[U],L=O[D][V[0]],e=O[o][V[1]],H=x.Sz.aj7(c,d*(L.x-l),d*(L.y-q),d*(e.x-l),d*(e.y-q))}var j=x.Sz.aoQ(t,Z),g=[];
for(var U=0;U<2;U++){var K=j[U],a=[K[0][0],K[0][1],K[0][2],K[1][0],K[1][1],K[1][2],K[2][0],K[2][1]],T=y.u.yU(w[U],null,a);
g.push([T.buffer,T.rect])}return[x.h3.a3v(g[0],g[1],O[D],O[o],E,t,j,Z)]};x.h3.uo=function(w,M){var O=w.length,b=!1,D=Date.now(),o=x.h3.tg(w,!1,1e4);
if(b)console.log("Descriptors ready",Date.now()-D);D=Date.now();for(var U=0;U<O;U++){var Z=w[U][1];for(var $=0;
$<o[U].length;$++){o[U][$].x+=Z.x;o[U][$].y+=Z.y}}if(b)console.log("shifted",Date.now()-D);D=Date.now();
var k=[];for(var U=0;U<O;U++)k[U]=x.h3.fF(o[U]);if(b)console.log("trees built",Date.now()-D);D=Date.now();
var E=[];for(var U=0;U<O-1;U++)for(var $=U+1;$<O;$++){var t=x.h3.match(o[U],o[$],k[$]);if(b)console.log("Matches found",U,$,t.length);
t=t.slice(0,t.length>>>1);if(t.length<10)return null;var c=x.h3.aoB(o[U],o[$],t,2);E.push([U,$,t,c])}E.sort(function(F,m){return m[2].length-F[2].length});
if(b)console.log("Matches found",Date.now()-D);D=Date.now();var l=[],q=new UnionFind(O);for(var U=0;
U<E.length;U++){var d=E[U],V=q.find(d[0]),L=q.find(d[1]);if(V!=L){l.push(d);q.link(V,L)}}var e=[];for(var U=0;
U<O;U++)e[U]=[1,0,0,0,1,0,0,0];var H=[0],j=new Uint8Array(O);j[H[0]]=1;while(H.length!=0){var L=H.pop(),c=e[L],g=[];
for(var U=0;U<l.length;U++){var d=l[U],K=d[0],a=d[1];if(K==L&&j[a]==0){e[a]=x.N.H9(c,d[3]);H.push(a);
j[a]=1}if(a==L&&j[K]==0){e[K]=x.N.H9(c,x.N.ZW(d[3]));H.push(K);j[K]=1}}}if(M==null){var T=[];for(var U=0;
U<O;U++)T.push([e[U][2],U]);T.sort(function(F,m){return F[0]-m[0]});M=T[T.length>>>1][1]}var C=x.N.ZW(e[M]);
for(var U=0;U<O;U++)e[U]=x.N.H9(e[U],C);if(b)console.log("Transforms reordered",Date.now()-D);D=Date.now();
return e};x.h3.tg=function(w,M,O){var b=[],D=!1;for(var U=0;U<w.length;U++){var o=w[U][0],Z=w[U][1],$=Z.e,k=Z.n,E=x.$(Z.v());
x.C3(o,E);var t=Date.now(),c=x.h3.asK(E,Z,!0);if(D)console.log("Pyramid built ---------------",Date.now()-t);
t=Date.now();var l=x.axZ.anM(c,O);if(D)console.log("SURF Generation",Date.now()-t);t=Date.now();if(!M){x.Ff.ahL(c,l);
if(D)console.log("ORB Orientations",Date.now()-t);t=Date.now();x.Ff.a0o(c,l,E,$,k);if(D)console.log("ORB Descriptors",Date.now()-t);
t=Date.now()}b.push(l)}return b};x.h3.asK=function(w,M,O){var b=[],D=[w,M];x.eM(D);if(O){var o=x.Ae(w,M),Z=o.rect,$=[o.AJ,Z];
x.eM($)}for(var U=0;U<D.length;U++){var k=D[2*U],E=D[2*U+1],t=E.e,c=E.n,l=Math.min(t,c);if(l<30)break;
if(l<1600)b.push({gp:k,jy:t,e3:c,h6:1<<U,k3:x.uU(k,t,c)});if(!O)continue;var k=$[2*U],E=$[2*U+1],t=E.e,c=E.n,l=Math.min(t,c);
if(l<30)break;if(l<1600)b.push({gp:k,jy:t,e3:c,h6:(1<<U)*3/2,k3:x.uU(k,t,c)})}return b};x.h3.aoB=function(w,M,O,b){var D=Date.now(),o,Z=0,$=0,k=O.length,E=new Float64Array(2);
for(var t=0;t<3e3;t++){var c=~~(Math.random()*k),l=~~(Math.random()*k),q=~~(Math.random()*k),d=~~(Math.random()*k),P=0,J=0;
if(c==l||c==q||c==d||l==q||l==d||q==d)continue;var V=O[c],L=O[l],e=O[q],H=O[d],j=w[V[0]],g=M[V[1]],K=w[L[0]],a=M[L[1]],T=w[e[0]],C=M[e[1]],F=w[H[0]],m=M[H[1]],N=[j.x,j.y,K.x,K.y,T.x,T.y,F.x,F.y],v=[g.x,g.y,a.x,a.y,C.x,C.y,m.x,m.y],h=x.N.AD(N,v);
if(h[0]==0&&h[1]==0&&h[3]==0&&h[4]==0)continue;var Y=k-Z+2;for(var U=0;U<k&&U-P<Y;U++){var B=w[O[U][0]],S=M[O[U][1]];
x.N.JI(S.x,S.y,h,E);var r=E[0]-B.x,I=E[1]-B.y,f=r*r+I*I;if(f<b){P++;J+=f}}if(P>Z||P==Z&&J<$){o=h;Z=P;
$=J}}return o};var bM=new Uint8Array(256);for(var U=0;U<256;U++){var hb=0,aq=U;while(aq!=0){aq=aq&aq-1;
hb++}bM[U]=hb}x.h3.alk=function(w,M,O){var b=0,D=w.length;for(var U=0;U<D&&b<O;U++)b+=bM[w[U]^M[U]];
return b};x.h3.aqh=function(w,M,O,top,b){if(b[O]==1)return;var D=x.h3.alk(w.g0,M.g0,top[0]);if(D<top[0]){if(D<top[2]){top[0]=top[2];
top[1]=top[3];top[2]=D;top[3]=O}else{top[0]=D;top[1]=O}}b[O]=1};x.h3.fF=function(w){var M=[],O=[],b=[[],[]],D=4;
for(var U=0;U<w.length;U++)(w[U].anO==0?M:O).push(U);for(var o=0;o<2;o++){var Z=new Array(D),$=[],k=o==0?M:O,E=k.length/256,t=[];
for(var c=0;c<32;c++){var l=new Array(256),V=0;for(var q=0;q<256;q++)l[q]=[];for(var q=0;q<k.length;
q++){var d=k[q];l[w[d].g0[c]].push(d)}for(var q=0;q<256;q++)V+=Math.abs(l[q].length-E);t.push([V,c,l])}t.sort(function(L,e){return L[0]-e[0]});
var $=[],Z=[];b[o]=[$,Z];for(var U=0;U<D;U++){$.push(t[U][1]);Z.push(t[U][2])}}return b};x.h3.match=function(w,M,O){var b=[],D=new Uint16Array(M.length);
D.fill(65535);var o=new Uint8Array(M.length),top=new Uint32Array(4),Z=[];for(var $=0;$<w.length;$++){var k=w[$],E=k.g0;
top.fill(1e6);o.fill(0);var t=O[k.anO];for(var c=0;c<t[1].length;c++){var l=t[1][c][E[t[0][c]]];for(var q=0;
q<l.length;q++){var d=l[q];x.h3.aqh(k,M[d],d,top,o)}}if(top[2]<50&&top[2]<top[0]*.5){var V=D[top[3]];
if(V==65535){D[top[3]]=b.length;b.push([$,top[3],top[2]])}else if(top[2]<b[V][2]){b[V]=[$,top[3],top[2]]}}}b.sort(function(L,e){return L[2]-e[2]});
return b};x.h3.akA=function(w){var M=new cn;for(var U=0;U<w.length;U++)M=M.MK(w[U][1]);var O=x.$(M.v()*4);
for(var U=0;U<w.length;U++)x.a.DP("norm",w[U][0],w[U][1],O,M,M,1);return[O,M]};x.h3.a3v=function(w,M,O,b,D,o,Z,$){var k=w[1].clone(),E=k.clone();
k.x=k.y=0;var t=M[1].clone(),c=t.clone();t.x=t.y=0;t.x=k.e;var l=k.MK(t),q=c.y-E.y,d=x.$(l.v()*4);x.xu(w[0],k,d,l);
x.xu(M[0],new cn(t.x,t.y+q,t.e,t.n),d,l);var V=document.createElement("canvas");V.width=l.e;V.height=l.n;
var L=V.getContext("2d");L.lineWidth=.5;L.putImageData(new ImageData(new Uint8ClampedArray(d.buffer),l.e,l.n),0,0);
if(o){var e=o[0],H=x.S3.lj(e),j=k.e,g=$.e;for(var U=0;U<D.length;U++){var K=D[U],w=O[K[0]],M=b[K[1]];
L.strokeStyle="#"+"ff0000";L.beginPath();var a=x.Sz.atV(H,Z[0],M,0,g),T=x.Sz.atV(e,Z[1],w,0,g);L.moveTo(-E.x+a[0],-E.y+a[1]);
L.lineTo(-E.x+a[2],-E.y+a[3]);L.moveTo(j-c.x+T[0],-c.y+q+T[1]);L.lineTo(j-c.x+T[2],-c.y+q+T[3]);L.stroke()}}if(D){var C=D.length;
for(var U=0;U<C;U++){var K=D[U],w=O[K[0]],M=b[K[1]];L.strokeStyle="#"+"ffff00"}}var F=new Uint8Array(L.getImageData(0,0,l.e,l.n).data.buffer);
if(!1){for(var m=0;m<2;m++){var N=m==0?O:b,v=m*k.e;for(var U=0;U<N.length;U++){var h=N[U],P=~~h.x,J=~~h.y,Y=(J*l.e+P+v)*4;
F[Y+1]=F[Y+2]=h.a6C*60;F[Y+0]=0;F[Y+3]=255}}}return[F,l]};x.stack={};x.stack.stack=function(w,M,O){var b=w.length,D=M.length;
if(b==1){M.set(w[0]);return}if(O=="avrg"||O=="stdv"||O=="summ"||O=="vari"){var o=1/b;for(var U=0;U<D;
U++){var Z=0;for(var $=0;$<b;$++)Z+=w[$][U];var k=~~(Z*o+.5);if(O=="avrg"||(U&3)==3)M[U]=k;else if(O=="summ")M[U]=255*Math.pow(Math.min(255,Z)*(1/255),1/2.4);
else{var E=0;for(var $=0;$<b;$++){var t=w[$][U]-k;E+=t*t}var c=Math.sqrt(E*o)*(1/255);if(O=="stdv")M[U]=255*Math.pow(c,1/2.4);
else M[U]=255*Math.pow(c*c,1/2.4)}}}else if(O=="maxx"){for(var U=0;U<D;U++){var l=0;for(var $=0;$<b;
$++)l=Math.max(l,w[$][U]);M[U]=l}}else if(O=="minn"){for(var U=0;U<D;U++){var l=255;for(var $=0;$<b;
$++)l=Math.min(l,w[$][U]);M[U]=l}}else if(O=="medn"||O=="rang"){var q=function(e,H){return e-H},d=new Array(b),V=0,L=0;
if((b&1)==0){L=b>>>1;V=L-1}else{V=L=b>>>1}for(var U=0;U<D;U++){for(var $=0;$<b;$++)d[$]=w[$][U];d.sort(q);
if(O=="medn")M[U]=d[V]+d[L]>>>1;else M[U]=(U&3)==3?d[b-1]:d[b-1]-d[0]}}else console.log(O)};x.ze={};
x.ze.aeh=function(w,M,O,b){var D=Date.now(),o=new Uint32Array(M*O),Z=new Uint8Array(M*O);while(!0){Z.fill(0);
o.fill(0);var $=[],k=0;for(var E=0;E<O;E++){for(var t=0;t<M;t++){var U=E*M+t;if(Z[U]==0){var c=$.length,l=x.ze.DX(w,M,O,t,E,Z,o,c);
$.push([c,t,E,l[0],l[1],w[U]]);if(l[0]<b)k++}}}if(k==0)break;var q=$.length,d=new UnionFind(q),V=[];
for(var U=0;U<q;U++)V.push([]);for(var U=0;U<q;U++){var l=$[U],L=l[4],e=0,H=0;if(l[3]>=b)continue;var c=l[0];
for(var j=0;j<L.length;j+=2){var g=o[L[j+1]*M+L[j]],K=$[g];if(K[3]>H){H=K[3];e=g}}if(d.find(c)!=d.find(e)){d.link(c,e);
V[c].push(e);V[e].push(c)}}var a=new Uint32Array(q);a.fill(4294967295);var T=new Uint32Array(q);for(var U=0;
U<q;U++){if(a[U]!=4294967295||V[U].length==0)continue;var C=[U],F=[U],m=U,N=$[U][3];while(F.length!=0){var v=F.pop(),h=V[v];
for(var j=0;j<h.length;j++){var P=h[j];if(C.indexOf(P)==-1){C.push(P);F.push(P);var J=$[P];if(J[3]>N){N=J[3];
m=P}}}}for(var j=0;j<C.length;j++){a[C[j]]=m;var Y=$[m];T[C[j]]=w[Y[2]*M+Y[1]]}}for(var E=0;E<O;E++)for(var t=0;
t<M;t++){var U=E*M+t,B=a[o[U]];if(B!=4294967295)w[U]=T[B]}}};x.ze.DX=function(w,M,O,b,D,o,Z,$){var k=[b,D],E=w[D*M+b],t=0,c=[];
o[D*M+b]=1;while(k.length!=0){var l=k.pop(),q=k.pop(),U=l*M+q;Z[U]=$;t++;if(l!=O-1)if(w[U+M]==E){if(o[U+M]==0){k.push(q,l+1);
o[U+M]=1}}else c.push(q,l+1);if(l!=0)if(w[U-M]==E){if(o[U-M]==0){k.push(q,l-1);o[U-M]=1}}else c.push(q,l-1);
if(q!=M-1)if(w[U+1]==E){if(o[U+1]==0){k.push(q+1,l);o[U+1]=1}}else c.push(q+1,l);if(q!=0)if(w[U-1]==E){if(o[U-1]==0){k.push(q-1,l);
o[U-1]=1}}else c.push(q-1,l)}return[t,c]};x.ze.ab3=function(w,M,O,b,D){var o=x.ze.OB(w.buffer,M,O).yD,Z=Date.now(),$=[];
for(var U=0;U<o.length;U++){var k=o[U],E=1;for(var t=0;t<E;t++)$.push(k.Hv)}var c=new Uint32Array($),l=UPNG.quantize.getKDtree(new Uint8Array(c.buffer),b),q=[M,1,-M,-1,M+1,-M+1,-M-1,M-1,M+M,2,-M-M,-2,M+M-1,M+M+1,M+2,-M+2,-M-M+1,-M-M-1,-M-2,M-2,M+M+2,-M-M+2-M-M-2,M+M-2],d=new Uint8Array(M*O),V=w;
for(var L=0;L<O;L++)for(var e=0;e<M;e++){var U=L*M+e<<2,H=V[U]*(1/255),j=V[U+1]*(1/255),g=V[U+2]*(1/255),K=V[U+3]*(1/255),a=x.ze.VC(l,H,j,g,K,D);
if(a==null){var T=[],C=0;while(C<20){var F=L*M+e+q[C]<<2,m=V[F]*(1/255),N=V[F+1]*(1/255),v=V[F+2]*(1/255),h=V[F+3]*(1/255),P=x.ze.VC(l,m,N,v,h,.005);
if(P!=null){if(T.indexOf(P)==-1){T.push(P);P.r6=1}else P.r6++}C++}T.sort(function(K,g){return g.r6-K.r6});
while(T.length!=0&&T[T.length-1].r6<3)T.pop();if(T.length==0)a=x.ze.VC(l,H,j,g,K,100);else if(T.length==1)a=T[0];
else if(T.length==2){var J=T[0],Y=T[1],B=J.est.q,S=Y.est.q,r=S[0]-B[0],I=S[1]-B[1],f=S[2]-B[2],s=S[3]-B[3],W=H-B[0],i=j-B[1],u=g-B[2],z=K-B[3],G=r*r+I*I+f*f+s*s,g_=W*W+i*i+u*u+z*z,cl=(W*r+i*I+u*f+z*s)/G,p=g_-cl*cl*G;
if(p<.5)a=cl<.5?J:Y;else{a=x.ze.VC(l,H,j,g,K,100)}}else{var J=T[0],Y=T[1],b2=T[2],B=J.est.q,S=Y.est.q,jz=b2.est.q,aT=B[0]-jz[0],fZ=B[1]-jz[1],ft=B[2]-jz[2],cc=B[3]-jz[3],kr=S[0]-jz[0],hG=S[1]-jz[1],hi=S[2]-jz[2],bU=S[3]-jz[3],ic=jz[0]-H,iQ=jz[1]-j,bx=jz[2]-g,aR=jz[3]-K,gs=aT*aT+fZ*fZ+ft*ft+cc*cc,k7=aT*kr+fZ*hG+ft*hi+cc*bU,fT=ic*aT+iQ*fZ+bx*ft+aR*cc,aH=aT*kr+fZ*hG+ft*hi+cc*bU,e7=kr*kr+hG*hG+hi*hi+bU*bU,dB=ic*kr+iQ*hG+bx*hi+aR*bU,ia=1/(k7*aH-gs*e7),cl=(e7*fT-dB*k7)*ia,d7=(dB*gs-fT*aH)*ia,hf=1-cl-d7,gv=Math.max(cl,d7,hf);
if(gv==cl)a=J;else if(gv==d7)a=Y;else a=b2}}d[U>>2]=a.ind}return{vC:d,yD:l[1]}};x.ze.OB=function(w,M,O){var b=[],D={},o=M-1,Z=O-1,$=0,k=new Uint32Array(w),E=[-M-1,-M,-M+1,-1,1,M-1,M,M+1,M+M,2,-M-M,-2,M+M-1,M+M+1,M+2,-M+2,-M-M+1,-M-M-1,-M-2,M-2,M+M+2,-M-M+2-M-M-2,M+M-2];
for(var t=1;t<Z;t++)for(var c=1;c<o;c++){var l=t*M+c,q=k[l],d=!0;for(var U=0;U<8;U++)d=d&&k[l+E[U]]==q;
if(d){$++;var L=D[q];if(L==null){D[q]=b.length;b.push({Hv:q,qd:1})}else b[L].qd++}}return{yD:b,aw_:$}};
x.ze.VC=function(w,M,O,b,D,o){var Z=UPNG.quantize.getNearest(w[0],M,O,b,D);return x.ze.a5f(Z,M,O,b,D)<o?Z:null};
x.ze.a5f=function(w,M,O,b,D){var o=w.est.q,Z=M-o[0],$=O-o[1],k=b-o[2],E=D-o[3];return Z*Z+$*$+k*k+E*E};
x.ze.b6=function(){function w(e,H,j,g,K,a){var T=[],C=a,F=a,m=a>>>2;for(var N=0;N<K;N++)for(var v=0;
v<g;v++){var h=~~((v+.5)*C),P=~~((N+.5)*F),J=1e9,Y=Math.max(0,h-m),B=Math.min(H,h+m+1),S=Math.max(0,P-m),r=Math.min(j,P+m+1);
for(var I=S;I<r;I++)for(var f=Y;f<B;f++){var s=M(e,H,f,I);if(s<J){h=f;P=I;J=s}}var W=(P*H+h)*4;T.push(h,P)}return T}function M(e,H,j,g){var K=(g*H+j)*4,a=H*4,T=O(e,K-4,K)+O(e,K,K+4),C=O(e,K-a,K)+O(e,K,K+a);
return T+C}function O(e,H,j){var g=e[H]-e[j],K=e[H+1]-e[j+1],a=e[H+2]-e[j+2];return g*g+K*K+a*a}var b=0,D=0;
function o(e,H,j,g){D++;if(g<b)b=g;e[g].push(H,j)}function Z(e){D--;while(e[b].length==0)b++}function $(e,H,j,g,K){b=0;
D=0;var a=H*j,T=Math.round(Math.min(H,j)/(g?g:50)),Y=0,B=16;if(T==0)T=1;var C=(K?K:30)/T,F=Math.floor(H/T),m=Math.floor(j/T),N=new Uint16Array(a);
for(var U=0;U<a;U++)N[U]=65535;var v=w(e,H,j,F,m,T),h=v.length>>>1;if(h>65535)throw h;var P=[];for(var U=0;
U<1e3+j;U++)P.push([]);var J=[0,1,0,-1,-1,0,1,0],S=Math.min(m,5),r=new Uint32Array(h*6);for(var I=0;
I<m;I+=S){var f=Math.min(I+S+1,m);for(var s=I;s<f;s++)for(var W=0;W<F;W++){var U=s*F+W,i=U*2,u=v[i+1]<<16|v[i];
o(P,u,U,v[i+1]>>>B)}var z=Math.min(j,f*T);if(I+S>=m)z=j;while(D!=0){Z(P);var G=P[b].pop(),g_=P[b].pop(),cl=g_>>>16,p=g_&65535,U=cl*H+p;
if(N[U]==65535){var b2=G*6,jz=U<<2;N[U]=G;r[b2]+=e[jz];r[b2+1]+=e[jz+1];r[b2+2]+=e[jz+2];r[b2+3]+=p;
r[b2+4]+=cl;r[b2+5]++;var aT=cl>>>B;if(cl!=z-1&&N[U+H]==65535)o(P,cl+1<<16|p,G,k(e,H,C,p,cl+1,r,b2)+aT);
if(cl!=0&&N[U-H]==65535)o(P,cl-1<<16|p,G,k(e,H,C,p,cl-1,r,b2)+aT);if(p!=0&&N[U-1]==65535)o(P,cl<<16|p-1,G,k(e,H,C,p-1,cl,r,b2)+aT);
if(p!=H-1&&N[U+1]==65535)o(P,cl<<16|p+1,G,k(e,H,C,p+1,cl,r,b2)+aT)}}if(z!=cl){var fZ=(I+S)*F;r.fill(0,fZ*6,(fZ+F)*6);
for(var cl=(I+S-2)*T;cl<z;cl++)for(var p=0;p<H;p++){var U=cl*H+p;if(N[U]>=fZ){N[U]=65535}}}}return{vC:N,zf:h,XM:r}}x.ze.nc=function(e,H,j,g,K){var a=e.zf,T=H*j,C=e.XM,F=e.vC,m=q(g,F,a,T),N=new UnionFind(a),B=0;
for(var v=1;v<j;v++)for(var h=1;h<H;h++){var U=v*H+h,P=F[U],J=0;if((J=F[U-1])!=P&&m[J]==m[P]&&E(C,0,P*6,J*6)<K)N.link(P,J);
if((J=F[U-H])!=P&&m[J]==m[P]&&E(C,0,P*6,J*6)<K)N.link(P,J)}var Y=new Uint16Array(a);Y.fill(65535);var S=new Uint16Array(a);
for(var U=0;U<a;U++){var r=N.find(U);if(Y[r]==65535)Y[r]=B++;S[U]=Y[r]}var I=new Uint16Array(T);for(var U=0;
U<T;U++)I[U]=S[F[U]];return{vC:I,zf:B}};x.ze.an3=function(e,H,j,g){var K=x.$(j),a=H.length,T=0;for(var U=0;
U<a&&T!=3;U++){var C=g[U];if(C==0||C==255){var F=H[U],m=2-(C>>>7);K[F]=T=K[F]|m}}return T!=3};function k(e,H,j,g,K,a,T){var C=(K*H+g)*4,F=a[T+5],m=1/F,N=e[C]*F-a[T],v=e[C+1]*F-a[T+1],h=e[C+2]*F-a[T+2],P=g*F-a[T+3],J=K*F-a[T+4],Y=Math.sqrt(N*N+v*v+h*h),B=Math.sqrt(P*P+J*J);
return~~((Y+j*B)*m+.5)}function E(e,H,j,g){var K=1/e[j+5],a=1/e[g+5],T=e[j]*K-e[g]*a,C=e[j+1]*K-e[g+1]*a,F=e[j+2]*K-e[g+2]*a,m=e[j+3]*K-e[g+3]*a,N=e[j+4]*K-e[g+4]*a,v=Math.sqrt(T*T+C*C+F*F),h=Math.sqrt(m*m+N*N);
return~~(v+H*h+.5)}function t(e,H,j){var g=x.h9(e,new cn(0,0,H,j)),K=g.rect.e,a=g.rect.n,T=$(g.AJ,K,a),C=T.vC,F=Date.now(),m=new Uint16Array(H*j);
m.fill(65535);for(var N=0;N<a;N++){for(var v=0;v<K;v++){var h=N*K+v,U=(N<<1)*H+(v<<1),P=C[h];if(C[h-K]!=P||C[h-1]!=P||C[h+1]!=P||C[h+K]!=P)P=65535;
m[U]=P;m[U+1]=P;m[U+H]=P;m[U+H+1]=P}}T.vC=m;return T}function c(e,H){var U=0,j=e.length;while(U!=j&&e[U]!=H)U+=2;
return U==j?-1:U}function l(e,U){if(U==e.length-2){e.pop();e.pop()}else{e[U+1]=e.pop();e[U]=e.pop()}}x.ze.at0=function(e,H,j,g,K){var a=new Uint32Array(K*4400),M=[];
for(var U=0;U<K;U++)M.push([]);for(var T=0;T<j;T++)for(var C=0;C<H;C++){var U=T*H+C,F=U<<2,m=g[U],N=0,v=e[F]>>>4,h=e[F+1]>>>4,P=e[F+2]>>>4;
a[m*4400+(v<<8|h<<4|P)]++;a[m*4400+4096]++;a[m*4400+4100+(v<<4|h)]++;a[m*4400+4360+v]++;if(C!=0&&(N=g[U-1])!=m&&c(M[m],N)==-1){M[m].push(N,0);
M[N].push(m,0)}if(T!=0&&(N=g[U-H])!=m&&c(M[m],N)==-1){M[m].push(N,0);M[N].push(m,0)}}for(var U=0;U<K;
U++){var P=M[U];for(var J=0;J<P.length;J+=2)P[J+1]=L(a,U,P[J])}return[a,M]};function q(e,H,j,g){var K=x.$(j);
for(var U=0;U<g;U++){var a=e[U];if(a==0||a==255)K[H[U]]=2-(a>>>7)}return K}x.ze.a7u=function(e,H,j,g,K,a,T){var C=H*j,F=T[0],M=T[1],m=new UnionFind(g),N=q(K,e,g,C),v=-1,h=!0,P=0;
for(var U=0;U<g;U++)if(N[U]==1){if(v==-1)v=U;else m.link(U,v)}if(v==-1){for(var U=0;U<C;U++)a[U]=K[U]==255?255:0;
return}while(h){while(h){h=!1;for(var U=0;U<g;U++){if(N[U]==0){var J=d(M[U]);if(N[J]==1){N[U]=N[J];h=!0;
m.link(U,J)}}}}h=!0;P=0;while(h){h=!1;for(var U=0;U<g;U++){if(N[U]==0){var J=d(M[U]);if(N[J]==0){var Y=U*4400,B=J*4400;
for(var S=0;S<4400;S+=2){F[Y+S]+=F[B+S];F[Y+S+1]+=F[B+S+1]}V(M,F,U,J);P++;N[J]=3;h=!0;m.link(U,J)}}}}h=P!=0}var r=m.find(v);
for(var U=0;U<g;U++)N[U]=m.find(U)==r?255:0;for(var U=0;U<C;U++){a[U]=N[e[U]]}for(var U=0;U<C;U++){var J=K[U];
if(J==0||J==255)a[U]=J}};function d(e){var H=0,j=0,g=e.length;for(var K=0;K<g;K+=2){var a=e[K+1];if(a>j){j=a;
H=K}}return e[H]}function V(M,e,H,j){var g=M[H],K=M[j];l(g,c(g,j));l(K,c(K,H));for(var U=0;U<K.length;
U+=2){var a=K[U],T=M[a];l(T,c(T,j));if(c(T,H)==-1){T.push(H,0);g.push(a,0)}}for(var U=0;U<g.length;U+=2){var a=g[U],T=M[a],C=L(e,H,a);
g[U+1]=C;T[c(T,H)+1]=C}}function L(e,H,j){var g=0,K=4096,a=H*4400,T=j*4400;for(var C=0;C<16;C++){if(e[a+4360+C]==0||e[T+4360+C]==0)continue;
for(var F=0;F<16;F++){var m=C<<4|F;if(e[a+4100+m]==0||e[T+4100+m]==0)continue;var N=a+(m<<4),v=T+(m<<4);
for(var U=0;U<16;U++)g+=Math.sqrt(e[N+U]*e[v+U])}}var h=g/Math.sqrt(e[a+K]*e[T+K]);return~~(999.99999*h)}return $}();
x.Im={};x.Im.arQ=function(){var w=11,M=7,O=w>>>1,aq=M>>>1,b=2,D=2e3/b,o=[],$=null,k="";function Z(t,c,l){var q=(t[c+0]-t[l+0])*(1/255),d=(t[c+1]-t[l+1])*(1/255),V=(t[c+2]-t[l+2])*(1/255),L=(t[c+3]-t[l+3])*(1/255),e=q*q*.125+d*d*.25+V*V*.5+L*L;
return o[~~(e*D)]}function E(t,c,l,q,d,V){var L=Date.now(),e=x.$(c*l);x.C3(t,e);var H=UZIP.adler(e,0,c*l);
if(H!=k){var j=x.uU(e,c,l);$=x.$(c*l*4);k=H;var g=[1,1/9,1/25,1/49,1/81];for(var K=0;K<l;K++)for(var a=0;
a<c;a++)for(var U=0;U<4;U++){var T=Math.max(1,a-U),C=Math.min(c-1,a+U),F=Math.max(1,K-U),m=Math.min(l-1,K+U),N=x.cY(j,c,T,C,F,m);
if(isNaN(N))throw a+","+K+","+U+","+N;$[(K*c+a)*4+U]=N*g[U]}}if(X.Nu){var v=X.Bv(0,c,l);v.set(t);var h=X.Bv(1,c,l);
h.set($);var P=X.Bv(2,c,l);X.IF(P);X.filter.AO({type:X.filter.a7F,Af:new Float32Array([1/c,1/l]),a13:h.p3,aed:d,agL:V},v.p3);
P.get(q)}else{for(var U=0;U<2e3;U++)o[U]=Math.exp(-(U/2e3)*b*(100+(1-d)*(1-d)*1e4));var J=aq+2;for(var K=J;
K<l-J;K++)for(var a=J;a<c-J;a++){var Y=0,B=0,S=0,r=0;for(var I=0;I<w;I++)for(var f=0;f<w;f++){var s=a+f-O,W=K+I-O;
if(s==a&&W==K||s<J||W<J||s>=c-J||W>=l-J)continue;var i=Z($,(K*c+a)*4,(W*c+s)*4),u=W*c+s<<2;Y+=i*t[u+0];
B+=i*t[u+1];S+=i*t[u+2];r+=i}if(r==0){continue}var z=1/r,G=(K*c+a)*4;q[G+0]=~~((1-V)*z*Y+V*q[G+0]);q[G+1]=~~((1-V)*z*B+V*q[G+1]);
q[G+2]=~~((1-V)*z*S+V*q[G+2])}}}return E}();var iL=function(){function w(){this.v=0;this.w_=0;this.LD={};
this.Eg=[];this.HT=1e5;this.ED=1e5;this.p_=-1;this.Ue=-1;this.color=0}function M(aq){this.k6=aq;this.nC=new Array(aq);
this.Hv=new Array(aq*6);this.amh=0;this.yY=new Array(aq*2);this.alpha=new Array(aq);this.$n=new Array(aq);
this._3=new Array(aq)}function O(D,o,Z,$){function k(L,e,D,o){return D[o*e+L]}function E(U){var T=D.length;
while(U<T&&D[U]==0)U++;return U<T?U:-1}function t(L,e,T){for(var U=2;U<5;U++){var C=0;for(var F=-U+1;
F<=U-1;F++){C+=k(L+F,e+U-1,D,o)==T?1:-1;C+=k(L+U-1,e+F-1,D,o)==T?1:-1;C+=k(L+F-1,e-U,D,o)==T?1:-1;C+=k(L-U,e+F,D,o)==T?1:-1}if(C>0)return 1;
else if(C<0)return 0}return 0}function c(T,d){var V=new w,L=T,e=d,C=0,F=1,m;V.color=D[d*o+T];V.sign=k(T,d,D,o)==V.color?"+":"-";
while(1){V.Eg.push(L,e);if(L>V.p_)V.p_=L;if(L<V.HT)V.HT=L;if(e>V.Ue)V.Ue=e;if(e<V.ED)V.ED=e;V.w_++;L+=C;
e+=F;V.v-=L*F;if(L==T&&e==d)break;var N=k(L+(C+F-1>>1),e+(F-C-1>>1),D,o)==V.color,v=k(L+(C-F-1>>1),e+(F+C-1>>1),D,o)==V.color;
if(v&&!N){if($.Pq=="right"||$.Pq=="black"&&V.sign=="+"||$.Pq=="white"&&V.sign=="-"||$.Pq=="majority"&&t(L,e,V.color)||$.Pq=="minority"&&!t(L,e,V.color)){m=C;
C=-F;F=m}else{m=C;C=F;F=-m}}else if(v){m=C;C=-F;F=m}else if(!N){m=C;C=F;F=-m}}return V}var l=0,q=[];
while(!0){var l=E(l);if(l==-1)break;var d=Math.floor(l/o),V=c(l-d*o,d);for(var U=0;U<V.Eg.length-2;U+=2){var L=V.Eg[U],e=V.Eg[U+1],H=e*o+L;
if(L==V.Eg[U+2]&&e+1==V.Eg[U+3]&&D[H]!=0)iL.fill(H,D,o,0)}if(V.v>$.aoq)q.push(V)}for(var U=0;U<q.length;
U++)q[U].parent=-1;var j=Date.now();for(var U=1;U<q.length;U++){var g=q[U];for(var K=U-1;K>=0;K--){var a=q[K];
if(g.HT<a.HT||g.p_>a.p_||g.ED<a.ED||g.Ue>a.Ue)continue;if(!iL.$y(a.Eg,g.Eg[0]+.5,g.Eg[1]+.5))continue;
g.parent=K;break}}return q}function b(D,o){function Z(C,F,m,N,v){this.x=C;this.y=F;this.ea=m;this.FG=N;
this.Fz=v}function $(C,aq){return(aq+C)%aq}function k(C,F,m,N){return C*N-m*F}function E(C,F,m,N){return C*m+F*N}function t(C,F,m){if(C<=m)return C<=F&&F<m;
else return C<=F||F<m}function c(C,F,m){var N=0;N+=F*C[0]*F;N+=F*C[1]*m;N+=F*C[2];N+=m*C[3]*F;N+=m*C[4]*m;
N+=m*C[5];N+=C[6]*F;N+=C[7]*m;N+=C[8];return N}function l(C,F,m){return F+C*(m-F)}function q(C,F,m,N){var v=Math.sign(m-C),h=-Math.sign(N-F);
return v*(m-C)-h*(N-F)}function d(C,F){return Math.sqrt(C*C+F*F)}function V(C,F,m,N,v){var h=1-C;return h*h*h*F+3*(h*h*C)*m+3*(C*C*h)*N+C*C*C*v}function L(C,F,m,N,v,h,P,J){var Y=k(C,F,P,J),B=k(m,N,P,J),S=k(v,h,P,J),r=Y-2*B+S,I=-2*Y+2*B,f=Y,s=I*I-4*r*f;
if(r==0||s<0)return-1;var W=Math.sqrt(s),i=(-I+W)/(2*r),u=(-I-W)/(2*r);if(i>=0&&i<=1)return i;else if(u>=0&&u<=1)return u;
else return-1}function e(T){var U,C,F;T.nR=T.Eg[0];T.aa2=T.Eg[1];T.hn=[];var m=T.hn;m.push(new Z(0,0,0,0,0));
for(U=0;U<T.w_;U++){C=T.Eg[U<<1]-T.nR;F=T.Eg[(U<<1)+1]-T.aa2;m.push(new Z(m[U].x+C,m[U].y+F,m[U].ea+C*F,m[U].FG+C*C,m[U].Fz+F*F))}}function H(T){var aq=T.w_,C=T.Eg,F,m=new Array(aq),N=new Array(aq),v=new Array(4),h,P,J,Y,B,S,r,I,f,s,W,U,i,u,z,G,g_,cl,p=0;
T.Kr=new Array(aq);for(U=aq-1;U>=0;U--){if(C[U<<1]!=C[p<<1]&&C[(U<<1)+1]!=C[(p<<1)+1])p=U+1;N[U]=p}for(U=aq-1;
U>=0;U--){var b2=$(U+1,aq)<<1;v[0]=v[1]=v[2]=v[3]=0;F=(3+3*(C[b2]-C[U<<1])+(C[b2+1]-C[(U<<1)+1]))/2;
v[F]++;h=0;P=0;J=0;Y=0;p=N[U];u=U;while(1){W=0;F=(3+3*Math.sign(C[p*2]-C[u*2])+Math.sign(C[p*2+1]-C[u*2+1]))/2;
v[F]++;if(v[0]&&v[1]&&v[2]&&v[3]){m[U]=u;W=1;break}f=C[p*2]-C[U*2];s=C[p*2+1]-C[U*2+1];if(k(h,P,f,s)<0||k(J,Y,f,s)>0){break}if(Math.abs(f)<=1&&Math.abs(s)<=1){}else{B=f+(s>=0&&(s>0||f<0)?1:-1);
S=s+(f<=0&&(f<0||s<0)?1:-1);if(k(h,P,B,S)>=0){h=B;P=S}B=f+(s<=0&&(s<0||f<0)?1:-1);S=s+(f>=0&&(f>0||s<0)?1:-1);
if(k(J,Y,B,S)<=0){J=B;Y=S}}u=p;p=N[u];if(!t(p,U,u)){break}}if(W==0){r=Math.sign(C[p*2]-C[u*2]);I=Math.sign(C[p*2+1]-C[u*2+1]);
f=C[u*2]-C[U*2];s=C[u*2+1]-C[U*2+1];z=k(h,P,f,s);G=k(h,P,r,I);g_=k(J,Y,f,s);cl=k(J,Y,r,I);i=1e7;if(G<0){i=Math.floor(z/-G)}if(cl>0){i=Math.min(i,Math.floor(-g_/cl))}m[U]=$(u+i,aq)}}i=m[aq-1];
T.Kr[aq-1]=i;for(U=aq-2;U>=0;U--){if(t(U+1,m[U],i)){i=m[U]}T.Kr[U]=i}for(U=aq-1;t($(U+1,aq),i,T.Kr[U]);
U--){T.Kr[U]=i}}function j(T){function C(T,U,F){var aq=T.w_,f=T.Eg,s=T.hn,W,i,u,z,G,N,g_,cl,I,p,b2,jz,aT,fZ,ft=0;
if(F>=aq){F-=aq;ft=1}if(ft==0){W=s[F+1].x-s[U].x;i=s[F+1].y-s[U].y;z=s[F+1].FG-s[U].FG;u=s[F+1].ea-s[U].ea;
G=s[F+1].Fz-s[U].Fz;N=F+1-U}else{W=s[F+1].x-s[U].x+s[aq].x;i=s[F+1].y-s[U].y+s[aq].y;z=s[F+1].FG-s[U].FG+s[aq].FG;
u=s[F+1].ea-s[U].ea+s[aq].ea;G=s[F+1].Fz-s[U].Fz+s[aq].Fz;N=F+1-U+aq}b2=(f[U<<1]+f[F<<1])/2-f[0];jz=(f[(U<<1)+1]+f[(F<<1)+1])/2-f[1];
fZ=f[F<<1]-f[U<<1];aT=-(f[(F<<1)+1]-f[(U<<1)+1]);g_=(z-2*W*b2)/N+b2*b2;cl=(u-W*jz-i*b2)/N+b2*jz;I=(G-2*i*jz)/N+jz*jz;
p=aT*aT*g_+2*aT*fZ*cl+fZ*fZ*I;return Math.sqrt(p)}var U,F,m,N,aq=T.w_,v=new Array(aq+1),h=new Array(aq+1),P=new Array(aq),J=new Array(aq+1),Y=new Array(aq+1),B=new Array(aq+1),S,r,I;
for(U=0;U<aq;U++){I=$(T.Kr[$(U-1,aq)]-1,aq);if(I==U){I=$(U+1,aq)}if(I<U){P[U]=aq}else{P[U]=I}}F=1;for(U=0;
U<aq;U++){while(F<=P[U]){J[F]=U;F++}}U=0;for(F=0;U<aq;F++){Y[F]=U;U=P[U]}Y[F]=aq;m=F;U=aq;for(F=m;F>0;
F--){B[F]=U;U=J[U]}B[0]=0;v[0]=0;for(F=1;F<=m;F++){for(U=B[F];U<=Y[F];U++){r=-1;for(N=Y[F-1];N>=J[U];
N--){S=C(T,N,U)+v[N];if(r<0||S<r){h[U]=N;r=S}}v[U]=r}}T.arY=m;T.adj=new Array(m);for(U=aq,F=m-1;U>0;
F--){U=h[U];T.adj[F]=U}}function g(T){function C(T,U,S,P,J,cc){var aq=T.w_,kr=T.hn,hG=0,I;while(S>=aq){S-=aq;
hG+=1}while(U>=aq){U-=aq;hG-=1}while(S<0){S+=aq;hG-=1}while(U<0){U+=aq;hG+=1}var hi=kr[S+1].x-kr[U].x+hG*kr[aq].x,bU=kr[S+1].y-kr[U].y+hG*kr[aq].y,ic=kr[S+1].FG-kr[U].FG+hG*kr[aq].FG,iQ=kr[S+1].ea-kr[U].ea+hG*kr[aq].ea,bx=kr[S+1].Fz-kr[U].Fz+hG*kr[aq].Fz,r=S+1-U+hG*aq;
P[cc]=hi/r;P[cc+1]=bU/r;var aR=(ic-hi*hi/r)/r,gs=(iQ-hi*bU/r)/r,k7=(bx-bU*bU/r)/r,fT=(aR+k7+Math.sqrt((aR-k7)*(aR-k7)+4*gs*gs))/2;
aR-=fT;k7-=fT;if(Math.abs(aR)>=Math.abs(k7)){I=Math.sqrt(aR*aR+gs*gs);if(I!=0){J[cc]=-gs/I;J[cc+1]=aR/I}}else{I=Math.sqrt(k7*k7+gs*gs);
if(I!=0){J[cc]=-k7/I;J[cc+1]=gs/I}}if(I==0){J[cc]=J[cc+1]=0}}var F=T.arY,m=T.adj,aq=T.w_,N=T.Eg,v=T.nR,h=T.aa2,P=new Array(F*2),J=new Array(F*2),Y=new Array(F),B=new Array(3),U,S,r,I,i,u,z,G,g_,cl,p;
T.LD=new M(F);for(U=0;U<F;U++){S=m[$(U+1,F)];S=$(S-m[U],aq)+m[U];P[U<<1]=0;P[(U<<1)+1]=0;J[U<<1]=0;J[(U<<1)+1]=0;
C(T,m[U],S,P,J,U<<1)}for(U=0;U<F;U++){Y[U]=[0,0,0,0,0,0,0,0,0];var f=J[U<<1]*J[U<<1]+J[(U<<1)+1]*J[(U<<1)+1],s=1/f;
if(f!=0){B[0]=J[(U<<1)+1];B[1]=-J[U<<1];B[2]=-B[1]*P[(U<<1)+1]-B[0]*P[U<<1];for(I=0;I<3;I++){Y[U][I*3+0]=B[I]*B[0]*s;
Y[U][I*3+1]=B[I]*B[1]*s;Y[U][I*3+2]=B[I]*B[2]*s}}}var W=[0,0,0,0,0,0,0,0,0];for(U=0;U<F;U++){W[0]=W[1]=W[2]=W[3]=W[4]=W[5]=W[6]=W[7]=W[8]=W[9]=0;
var b2=N[m[U]<<1]-v,jz=N[(m[U]<<1)+1]-h,aT=0,fZ=0;S=$(U-1,F);for(I=0;I<9;I+=3){W[I+0]=Y[S][I+0]+Y[U][I+0];
W[I+1]=Y[S][I+1]+Y[U][I+1];W[I+2]=Y[S][I+2]+Y[U][I+2]}while(1){var ft=W[0]*W[4]-W[1]*W[3];if(ft!=0){aT=(-W[2]*W[4]+W[5]*W[0])/ft;
fZ=(W[2]*W[3]-W[5]*W[0])/ft;break}if(W[0]>W[4]){B[0]=-W[1];B[1]=W[0]}else if(W[4]){B[0]=-W[4];B[1]=W[3]}else{B[0]=1;
B[1]=0}var f=B[0]*B[0]+B[1]*B[1],s=1/f;B[2]=-B[1]*jz-B[0]*b2;for(I=0;I<3;I++){W[I*3+0]+=B[I]*B[0]*s;
W[I*3+1]+=B[I]*B[1]*s;W[I*3+2]+=B[I]*B[2]*s}}i=Math.abs(aT-b2);u=Math.abs(fZ-jz);if(i<=.5&&u<=.5){T.LD.yY[U<<1]=aT+v;
T.LD.yY[(U<<1)+1]=fZ+h;continue}z=c(W,b2,jz);g_=b2;cl=jz;if(W[0]!=0){for(p=0;p<2;p++){fZ=jz-.5+p;aT=-(W[1]*fZ+W[2])/W[0];
i=Math.abs(aT-b2);G=c(W,aT,fZ);if(i<=.5&&G<z){z=G;g_=aT;cl=fZ}}}if(W[4]!=0){for(p=0;p<2;p++){aT=b2-.5+p;
fZ=-(W[3]*aT+W[5])/W[4];u=Math.abs(fZ-jz);G=c(W,aT,fZ);if(u<=.5&&G<z){z=G;g_=aT;cl=fZ}}}for(I=0;I<2;
I++){for(r=0;r<2;r++){aT=b2-.5+I;fZ=jz-.5+r;G=c(W,aT,fZ);if(G<z){z=G;g_=aT;cl=fZ}}}T.LD.yY[U<<1]=g_+v;
T.LD.yY[(U<<1)+1]=cl+h}}function K(T){var C=T.LD.k6,F=T.LD,U,m,N,v,h,P,J,Y,B;for(U=0;U<C;U++){m=$(U+1,C);
N=$(U+2,C);var S=F.yY[U<<1],r=F.yY[(U<<1)+1],I=F.yY[N<<1],f=F.yY[(N<<1)+1],s=F.yY[m<<1],W=F.yY[(m<<1)+1],i=l(.5,I,s),u=l(.5,f,W);
h=q(S,r,I,f);if(h!=0){v=k(s-S,W-r,I-S,f-r)/h;v=Math.abs(v);P=v>1?1-1/v:0;P=P*(1/.75)}else{P=4/3}F.$n[m]=P;
var z=3*m<<1;if(P>=o.atH){F.nC[m]=0;F.Hv[z+0]=F.Hv[z+1]=0;F.Hv[z+2]=s;F.Hv[z+3]=W;F.Hv[z+4]=i;F.Hv[z+5]=u}else{if(P<.55){P=.55}else if(P>1){P=1}var G=.5+.5*P;
F.nC[m]=1;F.Hv[z]=l(G,S,s);F.Hv[z+1]=l(G,r,W);F.Hv[z+2]=l(G,I,s);F.Hv[z+3]=l(G,f,W);F.Hv[z+4]=i;F.Hv[z+5]=u}F.alpha[m]=P;
F._3[m]=.5}F.ay3=1}function a(T){function C(){this.rX=0;this.V6=0;this.t3=0;this.sm=0;this.Hy=0;this.GG=0;
this.h7=0;this.alpha=0}function F(T,U,S,e7,dB,g_,cl){var N=T.LD.k6,ia=T.LD.Hv,d7=T.LD.yY;if(U==S)return 1;
var hf=U,s=$(U+1,N),gv=$(hf+1,N),iQ=d7[U<<1],bx=d7[(U<<1)+1],hN=d7[s<<1],hP=d7[(s<<1)+1],gP=g_[gv];if(gP==0)return 1;
var aB=d(iQ-hN,bx-hP);for(hf=gv;hf!=S;hf=gv){var gv=$(hf+1,N),i7=$(hf+2,N),dI=d7[gv<<1],gh=d7[(gv<<1)+1],b9=d7[i7<<1],ij=d7[(i7<<1)+1];
if(g_[gv]!=gP)return 1;if(Math.sign(k(hN-iQ,hP-bx,b9-dI,ij-gh))!=gP)return 1;if(E(hN-iQ,hP-bx,b9-dI,ij-gh)<aB*d(dI-b9,gh-ij)*-.999847695156)return 1}var ax=$(U,N)*3+2<<1,iX=$(U+1,N)<<1,am=$(S,N)<<1,jf=$(S,N)*3+2<<1,cc=ia[ax],kr=ia[ax+1],eJ=d7[iX],hZ=d7[iX+1],hC=d7[am],ds=d7[am+1],hV=ia[jf],bv=ia[jf+1],p=d7[0],b2=d7[1];
ax=S*3+2<<1;var hl=ia[ax],jQ=ia[ax+1],W=cl[S]-cl[U];W-=k(hl-p,jQ-b2,hl-p,jQ-b2)/2;if(U>=S){W+=cl[N]}var a$=eJ-cc,jB=hZ-kr,jL=hC-cc,c1=ds-kr,fd=hV-cc,g2=bv-kr,ed=k(a$,jB,jL,c1),ip=k(a$,jB,fd,g2),bS=k(jL,c1,fd,g2),hg=ed+bS-ip;
if(ip==ed)return 1;var G=bS/(bS-hg),z=ip/(ip-ed),dZ=ip*G/2;if(dZ==0)return 1;var cA=W/dZ,i=2-Math.sqrt(4-cA/.3);
e7.V6=l(G*i,cc,eJ);e7.t3=l(G*i,kr,hZ);e7.sm=l(z*i,hV,hC);e7.Hy=l(z*i,bv,ds);e7.alpha=i;e7.GG=G;e7.h7=z;
eJ=e7.V6;hZ=e7.t3;hC=e7.sm;ds=e7.Hy;e7.rX=0;for(hf=$(U+1,N);hf!=S;hf=gv){gv=$(hf+1,N);var j$=d7[hf<<1],iK=d7[(hf<<1)+1],dI=d7[gv<<1],gh=d7[(gv<<1)+1];
G=L(eJ-cc,hZ-kr,hC-eJ,ds-hZ,hV-hC,bv-ds,dI-j$,gh-iK);if(G<-.5)return 1;var hJ=V(G,cc,eJ,hC,hV),ag=V(G,kr,hZ,ds,bv),aB=d(dI-j$,gh-iK);
if(aB==0)return 1;var ii=k(dI-j$,gh-iK,hJ-j$,ag-iK)/aB;if(Math.abs(ii)>dB)return 1;if(E(dI-j$,gh-iK,hJ-j$,ag-iK)<0||E(j$-dI,iK-gh,hJ-dI,ag-gh)<0){return 1}e7.rX+=ii*ii}for(hf=U;
hf!=S;hf=gv){gv=$(hf+1,N);var ax=hf*3+2<<1,iX=gv*3+2<<1,hr=ia[ax],dN=ia[ax+1],dm=ia[iX],j_=ia[iX+1];
G=L(eJ-cc,hZ-kr,hC-eJ,ds-hZ,hV-hC,bv-ds,dm-hr,j_-dN);if(G<-.5)return 1;var hJ=V(G,cc,eJ,hC,hV),ag=V(G,kr,hZ,ds,bv),aB=d(dm-hr,j_-dN);
if(aB==0)return 1;var ii=k(dm-hr,j_-dN,hJ-hr,ag-dN)/aB,ae=k(dm-hr,j_-dN,d7[gv<<1]-hr,d7[(gv<<1)+1]-dN)/aB;
ae*=.75*T.LD.alpha[gv];if(ae<0){ii=-ii;ae=-ae}if(ii<ae-dB)return 1;if(ii<ae){e7.rX+=(ii-ae)*(ii-ae)}}return 0}var m=T.LD,N=m.k6,v=m.yY,h=new Array(N+1),P=new Array(N+1),J=new Array(N+1),Y=new Array(N+1),B,U,S,r,I=new C,f,s,W,i,u,z,G,g_=new Array(N),cl=new Array(N+1);
for(U=0;U<N;U++){if(m.nC[U]=="CURVE"){var p=v[$(U-1,N)<<1],b2=v[($(U-1,N)<<1)+1],jz=v[U<<1],aT=v[(U<<1)+1],fZ=v[$(U+1,N)<<1],ft=v[($(U+1,N)<<1)+1];
g_[U]=Math.sign(k(jz-p,aT-b2,fZ-jz,ft-aT))}else{g_[U]=0}}W=0;cl[0]=0;var cc=m.yY[0],kr=m.yY[1];for(U=0;
U<N;U++){s=$(U+1,N);if(m.nC[s]=="CURVE"){i=m.alpha[s];var hG=U*3+2<<1,hi=s*3+2<<1,bU=m.Hv[hG],ic=m.Hv[hG+1],iQ=v[s<<1],bx=v[(s<<1)+1],aR=m.Hv[hi],gs=m.Hv[hi+1];
W+=.3*i*(4-i)*k(iQ-bU,bx-ic,aR-bU,gs-ic)/2;W+=k(bU-cc,ic-kr,aR-cc,gs-kr)/2}cl[U+1]=W}h[0]=-1;P[0]=0;
J[0]=0;for(S=1;S<=N;S++){h[S]=S-1;P[S]=P[S-1];J[S]=J[S-1]+1;for(U=S-2;U>=0;U--){r=F(T,U,$(S,N),I,o.amt,g_,cl);
if(r){break}if(J[S]>J[U]+1||J[S]==J[U]+1&&P[S]>P[U]+I.rX){h[S]=U;P[S]=P[U]+I.rX;J[S]=J[U]+1;Y[S]=I;I=new C}}}B=J[N];
u=new M(B);z=new Array(B);G=new Array(B);S=N;for(U=B-1;U>=0;U--){var k7=$(S,N),fT=U*3+0<<1,aH=k7*3+0<<1;
if(h[S]==S-1){u.nC[U]=m.nC[k7];u.Hv[fT]=m.Hv[aH];u.Hv[fT+1]=m.Hv[aH+1];u.Hv[fT+2]=m.Hv[aH+2];u.Hv[fT+3]=m.Hv[aH+3];
u.Hv[fT+4]=m.Hv[aH+4];u.Hv[fT+5]=m.Hv[aH+5];u.yY[U<<1]=m.yY[k7<<1];u.yY[(U<<1)+1]=m.yY[(k7<<1)+1];u.alpha[U]=m.alpha[k7];
u.$n[U]=m.$n[k7];u._3[U]=m._3[k7];z[U]=G[U]=1}else{u.nC[U]="CURVE";u.Hv[fT]=Y[S].V6;u.Hv[fT+1]=Y[S].t3;
u.Hv[fT+2]=Y[S].sm;u.Hv[fT+3]=Y[S].Hy;u.Hv[fT+4]=m.Hv[aH+4];u.Hv[fT+5]=m.Hv[aH+5];u.yY[U<<1]=l(Y[S].h7,m.Hv[aH+4],v[k7<<1]);
u.yY[(U<<1)+1]=l(Y[S].h7,m.Hv[aH+5],v[(k7<<1)+1]);u.alpha[U]=Y[S].alpha;u.$n[U]=Y[S].alpha;z[U]=Y[S].h7;
G[U]=Y[S].GG}S=h[S]}for(U=0;U<B;U++){s=$(U+1,B);u._3[U]=z[U]/(z[U]+G[s])}u.ay3=1;T.LD=u}for(var U=0;
U<D.length;U++){var T=D[U];e(T);H(T);j(T);g(T);K(T);if(o.asG)a(T)}}return{alr:O,auf:b}}();iL.Qk=function(w,M,O,b){var D={Pq:"minority",aoq:b,asG:!0,atH:1,amt:.2},o=iL.alr(w,M,O,D);
iL.auf(o,D);return o};iL.ff=function(w){var M=[];for(var U=0;U<w.length;U++){var O=w[U],b=O.LD,D=["M"],o=[b.Hv[(b.k6-1)*6+4],b.Hv[(b.k6-1)*6+5]];
for(var Z=0;Z<b.k6;Z++){var $=Z*6;if(b.nC[Z]==1){D.push("C");for(var k=0;k<6;k++)o.push(b.Hv[$+k])}else if(b.nC[Z]==0){D.push("L");
for(var k=2;k<4;k++)o.push(b.Hv[$+k])}}D.push("Z");M.push({parent:O.parent,color:O.color,path:{C:o,H:D}})}return M};
iL.$y=function(w,M,O){var aq=w.length>>1,b,D=w[2*aq-3]-O,o=w[2*aq-2]-M,Z=w[2*aq-1]-O,$=Z>D,k=0;for(var U=0;
U<aq;U++){b=o;D=Z;o=w[2*U]-M;Z=w[2*U+1]-O;if(D==Z)continue;$=Z>D}for(var U=0;U<aq;U++){b=o;D=Z;o=w[2*U]-M;
Z=w[2*U+1]-O;if(D<0&&Z<0)continue;if(D>0&&Z>0)continue;if(b<0&&o<0)continue;if(D==Z&&Math.min(b,o)<=0)return!0;
if(D==Z)continue;var E=b+(o-b)*-D/(Z-D);if(E==0)return!0;if(E>0)k++;if(D==0&&$&&Z>D)k--;if(D==0&&!$&&Z<D)k--;
$=Z>D}return(k&1)==1};iL.fill=function(w,M,O,b){var D=M[w],o=[w],Z=0;while(Z<o.length){var $=o[Z];Z++;
M[$]=b;if(M[$-O]==D){o.push($-O);M[$-O]=254}if(M[$-1]==D){o.push($-1);M[$-1]=254}if(M[$+1]==D){o.push($+1);
M[$+1]=254}if(M[$+O]==D){o.push($+O);M[$+O]=254}}};var dG=function(){function w(k){return Math.max(0,Math.min(1,k))}function M(k,E,t,c){var l=Math.sin(c),q=Math.cos(c),d=1/Math.sqrt(k*k+E*E+t*t);
k*=d;E*=d;t*=d;return[k*k*(1-q)+q,k*E*(1-q)-t*l,k*t*(1-q)+E*l,k*E*(1-q)+t*l,E*E*(1-q)+q,E*t*(1-q)-k*l,k*t*(1-q)-E*l,E*t*(1-q)+k*l,t*t*(1-q)+q]}function O(k,E){var t=E<0?-E:E;
if(k>1)k=.99;k=k*.99;var c=Math.pow(t/5,.16),l=Math.pow(2,t<1?t:1+(t-1)*.8);if(E<0)l=1/l;k=c*(1-Math.pow(1-k,l))+(1-c)*k;
return k}function b(k,E){var t=E/100;k=k*.99;k=t*(.5-.5*Math.cos(k*Math.PI))+(1-t)*k;return k}var D=x.in.Du(M(1,1,1,-.3)),o=x.in.ZW(D);
function Z(k,E,t,c,l,q){var d=k[t],V=k[t+1],L=k[t+2],e=x.in.Tl(D,[d,V,L,1]);d=e[0];V=e[1];L=e[2];d=O(d,c);
V=O(V,c);L=O(L,c);var e=x.in.Tl(o,[d,V,L,1]);d=e[0];V=e[1];L=e[2];d=w(d);V=w(V);L=w(L);d=b(d,l);V=b(V,l);
L=b(L,l);var H=jt.axI(d,V,L,q);d=H[0];V=H[1];L=H[2];d=w(d);V=w(V);L=w(L);E[t]=d;E[t+1]=V;E[t+2]=L}function $(k,E,t,c,l,q){var d=l.Temp?l.Temp.v:0,V=l.Tint?l.Tint.v:0,L=l.Ex12?l.Ex12.v:0,e=l.Cr12?l.Cr12.v:0,H=jt.C9(d,V);
L+=H.a50;var j=Date.now();if(q){var g=Math.pow(2,L),K=k.length;L=0;var a=new Float32Array(4e3);for(var U=0;
U<4e3;U++){var T=U*(1/1e3);T=x.dm(T);T*=g;T=x.I6(T);T=w(T);a[U]=T}for(var U=0;U<K;U+=3){c[U]=a[~~(k[U]*1e3)];
c[U+1]=a[~~(k[U+1]*1e3)];c[U+2]=a[~~(k[U+2]*1e3)]}console.log(Date.now()-j,"Exposure normalizing");j=Date.now()}else c.set(k);
if(L!=0||e!=0||d!=0||V!=0){var C=17,F=1/(C-1),m=C*C*C,N=new Array(m*3);for(var v=0;v<C;v++)for(var h=0;
h<C;h++)for(var P=0;P<C;P++){var U=v*C*C+h*C+P,J=U*3;N[J]=v*F;N[J+1]=h*F;N[J+2]=P*F}for(var U=0;U<m;
U++)Z(N,N,U*3,L,e,H);console.log(Date.now()-j,"making LUT");j=Date.now();ICC.U.applyLUTFloat(N,C,c,c);
console.log(Date.now()-j,"applying LUT");j=Date.now()}}return $}();function dc(){}dc.TC=function(w){var M=new Uint8Array(w),O=0,b={eg:[],ow:[],list:[]},D=n.z0(M,O);
O+=2;if(D<=2){return dc.aie(M)}var o=n.z0(M,O);O+=2;var Z=n.TP(M,O,8);O+=8;var $=n.A(M,O);O+=4;if($>0)b.eg=dc.Oh(M,O,$,o,D);
O+=$;var k=n.TP(M,O,8);O+=8;var E=n.A(M,O);O+=4;if(E>0)b.ow=gF.CU(M,O,E);O+=E;var t=n.TP(M,O,8);O+=8;
var c=n.A(M,O);O+=4;if(c>0){var l={};dO.m2(M,l,O+4);b.list=l.Brsh.v}O+=c;var q=b.list;for(var U=0;U<q.length;
U++){b6.hW.check(q[U].v)}return b};dc.qX=function(w,M){w.v.Nm.v=M};dc.aie=function(w){var M={eg:[],ow:[],list:[]},O=0,b=n.z0(w,O);
O+=2;var D=n.z0(w,O);O+=2;for(var U=0;U<D;U++){var o=n.z0(w,O);O+=2;var Z=n.A(w,O);O+=4;var $=O;if(o==2){var k={};
M.eg.push(k);var E=n.A(w,$);$+=4;var t=n.z0(w,$);$+=2;if(b==2){var c=n.yQ(w,$);$+=4+c.length*2+2}k.id=fO.ZU()+"-d71c-11e5-b1ae-a548a96e5f9f";
$++;$+=8;k.xr=n.WM(w,$);$+=16;var l=n.z0(w,$);$+=2;var q=w[$];$++;var d=dw.yb(!1,l,w,k.xr.e,k.xr.n,$,q);
dc.nr(k,d);var V=b6.dd(k.id),L=V.Brsh.v;L.Dmtr.v.val=k.xr.e;L.Spcn.v.val=t;M.list.push({t:"Objc",v:V})}O+=Z}return M};
dc.qf=function(w){var M=new id,O=0,b=0;n.yT(M,O,6);O+=2;n.yT(M,O,2);O+=2;n.CD(M,O,"8BIMsamp");O+=8;O+=4;
b=O;O=dc.cS(M,O,w.eg);n.kq(M,b-4,O-b);n.CD(M,O,"8BIMpatt");O+=8;O+=4;b=O;O=gF.SE(M,O,w.ow);n.kq(M,b-4,O-b);
var D={classID:"null",Brsh:{t:"VlLs",v:w.list}};n.CD(M,O,"8BIMdesc");O+=8;O+=4;b=O;n.kq(M,O,16);O+=4;
O+=dO.kS(M,D,O);n.kq(M,b-4,O-b);return M.data.slice(0,O).buffer};dc.Oh=function(w,M,O,b,D){var o=n.A,Z=n.WM,$=M+O,k=[];
while(M<$){var E={};k.push(E);var t=o(w,M);M+=4;var c=M,l=n.gm(w,M);M+=l.length;E.id=l.g$;if(b==1){M+=9;
E.xr=Z(w,M);M+=16}else{M+=7;var q=o(w,M);M+=4;E.xr=Z(w,M);M+=16;var d=o(w,M);M+=4;M+=d*4;var V=o(w,M);
M+=4;var L=o(w,M);M+=4;var e=Z(w,M);M+=16}var H=n.z0(w,M);M+=2;var j=w[M];M+=1;var g=dw.yb(!1,H,w,E.xr.e,E.xr.n,M,j);
dc.nr(E,g);if(t%4!=0)t+=4-t%4;M=c+t}return k};dc.nr=function(w,M){var O=w.xr.clone(),b=x.$(O.v()*4);
x.Jm(M,b,3);O.x=O.y=0;w.f4=[b,O]};dc.cS=function(w,M,O){var b=n.kq,D=n.t2;for(var U=0;U<O.length;U++){var o=O[U],Z=M+4,k=56,t=1;
M+=4;n.Zv(w,M,o.id);M+=o.id.length+2;w.VN(M,1);w.data[M]=1;M+=3;b(w,M,3);M+=4;var $=M;M+=4;D(w,M,o.xr);
M+=16;b(w,M,k);M+=4;M+=k*4;b(w,M-4,1);var E=M;M+=4;b(w,M,8);M+=4;D(w,M,o.xr);M+=16;n.yT(w,M,8);M+=2;
w.VN(M,1);w.data[M]=t;M++;var c=x.$(o.xr.v());x.Oj(o.f4[0],c,3);w.VN(M,o.xr.v()*2);M=dw.SY(!1,c,w.data,o.xr.e,o.xr.n,M,t);
w.VN(M,8);M+=8;var l=M-Z;b(w,Z-4,l);b(w,$,l-49);b(w,E,l-305);if(l%4!=0)M+=4-l%4}return M};function bW(){}bW.TC=function(w,M){var O=new Uint8Array(w),b=[],D=0,o=n.z0(O,D);
D+=2;if(o!=4){throw"Unknown version of curves: "+o}var Z=n.z0(O,D);D+=2;for(var U=0;U<Z;U++){var $=bW.NQ(O,D);
D+=2+2*$.length;b.push($)}if(D!=O.length){var k=n.TP(O,D,4);D+=4;var E=n.z0(O,D);D+=2;var t=n.z0(O,D);
D+=2;if(t!=0)throw"extra curves for channels"}var c=bW.Zj(b,0);c.presetKind={t:"long",v:3};c.presetFileName={t:"TEXT",v:M.split("/").pop().split(".")[0]};
return[c]};bW.$e=function(w,M,O){var b=M,D=[],o=w[M];M+=3;var Z=n.A(w,M);M+=4;for(var U=0;U<4;U++){var $=Z>>>U&1;
if($){if(o==0){var k=bW.NQ(w,M);M+=2+2*k.length}else{var k=bW.ae6(w,M);M+=256}D.push(k)}else D.push(o==0?[0,0,255,255]:bW.amz())}var E=bW.Zj(D,o);
return E};bW.Zj=function(w,M){var O=ek.pp("curv");for(var U=0;U<4;U++){if(M==0){var b=w[U],D=[];for(var o=0;
o<b.length;o+=2)D.push(x.kE.pT(b[o],b[o+1],!0));bW.BI(O,U,D)}else bW.BI(O,U,w[U])}return O};bW.BZ=function(w,M,O){var b=[];
for(var U=0;U<4;U++){var D=bW.M4(O,U);if(D.length==256)b.push(D);else{var o=[];for(var Z=0;Z<D.length;
Z++)o.push(D[Z].v.Hrzn.v,D[Z].v.Vrtc.v);b.push(o)}}var $=M,k=b[0].length==256?1:0;w.VN(M,3);w.data[M]=k;
w.data[M+1]=0;w.data[M+2]=1;M+=3;n.kq(w,M,15);M+=4;for(var U=0;U<4;U++){var E=b[U];if(k==0){bW.ajg(w,M,E);
M+=2+2*E.length}else{bW.axJ(w,M,E);M+=256}}return M-$};bW.amz=function(){var w=[];for(var U=0;U<256;
U++)w.push(U);return w};bW.BI=function(w,M,O){var b=dM.sp("CrvA",M);if(O.length<256)b.Crv={t:"VlLs",v:O};
else{b.Mpng={t:"VlLs",v:[]};for(var U=0;U<256;U++)b.Mpng.v[U]={t:"long",v:O[U]}}b={t:"Objc",v:b};var D=w.Adjs.v,o=dM.yd(D,M);
if(o==-1)D.push(b);else D[o]=b};bW.M4=function(w,M){var O=w.Adjs.v,b=dM.yd(O,M);if(b==-1){if(O.length==0||O[0].v.Crv)return[x.kE.pT(0,0,!0),x.kE.pT(255,255,!0)];
if(O[0].v.autoMachineLearning||O[0].v.AuCo)return[x.kE.pT(0,0,!0),x.kE.pT(128,160,!0),x.kE.pT(255,255,!0)];
var D=[];for(var U=0;U<256;U++)D.push(U);return D}var o=O[b].v;if(o.Crv)return o.Crv.v;if(o.Mpng){var D=[];
for(var U=0;U<256;U++)D.push(o.Mpng.v[U].v);return D}return[x.kE.pT(0,0,!0),x.kE.pT(255,255,!0)]};bW.NQ=function(w,M){var O=[],b=n.z0(w,M);
M+=2;for(var D=0;D<b;D++){var o=n.z0(w,M);M+=2;var Z=n.z0(w,M);M+=2;O.push(Z,o)}return O};bW.ajg=function(w,M,O){var b=O.length/2;
n.yT(w,M,b);M+=2;for(var D=0;D<b;D++){n.yT(w,M,O[D*2+1]);M+=2;n.yT(w,M,O[D*2+0]);M+=2}};bW.ae6=function(w,M){var O=[];
for(var U=0;U<256;U++)O.push(w[M+U]);return O};bW.axJ=function(w,M,O){w.VN(M,256);for(var U=0;U<256;
U++)w.data[M+U]=O[U]};function a1(){}a1.$e=function(w,M,O){var b={},D=n.z0(w,M);M+=2;b.CZ=w[M]==1;M++;
M++;b.gn=[n.iV(w,M),n.iV(w,M+2),n.iV(w,M+4)];M+=6;b.jY=[n.iV(w,M),n.iV(w,M+2),n.iV(w,M+4)];M+=6;b.Ka=[];
for(var U=0;U<6;U++){var o={};o.JR=[n.iV(w,M),n.iV(w,M+2),n.iV(w,M+4),n.iV(w,M+6)];M+=8;o.Da=[n.iV(w,M),n.iV(w,M+2),n.iV(w,M+4)];
M+=6;b.Ka.push(o)}var Z=ek.pp("hue2"),$=b;if(Z.Clrz==null)Z.Clrz={t:"bool",v:!1};Z.Clrz.v=$.CZ;for(var U=0;
U<7;U++){var k=U==0?$.CZ?$.gn:$.jY:$.Ka[U-1];a1.BI(Z,U,k)}return Z};a1.abx=function(w){return{classID:"Hst2",H:{t:"long",v:w[0]},Strt:{t:"long",v:w[1]},Lght:{t:"long",v:w[2]}}};
a1.yd=function(w,M){for(var U=0;U<w.length;U++){var O=w[U].v.LclR;if(M==0&&O==null||O!=null&&O.v==M)return U}return-1};
a1.BI=function(w,M,O){var b=M==0?O:O.Da,D=a1.abx(b);if(M!=0){var o=O.JR;D.LclR={t:"long",v:M},D.BgnR={t:"long",v:o[0]};
D.BgnS={t:"long",v:o[1]};D.EndS={t:"long",v:o[2]};D.EndR={t:"long",v:o[3]}}D={t:"Objc",v:D};var Z=w.Adjs.v,$=a1.yd(Z,M);
if($==-1)Z.push(D);else Z[$]=D};a1.M4=function(w,M){var O=w.Adjs.v,b=a1.yd(O,M);if(b==-1){if(M==0)return[0,0,0];
else return[{JR:[315,345,15,45],Da:[0,0,0]},{JR:[15,45,75,105],Da:[0,0,0]},{JR:[75,105,135,165],Da:[0,0,0]},{JR:[135,165,195,225],Da:[0,0,0]},{JR:[195,225,255,285],Da:[0,0,0]},{JR:[255,285,315,345],Da:[0,0,0]}][M-1]}var D=O[b].v,o=[D.H.v,D.Strt.v,D.Lght.v];
if(M==0)return o;return{Da:o,JR:[D.BgnR.v,D.BgnS.v,D.EndS.v,D.EndR.v]}};a1.BZ=function(w,M,O){var b={CZ:O.Clrz?O.Clrz.v:!1,Ka:[]};
b.gn=b.jY=a1.M4(O,0);for(var U=1;U<7;U++)b.Ka.push(a1.M4(O,U));var D=2+2+12+6*14,o=w.data;w.VN(M,D);
n.Qv(o,M,2);M+=2;o[M]=b.CZ?1:0;M++;M++;n.qU(o,M+0,b.gn[0]);n.qU(o,M+2,b.gn[1]);n.qU(o,M+4,b.gn[2]);M+=6;
n.qU(o,M+0,b.jY[0]);n.qU(o,M+2,b.jY[1]);n.qU(o,M+4,b.jY[2]);M+=6;for(var U=0;U<6;U++){var Z=b.Ka[U].JR,$=b.Ka[U].Da;
n.qU(o,M+0,Z[0]);n.qU(o,M+2,Z[1]);n.qU(o,M+4,Z[2]);n.qU(o,M+6,Z[3]);M+=8;n.qU(o,M+0,$[0]);n.qU(o,M+2,$[1]);
n.qU(o,M+4,$[2]);M+=6}return D};function dM(){}dM.TC=function(w){var M=new Uint8Array(w),O=2,b=[];for(var U=0;
U<29;U++){var D=[];b.push(D);for(var o=0;o<5;o++)D.push(n.z0(M,O+U*10+o*2))}O+=29*10;if(O<M.length){var Z=n.TP(M,O,4);
O+=4;var $=n.z0(M,O);O+=2;var k=n.z0(M,O);O+=2;var E=k-29;for(var U=0;U<E;U++){var D=[];b.push(D);for(var o=0;
o<5;o++)D.push(n.z0(M,O+U*10+o*2))}}var t=ek.pp("levl");for(var U=0;U<4;U++)dM.BI(t,U,b[U]);return t};
dM.sp=function(w,U){var M=["Cmps","Rd","Grn","Bl"],O={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:M[U]}}]};
return{classID:w,Chnl:O}};dM.yd=function(w,M){var O={Cmps:0,Rd:1,Grn:2,Bl:3};for(var U=0;U<w.length;
U++){var b=w[U].v,D=O[b.Chnl.v[0].v.enum];if(D==M)return U}return-1};dM.BI=function(w,M,O){var b=dM.sp("LvlA",M);
b.Inpt={t:"VlLs",v:[{t:"long",v:O[0]},{t:"long",v:O[1]}]};b.Otpt={t:"VlLs",v:[{t:"long",v:O[2]},{t:"long",v:O[3]}]};
b.Gmm={t:"doub",v:O[4]/100};b={t:"Objc",v:b};var D=w.Adjs.v,o=dM.yd(D,M);if(o==-1)D.push(b);else D[o]=b};
dM.M4=function(w,M){var O=[0,255,0,255,100],b=w.Adjs.v,D=dM.yd(b,M);if(D==-1)return O;var o=b[D].v;if(o.Inpt){O[0]=o.Inpt.v[0].v;
O[1]=o.Inpt.v[1].v}if(o.Otpt){O[2]=o.Otpt.v[0].v;O[3]=o.Otpt.v[1].v}if(o.Gmm){O[4]=Math.round(o.Gmm.v*100)}return O};
dM.qf=function(w,M){var O=[],b=0;for(var U=0;U<4;U++)O.push(dM.M4(M,U));while(O.length<29)O.push([0,255,0,255,100]);
w.VN(0,2+10*29);n.Qv(w.data,b,2);b+=2;for(var U=0;U<29;U++){var D=O[U];for(var o=0;o<5;o++)n.Qv(w.data,b+U*10+o*2,D[o])}b+=29*10;
if(O.length==29)return b;w.VN(b,8+10*(O.length-29));n.X8(w.data,b,"Lvls");b+=4;n.Qv(w.data,b,3);b+=2;
n.Qv(w.data,b,O.length);b+=2;var Z=O.length-29;for(var U=0;U<Z;U++){var D=O[29+U];for(var o=0;o<5;o++)n.Qv(w.data,b+U*10+o*2,D[o])}b+=10*Z;
return b};function en(){}en.TC=function(w){var M=new Uint8Array(w),O=2,b={Kw:[],d5:[]},D=n.TP(M,O,4);
O+=4;var o=n.z0(M,O);O+=2;var Z=n.A(M,O);O+=4;b.Kw=gF.CU(M,O,Z);O+=Z;var $=n.A(M,O);O+=4;for(var U=0;
U<$;U++){var k=n.A(M,O);O+=4;var E=O,t={hl:{},Pg:{}};b.d5.push(t);O+=4;O+=dO.m2(M,t.hl,O);O+=4;O+=dO.m2(M,t.Pg,O);
O=E+k;var c=t.Pg.blendOptions,l=t.Pg.Lefx;if(c&&Object.keys(c.v).length>1){}if(l){if(l.v.masterFXSwitch==null)l.v.masterFXSwitch={t:"bool",v:!0};
jb.pG(l.v)}}return b};en.qX=function(w,M){w.hl.Nm.v=M};en.qf=function(w){var M=new id,O=0;n.yT(M,O,2);
O+=2;n.CD(M,O,"8BSL");O+=4;n.yT(M,O,3);O+=2;var b=O;O+=4;O=gF.SE(M,O,w.Kw);n.kq(M,b,O-b-4);var D=w.d5.length;
n.kq(M,O,D);O+=4;for(var U=0;U<D;U++){O+=4;var o=O,Z=w.d5[U];n.kq(M,O,16);O+=4;O+=dO.kS(M,Z.hl,O);var $=Z.Pg.Lefx;
if($){Z.Pg.Lefx=JSON.parse(JSON.stringify($));jb.cT(Z.Pg.Lefx.v)}n.kq(M,O,16);O+=4;O+=dO.kS(M,Z.Pg,O);
if($)Z.Pg.Lefx=$;n.kq(M,o-4,O-o)}return M.data.slice(0,O).buffer};function ge(){}ge.$e=function(w,M,O){var b=n.z0(w,M);
M+=2;var D={};D.hp=n.z0(w,M)==1;M+=2;D.Az=[];for(var U=0;U<10;U++){var o=[];D.Az.push(o);for(var Z=0;
Z<4;Z++)o.push(n.iV(w,M+Z*2));M+=8}var $=ek.pp("selc");$.Mthd.v.CrcM=D.hp?"Absl":"Rltv";for(var U=1;
U<10;U++)ge.BI($,U-1,D.Az[U]);return $};ge.lw="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");
ge.sp=function(w,U){var M=["Cmps","Rd","Grn","Bl"],O={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:M[U]}}]};
return{classID:w,Chnl:O}};ge.yd=function(w,M){var O=ge.lw;for(var U=0;U<w.length;U++){var b=w[U].v,D=O.indexOf(b.Clrs.v.Clrs);
if(D==M)return U}return-1};ge.BI=function(w,M,O){var b=["Cyn","Mgnt","Ylw","Blck"],D={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:ge.lw[M]}}};
for(var o=0;o<4;o++)D[b[o]]={t:"UntF",v:{type:"#Prc",val:O[o]}};D={t:"Objc",v:D};var Z=w.ClrC.v,$=ge.yd(Z,M);
if($==-1)Z.push(D);else Z[$]=D};ge.M4=function(w,M){var O=[0,0,0,0],b=w.ClrC.v,D=ge.yd(b,M);if(D==-1)return O;
var o=["Cyn","Mgnt","Ylw","Blck"];for(var U=0;U<4;U++)if(b[D].v[o[U]])O[U]=b[D].v[o[U]].v.val;return O};
ge.BZ=function(w,M,O){var b={hp:O.Mthd.v.CrcM=="Absl",Az:[[0,0,0,0]]};for(var U=0;U<9;U++)b.Az.push(ge.M4(O,U));
w.VN(M,84);n.Qv(w.data,M,1);M+=2;n.Qv(w.data,M,b.hp?1:0);M+=2;for(var U=0;U<10;U++){var D=b.Az[U];for(var o=0;
o<4;o++)n.qU(w.data,M+o*2,D[o]);M+=8}return 84};function dL(){}dL.pp=function(){return{Gh:new cn(0,0,50,50),hl:"",Xp:"play",j:x.O.U_.fQ([.1,.1,.9,.5,.1,.9],0)}};
dL.TC=function(w){w=new Uint8Array(w);var M=0,O=[],b=Date.now(),D=n.TP(w,0,4);M+=4;var o=n.A(w,M);M+=4;
var Z=n.A(w,M);M+=4;for(var U=0;U<Z;U++){var $=n.yQ(w,M);M+=$.length*2+4+2;if(($.length&1)==0)M+=2;M=dL.MM(w,M,$,O)}return O};
dL.MM=function(w,M,O,b){var D=n.A(w,M);M+=4;var o=n.A(w,M);M+=4;var Z=M,$=n.gm(w,Z).g$;Z+=$.length+1;
var k=n.WM(w,Z);Z+=16;var E=dL.V1(w,Z,o-(Z-M)),t=x.O.ml(E),c=x.p.qe(t),l=1/c.e,q=1/c.n;x.O.I0(E,new f$(l,0,0,q,-c.x*l,-c.y*q));
b.push({Xp:O,hl:$,j:E,Gh:k});M+=o;return M};dL.qX=function(w,M){w.Xp=M};dL.qf=function(w){var M=new id,O=0;
n.CD(M,O,"cush");O+=4;n.kq(M,O,2);O+=4;n.kq(M,O,w.length);O+=4;for(var U=0;U<w.length;U++){var b=w[U],D=b.Xp+"\0";
n.Mj(M,O,D);O+=4+D.length*2;if((D.length&1)==1)O+=2;n.kq(M,O,1);O+=4;O+=4;var o=O;n.Zv(M,O,b.hl);O+=b.hl.length+1;
n.t2(M,O,b.Gh);O+=16;M.VN(O,b.j.length*26);dL.Dv(M.data,O,b.j,1,1);O+=b.j.length*26;var Z=O-o;if((Z&3)!=0)Z+=4-(Z&3);
n.kq(M,o-4,Z);O=o+Z}return M.data.slice(0,O).buffer};dL.ahP=function(w){var M=[];for(var U=0;U<w.length;
U++){var O=w[U],b=O.type,D={type:b};M.push(D);if(b==6){}else if(b==8)D.all=O.all;else if(b==0||b==3){D.length=O.length;
D.frule=O.K$;D.third=O.pa;D.prmA=O.r1;D.prmB=O.HP}else{D.c=[O.vA.x,O.vA.y,O.I.x,O.I.y,O.YJ.x,O.YJ.y]}}return M};
dL.q9=function(w){var M=[];for(var U=0;U<w.length;U++){var O=w[U],b=O.type,D={type:b};M.push(D);if(b==6){}else if(b==8)D.all=O.all;
else if(b==0||b==3){D.length=O.length;D.K$=O.frule;D.pa=O.third;D.r1=O.prmA;D.HP=O.prmB}else{var o=O.c;
D.vA=new at(o[0],o[1]);D.I=new at(o[2],o[3]);D.YJ=new at(o[4],o[5])}}return M};dL.V1=function(w,M,O,b,D){if(b==null)b=1;
if(D==null)D=1;function o(V,L,e){var H=n.abt(V,L)*e,j=Math.round(H);return Math.abs(H-j)<1e-6?j:H}var Z=n.iV,$=[],k=Math.floor(O/26);
for(var U=0;U<k;U++){var E=M+U*26,t={},c=0;$.push(t);t.type=Z(w,E);E+=2;if(t.type==6){c=24}if(t.type==8){t.all=Z(w,E);
E+=2;c=22}if(t.type==0||t.type==3){t.length=Z(w,E);E+=2;t.K$=Z(w,E);E+=2;t.pa=Z(w,E);E+=2;t.r1=n.A(w,E);
E+=4;t.HP=n.A(w,E);E+=4;c=10}if(t.type==1||t.type==2||t.type==4||t.type==5){var l,q;q=o(w,E,D);E+=4;
l=o(w,E,b);E+=4;t.vA=new at(l,q);q=o(w,E,D);E+=4;l=o(w,E,b);E+=4;t.I=new at(l,q);q=o(w,E,D);E+=4;l=o(w,E,b);
E+=4;t.YJ=new at(l,q);c=0}for(var d=0;d<c;d++)if(w[E+d]!=0){console.log("Unexpected non-zero byte!",t,d,w[E+d])}}return $};
dL.Dv=function(w,M,O,b,D){var o=n.qU,Z=n.nf,$=O.length;for(var U=0;U<$;U++){var k=M+U*26,E=O[U];o(w,k,E.type);
k+=2;if(E.type==6){}if(E.type==8)o(w,k,E.all);if(E.type==0||E.type==3){o(w,k,E.length);k+=2;o(w,k,E.K$);
k+=2;o(w,k,E.pa);k+=2}if(E.type==1||E.type==2||E.type==4||E.type==5){Z(w,k,E.vA.y/D);k+=4;Z(w,k,E.vA.x/b);
k+=4;Z(w,k,E.I.y/D);k+=4;Z(w,k,E.I.x/b);k+=4;Z(w,k,E.YJ.y/D);k+=4;Z(w,k,E.YJ.x/b);k+=4}}};function eO(){}eO.TC=function(w){var M=new Uint8Array(w),O=[],b=0;
b=eO.Hk(M,b,O);if(b+3<M.length){O=[];b=eO.Hk(M,b,O)}return O};eO.Hk=function(w,M,O){var b=n.z0,D=n.iV,o=b(w,M);
M+=2;var Z=b(w,M);M+=2;for(var U=0;U<Z;U++){var $=eO.Lb(w,M);M+=10;if(o==2){$.tf=n.yQ(w,M);M+=4+$.tf.length*2+2}O.push($)}return M};
eO.Lb=function(w,M){var O=n.z0,b=n.iV,D=O(w,M),q=null;M+=2;var o=O(w,M);M+=2;var Z=O(w,M);M+=2;var $=O(w,M);
M+=2;var k=O(w,M);M+=2;var E=1/65535,t=255/65535,c=100/65535,l=255/1e4;if(D==0)q={o:o*t,w:Z*t,L:$*t};
else if(D==1){q=x.Ja(o*E,Z*E,$*E);q.o*=255;q.w*=255;q.L*=255}else if(D==2)q=x.M.FL({classID:"CMYC",Cyn:{t:"doub",v:100-o*c},Mgnt:{t:"doub",v:100-Z*c},Ylw:{t:"doub",v:100-$*c},Blck:{t:"doub",v:100-k*c}});
else if(D==7){var d=x.Bx(o/100,b(w,M-6)/100,b(w,M-4)/100);q=d}else if(D==8){q={o:255-o*l,w:255-Z*l,L:255-$*l}}else throw"e "+D+", ";
return q};eO.qf=function(w){var M=new id,O=0,b=n.yT;b(M,O,2);O+=2;b(M,O,w.length);O+=2;for(var U=0;U<w.length;
U++){var D=w[U];M.VN(O,10);eO.oL(M.data,O,D);O+=10;var o=(D.tf?D.tf:"")+"\0";n.Mj(M,O,o);O+=4+o.length*2}return M.data.slice(0,O).buffer};
eO.qX=function(w,M){w.tf=M};eO.oL=function(w,M,O){var b=65535/255,D=n.Qv;D(w,M,0);D(w,M+2,Math.round(O.o*b));
D(w,M+4,Math.round(O.w*b));D(w,M+6,Math.round(O.L*b));D(w,M+8,0)};function b1(){}b1.TC=function(w){var M=new Uint8Array(w),O=4,b={};
b.vZ=n.yQ(M,O);O+=4+b.vZ.length*2+2;b.exp=M[O++]==1;b.iu=[];var D=n.A(M,O);O+=4;for(var U=0;U<D;U++){var o={};
b.iu.push(o);o.zS=n.z0(M,O);O+=2;o.shift=M[O++]==1;o.a1r=M[O++]==1;o.color=n.z0(M,O);O+=2;o.vZ=n.yQ(M,O);
O+=4+o.vZ.length*2+2;o.exp=M[O++]==1;o.iu=[];var Z=n.A(M,O);O+=4;for(var $=0;$<Z;$++){var k={};o.iu.push(k);
k.exp=M[O++]==1;k.R=M[O++]==1;k.a7X=M[O++]==1;k.aqS=M[O++];var E=n.TP(M,O,4);O+=4;if(E=="TEXT"){k.wV=b1.Pt(M,O);
O+=4+k.wV.length}else if(E=="long"){k.wV=n.TP(M,O,4);O+=4}else throw"e";k.mN=b1.Pt(M,O);O+=4+k.mN.length;
var t=n.$g(M,O);O+=4;if(t==-1){k.g0={};var c=dO.m2(M,k.g0,O);O+=c}}}console.log(b);var l=new Uint8Array(b1.qf(b));
for(var U=0;U<l.length;U++)if(l[U]!=M[U]&&n.TP(M,U+1,4)!="None"){console.log(M.length,l.length);var q=4*(U>>>2)-16;
console.log(n.sI(M,q,64));console.log(n.sI(l,q,64));console.log(M.slice(q,q+64));console.log(l.slice(q,q+64));
throw"i"}return[b]};b1.Pt=function(w,M){var O=n.A(w,M);return n.TP(w,M+4,O)};b1.bm=function(w,M,O){n.kq(w,M,O.length);
n.CD(w,M+4,O)};b1.qf=function(w){var M=new id,O=0;n.kq(M,O,16);O+=4;n.Mj(M,O,w.vZ+"\0");O+=4+w.vZ.length*2+2;
M.VN(O,1);M.data[O++]=w.exp?1:0;var b=w.iu.length;n.kq(M,O,b);O+=4;for(var U=0;U<b;U++){var D=w.iu[U];
n.yT(M,O,D.zS);O+=2;M.VN(O,2);M.data[O++]=D.shift?1:0;M.data[O++]=D.a1r?1:0;n.yT(M,O,D.color);O+=2;n.Mj(M,O,D.vZ+"\0");
O+=4+D.vZ.length*2+2;M.VN(O,1);M.data[O++]=D.exp?1:0;var o=D.iu.length;n.kq(M,O,o);O+=4;for(var Z=0;
Z<o;Z++){var $=D.iu[Z];M.VN(O,4);M.data[O++]=$.exp?1:0;M.data[O++]=$.R?1:0;M.data[O++]=$.a7X?1:0;M.data[O++]=$.aqS;
var k="LqFy Avrg GEfc PbPl Fbrs Bokh LnCr".split(" ").indexOf($.wV)!=-1;n.CD(M,O,k?"long":"TEXT");O+=4;
if(!k){b1.bm(M,O,$.wV);O+=4+$.wV.length}else{n.CD(M,O,$.wV);O+=4}b1.bm(M,O,$.mN);O+=4+$.mN.length;n.a6(M,O,$.g0?-1:0);
O+=4;if($.g0){var E=dO.kS(M,$.g0,O);O+=E}}}return M.data.slice(0,O).buffer};function iU(){}iU.TC=function(w){var M=new Uint8Array(w),O=0,b=n.A(M,O),k;
O+=4;var D=n.TP(M,O,8);O+=8;var o=n.Yx(M,O);O+=4;var Z=n.Yx(M,O);O+=4;var $=n.Yx(M,O);O+=4;if(b==2){k=new Float32Array(w,32,w.byteLength-32>>>2)}else if(b==3||b==4){k=new Float32Array(Z*$*2);
var E=0,t=0,c=!0;O=b==3?32:16+8+40;while(O<M.length){var l=n.Yx(M,O);O+=4;if(c)t+=l;else{for(var U=0;
U<l;U++){k[E+t+U<<1]=n.aA(M,O);k[(E+t+U<<1)+1]=n.aA(M,O+4);O+=8}t+=l}c=!c;if(l!=0&&t==Z){E+=Z;t=0;c=!0;
if(E==Z*$)break}}}else throw"unknown Mesh version: "+b;return{jy:Z,e3:$,map:k}};iU.c5=function(w){var M=w.jy,O=w.e3,b=w.map,D=new Uint8Array(32+O*M*8+O*8),o=0,Z=0;
n.oS(D,o,3);o+=4;n.X8(D,o,"yfqLhseM");o+=8;n.E3(D,o,2);o+=4;n.E3(D,o,M);o+=4;n.E3(D,o,O);o+=4;n.E3(D,o,0);
o+=4;n.E3(D,o,1);o+=4;for(var $=0;$<O;$++){n.E3(D,o,0);o+=4;n.E3(D,o,M);o+=4;for(var k=0;k<M;k++){n.b8(D,o,b[Z]);
n.b8(D,o+4,b[Z+1]);Z+=2;o+=8}}return D.buffer};function gS(){}gS.TC=function(w){var M=new Uint8Array(w),O=0,b=n.TP(M,O,4);
O+=4;var D=n.z0(M,O);O+=2;var o=n.A(M,O);O+=4;var Z=[];for(var U=0;U<o;U++){var $=n.A(M,O);O+=4;var k={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};
Z.push(k);var E=n.yQ(M,O);k.Nm.v=E;O+=4+E.length*2+2;var t=n.z0(M,O);O+=2;var c=n.z0(M,O);O+=2;for(var l=0;
l<c;l++){var q=x.kE.pT(0,0,!0);q.v.Vrtc.v=n.z0(M,O);O+=2;q.v.Hrzn.v=n.z0(M,O);O+=2;k.Crv.v.push(q)}if($==1){}else if($==2){for(var l=0;
l<c;l++){k.Crv.v[l].v.Cnty.v=M[O]==1;O+=1}}else throw"error";var d=n.A(M,O);O+=4;var V=n.A(M,O);O+=4}return Z};
gS.qX=function(w,M){w.Nm.v=M};gS.qf=function(w){var M=new id,O=0;n.CD(M,O,"8BFS");O+=4;n.yT(M,O,1);O+=2;
n.kq(M,O,w.length);O+=4;for(var U=0;U<w.length;U++){n.kq(M,O,2);O+=4;var b=w[U];n.Mj(M,O,b.Nm.v+"\0");
O+=4+b.Nm.v.length*2+2;n.yT(M,O,2);O+=2;var D=b.Crv.v.length;n.yT(M,O,D);O+=2;for(var o=0;o<D;o++){var Z=b.Crv.v[o];
n.yT(M,O,Z.v.Vrtc.v);O+=2;n.yT(M,O,Z.v.Hrzn.v);O+=2}M.VN(O,D);for(var o=0;o<D;o++){M.data[O]=b.Crv.v[o].v.Cnty.v;
O++}n.kq(M,O,0);O+=4;n.kq(M,O,0);O+=4}return M.data.slice(0,O).buffer};function gF(){}gF.TC=function(w){var M=new Uint8Array(w),O=4,b=n.z0(M,O);
O+=2;var D=n.A(M,O);O+=4;var o=[];for(var U=0;U<D;U++){var Z={};o.push(Z);O=gF.WF(M,O,Z)}return o};gF.qX=function(w,M){w.name=M};
gF.qf=function(w){var M=new id,O=0;n.CD(M,O,"8BPT");O+=4;n.yT(M,O,1);O+=2;n.kq(M,O,w.length);O+=4;for(var U=0;
U<w.length;U++){O=gF.yz(M,O,w[U])}return M.data.slice(0,O).buffer};gF.CU=function(w,M,O){var b=M+O,D=[];
while(M<b){var o={},Z=n.A(w,M);M+=4;var $=M;M=gF.WF(w,M,o);if(!o.f4[1].S9())D.push(o);if(Z%4!=0)Z+=4-Z%4;
M=$+Z}return D};gF.SE=function(w,M,O){for(var U=0;U<O.length;U++){var b=O[U];M+=4;var D=M;M=gF.yz(w,M,b);
var o=M-D;n.kq(w,D-4,o);if(o%4!=0)D+=4-o%4;M=D+o}return M};gF.WF=function(w,M,O){var b=n.A(w,M);M+=4;
if(b!=1)alert("Unknown version of pattern");var D=n.A(w,M);M+=4;if(D!=1&&D!=2&&D!=3)console.log("Unsupported mode of pattern: "+D);
var o=n.z0(w,M);M+=2;var Z=n.z0(w,M);M+=2;var $=new cn(0,0,Z,o);O.name=n.yQ(w,M);M+=4+2*O.name.length+2;
var k=w[M];M++;O.id=n.TP(w,M,k);M+=O.id.length;var E=-1;if(D==2){E=M;M+=3*256+4}var t=new x.ka(Z*o);
M=gF.aoK(w,M,t);if(D==2){for(var U=0;U<t.o.length;U++){var c=3*t.o[U];t.o[U]=w[E+c+0];t.w[U]=w[E+c+1];
t.L[U]=w[E+c+2]}}var l=x.$($.v()*4);x.RB(t,l);O.f4=[l,$];return M};gF.yz=function(w,M,O){var b=O.f4[0],D=O.f4[1];
n.kq(w,M,1);M+=4;n.kq(w,M,3);M+=4;n.yT(w,M,D.n);M+=2;n.yT(w,M,D.e);M+=2;n.Mj(w,M,O.name+"\0");M+=4+2*O.name.length+2;
n.wH(w,M,O.id.length);M++;n.CD(w,M,O.id);M+=O.id.length;var o=new x.ka(D.v());x.tb(b,o);M=gF.a8q(w,M,o,D);
return M};gF.aoK=function(w,M,O){var b=M,D={xr:null,$Y:[],a9F:null,nN:null},o=n.A(w,M);M+=4;var Z=n.A(w,M);
M+=4;D.xr=n.WM(w,M);M+=16;var $=n.A(w,M);M+=4;for(var U=0;U<$+2;U++){var k=n.A(w,M);M+=4;if(k==0)continue;
var E=n.A(w,M);M+=4;if(E==0)continue;var t=n.A(w,M);M+=4;var c=n.WM(w,M);M+=16;var l=n.z0(w,M);M+=2;
var q=w[M];M++;var d=dw.yb(!1,t,w,c.e,c.n,M,q);if(U<$)D.$Y.push(d);if(U==$)D.a9F=d;if(U==$+1)D.nN=d;
M+=E-23}if(!D.xr.S9()){if(D.$Y[0])O.o=D.$Y[0];if(D.$Y[1])O.w=D.$Y[1];else O.w=D.$Y[0].slice(0);if(D.$Y[2])O.L=D.$Y[2];
else O.L=D.$Y[0].slice(0);if(D.nN)O.ip=D.nN;else O.ip.fill(255)}return M};gF.a8q=function(w,M,O,b){var D=M,o={xr:b,$Y:[O.o,O.w,O.L],a9F:null,nN:O.ip};
n.kq(w,M,3);M+=4;n.kq(w,M,0);M+=4;n.t2(w,M,b);M+=16;n.kq(w,M,24);M+=4;for(var U=0;U<24+2;U++){var Z=M,$=U<3||U==25?1:0;
n.kq(w,M,$);M+=4;if($==0)continue;n.kq(w,M,0);M+=4;n.kq(w,M,8);M+=4;n.t2(w,M,b);M+=16;n.yT(w,M,8);M+=2;
n.wH(w,M,1,1);M++;var k=U<3?o.$Y[U]:o.nN;w.VN(M,b.v()+2);M=dw.SY(!1,k,w.data,b.e,b.n,M,1);n.kq(w,Z+4,M-Z-8)}n.kq(w,D+4,M-D-8);
return M};function g7(){}g7.TC=function(w){var M=new Uint8Array(w),O=0;if(M[0]==71)return g7.ax1(M);
var b=n.TP(M,O,4);O+=4;var D=n.z0(M,O);O+=2;var o=[];if(D<=3){var Z=n.z0(M,O);O+=2;for(var U=0;U<Z;U++){var $=M[O++],k=n.TP(M,O,$);
O+=$;var E=g7.CJ(M,O,k),t=E[0];O=E[1];o.push(t)}}else{var E={},c=dO.m2(M,E,O+4),l=E.GrdL.v;for(var U=0;
U<l.length;U++)o[U]=l[U].v.Grad.v}return o};g7.qX=function(w,M){w.Nm.v=M};g7.qf=function(w){var M=new id,O=0;
n.CD(M,O,"8BGR");O+=4;n.yT(M,O,5);O+=2;n.kq(M,O,16);O+=4;var b={classID:"null",GrdL:{t:"VlLs",v:[]}},D=b.GrdL.v;
for(var U=0;U<w.length;U++)D[U]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:w[U]}}};
O+=dO.kS(M,b,O);return M.data.slice(0,O).buffer};g7.CJ=function(w,M,O){var b={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{t:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:O},Trns:{t:"VlLs",v:[]}},D=n.z0(w,M);
M+=2;if(D==0)throw"e";for(var U=0;U<D;U++){var o=n.A(w,M),Z=n.A(w,M+4),$=eO.Lb(w,M+8),k={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:$.o},Grn:{t:"doub",v:$.w},Bl:{t:"doub",v:$.L}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:o},Mdpn:{t:"long",v:Z}}};
b.Clrs.v.push(k);M+=20}var E=n.z0(w,M);M+=2;for(var U=0;U<E;U++){var o=n.A(w,M),Z=n.A(w,M+4),t=n.z0(w,M+8),k={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*t/255)}},Lctn:{t:"long",v:o},Mdpn:{t:"long",v:Z}}};
b.Trns.v.push(k);M+=10}var c=n.z0(w,M);M+=2;if(c!=2)throw c;b.Intr.v=n.z0(w,M);M+=2;var l=n.z0(w,M);
M+=2;if(l!=32)throw"e";return[b,M]};g7.a4u=function(w,M,O){var b=O.Clrs.v.length;n.yT(w,M,b);M+=2;for(var U=0;
U<b;U++){var D=O.Clrs.v[U];n.kq(w,M,D.v.Lctn.v);n.kq(w,M+4,D.v.Mdpn.v);n.yT(w,M+8,0);var o=x.M.jk(x.M.FL(D.v.Clr.v)),Z=[o.Rd.v,o.Grn.v,o.Bl.v,0];
for(var $=0;$<4;$++)n.yT(w,M+10+$*2,Math.round(65535*(Z[$]/255)));M+=20}var k=O.Trns.v.length;n.yT(w,M,k);
M+=2;for(var U=0;U<k;U++){var D=O.Trns.v[U];n.kq(w,M,D.v.Lctn.v);n.kq(w,M+4,D.v.Mdpn.v);n.yT(w,M+8,Math.round(255*D.v.Opct.v.val/100));
M+=10}n.yT(w,M,2);M+=2;n.yT(w,M,O.Intr.v);M+=2;n.yT(w,M,32);M+=2;return M};g7.ax1=function(w){var M=n.AL(w,0,w.length).split("\n"),O=parseFloat(M[2]),b=[],D=JSON.parse(aN.hx[aN.order.indexOf("GrFl")]).Grad.v;
D.Intr.v=0;D.Nm.v=M[1];for(var U=0;U<O;U++){var o=M[3+U].split(" ").map(parseFloat),Z=o[11],$=o[12];
b.push([o[0],o.slice(3,6),o[6]]);if($!=0){var k=x.GC(o[3],o[4],o[5]),E=x.GC(o[7],o[8],o[9]),t=k.e3,c=E.e3;
if($==1&&t>c)c++;if($==2&&t<c)t++;var l=Math.round(Math.abs(c-t)*7);if(l>1)for(var q=0;q<l;q++){var d=1-(q+1)/(l+1),V=1-d,L=x.Ja(d*t+V*c,d*k.h7+V*E.h7,d*k.X$+V*E.X$);
b.push([d*o[0]+V*o[2],[L.o,L.w,L.L],d*o[6]+V*o[10]])}}b.push([o[2],o.slice(7,10),o[10]])}b.sort(function(e,H){return e[0]-H[0]});
x.M.Ty(b,D);return[D]};function jT(){}jT.TC=function(w){var M=new Uint8Array(w),O=[],b=[],D=[],o=[],Z=[],$=0,k=n.TP(M,$,4);
$+=4;var E=n.A(M,$);$+=4;var t=n.A(M,$);$+=4;while($<M.length){var c=n.TP(M,$,4);$+=4;var l=n.TP(M,$,4);
$+=4;var q=n.A(M,$);$+=4;if(l=="tppa"){b=gF.CU(M,$,q);$+=q}else if(l=="tpbd"){D=dc.Oh(M,$,q,1,1);$+=q}else if(l=="tptp"){var d=n.A(M,$);
$+=4;for(var U=0;U<d;U++){var V=n.yQ(M,$);$+=6+V.length*2;$+=4;var L={};$+=dO.m2(M,L,$);O.push([V,L])}while(($&3)!=0)$++}else if(l=="tpsh"){var e=$,H=M.slice($,$+q);
while($<e+q){var j=n.A(M,$);$+=4;$=dL.MM(M,$,"Shape",o)}$=e+q}else if(l=="tpst"){var e=$;$+=4;while($<e+q){var g=n.A(M,$);
$+=4;var K=$,a=n.A(M,$);$+=4;var L={hl:{},Pg:{}};Z.push(L);$+=4;$+=dO.m2(M,L.hl,$);$+=4;$+=dO.m2(M,L.Pg,$);
$=K+g;var T=L.Pg.Lefx;if(T){if(T.v.masterFXSwitch==null)T.v.masterFXSwitch={t:"bool",v:!0};jb.pG(T.v)}}$=e+q}else{console.log(M.slice($-8,$+64));
console.log(n.TP(M,$-8,64));throw l}}return{eg:D,ow:b,list:O,a1z:o,d5:Z}};jT.qX=function(w,M){w[0]=M};
jT.qf=function(w){var M=new id,O=0;n.CD(M,O,"8BTP");O+=4;n.kq(M,O,3);O+=4;n.kq(M,O,1);O+=4;var b=[w.ow,w.eg,w.list];
for(var U=0;U<3;U++){if(b[U].length==0)continue;n.CD(M,O,"8BIM");O+=4;var D=["tppa","tpbd","tptp"][U];
n.CD(M,O,D);O+=4;var o=O;O+=4;if(D=="tppa"){O=gF.SE(M,O,w.ow)}else if(D=="tpbd"){O=dc.cS(M,O,w.eg)}else if(D=="tptp"){n.kq(M,O,w.list.length);
O+=4;for(var Z=0;Z<w.list.length;Z++){var $=w.list[Z];n.Mj(M,O,$[0]+"\0");O+=6+$[0].length*2;n.kq(M,O,16);
O+=4;O+=dO.kS(M,$[1],O)}}n.kq(M,o,O-o-4);while((O&3)!=0)O++;M.VN(O,0)}return M.data.slice(0,O).buffer};
function iA(){}iA.TC=function(w,M){var O=new Uint8Array(w),b;if(n.A(O,0)==O.length)b="icc";else if(O[0]=="<".charCodeAt(0))b="look";
else if(n.Ya(O,"LUT_3D_SIZE")!=-1)b="cube";else b="3DL";if(b!="icc"){var D=iA.aug(O,b),o=iA.anb(D[0],D[1]);
O=o}var Z=[];for(var U=0;U<O.length;U++)Z.push(O[U]);return[{classID:"null",Dthr:{t:"bool",v:!0},Nm:{t:"TEXT",v:M?M:"file.icc"},lookupType:{t:"enum",v:{colorLookupType:"abstractProfile"}},profile:{t:"tdta",v:Z}}]};
iA.qf=function(w){var M=w[0],O=new Uint8Array(M.profile.v);return O.buffer};iA.qX=function(w,M){w.Nm.v=M};
iA.anb=function(w,M){var O=new id,b=128;O.VN(0,128);var D=[0,0,14,204,65,68,66,69,4,0,0,0,108,105,110,107,82,71,66,32,82,71,66,32,7,227,0,7,0,27,0,8,0,6,0,49,97,99,115,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,246,214,0,1,0,0,0,0,211,45,65,68,66,69,219,126,245,21,206,223,186,23,165,212,201,219,250,10,33,62];
for(var U=0;U<D.length;U++)O.data[U]=D[U];var o=["desc","A2B0"],Z=o.length,$=128+4+Z*12;n.kq(O,b,Z);
b+=4;for(var k=0;k<Z;k++){var E=o[k];n.CD(O,b,E);b+=4;n.kq(O,b,$);b+=4;var t=$;if(E=="desc"){n.CD(O,t,"mluc");
t+=4;t+=4;n.kq(O,t,1);t+=4;n.kq(O,t,12);t+=4;n.CD(O,t,"enUS");t+=4;var c="ICC by Photopea\0",l=c.length*2+2;
n.kq(O,t,l);t+=4;n.kq(O,t,28);t+=4;O.VN(t,l);for(var U=0;U<c.length;U++)O.data[t+U*2+1]=c.charCodeAt(U);
t+=l}if(E=="A2B0"){n.CD(O,t,"mAB ");t+=4;t+=4;O.VN(t,4);O.data[t]=3;O.data[t+1]=3;t+=4;O.VN(t,4*5);t+=4*3;
n.kq(O,t,t+8-$);t+=4;t+=4;O.VN(t,20);O.data[t]=w;O.data[t+1]=w;O.data[t+2]=w;t+=16;O.data[t]=2;t+=4;
var q=w*w*w*3;O.VN(t,q*2);for(var U=0;U<q;U++)n.Qv(O.data,t+U*2,Math.max(0,Math.min(65535,Math.round(M[U]*65535))));
t+=q*2}var d=t-$;while((d&3)!=0)d++;n.kq(O,b,d);b+=4;$+=d}n.kq(O,0,$);return O.data.slice(0,$)};iA.aug=function(w,M){M="LUTFormat"+M.toUpperCase();
var O=[],b=0,D=n.AL(w,0,w.length),o="";for(var U=0;U<w.length&&o=="";U++){if(w[U]==10)o="\n";else if(w[U]==13){o="\r";
if(w[U+1]==10)o+="\n"}}if(M=="LUTFormatCUBE"){var Z=D.split(o);for(var U=0;U<Z.length;U++){if(Z[U]==""||Z[U][0]=="#")continue;
var $=Z[U].split(" "),k=$[0];if(k=="LUT_3D_SIZE"){b=parseInt($[1]);continue}if(["TITLE","DOMAIN_MIN","DOMAIN_MAX"].indexOf(k)!=-1)continue;
O.push(parseFloat($[0]),parseFloat($[1]),parseFloat($[2]))}O=iA.Yd(b,O)}else if(M=="LUTFormat3DL"){var Z=D.split(o),E=1/4095;
for(var U=0;U<Z.length;U++){var t=Z[U];if(t==""||t=="3DMESH"||t.startsWith("Mesh")||t[0]=="#")continue;
var $=t.split(" "),k=$[0];if(b==0){b=$.length;continue}O.push(parseFloat($[0])*E,parseFloat($[1])*E,parseFloat($[2])*E)}}else if(M=="LUTFormatLOOK"){var c=new DOMParser,l=c.parseFromString(D,"text/xml"),q=l.getElementsByTagName("LUT")[0],d=q.children[0].textContent;
b=parseInt(JSON.parse(d));var V=q.children[1].textContent;V=V.replace(/"/g,"").replace(/\s/g,"");var L=3*b*b*b,e=L*4,H=new Uint8Array(e);for(var U=0;U<e;U++){var j=V.charCodeAt(U*2),g=V.charCodeAt(U*2+1),K=j<58?j-48:j-55,a=g<58?g-48:g-55;H[U]=(K<<4)+a}for(var U=0;U<L;U++)O.push(n.aA(H,U<<2));O=iA.Yd(b,O)}else throw M;return[b,O]};iA.a3O=function(w,M,O){var b=["#Created by www.Photopea.com","TITLE \""+O+"\"","","#LUT size","LUT_3D_SIZE "+M,"","#data domain","DOMAIN_MIN 0.0 0.0 0.0","DOMAIN_MAX 1.0 1.0 1.0","","#LUT data points"],D=6;
for(var U=0;U<w.length;U+=3){b.push(w[U].toFixed(D)+" "+w[U+1].toFixed(D)+" "+w[U+2].toFixed(D))}b.push("");
return n.qs(b.join("\n")).buffer};iA.Yd=function(w,M){var O=[],b=w*w*w;for(var U=0;U<b;U++)O.push(0,0,0);
for(var D=0;D<w;D++)for(var o=0;o<w;o++)for(var Z=0;Z<w;Z++){var U=3*(Z+o*w+D*w*w),$=3*(D+o*w+Z*w*w);
O[$]=M[U];O[$+1]=M[U+1];O[$+2]=M[U+2]}return O};function dO(){}dO.m2=function(w,M,O,b,D){var o=O,Z;if(D==null)D=0;
var $=n.A(w,O);if($==0){Z="";O+=4}else{Z=n.yQ(w,O);O+=4+2*Z.length+2}if(Z!="")M.__name=Z;M.classID=dO.Qo(w,O);
if(b)console.log("\t".repeat(D),"- reading descriptor",M.classID,O);O+=dO.zc(w,O);var k=n.$g(w,O);O+=4;
for(var U=0;U<k;U++){var E=dO.Qo(w,O);O+=dO.zc(w,O);var t=dO.pH(w,O,b,D);M[E]=t;O+=t.size;delete t.size}return O-o};
dO.kS=function(w,M,O,b){var D=O,o=M.__name;if(o==null)o="";o+="\0";n.Mj(w,O,o);O+=4+2*o.length;dO.hk(w,O,M.classID);
O+=dO.zc(w.data,O);n.a6(w,O,Object.keys(M).length-1-(M.__name==null?0:1));O+=4;for(var Z in M){if(Z=="classID")continue;
if(Z=="__name")continue;dO.hk(w,O,Z);O+=dO.zc(w.data,O);O+=dO.IK(w,O,M[Z])}return O-D};dO.pH=function(w,M,O,b){var D=M,o=n.TP(w,M,4);
M+=4;var Z={size:0,t:o,v:null};if(O)console.log("\t".repeat(b),"reading key",o,D);switch(o){case"obj ":case"VlLs":Z.v=[];
var $=n.A(w,M);M+=4;for(var U=0;U<$;U++){var k=dO.pH(w,M,O,b+1);M+=k.size;delete k.size;Z.v.push(k)}break;
case"UntF":Z.v={type:n.TP(w,M,4),val:n.BR(w,M+4)};M+=12;break;case"doub":Z.v=n.BR(w,M);M+=8;break;case"bool":Z.v=w[M]==1;
M+=1;break;case"long":Z.v=n.$g(w,M);M+=4;break;case"comp":Z.v=n.$g(w,M+4);M+=8;break;case"Objc":Z.v={};
var E=dO.m2(w,Z.v,M,O,b+1);M+=E;break;case"TEXT":var t=n.A(w,M);if(t==0){Z.v="";M+=4}else{Z.v=n.yQ(w,M);
M+=4+Z.v.length*2+2}break;case"enum":var c=dO.Qo(w,M);M+=dO.zc(w,M);var l=dO.Qo(w,M);M+=dO.zc(w,M);Z.v={};
Z.v[c]=l;break;case"tdta":var q=n.$g(w,M);M+=4;Z.v=[];for(var U=0;U<q;U++)Z.v.push(w[M+U]);M+=q;break;
case"ObAr":var d=n.A(w,M);M+=4;var V=n.yQ(w,M);M+=4+2*V.length+2;if(V!="")throw V;var L=dO.Qo(w,M);M+=4+Math.max(4,L.length);
Z.v={classID:L,arr:[]};var e=n.A(w,M);M+=4;for(var U=0;U<e;U++){var L=dO.Qo(w,M);M+=4+Math.max(4,L.length);
var c=n.TP(w,M,4);M+=4;var H=n.TP(w,M,4);M+=4;var j={id:L,type:c,uID:H,arr:[]};Z.v.arr.push(j);var g=n.A(w,M,4);
M+=4;for(var K=0;K<g;K++){var a=n.BR(w,M);M+=8;j.arr.push(a)}}break;case"Pth ":var T=M,q=n.A(w,M);M+=4;
var C=n.TP(w,M,4);M+=4;var F=n.Yx(w,M);M+=4;var m=n.am6(w,M);M+=4+m.length*2;Z.v={sig:C,pth:m};break;
case"Clss":case"type":case"rele":var m=n.yQ(w,M);M+=4+m.length*2+2;var N=dO.Qo(w,M);M+=4+Math.max(4,N.length);
Z.v={classID:N};if(m!="")Z.v.__name=m;if(o=="rele"){Z.v.val=n.$g(w,M);M+=4}break;case"prop":case"Enmr":case"indx":case"name":var v=dO.Rb[o],m=n.yQ(w,M);
M+=4+m.length*2+2;if(m.length!=0){console.log(o,m);throw"e"}Z.v={};for(var U=0;U<v.length;U++){var N=dO.Qo(w,M);
M+=4+Math.max(4,N.length);Z.v[v[U]]=N}if(o=="name"){var m=n.yQ(w,M);M+=4+m.length*2+2;Z.v.val=m}if(o=="indx"){Z.v.val=n.A(w,M);
M+=4}break;case"alis":var q=n.A(w,M);M+=4;Z.v=n.TP(w,M,q);M+=q;break;default:{console.log("unknown oskey: "+o+", "+D);
throw"e";return Z}}if(O){console.log("\t".repeat(b),Z.v);console.log("\t".repeat(b),"======",M)}Z.size=M-D;
return Z};dO.Rb={name:["classID"],prop:["classID","keyID"],Enmr:["classID","typeID","enum"],indx:["classID"]};
dO.IK=function(w,M,O){var b=M,D=O.t;O=O.v;n.CD(w,M,D);M+=4;switch(D){case"obj ":case"VlLs":n.a6(w,M,O.length);
M+=4;for(var o=0;o<O.length;o++){var Z=dO.IK(w,M,O[o]);M+=Z}break;case"UntF":n.CD(w,M,O.type);n.qc(w,M+4,O.val);
M+=12;break;case"doub":n.qc(w,M,O);M+=8;break;case"bool":n.wH(w,M,O?1:0,1);M+=1;break;case"long":n.a6(w,M,O);
M+=4;break;case"comp":n.a6(w,M+4,O);M+=8;break;case"Objc":var Z=dO.kS(w,O,M);M+=Z;break;case"TEXT":n.Mj(w,M,O+"\0");
M+=4+O.length*2+2;break;case"enum":var $=Object.keys(O)[0],k=O[$];dO.hk(w,M,$);M+=dO.zc(w.data,M);dO.hk(w,M,k);
M+=dO.zc(w.data,M);break;case"tdta":n.kq(w,M,O.length);M+=4;n.Wd(w,M,O);M+=O.length;break;case"ObAr":n.kq(w,M,O.arr[0].arr.length);
M+=4;n.Mj(w,M,"\0");M+=6;dO.hk(w,M,O.classID);M+=4+Math.max(4,O.classID.length);n.kq(w,M,O.arr.length);
M+=4;for(var U=0;U<O.arr.length;U++){var E=O.arr[U];dO.hk(w,M,E.id);M+=4+Math.max(4,E.id.length);n.CD(w,M,E.type);
M+=4;n.CD(w,M,E.uID);M+=4;n.kq(w,M,E.arr.length);M+=4;for(var o=0;o<E.arr.length;o++){n.qc(w,M,E.arr[o]);
M+=8}}break;case"Pth ":var t=O.pth.length*2+4+8;n.kq(w,M,t);M+=4;n.CD(w,M,O.sig);M+=4;n.DG(w,M,t);M+=4;
n.a92(w,M,O.pth);M+=O.pth.length*2+4;break;case"Clss":case"type":case"rele":var c=O.__name;if(c==null)c="";
n.Mj(w,M,c+"\0");M+=4+c.length*2+2;var l=O.classID;dO.hk(w,M,l);M+=4+Math.max(4,l.length);if(D=="rele"){n.a6(w,M,O.val);
M+=4}break;case"prop":case"Enmr":case"indx":case"name":var q=dO.Rb[D];n.kq(w,M,1);M+=6;for(var U=0;U<q.length;
U++){var l=O[q[U]];dO.hk(w,M,l);M+=4+Math.max(4,l.length)}if(D=="name"){n.Mj(w,M,O.val+"\0");M+=4+O.val.length*2+2}if(D=="indx"){n.kq(w,M,O.val);
M+=4}break;case"alis":var t=O.length;n.kq(w,M,t);M+=4;n.CD(w,M,O);M+=t;break;default:console.log("unknown oskey: "+D);
M=b;break}return M-b};dO.Qo=function(w,M){var O=n.$g(w,M);if(O>1e3)throw"e";if(O==0)O=4;return n.TP(w,M+4,O).trim()};
dO.zc=function(w,M){var O=n.$g(w,M);return O==0?8:4+O};dO.hk=function(w,M,O){var b="warp list Comp None xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby box flow time trim then else".split(" "),D=4<O.length||b.indexOf(O)!=-1;
n.a6(w,M,D?O.length:0);n.CD(w,M+4,O);if(O.length<4&&!D){var o="";for(var U=O.length;U<4;U++)o+=" ";n.CD(w,M+4+O.length,o)}};
dO.aa$=function(w){var M={};for(var O in w){if(O=="classID")M[O]=w[O];else if(O=="__name")M[O]=w[O];
else M[O]=dO.rE(w[O])}return M};dO.rE=function(w){if(w.GG=="Objc")return dO.aa$(w.v);else if(w.GG=="VlLs"){var M=[];
for(var U=0;U<w.v.length;U++)M.push(dO.rE(w.v[U]));return M}else if(w.GG=="UntF")return w.v.val;else return w.v};
function jb(){}jb.OX=function(w,M,O,b,D,o){while(M<O){var Z=n.TP(w,M,4);M+=4;if(Z!="8BIM"&&Z!="8B64"){console.log("layer information signature error! "+Z,"PSB = "+D);
alert("Error in PSD file: wrong signature.");return O}var $=n.TP(w,M,4);M+=4;var k=n.A(w,M);M+=4;var E=D&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf($)!=-1;
if(E){k=k<<32|n.$g(w,M);M+=4}var t=["lrFX","PlLd"];if(t.indexOf($)!=-1){if(k%4!=0)k+=4-k%4;M+=k;continue}switch($){case"iOpa":b[$]=w[M];
break;case"brst":b[$]=[1,1,1];for(var U=0;U<k;U+=4)b[$][n.A(w,M+U)]=0;break;case"knko":b[$]=w[M];break;
case"infx":b[$]=w[M];break;case"clbl":b[$]=w[M];break;case"lmgm":b[$]=w[M];break;case"vmgm":b[$]=w[M];
break;case"fcmy":b[$]=w[M];break;case"lyid":b[$]=n.A(w,M);break;case"lsct":b[$]={type:n.A(w,M)};if(k>=12)b[$].eI=n.TP(w,M+8,4);
break;case"lsdk":b.lsct={type:n.A(w,M)};break;case"lyvr":b[$]=n.A(w,M);break;case"lnsr":var c={artb:1,bgnd:1,cont:1,layr:1,lset:1,rend:1,shap:1,user:1,____:null};
b[$]=n.TP(w,M,4);break;case"lspf":b[$]=n.A(w,M);break;case"lclr":b[$]=n.z0(w,M);break;case"luni":b[$]=n.vo(w,M);
break;case"fxrp":b[$]=new at(n.BR(w,M),n.BR(w,M+8));break;case"artb":case"artd":b[$]={};dO.m2(w,b[$],M+4);
break;case"SoCo":b[$]={};dO.m2(w,b[$],M+4);break;case"GdFl":b[$]={};dO.m2(w,b[$],M+4);jb.mq(b[$],$);
break;case"PtFl":b[$]={};dO.m2(w,b[$],M+4);jb.mq(b[$],$);break;case"CgEd":b[$]={};dO.m2(w,b[$],M+4);
break;case"brit":var l=b.brit=ek.pp("brit"),q={};l.Brgh.v=n.iV(w,M);l.Cntr.v=n.iV(w,M+2);l.useLegacy.v=!1;
break;case"levl":var d=w.buffer.slice(M,M+k);b[$]=dM.TC(d);break;case"curv":b[$]=bW.$e(w,M,k);break;
case"expA":var V=n.z0(w,M),L=b[$]=ek.pp("expA");L.Exps.v=n.y1(w,M+2);L.Ofst.v=n.y1(w,M+6);L.gammaCorrection.v=n.y1(w,M+10);
break;case"vibA":b[$]={};dO.m2(w,b[$],M+4);break;case"hue2":b[$]=a1.$e(w,M,k);break;case"blnc":var L=b[$]=ek.pp($);
L.PrsL.v=w[M+18]==1;var e=["ShdL","MdtL","HghL"];for(var U=0;U<3;U++)for(var H=0;H<3;H++)L[e[U]].v[H].v=n.iV(w,M+U*6+H*2);
break;case"blwh":var j={};dO.m2(w,j,M+4);var L=ek.pp($),g="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var U=0;U<g.length;U++){L[g[U]]=j[g[U]];delete j[g[U]]}b[$]=L;break;case"phfl":var L=b[$]=ek.pp($),K=L.Clr.v,V=n.z0(w,M);
if(V==3){var a=[n.A(w,M+2),n.A(w,M+6),n.A(w,M+10)],T=32768,C=x.nE(a[0]/T,a[1]/T,a[2]/T);K.Lmnc.v=C.XZ;
K.A.v=C.ip;K.B.v=C.L}if(V==2){var F=n.z0(w,M+2);if(F!=7)throw"e";K.Lmnc.v=n.iV(w,M+4)/100;K.A.v=n.iV(w,M+6)/100;
K.B.v=n.iV(w,M+8)/100}var m=M+2+(V==3?12:10);L.Dnst.v=n.A(w,m);m+=4;L.PrsL.v=w[m]==1;break;case"mixr":var N={JY:n.z0(w,M+2)==1,G:[]};
for(var U=0;U<20;U++)N.G.push(n.iV(w,M+4+U*2));b[$]=a6.arW(N);break;case"clrL":case"rplc":b[$]={};dO.m2(w,b[$],M+6);
break;case"nvrt":b[$]={};break;case"post":b[$]=ek.pp("post");b[$].Lvls.v=n.z0(w,M);break;case"thrs":b[$]=ek.pp("thrs");
b[$].Lvl.v=n.z0(w,M);break;case"grdm":var v=M,h=w[M+2]==1,P=w[M+3]==1;v+=4;var J=n.TP(w,v,4);if(J=="Perc"||J=="Gcls"||J=="Lnr ")v+=4;
var Y=n.vo(w,v);v+=4+Y.length*2;var B=g7.CJ(w,v,Y),S=B[0];v=B[1];var r=n.z0(w,v);v+=2;var I=n.A(w,v);
v+=4;var f=n.z0(w,v)==1;v+=2;var s=n.z0(w,v)==1;v+=2;var W=n.A(w,v);v+=4;var i=n.z0(w,v);v+=2;var u=[],z=[];
for(var U=0;U<4;U++){u.push({t:"long",v:~~(n.z0(w,v+U*2)*100/32768)});z.push({t:"long",v:~~(n.z0(w,v+U*2+8)*100/32768)})}v+=16;
var G=n.z0(w,v);v+=2;if(r==1)S={classID:"Grdn",Nm:{t:"TEXT",v:Y},GrdF:{t:"enum",v:{GrdF:"ClNs"}},ShTr:{t:"bool",v:f},VctC:{t:"bool",v:s},ClrS:{t:"enum",v:{ClrS:"RGBC"}},RndS:{t:"long",v:I},Smth:{t:"long",v:W},Mnm:{t:"VlLs",v:u},Mxm:{t:"VlLs",v:z}};
var g_=ek.pp("grdm");g_.Rvrs.v=h;g_.Grad.v=S;b[$]=g_;break;case"selc":b[$]=ge.$e(w,M,k);break;case"vmsk":case"vsms":var cl=b.vmsk=new Q.G6,p=n.$g(w,M+4),b2=(p>>0&1)==1;
cl.Jr=(p>>1&1)==0;cl.isEnabled=(p>>2&1)==0;cl.j=dL.V1(w,M+8,k-8,o.e,o.n);break;case"shmd":b[$]={};var jz=n.A(w,M),m=M+4;
for(var U=0;U<jz;U++){var Z=n.TP(w,m,4);m+=4;var aT=n.TP(w,m,4);m+=4;var fZ=w[m];m++;if(Math.max(w[m],w[m+1])!=0)throw"e";
m+=3;var ft=n.A(w,m);m+=4;if(aT=="cust"||aT=="cmls"||aT=="extn"||aT=="mlst"){var cc=n.A(w,m);if(cc!=16)m+=4;
if(n.A(w,m)==16){var j={};dO.m2(w,j,m+4,!1);b[$][aT]=j;if(aT=="cmls")y.E8.aoL(b[$][aT])}}else{console.log("unknown shmd key: "+aT+", size: "+ft)}m+=ft}break;
case"shpa":var V=n.A(w,M),kr=n.A(w,M+4);if(kr!=0)console.log("some patterns present!");break;case"TySh":var hG=b[$]={},V=n.z0(w,M);
hG.F=n.Jd(w,M+2);var hi=n.z0(w,M+2+48);hG.Fq={};var bU=dO.m2(w,hG.Fq,M+56),ic=ah.a4s();for(var iQ in ic)if(hG.Fq[iQ]==null)hG.Fq[iQ]=ic[iQ];
hG.TY={};var bx=dO.m2(w,hG.TY,M+56+bU+6);hG.AY=n.a9f(w,M+56+bU+6+bx);hG.GM=hU.TC(hG.Fq.EngineData.v);
ah.atr(hG.GM.EngineDict.StyleRun.RunArray);if(hG.GM.ResourceDict==null)hG.GM.ResourceDict=JSON.parse(JSON.stringify(hG.GM.DocumentResources));
delete hG.Fq.EngineData;break;case"lfx2":case"lmfx":case"lfxs":var aR=n.A(w,M),gs=n.A(w,M+4);b.lmfx={};
var bU=dO.m2(w,b.lmfx,M+8);jb.pG(b.lmfx);break;case"FMsk":b[$]=n.RQ(w,M,k);break;case"Txt2":b[$]={};
b[$].raw=n.RQ(w,M,k);b[$].zv=dE.TC(b[$].raw);break;case"Patt":b[$]=gF.CU(w,M,k);break;case"SoLd":var k7=n.TP(w,M,4),fT=n.A(w,M+4),aH=n.A(w,M+8);
b[$]={};var e7=dO.m2(w,b[$],M+12);if(b[$].nonAffineTransform==null)b[$].nonAffineTransform=JSON.parse(JSON.stringify(b[$].Trnf));
if(b[$].Impr==null)b[$].Impr={t:"Objc",v:{__name:"None",classID:"none"}};break;case"vstk":case"pths":var fT=n.A(w,M);
b[$]={};var e7=dO.m2(w,b[$],M+4);break;case"vscg":var aT=n.TP(w,M,4),fT=n.A(w,M+4);b[aT]={};var e7=dO.m2(w,b[aT],M+8);
jb.mq(b[aT],aT);break;case"vogk":var dB=n.A(w,M),fT=n.A(w,M+4);b[$]={};var e7=dO.m2(w,b[$],M+8);b[$]=b[$].keyDescriptorList.v;
for(var U=0;U<b[$].length;U++){var ia=b[$][U].v;if(!x.lK.HL(ia))continue;if(ia.keyOriginBoxCorners==null){var d7=x.lK.DI(ia);
ia.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};var hf=[d7[0],d7[1],d7[2],d7[1],d7[2],d7[3],d7[0],d7[3]];
if(ia.keyOriginType.v==4)hf=x.lK.fw(x.lK.zj(ia),ia.keyOriginLineWeight.v);x.lK.fZ(ia,"keyOriginBoxCorners",hf)}}break;
case"lnk2":case"lnkD__":case"lnk3__":b[$]=[];var v=M;while(v<M+k){var gv=new Q.dG;b[$].push(gv);var hN=n.C4(w,v);
v+=8;var hP=v;gv.type=n.TP(w,v,4);v+=4;if(gv.type!="liFD"){alert("Unknown Linked Layer type: "+gv.type);
break;throw gv.type}gv.Vu=n.A(w,v);v+=4;var gP=n.gm(w,v);v+=1+gP.g$.length;gv.QV=gP.g$;gv.P_=n.yQ(w,v);
v+=4+gv.P_.length*2+2;gv.Gw=n.TP(w,v,4);v+=4;gv.fL=n.TP(w,v,4);v+=4;var aB=n.C4(w,v);v+=8;gv.open=w[v];
v+=1;if(gv.open!=0){var i7={},bU=dO.m2(w,i7,v+4);if(bU%4!=0)bU+=4-bU%4;console.log(i7);v+=bU+4}gv.open=0;
gv.raw=n.RQ(w,v,aB);v=hP+hN;if(hN%4!=0)v+=4-hN%4}break;case"FEid":var v=M;b[$]=[];var dI=v+k,V=n.A(w,v);
v+=4;while(v<dI){v+=4;var hN=n.A(w,v);v+=4;var B={};b[$].push(B);B.id=n.gm(w,v).g$;v+=B.id.length+1;
var V=n.A(w,v);v+=4;v+=4;var gh=n.A(w,v);v+=4;B.rect=n.WM(w,v);v+=16;var b9=n.A(w,v);v+=4;var ij=n.A(w,v);
v+=4;var ax=new x.ka(0);for(var U=0;U<ij+2;U++){var iX=n.A(w,v);v+=4;if(iX!=0){v+=4;var am=n.A(w,v),jf=null;
v+=4;if(U<3||U==25)jf=dw.Rt(!0,b9,w,B.rect.e,B.rect.n,v,am);if(U==0)ax.o=jf;if(U==1)ax.w=jf;if(U==2)ax.L=jf;
if(U==25)ax.ip=jf;v+=am}}B.buffer=x.$(B.rect.v()*4);x.RB(ax,B.buffer);x.Su(B);var eJ=w[v];v++;if(eJ!=0){B.D=new Q.MX;
B.D.rect=n.WM(w,v);v+=16;v+=4;var hZ=n.A(w,v);v+=4;B.D.channel=dw.Rt(!0,b9,w,B.D.rect.e,B.D.rect.n,v,hZ);
B.D.color=255;B.D.Sr();v+=hZ}if(hN%4!=0)v+=4-hN%4}break;case"Lr16":b7.UP(o,w,M);break;case"Anno":b[$]=[];
var hC=M,ds=M+4,kr=n.A(w,ds);ds+=4;for(var U=0;U<kr;U++){var hN=n.A(w,ds);ds+=4;var hV=n.TP(w,ds,4);
ds+=4;if(hV!="txtA")throw hV;var bv=w[ds++],hl=w[ds++],jQ=n.z0(w,ds);ds+=2;var a$=n.WM(w,ds);ds+=16;
var jB=n.WM(w,ds);ds+=16;var K=eO.Lb(w,ds);ds+=10;var jL=n.gm(w,ds);ds+=jL.length;var c1=n.gm(w,ds);
ds+=c1.length;var fd=n.gm(w,ds);ds+=fd.length;var g2=n.A(w,ds);ds+=4;var ed=n.TP(w,ds,4);ds+=4;var ip=n.A(w,ds);
ds+=4;var bS=n.Ip(w,ds+2,ip-2>>1);ds+=ip;b[$].push([a$.x,a$.y,K,jL.g$,bS])}break;default:break}var hg="Lr16 LMsk Txt2 artd extd luni pths extn tySh lfx2 cinf Anno".split(" ");
if(hg.indexOf($)==-1)if(k%4!=0)console.log("size not multiple of 4!!!",$);if($!="luni"&&$!="TySh"&&$!="tySh"&&$!="lfx2"&&$!="iOpa")if(k%4!=0)k+=4-k%4;
M+=k}var q=b.CgEd;if(q){var l=b.brit;if(l){l.Brgh.v=q.Brgh?q.Brgh.v:0;l.Cntr.v=q.Cntr?q.Cntr.v:0;l.useLegacy.v=q.useLegacy?q.useLegacy.v:0}delete b.CgEd}var dZ=[];
for(var U=0;U<dZ.length;U++)delete b[dZ[U]];return M};jb.ul=function(w,M,O,b,D){for(var o in O)if(O[o]==null){alert("A bug occured (see console).");
console.log("Please, report a bug, that \""+o+"\" tag was present with a null value.");delete O[o]}for(var o in O){var Z=b&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(o)!=-1,k=0;
n.CD(w,M,Z?"8B64":"8BIM");M+=4;var $=M;n.CD(w,M,o);M+=4;n.a6(w,M,0);M+=Z?8:4;switch(o){case"iOpa":n.wH(w,M,O[o],1);
k=4;break;case"brst":k=0;for(var U=0;U<3;U++)if(O[o][U]==0){n.kq(w,M+k,U);k+=4}break;case"knko":n.wH(w,M,O[o],1);
k=4;break;case"infx":n.wH(w,M,O[o],1);k=4;break;case"clbl":n.wH(w,M,O[o],1);k=4;break;case"lmgm":n.wH(w,M,O[o],1);
k=4;break;case"vmgm":n.wH(w,M,O[o],1);k=4;break;case"fcmy":n.wH(w,M,O[o],1);k=4;break;case"lyid":n.kq(w,M,O[o]);
k=4;break;case"lsct":n.kq(w,M,O[o].type);k=4;if(O[o].eI){n.CD(w,M+4,"8BIM");n.CD(w,M+8,O[o].eI);k=12}break;
case"lyvr":n.kq(w,M,O[o]);k=4;break;case"lnsr":n.CD(w,M,O[o]);k=4;break;case"lspf":n.kq(w,M,O[o]);k=4;
break;case"lclr":n.yT(w,M,O[o]);k=8;break;case"luni":n.Mj(w,M,O[o]);k=4+2*O[o].length;break;case"fxrp":n.qc(w,M,O[o].x);
n.qc(w,M+8,O[o].y);k=16;break;case"artb":case"artd":n.kq(w,M,16);k=dO.kS(w,O[o],M+4)+4;break;case"SoCo":n.kq(w,M,16);
k=dO.kS(w,O[o],M+4)+4;break;case"GdFl":n.kq(w,M,16);k=dO.kS(w,O[o],M+4)+4;break;case"PtFl":n.kq(w,M,16);
k=dO.kS(w,O[o],M+4)+4;break;case"CgEd":var E={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:24},Cntr:{t:"long",v:54},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!0}},t=E,c=O[o];
t.Brgh.v=c.Brgh.v;t.Cntr.v=c.Cntr.v;t.useLegacy.v=c.useLegacy.v;n.kq(w,M,16);k=dO.kS(w,E,M+4)+4;break;
case"brit":w.VN(M,8);k=8;break;case"levl":var l=new id;k=dM.qf(l,O[o]);n.Wd(w,M,l.data);break;case"curv":k=bW.BZ(w,M,O[o]);
break;case"expA":k=14;w.VN(M,14);n.Qv(w.data,M,1);n.lS(w.data,M+2,O[o].Exps?O[o].Exps.v:0);n.lS(w.data,M+6,O[o].Ofst?O[o].Ofst.v:0);
n.lS(w.data,M+10,O[o].gammaCorrection?O[o].gammaCorrection.v:1);break;case"vibA":n.kq(w,M,16);k=dO.kS(w,O[o],M+4)+4;
break;case"hue2":k=a1.BZ(w,M,O[o]);break;case"blnc":k=19;w.VN(M,k);var q=["ShdL","MdtL","HghL"];for(var U=0;
U<3;U++){var d=O[o][q[U]].v;for(var V=0;V<3;V++)d.push(n.qU(w.data,M+U*6+V*2,d[V].v))}w.data[M+18]=O[o].PrsL.v?1:0;
break;case"blwh":var E={classID:"null",bwPresetKind:{t:"long",v:1},blackAndWhitePresetFileName:{t:"TEXT",v:""}},L="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var U=0;U<L.length;U++){E[L[U]]=O[o][L[U]]}n.kq(w,M,16);k=dO.kS(w,E,M+4)+4;break;case"phfl":n.yT(w,M,2);
var e=O[o].Clr.v;n.yT(w,M+2,7);n.yT(w,M+4,Math.round(e.Lmnc.v*100));n.yT(w,M+6,Math.round(e.A.v*100));
n.yT(w,M+8,Math.round(e.B.v*100));n.yT(w,M+10,0);var H=M+2+10;w.VN(H,5);n.oS(w.data,H,O[o].Dnst.v);H+=4;
w.data[H]=O[o].PrsL.v?1:0;H++;k=H-M;break;case"mixr":k=44;w.VN(M,k);var j=a6._Z(O[o]);n.Qv(w.data,M,1);
n.Qv(w.data,M+2,j.JY?1:0);for(var U=0;U<20;U++)n.qU(w.data,M+4+U*2,j.G[U]);break;case"clrL":case"rplc":n.yT(w,M,1);
n.kq(w,M+2,16);k=dO.kS(w,O[o],M+6)+6;break;case"nvrt":k=0;break;case"post":n.yT(w,M,O[o].Lvls.v);k=2;
break;case"thrs":n.yT(w,M,O[o].Lvl.v);k=2;break;case"grdm":var g=O[o].Rvrs?O[o].Rvrs.v:!1,K=!1,a=867527939,T=!1,C=!1,F=2048,m=[0,0,0,0],N=[32768,32768,32768,32768],v=O[o].Grad.v,h,P,J=v.Clrs==null?1:0;
if(J==0){h=v;P=JSON.parse(aN.eW.auP).v}else{h=ek.pp("grdm").Grad.v;P=v}w.VN(M,4);n.Qv(w.data,M,1);w.data[M+2]=g?1:0;
w.data[M+3]=K?1:0;var Y=M+4;n.Mj(w,Y,v.Nm.v);Y+=4+v.Nm.v.length*2;Y=g7.a4u(w,Y,h);n.yT(w,Y,J);Y+=2;n.kq(w,Y,P.RndS.v);
Y+=4;n.yT(w,Y,P.ShTr.v?1:0);Y+=2;n.yT(w,Y,P.VctC.v?1:0);Y+=2;n.kq(w,Y,P.Smth.v);Y+=4;n.yT(w,Y,3);Y+=2;
for(var U=0;U<4;U++)n.yT(w,Y+U*2,m[U]);Y+=8;for(var U=0;U<4;U++)n.yT(w,Y+U*2,N[U]);Y+=8;Y+=2;k=Y-M;break;
case"selc":k=ge.BZ(w,M,O[o]);break;case"FMsk":n.Wd(w,M,O[o]);k=O[o].length;break;case"Txt2":var B=new id,S=dE.c5(O[o].zv,B),r=x.$(S,!0);
for(var U=0;U<S;U++)r[U]=B.data[U];n.Wd(w,M,r);k=r.length;break;case"vmsk":var I=O[o],f=0;n.kq(w,M,3);
if(!I.Jr)f+=1<<1;if(!I.isEnabled)f+=1<<2;n.kq(w,M+4,f);k=8;var s=I.j.length;w.VN(M+8,s*26);dL.Dv(w.data,M+8,I.j,D.e,D.n);
k+=s*26;break;case"shmd":n.kq(w,M,Object.keys(O[o]).length);var H=M+4;for(var W in O[o]){n.CD(w,H,"8BIM");
H+=4;n.CD(w,H,W);H+=4;n.kq(w,H,0);H+=4;n.kq(w,H,0);H+=4;n.kq(w,H,16);H+=4;var i=dO.kS(w,O[o][W],H);if(i%4!=0)i+=4-i%4;
n.kq(w,H-8,i+4);H+=i}k=H-M;break;case"TySh":var H=M;n.AU(w,H,1);H+=2;var u=O[o],B=new id;u.GM.DocumentResources=JSON.parse(JSON.stringify(u.GM.ResourceDict));
var S=hU.c5(u.GM,B),r=x.$(S,!0);for(var U=0;U<S;U++)r[U]=B.data[U];u.Fq.EngineData={t:"tdta",v:r};var z=u.GM.EngineDict.Editor.Text;
u.Fq.Txt.v=z.substring(0,z.length-1);n.agK(w,H,u.F);H+=48;n.AU(w,H,50);H+=2;n.kq(w,H,16);H+=4;H+=dO.kS(w,u.Fq,H);
n.AU(w,H,1);H+=2;n.kq(w,H,16);H+=4;H+=dO.kS(w,u.TY,H);n.abv(w,H,u.AY);H+=16;k=H-M;break;case"lmfx":n.kq(w,M,0);
n.kq(w,M+4,16);var E=JSON.parse(JSON.stringify(O[o])),G=!1;jb.cT(E);for(var U=0;U<aN.IU.length;U++)if(E[aN.IU[U]]!=null)G=!0;
n.CD(w,$,G?"lmfx":"lfx2");k=dO.kS(w,E,M+8)+8;break;case"Patt":var H=gF.SE(w,M,O[o]);k=H-M;break;case"SoLd":n.CD(w,M,"soLD");
n.kq(w,M+4,4);n.kq(w,M+8,16);k=dO.kS(w,O[o],M+12)+12;break;case"vstk":case"pths":n.kq(w,M,16);k=dO.kS(w,O[o],M+4)+4;
break;case"vscg__":n.CD(w,M,O[o].key);n.kq(w,M+4,16);k=dO.kS(w,O[o].G,M+8)+8;break;case"vogk":n.kq(w,M,1);
n.kq(w,M+4,16);x.lK.ax2(O[o]);for(var U=0;U<O[o].length;U++){var g_=O[o][U].v.keyOriginResolution;if(g_)g_.v=D.Z1}var cl={classID:"null",keyDescriptorList:{t:"VlLs",v:O[o]}};
k=dO.kS(w,cl,M+8)+8;break;case"lnkD":case"lnk2":case"lnk3":var Y=M;for(var U=0;U<O[o].length;U++){var p=O[o][U],b2=Y;
n.md(w,Y,0);Y+=8;n.CD(w,Y,p.type);Y+=4;n.kq(w,Y,p.Vu);Y+=4;w.VN(Y,1);w.data[Y]=p.QV.length;Y++;n.CD(w,Y,p.QV);
Y+=p.QV.length;n.Mj(w,Y,p.P_+"\0");Y+=4+p.P_.length*2+2;n.CD(w,Y,p.Gw);Y+=4;n.CD(w,Y,p.fL);Y+=4;n.md(w,Y,p.raw.length);
Y+=8;w.VN(Y,1);w.data[Y]=p.open;Y++;n.Wd(w,Y,p.raw);Y+=p.raw.length;n.kq(w,Y,1);Y+=4;Y+=11;var jz=Y-b2-8;
n.md(w,b2,jz);if(jz%4!=0){w.VN(Y,4-jz%4);Y+=4-jz%4}}k=Y-M;break;case"FEid":var Y=M;n.kq(w,Y,3);Y+=4;
for(var aT=0;aT<O[o].length;aT++){var fZ=O[o][aT];Y+=4;var ft=Y;Y+=4;n.Zv(w,Y,fZ.id);Y+=fZ.id.length+1;
n.kq(w,Y,1);Y+=4;var cc=x.$(fZ.rect.v()),kr=fZ.rect,hG=x.$(kr.v());Y+=4;var hi=Y;Y+=4;n.t2(w,Y,kr);Y+=16;
n.kq(w,Y,8);Y+=4;n.kq(w,Y,24);Y+=4;for(var U=0;U<24+2;U++){var bU=-1;if(U==0)bU=0;if(U==1)bU=1;if(U==2)bU=2;
if(U==25)bU=3;n.kq(w,Y,bU!=-1?1:0);Y+=4;if(bU!=-1){x.Oj(fZ.buffer,cc,bU);x.CV(cc,fZ.rect,hG,kr);Y+=4;
var ic=Y;Y+=4;w.VN(Y,kr.v()+2);Y=dw.el(!0,hG,w.data,kr.e,kr.n,Y,3);n.kq(w,ic,Y-(ic+4))}}n.kq(w,hi,Y-(hi+4));
w.VN(Y,1);w.data[Y]=fZ.D?1:0;Y++;if(fZ.D!=null){var iQ=kr,bx=x.$(iQ.v());bx.fill(fZ.D.color);x.CV(fZ.D.channel,fZ.D.rect,bx,iQ);
n.t2(w,Y,iQ);Y+=16;Y+=4;var aR=Y;Y+=4;w.VN(Y,iQ.v()+2);Y=dw.el(!0,bx,w.data,iQ.e,iQ.n,Y,3);n.kq(w,aR,Y-(aR+4))}var jz=Y-(ft+4);
n.kq(w,ft,jz);if(jz%4!=0)Y+=4-jz%4}k=Y-M;break;case"Anno":var gs=M,k7=O[o].length;n.yT(w,gs,2);n.yT(w,gs+2,1);
gs+=4;n.kq(w,gs,k7);gs+=4;for(var U=0;U<k7;U++){var fT=O[o][U],aH=fT[0],e7=fT[1],dB=gs;gs+=4;n.CD(w,gs,"txtA");
gs+=4;w.VN(gs,2);w.data[gs]=1;w.data[gs+1]=28;gs+=2;n.yT(w,gs,1);gs+=2;n.t2(w,gs,new cn(aH,e7,17,21));
gs+=16;n.t2(w,gs,new cn(aH+8,e7+10,241,141));gs+=16;w.VN(gs,10);eO.oL(w.data,gs,fT[2]);gs+=10;gs+=n.Zv(w,gs,fT[3]);
gs+=n.Zv(w,gs,"");gs+=n.Zv(w,gs,"D:20211012120233+01'00'");var ia=fT[4].length*2;n.kq(w,gs,12+2+ia);
gs+=4;n.CD(w,gs,"txtC");gs+=4;n.kq(w,gs,2+ia);gs+=4;w.VN(gs,2);w.data[gs]=254;w.data[gs+1]=255;gs+=2;
n.afG(w,gs,fT[4]);gs+=ia;n.kq(w,dB,gs-dB)}k=gs-M;break;default:console.log("unknown layer tag: "+o+", size: "+k);
M-=12;continue}var d7=["Txt2","artd","extd","pths"];if(d7.indexOf(o)==-1)if(k%4!=0)k+=4-k%4;if(Z)n.md(w,M-8,k);
else n.kq(w,M-4,k);if(o!="luni"&&o!="TySh")if(k%4!=0)k+=4-k%4;M+=k}return M};jb.pG=function(w){for(var U=0;
U<aN.order.length;U++){var M=aN.order[U],O=aN.IU[U];if(w[O]==null)w[O]={t:"VlLs",v:[]};if(w[M]!=null){w[O].v.push(w[M]);
delete w[M]}var b=[];for(var D=0;D<w[O].v.length;D++){var o=w[O].v[D];if(o.v.present==null||o.v.present.v==!0)b.push(o)}w[O].v=b}};
jb.cT=function(w){for(var U=0;U<aN.order.length;U++){var M=aN.order[U],O=aN.IU[U],b=w[O].v.length;if(b==0){delete w[O];
continue}if(b==1){w[M]=w[O].v[0];delete w[O];continue}}};jb.mq=function(w,M){if(M=="GdFl"){if(w.Angl==null)w.Angl={v:{type:"#Ang",val:0},t:"UntF"};
if(w.Algn==null)w.Algn={v:!0,t:"bool"};if(w.Scl==null)w.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(w.Ofst==null)w.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"};
if(w.Rvrs==null)w.Rvrs={v:!1,t:"bool"};if(w.Dthr==null)w.Dthr={v:!1,t:"bool"}}if(M=="PtFl"){if(w.Algn==null)w.Algn={v:!0,t:"bool"};
if(w.Angl==null)w.Angl={v:{type:"#Ang",val:0},t:"UntF"};if(w.Scl==null)w.Scl={v:{type:"#Prc",val:100},t:"UntF"};
if(w.phase==null)w.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}};jb.clone=function(w,M){var O={};
if(w=="TySh"){O.F=M.F.clone();O.Fq=JSON.parse(JSON.stringify(M.Fq));O.TY=JSON.parse(JSON.stringify(M.TY));
O.AY=M.AY.clone();O.GM=JSON.parse(JSON.stringify(M.GM));if(M.add)O.add={vmsk:M.add.vmsk.clone(),vogk:JSON.parse(JSON.stringify(M.add.vogk))};
return O}else if(w=="fxrp")return M.clone();else if(w=="vmsk")return M.clone();else return JSON.parse(JSON.stringify(M))};
function gC(w,M){}gC.TC=function(w,M,O,b){b=gC.ai4(w,M,O,b);return b};gC.c5=function(w,M,O,b,D){b=gC.avm(w,M,O,b,D);
return b};gC.ai4=function(w,M,O,b){var D=b;w.rect=n.WM(O,b);b+=16;var o=n.z0(O,b);b+=2;w.Rv=[];var Z=M.u7;
for(var U=0;U<o;U++){w.Rv[U]={id:n.iV(O,b),length:(Z?n.C4:n.A)(O,b+2)};b+=Z?10:6}var $=n.TP(O,b,4);b+=4;
if($!="8BIM"){console.log("Invalid Blend mode signature: "+$);alert("Error in Photoshop file: wrong signature.");
throw"e"}w.eI=n.TP(O,b,4);b+=4;w.opacity=O[b];b+=1;w.fG=O[b]==1;b+=1;w.N7=O[b];b+=1;if(O[b]!=0)console.log("error in filler!");
b+=1;var k=n.A(O,b);b+=4;var E=b;b=gC.a7$(w,O,b);b=gC.a0a(w,O,b);var t=n.gm(O,b);w.name=t.g$;b+=t.length;
if(t.length%4!=0)b+=4-t.length%4;b=jb.OX(O,b,E+k,w.add,Z,M);if(w.add.lsct){if(w.add.lsct.eI)w.eI=w.add.lsct.eI;
w.add.lsct=w.add.lsct.type}return b};gC.avm=function(w,M,O,b,D){var o=b;n.t2(O,b,w.rect);b+=16;var Z=w.amm();
n.yT(O,b,Z.length);b+=2;var $=M.u7;D.push(b);for(var U=0;U<Z.length;U++){n.AU(O,b,Z[U]);if($)n.md(O,b+2,0);
else n.kq(O,b+2,0);b+=$?10:6}n.CD(O,b,"8BIM");b+=4;n.CD(O,b,w.eI);b+=4;n.wH(O,b,w.opacity,1);b+=1;n.wH(O,b,w.fG?1:0,1);
b+=1;n.wH(O,b,w.N7,1);b+=1;n.wH(O,b,0,1);b+=1;var k=b;n.kq(O,b,0);b+=4;var E=b;b=gC.aqH(w,O,b);b=gC.asU(w,O,b);
var t=n.Zv(O,b,w.name.slice(0,255));b+=t;if(t%4!=0)b+=4-t%4;if(w.add.lsct){w.add.lsct={type:w.add.lsct};
if(w.eI=="pass"){w.add.lsct.eI="pass";w.eI="norm"}}if(w.eI=="pass")w.add.lsct={type:w.add.lsct,eI:"pass"};
if(w.add.brit)w.add.CgEd=w.add.brit;b=jb.ul(O,b,w.add,$,M);delete w.add.CgEd;if(w.add.lsct){if(w.add.lsct.eI)w.eI=w.add.lsct.eI;
w.add.lsct=w.add.lsct.type}var c=b-E;n.kq(O,k,c);return b};gC.a7$=function(w,M,O){var b=n.A(M,O);O+=4;
if(b==0)return O;var D=O;w.D=new Q.MX;w.D.rect=n.WM(M,O);O+=16;w.D.color=M[O];O+=1;var o=gC.QG(w.D,M,O);
O+=1;if(o){var Z=!1,$=255,k=0,E=255,t=0;for(var U=0;U<w.Rv.length;U++)if(w.Rv[U].id==-3)Z=!0;if(Z){w.u$=gC.lJ(M,O);
O+=18}var c=O,l=M[O];O++;if(l>>0&1){$=M[O];O++}if(l>>1&1){k=n.BR(M,O);O+=8}if(l>>2&1){E=M[O];O++}if(l>>3&1){t=n.BR(M,O);
O+=8}if((O-c&1)==1)O++;w.Fx=[$,k,E,t]}else{if(b==20)O+=2;else{w.u$=gC.lJ(M,O);O+=18}}return D+b};gC.aqH=function(w,M,O){n.kq(M,O,0);
O+=4;if(w.D==null)return O;var b=w.yo(),D=w.add.vmsk,o=O,Z=!0;n.kq(M,O,0);n.t2(M,O,w.D.rect);O+=16;n.wH(M,O,w.D.color);
O+=1;gC.a2(w.D,M,O,Z);O+=1;if(Z){if(w.u$){gC.au9(M,O,w.u$);O+=18}n.wH(M,O,15);O+=1;n.wH(M,O,b?b.lq:255);
O+=1;n.qc(M,O,b?b.Yo:0);O+=8;n.wH(M,O,D?D.lq:255);O+=1;n.qc(M,O,D?D.Yo:0);O+=8;O++}n.kq(M,o-4,O-o);return O};
gC.lJ=function(w,M){var O=new Q.MX;gC.QG(O,w,M);M+=1;O.color=w[M];M+=1;O.rect=n.WM(w,M);M+=16;return O};
gC.au9=function(w,M,O){gC.a2(O,w,M,!1);M+=1;n.wH(w,M,O.color);M+=1;n.t2(w,M,O.rect);M+=16};gC.QG=function(w,M,O){var b=M[O];
w.Jr=(b>>0&1)==0;w.isEnabled=(b>>1&1)==0;w.Qb=(b>>3&1)==1;return b>>4&1};gC.a2=function(w,M,O,b){var D=0;
if(!w.Jr)D+=1<<0;if(!w.isEnabled)D+=1<<1;if(w.Qb)D+=1<<3;if(b)D+=1<<4;n.wH(M,O,D)};gC.a0a=function(w,M,O){var b=n.A(M,O);
O+=4;for(var U=0;U<b;U++)w.CQ[U]=M[O+U];return O+b};gC.asU=function(w,M,O){n.kq(M,O,w.CQ.length);O+=4;
M.VN(O,40);for(var U=0;U<40;U++){M.data[O+U]=w.CQ[U]}return O+40};function dw(){}dw.TC=function(w,M,O,b){b=dw.aav(M,M.u7,M.Yb,M.Mt,w,O,b);
return b};dw.qf=function(w,M,O,b,D,o){b=dw.a43(w,M,O,b,D,o);return b};dw.aav=function(w,M,O,b,D,o,Z){var $=D.Rv,k={},E=Z;
for(var U=0;U<$.length;U++){var t=$[U],c=t.id,l=t.length,q;if(c==-3)q=D.u$.rect;else if(c==-2)q=D.D.rect;
else q=D.rect;var d=dw.Rt(M,O,o,q.e,q.n,Z,l);Z+=l;if(c==-3)D.u$.channel=d;else if(c==-2)D.D.channel=d;
else k["c"+c]=d}var V=new x.ka(0);V.ip=null;if(b==3){V.o=k.c0;V.w=k.c1;V.L=k.c2;V.ip=k["c-1"]}else if(b==1){V.o=k.c0;
V.w=k.c0;V.L=k.c0;V.ip=k["c-1"]}else if(b==4){var L=w.A3.r1039,e=k.c0,H=k.c1,j=k.c2,g=k.c3;if(L){var K=L.atJ,a=17;
if(K==null){var T=ICC.R(L.buffer);console.log(T);K=L.atJ=ICC.U.sampleLUT(T,a)}var C={o:e,w:H,L:j,ip:g},F=x.$(e.length*4);
x.RB(C,F);x.ZW(F);ICC.U.applyLUT4(K,a,F,F);x.tb(F,C)}else{for(var U=0;U<e.length;U++){var m=1-e[U]*(1/255),N=1-H[U]*(1/255),v=1-j[U]*(1/255),h=1-g[U]*(1/255),P=UDOC.C.cmykToRgb([m,N,v,h]);
e[U]=P[0]*255;H[U]=P[1]*255;j[U]=P[2]*255}}V.o=e;V.w=H;V.L=j;V.ip=k["c-1"]}if(V.o==null)V.o=x.$(0);if(V.ip==null&&V.o!=null){V.ip=V.o.slice(0);
V.ip.fill(255)}if(V.w==null)V.w=V.o.slice(0);if(V.L==null)V.L=V.o.slice(0);D.buffer=x.$(Math.max(0,D.rect.v()*4));
x.RB(V,D.buffer);return Z};dw.a43=function(w,M,O,b,D,o){var Z=M.amm(),$=new x.ka(M.rect.v());x.tb(M.buffer,$);
for(var U=0;U<Z.length;U++){var k=Z[U],E,t;if(k==-3)E=M.u$.rect;else if(k==-2)E=M.D.rect;else E=M.rect;
if(k==-3)t=M.u$.channel;if(k==-2)t=M.D.channel;if(k==-1)t=$.ip;if(k==0)t=$.o;if(k==1)t=$.w;if(k==2)t=$.L;
O.VN(b,E.v()*3+4);var c=b;b=dw.el(w,t,O.data,E.e,E.n,b,o[1]?3:1);var l=b-c;if(w)n.qM(O.data,D+U*10+2,l);
else n.oS(O.data,D+U*6+2,l)}return b};dw.Rt=function(w,M,O,b,D,o,Z){var $=n.z0(O,o);o+=2;return dw.yb(w,M,O,b,D,o,$,Z-2)};
dw.el=function(w,M,O,b,D,o,Z){n.qU(O,o,Z);o+=2;o=dw.SY(w,M,O,b,D,o,Z);return o};dw.yb=function(w,M,O,b,D,o,Z,$){var k,E=b*D*(M>>>3),t=E&3,c=E+(t==0?0:4-t);
if($<=0){return x.$(c)}if(Z>3){console.log("unknown compression: "+Z,b,D,b*D,$);Z=0}if(Z==0){if(o+c<=O.length)k=O.slice(o,o+c);
else{k=x.$(E);for(var U=0;U<E;U++)k[U]=O[o+U]}o+=E}else if(Z==1){k=x.$(E);var l=w?4:2,q=dw.oA(O,k,b,D,o,o+l*D,l);
o+=l*D+q}else if(Z==2||Z==3){var d=new Uint8Array(O.buffer,o+2,$-6),V=x.$(c);UZIP.inflateRaw(d,V);if(Z==3){if(M==8)for(var L=0;
L<D;L++){var e=L*b+1,H=e+b-1,j=V[e-1];for(var g=e;g<H;g++){j+=V[g];V[g]=j&255}}else for(var L=0;L<D;
L++){var e=L*b+1,H=e+b-1,j=V[2*e-2]<<8|V[2*e-1];for(var g=e;g<H;g++){var K=g<<1;j+=V[K]<<8|V[K+1];V[K]=j>>>8;
V[K+1]=j&255}}}if(V.length==c)k=V;else{k=x.$(c);for(var U=0;U<V.length;U++)k[U]=V[U]}}if(M==16){var T=x.$(b*D);
for(var U=0;U<E;U+=2)T[U>>>1]=k[U];k=T}return k};dw.SY=function(w,M,O,b,D,o,Z){var $=b*D;if(Z==0)for(var U=0;
U<$;U++)O[o++]=M[U];else if(Z==1){var k=w?4:2,E=dw.BG(M,O,b,D,o,o+k*D,k);o+=k*D+E}else if(Z==2||Z==3){if(Z==3){var t=new Uint8Array(M.length);
for(var c=0;c<D;c++){var l=c*b+1,q=l+b-1,d=M[l-1];t[l-1]=d;for(var V=l;V<q;V++){t[V]=M[V]+(256-d)&255;
d=M[V]}}M=t}O[o]=120;O[o+1]=156;o+=2;var L=pako.deflateRaw(M,{ar$:4});n.b0(O,o,L);o+=L.length+4}else console.log("Unknown compression: "+Z);
return o};dw.oA=function(w,M,O,b,D,o,Z){if(!(w instanceof Uint8Array)||!(M instanceof Uint8Array))throw"e";
var $=o,k=b|0;if(Z==2)for(var U=0;U<k;U++){var E=n.z0(w,D+(U<<1));dw.dT(w,o,E,M,U*O,O);o+=E}else for(var U=0;
U<k;U++){var E=n.A(w,D+(U<<2));dw.dT(w,o,E,M,U*O,O);o+=E}return o-$};dw.BG=function(w,M,O,b,D,o,Z){var $=o;
if(Z==2)for(var U=0;U<b;U++){var k=dw.Tv(w,U*O,O,M,o);n.Qv(M,D+U*2,k);o+=k}else for(var U=0;U<b;U++){var k=dw.Tv(w,U*O,O,M,o);
n.oS(M,D+U*4,k);o+=k}return o-$};dw.Tv=function(w,M,aq,O,b){var D,o,Z,$,k,hb,E;$=M+aq;for(Z=M,o=b;aq>0;
Z=D,aq-=hb){E=aq<128?aq:128;if(Z<=$-3&&w[Z+1]==w[Z+0]&&w[Z+2]==w[Z+0]){for(D=Z+3;D<Z+E&&w[D]==w[Z+0];
)++D;hb=D-Z;O[o++]=1+256-hb;O[o++]=w[Z+0]}else{for(D=Z;D<Z+E;)if(D<=$-3&&w[D+1]==w[D+0]&&w[D+2]==w[D+0])break;
else++D;hb=D-Z;O[o++]=hb-1;for(var U=0;U<hb;U++)O[o+U]=w[Z+U];o+=hb}}return o-b};dw.dT=function(w,M,O,b,D,o){for(var Z=0;
Z<O;){var aq=w[M++];if(aq>=128){var $=w[M++],k=D+(257-aq);b.fill($,D,k);D=k;Z+=2}else{for(var U=0;U<=aq;
U++)b[D+U]=w[M+U];M+=aq+1;D+=aq+1;Z+=1+1+aq}}};function b7(){}b7.lh=function(w,M,O){return;var b="",D=M;
while(D!=0){var o=D%1e3+"";while(o.length<3)o="0"+o;b=(b==""?o:o+" ")+b;D=Math.floor(D/1e3)}while(b.startsWith("0")&&b!="0")b=b.slice(1);
while(b.length<11)b=" "+b;console.log("===",b,"\t".repeat(w),": "+O)};b7.aiP=function(w){var M={A3:{}},b=0,D=0,$;
M.u7=!1;M.Yb=8;var O=new Uint8Array(w);D=b7.lo(M,O,b);b=D;D=b7.Q7(M,O,b);b=D;var o=n.A(O,b);b+=4+o;var Z=M.u7?8:4;
if(M.u7)$=n.C4(O,b);else $=n.A(O,b);b+=Z+$;D=b7.l8(M,O,b);return[{fJ:new cn(0,0,M.e,M.n),data:M.buffer.buffer}]};
b7.TC=function(w,M){M.u7=!1;M.Yb=8;var O=new Uint8Array(w),b=0,D=0,f,cc=!1,kr=!0,hG=!1,hi=0,cA=0;D=b7.lo(M,O,b);
b7.lh(0,D-b,"PSD Header");b=D;D=b7.Q7(M,O,b);b7.lh(0,D-b,"Color Mode Data");b=D;D=b7.akc(M,O,b);b7.lh(0,D-b,"Image Resources");
b=D;D=b7.an0(M,O,b);b7.lh(0,D-b,"Layer And Mask Info");b=D;D=b7.l8(M,O,b);b7.lh(0,D-b,"Merged Image");
b=D;if(M.B.length==0){var o=M.uV();o.EJ("Background");M.B.push(o);o.buffer=M.buffer.slice(0);o.rect=new cn(0,0,M.e,M.n)}if(M.A3.r1005){M.Z1=n.a7k(M.A3.r1005,0)}if(M.A3.r1026){var O=M.A3.r1026;
for(var U=0;U<O.length;U+=2){var D=M.B[U>>>1];if(D)D.nT=n.z0(O,U)}}if(M.A3.r1072){var O=M.A3.r1072;for(var U=0;
U<O.length;U++){var D=M.B[U];if(D)D.q_=O[U]==1}}if(M.A3.r1032){M.lX=b7.KE(M.A3.r1032,0)}delete M.A3.r1036;
M.K5(M.A3.r1039);if(M.A3.r1050){var Z=n.A,$=M.A3.r1050,k=n.A($,0);if(k==6){var E=4,t=n.WM($,E);E+=16;
var c=n.vo($,E);E+=4+c.length*2;var l=Z($,E);E+=4;var q=M.iW;for(var U=0;U<l;U++){var d=y.uW.ik(),L;
q.push(d);d=d.v;d.sliceID.v=Z($,E);E+=4;d.groupID.v=Z($,E);E+=4;var V=Z($,E);E+=4;if(V==1){L=Z($,E);
E+=4}var c=n.vo($,E);E+=4+c.length*2;var e=Z($,E);E+=4;var H=[Z($,E),Z($,E+4),Z($,E+8),Z($,E+12)];E+=16;
y.uW.Rq(q,q.length-1,H);var j=d.url.v=n.vo($,E);E+=4+j.length*2;var g=d.null.v=n.vo($,E);E+=4+g.length*2;
var K=d.Msge.v=n.vo($,E);E+=4+K.length*2;var a=d.altTag.v=n.vo($,E);E+=4+a.length*2;d.cellTextIsHTML.v=$[E]==1;
E++;var T=d.cellText.v=n.vo($,E);E+=4+T.length*2;var C=Z($,E);E+=4;var F=Z($,E);E+=4;var m=$.slice(E,E+4);
E+=4;if(V!=2)q.pop()}}else if(k==8){var N={};dO.m2($,N,8,!1);var $=M.iW=N.slices.v;for(var U=0;U<$.length;
U++){if($[U].v.origin.v.ESliceOrigin!="userGenerated"){$.splice(U,1);U--}}}}if(M.A3.r1058){var v=M.A3.r1058,h=UTIF.decode(v.buffer,{parseMN:!1,debug:!1});
e8.dx(h[0],M.At);delete M.A3.r1058}if(M.A3.r1060){var P=n.AL(M.A3.r1060);e8.avS(P,M.At);delete M.A3.r1060}if(M.A3.r1065){var O=M.A3.r1065;
M.en={};dO.m2(O,M.en,4,!1)}if(M.A3.r1069){var O=M.A3.r1069,J=[];for(var U=2;U<O.length;U+=4){var L=n.A(O,U);
for(var Y=0;Y<M.B.length;Y++){var D=M.B[Y];if(D.add.lyid==L&&D.add.lsct!=3)J.push(Y)}}M.g=J}if(M.A3.r1025){var B=M.A3.r1025;
delete M.A3.r1025;var S=dL.V1(B,0,B.length,M.e,M.n),r=new Q.G6;r.j=S;M.IB[0]=fO.aq("Working Path",{vmsk:r})}var I=M.add.pths;
delete M.add.pths;var s=M.A3.r3000;if(s){f={};dO.m2(s,f,4,!1);delete M.A3.r3000}if(I){var W=I.pathSymmetrySelectedPath;
if(W){var i=I.pathList.v[W.v].v,u=i.pathUnicodeName.v;M.i7=u.startsWith("Tile Symmetry")}}for(var z=0;
z<=997;z++){var G="r"+(2e3+z),B=M.A3[G];if(B==null)break;var S=dL.V1(B,0,B.length,M.e,M.n),u="Path "+z;
if(I){var g_=I.pathList.v[z].v;u=g_.pathUnicodeName.v;if(u=="Tile Symmetry 1")continue}var cl=f?f.keyRootDescriptorList.v[z].v.keyDescriptorList.v:Q.De(S),r=new Q.G6;
r.j=S;M.IB.push(fO.aq(u,{vmsk:r,vogk:cl}));delete M.A3[G]}delete M.u7;var p=M.A3.r7000,b2=M.A3.r7001;
if(p){var jz=n.AL(p);M.cU=b7._c(jz)}if(b2){var jz=n.AL(b2);M.nX=b7.m5(jz)}delete M.A3.r7000;delete M.A3.r7001;
var aT=new cn(0,0,M.e,M.n),fZ=M.add.Txt2,ft=fZ;if(ft){ft=ft.zv;if(ft._DocumentResources==null)ft=eN.ad1(ft)}for(var U=0;
U<M.B.length;U++){var D=M.B[U],bU=D.add.lsct,ic=D.add.vmsk,iQ=D.yo();if(bU==ht.z5){hi++;D.add.lspf=0}else if(bU==ht.cx||bU==ht.xe)hi--;
if(D.name==""){D.name="Layer "+(U+1);hG=!0}if(hG&&D._N()&&D.eI=="norm")D.eI="pass";if(D.Kf()&&D.k1(M).D){var bx=D.k1(M);
bx.D.isEnabled=D.add.SoLd.filterFX.v.filterMaskEnable.v}if(ic&&D.XS()){var aR=aN.d_.default;if(D.add.vstk==null)D.add.vstk=JSON.parse(JSON.stringify(aR));
else{var gs="strokeStyleLineDashSet";if(D.add.vstk[gs]==null)D.add.vstk[gs]=JSON.parse(JSON.stringify(aR[gs]))}D.add.vstk.strokeStyleResolution.v=M.Z1}if(ic&&(D.add.vogk==null||x.O.wW(ic.j)!=D.add.vogk.length))D.De();
if(ic){var k7=D.add.vogk,fT=!0;for(var aH=0;aH<k7.length;aH++){var e7=k7[aH].v.keyShapeInvalidated;if(e7==null||e7.v==!1)fT=!1}if(fT)D.De()}if(D.add.SoLd&&D.rect.S9()){console.log("redrawing smart instance");
D.Gf(M)}if(iQ==null&&D.D!=null){if(D.D.Qb==!1){D.D.Qb=!0;D.u$=D.D.clone()}}iQ=D.yo();if(D.Fx){var aR=D.Fx,r=ic;
if(iQ){iQ.lq=aR[0];iQ.Yo=aR[1]}if(r){r.lq=aR[2];r.Yo=aR[3]}D.Fx=null}if(iQ!=null&&ic!=null&&(iQ.Yo+ic.Yo!=0||iQ.lq+ic.lq!=2*255))D.h1(M);
else if(ic!=null&&!D.XS())D.h1();else if(iQ&&iQ.lq!=255&&D.XS())D.h1(M);var dB=D.add.artb;if(dB&&dB.artboardBackgroundType==null)dB.artboardBackgroundType={t:"long",v:1};
if(dB&&hi!=0)delete D.add.artb;var ia=D.add.vstk;if(D.XS()&&(D.rect.S9()||ic&&ic.Yo!=0||ia&&!ia.fillEnabled.v&&(!ia.strokeEnabled.v||ia.strokeStyleLineWidth.v.val==0)))D.v4(M);
if(D.add.TySh){cc=!0;if(!D.rect.S9())kr=!1}if(D.add.TySh&&ft){var d7=D.add.TySh.Fq.TextIndex.v;if(d7==-1)continue;
var hf=D.add.TySh.GM,gv=ah.g9(hf),hN=ft._DocumentObjects._TextObjects;if(hN.length<=d7){console.log("Txt2 incomplete");
continue}var hP=hN[d7]._Model,gP=hP._StyleRun?hP._StyleRun._RunArray:[],aB=hf.EngineDict.StyleRun.RunArray;
for(var i7=0;i7<aB.length;i7++){var dI=aB[i7].StyleSheet.StyleSheetData;if(gP[i7]==null)continue;var gh=gP[i7]._RunData._StyleSheet._Features;
if(gh&&gh._BaselineDirection)dI.BaselineDirection=parseInt(gh._BaselineDirection.slice(1));if(gh&&gh._FillBackgroundFlag)dI._FillBackgroundFlag=gh._FillBackgroundFlag;
if(gh&&gh._FillBackgroundColor){var b9=gh._FillBackgroundColor,ij=b9._Color._Values.slice(0);for(var Y=0;
Y<4;Y++)ij[Y]=parseFloat(ij[Y].slice(1));dI._FillBackgroundColor={Type:1,Values:ij}}if(gh&&gh._LineWidth)dI._LineWidth=parseFloat(gh._LineWidth.slice(1))}var ax=hf.EngineDict.ParagraphRun.RunArray,iX=hP._ParagraphRun._RunArray;
if(iX==null)iX=[];var am=Math.min(iX.length,ax.length);for(var Y=0;Y<am;Y++){var jf=ax[Y].ParagraphSheet.Properties,eJ=ft._DocumentResources._ParagraphSheetSet._Resources,hZ=iX[Y]._RunData._ParagraphSheet;
if(typeof hZ=="string")hZ=eJ[parseInt(hZ.slice(1))]._Resource;var hC=hZ._Parent==null?hZ:eJ[parseInt(hZ._Parent.slice(1))]._Resource;
hZ=hZ._Features;hC=hC._Features;var ds=hZ._ParagraphDirection;if(ds==null)ds=hC._ParagraphDirection;
if(ds)jf._Direction=parseInt(ds.slice(1));if(hZ._ComposerEngine)jf._ComposerEngine=parseInt(hZ._ComposerEngine.slice(1))}if(hP._AlternateGlyphRun){var iX=hP._AlternateGlyphRun._RunArray,am=iX.length,hV=hf.EngineDict.AlternateGlyphRun=ah.acP();
for(var Y=0;Y<am;Y++){var hZ=iX[Y],bv={},hl=hZ._RunData._AlternateGlyphSheet;if(hl)bv.Glyph=parseInt(hl._Glyph.slice(1));
hV.RunArray.push(bv);hV.RunLengthArray.push(parseInt(hZ._Length.slice(1)))}}var jQ=ft._DocumentResources,a$=jQ._TextFrameSet._Resources,jB=a$[d7]._Resource,jL=jB._Data,c1=new f$(1,0,0,1,0,0);
if(jB._0){var fd=parseFloat(jB._0[0].slice(1)),g2=parseFloat(jB._0[1].slice(1));c1.translate(fd,g2)}if(gv){c1.translate(gv[0],gv[1]);
ah.h4(hf,[0,0,gv[2]-gv[0],gv[3]-gv[1]])}else{if(jB._Bezier&&jB._Bezier._Points){var S=jB._Bezier._Points,fd=parseFloat(S[0].slice(1)),g2=parseFloat(S[1].slice(1));
if(fd!=0||g2!=0){c1.translate(fd,g2)}}}if(jB._Data&&jB._Data._FrameMatrix){var ed=jB._Data._FrameMatrix;
ed=ed.map(function(hJ){return parseFloat(hJ.slice(1))});c1.concat(new f$(ed[0],ed[1],ed[2],ed[3],ed[4],ed[5]))}c1.concat(D.add.TySh.F);
D.add.TySh.F=c1;var e=jL._Type?parseInt(jL._Type.slice(1)):0;if(e==2||e==1&&jL._PathData&&jL._PathData._Spacing=="i-3")if(jB._Bezier){var ip=function(hJ){return parseFloat(hJ.slice(1))},S=jB._Bezier._Points.map(ip);
if(gv)x.p.F(S,new f$(1,0,0,1,-gv[0],-gv[1]),S);var bS=jL._PathData?jL._PathData._Reversed:!1,hg=jL._TextOnPathTRange;
if(hg==null)hg=["f-3","f-3"];hf.Curve={Points:S,TextOnPathTRange:hg.map(ip),Reversed:bS==null?!1:bS};
D.add.TySh.add={vmsk:new Q.G6,vogk:null};ah.mL(D.add.TySh)}if(jL._LineOrientation=="i2")hf._LineOrientation=2}}y.E8.ir(M,!0);
var dZ={},j$=[];for(var U=0;U<M.B.length;U++){var iK=M.B[U].add.lyid;if(iK==null)continue;var cA=Math.max(cA,iK);
if(dZ[iK]!=null)j$.push(U);else dZ[iK]=!0}for(var U=0;U<j$.length;U++)M.B[j$[U]].add.lyid=cA+1+U};b7.KE=function(w,M){var O=n.A(w,M+12),b=[];
for(var U=0;U<O;U++){var D=w[M+16+U*5+4],o=n.$g(w,M+16+U*5)/32;b.push([D,o])}return b};b7._c=function(w){var M=new DOMParser,O=M.parseFromString(w,"text/xml").firstChild.children[0],b=O.getElementsByTagName("variables");
if(b.length==0)return[];b=b[0].children;var D=[],o="varName trait docRef placementMethod align valign clip".split(" ");
for(var Z=0;Z<b.length;Z++){var $=b[Z],k={};D.push(k);for(var E=0;E<o.length;E++){var t=o[E],c=$.getAttribute(t);
if(c==null)continue;k[t]=c}}return D};b7.m5=function(w){var M=new DOMParser,O=M.parseFromString(w,"text/xml").firstChild.children,b=[[]];
if(O==null)return b;for(var U=0;U<O.length;U++){var D=O[U],o=[];b.push(o);for(var Z=0;Z<D.children.length;
Z++){var $=D.children[Z];if(U==0)b[0].push($.tagName);o.push($.textContent)}}return b};b7.c5=function(w,M,O){y.E8.kJ(w);
y.E8.ir(w,!1);w.u7=O[3]==!0;var b=[],D=[],d=0,L=1,a=16,hG=0;for(var U=0;U<w.B.length;U++){var o=w.B[U];
if(o.Kf()&&o.k1(w).D){o.add.SoLd.filterFX.v.filterMaskEnable.v=o.k1(w).D.isEnabled}if(o.add.TySh){var Z=o.add.TySh.GM,$=ah.SJ(Z);
o.add.TySh.Fq.TextIndex={t:"long",v:b.length};b.push(Z);if($==2)ah._W(o.add.TySh)}var k=o.add.vstk;if(k)k.strokeStyleResolution.v=w.Z1;
if(o.XS()||O[2]&&o.add.SoLd){D[U]=[o.rect,o.buffer];o.rect=new cn;o.buffer=x.$(0);if(o.add.SoLd){var E=o.k1(w);
if(E!=null){D[U].push(E.buffer);E.buffer=x.$(E.buffer.length)}}}}if(b.length>0){var t=w.add.Txt2?w.add.Txt2.zv:null;
if(w.add.Txt2==null)w.add.Txt2={};w.add.Txt2.zv=bO.atS(b,null,t)}var c=[w.add.lnk2,w.add.FEid,w.add.Patt],l=w.apG(w.B);
w.al3(l);w.A3.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]);n.ZY(w.A3.r1005,0,w.Z1);n.ZY(w.A3.r1005,8,w.Z1);
if(w.kD()){w.A3.r1022=new Uint8Array([0,3+w.SN.length-1,0])}else delete w.A3.r1022;var q=new Uint8Array(w.B.length*2),V=new Uint8Array(w.B.length);
for(var U=0;U<w.B.length;U++){var o=w.B[U],e=o.nT,H=o.q_?1:0;n.Qv(q,U*2,e);V[U]=H;if(e>d)d=e;if(H==0)L=0}if(d>0)w.A3.r1026=q;
if(L<1)w.A3.r1072=V;var j=w.lX,g=j.length,K=w.A3.r1032=x.$(16+5*g,!0);n.oS(K,0,1);n.oS(K,4,576);n.oS(K,8,576);
n.oS(K,12,g);for(var U=0;U<g;U++){n.TQ(K,a,Math.round(j[U][1]*32));K[a+4]=j[U][0];a+=5}if(O[0]!=!0){var T=[w.buffer,new cn(0,0,w.e,w.n)],C=0;
x.aS(T);while(T[C+1].v()>200*200)C+=2;var F=ce.ti("jpg"),m=T[C+1],N=new Uint8Array(F.WV([[T[C].buffer]],m.e,m.n)),K=w.A3.r1036=x.$(28+N.length);
n.oS(K,0,1);n.oS(K,4,m.e);n.oS(K,8,m.n);n.oS(K,12,m.e*3);n.oS(K,16,m.v()*3);n.oS(K,20,N.length);n.Qv(K,24,24);
n.Qv(K,26,1);K.set(N,28)}var v=x.pl(w.buffer),h=[];if(v)h.push({name:"Transparency",RF:{o:255,w:0,L:0},s$:100,kB:1});
h=h.concat(w.SN);delete w.A3.r1045;delete w.A3.r1006;delete w.A3.r1077;var P=new id;a=0;var J=new Uint8Array(4+h.length*13);
J[3]=1;for(var U=0;U<h.length;U++){var Y=h[U],B=Y.name+"\0";n.Mj(P,a,B);a+=4+B.length*2;var S=4+U*13;
eO.oL(J,S,Y.RF);J[S+11]=Y.s$;J[S+12]=Y.kB}w.A3.r1045=P.data.slice(0,a);w.A3.r1077=J;for(var U=0;U<w.iW.length;
U++)w.iW[w.iW.length-U-1].v.sliceID.v=2+U*3;var r={classID:"null",baseName:{t:"TEXT",v:"User"},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},slices:{t:"VlLs",v:w.iW}},P=new id;
n.kq(P,0,8);n.kq(P,4,16);var I=dO.kS(P,r,8);w.A3.r1050=P.data.slice(0,I+8);var P=new id;n.kq(P,0,16);
var I=dO.kS(P,w.en,4);w.A3.r1065=P.data.slice(0,I+4);var f=w.g;K=w.A3.r1069=x.$(2+f.length*4,!0);n.Qv(K,0,f.length);
for(var U=0;U<f.length;U++)n.oS(K,2+4*U,w.B[f[U]].add.lyid);delete w.A3.r1058;delete w.A3.r1060;if(Object.keys(w.At).length!=0){var s=[{t274:[1],t282:[[72,1]],t283:[[72,1]],t296:[2]},{t259:[6],t282:[[72,1]],t283:[[72,1]],t296:[2],t513:[302],t514:[0]}];
e8.U8(w.At,s[0],O[0]&&O[1]);w.A3.r1058=new Uint8Array(UTIF.encode(s));var W=e8.anU(w.At);w.A3.r1060=n.qs(W)}var i=[],u=[],z=w.IB.slice(0);
if(w.i7){var G=dL.q9([{type:6},{type:8,all:0},{type:3,length:5,frule:1,third:2,prmA:0,prmB:0},{type:5,c:[0,0,0,0,0,0]},{type:5,c:[20,0,20,0,20,0]},{type:5,c:[20,20,20,20,20,20]},{type:5,c:[0,20,0,20,0,20]},{type:5,c:[0,0,0,0,0,0]}]),g_=new Q.G6;
g_.j=G;z.push(fO.aq("Tile Symmetry 1",{vmsk:g_,vogk:Q.De(G)}))}for(var U=0;U<z.length;U++){var cl=z[U],G=cl.add.vmsk.j;
if(U==0&&G.length==2)continue;var p=x.$(G.length*26);dL.Dv(p,0,G,w.e,w.n);var b2=U==0?1025:2e3+U-1;w.A3["r"+b2]=p;
if(U!=0){var jz={classID:"pathInfoClass",pathUnicodeName:{t:"TEXT",v:cl.name}};if(cl.name=="Tile Symmetry 1")jz.pathSymmetryClass={t:"Objc",v:{classID:"pathSymmetryClass",pathSymmetryMode:{t:"enum",v:{pathSymmetryModeEnum:"pathSymmetryModeRectangularTile"}},pathSymmetryCount:{t:"long",v:1}}};
i.push({t:"Objc",v:jz});u.push({t:"Objc",v:{classID:"null",keyDescriptorList:{t:"VlLs",v:cl.add.vogk}}})}}if(i.length!=0){w.add.pths={classID:"pathsDataClass",pathList:{t:"VlLs",v:i}};
if(w.i7)w.add.pths.pathSymmetrySelectedPath={t:"long",v:i.length-1};u={classID:"null",keyRootDescriptorList:{t:"VlLs",v:u}};
var P=new id;n.kq(P,0,16);var I=dO.kS(P,u,4);w.A3.r3000=P.data.slice(0,I+4)}else{delete w.add.pths;delete w.A3.r3000}if(w.cU.length!=0){var aT="<variableSets xmlns=\"http://ns.adobe.com/Variables/1.0/\">\n"+"<variableSet locked=\"none\" varSetName=\"binding1\">\n"+"<variables>";
for(var U=0;U<w.cU.length;U++){var fZ=w.cU[U],ft=[];for(var b2 in fZ)ft.push(b2+"=\""+fZ[b2]+"\"");aT+="<variable "+ft.join(" ")+">\n</variable>\n"}aT+="</variables>\n</variableSet>\n</variableSets>";
w.A3.r7000=n.qs(aT)}if(w.nX.length!=0){var aT="<sampleDataSets psdPath=\""+w.name+"\">\n";for(var U=1;
U<w.nX.length;U++){var cc=w.nX[U];aT+="<sampleDataSet dataSetName=\"Data Set "+U+"\">\n";for(var kr=0;
kr<cc.length;kr++)aT+="<"+w.nX[0][kr]+">"+cc[kr].replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</"+w.nX[0][kr]+">\n";
aT+="</sampleDataSet>\n"}aT+="</sampleDataSets>";w.A3.r7001=n.qs(aT)}hG=b7.aqs(w,M,hG,3+h.length);hG=b7.a5V(w,M,hG);
hG=b7.aoE(w,M,hG);hG=b7.aqk(w,M,hG,O,v);hG=b7.aot(w,M,hG,O[0],v);var hi=[1025,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,7e3,7001];
for(var U=0;U<hi.length;U++)delete w.A3["r"+hi[U]];for(var U=0;U<w.B.length;U++){var o=w.B[U];if(o.XS()||O[2]&&o.add.SoLd){o.rect=D[U][0];
o.buffer=D[U][1];if(D[U][2]){var E=o.k1(w);D[U].push(E.buffer);E.buffer=D[U][2]}}}w.al3(c);y.E8.ir(w,!0);
delete w.u7;return hG};b7.lo=function(w,M,O){var b=n.TP(M,O,4);O+=4;if(b!="8BPS")alert("invalid header signature: "+b);
var D=n.z0(M,O);O+=2;w.u7=D==2;if(D!=1&&D!=2)alert("invalid version: "+D);O+=6;w.sB=n.z0(M,O);O+=2;w.n=n.$g(M,O);
O+=4;w.e=n.$g(M,O);O+=4;w.Yb=n.z0(M,O);O+=2;w.Mt=n.z0(M,O);O+=2;return O};b7.aqs=function(w,M,O,b){M.VN(0,64);
n.X8(M.data,O,"8BPS");O+=4;n.Qv(M.data,O,w.u7?2:1);O+=2;n.oS(M.data,O,0);O+=4;n.Qv(M.data,O,0);O+=2;
n.Qv(M.data,O,b);O+=2;n.TQ(M.data,O,w.n);O+=4;n.TQ(M.data,O,w.e);O+=4;n.Qv(M.data,O,8);O+=2;n.Qv(M.data,O,3);
O+=2;return O};b7.Q7=function(w,M,O){var b=n.$g(M,O);O+=4;if(b!=0)w.HS=M.slice(O,O+b);O+=b;return O};
b7.a5V=function(w,M,O){n.a6(M,O,0);O+=4;return O};b7.akc=function(w,M,O){var b=n.A(M,O),D=0;O+=4;var o=[];
while(D<b){var Z=n.TP(M,O+D,4);D+=4;var $=n.z0(M,O+D);D+=2;var k=n.gm(M,O+D);D+=k.length;if(Z=="MeSa"&&($==7e3||$==7001)){}else if(Z!="8BIM"){o.push($);
console.log("Unknown Image Resources signature: "+Z+", ID: "+$)}var E=n.A(M,O+D);D+=4;if(w.A3["r"+$]!=null)console.log("--- two resources with same ID");
w.A3["r"+$]=n.RQ(M,O+D,E);D+=E+(E&1)}for(var U=0;U<o.length;U++)delete w.A3["r"+o[U]];return O+b};b7.aoE=function(w,M,O){var b=O,Z=0;
O+=4;var D=[];for(var o in w.A3){D.push(parseInt(o.slice(1)))}D.sort(function(c,l){return c-l});for(var U=0;
U<D.length;U++){var $=D[U];n.CD(M,O+Z,$==7e3||$==7001?"MeSa":"8BIM");Z+=4;n.yT(M,O+Z,$);Z+=2;var k=n.Zv(M,O+Z,"");
Z+=k;var E=w.A3["r"+$],t=E.length;n.kq(M,O+Z,t);Z+=4;n.Wd(M,O+Z,E);Z+=t;if(t%2==1)Z++}n.kq(M,b,Z);return O+Z};
b7.an0=function(w,M,O){var b=O,D,o,Z=w.u7?8:4;if(w.u7)D=n.C4(M,O);else D=n.A(M,O);O+=Z;if(D==0)return b+Z;
o=b7.awG(w,M,O);b7.lh(1,o-O,"Layer Info");O=o;o=b7.ad_(w,M,O);b7.lh(1,o-O,"Global Layer Mask Info");
O=o;o=jb.OX(M,O,b+Z+D,w.add,w.u7,w);b7.lh(1,o-O,"Project Add Info");O=o;return b+Z+D};b7.aqk=function(w,M,O,b,D){var o=O;
n.kq(M,O,0);O+=4;if(w.u7){n.kq(M,O,0);O+=4}O=b7.ajr(w,M,O,b,D);O=b7.arz(w,M,O);O=jb.ul(M,O,w.add,w.u7,w);
if(w.u7)n.md(M,o,O-o-8);else n.kq(M,o,O-o-4);return O};b7.awG=function(w,M,O){var b,D=w.u7?8:4;if(w.u7)b=n.C4(M,O);
else b=n.A(M,O);O+=D;if(b!=0)b7.UP(w,M,O);return O+b};b7.UP=function(w,M,O){var b=n.iV(M,O);O+=2;var D=Math.abs(b);
for(var U=0;U<D;U++){var o=new Q;O=gC.TC(o,w,M,O);w.B[U]=o}var Z=new cn(0,0,w.e,w.n);for(var U=0;U<D;
U++){var $=w.B[U],k=$.yo(),E=dw.TC($,w,M,O);if(E-O>8)b7.lh(2,E-O,"Lay: "+$.getName());O=E;b7._S($,Z);
if(k)b7._S(k,Z)}};b7._S=function(w,M){var O=w.rect.v(),b=w.rect.mX(M),D=b.v()/O;if(O>2e3*3e3&&D<.5){if(w.buffer){var o=x.$(b.v()*4);
x.xu(w.buffer,w.rect,o,b);w.buffer=o;w.rect=b}else{var o=x.$(b.v());x.CV(w.channel,w.rect,o,b);w.channel=o;
w.rect=b}alert("Removing hidden parts of layers")}};b7.ajr=function(w,M,O,b,D){var o=O,Z=w.u7;O+=Z?8:4;
O=b7.ah3(w,M,O,b,D);var $=O-o-(Z?8:4);if($%2!=0)$++;if(Z)n.md(M,o,$);else n.kq(M,o,$);return o+$+(Z?8:4)};
b7.ah3=function(w,M,O,b,D){var o=w.B.length;n.AU(M,O,D?-o:o);O+=2;var Z=[];for(var U=0;U<o;U++)O=gC.c5(w.B[U],w,M,O,Z);
for(var U=0;U<o;U++)O=dw.qf(w.u7,w.B[U],M,O,Z[U],b);return O};b7.ad_=function(w,M,O){var b=n.A(M,O);
O+=4;O+=b;return O};b7.arz=function(w,M,O){var b=n.kq(M,O,0);O+=4;return O};b7.l8=function(w,M,O){var b=w.Mt,D="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "),o=[1,1,1,3,4,1,1,3],Z,V;
if(b!=3){if(b==1||b==2||b==4)console.log("Project will be converted from "+D[b]+" to "+D[3]+" mode.");
else{alert("Color mode "+D[b]+" is not supported yet :(")}if(b==4)w.add.fcmy=1}if(w.A3.r1045){Z=[];var $=w.A3.r1045,k=0;
while(k<$.length){var E=n.yQ($,k);Z.push(E);k+=4+2+E.length*2}}var t=o[b]+(Z==null||Z[0]=="Transparency"?1:0),c=w.e,l=w.n,q=c*l,d=n.z0(M,O);
O+=2;w.buffer=x.$(q*4);x.TZ(w.buffer,4278190080);var L=O;for(var e=0;e<w.sB;e++){if(d==0){V=dw.yb(w.u7,w.Yb,M,c,l,O,d);
O+=q*(w.Yb>>>3)}else if(d==1){V=x.$(q);var H=w.u7?4:2;if(e==0)O+=w.sB*l*H;O+=dw.oA(M,V,c,l,L+e*l*H,O,H)}else{console.log("unknown compression of image data: ",d);
return}if(e<t){x.Jm(V,w.buffer,e);if(w.sB==1&&e==0){x.Jm(V,w.buffer,1);x.Jm(V,w.buffer,2)}}else{var j=new Q.MX,g=e-t,K=e-o[w.Mt];
j.name=Z?Z[K]:"Alpha";if(j.name=="Quick Mask"){j.Uy=!0;w.m7.push(g)}j.rect=new cn(0,0,c,l);j.channel=V;
j.color=0;j.Sr();w.SN[g]=j;if(w.A3.r1077){var $=w.A3.r1077.slice(4+K*13);j.RF=eO.Lb($,0);j.s$=$[11];
j.kB=$[12];if(j.kB==2)j.Uy=!0}}}w.sB=4;if(w.Mt==2)for(var U=0;U<q;U++){var a=U*4,T=w.buffer[a];w.buffer[a]=w.HS[0+T];
w.buffer[a+1]=w.HS[256+T];w.buffer[a+2]=w.HS[512+T]}return O};b7.aot=function(w,M,O,b,D){var o=1,Z=16,$=w.e,k=w.n,t,c;
n.yT(M,O,o);O+=2;var E=$*k;if(!b){c=new x.ka($*k);x.tb(w.buffer,c);var l=c.o,q=c.w,d=c.L,V=c.ip;for(var U=0;
U<E;U++){var L=V[U]*(1/255);l[U]=~~(l[U]*L+255*(1-L));q[U]=~~(q[U]*L+255*(1-L));d[U]=~~(d[U]*L+255*(1-L))}}else t=x.$(E);
var e=[t,t,t];if(!b)e=[c.o,c.w,c.L];if(D)e.push(b?t:c.ip);for(var U=0;U<w.SN.length;U++){e.push(w.SN[U].xQ(new cn(0,0,w.e,w.n)))}var H=O;
for(var j=0;j<e.length;j++){M.VN(O,$*k+4);t=e[j];if(o==0||o==2||o==3)O=dw.SY(w.u7,t,M.data,$,k,O,o);
else{var g=w.u7?4:2;if(j==0)O+=e.length*k*g;var K=O;O+=dw.BG(t,M.data,$,k,H+j*k*g,O,g)}}return O};function hU(){}hU.TC=function(w){var M={};
hU.Dc(w,M,0,0);return M};hU.c5=function(w,M){var O=0;O=hU.eK(w,M,O,0);return O};hU.Dc=function(w,M,O,b){while(w[O]!="<".charCodeAt(0))O++;
O+=2;while(!0){if(w[O]=="/".charCodeAt(0)){O++;var D=n.indexOf(w," ".charCodeAt(0),O,O+50),o=n.indexOf(w,"\n".charCodeAt(0),O,O+50);
if(o==-1)o=Infinity;if(D==-1)D=Infinity;var Z=Math.min(o,D),$=n.TP(w,O,Z-O),k=hU.O7(w,Z+1,b+1,$);M[$]=k.G;
O=Z+1;O+=k.size}else if(w[O]==">".charCodeAt(0)){O+=2;break}else{var E=w[O];if(E==10||E==9||E==32)O++;
else{console.log("unknown byte: "+E+", char: "+String.fromCharCode(E),O);O++}}}return O};hU.eK=function(w,M,O,b){n.CD(M,O,"<<\n");
O+=3;var D=hU.ahs;for(var o in w){n.wH(M,O,"\t".charCodeAt(0),b+1);O+=b+1;n.CD(M,O,"/"+o);O+=1+o.length;
if(D(w[o])||w[o]instanceof Array){n.CD(M,O," ");O++}else{n.CD(M,O,"\n");O++;n.wH(M,O,"\t".charCodeAt(0),b+1);
O+=b+1}O=hU.B4(w[o],M,O,b+1);n.CD(M,O,"\n");O++}n.wH(M,O,"\t".charCodeAt(0),b);O+=b;n.CD(M,O,">>");O+=2;
return O};hU.O7=function(w,M,O,b){var D=M,o={size:0,G:0};while(!0){while(w[M]==" ".charCodeAt(0)||w[M]=="\t".charCodeAt(0)||w[M]=="\n".charCodeAt(0))M++;
if(w[M]=="<".charCodeAt(0)){o.G={};M=hU.Dc(w,o.G,M,O+1);break}else if(w[M]=="(".charCodeAt(0)){M+=3;
var Z=M;while(!0){if(w[Z-1]!="\\".charCodeAt(0)&&w[Z]==")".charCodeAt(0)&&(w[Z+1]=="\n".charCodeAt(0)||w[Z+1]==" ".charCodeAt(0)))break;
else Z++}o.G=n.OZ(w,M,Z);M=Z+2;break}else if(w[M]=="[".charCodeAt(0)){M++;o.G=[];while(w[M]==" ".charCodeAt(0)||w[M]=="\t".charCodeAt(0)||w[M]=="\n".charCodeAt(0))M++;
while(w[M]!="]".charCodeAt(0)){var $=hU.O7(w,M,O+1,b);o.G.push($.G);M+=$.size;while(w[M]==" ".charCodeAt(0)||w[M]=="\t".charCodeAt(0)||w[M]=="\n".charCodeAt(0))M++}M++;
break}else{var k=n.indexOf(w," ".charCodeAt(0),M,M+50),E=n.indexOf(w,"\n".charCodeAt(0),M,M+50);if(E==-1)E=Infinity;
if(k==-1)k=Infinity;var t=n.TP(w,M,Math.min(k,E)-M).trim(),c=parseFloat(t);if(!isNaN(c)){o.G=parseFloat(t);
M=Math.min(k,E)+1;break}else if(t=="true"||t=="false"){o.G=t=="true";M=Math.min(k,E)+1;break}else if(t=="null"||t=="NaN"||t=="undefined"){o.G=0;
M=Math.min(k,E)+1;break}else{console.log("unknown identifier: "+t);throw"e"}M=Math.min(k,E)+1}}o.size=M-D;
return o};hU.B4=function(w,M,O,b){if(w instanceof Array){var D=w.length==0||typeof w[0]=="number";if(D){n.CD(M,O,"[ ");
O+=2;for(var U=0;U<w.length;U++){var o=w[U]+" ";n.CD(M,O,o);O+=o.length}n.CD(M,O,"]");O+=1}else{n.CD(M,O,"[\n");
O+=2;for(var U=0;U<w.length;U++){n.wH(M,O,"\t".charCodeAt(0),b);O+=b;O=hU.B4(w[U],M,O,b);n.CD(M,O,"\n");
O++}n.wH(M,O,"\t".charCodeAt(0),b);O+=b;n.CD(M,O,"]");O+=1}}else if(w instanceof Object){O=hU.eK(w,M,O,b)}else if(typeof w=="string"){n.CD(M,O,"(");
O++;n.wH(M,O,254);O++;n.wH(M,O,255);O++;O=n.o6(M,O,w);n.CD(M,O,")");O+=1}else{var o=w+"";n.CD(M,O,o);
O+=o.length}return O};hU.ahs=function(w){var M=typeof w;return M=="string"||M=="number"||M=="boolean"};
function dE(){}dE.TC=function(w){var M={};dE.vJ(w,M,0,0);return M};dE.c5=function(w,M){var O=0;n.CD(M,O," ");
O++;O=dE.S6(w,M,O,0);O--;M.VN(O,2);M.data[O]=M.data[O+1]=0;O+=2;return O};dE.Dc=function(w,M,O,b){while(w[O]!="<".charCodeAt(0)){O++;
console.log("\u0161ipka")}O+=2;O=dE.vJ(w,M,O,b);return O};dE.eK=function(w,M,O,b){n.CD(M,O,"<< ");O+=3;
O=dE.S6(w,M,O,b);n.CD(M,O,">>");O+=2;return O};dE.IV=function(w){return w==9||w==10||w==32};dE.vJ=function(w,M,O,b){while(!0){while(dE.IV(w[O])||w[O]==0)O++;
if(O>=w.length)break;if(w[O]=="/".charCodeAt(0)){O++;var D=O;while(!dE.IV(w[D]))D++;var o=n.TP(w,O,D-O);
O=D+1;var Z=dE.O7(w,O,b,o);M["_"+o]=Z.G;O+=Z.size}else if(w[O]==">".charCodeAt(0)){O+=2;break}else{var $=w[O];
console.log(n.TP(w,O,O+100));console.log("unknown byte: "+$+", char: "+String.fromCharCode($)+", offset: "+O);
O++;throw"e";return-1}}return O};dE.S6=function(w,M,O,b){for(var D in w){var o=D.substring(1,D.length);
n.CD(M,O,"/"+o);O+=1+o.length;n.CD(M,O," ");O++;O=dE.B4(w[D],M,O,b+1);n.CD(M,O," ");O++}return O};dE.O7=function(w,M,O,b){var D=M,o={type:"",size:0,G:0};
while(dE.IV(w[M]))M++;if(w[M]=="<".charCodeAt(0)){o.type="Object";o.G={};M=dE.Dc(w,o.G,M,O+1)}else if(w[M]=="(".charCodeAt(0)){o.type="String";
M++;if(w[M]==")".charCodeAt(0)){o.G="e";M++}else{M+=2;var Z=M,$=0;while(!0){if(w[Z]==")".charCodeAt(0)&&w[Z-1]!="\\".charCodeAt(0))break;
else Z+=1}o.G="s"+n.OZ(w,M,Z);M=Z+2}}else if(w[M]=="[".charCodeAt(0)){M++;o.G=[];o.type="Array";while(dE.IV(w[M]))M++;
while(w[M]!="]".charCodeAt(0)){var k=dE.O7(w,M,O+1,b);if(k==-1)return-1;o.G.push(k.G);M+=k.size;delete k.size;
while(dE.IV(w[M]))M++}M++}else{var E=M;while(!dE.IV(w[E]))E++;var t=n.TP(w,M,E-M),c=parseFloat(t);if(!isNaN(c)&&t.indexOf(".")!=-1){o.type="Float";
var l=parseFloat(t);o.G="f"+l}else if(!isNaN(c)&&t.indexOf(".")==-1){o.type="Integer";o.G="i"+parseInt(t)}else if(t=="true"||t=="false"){o.type="Boolean";
o.G=t=="true"}else if(t.charAt(0)=="/"){o.type="BString";o.G=t}else if(t=="NaN"){o.type="Float";o.G="f0"}else{console.log("unknown value",JSON.stringify(t));
throw"e"}M=E+1}o.size=M-D;return o};dE.a1a=function(w){if(w==Math.round(w))return w+".0";var M=w.toFixed(5);
while(M.endsWith("0")&&M[M.length-2]!=".")M=M.slice(0,M.length-1);if(0<w&&w<1)M=M.slice(1);if(-1<w&&w<0)M="-"+M.slice(2);
return M};dE.B4=function(w,M,O,b){var D=typeof w=="string"?w.charAt(0):"";if(w instanceof Array){n.CD(M,O,"[ ");
O+=2;for(var U=0;U<w.length;U++){O=dE.B4(w[U],M,O,b);n.CD(M,O," ");O++}n.CD(M,O,"]");O+=1}else if(w instanceof Object){O=dE.eK(w,M,O,b)}else if(D=="e"){n.CD(M,O,"()");
O+=2}else if(D=="s"){n.CD(M,O,"(");O++;n.wH(M,O,254);O++;n.wH(M,O,255);O++;O=n.o6(M,O,w.substring(1));
n.CD(M,O,")");O++}else if(D=="/"){n.CD(M,O,w);O+=w.length}else if(D=="f"){var o=parseFloat(w.substring(1)),Z=dE.a1a(o);
n.CD(M,O,Z);O+=Z.length}else if(D=="i"){n.CD(M,O,w.substring(1));O+=w.length-1}else{var Z=w+"";n.CD(M,O,Z);
O+=Z.length}return O};function n(){}n.axQ=function(aq){var w="";for(var U=3;U>=0;U--)w+=String.fromCharCode(aq>>U*8&255);
return w};n.ack=function(w){var aq=0;for(var U=w.length-1;U>=0;U--)aq|=w.charCodeAt(U)<<(3-U)*8;return aq};
n.indexOf=function(w,M,O,b){if(O==null)O=0;if(b==null)b=w.length;b=Math.min(b,w.length);for(var U=O;
U<b;U++)if(w[U]==M)return U;return-1};n.Ya=function(w,M,O){if(O==null)O=0;var b=M.length,D=w.length-b;
if(typeof M=="string"){var o=[];for(var U=0;U<b;U++)o.push(M.charCodeAt(U));M=o}if(M.length>0){var Z=M[0];
for(var U=O;U<D;U++)if(w[U]==Z){var $=!0;for(var k=1;k<b;k++)if(M[k]!=w[U+k]){$=!1;break}if($)return U}}return-1};
n.OZ=function(w,M,O){var b=[],o="";while(M<O){var D=w[M++];if(D=="\\".charCodeAt(0))b.push(w[M++]);else b.push(D)}for(var U=0;
U<b.length;U+=2)o+=String.fromCharCode(b[U]<<8|b[U+1]);return o};n.ar2=function(w,M,O){var b=new Uint8Array(2);
for(var U=0;U<O.length;U++){n.Qv(b,0,O.charCodeAt(U));if(b[0]==")".charCodeAt(0)||b[0]=="(".charCodeAt(0)||b[0]=="\\".charCodeAt(0)){w[M]="\\".charCodeAt(0);
M++}w[M]=b[0];M++;if(b[1]==")".charCodeAt(0)||b[1]=="(".charCodeAt(0)||b[1]=="\\".charCodeAt(0)){w[M]="\\".charCodeAt(0);
M++}w[M]=b[1];M++}return M};n.o6=function(w,M,O){w.VN(M,4*O.length);return n.ar2(w.data,M,O)};n.eS=function(w,M,O){var b="";
for(var U=0;U<O;U++){var D=w[M++]|w[M++]<<8;b+=String.fromCharCode(D)}return b};n.Ip=function(w,M,O){var b="";
for(var U=0;U<O;U++){var D=w[M++]<<8|w[M++];b+=String.fromCharCode(D)}return b};n.aqy=function(w,M,O){for(var U=0;
U<O.length;U++){var b=O.charCodeAt(U);n.vE(w,M+2*U,b)}};n.Tw=function(w,M,O){for(var U=0;U<O.length;
U++){var b=O.charCodeAt(U);n.Qv(w,M+2*U,b)}};n.afG=function(w,M,O){w.VN(M,2*O.length);n.Tw(w.data,M,O)};
n.aea=function(w,U,M){var O=[],b=0,D=0;M+=U;while(U<M){b=w[U++];if((b&128)==0)D=b;else if((b&224)==192){D=(b&31)<<6;
b=w[U++];D|=b&63}else if((b&240)==224){D=(b&15)<<12;b=w[U++];D|=(b&63)<<6;b=w[U++];D|=b&63}else if((b&248)==240){D=(b&7)<<18;
b=w[U++];D|=(b&63)<<12;b=w[U++];D|=(b&63)<<6;b=w[U++];D|=b&63}else throw"e";O.push(D)}return O};n.mc=window.TextDecoder?new window.TextDecoder("utf8"):null;
n.AL=function(w,M,O){if(M==null)M=0;if(O==null)O=w.length;if(n.mc&&M==0&&O==w.length)return n.mc.decode(w);
var b=n.aea(w,M,O),D=b.length;for(var U=0;U<D;U++)b[U]=String.fromCharCode(b[U]);return b.join("")};
n.eQ=window.TextEncoder?new window.TextEncoder("utf8"):null;n.qs=function(w){if(n.eQ)return n.eQ.encode(w);
var M=new Uint8Array(w.length*4),O=n.Q5(w,M,0);return M.slice(0,O)};n.Q5=function(w,M,O){var b=w.length,U=0;
for(var D=0;D<b;D++){var o=w.charCodeAt(D);if((o&4294967295-(1<<7)+1)==0){M[O+U]=o;U++}else if((o&4294967295-(1<<11)+1)==0){M[O+U]=192|o>>6;
M[O+U+1]=128|o>>0&63;U+=2}else if((o&4294967295-(1<<16)+1)==0){M[O+U]=224|o>>12;M[O+U+1]=128|o>>6&63;
M[O+U+2]=128|o>>0&63;U+=3}else if((o&4294967295-(1<<21)+1)==0){M[O+U]=240|o>>18;M[O+U+1]=128|o>>12&63;
M[O+U+2]=128|o>>6&63;M[O+U+3]=128|o>>0&63;U+=4}else throw"e"}return U};n._2=function(w,M){var O=n.A(w,M),b=n.AL(w,M+4,O-1);
return{h7:b,dI:4+O}};n.am6=function(w,M){var O=n.Yx(w,M),b=n.eS(w,M+4,O);return b};n.vo=function(w,M){var O=n.A(w,M),b=n.Ip(w,M+4,O);
return b};n.yQ=function(w,M){var O=n.A(w,M),b=n.Ip(w,M+4,O-1);return b};n.anY=function(w,M,O){n.E3(w,M,O.length);
M+=4;n.aqy(w,M,O)};n.anr=function(w,M,O){n.oS(w,M,O.length);M+=4;n.Tw(w,M,O)};n.Mj=function(w,M,O){w.VN(M,4+2*O.length);
n.anr(w.data,M,O)};n.a92=function(w,M,O){w.VN(M,4+2*O.length);n.anY(w.data,M,O)};n.sI=function(w,M,O){var b=[];
for(var U=0;U<O;U++)b.push(String.fromCharCode(w[M+U]));return b};n.abO=function(w,M,O){var b=!1,D=w.length-O.length;
for(var U=M;U<D;U++){for(var o=0;o<O.length;o++){if(w[U+o]!=O.charCodeAt(o))break;if(o==O.length-1)return U}}};
n.TP=function(w,M,O){var b="";for(var U=0;U<O;U++)b+=String.fromCharCode(w[M+U]);return b};n.X8=function(w,M,O){for(var U=0;
U<O.length;U++)w[M+U]=O.charCodeAt(U)};n.CD=function(w,M,O){w.VN(M,O.length);n.X8(w.data,M,O)};n.aqF=function(w,M,O){var b="";
for(var U=0;U<O;U++){var D=w[M+U];if(D<10)b+="  ";else if(D<100)b+=" ";b+=D+", "}return b};n.z0=function(w,M){return w[M]<<8|w[M+1]};
n.Qv=function(w,M,aq){w[M]=aq>>8&255;w[M+1]=aq&255};n.yT=function(w,M,aq){w.VN(M,4);n.Qv(w.data,M,aq)};
n.a7k=function(w,M){var O=n.z0(w,M),b=n.z0(w,M+2);return O+b*(1/65536)};n.ZY=function(w,M,aq){var O=Math.floor(aq),b=Math.floor((aq-O)*65536);
n.Qv(w,M,O);n.Qv(w,M+2,b)};n.bw=function(w,M){return w[M+1]<<8|w[M]};n.vE=function(w,M,aq){w[M+1]=aq>>8&255;
w[M]=aq&255};n.bc=function(w,M,aq){w.VN(M,4);n.vE(w.data,M,aq)};n.iV=function(w,M){n.e9[0]=w[M+1];n.e9[1]=w[M];
return n.r5[0]};n.xh=function(w,M){n.e9[0]=w[M];n.e9[1]=w[M+1];return n.r5[0]};n.qU=n.Qv;n.AU=n.yT;n.$g=function(w,M){n.HV[0]=w[M+3];
n.HV[1]=w[M+2];n.HV[2]=w[M+1];n.HV[3]=w[M];return n.bf[0]};n.TQ=function(w,M,aq){n.bf[0]=aq;w[M+3]=n.HV[0];
w[M+2]=n.HV[1];w[M+1]=n.HV[2];w[M+0]=n.HV[3]};n.a6=function(w,M,aq){w.VN(M,4);n.TQ(w.data,M,aq)};n.AV=function(w,M,O,b){O[b+0]=w[M+0];
O[b+1]=w[M+1];O[b+2]=w[M+2];O[b+3]=w[M+3]};n.Yx=function(w,M){n.AV(w,M,n.HV,0);return n.Ap[0]};n.E3=function(w,M,aq){n.Ap[0]=aq;
n.AV(n.HV,0,w,M)};n.DG=function(w,M,aq){w.VN(M,4);n.E3(w.data,M,aq)};n.Hx=function(w,M){n.AV(w,M,n.HV,0);
return n.bf[0]};n.a1J=function(w,M,aq){n.bf[0]=aq;n.AV(n.HV,0,w,M)};n.ac1=function(w,M,aq){w.VN(M,4);
n.a1J(w.data,M,aq)};n.A=function(w,M){var O=w[M]*(256*256*256)+(w[M+1]<<16|w[M+2]<<8|w[M+3]);return O};
n.oS=function(w,M,aq){w[M]=aq>>24&255;w[M+1]=aq>>16&255;w[M+2]=aq>>8&255;w[M+3]=aq>>0&255};n.kq=function(w,M,aq){w.VN(M,4);
n.oS(w.data,M,aq)};n.C4=function(w,M){return n.A(w,M)<<32|n.A(w,M+4)};n.qM=function(w,M,aq){n.oS(w,M,aq>>16>>16);
n.oS(w,M+4,aq&4294967295)};n.md=function(w,M,aq){w.VN(M,8);n.qM(w.data,M,aq)};n.BR=function(w,M){var O=new Uint8Array(8);
for(var U=0;U<8;U++)O[U]=w[M+7-U];var b=new Float64Array(O.buffer);return b[0]};n.kw=function(w,M){var O=new Uint8Array(8);
for(var U=0;U<8;U++)O[U]=w[M+U];var b=new Float64Array(O.buffer);return b[0]};n.gU=function(w,M,aq){var O=new Float64Array(1);
O[0]=aq;var b=new Uint8Array(O.buffer);for(var U=0;U<4;U++){var D=b[U];b[U]=b[7-U];b[7-U]=D}for(var U=0;
U<8;U++)w[M+U]=b[U]};n.qc=function(w,M,aq){w.VN(M,8);n.gU(w.data,M,aq)};n.y1=function(w,M){n.HV[0]=w[M+3];
n.HV[1]=w[M+2];n.HV[2]=w[M+1];n.HV[3]=w[M+0];return n.ee[0]};n.aA=function(w,M){n.HV[0]=w[M+0];n.HV[1]=w[M+1];
n.HV[2]=w[M+2];n.HV[3]=w[M+3];return n.ee[0]};n.lS=function(w,M,aq){n.ee[0]=aq;w[M+0]=n.HV[3];w[M+1]=n.HV[2];
w[M+2]=n.HV[1];w[M+3]=n.HV[0]};n.axm=function(w,M,aq){w.VN(M,4);n.lS(w.data,M,aq)};n.b8=function(w,M,aq){n.ee[0]=aq;
w[M+0]=n.HV[0];w[M+1]=n.HV[1];w[M+2]=n.HV[2];w[M+3]=n.HV[3]};n.ajq=function(w,M,aq){w.VN(M,4);n.b8(w.data,M,aq)};
n.abt=function(w,M){var O=n.$g(w,M),b=O*(1/(1<<24));return b};n.nf=function(w,M,O){var b=Math.floor(O*(1<<24));
n.TQ(w,M,b)};n.a4x=function(w,M,O){w.VN(M,4);n.nf(w.data,M,O)};n.gm=function(w,M){var O=w[M],b=n.TP(w,M+1,O);
O+=1-O%2;return{g$:b,length:O+1}};n.a1f=function(w,M,O){var b=O.length;w[M]=b;n.X8(w,M+1,O);if(b%2==0){w[M+1+b]=0;
++b}return b+1};n.Zv=function(w,M,O){w.VN(M,O.length+2);return n.a1f(w.data,M,O)};n.Jd=function(w,M){var O=new f$;
O.ip=n.BR(w,M+0*8);O.L=n.BR(w,M+1*8);O.Hv=n.BR(w,M+2*8);O.uc=n.BR(w,M+3*8);O.hE=n.BR(w,M+4*8);O.Qw=n.BR(w,M+5*8);
return O};n.eD=function(w,M,O){n.gU(w,M+0*8,O.ip);n.gU(w,M+1*8,O.L);n.gU(w,M+2*8,O.Hv);n.gU(w,M+3*8,O.uc);
n.gU(w,M+4*8,O.hE);n.gU(w,M+5*8,O.Qw)};n.agK=function(w,M,O){w.VN(M,48);n.eD(w.data,M,O)};n.a9f=function(w,M){var O=n.y1(w,M),b=n.y1(w,M+4),D=n.y1(w,M+8),o=n.y1(w,M+12);
return new cn(O,b,D-O,o-b)};n.aab=function(w,M,O){n.lS(w,M,O.x);n.lS(w,M+4,O.y);n.lS(w,M+8,O.x+O.e);
n.lS(w,M+12,O.y+O.n)};n.abv=function(w,M,O){w.VN(M,16);n.aab(w.data,M,O)};n.WM=function(w,M){var O=n.$g(w,M),b=n.$g(w,M+4),D=n.$g(w,M+8),o=n.$g(w,M+12);
return new cn(b,O,o-b,D-O)};n.a1=function(w,M,O){n.TQ(w,M,O.y);n.TQ(w,M+4,O.x);n.TQ(w,M+8,O.y+O.n);n.TQ(w,M+12,O.x+O.e)};
n.t2=function(w,M,O){w.VN(M,16);n.a1(w.data,M,O)};n.RQ=function(w,M,O){var b=new Uint8Array(O);for(var U=0;
U<O;U++)b[U]=w[M+U];return b};n.b0=function(w,M,O){w.set(O,M)};n.Wd=function(w,M,O){w.VN(M,O.length);
n.b0(w.data,M,O)};n.a4i=function(w,M,O,aq){if(!aq)aq=1;for(var U=0;U<aq;U++)w[M+U]=O};n.wH=function(w,M,O,aq){if(!aq)aq=1;
w.VN(M,aq);n.a4i(w.data,M,O,aq)};n.r5=new Int16Array(1);n.e9=new Uint8Array(n.r5.buffer);n.bf=new Int32Array(1);
n.Ap=new Uint32Array(n.bf.buffer);n.HV=new Uint8Array(n.bf.buffer);n.ee=new Float32Array(n.bf.buffer);
function iN(){}iN.TC=function(w,M){var O=new Uint8Array(w),b=0,D=n.TP(O,b,9),$=4,k=100;b+=9;var o=n.TP(O,b,4);
b+=4;b++;M.e=n.A(O,b);b+=4;M.n=n.A(O,b);b+=4;var Z=n.A(O,b);b+=4;if(Z!=0)alert("Unsupported image format, not RGB!");
if(["file","v001","v002","v003"].indexOf(o)==-1){k=n.A(O,b);b+=4;if(parseInt(o.slice(1))>=7){k=k}else alert("Unknown XCF version: "+o);
$=8}var E={};b=iN.vh(O,b,E);var t=[];b=iN.Wk(O,b,t,$);var c=[];b=iN.Wk(O,b,c,$);M.BT=0;for(var U=0;U<t.length;
U++)iN.acJ(O,t[U],M,E,$,k);while(M.BT>0){M.B.push(M.iB());M.BT--}M.B.reverse();delete M.BT;M.buffer=x.$(M.e*M.n*4);
if(M.B.length==0)console.log("No layers!!!");for(var U=0;U<c.length;U++){var l=iN.Wx(O,c[U],E,$,k);if(l.N5[j1.a2a])M.X={channel:l.gp,rect:new cn(0,0,M.e,M.n)}}};
iN.acJ=function(w,M,O,b,D,o){var Z=O.uV(),$=n.A(w,M),c=0;M+=4;var k=n.A(w,M);M+=4;Z.rect=new cn(0,0,$,k);
var E=n.A(w,M);M+=4;var t=n._2(w,M);M+=t.dI;Z.EJ(t.h7);var l={};M=iN.vh(w,M,l);if(l[j1.CX]){var q=l[j1.CX];
c=q.length/4-1}if(l[j1.Le]){Z.rect.x=n.$g(l[j1.Le],0);Z.rect.y=n.$g(l[j1.Le],4)}if(l[j1.yk]){Z.opacity=n.A(l[j1.yk],0)}if(l[j1.ai_]){Z.add.lsct=ht.cx;
Z.N7=24}if(l[j1.fX]){var d=n.A(l[j1.fX],0);Z.eI=j1.aan[d];if(Z._N()&&Z.eI=="norm")Z.eI="pass"}if(l[j1.te]){if(n.A(l[j1.te],0)==0)Z.N7+=2}if(l[j1.Ba]){var V=n.A(l[j1.Ba],0);
Z.add.lsct=V&1==1?ht.cx:ht.xe}if(l[j1.Uq]){var L=l[j1.Uq];for(var e in L){var H=L[e];if(e=="gimp-text-layer"){var j=iN.acD(H),g=j.text,K=j.font,a=j.color,T=j["font-size"];
if(g==null&&j.markup){var C=new DOMParser,F=C.parseFromString(j.markup,"image/svg+xml");while(F.firstChild!=null&&F.firstChild.tagName!=null){F=F.firstChild;
var m=F.getAttribute("font"),N=F.getAttribute("foreground"),v=F.getAttribute("size");if(m!=null)K=m;
if(N!=null){N=CSS.Lb(N);a=[1,N.o/255,N.w/255,N.L/255]}if(v!=null){T=""+parseFloat(v)/245}}g=F.textContent}Z.add.lnsr="rend";
Z.add.TySh=ah.Wm(0,0);Z.add.TySh.AY=new cn(0,0,100,100);Z.add.TySh.F=new f$(1,0,0,1,Z.rect.x,Z.rect.y);
var h=Z.add.TySh.GM;ah.nD(h,0,g);var P=ah._J(h,0,0),J=j.justify,Y=j["line-spacing"];if(a)P.Qc.FillColor={Type:1,Values:[1,parseFloat(a[1]),parseFloat(a[2]),parseFloat(a[3])]};
if(T){T=Math.round(parseFloat(T));P.Qc.FontSize=T;Z.add.TySh.F.Qw+=Math.min(17,T*.17)}if(Y){Y=Math.round(parseFloat(Y)+P.Qc.FontSize*1.2);
P.Qc.Leading=Y;P.Qc.AutoLeading=!1}if(J)P.xy.Justification=["left","right","center","fill"].indexOf(J);
if(K&&K!="Sans-serif"){var B=K.toLowerCase(),S="bold italic semi extra regular condensed light".split(" "),r=B.length;
for(var U=0;U<S.length;U++){var I=B.indexOf(S[U]);if(I!=-1&&I<r&&B[I-1]==" ")r=I}if(r!=B.length)K=K.slice(0,r-1).split(" ").join("")+"-"+K.slice(r).split(" ").join("");
ah.Lh(P,K)}ah.j_(h,0,g.length,P);var f=j["box-width"],s=j["box-height"],W=f?parseFloat(f):Z.rect.e,i=s?parseFloat(s):Z.rect.n;
ah.EC(h,1);ah.h4(h,[0,0,Math.ceil(W),Math.ceil(i)])}else console.log("Unknown property "+e)}}while(O.BT>c){O.B.push(O.iB());
O.BT--}O.BT=c;if(Z.add.lsct==ht.cx||Z.add.lsct==ht.xe)O.BT++;var u=D==4?n.A:n.C4,z=u(w,M);M+=D;var G=u(w,M);
M+=D;if(Z.Ux()){Z.buffer=x.$(Z.rect.v()*4);var g_=new x.ka(Z.rect.v());iN.r0(w,z,g_,b,D,o);x.RB(g_,Z.buffer)}if(G!=0){Z.D=new Q.MX;
var cl=iN.Wx(w,G,b,D,o);Z.D.channel=cl.gp;Z.D.rect=Z.rect.clone();if(l[j1.Q3])Z.D.isEnabled=n.A(l[j1.Q3],0)==1;
Z.D.color=Z.D.channel[0];Z.D.Sr()}if(Z._N())Z.rect=new cn;O.B.push(Z)};iN.acD=function(w){var M="("+n.AL(w,0,w.length-1)+")",O=[],b={};
iN.ya(M,1,O);iN.afC(O,b);return b};iN.afC=function(w,M){for(var U=0;U<w.length;U++){var O=w[U],b=O[0];
if(O.length==2)M[b]=O[1];else M[b]=O.slice(1)}};iN.ya=function(w,M,O){while(!0){if(M>=w.length)throw"e";
var b=w.charAt(M);M++;if(b=="("){var D=[];M=iN.ya(w,M,D);O.push(D)}else if(b==" "||b=="\n"||b=="\r"){}else if(b==")")return M;
else if(b=="\""){var o=M;while(!0){var Z=w[M];M++;if(Z=="\"")break;if(Z=="\\")M++}O.push(JSON.parse(w.slice(o-1,M)))}else{var o=M-1;
while(w[M]!=" "&&w[M]!=")")M++;O.push(w.slice(o,M))}}};iN.Wx=function(w,M,O,b,D){var o=n.A(w,M);M+=4;
var Z=n.A(w,M);M+=4;var $=n._2(w,M);M+=$.dI;var k={};M=iN.vh(w,M,k);var E=new x.ka(o*Z),t=b==4?n.A:n.C4,c=t(w,M);
M+=b;iN.r0(w,c,E,O,b,D);return{gp:E.o,N5:k}};iN.r0=function(w,M,O,b,D,o){var Z=n.A(w,M);M+=4;var $=n.A(w,M);
M+=4;var k=n.A(w,M);M+=4;var E=D==4?n.A:n.C4,t=E(w,M);M+=D;iN.axi(w,t,O,b,k,D,o)};iN.axi=function(w,M,O,b,D,o,Z){var $=n.A(w,M),t=0,U=0;
M+=4;var k=n.A(w,M);M+=4;var E=new cn(0,0,$,k);if(Z==100||Z==150)t=1;else if(Z==200||Z==250)t=2;else if(Z==300||Z==350)t=4;
else if(Z==500||Z==550)t=2;else if(Z==600||Z==650)t=4;else if(Z==700||Z==750)t=8;else{alert("unsupported bit depth "+Z);
throw"e"}var c=D/t,t=Math.round(D/c),l=[];M=iN.Wk(w,M,l,o);var q=new x.ka(64*64*t),d=new cn,V=b[j1.agc][0],L=[q.o,q.w,q.L,q.ip];
if(c==3)q.ip.fill(255);var e=Date.now();for(var H=0;H<k;H+=64)for(var j=0;j<$;j+=64){var g=Math.min($-j,64),K=Math.min(k-H,64),a=g*K;
d.ZK(j,H,g,K);iN.aqb(w,l[U++],a*t,V,c,L);if(Z==100||Z==150){}else if(Z==250){for(var T=0;T<c;T++){var C=L[T];
for(var F=0;F<a;F++){var m=C[F]<<8|C[a+F];C[F]=Math.min(m>>>8,255)}}}else if(Z==600){var N=iN.abq(),v=new Uint32Array(1),h=new Float32Array(v.buffer);
for(var T=0;T<c;T++){var C=L[T];for(var F=0;F<a;F++){v[0]=C[F]<<24|C[a+F]<<16|C[(a<<1)+F]<<8|C[(a<<1)+a+F]<<0;
var P=h[0];if(P<0)P=0;else if(P>1)P=1;C[F]=N[~~(.5+P*1e3)]}}}else console.log("unknown data format",Z);
x.ld(q,d,O,E)}};iN.abq=function(){var w=iN.axK;if(w!=null)return w;w=iN.axK=new Uint8Array(1001);for(var U=0;
U<1001;U++)w[U]=~~(.49+255*x.I6(U*.001));return w};iN.aqb=function(w,M,O,b,D,o){if(b==1){for(var Z=0;
Z<D;Z++){var $=o[Z],k=0;while(k<O){var aq=w[M];M++;if(aq<127){var E=w[M];M++;aq++;for(var U=0;U<aq;U++)$[k+U]=E}else if(aq==127){var t=w[M];
M++;var c=w[M];M++;var E=w[M];M++;aq=t<<8|c;for(var U=0;U<aq;U++)$[k+U]=E}else if(aq==128){var t=w[M];
M++;var c=w[M];M++;aq=t<<8|c;for(var U=0;U<aq;U++)$[k+U]=w[M+U];M+=aq}else{aq=256-aq;for(var U=0;U<aq;
U++)$[k+U]=w[M+U];M+=aq}k+=aq}}}else if(b==2){var l=pako.inflate(w.slice(M)),q=Math.round(l.length/O);
for(var U=0;U<O;U++){var d=U*q;o[0][U]=l[d];o[1][U]=l[d+1];o[2][U]=l[d+2];o[3][U]=q==3?255:l[d+3]}}else alert("Unknown compression "+b)};
iN.Wk=function(w,M,O,b){var D=b==4?n.A:n.C4;while(!0){var o=D(w,M);M+=b;if(o==0)break;else O.push(o)}return M};
iN.vh=function(w,M,O){while(!0){var b=n.A(w,M);M+=4;var D=n.A(w,M);M+=4;if(b==j1.adK)break;else if(b==j1.Uq)O[b]=iN.a6K(w,M,M+D);
else O[b]=n.RQ(w,M,D);M+=D}return M};iN.a6K=function(w,M,O){var b={};while(M<O){var D=n._2(w,M);M+=D.dI;
var o=n.A(w,M);M+=4;if(o!=1)console.log("unknown flags",o);var Z=n.A(w,M);M+=4;b[D.h7]=n.RQ(w,M,Z);M+=Z}return b};
var j1={adK:0,a0d:1,akf:2,a8B:3,a2a:4,a3R:5,yk:6,fX:7,te:8,agY:9,avE:10,Q3:11,a8r:12,alx:13,aof:14,Le:15,ac0:16,agc:17,atw:18,awV:19,a8y:20,Uq:21,a0X:22,awt:23,aqU:24,ahS:25,a2N:26,a9b:27,auF:28,ai_:29,CX:30,Ba:31,aaV:32,agQ:33,a7v:34,axl:35,alh:36,ajz:37,ae8:38,ar5:0,ajW:1,ake:2,alc:3,abf:1,alM:2,a9Y:0,agR:1,at2:1};
j1.aan="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
var eC=function(){var w=!1,M,O,j;function b(){var a=n.TP(M,O,4);O+=4;return a[3]+a[2]+a[1]+a[0]}function D(){var a=n.TP(M,O,4);
O+=4;return a}function o(){var a=M[O];O+=1;return a}function Z(){var a=n.bw(M,O);O+=2;return a}function $(){var a=n.Yx(M,O);
O+=4;return a}function k(){var a=n.Hx(M,O);O+=4;return a}function E(){var a=n.Yx(M,O);O+=8;return a}function t(){var a=n.aA(M,O);
O+=4;return a}function c(){var a=n.kw(M,O);O+=8;return a}function l(){var a=n.bw(M,O),T=n.AL(M,O+2,a);
O+=2+a;return T}function q(){var a=n.Yx(M,O),T=n.AL(M,O+4,a);O+=4+a;return T}function d(a){O=a;var T=[];
while(O!=0){var C=D();if(C!="#FT4"&&C!="#FT3"&&C!="#FT2")throw C;var F=E(),m=E(),N=E(),v=E(),h=E(),P=$(),J=$(),Y=$(),B=Z(),S=o(),r={};
T.push(r);for(var U=0;U<P;U++){var I=$(),f=o();if(f!=0&&f!=1&&f!=2)throw f;var s=[];if(f==0||f==1){var W=E(),i=E(),u=E(),z=$(),G=o(),g_=$(),cl=C!="#FT4"?0:$(),p=null;
if(C=="#FAT"||C=="#FT2"){switch(G){case 1:G=1;break;case 2:G=65;break;case 3:G=129;break;case 4:G=193;
break;default:G=0;break}}if(f==0)p=l();s=[W,i,u,G,p]}r["i"+I]=[f,s]}for(var U=0;U<B;U++){var b2=Z(),jz=Z(),aT=E(),fZ=n.TP(M,O,b2);
O+=b2}O=F}T.reverse();for(var ft=1;ft<T.length;ft++){var r=T[ft],cc=T[ft]=JSON.parse(JSON.stringify(T[ft-1]));
for(var kr in r){var hG=r[kr];if(hG[0]==0)cc[kr]=hG;else if(hG[0]==1){hG[1][4]=cc[kr][1][4];cc[kr]=hG}else if(hG[0]==2)delete cc[kr]}}var hi=T.pop(),bU=[];
for(var kr in hi)bU.push(hi[kr][1]);bU.sort(function(ic,iQ){return ic[0]-iQ[0]});return bU}function V(a,T,C,F){while(O<M.length){var m=o(),P=null;
if(m==0){if(F){var N=o();if(N!=2){var v=b()}if(N==0)O+=4;F=!1;continue}else{break}}var h=b();if(w)console.log("  ".repeat(T),m,m&127,h,a._type);
if(m>127)P=L(m,T,C);else P=e(m,T,C);a[h]=P}}function L(a,T,C){var F=[];a=a&127;if(a==43)O+=4;var m=$();
if(a==50){var N=b(),v=Z();if(v!=1)throw"e";for(var U=0;U<m;U++){var h={_status:"NotShared",_type:N};
F.push(h);var P=o();if(P!=1)throw P;V(h,T+1,C)}}else for(var U=0;U<m;U++){F.push(e(a,T,C));if(a==42)a=2}return F}function e(a,T,C){var F=null;
if(a==49){F={};var m=o();if(m!=0){var N=$();if(C==null){F._id=N;F._status=["Shared","Link"][m-1]}if(C&&m==2)F=C[N];
if(m==1){if(C)C[N]=F;var v=o(),h=!1;if(v>1)throw v;F._type=b();if(w)console.log("  ".repeat(T),"new",F._type,v,O);
if(v==0){while(!0){var P=Z();if(P!=0&&P!=1&&P!=2&&P!=4)throw P;if(M[O]!=0){h=!0;break}var J=Z();if(J==512)break;
var Y=b();if(J==256)break}}V(F,T+1,C,h)}}}else if(a==50){F={_status:"NotShared"};if(o()==1){F._type=b();
O+=2;V(F,T+1,C)}}else if(a==1)F={type:"byte",value:o()};else if(a==2)F={type:"uint16",value:Z()};else if(a==3)F={type:"uint32",value:$()};
else if(a==4)F={type:"uint64",value:E()};else if(a==7)F={type:"int32",value:k()};else if(a==8)F={type:"int64",value:E()};
else if(a==9)F={type:"float32",value:t()};else if(a==10)F={type:"float64",value:c()};else if(a==21)F={type:"Vec2i",value:[$(),$()]};
else if(a==23)F={type:"Vec4i",value:[$(),$(),$(),$()]};else if(a==33)F={type:"Vec4f",value:[t(),t(),t(),t()]};
else if(a==36)F={type:"Vec2",value:[c(),c()]};else if(a==38)F={type:"Vec4",value:[c(),c(),c(),c()]};
else if(a==40)F={type:"Vec6",value:[c(),c(),c(),c(),c(),c()]};else if(a==41)F={type:"bool",value:o()!=0};
else if(a==42)F={type:"Enum",value:$()};else if(a==43)F={type:"string",value:q()};else if(a==44){var B=Z();
F={type:"curv16",value:[c(),B==12?[o(),o(),o(),o()]:[$(),$()]]}}else if(a==45){var B=$();F={type:"buff",value:M.slice(O,O+B)};
O+=B}else if(a==47){F={type:"uint32",value:$()}}else if(a==48){var S=[],r=Z();if(r!=1)throw r;if(M[O]==135){var I=L(o(),T+1,C),f=L(o(),T+1,C),s=L(o(),T+1,C);
S=[I,f,s]}else{var W=1;if(M[O]==3){o();W=$()}for(var U=0;U<W;U++){if(o()!=41)throw"e";var N=o();if(N!=0&&N!=1)throw N;
if(o()!=172)throw"e";var i=$(),u=Z(),z=[];S.push(z);if(u!=18)throw u;if(i>2e3)throw i;for(var G=0;G<i;
G++)z.push([c(),c(),o(),o()])}}O++;F={type:"curve",value:S}}else if(a==51){F={type:"EmbeddedData"};F[b()]=q()}else if(a==52)F={type:"uint32",value:$()};
else if(a==56)F={type:"Color32",value:[o(),o(),o(),o()]};else if(a==60)F={type:"ColorGRAY",value:[t(),t()]};
else if(a==68)F={type:"ColorRGBA",value:[t(),t(),t(),t()]};else if(a==72)F={type:"ColorCMYK",value:[t(),t(),t(),t(),t()]};
else{throw a}return a==49||a==50||a==51?F:F.value}function H(a){var T=0,C=a.length;for(var U=0;U<C;U++)a[U]=T=T+a[U]&255}function g(a){M=a;
O=4;var T=$(),C=D();if(C!="nsrP")throw C;var C=D();if(C!="#Inf")throw C;var F=E();j=E();var m=E(),N=E(),v=E(),h=$(),P=$(),C=D();
if(C!="Prot")throw C;var h=$(),J=d(F),Y={},B=Date.now();for(var S=0;S<J.length;S++){var r=J[S],I=r[3],u=null;
O=r[0];var C=D();if(C!="#Fil")throw C;var f=I>>>5&1,s=I&3,W=I&192;switch(W){case 64:W=1;f=0;break;case 128:W=2;
break;case 192:W=3;break;default:W=0;f=0}var i=new Uint8Array(M.buffer,O,r[2]);if(s==0)u=i;else if(s==1)u=pako.inflate(i);
else if(s==2)u=ce.C8.RO(i,r[1]);else throw s;if(f==0){if(W==1)H(u);if(W==2)throw"e"}else throw f;Y[r[4]]=u}return Y}function K(a){var T=g(new Uint8Array(a));
M=T["doc.dat"];O=16;var C={};V(C,0,[]);return[T,C,j]}return{awJ:K}}();function dl(){}dl.TC=function(){function w(q,d){var V=Date.now(),L=eC.awJ(q),e=L[0],H=L[1],j=L[2],g=H.DocR,K=g.DfSz,a=g.Chld;
if(a.length!=1)throw"e";var T=a[0],C=T.SprB;a=T.Chld;d.e=~~C[2];d.n=~~C[3];d.buffer=x.$(d.e*d.n*4);var F=[0,{}];
for(var U=0;U<a.length;U++)D(a[U],d,e,new f$,F,0);d.eN(F[0]);console.log(Date.now()-V,"Document created");
V=Date.now()}function M(q){return new f$(q[0],q[3],q[1],q[4],q[2],q[5])}function O(q,d){var V=d.Xfrm;
V=V?M(V):new f$;V.concat(q);return V}function b(q){var d={0:"norm",1:"dark",2:"mul ",3:"idiv",196613:"lbrn",65538:"dkCl",4:"lite",5:"scrn",6:"div ",7:"lddg",65542:"lgCl",8:"over",9:"sLit",10:"hLit",11:"vLit",65551:"lLit",12:"pLit",13:"hMix",14:"diff",15:"smud",16:"fsub",262165:"fdiv",17:"hue ",18:"sat ",20:"colr",19:"lum "}[q];
return d?d:"norm"}function D(q,d,V,L,e,H){var j=q._type,g=q.Chld,K=d.uV();K.EJ(q.Desc==null||q.Desc==""?j=="Grup"?"Folder":"Layer":q.Desc);
K.ah(q.Visi);K.opacity=Math.round(255*q.Opac);if(q.FOpc!=1)K.add.iOpa=Math.round(255*q.FOpc);var a=q.Blnd;
if(a!=null)K.eI=b(a);var T=O(L,q),C=j=="ShpN"||j=="PCrv";if(g){d.B.push(d.iB());K.add.lsct=ht.cx;K.eI="pass";
K.N7=24;if(j=="ShpN"){var F=q.ShpB;K.Bo(new cn(F[0]+T.hE,F[1]+T.Qw,F[2]-F[0],F[3]-F[1]));e[0]++;K.add.artb.Clr={t:"Objc",v:x.M.jk({o:255,w:255,L:255})}}for(var U=0;
U<g.length;U++)D(g[U],d,V,T,e,H+1)}else if(j=="Rstr"||j=="ImgN"||j=="MRst"){var m=q.Bitm,N=m.Bckg,v=Date.now(),h;
if(N==null){h=E(m,V,e[1]);K.rect=h[2].clone();K.buffer=h[1].slice(0);K.rect.x+=T.hE;K.rect.y+=T.Qw}if(N||T.gy()!=1){var P,J=0,Y=0;
if(N){var B=V[N.Data],S=n.Ya(B,"ataD")+4,r=n.Yx(B,S);S+=4;P=B.slice(S,S+r)}else{J=K.rect.x-T.hE;Y=K.rect.y-T.Qw;
if(h[3]==null)h[3]=new Uint8Array(ce.ti("PNG").WV([[K.buffer.buffer]],K.rect.e,K.rect.n));P=h[3].slice(0)}var I=d.Xu(P,K.getName(),0,0);
I.N7=K.N7;I.opacity=K.opacity;K=I;var f=new f$;f.translate(J,Y);f.concat(T);var s=K.rect.clone();s.x=s.y=0;
var W=x.p.zl(s).C;x.p.F(W,f,W);K.add.SoLd.Trnf=y.u.KT(W);K.add.SoLd.nonAffineTransform=y.u.KT(W);K.Gf(d,!1)}}else if(j=="TxtA"||j=="TxtF"){K.add.lnsr="rend";
K.add.TySh=ah.Wm(0,0);K.add.TySh.AY=new cn(0,0,100,100);var i=q.TxtH.FrmB,u=new f$,cl=0;u.translate(i[0],i[1]);
u.concat(T);K.add.TySh.F=u;var z=K.add.TySh.GM,G=q.StSt,g_=G.Blok;if(g_.length!=1)throw"e";for(var p=0;
p<g_.length;p++){var b2=g_[p],jz=cl,aT=0,fZ=b2.Glyp.Utf8;fZ=fZ.replace(/\u2028/g,"\n");fZ=fZ.replace(/\u2029/g,"\n");
fZ=fZ.slice(0,fZ.length-1);ah.nD(z,cl,fZ);cl+=fZ.length;var ft=b2.GAtt.Runs,cc=b2.PAtt.Runs[0],kr=cc.Item.Ints[0];
for(var hG=0;hG<ft.length;hG++){var hi=ft[hG],bU=hi.Indx,ic=hi.Item,iQ=ic.Objs,bx=ah._J(z,jz,1);bx.xy.Justification=kr==0?0:kr==1?2:1;
ah.Lh(bx,ic.DFnt.Post);bx.Qc.FontSize=ic.Doub[0];for(var U=0;U<iQ.length;U++){var aR=iQ[U];if(aR._type=="FDsc"){var gs=aR.FDeF;
if(gs._type=="FilS"){var k7=k(gs.Colr);bx.Qc.FillColor={Type:1,Values:[1,k7[0],k7[1],k7[2]]}}}}ah.j_(z,jz+aT,jz+Math.min(bU,fZ.length),bx);
aT=bU}}ah.EC(z,1);ah.h4(z,[0,0,Math.round(i[2]-i[0]),Math.round((i[3]-i[1])*1.2)]);d.Tb=!0}else if(C){K.N7|=16;
var fT=K.add.vstk=JSON.parse(JSON.stringify(aN.d_.default));fT.strokeEnabled.v=!1;var aH=K.add.vmsk=o(q);
x.O.I0(aH.j,T);if(q.BFFl){var e7=q.BFFl[0].FDeF,dB=e7._type;if(dB=="FilS")K.add.SoCo={classID:"null",Clr:$(e7.Colr)};
else if(dB=="FilG"){var ia=K.add.GdFl=JSON.parse(aN.hx[aN.order.indexOf("GrFl")]);Z(e7,ia)}else if(dB=="FilN"){K.add.SoCo={classID:"null",Clr:{t:"Objc",v:x.M.jk({o:0,w:0,L:0})}};
fT.fillEnabled.v=!1}else console.log(dB)}if(q.LILn){var d7=q.LILn[0].LDeL,hf=d7.Wght;if(hf!=0){fT.strokeEnabled.v=!0;
fT.strokeStyleLineWidth.v.val=hf;var e7=q.LIFl[0].FDeF,dB=e7._type;if(dB=="FilS")fT.strokeStyleContent.v.Clr=$(e7.Colr);
else if(dB=="FilN")fT.strokeEnabled.v=!1}}K.De();K.h1(d)}else console.log(j);var gv=q.AdCh,hN=[];if(gv)for(var U=0;
U<gv.length;U++){var hP=gv[U],gP=hP._type;if(gP=="ShpN"||gP=="PCrv"){var aH=K.add.vmsk=o(hP),aB=O(T,hP);
x.O.I0(aH.j,aB);K.De();K.h1(d)}else if(hP.AdjP){var i7=hP.AdjP,dI=i7._type,gh={LevP:"levl",WhBP:"levl",SHiP:"curv",HSSP:"hue2",RecP:"hue2","B&WP":"blwh","B&CP":"brit",PosP:"post",VibP:"vibA",ExpP:"expA",ThrP:"thrs",CrvP:"curv"}[dI];
if(gh==null){console.log(i7);continue}var b9=ek.JF(gh,{});hN.push(b9);var ij=b9.v.Fltr.v;if(dI=="LevP"){var ax=dM.M4(ij,0);
ax[0]=i7.OutB*255;ax[1]=i7.OutW*255;dM.BI(ij,0,ax)}else if(dI=="WhBP"){var ax=dM.M4(ij,2);ax[4]=100+i7.WBTi*20;
dM.BI(ij,2,ax);var ax=dM.M4(ij,3);ax[4]=100+i7.WBTi*200;dM.BI(ij,3,ax)}else if(dI=="HSSP"){var ax=a1.M4(ij,0);
ax[0]=Math.round(i7.HueA*256);ax[1]=Math.round(i7.SatA*256);ax[2]=Math.round(i7.LumA*256);a1.BI(ij,0,ax)}else if(dI=="RecP"){ij.Clrz.v=!0;
var ax=a1.M4(ij,0);ax[0]=Math.round(i7.RecH*100);ax[1]=Math.round(i7.RecS*100);ax[2]=Math.round(i7.RecL*100);
a1.BI(ij,0,ax)}else if(dI=="B&CP"){ij.Brgh.v=Math.round(i7.Brig*100);ij.Cntr.v=Math.round(i7.Ctrs*100-100)}else if(dI=="PosP"){ij.Lvls.v=i7.Post}else if(dI=="VibP"){ij.vibrance.v=i7.Vibr-100;
ij.Strt.v=Math.round(i7.Satu*100)}else if(dI=="ExpP"){ij.Exps.v=i7.Expo;ij.gammaCorrection.v=i7.Gamm/2.2}else if(dI=="ThrP"){ij.Lvl.v=Math.round(i7.Thre*255)}else if(dI=="CrvP"){var iX=i7.Mast["Cnt "],jf=i7.Mast.Vals,ax=bW.M4(ij,0),eJ=ax[0];
for(var hZ=0;hZ<iX;hZ++){var hC=ax[hZ]=JSON.parse(JSON.stringify(eJ));hC.v.Hrzn.v=Math.round(jf[hZ]*255);
hC.v.Vrtc.v=Math.round(jf[4+hZ]*255)}bW.BI(ij,0,ax)}}else console.log(hP)}if(hN.length!=0&&K.add.SoLd){K.add.SoLd.filterFX=ek._4();
d._T({id:K.add.SoLd.placed.v,rect:new cn,buffer:x.$(1),D:new Q.MX});K.add.SoLd.filterFX.v.filterFXList.v=hN;
K.Gf(d,!1)}var ds=q.FiEf;if(ds&&ds.length!=0){var hV=K.add.lmfx=JSON.parse(aN.default);for(var U=0;U<aN.order.length;
U++)hV[aN.IU[U]]={t:"VlLs",v:[]};for(var bv=0;bv<ds.length;bv++){var hl=ds[bv],jQ=hl._type,a$={ColO:"SoFi",GrdO:"GrFl",Shad:"DrSh",InnS:"IrSh",OutG:"OrGl",InnG:"IrGl",Strk:"FrFX",PhgB:"ebbl",BevE:"ebbl"}[jQ],ia=a$?JSON.parse(aN.hx[aN.order.indexOf(a$)]):null;
if(jQ=="ColO"){ia.Clr=$(hl.Colr)}else if(jQ=="GrdO"){Z(hl.GrFl.FDeF,ia)}else if(jQ=="Shad"||jQ=="InnS"||jQ=="OutG"||jQ=="InnG"){ia.Clr=$(hl.Colr);
ia.blur.v.val=Math.round(hl.Radi/2.4);if(hl.Offs!=null){ia.Dstn.v.val=hl.Offs;ia.lagl.v.val=Math.round(180-hl.Angl*180/Math.PI);
ia.uglg.v=!1}}else if(jQ=="Strk"){ia.Clr=$(hl.Colr);ia.Sz.v.val=Math.round(hl.Radi)}else if(jQ=="PhgB"||jQ=="BevE"){ia.blur.v.val=Math.round(hl.Radi);
if(jQ=="BevE")ia.bvlS.v.BESl="PlEb"}else if(jQ=="Gaus"){if(C&&hl.Enab){K.add.vmsk.Yo=hl.Radi/2.4;K.add.vmsk.iD=!0;
K.De();K.h1(d)}}if(a$){ia.enab.v=hl.Enab;if(ia.Md&&hl.BlnM!=null)ia.Md.v.BlnM=gA.VK(b(hl.BlnM));if(ia.Opct&&hl.Opac!=null)ia.Opct.v.val=Math.round(hl.Opac*100);
var jB=aN.IU[aN.order.indexOf(a$)];hV[jB].v.unshift({t:"Objc",v:ia})}}}d.B.push(K)}function o(q){var d=new Q.G6,V=q._type;
if(V=="PCrv"){var L=q.Crvs.Data,e=[],H=[];for(var U=0;U<L.length;U++){var j=L[U];if(j.length%3!=1){j=j.slice(1,j.length-1)}for(var g=0;
g<j.length;g++){var K=j[g],a=K[2];if(a!=0)e.push(g==0?"M":"C");H.push(K[0],K[1])}}d.j=x.p.aG({C:H,H:e},!0)}else{var T=q.ShpB,C=q.Shpe,F=C._type,m=T[2]-T[0];
if(F=="ShpE"){d.j=x.O.U_.A1(T[0],T[1],T[2]-T[0],T[3]-T[1])}else if(F=="ShNR"){var N=[0,0,0,0];if(C.CTyp){N=C.ShCR.slice(0);
for(var U=0;U<4;U++)N[U]*=T[2]-T[0]}d.j=x.O.U_.Rect(T[0],T[1],T[2]-T[0],T[3]-T[1],N)}else if(F=="ShpT"){d.j=x.p.aG({H:["M","L","L","Z"],C:[T[0],T[3],T[2],T[3],T[0]+m*.5,T[1]]},!0)}else if(F=="ShTz"){d.j=x.p.aG({H:["M","L","L","L","Z"],C:[T[0]+m*C.PosL,T[1],T[0]+m*C.PosR,T[1],T[2],T[3],T[0],T[3]]},!0)}else{console.log("--",F);
d.j=x.O.U_.Rect(T[0],T[1],T[2]-T[0],T[3]-T[1],[0,0,0,0])}}return d}function Z(q,d){var V=q.Grad,L=V.Cols;
d.Type.v.GrdT=q.Type==0?"Lnr":"Rdl";var e=[];for(var U=0;U<L.length;U++){var H=k(L[U]);e.push([V.Posn[U][0],H])}d.Grad.v.Intr.v=0;
x.M.Ty(e,d.Grad.v);var j=V.Posn,g=new at(j[0][0],j[0][1]),K=new at(j[1][0],j[1][1]);if(q.Type==0)g=new at((g.x+K.x)/2,(g.y+K.y)/2);
x.M.LE(g,K,new cn(0,0,1,1),d)}function $(q){var d=k(q);return{t:"Objc",v:x.M.jk({o:d[0]*255,w:d[1]*255,L:d[2]*255})}}function k(q){var d=q._col,V=q._type;
if(V=="HSLA"){var L=x.du(d[0],d[1],d[2]);return[L.o,L.w,L.L,d[3]]}else if(V=="RGBA")return d;else if(V=="CMYK"){var e=1-d[3];
return[(1-d[0])*e,(1-d[1])*e,(1-d[2])*e]}else if(V=="GRAY")return[d[0],d[1],d[2]];else{console.log(d);
throw V}}function E(q,d,V){var L=q.Frmt,N="";if(L!=0&&L!=4&&L!=6)throw L;var e=q.BmpW,H=q.BmpH,j=L==4?5:L==0?4:1,g=Math.ceil(e/256),K=Math.ceil(H/256),a=new cn(0,0,g,K),T=new cn;
for(var U=0;U<j;U++){var C=new Uint8Array(q["Sta"+(U+1)]),F=x.Kx(C,a);T=T.MK(F)}var m=[];for(var U=0;
U<j;U++){var C=new Uint8Array(q["Sta"+(U+1)]),v=x.$(T.v());x.CV(C,a,v,T);m[U]=[];for(var h=0;h<v.length;
h++)m[U][h]=v[h];N+=JSON.stringify(m[U])+","+JSON.stringify(q["Idx"+(U+1)])+","}if(V[N]==null){var P=T.e*256,J=T.n*256,Y=new Array(j);
for(var U=0;U<j;U++){var C=Y[U]=new Uint8Array(P*J);t(C,q["Idx"+(U+1)],m[U],d,P,J)}var B=x.$(P*J*4);
if(L==0)x.RB({o:Y[0],w:Y[1],L:Y[2],ip:Y[3]},B);else if(L==4){for(var U=0;U<Y[0].length;U++){var S=U*4,r=Y[0][U]*(1/255),I=Y[1][U]*(1/255),f=Y[2][U]*(1/255),s=Y[3][U]*(1/255),W=UDOC.C.cmykToRgb([r,I,f,s]);
B[S]=W[0]*255;B[S+1]=W[1]*255;B[S+2]=W[2]*255;B[S+3]=Y[4][U]}}else{B.fill(255);x.CA(Y[0],B)}var i=new cn(0,0,P,J),u={buffer:B,rect:i};
x.Su(u);V[N]=[u.rect,u.buffer]}var F=V[N][2]=V[N][0].clone();F.x+=T.x*256;F.y+=T.y*256;return V[N]}function t(q,d,V,L,e,H){var j=0,g=e>>>8,K=H>>>8;
for(var a=0;a<K;a++)for(var T=0;T<g;T++){var C=T*256,F=a*256,m=a*g+T,N=F*e+C,v=V[m];if(v<=1)c(q,N,0,e,256,256);
else if(v==2)c(q,N,4294967295,e,256,256);else if(v==4){var h=d[j];j++;var P=L[h.Data.DatI],J=h.Rect;
if(J==null)J=[0,0,256,256];c(q,N,0,e,256,256);l(q,(F+J[1])*e+C+J[0],P,J[1]*256+J[0],e,256,J[2]-J[0],J[3]-J[1])}else console.log(v)}}function c(q,d,V,L,e,H){var j=d+L*H;
for(;d<j;d+=L){var g=d+e;for(var K=d;K<g;K++){q[K]=V}}}function l(q,d,V,L,e,H,j,g){var K=d+e*g,a=L+H*g;
for(;d<K&&L<a;d+=e,L+=H){for(var U=0;U<j;U++)q[d+U]=V[L+U]}}return w}();function gi(){}gi.TC=function(w,M){var O=gi,b=aD.parse(w),o=0;
if(b.pages.length>1)console.log(b.pages.length,"pages");var D=[],Z=new cn;for(var $=0;$<b.pages.length;
$++){var k=b.pages[$],E=k.layers,t=O.qe(E,$),l=!1;if(t.v()>8e3*8e3||t.e>3e4||t.n>3e4){O.YP(E,!0);var c=O.qe(E,$);
if(c.v()>=t.v())O.YP(E,!1)}t=O.qe(E,$);for(var q=0;q<E.length;q++){var d=E[q];if(O.WC(d)=="artboard")l=!0}if(!l){console.log("no artboard");
var V={};for(var L in k)V[L]=k[L];V._class="group";k.layers=[V]}D.push(t.clone());if(t.S9())continue;
t.x=0;t.y=o;o+=t.n+200;Z=Z.MK(t)}var e={};if(b.foreignSymbols)for(var U=0;U<b.foreignSymbols.length;
U++){var H=b.foreignSymbols[U].symbolMaster;e[H.symbolID]={N6:H}}O.Lu(b.pages,e,M);for(var j in e){var d=e[j].N6,g=O.nv(d.layers)}var K=gi.kC(Z,8192*8192);
M.Tb=!0;M.e=Math.round(Z.e/K);M.n=Math.round(Z.n/K);M.buffer=x.$(M.e*M.n*4);M.eN(b.pages[0].layers.length);
M.Yc={};M.Ls=[];o=0;for(var $=0;$<b.pages.length;$++){var a=b.pages[$],t=D[$],T=new f$(K,0,0,K,t.x,t.y-o);
O.xC(a.layers,M,T,b,e,{},[]);o+=t.n+200}delete M.Yc;delete M.Ls;if(K!=1)alert("File scaled down "+K+"x");
M.ahF()};gi.ak3=0;gi.WC=function(w){return w._class?w._class:w.$class};gi.kC=function(w,M){var O=1;while(Math.round(w.e/O)*Math.round(w.n/O)>M||Math.max(Math.round(w.e/O),Math.round(w.n/O))>3e4)O++;
if(O!=1&&!window.confirm("Your image is quite large ("+w.e+" x "+w.n+" px).\n"+"Press OK to scale it down "+O+"x, or Cancel to keep the size."))O=1;
return O};gi.qe=function(w,M){var O=[],b=gi;for(var D=0;D<w.length;D++){var o=w[D],Z=b.WM(o.frame);if(M==0||b.WC(o)=="artboard")O.push(Z)}return x.rect.Xv(O)};
gi.YP=function(w,M){var O=[],b=gi;for(var D=0;D<w.length;D++){var o=w[D],Z=b.WM(o.frame);Z.e+=150;Z.n+=150;
O.push(Z)}var $=x.rect.Xv(O);x.rect.a5J(O,M);var k=x.rect.Xv(O);if(k.v()*1.5<$.v()||$.e>3e4&&k.e<=3e4||$.n>3e4&&k.n<=3e4){alert("Re-arranging artboards");
for(var D=0;D<w.length;D++){var E=O[D],o=w[D],t=o.frame;t.x=E.x;t.y=E.y}}};gi.Lu=function(w,M,O){var b=gi;
for(var D=0;D<w.length;D++){var o=w[D],Z=b.WC(o);if(["page","artboard","group"].indexOf(Z)!=-1)b.Lu(o.layers,M,O);
else if(Z=="symbolMaster")M[o.symbolID]={N6:o}}};gi.nv=function(w){var M=gi;for(var O=0;O<w.length;O++){var b=w[O],D=M.WC(b),o=null;
if(["page","artboard","group"].indexOf(D)!=-1)o=M.nv(b.layers);if(D=="symbolMaster"||D=="symbolInstance")o=b;
if(o!=null)return o}return null};gi.xC=function(w,M,O,b,D,o,Z){var $=gi,k=[];for(var E=0;E<w.length;
E++){var t=w[E],c=t.frame?$.WM(t.frame):null,l=t.style,e="",T=null,C=!1;if(l==null){console.log("no styles")}var q=$.fY(t,O),d=$.WC(t),V=d=="shapeGroup"||d=="shapePath"||d=="rectangle"||d=="oval"||d=="triangle"||d=="polygon",L=["page","artboard","group"].indexOf(d)!=-1;
if(d=="shapeGroup"){for(var U=0;U<t.layers.length;U++)if($.WC(t.layers[U])=="shapeGroup")L=!0}var H=t.exportOptions;
if(H){var j=H.exportFormats;if(j==null)j=H.sizes;if(d!="artboard"&&(j&&j.length!=0)){var g=j[0].scale}}var K=M.uV();
K.ah(t.isVisible);var a=t.name;if(!(typeof a=="string"))a=d;K.EJ(e+a.slice(0,250));if(l!=null)T=$.a67(b,M,l,c,q,K.getName(),V||d=="artboard"||L);
if(d=="rectangle"&&l&&l.fills&&l.fills[0]){var F=l.fills[0];if(F.fillType==4&&F.patternFillType>1&&F.image!=null)C=!0}if(t.shouldBreakMaskChain){while(k.length!=0)$.lB(k.pop(),M)}if(L){K.add.lsct=t.layerListExpandedType==2?ht.cx:ht.xe;
K.eI="pass";K.N7=24;K.ah(t.isVisible);M.B.push(M.iB());if(d=="artboard"){var m=c.clone(),N=q.gy();m.x=-Math.floor(q.hE/N);
m.y=-Math.floor(q.Qw/N);m.e=Math.floor(m.e/N);m.n=Math.floor(m.n/N);K.Bo(m);var v=t.backgroundColor,h=v?{o:255*v.red,w:255*v.green,L:255*v.blue}:{o:255,w:255,L:255};
K.add.artb.Clr={t:"Objc",v:x.M.jk(h)};K.add.artb.artboardBackgroundType={t:"long",v:4}}$.xC(t.layers,M,q,b,D,o,Z)}else if(V&&!C){K.add.vmsk=new Q.G6;
K.add.vstk=JSON.parse(JSON.stringify(aN.d_.default));K.add.vstk.strokeEnabled.v=!1;var P=T!=null&&T.frameFXMulti.v.length==1,J=l?l.fills:null,Y=l?$.Yq(b,J,c,q,K.getName(),M,$.uC(Z,t.do_objectID+"_image")):[];
if(Y.length==0){if(P)K.add.vstk.fillEnabled.v=!1;else K.add.iOpa=0;K.add.SoCo={classID:"null",Clr:{t:"Objc",v:x.M.jk({o:0,w:0,L:0})}}}else{var B=Y[0],S=null,r=null;
if(B.type=="SoFi"){S="SoCo";r=aN.J1}if(B.type=="GrFl"){S="GdFl";r=aN.JK}if(B.type=="patternFill"){S="PtFl";
r=aN.KO}if(S!=null){K.add[S]={classID:"null"};for(var U=0;U<r.length;U++){var I=r[U];K.add[S][I]=B.G.v[I]}var f=B.G.v.Opct.v.val;
if(P&&f==0)K.add.vstk.fillEnabled.v=!1;else K.add.iOpa=Math.round(255*f/100)}}K.N7|=16;K.add.vmsk.j=$.vG(t.layers?t.layers:[t],t.layers?q:O);
var s=l?l.blur:null;if(s&&s.isEnabled&&s.type<=1)K.add.vmsk.Yo=s.radius;if(K.add.vmsk.j.length==2){console.log("shape with no content:",K.getName())}if(P){var W=T.frameFXMulti.v[0].v,i=K.add.vstk,u=l.borders[0];
T.frameFXMulti.v=[];eR.axk(W,i);var z=l.borderOptions,G=l.miterLimit;if(z){var g_=z.dashPattern;i.strokeStyleLineCapType.v.strokeStyleLineCapType=aN.d_.nH[z.lineCapStyle];
i.strokeStyleLineJoinType.v.strokeStyleLineJoinType=aN.d_.join[z.lineJoinStyle];if(g_)i.strokeStyleLineDashSet.v=eR.z4(g_,1/W.Sz.v.val);
if(G!=null)i.strokeStyleMiterLimit.v=G}}K.De();K.h1(M)}else if(d=="bitmap"||C){if(!C&&t.image==null)continue;
var cl=C?l.fills[0]:null,p=C?cl.image.bdata:t.image.bdata,b2=M.Xu(p,K.getName(),0,0);b2.N7=K.N7;K=b2;
var s=l?l.blur:null,jz=l?l.colorControls:null;if(s||jz){K.add.SoLd.filterFX=ek._4();M._T({id:K.add.SoLd.placed.v,rect:new cn,buffer:x.$(1),D:new Q.MX});
var J=K.add.SoLd.filterFX.v.filterFXList.v;if(s){var aT=ek.JF("GsnB",{});aT.v.enab.v=s.isEnabled;aT.v.Fltr.v.Rds.v.val=s.radius;
J.push(aT)}if(jz){var fZ=jz.brightness,ft=jz.contrast,cc=jz.hue,kr=jz.saturation;if(cc!=0||kr!=1){var aT=ek.JF("hue2",{});
aT.v.enab.v=jz.isEnabled;a1.BI(aT.v.Fltr.v,0,[Math.round(cc*180/Math.PI),Math.round((kr-1)*100),0]);
J.push(aT)}if(fZ!=0||ft!=1){var aT=ek.JF("brit",{});aT.v.enab.v=jz.isEnabled;ft=ft-1;if(ft>0)ft/=2;var hG=aT.v.Fltr.v;
hG.Brgh.v=Math.round(fZ*255);hG.Cntr.v=Math.round(ft*255);hG.useLegacy.v=!0;J.push(aT)}}}if(C){var hi=cl.patternFillType;
if(hi==3){var bU=K.rect.e/K.rect.n,ic=c.e/c.n;if(bU<ic){q.translate(-(c.e*(1-bU/ic))/2,0);q.scale(ic/bU,1)}else{q.translate(0,-(c.n*(1-ic/bU))/2);
q.scale(1,bU/ic)}}}c.x=c.y=0;var iQ=x.p.zl(c).C;q.ZW();x.p.F(iQ,q,iQ);K.add.SoLd.Trnf=y.u.KT(iQ);K.add.SoLd.nonAffineTransform=y.u.KT(iQ);
K.Gf(M,!1)}else if(d=="text"){if(t.attributedString==null)continue;var bx=q.clone(),aR,gs,dB=0;bx.ZW();
bx.ip=bx.uc=Math.min(bx.ip,bx.uc);K.add.lnsr="rend";K.add.TySh=ah.Wm(0,0);K.add.TySh.AY=new cn(0,0,c.e,c.n);
K.add.TySh.F=bx;var k7=t.attributedString;if(k7.archivedAttributedString)k7=k7.archivedAttributedString;
var fT=k7.NSString;if(fT==null)fT=k7.string;if(fT==null)fT="";if(fT["NS.string"])fT=fT["NS.string"];
if(o[t.do_objectID]!=null)fT=o[t.do_objectID];var aH=$.uC(Z,t.do_objectID+"_stringValue");if(aH)fT=aH.value;
if(k7.attributes!=null){aR=[];gs=[];var e7=k7.attributes;for(var U=0;U<e7.length;U++){aR.push(e7[U].length,U);
gs.push(e7[U].attributes)}}else if(k7.NSAttributeInfo==null){aR=[fT.length,0];gs=[k7.NSAttributes]}else{aR=k7.NSAttributeInfo["NS.data"];
gs=k7.NSAttributes;aR=gi.a8H(aR,gs)}for(var U=0;U<aR.length;U+=2)dB+=aR[U];if(dB!=fT.length){while(dB>fT.length){aR[aR.length-2]--;
dB--;if(aR[aR.length-2]==0){aR.pop();aR.pop()}}aR[aR.length-2]+=fT.length-dB}fT=fT.replace(/\u2028/g,"\n");
fT=fT.replace(/\u2029/g,"\n");fT=fT.replace(/\r/g,"\n");var ia=K.add.TySh.GM;ah.nD(ia,0,fT);if(fT!=""){var d7=t.textBehaviour,hf=l.textStyle,gv=hf?hf.verticalAlignment:0,hN=$.a0y(ia,aR,gs,fT),N=bx.gy(),hP=ah._J(ia,0,1),i7=0;
if(hP.Qc.Font){var gP=hP.ju[hP.Qc.Font].Name;if(gP=="FontAwesome"||gP=="Ionicons")hN*=.87}var aB=hP.Qc.AutoLeading?0:hP.Qc.Leading*.6,dI=Math.max(hN,aB)*N,gh=c.e,b9=c.n;
if(d7==0){ah.EC(ia,0);var ij=ah.cp(hP.xy);if(ij==1)i7=gh*N;if(ij==2)i7=gh*N*.5;if(gv==0)dI*=1;else dI*=.9}else{ah.EC(ia,1);
ah.h4(ia,[0,0,Math.round(gh),Math.round(b9)]);if(d7==2&&gv==0)dI=dI*.2;else if(d7==2&&gv==1){dI=N*.5*(b9-hP.Qc.FontSize)}else if(d7==1&&gv==0)dI=dI*.2;
else dI=dI*.35}K.add.TySh.F.translate(i7,dI)}}else if(d=="symbolInstance"||d=="symbolMaster"){var iX=t.symbolID;
if(o[t.do_objectID])iX=o[t.do_objectID].symbolID;var am=$.uC(Z,t.do_objectID+"_symbolID");if(am)iX=am.value;
if(iX=="")continue;var jf={};for(var I in o)jf[I]=o[I];if(t.overrides)for(var I in t.overrides)jf[I]=t.overrides[I];
var hZ=Z.slice(0);if(t.overrideValues)hZ=hZ.concat(t.overrideValues);var ds=D[iX];if(ds==null){console.log("Unknown master master",t.symbolID);
continue}var hV=gi.WM(ds.N6.frame),bv=hV.e/c.e,hl=hV.n/c.n,jQ=q.clone();jQ.scale(bv,hl);K.add.lsct=ht.xe;
K.eI="pass";K.N7=24;K.ah(t.isVisible);M.B.push(M.iB());var a$=ds.N6;if(M.Ls.indexOf(a$)==-1){M.Ls.push(a$);
$.xC(a$.layers,M,jQ,b,D,jf,hZ);M.Ls.pop()}}else if(d=="slice"){console.log("slice layers are ignored by now");
continue}else{console.log("unknown layer type: "+d,t);continue}if(l&&l.contextSettings){var jB=l.contextSettings,jL=jB.blendMode;
if(jL<$.i4.length){K.eI=gA.J5[gA.vs.indexOf($.i4[jL])];if(L&&K.eI=="norm")K.eI="pass"}K.opacity=Math.round(K.opacity*jB.opacity)}if(T!=null){K.add.lmfx=T}M.B.push(K);
if(t.hasClippingMask&&w.length>1){k.push(K);M.B.push(M.iB())}}while(k.length!=0)$.lB(k.pop(),M)};gi.uC=function(w,M){for(var U=0;
U<w.length;U++)if(w[U].overrideName.startsWith(M))return w[U]};gi.a8H=function(w,M){var O=0,b=[];while(O+1<w.length){var D=w[O];
O++;if(D>127){D+=128*(w[O]-1);O++;if(w[O-1]>127){D+=128*(w[O]-1);O++}}var o=w[O];O++;b.push(D,o)}return b};
gi.a0y=function(w,M,b,D){var o=gi,Z=0,c=0,l=0;for(var U=0;U<D.length;U++){var $=D.charCodeAt(U),k=1473<=$&&$<=1479||1488<=$&&$<=1514||1520<=$&&$<=1524,E=1569<=$&&$<=1594||1600<=$&&$<=1749;
if(k||E)Z++}var t=Z>D.length/2;for(var U=0;U<M.length;U+=2){var q=M[U],a=14,T="DejaVuSans";if(q==0)continue;
var d=M[U+1],V=b[d],L=ah._J(w,c,c+q-1),e=V.NSColor;if(e==null){var e=V.MSAttributedStringColorDictionaryAttribute;
if(e==null)e=V.MSAttributedStringColorAttribute;if(e==null)e="0 0 0";else e=[e.red,e.green,e.blue].join(" ")}else if(o.WC(e)=="MSArchivedColor")e=e.dr+" "+e.dg+" "+e.db;
else if(e.NSRGB){e=e.NSRGB;e=n.TP(e,0,e.length-1)}else if(e.NSCMYK){e=e.NSCMYK;e=n.TP(e,0,e.length-1);
e=e.split(" ").map(parseFloat);var H=1-e[0],j=1-e[1],g=1-e[2],K=1-e[3];e=H*K+" "+j*K+" "+g*K}else if(e.NSWhite){e="1 1 1"}e=e.split(" ");
L.Qc.FillColor={Type:1,Values:[1,parseFloat(e[0]),parseFloat(e[1]),parseFloat(e[2])]};var C=V.MSAttributedStringFontAttribute;
if(V.NSFont){a=V.NSFont.NSSize;T=V.NSFont.NSName}else if(C){if(C.attributes){C=C.attributes;a=C.size;
T=C.name}else{var F=C.NSFontDescriptorAttributes;if(F==null)F=C.UIFontDescriptorAttributes;C=F;a=C.NSFontSizeAttribute;
T=C.NSFontNameAttribute}if(T==null)T="DejaVuSans"}var l=Math.max(l,a);L.Qc.FontSize=Math.round(a);ah.Lh(L,T);
var m=V.NSKern;if(m==null)m=V.kerning;if(m!=null)L.Qc.Tracking=Math.round(1e3*m/a);if(V.NSUnderline!=null)L.Qc.Underline=V.NSUnderline>0;
var N=V.NSStrikethrough;if(N==null)N=V.strikethroughStyle;if(N!=null)L.Qc.Strikethrough=N>0;if(V.MSAttributedStringTextTransformAttribute==1)L.Qc.FontCaps=2;
var v=V.NSParagraphStyle;if(v==null)v=V.paragraphStyle;if(v){var h=v.paragraphSpacing;if(h!=null){L.xy.SpaceAfter=h}var P=v.NSAlignment;
if(P==null)P=v.alignment;if(P!=null){var J=0;if(!1){}else if(P==1)J=1;else if(P==2)J=2;else if(P==4)J=0;
else{J=P;console.log("unknown align",P)}if(t&&J<2)J=1-J;L.xy.Justification=J}var Y=v.NSMinLineHeight;
if(Y==null)Y=v.minimumLineHeight;if(Y!=null){L.Qc.AutoLeading=!1;L.Qc.Leading=Y}}L.xy._Direction=t?1:0;
ah.j_(w,c,c+q,L);c+=q}return l};gi.a67=function(w,M,O,b,D,o,Z){var $=gi,k=JSON.parse(aN.default),E=!1;
for(var U=0;U<aN.order.length;U++)k[aN.IU[U]]={t:"VlLs",v:[]};var t=O.fills,c=$.Yq(w,t,b,D,o,M);for(var l=0;
l<2;l++){var q=O[["shadows","innerShadows"][l]];if(q==null)continue;var d=["DrSh","IrSh"][l],V=aN.IU[aN.order.indexOf(d)];
for(var U=0;U<q.length;U++){var L=q[U];if(!L.isEnabled)continue;if(L.contextSettings.opacity==0||L.color.alpha==0)continue;
var e=JSON.parse(aN.hx[aN.order.indexOf(d)]);k[V].v.unshift({t:"Objc",v:e});E=!0;e.Clr.v=$.Lb(L.color);
e.blur.v.val=Math.round(L.blurRadius/D.gy());var H=D.clone();H.hE=H.Qw=0;H.ZW();var j=H.xU(new at(L.offsetX,L.offsetY)),g=Math.sqrt(j.x*j.x+j.y*j.y);
e.Dstn.v.val=Math.round(g);e.lagl.v.val=Math.round(Math.atan2(j.y,-j.x)*(180/Math.PI));if(e.layerConceals)e.layerConceals.v=c.length!=0;
$.Iz(L,e)}}var K=O.borders;if(K!=null&&(c.length==0||O.blur==null||!O.blur.isEnabled))for(var U=0;U<K.length;
U++){var a=K[U];if(!a.isEnabled)continue;var e=JSON.parse(aN.hx[aN.order.indexOf("FrFX")]),V=aN.IU[aN.order.indexOf("FrFX")];
k[V].v.unshift({t:"Objc",v:e});E=!0;e.Clr.v=$.Lb(a.color);if(a.fillType!=0&&a.gradient){var T=$.Pl(a.gradient,b,D,o),C=["Type","Angl","Ofst","Scl"];
for(var U=0;U<C.length;U++)e[C[U]]=T[C[U]];e.Grad.v=T.Grad.v;e.PntT.v.FrFl="GrFl"}e.Sz.v.val=a.thickness/D.gy();
e.Styl.v.FStl=["CtrF","InsF","OutF"][a.position];$.Iz(a,e)}for(var U=Z?1:0;U<c.length;U++){var F=c[U],V=aN.IU[aN.order.indexOf(F.type)];
k[V].v.unshift(F.G);E=!0}return E?k:null};gi.Yq=function(w,M,O,b,D,o,Z){if(M==null)return[];var $=gi,k=[];
for(var U=0;U<M.length;U++)if(M[U].isEnabled)k.push(M[U]);M=k;var E=[];for(var U=0;U<M.length;U++){var t=M[U],c=null,l=null;
if(t.fillType==0){c="SoFi";var q=JSON.parse(aN.hx[aN.order.indexOf("SoFi")]);l={t:"Objc",v:q};l.v.Clr.v=$.Lb(t.color)}else if(t.fillType==1){c="GrFl";
l={t:"Objc",v:$.Pl(t.gradient,O,b,D)}}else if(t.fillType==4&&t.image!=null){var d=t.image;if(Z)d=Z.value;
var V=ce.S5(d.bdata.buffer);if(V!=null&&V!="pdf"&&V!="eps"){var L,a=0,T=0,C=0;if(o.Yc[d.key])L=o.Yc[d.key];
else{var e=ce.ti(V).sc(d.bdata)[0],H=e.fJ.clone();L={};L.id=fO.ZU()+"-d71c-11e5-b1ae-a548a96e5f9f";L.name="someImage";
L.f4=[new Uint8Array(e.data),H];o.RI(L);o.Yc[d.key]=L}var j=L.f4[1],q=JSON.parse(aN.hx[aN.order.indexOf("patternFill")]);
c="patternFill";l={t:"Objc",v:q};var g=t.patternFillType,K=t.patternTileScale;q.Algn.v=!0;q.Ptrn.v.Idnt.v=L.id;
if(g==0){a=K*j.e/Math.min(j.e,j.n);T=-b.hE;C=-b.Qw}else{a=Math.max(O.e/j.e,O.n/j.n);T=-b.hE-(j.e*a-O.e)/2;
C=-b.Qw-(j.n*a-O.n)/2}q.Scl.v.val=100*a*(1/b.gy());q.phase.v.Hrzn.v=Math.round(T/b.gy());q.phase.v.Vrtc.v=Math.round(C/b.gy())}}else if(t.fillType==5){console.log("fill type Noise not supported yet")}else console.log("unknown fill type",t.fillType);
if(c!=null){$.Iz(t,l.v);E.push({type:c,G:l})}}return E};gi.awl=function(w){var M=gi,O=new cn(0,0,1,1);
w=w.slice(0);while(!0){var b=!1;for(var U=0;U<w.length-1;U++){var D=w[U],o=w[U+1],Z=null,$=D.contextSettings;
if(D.fillType==0&&($==null||$.opacity==1&&$.blendMode==0)&&D.color.alpha==1){var k="norm",E=1,$=o.contextSettings;
if($){E=$.opacity;k=gA.QI(M.i4[$.blendMode])}if(o.fillType==0){Z=JSON.parse(JSON.stringify(o));M.mB(Z.color,D.color,Z.color,O,k,E)}if(o.fillType==1){Z=JSON.parse(JSON.stringify(o));
var t=Z.gradient.stops;for(var c=0;c<t.length;c++)M.mB(t[c].color,D.color,t[c].color,O,k,E)}if(Z!=null&&Z.contextSettings){var $=Z.contextSettings;
$.opacity=1;$.blendMode=0}}if(Z!=null){w.splice(U,0,Z);b=!0;break}}if(!b||w.length<2)break}return w};
gi.mB=function(w,M,O,b,D,o){var Z=gi,$=x.$(4);Z.wp(w,$);var k=x.$(4);Z.wp(M,k);x.a.DP(D,$,b,k,b,b,o);
Z.acs(k,O)};gi.wp=function(w,M){M[0]=255*w.red;M[1]=255*w.green;M[2]=255*w.blue;M[3]=255*w.alpha};gi.acs=function(w,M){M.red=w[0]/255;
M.green=w[1]/255;M.blue=w[2]/255;M.alpha=w[3]/255};gi.lB=function(w,M){w=w.clone();w.N7=24;w.EJ("Mask by "+w.getName());
M.B.push(w);w.add.lsct=ht.cx;w.add.lyid=M.JS();delete w.add.lmfx;delete w.add.SoCo;delete w.add.GdFl;
delete w.add.PtFl;delete w.add.iOpa;if(w.add.vmsk)w.add.vmsk.iD=!0;w.De();w.h1(M);if((w.N7&16)==16)w.N7-=16;
if((w.N7&2)==2)w.N7-=2;w.eI="pass";w.opacity=255};gi.i4="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" ");
gi.Pl=function(w,M,O,b){O=O.clone();O.ZW();O.hE=O.Qw=0;var D=O.gy(),l=0,q=0;O.scale(1/D,1/D);var o=gi,Z=JSON.parse(aN.hx[aN.order.indexOf("GrFl")]),$=Z.Grad.v;
$.Intr.v=0;if(w==null)return Z;var k=w.gradientType,E=o.sq(w.from),t=o.sq(w.to);E.offset(-.5,-.5);t.offset(-.5,-.5);
E=O.xU(E);t=O.xU(t);var c=Math.atan2(-(t.y-E.y),t.x-E.x);Z.Type.v.GrdT=["Lnr","Rdl","Angl"][k];Z.Scl.v.val=100*at.we(E,t);
if(k==0){Z.Angl.v.val=180/Math.PI*c;Z.Scl.v.val=100*at.we(E,t);l=(E.x+t.x)/2;q=(E.y+t.y)/2}if(k==1){Z.Scl.v.val=200*at.we(E,t);
l=E.x;q=E.y}if(k==2){Z.Angl.v.val=180/Math.PI*(c-Math.PI/2)}var d=Z.Ofst.v;d.Hrzn.v.val=l*100;d.Vrtc.v.val=q*100;
var V=[];for(var U=0;U<w.stops.length;U++){var L=w.stops[U],e=L.color;V.push([L.position,e?[e.red,e.green,e.blue]:[0,0,0],e.alpha])}x.M.Ty(V,$);
return Z};gi.Iz=function(w,M){var O=gi,b=1,D=w.contextSettings;if(D!=null){M.Md.v.BlnM=O.i4[D.blendMode];
b*=D.opacity}else M.Md.v.BlnM=O.i4[0];M.enab.v=w.isEnabled;if(M.uglg!=null)M.uglg.v=!1;if(w.color!=null)b*=w.color.alpha;
M.Opct.v.val=Math.round(b*100)};gi.Lb=function(w){return x.M.jk(w?{o:w.red*255,w:w.green*255,L:w.blue*255}:{o:0,w:0,L:0})};
gi.vG=function(w,M){var O=gi,b=[{type:6},{type:8,all:0}];for(var D=0;D<w.length;D++){var o=w[D],Z=o.booleanOperation,$=0,k=o._class,d=!1;
if(k=="group"||k=="text"||k=="symbolInstance"||k=="slice"){console.log(k+" inside ShapeGroup");continue}if(Z==-1)$=0;
else if(Z==0)$=1;else if(Z==1)$=2;else if(Z==2)$=3;else if(Z==3)$=0;if(D==0)$=1;var E=gi.WM(o.frame),t=O.fY(o,M),c=o.path?o.path:o,l=[{type:0,length:0,K$:$,pa:2,r1:0,HP:0}],q=c.points;
for(var U=0;U<q.length;U++){var V=q[U],L=O.sq(V.curveTo),e=O.sq(V.point),H=O.sq(V.curveFrom);d=d||V.hasCurveFrom&&!H.M5(e)||V.hasCurveTo&&!L.M5(e)}var j=[];
if(!d){var g=[],aq=q.length;if(aq==0)continue;for(var U=0;U<aq;U++){j[U]=q[U].cornerRadius;var V=O.sq(q[U].point);
g.push(V.x,V.y)}t.scale(1/E.e,1/E.n);t.ZW();x.p.F(g,t,g);l=x.O.U_.fQ(g,j).slice(2);l[0].K$=$}else{var K=q.length;
l[0].length=K;for(var U=0;U<K;U++){var V=q[U],a=V.curveMode,T=O.sq(V.point);l[1+U]={type:a==2||a==4?1:2,vA:V.hasCurveTo?O.sq(V.curveTo):T.clone(),I:T,YJ:V.hasCurveFrom?O.sq(V.curveFrom):T.clone()}}t.scale(1/E.e,1/E.n);
t.ZW();x.O.I0(l,t);var j=[];for(var U=0;U<K;U++){var V=q[U],a=V.curveMode,C=V.cornerRadius;if(a==1&&C!=0)j.push(C);
else j.push(0)}}if(!c.isClosed)for(var U=0;U<l.length;U++)l[U].type+=3;b=b.concat(l);var F=O.WC(o);if(t.L==0&&t.Hv==0){var m=t.hE,N=t.Qw,v=m+t.ip,h=N+t.uc,P=[m,N,v,h]}}return b};
gi.fY=function(w,M){var O=M.clone(),b=w.frame?gi.WM(w.frame):null;if(b)O.translate(-b.x-b.e/2,-b.y-b.n/2);
if(w.isFlippedHorizontal)O.scale(-1,1);if(w.isFlippedVertical)O.scale(1,-1);O.rotate(-w.rotation*(Math.PI/180));
if(b)O.translate(b.e/2,b.n/2);return O};gi.sq=function(w){w=w.slice(1,w.length-1).split(",");return new at(parseFloat(w[0]),parseFloat(w[1]))};
gi.WM=function(w){return new cn(w.x,w.y,w.width,w.height)};gi.a1=function(w){return{_class:"rect",constrainProportions:!1,x:w.x,y:w.y,width:w.e,height:w.n}};
function dR(){}dR.TC=function(w,M){var O=Date.now(),b=dR,D=UZIP.parse(w),o=JSON.parse(n.AL(D.manifest)),Z=JSON.parse(n.AL(D["resources/graphics/graphicContent.agc"])).resources,$=[],k=[],E=o.children;
for(var U=0;U<E.length;U++){var t=E[U];if(t.name=="artwork"){var c=t.children;for(var l=0;l<c.length;
l++){var q=c[l],d=JSON.parse(n.AL(D["artwork/"+q.path+"/graphics/graphicContent.agc"])),V=d.children;
if(V.length==0){}else if(V.length==1){if(q["uxdesign#bounds"]){q._node=V[0];$.push(q)}}else{var L=V[0],e=L.transform,H=L.shape;
if(H==null)H={x:0,y:0,width:1e3,height:1e3};if(H.type=="path"){var j=x.p.Kc(Typr.U.SVGToPath(H.path).crds);
H={x:j.x,y:j.y,width:j.e,height:j.n}}H=JSON.parse(JSON.stringify(H));if(e){H.x+=e.tx;H.y+=e.ty}q["uxdesign#bounds"]=H;
q._node={type:"artboard",artboard:{children:V}};k.push(q)}}}}if($.length==0)$=k;var g=[],K=new cn;for(var U=0;
U<$.length;U++){var q=$[U],a=gi.WM(q["uxdesign#bounds"]);g.push(a);K=K.MK(a)}var T=gi.kC(K,8192*8192);
M.Tb=!0;M.e=Math.round(K.e/T);M.n=Math.round(K.n/T);M.buffer=x.$(M.e*M.n*4);M.eN($.length);var C=new f$(T,0,0,T,K.x,K.y);
M.Yc={};for(var U=0;U<$.length;U++){var q=$[U],a=gi.WM(q["uxdesign#bounds"]),F=q._node,m=C.clone(),N=a.clone(),v=m.gy();
m.translate(-a.x,-a.y);N.x=-Math.floor(m.hE/v);N.y=-Math.floor(m.Qw/v);N.e=Math.floor(N.e/v);N.n=Math.floor(N.n/v);
m.translate(a.x,a.y);dR.iA(F,M,m,Z,D,N);var h=M.B[M.B.length-1];h.EJ(q.name);h.Bo(N);if(U!=$.length-1)h.add.lsct=ht.xe}delete M.Yc};
dR.Jd=function(w){if(w==null)return new f$;return new f$(w.a,w.b,w.c,w.d,w.tx,w.ty)};dR.iA=function(w,M,O,b,D,o){var Z=dR,$=w.type,k=w[$],E=w.style,t=Z.Jd(w.transform),d,V="none",L,e="none",H,j;
t.ZW();var c=O.clone();c.concat(t);var l=M.uV(),q=w.name;l.EJ(q?q.slice(0,250):"Layer");if(w.visible!=null)l.ah(w.visible);
if(E){d=E.stroke;V=d?d.type:"none";L=E.fill;e=L?L.type:"none";H=E.filters;j=E.clipPath;if(j&&b.clipPaths[j.ref])j=b.clipPaths[j.ref].children;
else j=null;if(E.opacity)l.opacity=Math.round(255*E.opacity);if(e=="solid"&&L.color.alpha)l.opacity=Math.round(l.opacity*L.color.alpha);
if(H){l.add.lmfx=Z.afA(H);for(var U=0;U<H.length;U++)if(H[U].type=="uxdesign#blur"){var g=H[U],K=g.params,a=K.brightnessAmount;
if(a==null)a=0;a=Math.abs(a/100);if((g.visible==null||g.visible==!0)&&K.backgroundEffect)l.opacity=Math.round(l.opacity*(a+(1-a)*K.fillOpacity))}}if(e=="pattern"&&L.pattern.meta.ux.uid=="")e="none"}if(j==null&&w.meta&&w.meta.ux&&w.meta.ux.clipPathResources)j=w.meta.ux.clipPathResources.children;
if($=="artboard"||$=="group"){if(j){var T=j[0],C=T.shape,F=C!=null&&C.type=="rect"&&C.width*C.height>1e6;
if(T.type!="text"&&!F){if(C){var t=Z.Jd(T.transform);t.ZW();var m=c.clone();m.concat(t);l.add.vmsk=new Q.G6;
l.add.vmsk.j=Z.vG(C);m=m.clone();m.ZW();x.O.I0(l.add.vmsk.j,m);l.De();l.h1(M)}}else if(!F)alert("Clipping by text has been ignored")}l.add.lsct=ht.cx;
l.eI="pass";l.N7=24;if(w.visible!=null)l.ah(w.visible);M.B.push(M.iB());var N=k.children,v=L;if(v)v=v.color;
if(v)v=v.value;if(L){if($=="artboard"&&e=="solid"){l.Bo(new cn(0,0,10,10));l.add.artb.Clr={t:"Objc",v:x.M.jk({o:v.r,w:v.g,L:v.b})};
l.add.artb.artboardBackgroundType={t:"long",v:4}}else{var h=M.uV();h.EJ("BACKGROUND");h.N7|=16;h.add.vstk=JSON.parse(JSON.stringify(aN.d_.default));
h.add.vmsk=new Q.G6;h.add.vmsk.j=Z.vG({type:"rect",x:o.x,y:o.y,width:o.e,height:o.n});Z.AA(L,e,c,o,o,h,M,b,D);
h.De();h.h1(M);M.B.push(h)}}for(var U=0;U<N.length;U++){dR.iA(N[U],M,c,b,D,o)}}else if($=="shape"&&(k.type=="rect"&&(k.r==null||k.r==0)||k.type=="path"&&UDOC.G.isBox(Typr.U.SVGToPath(k.path)))&&e=="pattern"&&(Math.abs(k.width/k.height-L.pattern.width/L.pattern.height)<.01||E.fill.pattern.meta.ux.scaleBehavior=="fill")){var P=L.pattern,J=P.meta.ux,Y=J.uid,B=D["resources/"+Y];
if(B==null){console.log(P);return}var S=M.Xu(B,l.getName(),0,0);S.N7=l.N7;S.opacity=l.opacity;l=S;var r=x.O.rt(Z.vG(k),null),I=x.p.zl(new cn(0,0,P.width,P.height)).C,f=new f$;
f.scale(P.width/r.e,P.height/r.n);if(J.offsetX)f.translate(-J.offsetX*P.width,0);if(J.offsetY)f.translate(0,-J.offsetY*P.height);
c.concat(f);c.ZW();x.p.F(I,c,I);l.add.SoLd.Trnf=y.u.KT(I);l.add.SoLd.nonAffineTransform=y.u.KT(I);l.Gf(M,!1)}else if($=="shape"){l.N7|=16;
l.add.vstk=JSON.parse(JSON.stringify(aN.d_.default));l.add.vmsk=new Q.G6;l.add.vmsk.j=Z.vG(k);var r=x.O.rt(l.add.vmsk.j,null),m=c.clone();
m.ZW();x.O.I0(l.add.vmsk.j,m);var s=x.O.rt(l.add.vmsk.j,null);if(V=="none"){}else{var W=d.color.value,i,u;
i="SoFi";var z=JSON.parse(aN.hx[aN.order.indexOf("SoFi")]);u={t:"Objc",v:z};u.v.Clr.v=x.M.jk({o:W.r,w:W.g,L:W.b});
var G=d.align,g_=d.cap;if(G==null)G="center";var cl=l.add.vstk;cl.strokeEnabled.v=!0;cl.strokeStyleLineWidth.v.val=d.width;
if(G)cl.strokeStyleLineAlignment.v.strokeStyleLineAlignment=aN.d_.dB[["inside","center","outside"].indexOf(G)];
if(g_)cl.strokeStyleLineCapType.v.strokeStyleLineCapType=aN.d_.nH[["butt","round","square"].indexOf(g_)];
var p=["SoFi","GrFl","patternFill"].indexOf(i),b2=[aN.J1,aN.JK,aN.KO][p];cl.strokeStyleContent.v={classID:aN.d_.SA[0]};
var jz=cl.strokeStyleContent.v={classID:aN.d_.SA[p]};for(var U=0;U<b2.length;U++)jz[b2[U]]=u.v[b2[U]]}if(H)for(var U=0;
U<H.length;U++)if(H[U].type=="uxdesign#blur"&&H[U].visible){var aT=H[U];l.add.vmsk.Yo=aT.params.blurAmount}Z.AA(L,e,c,r,s,l,M,b,D);
l.De();l.h1(M)}else if($=="text"&&w.text){var fZ=w.text,ft=fZ.frame,cc=E.font,kr=E.textAttributes,t=c.clone(),bx=0;
t.ZW();l.add.lnsr="rend";l.add.TySh=ah.Wm(0,0);l.add.TySh.AY=new cn(0,0,100,100);l.add.TySh.F=t;var hG=l.add.TySh.GM,hi=fZ.rawText.replace(/\r/g,"\n").replace(/\u000b/g,"\n");
ah.nD(hG,0,hi);if(hi!=""){var bU=ah._J(hG,0,1),ic=cc.postscriptName;if(ic==null)ic=cc.family;ah.Lh(bU,ic);
bU.Qc.FontSize=Math.round(cc.size);if(L){var W=L.color.value;bU.Qc.FillColor={Type:1,Values:[1,W.r/255,W.g/255,W.b/255]}}if(kr){if(kr.paragraphAlign)bU.xy.Justification=["left","right","center"].indexOf(kr.paragraphAlign);
if(kr.letterSpacing)bU.Qc.Tracking=Math.round(kr.letterSpacing);if(kr.lineHeight){bU.Qc.AutoLeading=!1;
bU.Qc.Leading=Math.round(kr.lineHeight)}}ah.j_(hG,0,hi.length,bU)}var iQ=w.meta.ux.rangedStyles;if(iQ)for(var U=0;
U<iQ.length;U++){var k=iQ[U],aR=Math.min(k.length,hi.length-bx);if(U==iQ.length-1)aR=hi.length-bx;var bU=ah._J(hG,bx,bx+aR),ic=k.postscriptName;
if(ic==null)ic=k.family;if(ic!=null)ah.Lh(bU,ic);var gs=k.textScript,k7=k.underline,fT=k.fontSize,g=k.fill,aH=k.textTransform;
if(gs&&gs!="none")bU.Qc.FontBaseline=gs=="superscript"?1:2;if(k7!=null)bU.Qc.Underline=k7;if(fT!=null)bU.Qc.FontSize=Math.round(fT);
if(aH!=null)bU.Qc.FontCaps=aH=="uppercase"?2:0;if(aH=="lowercase"){ah.Rm(hG,bx,bx+aR);ah.nD(hG,bx,hi.slice(bx,bx+aR).toLowerCase())}if(g!=null){var e7=g.value;
bU.Qc.FillColor={Type:1,Values:[1,(e7>>>16&255)/255,(e7>>>8&255)/255,(e7>>>0&255)/255]}}ah.j_(hG,bx,bx+aR,bU);
bx+=aR}if(ft.type=="area"||ft.type=="autoHeight"){var dB=ft.width,ia=ft.height;ah.EC(hG,1);ah.h4(hG,[0,0,dB,ia!=null?ia:dB*2])}}else if($=="syncRef"){var d7=w.syncSourceGuid,hf=b.meta.ux.symbols,gv=Z.sR(hf,d7);
if(gv){var hP=c.clone();hP.concat(Z.Jd(gv.transform));dR.iA(gv,M,hP,b,D,o)}return}else console.log($,w);
M.B.push(l)};dR.sR=function(w,M){for(var U=0;U<w.length;U++){var O=w[U],b=O.group;if(O.id==M)return O;
if(b){var D=dR.sR(b.children,M);if(D)return D}}return null};dR.vG=function(w){var M=w.type,O=[{type:6},{type:8,all:0}];
if(M=="rect"){var b=w.r,D=w.x,o=w.y,Z=w.width,$=w.height;O=x.O.U_.Rect(D,o,Z,$,b?b:0)}else if(M=="circle"){var b=w.r;
O=x.O.U_.A1(w.cx-b,w.cy-b,2*b,2*b)}else if(M=="ellipse"){var k=w.rx,E=w.ry;O=x.O.U_.A1(w.cx-k,w.cy-E,2*k,2*E)}else if(M=="path"||M=="compound"){var t=Typr.U.SVGToPath(w.path);
O=x.p.aG({H:t.cmds,C:t.crds},!1)}else if(M=="line"){var c=w.x1,l=w.x2,q=w.y1,d=w.y2;O=x.O.U_.fQ([c,q,l,d],0,!0)}else if(M=="polygon"){var V=w.points,L=[];
for(var U=0;U<V.length;U++)L.push(V[U].x,V[U].y);O=O.concat(x.O.U_.fQ(L,0,!1).slice(2))}else console.log(M,w);
return O};dR.afA=function(w){var M=JSON.parse(aN.default);for(var U=0;U<aN.order.length;U++)M[aN.IU[U]]={t:"VlLs",v:[]};
for(var U=0;U<w.length;U++){var O=w[U],b=O.type,D=O.params,o=O.visible;if(b=="dropShadow"){var Z=aN.IU[aN.order.indexOf("DrSh")],$=JSON.parse(aN.hx[aN.order.indexOf("DrSh")]);
M[Z].v.unshift({t:"Objc",v:$});var k=D.dropShadows;if(k.length!=1)throw"e";var E=k[U],t=E.color,c=t.value,l=E.dx,q=E.dy;
$.Clr.v=x.M.jk({o:c.r,w:c.g,L:c.b});$.Opct.v.val=Math.round((t.alpha!=null?t.alpha:1)*100);$.uglg.v=!1;
$.enab.v=o!=null?o:!0;$.lagl.v.val=Math.round(180/Math.PI*Math.atan2(q,-l));$.Dstn.v.val=Math.round(Math.sqrt(l*l+q*q));
$.blur.v.val=Math.round(E.r*2.3)}}return M};dR.AA=function(w,M,O,b,D,o,Z,$,k){var E=dR;if(M=="none"){o.add.vstk.fillEnabled.v=!1;
o.add.SoCo={classID:"null",Clr:{t:"Objc",v:x.M.jk({o:0,w:0,L:0})}}}else{var t,c,l;if(M=="solid"){var q=w.color.value;
t="SoCo";c=aN.J1;var d=JSON.parse(aN.hx[aN.order.indexOf("SoFi")]);l={t:"Objc",v:d};l.v.Clr.v=x.M.jk({o:q.r,w:q.g,L:q.b})}else if(M=="gradient"){t="GdFl";
c=aN.JK;var d=JSON.parse(aN.hx[aN.order.indexOf("GrFl")]),V=d.Grad.v,g,K,a;V.Intr.v=0;var L=w[M],e=L.ref?$.gradients[L.ref]:L.meta.ux.gradientResources,H=["linear","radial","angular"].indexOf(e.type),j=e.stops;
d.Type.v.GrdT=["Lnr","Rdl","Angl"][H];if(H==0){var g=new at(L.x1,L.y1),K=new at(L.x2,L.y2);g.x=K.x+.5*(g.x-K.x);
g.y=K.y+.5*(g.y-K.y)}else{var g=new at(L.cx,L.cy),K=new at(L.cx+L.r,L.cy)}a=D;if(L.units=="objectBoundingBox"){var T=new f$(b.e,0,0,b.n,b.x,b.y);
g=T.xU(g);K=T.xU(K)}var T=E.Jd(L.transform);g=T.xU(g);K=T.xU(K);T=O.clone();T.ZW();g=T.xU(g);K=T.xU(K);
x.M.LE(g,K,a,d);var C=[];for(var U=0;U<j.length;U++){var F=j[U],m=F.color,q=m.value,N=m.alpha;if(N==null)N=1;
C.push([F.offset,[q.r/255,q.g/255,q.b/255],N])}x.M.Ty(C,V);l={t:"Objc",v:d}}else if(M=="pattern"){t="PtFl";
c=aN.KO;var d=JSON.parse(aN.hx[aN.order.indexOf("patternFill")]),I;l={t:"Objc",v:d};var v=w[M],h=v.meta.ux,P=h.uid,J=k["resources/"+P].buffer,Y=h.flipX,B=h.flipY,S=P+Y+B,r=ce.S5(J);
if(Z.Yc[S])I=Z.Yc[S];else{var f=new cn(0,0,v.width,v.height),s;if(f.S9()||r==null){f=new cn(0,0,1,1);
s=new ArrayBuffer(4)}else{var W=ce.ti(r);if(W.wZ){var i=new fO;W.sc(J,i);s=i.Hp().buffer}else{try{var u=W.sc(J)[0];
s=u.data;f=u.fJ}catch(fr){s=new ArrayBuffer(f.v()*4)}}}I={};I.id=fO.ZU()+"-d71c-11e5-b1ae-a548a96e5f9f";
I.name="someImage";I.f4=[new Uint8Array(s),f];if(Y)x.N.xj(I.f4[0].slice(0),I.f4[0],f.e,f.n);if(B)x.N.aau(I.f4[0].slice(0),I.f4[0],f.e,f.n);
Z.RI(I);Z.Yc[S]=I}var z=O.clone();z.ZW();z.translate(b.x,b.y);var G=b.e,g_=b.n,cl=I.f4[1].e,p=I.f4[1].n,b2=Math.max(G/cl,g_/p);
if(h.scale)b2*=h.scale;var jz=new f$;jz.translate(-cl/2,-p/2);jz.scale(1/cl,1/p);if(h.offsetX!=null)jz.translate(h.offsetX,h.offsetY);
jz.scale(cl,p);jz.scale(b2,b2);jz.translate(G/2,g_/2);jz.concat(z);eR.as1(I,d,0,0,1e3,jz)}else console.log(M);
if(t!=null){o.add[t]={classID:"null"};for(var U=0;U<c.length;U++){var aT=c[U];o.add[t][aT]=l.v[aT]}}}};
function f0(){}f0.TC=function(w,M,O){w=new Uint8Array(w);var b=n.AL(w,0,w.length),D=new DOMParser,o=D.parseFromString(b,"image/svg+xml"),Z=o.getElementsByTagName("style")[0],q=1;
if(Z)Z=Typr.U.SVG.cssMap(Z.textContent);else Z={};var $=o.firstChild;while($.tagName!="svg")$=$.nextSibling;
var k=new cn(0,0,100,100),E=$.getAttribute("viewBox"),t=$.getAttribute("width"),c=$.getAttribute("height");
if(E){var l=f0.L8(E);k.x=l[0];k.y=l[1];k.e=l[2];k.n=l[3]}else if(t!=null||c!=null){k.e=t!=null?parseFloat(t):parseFloat(c);
k.n=c!=null?parseFloat(c):parseFloat(t)}k=x.p.Mf(k);while(O&&Math.max(k.e*q,k.n*q)<Math.max(O[0],O[1]))q++;
while(O==null&&Math.max(k.e,k.n)*q>8192)q*=.5;M.Tb=!0;M.e=~~(k.e*q);M.n=~~(k.n*q);M.buffer=x.$(M.e*M.n*4);
var d=new f$(q,0,0,q,-k.x*q,-k.y*q),V={Pg:f0.T1($),a1p:Z,K8:0};f0.UP(o,$.children,M,d,V,new f$,0);if(M.B.length==0){var L=M.uV();
L.EJ("Layer");M.B.push(L)}};f0.L8=function(w){var M=" ";if(w.indexOf(",")!=-1)M=",";return w.split(M).map(parseFloat)};
f0.UP=function(w,M,O,b,D,o,Z,$){var k=f0,E=["display","opacity","fill-opacity","filter"];for(var t=0;
t<M.length;t++){var c=M[t],l=c.tagName,q=c.getAttribute("id"),L=13,K=1,C="clip-path",F=null,S=0;if(q==null)q=c.getAttribute("data-name");
var d=k.T1(c,D.a1p);for(var V in D.Pg)if(E.indexOf(V)==-1&&d[V]==null)d[V]=D.Pg[V];if(d["font-size"])L=k.IS(d["font-size"],L);
if(c.getAttribute("dx"))b.hE+=k.IS(c.getAttribute("dx"),L);if(c.getAttribute("dy"))b.Qw+=k.IS(c.getAttribute("dy"),L);
var e=k.gb(c);e.concat(b);var H=c.getAttribute("visibility"),j=d.display,g=O.uV();if(H=="hidden"||j=="none")g.ah(!1);
g.EJ(q!=null?q.split(":::")[0]:"Layer");if(d.opacity)K*=parseFloat(d.opacity);if(d["fill-opacity"]){var a=parseFloat(d["fill-opacity"]);
if(a!=0)K*=a}g.opacity=Math.round(255*K);if(d["mix-blend-mode"]){var T=gA.a9$.indexOf(d["mix-blend-mode"]);
if(T!=-1)g.eI=gA.J5[T]}if(c.getAttribute(C)==null)C="mask";if(c.getAttribute(C)!=null){var m=c.getAttribute(C);
m=m.slice(4,m.length-1);var N=w.getElementById(m.slice(1));if(N){var v=N.children;F=O.uV();F.EJ("Clip-Path"+(q?": "+q:""));
F.add.lsct=Z<2?ht.cx:ht.xe;F.eI="pass";F.N7=24;var h=F.add.vmsk=new Q.G6;O.B.push(O.iB());var P=[];if(N.getAttribute(C)){var m=N.getAttribute(C);
m=m.slice(4,m.length-1);P=w.getElementById(m.slice(1)).children}for(var U=0;U<v.length;U++){var J=k.gb(v[U]);
J.concat(e);var Y=k.vG(O,w,v[U],!1).slice(2);x.O.I0(Y,J);h.j=h.j.concat(Y)}for(var U=0;U<P.length;U++){var J=k.gb(v[U]);
J.concat(e);var Y=k.vG(O,w,P[U],!1).slice(2);for(var B=0;B<Y.length;B++)if(Y[U].K$!=null)Y[U].K$=3;x.O.I0(Y,J);
h.j=h.j.concat(Y)}F.De();F.h1();Z++}}if(d.filter&&d.filter!="none"){var r=d.filter,f,s,W,u=!1,z=!1,G=!1;
r=r.slice(5,r.length-1);var I=w.getElementById(r),i=[0,0,0,.5],g_=y.u.gy(e);if(I)for(var U=0;U<I.children.length;
U++){var cl=I.children[U];if(cl.tagName=="feGaussianBlur"){u=!0;f=parseFloat(cl.getAttribute("stdDeviation"))*g_}if(cl.tagName=="feColorMatrix"){var p=cl.getAttribute("values");
if(p){p=p.split(" ").map(parseFloat);i=[p[4],p[9],p[14],p[18]]}}if(cl.tagName=="feComposite"){G=!0}if(cl.tagName=="feOffset"){z=!0;
var b2=cl.getAttribute("dx"),jz=cl.getAttribute("dy");s=parseFloat(b2?b2:0)*g_;W=parseFloat(jz?jz:0)*g_}}if(G||z){var aT=G?"IrSh":"DrSh";
if(aT=="IrSh"){g.add.iOpa=0}var fZ=JSON.parse(aN.hx[aN.order.indexOf(aT)]);fZ.blur.v.val=Math.round(f*2.4);
var ft=Math.sqrt(s*s+W*W);fZ.uglg.v=!1;fZ.Dstn.v.val=Math.round(ft);fZ.lagl.v.val=Math.round(Math.atan2(W,-s)*(180/Math.PI));
fZ.Clr.v=x.M.jk({o:i[0]*255,w:i[1]*255,L:i[2]*255});fZ.Opct.v.val=Math.round(i[3]*100);k.jm(g,aN.IU[aN.order.indexOf(aT)],fZ)}else if(u)S=f}if(l=="g"||l=="a"||l=="svg"||l=="switch"||(l=="text"||l=="textPath")&&c.children.length>0||l=="symbol"&&$){if(l=="text")o=k.f9(c,o);
var cc=c.getAttribute("viewBox"),kr=c.getAttribute("width"),hG=c.getAttribute("height");if(cc&&kr&&hG){var hi=f0.L8(cc),bU=k.f9(c),ic=new f$;
ic.translate(-hi[0],-hi[1]);ic.scale(parseFloat(kr)/hi[2],parseFloat(hG)/hi[3]);ic.translate(bU.hE,bU.Qw);
ic.concat(e);e=ic}var iQ=c.children.length,bx=D.Pg;D.Pg=d;var aR=D.K8;D.K8=Math.max(D.K8,S);var gs=l!="text"&&l!="textPath"||iQ>1;
if(gs){var k7=g.Vd();g.add.lsct=Z<2&&k7&&(q==null||!q.endsWith(":::"))?ht.cx:ht.xe;g.eI="pass";g.N7=24;
g.ah(k7);O.B.push(O.iB())}k.UP(w,c.children,O,e,D,o,Z+1);if(gs)O.B.push(g);else{var fT=O.B[O.B.length-1];
fT.opacity=g.opacity;fT.eI=g.eI}D.K8=aR;D.Pg=bx}else if(l=="use"){var ic=k.f9(c);ic.concat(e);var aH=k.Zx(c),e7=w.getElementById(aH.slice(1));
if(e7){var bx=D.Pg;D.Pg=d;if(d.filter)e7.setAttribute("filter",d.filter);k.UP(w,[e7],O,ic,D,o,Z+1,!0);
D.Pg=bx}}else if(l=="path"||l=="rect"||l=="circle"||l=="ellipse"||l=="polygon"||l=="polyline"||l=="line"){g.N7|=16;
g.add.vmsk=new Q.G6;g.add.vstk=JSON.parse(JSON.stringify(aN.d_.default));g.add.vstk.strokeEnabled.v=!1;
var dB=g.add.vstk,h=g.add.vmsk,ia=d.fill,d7=ia=="none"||d["fill-opacity"]&&parseFloat(d["fill-opacity"])==0;
h.j=k.vG(O,w,c,d["fill-rule"]=="evenodd",d7);x.O.I0(h.j,e);var hf=x.O.rt(h.j),gv=d.stroke,hN=d["stroke-width"],hP=d["stroke-dasharray"],gP=d["stroke-linejoin"],i7=d["stroke-linecap"],dI=d["paint-order"];
if(gv==null||gv=="none"||gv=="null"){}else{var gh=k.C0(w,gv,e,hf,O),b9=["SoFi","GrFl","patternFill"].indexOf(gh.type),ij=gh.G.v.Opct.v,am=1;
if(ij.val!=100){g.opacity=Math.round(g.opacity*ij.val/100);ij.val=100}var ax=[aN.J1,aN.JK,aN.KO][b9],iX=dB.strokeStyleContent.v={classID:aN.d_.SA[b9]};
for(var U=0;U<ax.length;U++)iX[ax[U]]=gh.G.v[ax[U]];hN=hN?parseFloat(hN):1;if(dI&&dI.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"){am=2;
hN/=2}dB.strokeEnabled.v=!0;if(gP)dB.strokeStyleLineJoinType.v.strokeStyleLineJoinType=aN.d_.join[["miter","round","bevel"].indexOf(gP)];
if(i7)dB.strokeStyleLineCapType.v.strokeStyleLineCapType=aN.d_.nH[["butt","round","square"].indexOf(i7)];
dB.strokeStyleLineWidth.v.val=hN*y.u.gy(e);dB.strokeStyleLineAlignment.v.strokeStyleLineAlignment=aN.d_.dB[am];
dB.strokeStyleOpacity.v.val=100*(d["stroke-opacity"]?parseFloat(d["stroke-opacity"]):1);if(hP!=null&&hP!="none")dB.strokeStyleLineDashSet.v=eR.z4(hP.split(",").map(parseFloat),1/hN)}if(d7){g.add.vstk.fillEnabled.v=!1;
g.add.SoCo={classID:"null",Clr:{t:"Objc",v:x.M.jk({o:0,w:0,L:0})}}}else{var gh=k.C0(w,ia,e,hf,O),jf=null,eJ=null;
if(gh.type=="SoFi"){jf="SoCo";eJ=aN.J1}if(gh.type=="GrFl"){jf="GdFl";eJ=aN.JK}if(gh.type=="patternFill"){jf="PtFl";
eJ=aN.KO}if(jf!=null){var ij=gh.G.v.Opct.v;if(ij.val!=100){g.opacity=Math.round(g.opacity*ij.val/100);
ij.val=100}g.add[jf]={classID:"null"};for(var U=0;U<eJ.length;U++){var V=eJ[U];g.add[jf][V]=gh.G.v[V]}}}var hZ=Math.max(S,D.K8);
if(hZ!=0)g.add.vmsk.Yo=hZ;g.De();g.h1(O);O.B.push(g)}else if((l=="text"||l=="tspan")&&c.textContent!=""){o=k.f9(c,o);
var ic=o.clone(),W=0;ic.concat(e);if(c.children.length>0){var hC=k.T1(c.children[0],D.a1p);for(var V in hC)if(E.indexOf(V)==-1)d[V]=hC[V]}var ds=d["xml:space"],hV=c.textContent;
if(ds=="preserve")hV=hV.replace(/\t/g," ").replace(/\n/g," ");if(q==null)g.EJ(hV);g.add.lnsr="rend";
g.add.TySh=ah.Wm(0,0);g.add.TySh.AY=new cn(0,0,100,100);g.add.TySh.F=ic.clone();var bv=g.add.TySh.GM;
ah.nD(bv,0,hV);var ia=d.fill,hl=d["font-weight"],jQ=d["font-family"],a$=d["text-decoration"],gv=d.stroke,hN=d["stroke-width"],jB=d["dominant-baseline"];
if(jB=="text-before-edge")W=L;else if(jB=="middle")W=L/2;else if(jB=="hanging")W=L;if(W!=0)g.add.TySh.F.translate(0,W);
var jL=ah._J(bv,0,1);if(ia&&ia!="none"){var i=CSS.Lb(ia);jL.Qc.FillColor={Type:1,Values:[1,i.o/255,i.w/255,i.L/255]}}if(a$=="underline")jL.Qc.Underline=!0;
jL.Qc.FontSize=Math.round(L);ah.Lh(jL,"LiberationSans");if(hl=="bold")ah.Lh(jL,"LiberationSans-Bold");
if(jQ){jQ=jQ.split(",")[0].trim();if(jQ[0]=="\"")jQ=jQ.slice(1);if(jQ[jQ.length-1]=="\"")jQ=jQ.slice(0,jQ.length-1);
var c1=jQ+":"+(hl?hl:"normal"),fd={"'DejaVu Sans':normal":"DejaVuSans","'DejaVu Sans':bold":"DejaVuSans-Bold","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol","Libre Franklin:300":"LibreFranklin-Light","Libre Franklin:400":"LibreFranklin-Regular","Libre Franklin:500":"LibreFranklin-Medium","Libre Franklin:600":"LibreFranklin-SemiBold","Libre Franklin:700":"LibreFranklin-Bold"};
if(fd[c1])ah.Lh(jL,fd[c1]);else ah.Lh(jL,jQ)}if(d["text-anchor"])jL.xy.Justification=["start","end","middle"].indexOf(d["text-anchor"]);
ah.j_(bv,0,hV.length,jL);if(gv==null||gv=="none"){}else{var fZ=JSON.parse(aN.hx[aN.order.indexOf("FrFX")]);
fZ.Clr.v=x.M.jk(CSS.Lb(gv));fZ.Sz.v.val=Math.round(parseFloat(hN)*y.u.gy(ic));k.jm(g,"frameFXMulti",fZ)}O.B.push(g)}else if(l=="image"){var aH=k.Zx(c);
if(aH&&aH.slice(0,4)=="data"){var g2=ce.v$(aH),ed=g2,ip=O.Xu(ed,g.getName(),0,0);ip.N7=g.N7;g=ip;var bS=g.rect.clone();
bS.x=bS.y=0;var hg=c.getAttribute("width"),dZ=c.getAttribute("height");if(hg)bS.e=parseFloat(hg);if(dZ)bS.n=parseFloat(dZ);
var cA=k.f9(c);cA.concat(e);var j$=x.p.zl(bS).C;x.p.F(j$,cA,j$);g.add.SoLd.Trnf=y.u.KT(j$);g.add.SoLd.nonAffineTransform=y.u.KT(j$);
g.Gf(O,!1);O.B.push(g)}}else console.log("unknown tag: "+l,c.children.length,c.textContent.length);if(F!=null){O.B.push(F);
Z--}}};f0.jm=function(w,M,O){var b=w.add.lmfx;if(b==null){var b=w.add.lmfx=JSON.parse(aN.default);for(var U=0;
U<aN.order.length;U++)b[aN.IU[U]]={t:"VlLs",v:[]}}b[M].v.push({t:"Objc",v:O})};f0.vG=function(w,M,O,b,D){var o=f0,Z=[{type:6},{type:8,all:0}],$=O.tagName;
if($=="use"){var k=o.Zx(O),E=M.getElementById(k.slice(1)),t=new f$;if(E.tagName!="rect")t=o.f9(E);t.concat(o.gb(E));
Z=o.vG(w,M,E,b,D);x.O.I0(Z,t)}else if($=="path"){var c=O.getAttribute("d");if(c==null)return Z;var l=Typr.U.SVGToPath(c);
Z=x.p.aG({C:l.crds,H:l.cmds},b,D)}else if($=="rect"){var q=O.getAttribute("rx"),d=o.f9(O),V=new at(0,0);
o.lV("width",O,w,V,!0);o.lV("height",O,w,V,!1);Z=x.O.U_.Rect(d.hE,d.Qw,V.x,V.y,q?parseFloat(q):0)}else if($=="circle"||$=="ellipse"){var L=[0,0,0,0],e=["cx","cy","rx","ry","r"];
for(var U=0;U<5;U++){var H=O.getAttribute(e[U]);if(H){H=parseFloat(H);if(U<4)L[U]=H;else L[2]=L[3]=H}}Z=x.O.U_.A1(L[0]-L[2],L[1]-L[3],2*L[2],2*L[3])}else if($=="polygon"||$=="polyline"||$=="line"){var j;
if($=="line")j=[O.getAttribute("x1"),O.getAttribute("y1"),O.getAttribute("x2"),O.getAttribute("y2")].map(parseFloat);
else j=O.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat);
Z=x.O.U_.fQ(j,0,$!="polygon")}return Z};f0.IS=function(w,M){if(w.charAt(w.length-1)=="m")return M*parseFloat(w.slice(0,w.length-2));
else return parseFloat(w)};f0.C0=function(w,M,O,b,D){var o,Z,$=f0,k=JSON.parse(aN.hx[aN.order.indexOf("SoFi")]),E=M!=null?M.indexOf("("):-1;
if(E!=-1){var t=M.indexOf(")"),c=M.slice(0,E).trim(),l=M.slice(E+1,t).trim();if(l.charAt(0)=="'")l=l.slice(1,l.length-1);
if(c=="url"){if(l.charAt(0)=="#"){var q=w.getElementById(l.slice(1));if(q&&q.tagName.toLowerCase().endsWith("gradient")){var d=$.Pl(w,q,O,b);
o="GrFl";Z={t:"Objc",v:d}}else if(q&&q.tagName.toLowerCase()=="pattern"&&q.children[0]&&q.children[0].tagName=="use"){o="SoFi";
Z={t:"Objc",v:k};var V=q.children[0],L=$.gb(V),e=$.Zx(V),H=w.getElementById(e.slice(1)),j=ce.v$($.Zx(H)).buffer,g=ce.ti(ce.S5(j)),K=g.sc(j)[0],a={};
a.id=fO.ZU()+"-d71c-11e5-b1ae-a548a96e5f9f";a.name="someImage";a.f4=[new Uint8Array(K.data),K.fJ];D.RI(a);
var k=JSON.parse(aN.hx[aN.order.indexOf("patternFill")]);k.Scl.v.val=Math.round(100*b.e*L.ip);var T=k.phase.v;
T.Hrzn.v=Math.round(b.x+L.hE*b.e);T.Vrtc.v=Math.round(b.y+L.Qw*b.n);k.Ptrn.v.Idnt.v=a.id;o="patternFill";
Z={t:"Objc",v:k}}else{o="SoFi";Z={t:"Objc",v:k}}}else console.log("unknown url",l)}else if(c=="rgb"||c=="rgba"){o="SoFi";
Z={t:"Objc",v:k};Z.v.Clr.v=x.M.jk(CSS.Lb(M));if(c=="rgba")Z.v.Opct.v.val=Math.round(100*parseFloat(M.split(",").pop()))}else console.log("unknown fill",M)}else{o="SoFi";
Z={t:"Objc",v:k};var C=CSS.Lb(M);Z.v.Clr.v=x.M.jk(C);if(C.ip!=null)Z.v.Opct.v.val=Math.round(100*C.ip/255)}return{type:o,G:Z}};
f0.gb=function(w){var M=new f$,O=w.getAttribute("transform");if(O)M=f0.cI(O);var b=w.getAttribute("style");
if(b!=null){var D={};f0.$E(D,b,["transform"]);b=D.transform;if(b)M.concat(f0.cI(b))}return M};f0.f9=function(w,M){var O=new f$,b=w.getAttribute("x"),D=w.getAttribute("y");
if(b)O.hE=parseFloat(b);else if(M)O.hE=M.hE;if(D)O.Qw=parseFloat(D);else if(M)O.Qw=M.Qw;return O};f0.cI=function(w){var M=Typr.U.SVG.readTrnf(w);
return new f$(M[0],M[1],M[2],M[3],M[4],M[5])};f0.T1=function(w,M){var O={},b="fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order mix-blend-mode xml:space".split(" ");
for(var U=0;U<b.length;U++){var D=w.getAttribute(b[U]);if(D!=null&&D!="inherit")O[b[U]]=D}var o=w.getAttribute("class");
if(M!=null&&o!=null&&M["."+o]!=null)f0.$E(O,M["."+o],b);var Z=w.getAttribute("id");if(M!=null&&Z!=null&&M["#"+Z]!=null)f0.$E(O,M["#"+Z],b);
var $=w.getAttribute("style");if($!=null)f0.$E(O,$,b);return O};f0.$E=function(w,M,O){M=M.trim().split(";");
for(var U=0;U<M.length;U++){var b=M[U].split(":"),D=b[0]?b[0].trim():"",o=b[1]?b[1].trim():"";for(var Z=0;
Z<O.length;Z++)if(D==O[Z]&&o!="inherit")w[O[Z]]=o}};f0.Zx=function(w){var M=w.getAttribute("xlink:href");
if(M==null)M=w.getAttribute("href");if(M==null)M=w.getAttribute("xl:href");return M};f0.lV=function(w,M,O,b,D){var o=M.getAttribute(w);
if(o==null)return;var Z=parseFloat(o);if(o.endsWith("%"))Z*=(D?O.e:O.n)/100;if(D)b.x=Z;else b.y=Z};f0.Pl=function(w,M,O,b){var D=f0,o=D.lV,Z=new f$,$=M.getAttribute("gradientTransform"),q=!1;
if($)Z=D.cI($);Z.concat(O);var k=JSON.parse(aN.hx[aN.order.indexOf("GrFl")]),E=k.Grad.v;E.Intr.v=0;var t=M.tagName,c=new at(0,0),l=new at(b.e,0);
if(t=="linearGradient"){k.Type.v.GrdT="Lnr";o("x1",M,b,c,!0);o("y1",M,b,c,!1);o("x2",M,b,l,!0);o("y2",M,b,l,!1);
c.x=l.x+.5*(c.x-l.x);c.y=l.y+.5*(c.y-l.y)}if(t=="radialGradient"){k.Type.v.GrdT="Rdl";if(M.getAttribute("cx"))c.x=parseFloat(M.getAttribute("cx"));
if(M.getAttribute("cy"))c.y=parseFloat(M.getAttribute("cy"));l.ZK(c.x,c.y);if(M.getAttribute("r"))l.x+=parseFloat(M.getAttribute("r"))}var d=M;
while(!0){if(d.getAttribute("gradientUnits")=="userSpaceOnUse")q=!0;var V=D.Zx(d);if(V==null)break;d=w.getElementById(V.slice(1))}if(q){c=Z.xU(c);
l=Z.xU(l)}else{c.x=b.x+c.x*b.e;c.y=b.y+c.y*b.n;l.x=b.x+l.x*b.e;l.y=b.y+l.y*b.n}x.M.LE(c,l,b,k);var L=M.children;
if(L.length==0){var e=D.Zx(M);if(e==null)throw"gradient has no stops";var H=w.getElementById(e.slice(1));
if(H==null){console.log(e.slice(1))}else{var j=D.Pl(w,H,Z,b);k.Grad=j.Grad}}else{var g=[];for(var U=0;
U<L.length;U++){var K=L[U],a=D.T1(K),T=a["stop-color"],C=a["stop-opacity"],F=K.getAttribute("offset");
if(T==null)T="#000000";C=C==null?1:parseFloat(C);var m=F?parseFloat(F):0;T=CSS.Lb(T);if(T.ip!=null)C*=T.ip/255;
g.push([m,[T.o/255,T.w/255,T.L/255],parseFloat(C)])}x.M.Ty(g,E)}return k};f0.qf=function(){var w=null,M=null,O="",b="";
function D(T,C,F){var m=[],P=" { ",J=" } ",Y=!1;M=C;b=C.J8?"":"\t";O=C.J8?"":" ";var N=C.av$,v=C.a5z;
m.push("<svg version=\"1.2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+T.e+" "+T.n+"\" width=\""+N+"\" height=\""+v+"\">");
if(!C.J8)m.push(o(1)+"<title>"+H(T.name.split(".")[0])+"</title>");var h={zy:[],iu:[],GA:0,Fp:0,AR:0,nx:{},Qz:{},PS:0,d5:{},ai8:{},KY:0,Yv:[]};
d(T,h,T.root.children,1,C,F);if(h.zy.length!=0){m.push(o(1)+"<defs>");m=m.concat(h.zy);m.push(o(1)+"</defs>")}m.push(o(1)+"<style>");
if(C.J8){P="{";J="}"}for(var U=0;U<T.B.length;U++)if(T.B[U].add.TySh)Y=!0;if(Y&&!C.axa&&!C.akE)m.push(o(2)+"tspan"+P+"white-space:pre"+J);
for(var B in h.d5)m.push(o(2)+"."+B+P+h.d5[B]+J);m.push(o(1)+"</style>");m=m.concat(h.iu);m.push("</svg>");
m=m.join(C.J8?"":"\n");if(w){console.log(w);var S="SVGParser.gen.db = [\n";for(var U=0;U<w.length;U++){var r=w[U];
S+="{\n\tnam: \""+r.b1+"\",\n\tpts: [\n";for(var I=0;I<r.QQ.length;I++){var f=r.QQ[I];S+="\t\t[\""+f[0]+"\", { cmds: "+JSON.stringify(f[1].H)+", crds:"+JSON.stringify(f[1].C)+" } ]"+(I==r.QQ.length-1?"":",")+"\n"}S+="\t]\n}"+(U==w.length-1?"":",")+"\n"}S+="]\n";
console.log(S)}return n.qs(m)}function o(aq){var T="";for(var U=0;U<aq;U++)T+=b;return T}function Z(aq,T){if(T==null)T=1;
var C=""+parseFloat(aq.toFixed(T));if(C.startsWith("0."))C=C.slice(1);return C}function $(T,C){var F=T.add.lmfx;
if(F)F=F[C].v[0];if(F)F=F.v;if(F&&!F.enab.v)F=null;return F}function k(T,C){var F=$(T,"frameFXMulti");
if(F){var m=F.Sz.v.val;if(F.Styl.v.FStl=="OutF"){C.push("paint-order:stroke fill markers");m*=2}q(C,CSS.Oc(F.Clr.v),1);
if(m!=1)C.push("stroke-width: "+m);C.push("stroke-linejoin: round;")}}var E="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");
function t(T){var C=E.length,F="";for(var m=1;m<10;m++){var N=(C-10)*~~Math.pow(C,m-1);if(T<N){for(var U=0;
U<m;U++){var v=U==m-1?10:0,h=C-v,P=T%h;F=E[P+v]+F;T=Math.floor((T-P)/h)}break}T-=N}return F}function c(T,C,F,m){if(T.length!=0){if(m==null)m="s";
var N=T.join(";"),v=C.ai8[N];if(v==null){v=M.J8?t(C.KY):m+C.KY;C.KY++;C.ai8[N]=v;C.d5[v]=N}if(F)F.push(v);
return v}}function l(T){if(M.J8&&T.length==7&&T[0]=="#"){if(T[1]==T[2]&&T[3]==T[4]&&T[5]==T[6])T="#"+T[1]+T[3]+T[5]}return T}function q(T,C,F){C=l(C);
if(C!="#000"||F==1)T.push((F==0?"fill:":"stroke:")+O+C)}function d(T,C,F,m,N,v){for(var h=0;h<F.length;
h++){var P=F[h].q,J=P.add.lsct,Y=P.add.vmsk,B=P.add.vogk,S=P.add.vstk,r=P.add.TySh;if(Y&&!Y.isEnabled)Y=S=null;
var I=[];if(!N.hidden&&!P.Vd())continue;var f=P.opacity/255,s=P.add.iOpa?P.add.iOpa/255:1;if(f!=1)I.push("opacity:"+O+Z(f));
if(s!=1)I.push("fill-opacity:"+O+Z(s));if(P.eI!="norm"){var W=gA.a9$[gA.J5.indexOf(P.eI)];if(W!=null)I.push("mix-blend-mode:"+O+W)}if(!P.Vd())I.push("display:"+O+"none");
var i=[],u=[],z=P.getName(),G=z.indexOf(" .");if(!N.J8)i.push("id=\""+H(z)+"\"");var g_=eR.Fg(P.add.lmfx,P.add),cl=g_[0],p=g_[1];
if(P._N()){var b2=F[h].children;if(!(b2.length==1&&b2[0].q.add.SoLd&&!N.Cv)){if(w&&P.getName().split("-").length==3){w.push({b1:P.getName(),w_:0,QQ:[]})}g(P,Y,C,i);
if(I.length!=0)i.push("style=\""+I.join(";")+"\"");var jz=e(i,u),aT=N.J8&&jz=="";if(!aT)C.iu.push(o(m)+"<g"+(jz==""?"":" "+jz)+">");
d(T,C,b2,m+1,N,v);if(!aT)C.iu.push(o(m)+"</g>")}}else if(P.XS()&&Y==null){var fZ=new cn(0,0,T.e,T.n);
K(T,I,P.add,C,fZ,N);if(I.length!=0)i.push("style=\""+I.join(";")+"\"");C.iu.push(o(m)+"<rect width=\""+T.e+"\" height=\""+T.n+"\" "+e(i,u)+"/>")}else if(Y&&P.add.SoLd==null){var fZ=x.O.rt(Y.j,null,!0),ft,cc=null,kr=0,hG;
K(T,I,P.add,C,fZ,N);c(I,C,u);if(B.length!=0){ft=B[0].v;cc=ft.keyOriginType;if(cc)cc=cc.v;if(cc==2){var hi=x.lK.RJ(ft);
kr=hi[0];for(var U=0;U<3;U++)if(kr!=hi[U+1])cc=null}}if(B.length==1&&cc==5){var fZ=x.lK.DI(ft),bU=(fZ[0]+fZ[2])/2,ic=(fZ[1]+fZ[3])/2,iQ=bU-fZ[0],bx=ic-fZ[1],aR=Math.abs(iQ-bx)<.01,gs=aR?"r=\""+Z(iQ)+"\"":"rx=\""+Z(iQ)+"\" ry=\""+Z(bx)+"\"";
hG="<"+(aR?"circle":"ellipse")+" "+e(i,u)+" cx=\""+Z(bU)+"\" cy=\""+Z(ic)+"\" "+gs+"/>"}else if(B.length==1&&cc==2&&kr!=0){var fZ=x.lK.DI(ft),k7=fZ[0],fT=fZ[1],aH=fZ[2]-fZ[0],e7=fZ[3]-fZ[1],dB="";
if(k7!=0)dB+=" x=\""+Z(k7)+"\"";if(fT!=0)dB+=" y=\""+Z(fT)+"\"";dB+=" width=\""+Z(aH)+"\"";dB+=" height=\""+Z(e7)+"\"";
dB+=" rx=\""+Z(kr)+"\"";hG="<rect "+e(i,u)+dB+"></rect>"}else{var ia=x.O.FQ(Y.j,1);if(ia.Sf!=0){i.push("fill-rule=\"evenodd\"")}hG="<path "+e(i,u)+" d=\""+ia.cG+"\"/>"}C.iu.push(o(m)+hG);
if(w&&w[w.length-1]){var d7=x.p.EK(Y.j);d7.C=d7.C.map(Math.round);var hf=w[w.length-1];hf.w_+=JSON.stringify(d7).length;
hf.QQ.push([I[0].split("#").pop(),d7])}}else if(r&&N.axa){O=N.J8?"":" ";var gv=r.GM,hN=new bs(gv,v),hP=null;
if(cl)hP=CSS.Oc(cl.Clr.v);if(p){var fZ=P.rect.clone();a(p,C,fZ,N);hP="url(#g"+C.GA+")"}if(hP)I.push("fill:"+O+hP);
k(P,I);var gP=km.z9(hN,r),i7=x.p.Yr(gP);for(var dI in i7){var gh=I.slice(0),b9=u.slice(0),ij=i.slice(0);
if(hP==null){q(gh,dI.slice(0,7),0);if(dI.length>7){var ax=dI.slice(7).split("-");console.log(ax);q(gh,ax[1],1);
if(ax[2]!="1")gh.push("stroke-width:"+O+ax[2])}}c(gh,C,b9);var iX=i7[dI],ax=Typr.U.pathToSVG({crds:iX.C,cmds:iX.H},1);
C.iu.push(o(m)+"<path "+e(ij,b9)+(N.J8?"":" "+L(r))+" d=\""+ax+"\"/>")}}else if(r&&!N.akE){var gv=r.GM,am=r.F.clone(),hP=null;
I.push("transform:"+O+j(am));var jf=ah.mb(gv),hN=new bs(gv,v);k(P,I);if(I.length!=0)i.push("style=\""+I.join(";")+"\"");
C.iu.push(o(m)+"<text "+e(i,u)+" >");if(cl)hP=CSS.Oc(cl.Clr.v);if(p){var fZ=P.rect.clone();fZ.x-=am.hE;
fZ.y-=am.Qw;a(p,C,fZ,N);hP=" url(#g"+C.GA+")"}for(var U=0;U<hN.xy.length;U++){var eJ=hN.xy[U];if(eJ.$K.length==1&&eJ.$K[0].xz)continue;
for(var hZ=0;hZ<eJ.tO.length;hZ++){var hC=eJ.tO[hZ],ic=eJ.Ra.y+hC.Ra.y,ds=eJ.$K[hC.start].start,hV=eJ.$K[hC.end-1].end,bv=ah.afi(gv,ds,hV),hl="";
for(var jQ=0;jQ<bv.length;jQ++){var a$=hN.Ob(ds),jB=bv[jQ],jL=ah._J(gv,ds,ds),c1=jL.ju[jL.Qc.Font].Name,dI=ah.FL(jL.Qc.FillColor),fd=Math.round(jL.Qc.FontSize),g2=jf.slice(ds,ds+jB);
if(jL.Qc.FontCaps==2)g2=g2.toUpperCase();var ed=new f$;ed.translate(a$.xr.x,-ic);var ip=[];CSS.alm(ip,jL,null,!0,!0,hP);
var bS=c(ip,C,null,"t");bS=bS?" class=\""+bS+"\"":"";var bU=a$.xr.x,hg=V(jL,g2);hl+="<tspan "+(jQ==0?"x=\""+Z(a$.xr.x)+"\"":"")+" y=\""+Z(ic)+"\""+bS+hg+">"+H(g2)+"</tspan>";
ds+=jB}C.iu.push(o(m+1)+hl)}}C.iu.push(o(m)+"</text>")}else if(P.add.SoLd&&N.Cv){var dZ=P.add.SoLd,cA=dZ.Idnt.v,j$=0,iK=dZ.Crop?dZ.Crop.v:null;
if(C.Qz[cA]!=null)j$=C.Qz[cA];else{C.PS++;j$=C.PS;C.Qz[cA]=C.PS;var hJ=T.Fd(cA,iK),hr="";if(hJ==null)return;
var ag=hJ.vN,ii=ce.S5(hJ.raw.buffer);if(ii=="pdf"){var dN=new fO("h");ce.ti("PDF").sc(hJ.raw.buffer,dN);
dN._v();dN.gI();dN.K();dN.Uc();if(dZ.Crop&&dZ.Crop.v==1){y.vz.dr(dN,dN.root.HW(dN,!0))}var dm=ce.ti("SVG").WV(dN,dN.e,dN.n,null,{Yv:v});
hr="data:image/svg+xml;base64,"+ce.gf(dm)}else if(ii=="jpg"||ii=="png"||ii=="gif"||ii=="svg"){var j_={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};
hr="data:"+j_[ii]+";base64,"+ce.gf(hJ.raw.buffer)}else{hr=ce.Xb(ag[0].buffer,ag[1].e,ag[1].n)}C.zy.push(o(2)+"<image width=\""+ag[1].e+"\" height=\""+ag[1].n+"\" id=\"img"+j$+"\" href=\""+hr+"\"/>")}var ae=x.N.N1(dZ),c6=[];
g(P,Y,C,c6);if(c6.length!=0)C.iu.push(o(m)+"<g "+e(c6,u)+">");if(I.length!=0)i.push("style=\""+I.join(";")+"\"");
var cg=e(i,u);C.iu.push(o(m)+"<use "+cg+" href=\"#img"+j$+"\" transform=\""+j(ae)+"\"/>");if(c6.length!=0)C.iu.push(o(m)+"</g>")}else if(!P.rect.S9()&&(N.Cv||r)){if(I.length!=0)i.push("style=\""+I.join(";")+"\"");
var cg=e(i,u),ei=P.buffer;if(cl)ei=eR.acg(ei,cl,P.rect);var a5=P.rect;C.PS++;var hr=ce.Xb(ei.buffer,a5.e,a5.n,"png",null,!0);
C.zy.push(o(2)+"<image "+L(r)+" width=\""+P.rect.e+"\" height=\""+P.rect.n+"\" id=\"img"+C.PS+"\" href=\""+hr+"\"/>");
C.iu.push(o(m)+"<use "+cg+" href=\"#img"+C.PS+"\" x=\""+a5.x+"\" y=\""+a5.y+"\"/>")}}}function V(T,C){var F=T.Qc.Tracking,m="";
if(F!=null&&F!=0){F=Math.round(F*T.Qc.FontSize/1e3);m=" dx=\"0";for(var N=1;N<C.length;N++)m+=" "+F;
m+="\" "}return m}function L(T){if(T==null)return"";var C=T.GM,F=ah.mb(C);F=H(F.slice(0,F.length-1));
return"aria-label=\""+F+"\" "}function e(T,C){if(C.length!=0)T.push("class=\""+C.join(" ")+"\"");return T.join(" ")}function H(T){return String(T).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")}function j(T){var C=[T.ip,T.L,T.Hv,T.uc,T.hE,T.Qw];
for(var U=0;U<6;U++)C[U]=Z(C[U],3);return"matrix("+C.join(",")+")"}function g(T,C,F,m){if(C||T.add.artb){var N;
if(C)N=x.O.FQ(C.j).cG;else{var v=T.pU(),h=x.p.zl(v);N=Typr.U.pathToSVG({crds:h.C,cmds:h.H},1)}F.AR++;
m.push("clip-path=\"url(#cp"+F.AR+")\"");F.zy.push(o(2)+"<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp"+F.AR+"\">");
F.zy.push(o(3)+"<path d=\""+N+"\"/>");F.zy.push(o(2)+"</clipPath>")}}function K(T,C,F,m,N,v){var h=F.vstk,P=F.vmsk,J=F.lmfx,Y=[];
if(P&&P.Yo!=0){var B=Z(P.Yo);if(m.nx[B]==null){m.Fp++;m.nx[B]=m.Fp;m.zy.push(o(2)+"<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+m.Fp+"\"> <feGaussianBlur stdDeviation=\""+B+"\"/> </filter>")}Y.push("url(#f"+m.nx[B]+")")}if(J)for(var U=0;
U<aN.order.length;U++){var S=aN.order[U],r=aN.IU[U],I=J[r].v;for(var f=0;f<I.length;f++){var s=I[f].v,W=s.classID;
if(!s.enab.v)continue;if(W=="OrGl"||W=="DrSh"){m.Fp++;Y.push("url(#f"+m.Fp+")");var i=0,u=0,z=s.blur.v.val/2.4,G=s.Opct.v.val/100;
if(W=="DrSh"){var g_=s.uglg&&s.uglg.v?T.OO():s.lagl.v.val;g_=g_*(Math.PI/180);var cl=s.Dstn.v.val;i=-Math.cos(g_)*cl;
u=Math.sin(g_)*cl}if(W=="OrGl")G/=s.Inpr.v.val/100;var p="<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+m.Fp+"\" >";
p+="<feDropShadow dx=\""+i+"\" dy=\""+u+"\" stdDeviation=\""+z+"\" flood-color=\""+CSS.Oc(s.Clr.v)+"\" flood-opacity=\""+Z(G)+"\"/>";
p+="</filter>";m.zy.push(o(2)+p)}}}if(Y.length!=0)C.push("filter:"+O+Y.join(" "));var b2=eR.Fg(J,F),jz=b2[0],aT=b2[1];
if(h&&!h.fillEnabled.v)C.push("fill:"+O+"none");else if(jz){var fZ=CSS.Oc(jz.Clr.v);q(C,fZ,0)}else if(aT){a(aT,m,N,v);
q(C,"url(#g"+m.GA+")",0)}if(h==null||!h.strokeEnabled.v)h=eR.XC(J);if(h&&h.strokeEnabled.v){var ft=h.strokeStyleContent.v,cc=ft.classID;
if(cc=="solidColorLayer")q(C,CSS.Oc(ft.Clr.v),1);else{a(ft,m,N,v);q(C,"url(#g"+m.GA+")",1)}var kr=aN.d_.nH.indexOf(h.strokeStyleLineCapType.v.strokeStyleLineCapType),hG=aN.d_.join.indexOf(h.strokeStyleLineJoinType.v.strokeStyleLineJoinType),hi=h.strokeStyleOpacity.v.val/100,bU=h.strokeStyleLineWidth.v.val,ic=aN.d_.dB.indexOf(h.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(ic==2){bU*=2;C.push("paint-order:stroke fill markers")}var iQ=h.strokeStyleLineDashSet.v,bx=[];for(var U=0;
U<iQ.length;U++)bx.push(Math.round(iQ[U].v.val*bU));if(kr!=0)C.push("stroke-linecap:"+O+["butt","round","square"][kr]);
if(hG!=0)C.push("stroke-linejoin:"+O+["miter","round","bevel"][hG]);if(hi!=1)C.push("stroke-opacity:"+O+Z(hi));
if(bU!=1)C.push("stroke-width:"+O+Z(bU));if(bx.length!=0)C.push("stroke-dasharray:"+O+bx.join(","))}}function a(T,C,F,m){C.GA++;
var N=T.Grad.v,v=JSON.parse(JSON.stringify(N.Clrs.v)),h=JSON.parse(JSON.stringify(N.Trns.v)),P=T.Ofst.v,J=T.Type.v.GrdT,Y=J=="Rdl"||J=="Dmnd"?1:0,B=(Y==1?"radial":"linear")+"Gradient",S=x.M.os(T,F),I="";
if(Y==0){S[0].x=S[1].x+2*(S[0].x-S[1].x);S[0].y=S[1].y+2*(S[0].y-S[1].y)}var r=o(2)+"<"+B+" id=\"g"+C.GA+"\"";
if(m.J8){if(C.GA==1)C.zy.push("<linearGradient id=\"P\" gradientUnits=\"userSpaceOnUse\"/>");I=" href=\"#P\""}else I=" gradientUnits=\"userSpaceOnUse\"";
if(Y==0)C.zy.push(r+" x1=\""+Z(S[0].x)+"\" y1=\""+Z(S[0].y)+"\" x2=\""+Z(S[1].x)+"\" y2=\""+Z(S[1].y)+"\""+I+">");
if(Y==1)C.zy.push(r+" cx=\""+Z(S[0].x)+"\" cy=\""+Z(S[0].y)+"\" r=\""+Z(at.we(S[0],S[1]))+"\""+I+">");
if(J=="Rflc"){for(var f=0;f<2;f++){var s=f==0?v:h;for(var U=s.length-1;U>=0;U--){var W=s[U];W.v.Lctn.v=2048+(W.v.Lctn.v>>>1);
var i=JSON.parse(JSON.stringify(W));i.v.Lctn.v=4096-i.v.Lctn.v;s.push(i)}s.sort(function(b2,jz){return b2.v.Lctn.v-jz.v.Lctn.v})}}var u=T.Rvrs.v;
if(u){v.reverse();h.reverse()}for(var U=0;U<v.length;U++){var z=v[U].v,G=z.Lctn.v/4096;if(u)G=1-G;var g_=U<h.length?h[U].v.Opct.v.val/100:1,g_=g_==1?"":" stop-opacity=\""+Z(g_)+"\"",cl=G==0&&m.J8?"":" offset=\""+Z(G)+"\"",p=CSS.Oc(z.Clr.v);
p=m.J8&&p=="#000000"?"":" stop-color=\""+l(p)+"\"";C.zy.push(o(3)+"<stop"+cl+p+g_+"/>")}C.zy.push(o(2)+"</"+B+">")}f0.eD=j;
return D}();f0.U_=function(w,M,O,b,D){var o=[],Z=f0.U_,$=!1,k={jy:w,e3:M,DB:[!0,!0,!0],Z$:!1,vy:O,avR:0};
k.FU=Math.round(Math.max(w,M)*(.02+Z.mD(k)*.03));k.rZ=Z.apl(k);k.QJ=Z.aw5(k.rZ,(Z.mD(k)<.5?-1:1)*(.2+Z.mD(k)*.3));
if(Z.mD(k)<.5){var E=k.rZ;k.rZ=k.QJ;k.QJ=E}k.avL=Z.mD(k)<.4&&Z.alH(k.QJ,{o:1,w:1,L:1})>.3;k.afa=Z.mD(k)<.5?0:1;
o.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+w+" "+M+"\" width=\""+w+"\" height=\""+M+"\">");
k.nz=b[Math.floor(Z.q2(k)*b.length)];k.mf=b[Math.floor(Z.q2(k)*b.length)];o.push("<style>");o.push("@font-face {  font-family: "+k.nz[2]+";  src: url(rsrc/fonts/"+k.nz[5]+");  }");
o.push("@font-face {  font-family: "+k.mf[2]+";  src: url(rsrc/fonts/"+k.mf[5]+");  }");o.push("</style>");
var t=[0,0,w,M],c=t;if(D==null)o.push("<path style=\"fill: "+Z.ov(k.rZ)+"\" d=\""+Z.Rect(t[0],t[1],t[2]-t[0],t[3]-t[1])+"\" id=\"Background\" />");
else{k.Z$=!0;Z.nu(k,t,o,D)}if(Z.mD(k)<.25&&!k.Z$){k.DB[0]=k.DB[2]=!1;Z.asI(t,k,o);c=t}else if(Z.mD(k)<.25||k.Z$)c=t;
else{var l=.52+Z.mD(k)*.2;if(Z.mD(k)<.5)l=1-l;var q=t.slice(0),d=t.slice(0);if(Z.mD(k)<.5)q[2]=d[0]=Math.round(l*w);
else q[3]=d[1]=Math.round(l*M);if(Z.mD(k)<.5){var E=q;q=d;d=E}c=q;Z.auh(k,d,o,D)}Z.a3D(k,c,o);o.push("</svg>");
o=o.join("\n");var V=x.$(Math.round(o.length*1.5)),L=n.Q5(o,V,0);return[V.buffer.slice(0,L),k.cB]};f0.U_.asI=function(w,M,O){var b=f0.U_,D=w[2]-w[0],o=w[3]-w[1];
if(b.mD(M)<.5){O.push("<path id=\"Border\" style=\"fill: "+b.ov(M.QJ)+"\" d=\""+b.acb(w[0],w[1],w[2]-w[0],w[3]-w[1],M.FU)+"\" />")}else if(b.mD(M)<-.4){b.aj8(M,w,O)}else{var Z=b.mD(M)<.5?0:1,$=(Z==0?o:D)/4,k=b.OG(M,Z,w,O,$,!0),k=b.OG(M,Z+2,w,O,$,!0,k)}};
f0.U_.a3D=function(w,M,O){var b=f0.U_,D="Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.-I Saw The Sign.-And it opened up my mind!".split("-"),o=2*Math.floor(b.mD(w)*D.length/2),Z=M[2]-M[0],$=M[3]-M[1],E=0,c=0;
w.gk=(w.jy+Z)*.5*(.04+b.mD(w)*.05);w.gk=Math.min(w.gk,$*.4,Z*.12);w.gk=Math.round(w.gk);var k=Math.min(w.gk*D[o].length*(.35+.3*b.mD(w)),Z*.9),t=(M[1]+M[3])/2,l=x.YF(w.rZ)<.85?{o:1,w:1,L:1}:{o:.1,w:.1,L:.1};
if(b.mD(w)<.25&&w.DB[0]){c=0;E=M[0]+w.FU}else if(b.mD(w)<.33&&w.DB[2]){c=2;E=M[2]-w.FU}else{c=1;E=(M[0]+M[2])/2}var q=l.o==1?"0,0,0":"255,255,255",d=w.Z$&&b.mD(w)<1;
if(d){var V=M[0],L=Z,e=t-w.gk*1.1,H=w.gk*2.2,j=.7;if(c==1&&b.mD(w)<.5){V=e=.2*Math.min(Z,$);L=Z-2*e;
H=$-e-e}else if(b.mD(w)<.7){V=e=0;L=Z;H=$;j=.25}O.push("<path id=\"Strip\" style=\"fill: rgb("+q+"); opacity: "+j+"\" d=\""+b.Rect(V,e,L,H)+"\" />")}if(b.mD(w)<.4){var g=w.gk*.07;
g*=1.5+b.mD(w)*1;if(c==-1&&Z/$<3&&!d){O.push("<path id=\"Bar-bottom\" style=\"fill: "+b.ov(l)+"\" d=\""+b.Rect(E-k/2,t+w.gk*1.1-g/2,k,g)+"\" />");
O.push("<path id=\"Bar-top\"    style=\"fill: "+b.ov(l)+"\" d=\""+b.Rect(E-k/2,t-w.gk*1.1-g/2,k,g)+"\" />")}if(c!=1){O.push("<path id=\"Bar\" style=\"fill: "+b.ov(l)+"\" d=\""+b.Rect(E-g/2,t-w.gk*.8,g,w.gk*.8*2)+"\" />");
E+=(c==0?1:-1)*w.gk/3}}var K=w.gk*.4;O.push(b.fd(D[o+1],E,t+K*1.6,K,l,c,w.mf));O.push(b.fd(D[o],E,t+w.gk*.04,w.gk,l,c,w.nz))};
f0.U_.auh=function(w,M,O,b){var D=M[2]-M[0],o=M[3]-M[1],Z=Math.max(D,o),$=Math.min(D,o),k=f0.U_;if(Z/$<5&&!w.Z$&&!1){k.nu(w,M,O,b)}else if(k.mD(w)<0)O.push("<path style=\"fill: "+k.ov(w.QJ)+"\" d=\""+k.Rect(M[0],M[1],D,o)+"\" />");
else{var E=0;if(M[3]!=w.e3)E=0;if(M[2]!=w.jy)E=3;if(M[0]!=0)E=1;if(M[1]!=0)E=2;var t=E+2&3;if(Z/$<3){var c=k.aaU(t),l=c[Math.round(k.mD(w)*(c.length-1))],q=l.b1.slice(0,4),d=q.indexOf(1);
l=JSON.parse(JSON.stringify(l));var V=-1;if(q!="0000"){var L=new f$;if(l.b1[5]=="0"){if(d==3&&E==1){V=1;
L.scale(-1,1)}else V=d}else{var e=t;while(e==t)e=Math.floor(k.mD(w)*4)&3;L.rotate((-d+e)*Math.PI/2)}k.F(l,L)}var H=k.qe(l),j=D-2*w.FU,g=o-2*w.FU;
if(V!=-1){if((V&1)==0)g-=w.FU;else j-=w.FU}var K=Math.min(j/H.e,g/H.n),a=new f$;a.translate(-H.x,-H.y);
a.scale(K,K);var T=(D-H.e*K)/2,C=(o-H.n*K)/2;if(V!=-1){if(V==3)T=0;if(V==0)C=0;if(V==1)T=D-H.e*K;if(V==2)C=o-H.n*K}a.translate(M[0]+T,M[1]+C);
k.c9(w,l,a,w.QJ,O)}else{k.OG(w,E,M,O,1e9)}}};f0.U_.nu=function(w,M,O,b){var D=M[2]-M[0],o=M[3]-M[1],Z=Math.max(D,o),$=Math.min(D,o),k=f0.U_,E=k.q2(w),t,c,l,q=b[0]instanceof ArrayBuffer;
if(q){t="data:image/jpg;base64,"+kl.Ig(b[0]);c=b[1];l=b[2]}else{var d=Math.floor(E*b.length),V=b[d];
w.cB=V;t=V.webformatURL;c=V.webformatWidth;l=V.webformatHeight}var L=M[0],e=M[1],H=D,j=o;if(D/o>c/l){j=H*l/c;
e=e-(j-o)/2}else{H=j*c/l;L=L-(H-D)/2}if(q){O.push("<defs>");O.push("<image width=\""+c+"\" height=\""+l+"\" id=\"Background\" href=\""+t+"\" />");
O.push("</defs>");var g=H/c;O.push("<use href=\"#Background\" transform=\""+f0.eD(new f$(g,0,0,g,L,e))+"\" />")}else{var K="cp"+Math.random();
O.push("<clipPath id=\""+K+"\">");O.push("<path style=\"fill: "+k.ov(w.QJ)+"\" d=\""+k.Rect(M[0],M[1],D,o)+"\" />");
O.push("</clipPath>");O.push("<image  clip-path=\"url(#"+K+")\" xlink:href=\""+t+"\" x=\""+L+"\" y=\""+e+"\" width=\""+H+"\" height=\""+j+"\" />")}};
f0.U_.fd=function(w,M,O,b,D,o,Z){var $=f0.U_;return"<text x=\""+M+"\" y=\""+O+"\" style=\"fill:"+$.ov(D)+"; font-size:"+b+"px; text-anchor:"+["start","middle","end"][o]+"; font-family:"+Z[2]+";\"><tspan>"+w+"</tspan></text>"};
f0.U_.c9=function(w,M,O,b,D){var o=f0.U_,Z=[];for(var U=0;U<M.QQ.length;U++){Z.push(b);if(w.avL){b=(U&1)==w.afa?{o:1,w:1,L:1}:Z[0]}}D.push("<g id=\""+M.b1.split("-")[2]+":::\" style=\"transform: "+f0.eD(O)+";\" >");
for(var U=0;U<M.QQ.length;U++){var $=M.QQ[U];b=Z.pop();D.push("<path style=\"fill: "+(b?o.ov(b):"#"+$[0])+"\" d=\""+Typr.U.pathToSVG({crds:$[1].C,cmds:$[1].H})+"\" />")}D.push("</g>")};
f0.U_.aj8=function(w,M,O){var b=f0.U_,D=f0.U_.nI,o=[];for(var U=0;U<D.length;U++){var Z=D[U],$=Z.b1.slice(0,4);
if($!="1001")continue;o.push(Z)}var Z=o[Math.floor(b.mD(w)*o.length)];if(b.mD(w)<.5)b.F(Z,new f$(0,1,1,0,0,0));
var k=M[3]-M[1],E=M[2]-M[0],t=b.qe(Z),c=.7*Math.min(E,k,.5*Math.max(E,k))/Math.max(t.e,t.n),l=new f$;
l.scale(c,c);if(b.mD(w)<.5){l.scale(1,-1);l.translate(0,k)}b.c9(w,Z,l,w.QJ,O);l.rotate(Math.PI);l.translate(E,k);
b.c9(w,Z,l,w.QJ,O)};f0.U_.aaU=function(w){var M=f0.U_.nI,O=[];for(var U=0;U<M.length;U++){var b=M[U],D=b.b1.slice(0,4);
if(D=="0000"){O.push(b);continue}if(["1000","0100","0010","0001"].indexOf(D)==-1)continue;var o=D.indexOf("1");
if(b.b1[5]=="0"&&w==o&&o!=3)continue;O.push(b)}return O};f0.U_.OG=function(w,M,O,b,D,o,Z){var $=f0.U_.nI,k=f0.U_,E=[],H,j;
for(var U=0;U<$.length;U++){var t=$[U],c=t.b1.slice(0,4);if(["1110","1101","1011","0111"].indexOf(c)==-1)continue;
var l=c.indexOf("0")+2&3;if(t.b1[5]=="0")if(o==!0||M!=l&&!(M==1&&l==3))continue;E.push(t)}var q=Z!=null?Z:Math.floor(k.mD(w)*E.length),t=E[q],t=JSON.parse(JSON.stringify(t)),c=t.b1.slice(0,4),l=c.indexOf("0")+2&3;
if(l==3&&M==1)x.F(t,new f$(1,0,0,-1,0,1e3));var d=new f$;d.translate(-500,-500);d.rotate(-l*Math.PI/2);
d.translate(500,500);k.F(t,d);var V=O[3]-O[1],L=O[2]-O[0],e=k.qe(t);if(e.y<0){e.n+=e.y;e.y=0}if(e.y>0){e.n+=e.y;
e.y=0}if((M&1)==0){j=V;H=L}else{H=V;j=L}var g=Math.min(Math.min(.5+.5*k.mD(w))*Math.min(L,V),D)/e.n,K=Math.ceil(H/(1e3*g)),a=new f$,T=new f$;
T.scale(g,g);if(M==0||M==2){T.translate(-(L/2),-(V/2));T.rotate(-M*Math.PI/2);T.translate(L/2+O[0],V/2+O[1])}else{T.rotate(Math.PI/2);
T.scale(1,-1);T.translate(O[0],O[1]);if(M==1){T.scale(-1,1);T.translate(L,0)}}b.push("<g id=\"Border-"+["top","right","bottom","left"][M]+":::\">");
for(var U=0;U<K;U++){var C=a.clone();C.concat(T);k.c9(w,t,C,w.QJ,b);a.translate(1e3-2,0)}b.push("</g>");
return q};f0.U_.Rect=function(w,M,O,b){return Typr.U.pathToSVG({crds:[w,M,w+O,M,w+O,M+b,w,M+b],cmds:["M","L","L","L","Z"]})};
f0.U_.acb=function(w,M,O,b,D){var o=[w,M,w+O,M,w+O,M+b,w,M+b];w+=D;M+=D;O-=2*D;b-=2*D;o.push(w,M,w,M+b,w+O,M+b,w+O,M);
return Typr.U.pathToSVG({crds:o,cmds:"M L L L Z M L L L Z".split(" ")})};f0.U_.aw5=function(w,M){var O=x.HZ(w.o,w.w,w.L);
O.dI=Math.max(.1,Math.min(.9,O.dI+M));return x.du(O.e3,O.h7,O.dI)};f0.U_.al9=function(w,M){var O=x.HZ(w.o,w.w,w.L);
O.e3+=M;return x.du(O.e3,O.h7,O.dI)};f0.U_.a6f=function(w){var M=x.HZ(w.o,w.w,w.L);M.dI=1-M.dI;return x.du(M.e3,M.h7,M.dI)};
f0.U_.alH=function(w,M){var O=w.o-M.o,b=w.w-M.w,D=w.L-M.L;return Math.sqrt(O*O+b*b+D*D)};f0.U_.apl=function(w){var M=f0.U_;
return{o:M.mD(w),w:M.mD(w),L:M.mD(w)}};f0.U_.ov=function(w){return CSS.oL({o:w.o*255,w:w.w*255,L:w.L*255})};
f0.U_.qe=function(w){var M=w.QQ,O=new cn;for(var U=0;U<M.length;U++)O=O.MK(x.p.qe(M[U][1].C));return O};
f0.U_.F=function(w,M){var O=w.QQ;for(var U=0;U<O.length;U++)x.p.F(O[U][1].C,M,O[U][1].C)};f0.U_.mD=function(w){w.avR++;
var M=w.avR&3;if(M==0)w.vy=f0.U_.$J(w.vy);var O=w.vy>>>8*M&255;return O*(.99999999/255)};f0.U_.q2=function(w){var M=f0.U_.$J(w.vy);
w.vy=f0.U_.$J(M);return M*(1/4294967295)};f0.U_.$J=function(w){w=(w^61^w>>>16)>>>0;w=w+(w<<3)>>>0;w=(w^w>>>4)>>>0;
w=w*668265261>>>0;w=(w^w>>>15)>>>0;return w};f0.U_.nI=[{b1:"0001-0-bird",QQ:[["4b3c34",{H:"M C L C C L Z M C C L C C L Z M C L C L Z M C L C C L Z".split(" "),C:[208,16,253,5,247,86,228,104,218,108,253,60,235,12,211,18,210,18,209,17,208,16,208,16,187,140,238,125,326,133,319,189,318,198,307,210,299,207,297,205,307,208,316,195,317,188,320,126,208,137,174,149,187,140,137,75,156,79,177,94,164,157,173,147,177,101,165,79,142,75,137,75,368,59,165,59,182,233,0,210,0,225,161,250,194,61,364,63,367,61,368,59,368,59,368,59]}],["3c7040",{H:"M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C L Z M C C C C C L Z M C C C C L Z M C C C C Z".split(" "),C:[345,123,324,113,331,70,284,80,287,79,310,89,314,103,314,104,306,90,284,82,281,81,270,85,268,86,274,117,335,119,345,123,345,123,270,0,283,29,282,58,244,66,258,62,265,40,269,27,265,37,256,56,249,58,242,31,263,18,270,0,270,0,89,100,81,136,47,182,101,196,90,189,92,157,91,145,94,160,93,191,109,195,148,158,96,129,89,100,89,100,230,187,201,240,160,226,133,198,150,191,172,197,187,198,166,193,153,190,134,193,159,162,207,194,230,187,230,187,126,177,131,159,129,150,119,139,122,122,145,112,147,97,166,128,164,155,134,168,139,154,146,142,145,131,143,145,133,159,126,177,126,177,209,86,195,86,166,91,173,109,177,102,181,97,191,96,180,99,174,113,175,113,194,114,200,96,209,86,209,86,278,175,254,167,235,168,231,143,245,143,248,151,256,158,252,147,243,144,240,142,276,147,265,171,278,175]}],["b588c1",{H:"M C C C C C C C C C C C C L Z".split(" "),C:[189,40,188,42,186,44,184,47,184,52,183,55,181,59,175,70,160,78,147,79,142,79,131,78,127,75,118,74,95,71,93,70,89,70,88,70,69,72,74,66,82,68,93,65,78,64,83,62,95,59,128,50,128,33,155,29,162,16,180,13,189,31,193,31,196,34,198,37,197,37,193,39,189,40,189,40]}]]},{b1:"0001-0-bird2",QQ:[["ff7f2a",{H:"M L L L Z M L L L Z".split(" "),C:[296,0,296,62,335,62,296,0,357,0,357,62,318,62,357,0]}],["b588c1",{H:"M C C C C C C C C C C C L Z".split(" "),C:[321,48,344,48,379,67,396,121,408,176,396,230,337,255,303,265,265,268,217,235,191,217,170,188,186,180,195,177,199,187,205,192,203,185,199,178,207,172,217,165,224,178,225,182,227,196,231,203,250,206,273,205,290,196,292,165,289,133,269,118,268,101,267,77,288,49,321,48,321,48]}],["74439e",{H:"M C C C C C C L Z M C C Z".split(" "),C:[337,187,329,202,317,204,304,204,293,204,284,205,293,224,286,216,278,209,268,214,257,220,262,237,269,243,284,258,310,256,323,243,337,227,339,208,337,187,337,187,340,77,310,78,287,81,315,96,269,83,309,75,340,77]}],["000000",{H:"M L L L Z M L L L Z".split(" "),C:[326,258,334,315,323,316,326,258,298,262,296,318,286,317,298,262]}],["4b3c34",{H:"M L C C C C C C C C L Z".split(" "),C:[0,272,0,336,63,296,119,296,175,320,205,330,229,339,278,338,322,337,354,322,405,325,443,329,482,332,501,377,501,366,502,348,474,328,464,320,440,312,384,309,296,309,300,333,186,293,118,264,54,250,0,272,0,272]}],["3c7040",{H:"M C C C Z M C C C Z M C C C L Z M C C C L Z M C C C L Z M C C C Z".split(" "),C:[58,260,44,247,27,239,20,208,15,188,32,182,43,198,59,227,56,242,58,260,181,323,167,336,150,345,143,375,138,396,155,401,166,385,182,356,179,342,181,323,60,260,79,249,100,243,113,214,122,194,102,186,86,200,62,227,65,242,60,260,60,260,499,378,479,377,462,372,435,388,417,399,425,415,444,411,476,403,484,390,499,378,499,378,501,379,494,397,482,411,488,442,491,463,511,461,514,442,520,410,508,397,501,379,501,379,503,378,513,390,516,402,531,413,546,421,557,412,548,401,534,382,519,379,503,378]}]]},{b1:"0000-1-flower",QQ:[["7a59a2",{H:"M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z".split(" "),C:[468,470,411,473,371,480,351,495,332,509,322,536,325,581,325,601,328,621,325,637,346,634,371,638,397,637,427,636,456,626,465,611,478,596,485,553,489,490,477,489,470,483,468,470,445,563,435,583,425,591,415,590,401,588,401,572,410,549,388,558,375,557,369,546,366,533,374,524,390,517,416,506,441,498,465,495,463,519,455,542,445,563,445,563,489,450,486,392,480,352,465,332,451,313,425,302,380,305,360,305,340,307,324,304,327,324,322,350,323,376,323,406,332,435,347,444,362,457,405,465,468,470,469,458,476,451,489,450,489,450,395,424,376,415,368,405,369,394,371,380,387,380,410,390,402,368,403,355,414,349,427,346,436,355,443,370,454,397,460,422,463,446,439,443,417,435,395,424,395,424,508,470,566,468,606,462,626,447,645,433,656,407,654,362,654,342,652,322,655,306,634,309,609,304,583,305,553,305,524,314,514,329,501,344,493,387,488,449,500,451,507,457,508,470,508,470,534,377,544,357,554,350,564,351,578,353,578,369,568,392,590,384,604,385,609,396,612,409,603,418,588,425,561,435,536,442,512,445,515,421,523,399,534,377,534,377,488,490,492,547,499,587,514,607,528,626,554,636,600,633,619,632,640,630,656,633,652,612,656,587,655,560,655,531,645,502,629,493,614,480,571,473,508,469,507,481,501,488,488,490,488,490,582,513,602,523,610,533,609,543,607,557,591,557,568,548,577,570,576,583,565,589,552,592,542,584,535,568,524,542,517,517,514,493,538,495,560,503,582,513,582,513]}]]},{b1:"0000-1-flower",QQ:[["d13777",{H:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z".split(" "),C:[474,503,457,528,452,530,450,528,450,523,469,498,464,493,388,522,332,552,314,585,297,628,322,660,372,639,361,698,421,709,450,665,467,649,477,596,482,505,474,503,474,503,439,563,431,563,424,556,424,548,424,539,431,532,439,532,447,532,454,539,454,548,454,556,447,563,439,563,462,475,432,467,429,463,430,460,435,458,465,469,468,463,417,399,371,356,335,348,288,345,265,379,300,420,241,428,249,488,301,503,321,513,374,507,462,483,462,475,462,475,394,460,391,452,396,444,404,441,412,438,420,443,423,451,426,459,421,467,413,470,405,473,396,468,394,460,484,455,483,424,486,419,489,420,492,424,492,456,498,457,543,389,570,332,566,294,554,249,515,238,487,284,461,231,406,256,408,310,405,333,427,381,477,458,484,455,484,455,477,385,484,380,494,382,499,389,504,396,502,405,496,410,489,415,479,414,474,407,469,400,471,390,477,385,511,470,539,459,545,461,545,463,542,467,512,477,513,483,592,505,654,513,688,497,728,472,726,432,674,419,717,378,675,334,625,353,602,356,563,393,506,464,511,470,511,470,575,442,581,447,583,456,578,463,573,470,563,472,557,467,550,462,548,452,553,445,558,438,568,437,575,442,505,499,524,523,524,529,521,531,517,529,498,503,492,506,496,588,508,650,533,677,570,707,607,693,603,639,656,667,685,614,651,572,641,551,594,525,509,493,505,499,505,499,551,552,548,560,540,564,532,561,524,559,519,550,522,542,524,534,533,530,541,532,549,535,554,543,551,552]}]]},{b1:"0000-1-flower",QQ:[["ffac42",{H:"M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z".split(" "),C:[646,471,646,446,626,426,601,426,599,426,597,426,595,427,596,426,598,424,599,423,616,406,616,378,599,360,581,343,553,343,536,360,534,361,533,363,532,364,532,363,532,361,532,359,532,335,512,315,488,315,463,315,443,335,443,359,443,361,443,363,443,365,442,364,441,363,440,362,422,344,394,344,377,362,359,379,359,407,377,425,378,426,380,427,381,429,379,428,378,428,376,428,351,428,331,448,331,473,331,498,351,518,376,518,378,518,380,517,382,517,381,518,379,519,378,521,361,538,361,566,378,584,396,601,424,601,441,584,443,582,444,581,445,579,445,581,445,583,445,584,445,609,465,629,490,629,514,629,534,609,534,584,534,582,534,580,534,579,535,580,536,581,537,582,555,600,583,600,600,582,618,565,618,537,600,519,599,518,597,516,596,515,598,515,599,516,601,516,626,516,646,496,646,471,489,552,444,552,409,516,409,472,409,428,444,392,489,392,533,392,569,428,569,472,569,516,533,552,489,552]}]]},{b1:"0000-1-flower",QQ:[["d04040",{H:"M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),C:[691,424,690,369,680,330,660,303,634,320,601,361,568,406,568,406,568,327,578,326,585,317,585,306,585,294,576,284,564,284,552,284,542,294,542,306,542,317,550,326,560,327,560,406,559,406,540,359,522,311,501,291,475,319,453,360,433,407,431,406,431,327,441,326,448,317,448,306,448,294,439,284,427,284,415,284,405,294,405,306,405,317,412,326,423,327,423,404,390,363,360,326,341,308,296,401,299,489,360,567,396,613,443,639,500,638,624,636,694,524,692,424,691,424,389,543,370,514,379,498,399,504,439,518,470,564,488,613,455,600,414,580,389,543,481,480,488,445,505,441,515,459,533,497,524,552,501,599,487,567,472,523,481,480,481,480,624,523,610,563,565,595,515,613,528,580,548,538,585,514,614,494,629,503,624,523,624,523]}]]},{b1:"0000-1-flower",QQ:[["ec7272",{H:"M C C C C Z M C C C C Z M C C C C L Z M C C C C L Z M C C C C Z M C C C C L Z".split(" "),C:[447,475,452,450,452,438,437,423,422,407,407,412,390,383,398,418,421,415,433,434,445,453,446,474,447,475,495,446,520,439,529,433,535,412,542,390,529,380,546,351,520,376,533,394,523,414,513,434,495,445,495,446,545,473,564,490,574,495,595,490,617,485,620,469,653,468,619,459,610,479,587,480,565,482,546,472,545,473,545,473,549,533,543,558,543,569,559,585,574,601,589,596,606,624,597,590,575,592,563,573,551,555,550,534,549,533,549,533,504,562,480,570,470,575,464,596,458,618,470,628,454,657,479,632,466,614,476,594,486,575,504,563,504,562,459,536,440,519,430,513,409,518,387,524,384,539,351,540,385,549,394,529,417,528,439,527,457,536,459,536,459,536]}],["333333",{H:"M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z".split(" "),C:[534,455,584,415,579,358,577,335,574,315,585,304,585,304,585,304,568,308,561,312,554,316,520,333,500,363,479,392,493,437,486,456,479,476,452,485,452,485,452,485,471,474,475,454,479,434,460,402,482,365,505,328,565,292,597,294,612,295,591,298,587,316,583,333,593,373,584,404,574,440,533,456,534,455,534,455,559,506,619,530,666,497,685,483,701,471,716,475,716,475,716,475,704,463,697,459,690,454,657,434,622,431,587,428,554,462,534,465,513,469,492,451,492,451,492,451,511,461,530,455,549,448,568,416,611,417,654,418,716,452,730,481,737,495,724,478,706,483,689,489,660,516,628,524,592,534,558,506,559,506,559,506,524,552,534,615,586,640,607,649,625,657,629,672,629,672,629,672,634,655,634,647,634,639,636,601,621,569,606,537,560,525,547,509,534,494,539,466,539,466,539,466,539,488,554,501,569,514,607,514,627,552,648,590,650,660,632,687,623,700,631,680,617,667,605,656,566,644,543,621,517,594,524,551,524,552,524,552,467,546,417,585,421,643,424,665,426,686,415,697,415,697,415,697,432,693,439,689,446,684,481,667,501,638,521,609,508,563,515,544,522,524,548,515,548,515,548,515,530,527,526,546,522,566,540,598,518,635,496,672,436,709,404,706,388,705,409,702,413,684,417,667,408,628,417,596,426,561,467,544,467,546,467,546,442,495,383,472,336,504,317,518,301,530,286,526,286,526,286,526,298,539,305,543,312,547,344,568,380,571,415,574,448,539,468,536,488,532,510,551,510,551,510,551,490,540,471,547,452,553,434,585,391,584,348,583,286,550,272,521,265,507,278,524,296,518,313,513,342,485,373,477,409,468,444,495,442,495,442,495,476,449,467,386,415,361,394,352,375,344,371,329,371,329,371,329,366,346,366,354,366,362,364,400,379,433,394,465,440,476,453,492,467,508,462,535,462,535,462,535,461,513,446,500,431,487,394,487,373,449,352,411,350,341,368,314,377,301,369,321,383,334,396,345,434,357,457,380,483,407,477,450,476,449,476,449]}]]},{b1:"0000-0-hearts",QQ:[["d17070",{H:"M C C C C C C C C C L Z".split(" "),C:[415,584,413,585,411,586,409,587,392,596,389,620,395,633,401,647,414,663,450,668,485,674,487,681,494,690,491,679,487,673,507,643,527,613,524,593,518,579,512,566,493,552,475,558,467,561,451,566,448,586,435,578,423,581,415,584,415,584]}],["6bcc6b",{H:"M C C C C C C C C C L Z".split(" "),C:[595,451,593,449,590,448,588,448,563,439,537,457,529,475,521,493,516,520,542,560,568,601,563,609,559,623,568,611,571,602,618,595,666,589,684,567,692,550,700,532,697,501,674,488,665,482,645,472,622,486,619,465,606,456,595,451,595,451]}],["5c5cc2",{H:"M C C C C C C C C C L Z".split(" "),C:[341,362,338,364,335,366,332,368,304,385,301,424,312,446,323,468,345,494,405,501,465,508,468,520,480,534,475,516,468,506,499,455,531,404,524,370,514,348,503,325,470,304,440,315,427,320,401,331,397,364,374,351,355,356,341,362,341,362]}]]},{b1:"0000-0-anchor",QQ:[["2a3b66",{H:"M C C C C L Z M C C C C C C C C C C C C C C L C C C C C C C C C C C C C L C C C C C C C C C C C C C L Z".split(" "),C:[495,315,490,315,488,318,489,323,491,328,502,326,502,320,502,317,501,316,497,315,496,315,496,315,495,315,495,315,496,303,509,303,521,320,514,327,511,330,513,345,517,348,519,350,531,352,546,354,570,357,572,357,578,354,588,347,592,351,592,369,592,385,588,390,580,385,576,383,570,383,552,384,524,387,519,389,517,397,515,404,517,515,520,554,522,583,525,599,530,606,534,610,555,617,565,617,584,616,607,602,635,572,639,568,641,566,644,563,633,559,616,557,616,557,675,533,675,533,671,605,669,609,667,611,664,591,658,577,657,579,657,580,656,582,628,638,603,660,565,664,545,666,521,672,514,675,512,677,507,682,504,688,501,693,497,698,496,698,494,698,490,693,487,688,484,682,480,677,477,675,471,672,447,666,427,664,391,660,367,640,340,591,335,604,332,621,331,619,329,615,325,544,325,544,384,568,384,568,368,569,357,573,385,602,408,616,426,617,437,617,458,610,461,606,466,599,470,583,472,554,474,515,476,404,475,397,473,389,468,387,440,384,422,383,416,383,412,385,403,390,400,385,400,369,400,351,403,347,414,354,419,357,421,357,446,354,460,352,473,350,475,348,478,345,481,330,478,327,470,320,483,303,496,303,496,303]}]]},{b1:"0000-1-leaf",QQ:[["fbb600",{H:"M L L L L L L C L L C L C L C C C C C L C C C C C C C C C L C C C C C C C C C C C C C L L L L Z".split(" "),C:[642,726,633,723,632,707,591,631,570,582,526,521,537,547,535,579,517,598,501,619,486,602,414,634,412,606,379,609,346,611,394,557,406,547,401,539,386,532,319,519,337,508,332,493,320,478,326,464,302,450,287,436,303,436,324,441,330,432,346,434,359,434,359,415,377,428,397,431,417,432,442,440,437,418,417,416,406,372,401,370,395,367,389,355,417,363,408,339,406,323,416,312,427,303,417,276,433,295,444,297,452,294,479,321,490,313,496,294,503,322,510,329,517,338,522,353,530,371,530,379,546,402,551,389,555,378,578,333,606,333,628,304,652,280,646,306,644,327,657,329,649,356,658,374,679,384,666,392,656,415,645,432,627,457,653,451,661,457,692,460,698,473,715,481,697,485,678,488,669,509,656,523,655,533,666,539,659,537,659,542,643,531,630,535,613,543,608,539,598,535,594,542,590,553,590,566,594,564,596,569,568,575,551,543,531,519,575,577,597,628,639,708,642,726]}]]},{b1:"0000-1-acorn",QQ:[["a05a2c",{H:"M C C C C C C C L Z".split(" "),C:[506,453,450,426,413,422,398,444,374,480,374,533,384,573,391,602,407,625,430,645,451,658,487,654,509,647,554,633,587,605,612,565,635,527,591,500,565,482,557,476,515,457,506,453,506,453]}],["502d16",{H:"M C C C C C C C C C C C Z".split(" "),C:[640,524,639,539,623,540,623,540,627,522,607,504,583,488,547,465,507,445,470,434,439,426,412,417,400,437,400,437,391,424,400,414,434,370,498,356,551,376,555,349,583,317,597,321,612,326,621,346,620,350,619,354,594,352,584,368,580,375,577,382,575,387,619,412,649,460,640,524]}]]},{b1:"0000-0-skull",QQ:[["808080",{H:"M C L C C L C L C C C C C C C L C L C C C C C C C C L C C L C L C C C C C C C L C L C L C C C C C C Z M C C C C Z M C C C C Z M L L L Z".split(" "),C:[396,410,398,415,398,420,398,424,420,437,433,404,465,382,501,382,538,382,569,404,582,435,602,424,602,419,603,415,604,410,604,410,609,392,622,379,633,382,643,384,648,402,643,420,643,421,642,421,642,422,643,422,643,422,644,422,662,427,675,440,672,450,669,461,652,465,633,460,628,459,624,457,620,455,589,473,588,491,582,507,572,520,607,540,611,538,615,536,620,535,639,530,656,535,659,545,662,556,649,568,630,573,630,574,629,574,629,574,629,574,629,575,629,575,634,594,630,611,619,614,609,617,596,604,591,585,590,580,589,576,589,571,565,557,564,592,536,619,501,619,466,619,438,591,437,557,412,572,411,576,411,580,410,585,410,585,405,604,392,617,381,614,371,611,366,593,371,575,371,574,371,574,372,574,371,573,371,573,370,573,352,568,339,556,342,545,345,534,362,530,381,535,385,536,390,538,394,540,430,519,421,507,415,491,414,475,380,455,376,457,372,459,367,460,367,460,349,465,331,461,328,450,326,440,338,427,357,422,357,422,358,422,358,422,358,421,358,421,358,420,353,402,357,384,368,381,379,379,391,391,396,410,463,439,445,439,431,453,431,470,431,488,445,502,463,502,480,502,494,488,494,470,494,453,480,439,463,439,540,439,522,439,508,453,508,470,508,488,522,502,540,502,557,502,571,488,571,470,571,453,557,439,540,439,483,528,518,528,500,503,483,528]}]]},{b1:"0000-0-ghost",QQ:[["e6e6e6",{H:"M C C C C C C C C C C L Z M C C C C C C C C Z M C C Z".split(" "),C:[653,486,653,574,689,597,689,638,689,661,640,644,620,656,601,666,609,682,583,692,563,700,538,666,512,666,490,666,451,695,433,686,415,677,416,646,388,644,367,641,313,671,313,648,313,619,346,588,346,486,346,388,415,308,500,308,584,308,653,388,653,486,653,486,449,396,428,396,412,415,412,439,412,462,428,482,449,482,465,482,478,470,484,454,489,470,503,482,519,482,539,482,556,462,556,439,556,415,539,396,519,396,503,396,489,407,484,423,478,407,465,396,449,396,482,505,441,505,465,560,482,560,503,560,524,505,482,505]}],["000000",{H:"M C C C C Z M C C C C Z".split(" "),C:[526,446,526,455,519,462,510,462,501,462,494,455,494,446,494,437,501,430,510,430,519,430,526,437,526,446,475,446,475,455,468,462,459,462,450,462,442,455,442,446,442,437,450,430,459,430,468,430,475,437,475,446]}]]},{b1:"1001-1-rose",QQ:[["9e1460",{H:"M C C C C C C C C C Z M C C C C C C C C C Z".split(" "),C:[568,83,558,83,548,88,539,96,538,98,536,99,535,101,522,115,513,134,517,149,522,172,561,200,592,207,604,210,611,215,615,221,622,234,611,258,611,258,613,260,615,264,618,264,627,266,638,241,640,236,660,188,614,83,568,83,526,125,527,97,567,68,593,75,616,81,642,121,649,152,651,165,656,172,662,176,675,183,698,173,698,173,698,173,698,173,698,173,704,176,705,179,705,180,706,189,681,199,678,200,678,200,677,201,677,201,627,220,524,170,526,125]}],["020304",{H:"M C C C C C Z M C C C C C Z M C C C C C Z M C C C C Z".split(" "),C:[60,151,60,151,37,125,60,98,83,72,95,91,115,66,134,42,117,26,120,30,123,34,146,83,132,114,114,154,60,151,60,151,280,70,280,70,258,97,283,122,308,147,318,127,339,150,361,173,344,190,347,186,350,182,370,132,354,101,333,62,280,70,280,70,61,150,61,150,27,143,30,108,33,73,54,81,55,50,57,19,33,16,38,17,43,19,91,44,98,78,107,121,61,150,61,150,-27,185,184,158,222,43,352,32,444,24,538,97,538,97,538,97,453,45,354,48,241,51,185,170,-27,185]}]]},{b1:"1001-1-curls",QQ:[["53a7ab",{H:"M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),C:[68,114,121,103,159,110,183,135,212,169,211,204,189,237,162,277,124,291,86,276,52,263,38,236,47,202,55,168,79,151,121,156,147,162,165,177,160,205,155,228,135,241,113,237,97,234,92,221,96,205,98,195,105,194,115,200,124,205,133,204,135,197,139,183,122,167,95,171,68,176,54,193,68,220,84,252,131,261,165,238,201,202,199,164,158,136,118,113,52,122,-23,151,2,134,33,122,68,114,68,114,71,83,119,75,163,79,198,107,226,129,247,174,271,207,291,229,316,241,342,232,370,222,394,206,418,209,443,212,461,238,485,258,500,272,522,276,543,271,543,271,524,279,518,281,500,287,483,277,466,256,453,243,441,230,427,223,413,217,392,220,372,229,372,230,371,230,370,230,354,241,337,251,315,250,283,248,253,222,229,172,209,133,178,106,137,94,103,84,52,94,-30,133,-3,108,30,91,71,83,71,83,83,54,122,46,166,49,195,67,219,82,250,122,290,168,308,186,330,194,355,192,393,183,400,145,383,118,372,101,355,91,328,91,313,92,303,98,300,109,298,116,299,125,304,131,315,147,327,152,340,149,349,149,354,132,343,131,330,131,326,129,328,120,332,97,355,100,365,114,381,137,367,165,343,168,321,170,289,150,288,117,290,77,319,58,352,64,388,74,405,104,404,141,403,177,382,202,345,207,312,211,284,191,260,161,245,141,229,122,213,106,196,84,166,73,129,67,80,62,28,79,-26,108,10,79,46,63,83,54,83,54]}],["bbdc54",{H:"M C C C C C L Z M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),C:[321,315,287,324,252,312,211,219,217,284,239,326,279,341,324,352,362,329,398,291,316,305,258,269,217,196,238,284,274,319,321,315,321,315,211,261,223,300,234,345,252,374,220,378,194,367,193,324,194,306,198,288,206,270,197,315,204,340,221,351,206,327,202,297,211,261,211,261,206,246,193,301,170,317,138,297,162,281,184,254,205,222,201,246,191,267,174,283,186,279,197,267,206,246,206,246,378,233,370,286,337,299,294,270,312,277,330,276,347,267,294,278,259,252,234,203,280,259,327,278,378,233,378,233,626,217,604,273,555,313,511,315,484,316,438,289,432,232,450,253,488,296,511,291,532,286,551,277,566,261,527,269,498,263,480,243,478,241,478,237,480,235,486,230,504,220,519,226,537,233,551,242,567,241,591,236,611,228,626,217,626,217,411,192,432,183,439,166,420,136,443,144,460,158,466,182,470,165,456,149,430,133,459,136,485,145,505,165,503,143,463,133,434,128,486,127,526,124,539,118,505,123,470,124,435,122,461,111,483,96,500,76,475,95,450,110,424,118,450,96,465,72,466,48,458,75,440,98,419,112,424,106,428,99,428,91,429,68,413,57,393,51,419,70,426,92,411,110,408,77,385,58,343,52,383,26,422,25,445,62,458,47,465,29,467,8,477,27,479,51,475,76,497,64,515,49,528,29,524,57,515,82,496,103,521,113,549,111,579,99,560,122,535,136,502,137,518,149,521,173,514,205,505,181,492,166,476,158,483,188,470,205,447,216,456,183,451,166,438,157,444,193,426,211,379,207,403,193,416,172,416,140,434,156,428,173,411,192,411,192]}]]},{b1:"0111-0-pines",QQ:[["e9e9e9",{H:"M C C C C C C C C L L L Z".split(" "),C:[0,946,0,946,54,960,99,944,149,927,182,954,205,956,245,960,298,940,382,974,435,995,478,957,538,956,571,955,597,969,631,968,663,967,701,938,749,944,805,950,851,960,893,946,950,928,1e3,946,1e3,946,1e3,1e3,0,1e3,0,946]}],["437a26",{H:"M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z".split(" "),C:[119,801,120,801,148,859,148,859,137,853,137,853,155,890,155,891,156,892,138,887,140,888,141,888,171,925,171,925,126,924,125,943,125,943,105,944,106,944,107,944,106,924,106,924,61,925,93,886,77,891,100,854,89,860,89,860,119,801,119,801,286,871,286,871,303,905,303,905,296,902,296,902,307,924,307,924,307,925,297,922,297,922,298,922,316,944,316,944,289,944,289,955,289,955,277,956,278,956,278,956,278,944,278,944,251,944,270,921,260,924,274,902,268,906,268,906,285,871,286,871,526,863,526,863,546,903,546,903,538,899,538,899,550,924,550,925,550,926,539,922,540,922,540,922,561,948,561,948,530,947,529,960,529,960,516,961,517,961,518,961,517,947,517,947,486,948,508,921,497,925,513,899,505,903,505,903,526,863,526,863,731,841,731,841,752,883,752,883,744,879,744,879,757,907,757,908,758,908,745,905,746,905,747,905,769,932,769,932,736,932,735,946,735,946,721,946,721,946,722,947,721,932,721,932,688,932,712,903,700,908,717,880,709,884,709,884,731,841,731,841,889,826,889,826,914,876,914,876,904,871,904,871,920,904,920,905,920,906,906,901,907,902,908,902,934,934,934,934,894,933,894,950,894,950,877,951,878,951,879,951,878,933,878,933,838,934,866,900,852,905,872,872,862,877,862,877,889,826,889,826]}]]},{b1:"0111-0-flowers",QQ:[["8cae40",{H:"M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z".split(" "),C:[182,866,160,879,146,903,135,929,135,844,177,842,228,831,230,796,231,770,207,765,182,779,160,792,146,816,135,843,135,713,135,711,134,710,132,710,130,710,128,711,128,713,128,841,117,815,103,791,82,779,57,764,33,769,34,795,36,830,86,841,128,844,128,930,117,903,103,880,82,867,57,853,33,858,34,884,36,919,86,930,128,932,128,1009,128,1010,130,1012,132,1012,134,1012,135,1010,135,1009,135,931,177,928,228,918,230,882,231,856,207,851,182,866,182,866,447,904,430,898,412,904,394,916,394,861,413,873,431,879,447,873,458,868,458,852,447,848,430,841,412,848,394,859,394,788,394,787,393,786,391,786,389,786,388,787,388,788,388,859,370,847,352,841,336,848,325,852,325,868,336,873,352,879,370,873,388,862,388,915,370,904,352,898,336,904,325,909,325,925,336,929,352,936,370,930,388,918,388,1009,388,1010,389,1011,391,1011,393,1011,394,1010,394,1009,394,918,413,930,431,936,447,929,458,925,458,909,447,904,447,904,662,943,650,954,641,972,634,993,634,914,659,907,680,895,692,873,707,846,686,836,662,859,650,870,641,888,634,909,634,818,634,816,632,815,631,815,629,815,628,816,628,818,628,908,621,887,612,870,600,859,576,836,555,846,570,873,582,895,603,907,628,914,628,992,621,971,612,954,600,943,576,920,555,930,570,957,582,978,603,990,628,998,628,1009,628,1010,629,1011,631,1011,632,1011,634,1010,634,1009,634,998,659,991,680,978,692,957,707,930,686,920,662,943,662,943,892,842,875,857,862,882,850,912,850,822,874,817,896,805,908,778,919,755,896,751,877,769,866,779,857,796,850,815,850,737,850,736,848,735,847,735,845,735,844,736,844,737,844,815,836,795,828,779,817,769,798,751,775,755,785,777,797,804,820,817,844,822,844,912,832,882,818,857,801,842,772,816,737,822,753,854,772,894,806,911,844,918,844,1009,844,1010,845,1011,847,1011,848,1011,850,1010,850,1009,850,918,887,911,922,894,941,854,957,822,922,816,892,842,892,842]}],["d13777",{H:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),C:[125,603,115,617,112,619,110,618,111,615,122,600,119,597,75,614,43,631,32,650,22,675,36,694,65,682,59,716,94,722,111,696,120,687,126,657,129,604,125,603,125,603,104,638,99,638,95,634,95,629,95,624,99,620,104,620,109,620,113,624,113,629,113,634,109,638,104,638,117,587,100,582,98,579,99,578,102,577,119,583,121,580,92,543,65,517,44,513,17,512,4,531,24,555,-10,560,-6,594,24,603,36,609,67,605,118,591,118,587,117,587,78,578,77,573,79,568,84,567,88,565,93,568,95,573,96,577,94,582,89,584,85,585,80,583,78,578,130,575,130,557,131,554,133,555,135,557,135,575,138,576,164,537,180,504,177,482,171,456,148,449,132,476,117,445,85,460,86,491,84,504,97,532,126,577,130,575,130,575,126,535,130,532,136,533,139,537,142,541,141,546,137,549,133,552,127,551,125,547,122,543,122,538,126,535,146,584,162,577,165,578,166,580,164,582,146,588,147,591,193,604,229,609,249,600,271,585,271,562,240,554,265,530,241,505,212,516,199,518,176,539,143,580,146,584,146,584,183,567,187,570,187,576,185,580,182,584,176,585,172,582,168,579,167,573,170,569,173,565,179,565,183,567,142,601,153,615,153,618,152,619,149,618,138,603,135,605,137,652,144,688,159,704,180,721,202,713,199,681,230,698,246,667,227,643,221,631,194,616,145,597,142,601,142,601,169,631,167,636,162,638,158,637,153,635,151,630,152,625,154,621,159,618,163,620,168,621,170,626,169,631,376,691,343,693,320,697,309,706,297,714,291,729,294,756,294,767,295,779,294,788,305,786,320,788,335,788,353,787,369,782,375,773,382,764,386,739,388,703,381,702,377,699,376,691,363,745,357,757,351,761,345,761,337,760,337,751,343,737,330,742,322,742,319,735,317,728,322,723,331,718,346,712,360,708,374,706,373,720,369,733,363,745,363,745,388,680,387,646,383,623,375,612,366,600,351,594,325,596,314,596,302,597,293,595,295,607,292,622,292,637,292,654,298,671,306,676,315,684,340,689,376,692,377,684,381,680,388,680,388,680,334,665,323,659,318,654,319,648,320,639,329,640,343,645,338,632,339,625,345,621,352,620,358,625,362,634,368,649,372,664,373,677,360,676,347,671,334,665,334,665,399,691,433,690,456,686,467,678,479,670,485,655,484,629,484,617,482,606,484,597,472,598,458,595,442,596,425,596,409,601,403,610,395,618,391,643,388,679,395,680,399,684,399,691,399,691,414,638,420,626,426,622,432,622,440,624,440,633,434,646,447,641,455,642,458,648,459,656,454,661,445,665,430,671,416,675,402,677,403,663,408,650,414,638,414,638,388,703,390,736,394,759,403,770,411,782,426,788,452,785,464,785,475,784,485,785,483,774,485,759,485,744,484,726,479,710,470,704,461,697,436,693,400,691,399,698,395,702,388,703,388,703,442,716,453,722,458,728,458,734,456,742,447,742,434,736,439,749,438,757,432,760,425,762,419,757,415,748,409,733,404,719,403,705,416,706,429,710,442,716,442,716,722,716,722,701,710,690,696,690,695,690,694,690,693,690,693,689,694,689,695,688,705,678,705,662,695,651,685,641,668,641,658,651,658,652,657,653,656,654,656,653,656,652,656,651,656,637,645,625,630,625,616,625,605,637,605,651,605,652,605,653,605,654,604,654,604,653,603,652,593,642,576,642,566,652,556,662,556,679,566,689,567,690,568,690,569,691,568,691,567,691,566,691,552,691,540,702,540,717,540,731,552,743,566,743,567,743,568,743,569,742,569,743,568,744,567,744,557,754,557,771,567,781,577,791,594,791,604,781,605,780,605,779,606,778,606,779,606,780,606,781,606,795,617,807,632,807,646,807,657,795,657,781,657,780,657,779,657,778,658,779,658,779,659,780,669,790,686,790,696,780,706,770,706,754,696,743,695,743,694,742,693,741,694,741,695,741,696,741,710,741,722,730,722,716,631,762,605,762,585,742,585,716,585,691,605,670,631,670,657,670,677,691,677,716,677,742,657,762,631,762,958,602,957,570,951,547,940,532,925,541,905,565,887,591,886,591,886,546,892,545,897,540,897,533,897,527,891,521,884,521,877,521,872,527,872,533,872,540,876,545,882,546,882,591,882,591,870,564,860,536,848,525,833,541,820,565,808,592,807,592,807,546,813,545,817,540,817,533,817,527,812,521,805,521,798,521,792,527,792,533,792,540,797,545,802,546,802,590,784,567,766,545,755,534,729,588,731,639,766,684,787,711,814,726,847,725,919,724,960,659,958,602,958,602,783,671,772,653,777,645,789,648,812,656,830,682,840,711,821,704,797,692,783,671,836,634,840,614,850,612,856,622,867,644,861,676,848,703,840,684,831,659,836,634,836,634,919,659,911,682,885,701,856,711,863,692,875,668,896,654,913,642,922,647,919,659,919,659]}]]},{b1:"1101-1-confetti",QQ:[["e789ff",{H:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),C:[170,439,169,438,59,370,108,300,152,238,298,276,318,337,338,398,265,380,285,358,312,328,185,247,121,307,72,353,171,440,170,439,318,338,336,399,262,408,184,346,138,309,73,237,112,174,167,88,345,115,377,222,393,276,296,260,335,236,375,212,236,111,155,183,73,254,265,380,285,358,312,328,318,338,318,338,377,222,394,276,318,288,243,236,187,197,146,120,201,56,254,-5,365,26,407,68,407,68,414,94,378,71,344,50,258,31,221,89,178,154,297,260,336,235,374,211,377,222,377,222,406,70,452,115,432,189,324,115,214,39,323,-85,322,-85,320,-85,229,38,331,100,439,166,413,95,377,72,343,51,364,28,406,70,346,405,369,418,356,441,333,428,346,405,513,298,536,311,523,334,500,321,513,298,891,91,914,104,901,127,878,114,891,91,24,123,47,136,34,159,11,146,24,123,664,33,687,46,674,69,651,56,664,33,910,482,933,495,920,518,897,505,910,482]}],["666666",{H:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),C:[919,442,917,443,802,510,764,432,730,364,837,250,901,261,965,272,913,329,903,301,889,262,755,338,777,424,794,490,920,442,919,442,901,261,964,274,936,345,842,386,787,410,690,435,654,370,604,279,716,132,827,153,883,164,821,244,819,197,817,150,659,228,682,335,706,443,913,329,903,301,889,262,901,261,901,261,827,153,884,163,857,238,774,281,711,313,622,313,593,233,564,157,647,71,705,54,705,54,732,60,694,82,658,102,599,170,632,231,669,301,822,244,819,197,816,150,827,153,827,153,706,54,769,34,825,87,706,149,583,213,527,56,526,57,526,59,590,200,696,137,807,70,732,60,694,82,658,102,648,73,706,54,362,328,383,340,371,361,350,349,362,328,52,189,73,201,61,222,40,210,52,189,509,119,530,131,517,152,496,140,509,119,912,16,933,28,921,49,900,37,912,16,629,380,650,392,638,413,617,401,629,380,77,414,98,426,86,447,65,435,77,414,240,76,261,88,249,109,228,97,240,76]}]]},{b1:"1101-1-branch",QQ:[["7f500b",{H:"M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z".split(" "),C:[144,-14,144,-14,149,-12,150,-12,150,-12,106,22,86,75,63,137,93,193,69,238,64,236,89,174,53,146,80,72,99,19,144,-14,144,-14,280,-18,281,-18,276,-20,276,-20,276,-20,282,23,264,64,244,113,196,129,185,168,189,170,209,120,244,123,269,66,288,25,280,-18,280,-18,429,-5,429,-5,434,-4,434,-4,435,-4,405,28,396,72,386,124,415,164,402,203,398,202,410,150,379,132,391,70,399,26,429,-5,429,-5,514,-7,514,-7,519,-12,519,-12,520,-12,532,50,577,96,630,151,703,150,738,197,733,201,681,144,635,166,571,101,526,54,514,-7,514,-7,666,-67,666,-68,663,-65,662,-64,662,-64,704,-52,734,-18,768,22,763,72,793,99,796,96,760,57,778,26,737,-22,708,-56,666,-67,666,-67,936,-8,936,-8,932,-9,931,-9,931,-9,947,32,938,76,927,127,884,154,881,194,886,195,895,142,930,138,943,76,952,32,936,-8,936,-8]}],["5c7f0b",{H:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),C:[119,6,121,16,113,31,81,33,58,34,27,27,27,27,27,27,53,5,70,-1,93,-9,117,-4,119,6,124,8,132,1,151,12,165,33,179,54,180,87,180,87,180,87,153,75,139,60,122,41,115,14,124,8,78,74,82,83,76,97,48,103,27,108,-2,105,-2,105,-2,105,19,81,33,74,53,64,75,65,78,74,83,75,90,68,108,76,124,93,139,110,144,140,144,140,144,140,117,132,104,121,85,105,76,83,83,75,72,152,75,159,72,172,48,179,30,185,6,185,6,185,6,185,22,163,33,156,49,145,68,145,72,152,76,153,81,146,98,151,112,165,126,178,133,203,133,203,133,203,110,199,97,190,80,178,70,160,76,153,73,206,75,213,71,224,49,228,34,232,12,230,12,230,12,230,28,212,39,206,53,199,70,200,73,206,76,207,81,202,95,207,107,220,118,233,122,255,122,255,122,255,102,250,92,241,78,230,71,213,76,207,70,232,78,236,76,252,66,269,56,286,33,297,33,297,33,297,33,274,39,260,46,241,62,228,70,232,285,3,278,8,274,21,291,39,304,52,325,63,325,63,325,63,323,36,316,24,308,7,291,-2,285,3,281,1,280,-7,263,-10,244,-5,224,1,205,20,205,20,205,20,228,27,244,25,264,22,283,10,281,1,270,65,264,69,259,80,272,99,281,112,299,125,299,125,299,125,300,100,296,88,290,72,277,61,270,65,267,64,267,56,252,51,234,53,216,56,197,71,197,71,197,71,216,80,230,80,249,80,267,72,267,64,231,116,225,119,220,128,230,145,237,157,251,170,251,170,251,170,254,148,251,138,248,123,237,113,231,116,228,114,229,108,217,102,201,103,186,103,168,115,168,115,168,115,184,124,196,126,212,127,228,121,228,114,201,148,196,151,192,160,202,174,209,184,222,194,222,194,222,194,223,175,220,166,216,154,206,145,201,148,198,147,198,141,187,137,174,139,160,141,145,152,145,152,145,152,160,159,171,159,185,160,198,153,198,147,188,165,182,163,173,174,170,190,167,205,173,224,173,224,173,224,186,210,191,198,197,183,195,166,188,165,415,10,417,18,413,31,389,36,371,39,347,37,347,37,347,37,364,16,377,9,393,0,412,2,415,10,418,11,424,4,440,11,453,27,466,43,470,69,470,69,470,69,448,62,436,52,420,38,412,17,418,11,391,69,394,76,392,89,371,96,355,102,333,103,333,103,333,103,346,81,357,74,371,64,388,63,391,69,395,70,399,63,414,68,428,80,441,92,448,116,448,116,448,116,427,113,415,105,400,94,390,77,395,70,395,133,398,139,397,150,379,158,367,164,348,167,348,167,348,167,358,148,366,140,377,130,391,128,395,133,398,134,401,128,414,130,427,140,439,149,447,169,447,169,447,169,429,167,418,162,404,154,394,140,398,134,401,177,404,182,402,192,386,198,374,202,358,203,358,203,358,203,368,187,375,181,386,173,399,172,401,177,404,178,408,173,419,176,429,185,439,194,445,212,445,212,445,212,429,210,420,204,408,196,401,183,404,178,402,198,408,201,409,214,403,229,397,244,381,255,381,255,381,255,378,236,381,224,385,208,396,196,402,198,519,23,531,26,543,42,528,75,518,99,495,125,495,125,495,125,485,87,487,67,490,40,508,19,519,23,523,19,521,7,542,-6,571,-8,600,-10,636,6,636,6,636,6,609,27,586,32,557,39,526,32,523,19,570,100,581,102,594,115,585,147,579,170,562,197,562,197,562,197,548,163,547,145,547,120,560,98,570,100,574,97,570,86,587,72,613,66,639,60,673,71,673,71,673,71,652,93,632,101,607,110,578,107,574,97,649,149,659,150,670,160,666,188,662,208,650,232,650,232,650,232,635,205,633,189,631,168,640,149,649,149,652,146,648,137,662,123,683,116,705,109,734,116,734,116,734,116,718,137,702,145,681,155,657,155,652,146,707,178,715,179,724,189,718,213,714,230,701,250,701,250,701,250,690,225,690,211,689,193,699,177,707,178,710,175,707,167,720,156,739,151,759,147,784,155,784,155,784,155,768,172,753,177,734,185,713,183,710,175,732,194,740,189,757,199,770,218,782,237,783,266,783,266,783,266,758,254,746,240,730,223,724,199,732,194,687,-62,688,-54,699,-45,722,-53,739,-59,759,-73,759,-73,759,-73,733,-82,719,-82,701,-81,685,-71,687,-62,684,-60,676,-62,666,-48,662,-28,659,-9,669,17,669,17,669,17,684,-1,689,-16,696,-35,692,-57,684,-60,737,-23,738,-15,746,-5,768,-9,784,-12,804,-23,804,-23,804,-23,782,-34,769,-36,752,-38,736,-30,737,-23,734,-20,727,-24,716,-13,711,5,705,22,711,46,711,46,711,46,727,33,734,20,742,3,742,-17,734,-20,766,35,766,41,772,50,792,48,806,47,823,40,823,40,823,40,805,28,795,26,780,23,766,28,766,35,763,37,758,33,747,42,741,56,735,70,738,91,738,91,738,91,753,81,760,71,768,57,769,40,763,37,782,76,783,82,789,89,806,86,818,84,832,76,832,76,832,76,816,67,806,66,794,65,782,70,782,76,780,78,775,75,766,84,762,97,758,110,762,128,762,128,762,128,775,118,779,108,786,95,785,80,780,78,792,94,788,100,794,112,807,122,819,131,839,133,839,133,839,133,832,116,823,107,812,95,796,89,792,94,945,11,939,18,938,31,959,45,974,55,997,62,997,62,997,62,989,36,980,25,968,11,950,5,945,11,941,11,938,3,921,3,903,13,885,22,871,45,871,45,871,45,894,47,909,42,929,35,944,19,941,11,944,75,938,80,935,93,952,108,964,119,984,128,984,128,984,128,980,104,974,93,965,78,949,70,944,75,940,75,938,67,923,65,906,71,889,77,873,96,873,96,873,96,894,101,908,99,926,95,942,82,940,75,916,133,911,137,907,147,920,162,930,172,946,182,946,182,946,182,944,160,940,151,933,137,921,129,916,133,913,132,912,125,899,123,884,127,869,130,854,145,854,145,854,145,871,151,883,150,899,148,913,139,913,132,893,171,888,175,887,184,899,196,908,204,923,211,923,211,923,211,920,193,915,184,909,173,897,167,893,171,890,170,889,165,877,163,864,168,851,172,839,187,839,187,839,187,855,190,865,188,879,186,891,176,890,170,884,190,877,190,871,202,871,218,871,234,881,251,881,251,881,251,891,234,893,222,896,206,890,190,884,190]}]]},{b1:"1101-1-sticks",QQ:[["ec7272",{H:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),C:[260,148,297,180,286,192,249,160,260,148,114,31,161,47,155,63,109,47,114,31,931,91,902,52,915,42,945,81,931,91,711,19,746,-15,758,-3,723,31,711,19,812,161,782,122,795,112,825,151,812,161,389,34,424,0,436,12,401,46,389,34,431,209,465,175,477,186,442,221,431,209,282,90,282,41,299,41,299,90,282,90,58,233,29,194,42,184,72,223,58,233,574,58,621,74,615,90,569,74,574,58]}],["0000ff",{H:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),C:[722,208,733,161,717,157,706,205,722,208,843,12,797,28,802,44,849,28,843,12,31,74,60,35,47,25,18,64,31,74,220,21,185,-13,173,-1,208,33,220,21,140,166,170,127,157,117,127,156,140,166,558,148,523,114,511,126,546,160,558,148,562,9,516,25,521,41,568,25,562,9,697,105,726,66,713,56,684,95,697,105,961,180,990,141,977,131,948,170,961,180,399,97,353,113,358,129,405,113,399,97]}]]},{b1:"1101-1-dots",QQ:[["ec7272",{H:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),C:[154,47,144,47,136,39,136,29,136,19,144,11,154,11,164,11,172,19,172,29,172,39,164,47,154,47,272,164,262,164,254,156,254,146,254,136,262,128,272,128,282,128,290,136,290,146,290,156,282,164,272,164,529,48,519,48,511,40,511,30,511,20,519,12,529,12,539,12,547,20,547,30,547,40,539,48,529,48,696,101,686,101,678,93,678,83,678,73,686,65,696,65,706,65,714,73,714,83,714,93,706,101,696,101,929,91,919,91,911,83,911,73,911,63,919,55,929,55,939,55,947,63,947,73,947,83,939,91,929,91]}],["0000ff",{H:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),C:[66,122,56,122,48,114,48,104,48,94,56,86,66,86,76,86,84,94,84,104,84,114,76,122,66,122,309,55,299,55,291,47,291,37,291,27,299,19,309,19,319,19,327,27,327,37,327,47,319,55,309,55,785,180,775,180,767,172,767,162,767,152,775,144,785,144,795,144,803,152,803,162,803,172,795,180,785,180,459,147,449,147,441,139,441,129,441,119,449,111,459,111,469,111,477,119,477,129,477,139,469,147,459,147,811,48,801,48,793,40,793,30,793,20,801,12,811,12,821,12,829,20,829,30,829,40,821,48,811,48]}],["88a500",{H:["M","C","C","Z"],C:[389,224,389,224,410,230,410,230,410,230,389,224,389,224]}]]},{b1:"1101-1-strips",QQ:[["ffc88c",{H:"M L L L L Z M L L L L Z M L L L L Z".split(" "),C:[-40,0,44,0,137,99,53,99,-40,0,296,0,380,0,473,99,389,99,296,0,632,0,716,0,809,99,725,99,632,0]}],["88a500",{H:"M L L L L Z M L L L L Z M L L L L Z".split(" "),C:[128,0,212,0,305,99,221,99,128,0,464,0,548,0,641,99,557,99,464,0,800,0,884,0,977,99,893,99,800,0]}],["88a500",{H:["M","C","C","Z"],C:[407,217,407,217,428,223,428,223,428,223,407,217,407,217]}]]},{b1:"1101-1-circs",QQ:[["ec7272",{H:"M C C C C Z M C C C C Z".split(" "),C:[61,209,27,209,0,181,0,147,0,113,27,86,61,86,96,86,123,113,123,147,123,181,96,209,61,209,551,209,517,209,489,181,489,147,489,113,517,86,551,86,585,86,612,113,612,147,612,181,585,209,551,209]}],["217995",{H:"M C C C C Z M C C C C Z".split(" "),C:[303,209,269,209,241,181,241,147,241,113,269,86,303,86,337,86,364,113,364,147,364,181,337,209,303,209,799,209,765,209,738,181,738,147,738,113,765,86,799,86,834,86,861,113,861,147,861,181,834,209,799,209]}],["88a500",{H:["M","C","C","Z"],C:[530,273,530,273,551,279,551,279,551,279,530,273,530,273]}]]},{b1:"1101-1-squares",QQ:[["014ea7",{H:"M L L L L Z M L L L L Z".split(" "),C:[0,120,124,120,124,244,0,244,0,120,497,120,621,120,621,244,497,244,497,120]}],["fc54ff",{H:"M L L L L Z M L L L L Z".split(" "),C:[249,120,373,120,373,244,249,244,249,120,746,120,870,120,870,244,746,244,746,120]}],["88a500",{H:["M","C","C","Z"],C:[389,354,389,354,410,360,410,360,410,360,389,354,389,354]}]]},{b1:"1101-0-christmas",QQ:[["014ea7",{H:"M C C C C Z M C C C C Z M L L L L Z".split(" "),C:[255,480,178,480,116,418,116,341,116,264,178,202,255,202,332,202,394,264,394,341,394,418,332,480,255,480,255,232,236,232,221,217,221,198,221,179,236,164,255,164,274,164,289,179,289,198,289,217,274,232,255,232,251,-152,260,-152,260,248,251,248,251,-152]}],["ff9518",{H:"M C C C C Z M C C C C Z M L L L L Z".split(" "),C:[746,623,669,623,607,561,607,484,607,407,669,345,746,345,823,345,885,407,885,484,885,561,823,623,746,623,747,376,728,376,713,361,713,342,713,323,728,308,747,308,766,308,781,323,781,342,781,361,766,376,747,376,742,-8,751,-8,751,392,742,392,742,-8]}]]}];
var aD={};aD.parse=function(w){var M=new Uint8Array(w),O=null;if(M[0]==80&&M[1]==75){var b=Date.now(),D=UZIP.parse(M.buffer),O=D["document.json"];
O=JSON.parse(n.AL(O,0,O.length));aD.Es(O,D)}else{var o=jH.parse(w);O=aD.C_(o[2][0][1])}return O};aD.Es=function(w,M){var O=typeof w;
if(O=="string"||O=="number"||O=="boolean")return w;if(w instanceof Array){for(var U=0;U<w.length;U++)w[U]=aD.Es(w[U],M);
return w}var b=w._class;if(b==null)return w;if(b=="MSJSONFileReference"){var D=w._ref;if(!1){}else if(M[D+".json"]!=null){var o=M[D+".json"],Z=o.length;
for(var U=0;U<Z;U++)if(o[U]==11||o[U]==3)o[U]=32;var $=n.AL(o,0,Z);w=JSON.parse($)}else if(M[D+".png"]!=null)return{key:D.split("/").pop(),bdata:M[D+".png"]};
else if(M[D+".jpg"]!=null)return{key:D.split("/").pop(),bdata:M[D+".jpg"]};else if(M[D+".pdf"]!=null)return{key:D.split("/").pop(),bdata:M[D+".pdf"]};
else if(M[D]!=null)return{key:D.split("/").pop(),bdata:M[D]};else{console.log(w,M);return}}else if(b=="MSAttributedString"){var $=atob(w.archivedAttributedString._archive),k=$.length-1,E=new Uint8Array(k);
for(var U=0;U<k;U++)E[U]=$.charCodeAt(U);w.archivedAttributedString=aD.C_(E)}for(var t in w)w[t]=aD.Es(w[t],M);
return w};aD.vl=function(w,M,O,b){if(w instanceof Uint8Array)return null;if(b.indexOf(w)!=-1)return null;
b.push(w);if(w==M)return O;for(var D in w){O.push(D);var o=aD.vl(w[D],M,O,b);if(o){console.log(w,o);
throw"e"}O.pop()}};aD.C_=function(w){var M=bg.parse(w,0),O=M.$objects,b=new Uint8Array(O.length),D=aD.tr(O,b,M.$top.root);
for(var U=0;U<O.length;U++)if(b[U]==0&&U!=0){console.log(U,O[U]);aD.vl(D,U,[],[])}for(var U=0;U<O.length;
U++){var o=O[U];if(o._class&&(o._class=="bitmap"||o._class=="fill"&&o.fillType==4&&(o.image||o.imageSHA))){var Z=o.image,$=o.imageSHA,k=null,E=null;
if(Z=="$null")Z=null;if($=="$null")$=null;if(Z&&Z.data){E=Z.sha1["NS.bytes"];E=btoa(n.TP(E,0,E.length));
k=Z.data instanceof Uint8Array?Z.data:Z.data["NS.bytes"]}else if(Z==null&&$==null){var t=ce.ti("PNG").WV([[x.$(4).buffer]],1,1);
k=new Uint8Array(t)}else{var c=(D.assets?D.assets.imageCollection:D.images).images;if($)E=$ instanceof Uint8Array?$:$["NS.bytes"];
else E=Z.sha1["NS.bytes"];E=btoa(n.TP(E,0,E.length));var k=c[E].data;if(k["NS.bytes"])k=k["NS.bytes"]}k=new Uint8Array(k.buffer.slice(k.byteOffset,k.byteOffset+k.length));
delete o.imageSHA;o.image={key:E,bdata:k}}}return D};aD.a0l=function(w){return w.slice(0,11)=="MSImmutable"?"MS"+w.slice(11):w};
aD.tr=function(w,M,O){var b=w[O];if(M[O]==1){return b}M[O]=1;if(typeof b=="string")return b;if(typeof b=="number")return b;
if(typeof b=="boolean")return b;if(b instanceof Array)return b;if(b instanceof Uint8Array){return b}if(w[b.$class]==null){if(b.$class==null&&b["NS.data"]!=null)return b;
console.log(O,b);throw"e"}var D=w[b.$class],o=aD.a0l(D.$classname);M[b.$class]=1;b.$class=o;if(aD.w2[o]){delete b.$class;
b._class=aD.w2[o]}var Z=aD.tr;if(o=="NSMutableArray"||o=="NSArray"){var $=[];if(b["NS.objects"]!=null)for(var U=0;
U<b["NS.objects"].length;U++)$.push(Z(w,M,b["NS.objects"][U]));else for(var U=0;b["NS.object."+U]!=null;
U++)$.push(Z(w,M,b["NS.object."+U]));w[O]=$;return $}if(o=="NSDictionary"||o=="NSMutableDictionary"){var k={$class:o};
if(b["NS.keys"]!=null)for(var U=0;U<b["NS.keys"].length;U++){var E=Z(w,M,b["NS.keys"][U]);if(E instanceof Uint8Array)E=btoa(aD.lR.TP(E,0,E.length));
else if(typeof E!="string"&&typeof E!="number")E=btoa(aD.lR.TP(E["NS.bytes"],0,E["NS.bytes"].length));
k[E]=Z(w,M,b["NS.objects"][U])}else for(var U=0;b["NS.key."+U]!=null;U++){var E=Z(w,M,b["NS.key."+U]);
if(E instanceof Uint8Array)E=btoa(aD.lR.TP(E,0,E.length));else if(typeof E!="string"&&typeof E!="number")E=btoa(aD.lR.TP(E["NS.bytes"],0,E["NS.bytes"].length));
k[E]=Z(w,M,b["NS.object."+U])}for(var t in b)delete b[t];for(var t in k)b[t]=k[t];return b}if(o=="NSURL")return{$class:o,base:Z(w,M,b["NS.base"]),relative:Z(w,M,b["NS.relative"])};
if(aD.a2C.indexOf(o)!=-1){w[O]=Z(w,M,b.array_do);return w[O]}if(b.do_objectID!=null)b.do_objectID=Z(w,M,b.do_objectID);
if(aD.a9D.indexOf(o)!=-1)return b;var c=aD.a1W[o];if(c==null){console.log(w,b);throw"unknown class "+o}for(var U=0;
U<c.length;U++)if(b[c[U]]!=null)b[c[U]]=Z(w,M,b[c[U]]);if(o=="MSTextLayer"){var l=b,q,d,V,L;if(l.attributedString)q=l.attributedString.archivedAttributedString;
else q=l.storage;L=q.NSString;if(typeof L!="string")L=n.AL(L["NS.bytes"],0,L["NS.bytes"].length);if(q.NSAttributeInfo)d=q.NSAttributeInfo["NS.bytes"];
else{var e=L.length,H=[];while(e>0){var j=Math.min(100,e);H.push(j,0);e-=j}d=new Uint8Array(H)}V=q.NSAttributes instanceof Array?q.NSAttributes:[q.NSAttributes];
var g={$class:"NSAttributedString",NSString:L,NSAttributes:V};l.attributedString={_class:"MSAttributedString",archivedAttributedString:g};
g.NSAttributeInfo={$class:"NSMutableData","NS.data":d};delete l.storage}return b};aD.lR={z0:function(w,M){return w[M+1]<<8|w[M]},A:function(w,M){return w[M+3]<<24|w[M+2]<<16|w[M+1]<<8|w[M]},TP:function(w,M,O){var b="";
for(var U=0;U<O;U++)b+=String.fromCharCode(w[M+U]);return b}};aD.w2={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill",MSShapePathLayer:"shapePath",MSRectangleShape:"rectangle",MSOvalShape:"oval",MSTriangleShape:"triangle"};
aD.a2C=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"];
aD.a9D="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" ");
aD.a1W={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect nineSliceScale image clippingMask originalObjectID".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName","NSDescriptor"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"],UIFontDescriptor:["UIFontDescriptorAttributes"]};
var bg={};bg.parse=function(w,M){var O=n.TP(w,M,8);M+=8;var b=bg.parse.aeV(w,w.length-31),D=[];if(b.y0==1){var M=w.length-31-b.y0*b.VJ;
for(var U=0;U<b.VJ;U++)D.push(w[M+U])}else if(b.y0==2){var M=w.length-31-b.y0*b.VJ;for(var U=0;U<b.VJ;
U++)D.push(n.z0(w,M+U*2))}else if(b.y0==4){var M=w.length-31-b.y0*b.VJ;for(var U=0;U<b.VJ;U++)D.push(n.A(w,M+U*4))}else{throw"e"}var o=bg.parse.tr(w,D,b.root,b);
return o};bg.parse.tr=function(w,M,O,b){var D=bg.lR,o=b.atL,Z=o==4?D.A:o==2?D.z0:D.ab5,$=bg.parse,k=M[O],E=w[k],t=E>>4,c=E&15,q=null;
k+=1;if([4,5,6,10,12,13].indexOf(t)!=-1&&c==15){var l=$.$g(w,k);k+=l.w_;c=l.G}if(!1){}else if(t==0)q=c==8?!1:c==9?!0:null;
else if(t==1)q=$.$g(w,k-1).G;else if(t==2)q=1<<c==4?n.y1(w,k):n.BR(w,k);else if(t==3)q=n.BR(w,k);else if(t==4)q=new Uint8Array(w.buffer,k,c);
else if(t==5)q=n.TP(w,k,c);else if(t==6)q=n.Ip(w,k,c);else if(t==8){q=0;for(var U=0;U<c+1;U++)q=q<<8|w[k+U]}else if(t==10){q=[];
for(var U=0;U<c;U++)q.push($.tr(w,M,Z(w,k+o*U),b))}else if(t==12){q=[];for(var U=0;U<c;U++)q.push($.tr(w,M,Z(w,k+o*U),b))}else if(t==13){q={};
for(var U=0;U<c;U++){var d=$.tr(w,M,Z(w,k+o*U),b),V=$.tr(w,M,Z(w,k+o*(c+U)),b);q[d]=V}}else throw"unknown mask "+t;
return q};bg.parse.$g=function(w,M){var O=1<<(w[M]&15),b=0;for(var U=0;U<O;U++)b=b<<8|w[M+1+U];return{G:b,w_:O+1}};
bg.parse.aeV=function(w,M){var O={};M+=6;O.y0=w[M];M++;O.atL=w[M];M++;M+=4;O.VJ=n.A(w,M);M+=4;M+=4;O.root=n.A(w,M);
M+=4;M+=4;O.a7b=n.A(w,M);M+=4;return O};bg.lR={ab5:function(w,M){return w[M]},z0:function(w,M){return w[M]<<8|w[M+1]},A:function(w,M){return w[M]<<24|w[M+1]<<16|w[M+2]<<8|w[M+3]},TP:function(w,M,O){var b="";
for(var U=0;U<O;U++)b+=String.fromCharCode(w[M+U]);return b}};var jH={parse:function(w){var M=new Uint8Array(w),O=jH.lo(M),b=[],D=new Uint8Array(M.length),o=[];
b.push(o);jH.kN(M,O,1,D,o);for(var U=0;U<o.length;U++){var Z=[];b.push(Z);jH.kN(M,O,o[U][3],D,Z);o[U][3]=U+1}return b},kN:function(w,M,O,b,D){O--;
var o=O*M.Gv+(O==0?100:0),Z=w[o],$=jH.z0(w,o+1);if($!=0)throw"free block in a page";var k=jH.z0(w,o+3),E=jH.z0(w,o+5);
if(E==0)E=65536;var t=w[o+7],c=jH.z0(w,o+8);if(Z==2||Z==5)o+=4;else c=0;for(var l=0;l<k;l++){var q=O*M.Gv+jH.z0(w,o+8+2*l),d=-1,V=0,L=0,e=0;
if(Z==2||Z==5){d=jH.A(w,q);q+=4}if(Z==2||Z==10||Z==13){V=jH.EF(w,q);q+=V.w_}if(Z==5||Z==13){L=jH.EF(w,q);
q+=L.w_}if(Z==5){jH.kN(w,M,d,b,D);continue}var H=M.Gv-(O==0?100:0),j=V.X$,g=Z==13?H-35:Math.floor((H-12)*64/255)-23,K=Math.floor((H-12)*32/255)-23,a=K+(j-K)%(H-4);
if(j<=g){jH.U7(w,q,b,0,j)}else{var T=a<=g?a:K,C=0;jH.U7(w,q,b,0,T);C+=T;e=jH.A(w,q+T);while(e!=0){var F=(e-1)*M.Gv;
e=jH.A(w,F);var m=Math.min(M.Gv-4,j-C);jH.U7(w,F+4,b,C,m);C+=m}}D.push(jH.asV(b,j))}},asV:function(w,M){var O=0,b=jH.EF(w,O);
O+=b.w_;var D=[],o=[];while(O<b.X$){var Z=jH.EF(w,O);O+=Z.w_;D.push(Z.X$)}if(O!=b.X$)throw"e";for(var U=0;
U<D.length;U++){var Z=D[U];if(!1){}else if(Z==0)o.push(null);else if(Z==1){o.push(jH.ah2(w,O));O+=1}else if(Z==2){o.push(jH.iV(w,O));
O+=2}else if(Z==3){o.push(jH.a5N(w,O));O+=3}else if(Z==4){o.push(jH.$g(w,O));O+=4}else if(Z==7){o.push(jH.a4P(w,O));
O+=16}else if(Z==8)o.push(0);else if(Z==9)o.push(1);else if(Z>=12&&(Z&1)==0){var $=Z-13>>1,k=new Uint8Array($);
jH.U7(w,O,k,0,$);o.push(k);O+=$}else if(Z>=13&&(Z&1)==1){var $=Z-12>>1;o.push(jH.AL(w,O,$));O+=$}else throw"unknonw type "+Z}return o},lo:function(w){if(!(w[18]==1&&w[19]==1&&w[20]==0&&w[21]==64&&w[22]==32&&w[23]==32))throw"unexpected SQL3 header";
var M={ig:jH.TP(w,0,15),Gv:jH.z0(w,16),agk:jH.A(w,24),size:jH.A(w,28),a1m:jH.A(w,32),a3h:jH.A(w,36),a4z:jH.A(w,40),as8:jH.A(w,44),acY:jH.A(w,48),adT:jH.A(w,52),aaB:jH.A(w,56),aka:jH.A(w,60),acN:jH.A(w,64)!=0,avU:jH.A(w,68),amw:jH.A(w,92),amH:jH.A(w,96)};
if(M.Gv==1)M.Gv=65536;if(M.aaB!=1)throw"unsupported text encoding "+M.aaB;return M},auU:function(w,M){return w[M]<<16|w[M+1]<<8|w[M+2]},a5N:function(w,M){var O=jH.auU(w,M),b=O&8388608;
return b?-(16777215-O+1):O},ah2:function(w,M){jH.y4[0]=w[M];return jH.aen[0]},$g:function(w,M){var O=jH.y4;
for(var U=0;U<4;U++)O[U]=w[M+3-U];return jH.aaS[0]},iV:function(w,M){var O=jH.y4;O[0]=w[M+1];O[1]=w[M];
return jH.auo[0]},z0:function(w,M){return w[M]<<8|w[M+1]},A:function(w,M){return w[M]<<24|w[M+1]<<16|w[M+2]<<8|w[M+3]},a4P:function(w,M){var O=jH.y4;
for(var U=0;U<8;U++)O[U]=w[M+7-U];return jH.at8[0]},EF:function(w,M){var O=M,aq=0;while(!0){var b=w[M];
M++;aq=aq*128+(b&127);if(b<128)break}return{X$:aq,w_:M-O}},TP:function(w,M,O){var b="";for(var U=0;U<O;
U++)b+=String.fromCharCode(w[M+U]);return b},AL:function(w,M,O){var b="";for(var U=0;U<O;U++)b+="%"+jH.ax4(w[M+U].toString(16));
return decodeURIComponent(b)},U7:function(w,M,O,b,D){if(w[M+D-1]==null||O[b+D-1]==null){console.log(M,b,D);
throw"e"}for(var U=0;U<D;U++)O[b+U]=w[M+U]},ax4:function(aq){return aq.length<2?"0"+aq:aq}};jH.y4=new Uint8Array(8);
jH.aen=new Int8Array(jH.y4.buffer);jH.auo=new Int16Array(jH.y4.buffer);jH.aaS=new Int32Array(jH.y4.buffer);
jH.at8=new Float64Array(jH.y4.buffer);function aJ(w,M,O){this.zu=w;this.rW=M;this.apa=O;this.Ul=new at(0,0);
this.KA=-1;this.tE=0;this.Et=0;this.M1=new cn;this.wL=[];this.e4=null;this.axD=null;this.vg=null;this.PE=null;
this.QC=null;this.agU=null}aJ.prototype.StartPage=function(w,M,O,b,D){var o=this.rW,Z=o.gy(),$=1,k=(O-w)*(b-M);
if(D!=null)k=D;while(k*Z*Z/($*$)>2*8192*8192)$++;o.scale(1/$,1/$);this.axD=[w,M,O,b];var $=o.gy();w=Math.round(w*$);
M=Math.round(M*$);O=Math.round(O*$);b=Math.round(b*$);var E=this.zu,t=this.vg;if(t==null){o.hE=-w}else{var c=t[2]-t[0]+30,l=Math.round(O-w)+30;
if(this.Ul.x+c+l>8192){o.hE=-w;this.Ul.x=0;this.Ul.y+=this.Et+120;this.Et=0}else{o.hE+=c;this.Ul.x+=c}}o.Qw=this.Ul.y+(this.apa?b:-M);
this.Et=Math.max(this.Et,Math.round(b-M));this.vg=[w,M,O,b];E.B.push(E.iB())};aJ.prototype.Kp=function(){var w=this.zu,M=w.B[w.B.length-1];
return M};aJ.prototype.Dd=function(){var w=JSON.parse(JSON.stringify(aN.d_.default));w.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
w.strokeEnabled.v=!1;w.fillEnabled.v=!1;return w};aJ.prototype.hK=function(){var w=this.zu,M=w.uV();
M.EJ("Path "+w.B.length);this.zu.B.push(M);M.N7|=16;M.add.SoCo={classID:"null",Clr:{t:"Objc",v:x.M.jk({o:0,w:0,L:0})}};
M.add.vmsk=new Q.G6;M.add.vstk=this.Dd();return M};aJ.prototype.eB=function(w){var M={C:w.crds,H:w.cmds},O=x.p.aG(M,!1);
x.O.I0(O,this.rW);return O};aJ.akY=function(w,M){for(var U=0;U<w.length;U++)if(w[U].K$!=null)w[U].K$=M};
aJ.afZ=function(w){return Math.sqrt(Math.abs(w[0]*w[3]-w[1]*w[2]))};aJ.nl=function(w){return x.M.jk({o:w[0]*255,w:w[1]*255,L:w[2]*255})};
aJ.uH=function(w){return new f$(w[0],w[1],w[2],w[3],w[4],w[5])};aJ.prototype.Stroke=function(w){if(this.KA!=-1&&this.KA!=this.tE)return;
if(w.pth.cmds.length<=1)return;var M=this.eB(w.pth);if(M.length<=2)return;this.zF(w);aJ.akY(M,-1);M[2].K$=1;
var O=aJ.nl(w.COLR),b=this.Kp(),D=this.Dd();aJ.b_(D,w,this.rW.gy(),O);var o=b!=null&&b.add.vmsk!=null&&!b._N(),Z=o&&!b.add.vstk.strokeEnabled.v&&Q.G6.ac8(b.add.vmsk.j,M,!0),$=o&&!b.add.vstk.fillEnabled.v&&JSON.stringify(D)==JSON.stringify(b.add.vstk);
if($){b.add.vmsk.j=b.add.vmsk.j.concat(M.slice(2))}else if(Z){b.add.vstk=D;D.fillEnabled.v=!0}else{b=this.hK();
b.add.vmsk.j=M;b.add.vstk=D}};aJ.b_=function(w,M,O,b){w.strokeEnabled.v=!0;w.strokeStyleMiterLimit.v=M.mlimit;
w.strokeStyleLineDashSet.v=eR.z4(M.dash,1/M.lwidth);w.strokeStyleLineDashOffset.v.val=M.doff;w.strokeStyleLineJoinType.v.strokeStyleLineJoinType=aN.d_.join[M.ljoin];
w.strokeStyleLineCapType.v.strokeStyleLineCapType=aN.d_.nH[M.lcap];w.strokeStyleLineWidth.v.val=Math.max(.4,M.lwidth*aJ.afZ(M.ctm)*O);
w.strokeStyleContent.v.Clr.v=b};aJ.prototype.Fill=function(w,M){if(this.KA!=-1&&this.KA!=this.tE)return;
if(w.ca==0)return;var O=w.pth.cmds;if(O.length==0)return;if(O.length==2&&JSON.stringify(O)=="[\"M\",\"L\"]")return;
var b=x.p.qe(w.pth.crds),D=x.p.qe(w.cpth.crds);if(b.mX(D).S9())return;var o=w.pth,Z=UDOC.G.isBox(o,[b.x,b.y,b.x+b.e,b.y+b.n]),$=w.cpth,k=UDOC.G.isBox($,[D.x,D.y,D.x+D.e,D.y+D.n]);
if(Z&&k&&b.v()>D.v()*2){var E=b.mX(D),t=E.x,c=E.y,l=t+E.e,q=c+E.n;o={cmds:["M","L","L","L","Z"],crds:[t,c,l,c,l,q,t,q]};
b=E}else if(this.PE==null&&UDOC.G.isBox(o,[b.x,b.y,b.x+b.e,b.y+b.n])&&b.Ar(D)){o=$;b=D}else this.zF(w);
var d=this.eB(o),V=x.p.zl(b);x.p.F(V.C,this.rW,V.C);b=x.p.qe(V.C);var L=aJ.XX(w.colr,this.rW,b),e=this.Kp(),H=e!=null&&e.opacity==Math.round(255*w.ca)&&e.add.vstk!=null&&!e.add.vstk.strokeEnabled.v&&e.add.SoCo&&L.type=="SoFi"&&JSON.stringify(e.add.SoCo.Clr.v)==JSON.stringify(L.G.v.Clr.v);
if(H){var j=!1;for(var U=0;U<d.length;U++){if(d[U].K$==0||d[U].K$==2)j=!0}if(j){var g=x.p.qe(x.O.ml(e.add.vmsk.j)),K=x.p.qe(x.O.ml(d));
H=g.mX(K).S9()}}if(H){var a=e.add.vmsk.j;for(var U=2;U<d.length;U++)a.push(d[U])}else{e=this.hK();delete e.add.SoCo;
e.add.vmsk.j=Q.G6.Zc(d);aJ.AA(w.colr,e,this.rW,b);aJ.ok(w,e)}};aJ.AA=function(w,M,O,b){var D=aJ.XX(w,O,b),o=null,Z=null;
M.add.vstk.fillEnabled.v=!0;if(D.type=="SoFi"){o="SoCo";Z=aN.J1}if(D.type=="GrFl"){o="GdFl";Z=aN.JK}if(D.type=="patternFill"){o="PtFl";
Z=aN.KO}if(o!=null){M.add[o]={classID:"null"};for(var U=0;U<Z.length;U++){var $=Z[U];M.add[o][$]=D.G.v[$]}}};
aJ.prototype.zF=function(w){var M=this.zu,O=w.cpth,b=O.cmds.join(""),D=O.crds,o=b+" "+D.join(","),Z=UDOC.G.isBox(O,this.axD);
if(Z&&this.PE==null)return;if(o==this.PE)return;this.p7();if(!Z){this.PE=o;M.B.push(M.iB());var $=M.uV();
$.EJ("Mask");$.add.lsct=ht.xe;$.eI="pass";$.N7=24;var k=$.add.vmsk=new Q.G6;k.j=this.eB(w.cpth);if(UDOC.G.isBox(O)){this.QC=x.O.rt(k.j);
this.QC.M0(3,3)}else this.QC=null;this.agU=$}};aJ.prototype.p7=function(){var w=this.zu;if(this.PE!=null){var M=w.B.length-1,U=M,O=!1;
while(U>=0&&w.B[U].add.lsct!=ht.z5)U--;var b=this.QC;if(b){var D=new cn,o=M;while(o>U){D=w.B[o].Op(this.zu,!1,!0);
o--}O=b.Ar(D)}if(O){this.wL.splice(U,1);w.B.splice(U,1)}else{w.B.push(this.agU)}this.PE=null}};aJ.XX=function(w,M,O){var b,D;
if(w.length!=null){b="SoFi";var o=JSON.parse(aN.hx[aN.order.indexOf("SoFi")]);D={t:"Objc",v:o};D.v.Clr.v=aJ.nl(w)}else{var Z=aJ.aqw(w,M,O);
b="GrFl";D={t:"Objc",v:Z}}return{type:b,G:D}};aJ.aqw=function(w,M,O){var b=JSON.parse(aN.hx[aN.order.indexOf("GrFl")]),D=b.Grad.v;
D.Intr.v=0;var o=aJ.uH(w.mat);o.concat(M);var Z=new at(0,0),$=new at(O.e,0),k=w.crds;if(w.typ=="rad"){b.Type.v.GrdT="Rdl";
var E=.7;Z.x=(1-E)*k[0]+E*k[3];Z.y=(1-E)*k[1]+E*k[4];$.x=Z.x;$.y=Z.y;$.x+=Math.max(k[2],k[5])}else{b.Type.v.GrdT="Lnr";
Z.x=k[0];Z.y=k[1];$.x=k[2];$.y=k[3];Z.x=$.x+.5*(Z.x-$.x);Z.y=$.y+.5*(Z.y-$.y)}Z=o.xU(Z);$=o.xU($);x.M.LE(Z,$,O,b);
var t=w.grad;x.M.Ty(t,D);return b};aJ.prototype.PutText=function(w,M,O,b){var D=M.charCodeAt(0),l=null;
if(this.KA!=-1&&this.KA!=this.tE)return;if(M.length==0||M.length==1&&(D==0||D==8203))return;this.zF(w);
var o=this.zu,Z=w.font,$=aJ.uH(w.ctm);$.concat(this.rW);var k=aJ.uH(Z.Tm);k.concat($);var E=y.u.gy(k),t=new f$(1/E,0,0,-1/E,0,0);
t.concat(k);var c=Z.Tfs*E,q=o.B.length-1;while(q>=0&&o.B[q].add.TySh==null)q--;if(t.L*t.L+t.Hv*t.Hv<.001&&b==null&&q>=0&&o.B[q].add.TySh&&o.B[q].opacity==Math.round(255*w.ca)){var d=o.B[q],V=this.wL[q],L=d.add.TySh.F,e=(L.hE+V.bO-t.hE)/c,H=Math.abs(e),j=M.indexOf(" ")==-1,g=L.ip==t.ip&&L.L==t.L&&L.Hv==t.Hv&&L.uc==t.uc,K=g&&Math.abs(V.$k-t.Qw)<1e-5&&H<.6,a=t.Qw-V.$k;
if(K){l=d;V.bO=t.hE-L.hE;if(e>.2&&j&&[".",",","?",":","!"].indexOf(M)==-1)M=" "+M}else if(g&&Math.abs(t.hE-L.hE)<1e-5&&0<a&&a<c*1.7&&V.ajl==c){l=d;
this.zq(V);V.$k=t.Qw;M="\n"+M}}if(l==null){q=o.B.length;this.wL[q]={XY:[],bO:0,$k:t.Qw,fT:"",ajl:c};
l=o.uV();o.B.push(l);l.add.lnsr="rend";l.add.TySh=ah.Wm(0,0);l.add.TySh.F=t}var V=this.wL[q];V.bO+=O*c;
V.fT+=M;var T=l.add.TySh.GM,C=ah.mb(T);if(b){ah.EC(T,1);var F=[0,0,Math.ceil(b[0]*E),Math.ceil(b[1]*E)];
ah.h4(T,F)}var m=C.length-1,N=m+M.length;ah.nD(T,m,M);if(this.e4==null)this.e4=ah._J(T,m,m);var v=this.e4;
v.Qc.FontSize=Math.round(c);v.Qc.Tracking=Math.round(Z.Tc*100);v.Qc.Underline=Z.Tun==1;v.Qc.FillColor={Type:1,Values:[1,w.colr[0],w.colr[1],w.colr[2]]};
if(Z.Tal!=null)v.xy.Justification=Z.Tal;if(V.XY.length!=0){v.Qc.AutoLeading=!1;v.Qc.Leading=V.$k-V.XY[V.XY.length-1].y}var h=Z.Tf;
h=h.replace(/#2B/g,"+");h=h.replace(/#2C/g,"-");h=h.split("+").pop();var P={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular",Arial:"ArialMT","BebasNeue-Regular":"BebasNeueRegular"};
if(P[h])h=P[h];ah.Lh(v,h);ah.j_(T,m,N-1,v);l.FO();l.opacity=Math.round(255*w.ca)};aJ.prototype.zq=function(w){w.XY.push({jy:w.bO,GG:w.fT.slice(w.XY.length==0?0:1)+"\n",y:w.$k,h7:w.ajl});
w.bO=0;w.fT=""};aJ.prototype.RA=function(w,M,O){return new Uint8Array(ce.ti("PNG").WV([[w.buffer,0]],M,O))};
aJ.prototype.PutImage=function(w,M,O,b,D,o,Z){if(this.KA!=-1&&this.KA!=this.tE)return;var $=this.zu,k=w.font.Tmode;
if(k==7&&$.B[$.B.length-1].add.TySh){return}this.zF(w);var E=aJ.uH(w.ctm);E.concat(this.rW);var t=new f$(1/O,0,0,-1/b,0,1);
t.concat(E);E=t;M=aJ.ZX(M,O,b,o,!1);if(D)D=aJ.ZX(D,O,b,Z,!0);if(D==null){if(M.length==O*b*4)M=this.RA(M,O,b)}else{M=this.$f(M,O,b,o,!1);
D=this.$f(D,O,b,Z,!0);var c=x.$(O*b);x.Oj(D,c,0);x.Jm(c,M,3);M=this.RA(M,O,b)}var l=$.Xu(M,"Bitmap",0,0),q=l.rect.clone();
q.x=q.y=0;var d=x.p.zl(q).C;x.p.F(d,E,d);l.add.SoLd.Trnf=y.u.KT(d);l.add.SoLd.nonAffineTransform=y.u.KT(d);
l.Gf($,!1);aJ.ok(w,l);$.B.push(l)};aJ.ok=function(w,M){M.opacity=Math.round(255*w.ca);var O=aJ.Ek[w.bmode];
if(O==null)console.log("Unknown blend mode",O);else M.eI=O};aJ.Ek={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "};
aJ.Oq=function(w){for(var M in aJ.Ek)if(aJ.Ek[M]==w)return M};aJ.ZX=function(w,M,O,b,D){var o=ce.S5(w.buffer);
if(o=="jpg"){try{w=new Uint8Array(ce.ti("JPG").amT(w.buffer))}catch(fr){w=new Uint8Array(M*O*4)}}else if(o=="jb2"){w=new Uint8Array(ce.ti("JPG").sc(w.buffer,b,D)[0].data)}else if(w.length!=M*O*4){var Z=new Uint8Array(M*O*4),$=Math.ceil(M/8),k=new Uint8Array(O*$);
UTIF.decode._decodeG4(w,0,w.length,k,0,M,1);var E=k[0]==(D?255:0);for(var t=0;t<O;t++){var c=$*t;for(var l=0;
l<M;l++){var U=t*M+l,q=U*4,d=(k[c+(l>>3)]>>7-(l&7)&1)*255;if(E)d=255-d;Z[q]=d;Z[q+1]=d;Z[q+2]=d;Z[q+3]=255}}w=Z}return w};
aJ.prototype.$f=function(w,M,O,b,D){if(w.length!=M*O*4){var o=ce.S5(w.buffer);if(o=="jb2")throw"e";var Z=ce.ti(o);
if(Z==null||o=="tga")Z=ce.ti("jpg");w=new Uint8Array(Z.sc(w,b,D)[0].data)}return w};aJ.prototype.ShowPage=function(){var w=this.zu;
this.tE++;var M=this.vg;this.p7();var O=w.uV();w.B.push(O);var b=new cn(Math.round(this.Ul.x),Math.round(this.Ul.y),Math.round(M[2]-M[0]),Math.round(M[3]-M[1]));
if(b.S9())b.e=b.n=2e3;this.M1=this.M1.MK(b);O.Bo(b);O.add.artb.artboardBackgroundType.v=1;O.EJ("Page "+this.tE);
O.add.lsct=ht.xe;O.eI="pass";O.N7=24};aJ.prototype.Print=function(w){console.log("Print:",w)};aJ.prototype.Done=function(){var w=this.zu;
if(this.tE==1)w.B[w.B.length-1].add.lsct=ht.cx;w.eN(this.tE);for(var U=0;U<w.B.length;U++){var M=w.B[U],O=M.add.vmsk,b=M.add.TySh,D=this.wL[U];
M.De();if(O){var o=!1;for(var Z=0;Z<O.j.length;Z++){var $=O.j[Z];if(($.type==0||$.type==3)&&$.length>32767)o=!0}if(o){w.B.splice(U,1);
U--;continue}}M.h1(w);if(b&&D.XY.length!=0){this.zq(D);var k=b.GM,E=D.XY.length,t=D.XY[0],c=0,l=0;for(var Z=0;
Z<E;Z++)c=Math.max(c,D.XY[Z].jy);ah.EC(k,1);b.F.Qw-=t.h7*.7;ah.h4(k,[0,0,Math.ceil(c*1.1),Math.ceil(D.XY[E-1].y-t.y+t.h7*2)])}if(b){var k=b.GM;
ah.a7L(k);var q=ah.mb(k).split("\n");for(var Z=0;Z<q.length-1;Z++){var d=q[Z],V=0;for(var L=0;L<d.length;
L++){var e=d.charCodeAt(L);if(1473<=e&&e<=1524)V++}if(V>d.length/2){q[Z]=d.split("").reverse().join("");
var H=k.EngineDict.ParagraphRun.RunArray[Z].ParagraphSheet.Properties;H._Direction=1;H.Justification=ah.cp(H)}}ah.zX(k,q.join("\n"))}}w.Tb=!0;
w.e=this.M1.e;w.n=this.M1.n;w.buffer=x.$(this.M1.v()*4)};var iI={};iI.sT=null;iI.qf=function(w,M,O,b,D,o){if(D==null)D=w.e;
if(o==null)o=w.n;iI.sT=w;var Z=!1,$=[w.root],k=w.root.children;if(w.add.artd){Z=!0;for(var U=0;U<k.length;
U++)if(k[U].q.add.artb==null)Z=!1;if(Z)$=k}var E=new cn(0,0,w.e,w.n),t=M[0];t=t.replace(/,/g," ").replace(/\-/g," - ").replace(/  +/g," ").trim();
t=t.split(" ");var c=[];for(var U=0;U<t.length;U++){var l=t[U];if(l=="-"){var q=c.pop(),d=parseInt(t[U+1]);
while(q<d){c.push(q);q++}}else c.push(parseInt(l))}t=c;for(var U=0;U<t.length;U++)if(isNaN(t[U])||t[U]<1||t[U]>$.length){t.splice(U,1);
U--}var V=D/w.e,L=o/w.n,e=V*72/w.Z1,H=L*72/w.Z1,j=M[5];if(j==null)j=0;var g=72*j,K=72*j;for(var a=0;
a<$.length;a++){var U=a;if(M[2])U=$.length-1-a;if(t.length!=0&&t.indexOf(U+1)==-1)continue;var T=$[U],C=Z?T.q.pU():E;
if(!T.q.Vd())continue;var F=Math.round(C.e*e+2*g),m=Math.round(C.n*H+2*K);O.StartPage(0,0,F,m);var N=UDOC.getState([[0,0,F,m]]),v=new f$;
v.translate(-C.x,-C.y-C.n);v.scale(e,-H);v.translate(g,K);if(Z){var h=T.q.add.artb,P=h.artboardBackgroundType.v;
if(P!=1&&P!=3){var J=T.q.Ir(),Y=g,B=K,S=Y+C.e,r=B+C.n;N.colr=[(J>>>0&255)/255,(J>>>8&255)/255,(J>>>16&255)/255];
N.pth={cmds:["M","L","L","L","Z"],crds:[Y,B,S,B,S,r,Y,r]};O.Fill(N)}}if(M[3]){var I=w.Hp();if(!E.M5(C)){I=x.$(C.v()*4);
x.xu(w.Hp(),E,I,C)}var f=w.bJ();if(f)ICC.U.applyLUT(f[w.add.fcmy==1?5:3],f[2],I,I);if(M[1]!=100){var s=ce.ti("JPG").WV([[I.buffer]],C.e,C.n,[M[1]]);
I=new Uint8Array(s)}var W=new f$;W.translate(C.x,C.y);iI.nK(N,O,I,C,W,v)}else{iI.xm(w,T,N,O,v,M,b);if(g!=0){var Y=g,B=K,S=Y+C.e,r=B+C.n,i=S+g,u=r+g;
N.ca=1;N.colr=[1,1,1];N.pth={cmds:"M L L L Z M L L L Z".split(" "),crds:[0,0,0,u,i,u,i,0,Y,B,S,B,S,r,Y,r]};
O.Fill(N)}}O.ShowPage()}O.Done();iI.sT=null};iI.eC=function(w){w=x.M.FL(w);return[w.o/255,w.w/255,w.L/255]};
iI.xm=function(w,M,O,b,D,o,Z){var $=M.q,k=$.add.lsct,E=$.add.lmfx,t=$.add.vmsk,c=$.add.vstk,l=$.add.TySh,e,H;
if(!$.Vd())return;var q=$.opacity/255,d=$.add.iOpa!=null?$.add.iOpa/255:1;O.bmode=aJ.Oq($.eI);var V=O.ca;
O.ca=O.CA=O.ca*q*d;var L=E;if(L)L=L.solidFillMulti.v[0];if(L)L=L.v;if(L&&!L.enab.v)L=null;var j=$.rect;
if($.Q9()&&(!$._N()||$.Kn&&$.Kn.fg)){if($._N()){e=$.Kn.fg;j=$.Kn.al$}else{e=x.$($.rect.v());x.Oj($.buffer,e,3)}H=eR.qu(E,$.add.fxrp,e,j,w,j).type;
var g=["DrSh","OrGl"];if(d!=1||c&&!c.fillEnabled.v){var K=e.slice(0);x.ZW(K);for(var U=0;U<g.length;
U++){var a=H[g[U]];for(var T=0;T<a.length;T++){var C=a[T],F=C.Py.clone();F.x+=j.x;F.y+=j.y;x.cK(K,j,C.AJ,F)}}}}if(H)iI.Gl($,e,j,H,O,b,D,o,!0);
if($._N()){for(var U=0;U<M.children.length;U++)iI.xm(w,M.children[U],O,b,D,o,Z)}else if(t&&$.XS()&&$.add.PtFl==null){var m=t.j,N=x.O.rt(m),v=!1;
if(c.fillEnabled.v){var h=eR.Fg(E,$.add),P=h[0],J=h[1];O.colr=iI.To(P?P:J,D,N);v=!0}var Y=eR.XC(E);if(!c.strokeEnabled.v&&Y)c=Y;
var B=x.p.vn(m,c.strokeEnabled.v),S=B.cG;x.p.F(S.C,D,S.C);O.pth={cmds:S.H,crds:S.C};iI.hv(b,O,v,c,D,N,B.Sf!=0)}else if(l&&o[4]){var r=l.GM,I=new bs(r,Z),S=km.z9(I,l),f=x.p.Yr(S),s=eR.XC(E);
for(var W in f){var i=parseInt(W.slice(1,7),16),u=0;O.colr=L?iI.eC(L.Clr.v):iI.hV(i);var z=f[W];x.p.F(z.C,D,z.C);
z=x.p.abL(z);O.pth={cmds:z.H,crds:z.C};var c=s;if(W.length>7){c=JSON.parse(JSON.stringify(aN.d_.default));
var G=W.slice(7).split("-"),i=parseInt(G[1].slice(1),16),g_=iI.hV(i);c.strokeEnabled.v=!0;c.strokeStyleLineWidth.v.val=parseFloat(G[2]);
c.strokeStyleContent.v.Clr.v=L?L.Clr.v:x.M.jk({o:g_[0]*255,w:g_[1]*255,L:g_[2]*255});c.strokeStyleMiterLimit.v=parseFloat(G[2])}iI.hv(b,O,!0,c,D,null,!1)}}else if(l){var r=JSON.parse(JSON.stringify(l.GM));
ah.a7L(r);var cl=l.F.clone(),p=new f$(1,0,0,-1,0,0);p.concat(cl);p.concat(D);var b2=ah.mb(r),I=new bs(r,Z);
for(var U=0;U<I.xy.length;U++){var jz=I.xy[U];if(jz.$K.length==1&&jz.$K[0].xz)continue;for(var T=0;T<jz.tO.length;
T++){var aT=jz.tO[T],fZ=jz.Ra.y+aT.Ra.y,ft=jz.$K[aT.start].start,cc=jz.$K[aT.end-1].end,kr=ah.afi(r,ft,cc);
for(var hG=0;hG<kr.length;hG++){var hi=I.Ob(ft),bU=kr[hG],ic=ah._J(r,ft,ft),iQ=ic.ju[ic.Qc.Font].Name;
O.font.Tf=iQ;var W=ah.FL(ic.Qc.FillColor);O.colr=L?iI.eC(L.Clr.v):[W.o/255,W.w/255,W.L/255];var bx=O.font.Tfs=Math.round(ic.Qc.FontSize),aR=b2.slice(ft,ft+bU);
if(ic.Qc.FontCaps==2)aR=aR.toUpperCase();var gs=new f$;gs.translate(hi.xr.x,-fZ);gs.concat(p);O.ctm=[gs.ip,gs.L,gs.Hv,gs.uc,gs.hE,gs.Qw];
b.PutText(O,aR,0);for(var k7=0;k7<2;k7++){var fT=ic.Qc[k7==0?"Strikethrough":"Underline"];if(!fT)continue;
var aH=I.Ob(ft+bU-1),e7=k7==0?.27:-.2,dB=bx*e7,ia=bx*(e7+.07),u=aH.xr.x+aH.xr.e-hi.xr.x,d7=[0,dB,u,dB,u,ia,0,ia];
x.p.F(d7,gs,d7);O.pth={cmds:["M","L","L","L","Z"],crds:d7};b.Fill(O)}O.ctm=[1,0,0,1,0,0];ft+=bU}}}}else if(!$.rect.S9()){var hf,gv,hN=!1,hP=new f$,gP=$.add.SoLd,i7=!0;
if(gP)i7=x.N.TB(y.u.xT(gP.Trnf));if(gP&&i7){var gh=gP.Idnt.v,b9=w.Fd(gh,gP.Crop?gP.Crop.v:null),iX="";
if(b9==null)return;var ij=b9.vN,ax=ce.S5(b9.raw.buffer);if(o[6].indexOf(ax)!=-1){hf=b9.raw;hN=!0}else hf=ij[0];
gv=ij[1];hP=x.N.N1(gP)}else{hf=$.buffer;gv=$.rect;hP.translate(gv.x,gv.y)}if(L&&!hN)hf=eR.acg(hf,L,gv);
iI.nK(O,b,hf,gv,hP,D);if(L&&hN){var d7=[0,0,gv.e,0,gv.e,gv.n,0,gv.n];x.p.F(d7,hP,d7);x.p.F(d7,D,d7);
var am=JSON.parse(JSON.stringify(O));am.ca=L.Opct.v.val/100;am.pth={cmds:["M","L","L","L","Z"],crds:d7};
am.colr=iI.eC(L.Clr.v);b.Fill(am)}}O.ca=O.CA=V;if(H)iI.Gl($,e,j,H,O,b,D,o,!1)};iI.hv=function(w,M,O,b,D,o,Z){var $=!1,k=0,E=0;
if(b&&b.strokeEnabled.v){var t=b.strokeStyleContent.v,c=b.strokeStyleLineDashSet.v;k=aN.d_.dB.indexOf(b.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
M.COLR=iI.To(t,D,o);E=b.strokeStyleLineWidth.v.val*D.gy();M.mlimit=b.strokeStyleMiterLimit.v;M.doff=b.strokeStyleLineDashOffset.v.val;
M.ljoin=aN.d_.join.indexOf(b.strokeStyleLineJoinType.v.strokeStyleLineJoinType);M.lcap=aN.d_.nH.indexOf(b.strokeStyleLineCapType.v.strokeStyleLineCapType);
M.dash=[];for(var U=0;U<c.length;U++)M.dash.push(c[U].v.val*M.lwidth);if(M.dash.length==1&&M.dash[0]==0)M.dash=[];
$=!0}var l=k==2;if(O&&!l)w.Fill(M,Z);if($){M.lwidth=E*(k==2?2:1);w.Stroke(M)}if(O&&l)w.Fill(M,Z)};iI.LP=function(w){var M=iI.sT,O=M.bJ();
if(O&&M.add.fcmy){var b=new Uint8Array(4);b[0]=.5+w[0]*255;b[1]=.5+w[1]*255;b[2]=.5+w[2]*255;ICC.U.applyLUT(O[M.add.fcmy==1?5:3],O[2],b,b);
w=[b[0]/255,b[1]/255,b[2]/255]}return w};iI.eC=function(w){w=x.M.FL(w);return iI.LP([w.o/255,w.w/255,w.L/255])};
iI.hV=function(w){return iI.LP([(w>>>16&255)/255,(w>>>8&255)/255,(w&255)/255])};iI.To=function(w,M,O){if(w.Clr)return iI.eC(w.Clr.v);
var b=w,D=b.Rvrs?b.Rvrs.v:!1,o=b.Type.v.GrdT,Z=[],$,k=o=="Rdl"||o=="Dmnd"?"rad":"lin",E=x.M.os(b,O),t=M.xU(E[0]),c=M.xU(E[1]);
if(k=="rad")$=[t.x,t.y,0,t.x,t.y,at.we(t,c)];else{t.ZK(c.x+(t.x-c.x)*2,c.y+(t.y-c.y)*2);$=[t.x,t.y,c.x,c.y]}var l=b.Grad.v.Clrs.v;
for(var U=0;U<l.length;U++){var q=l[U].v,d=q.Lctn.v/4096;Z.push([D?1-d:d,iI.eC(q.Clr.v)])}if(D)Z.reverse();
return{typ:k,mat:[1,0,0,1,0,0],grad:Z,crds:$}};iI.Gl=function(w,M,O,b,D,o,Z,$,k){var E=O.clone(),t=M;
if(w.add.TySh&&!$[3]&&!$[4])return;var c=D.ca,l=D.bmode;for(var U=aN.order.length-1;U>=0;U--){var q=aN.order[U];
if(q=="GrFl"||q=="SoFi")continue;if((w.add.vmsk||w.add.TySh)&&q=="FrFX")continue;var d=b[q],V=U>7||q=="FrFX";
if(V!=k)continue;for(var L=0;L<d.length;L++){var e=d[L];if(e.Py==null)e=e.ur?e.ur:e.VO;var H=e.Py.clone();
H.offset(E.x,E.y);if(!V){if(!E.Ar(H)){var j=E.MK(H),g=x.$(j.v());x.CV(t,E,g,j);t=g;E=j}x.cK(t,E,e.AJ,H)}if(V&&q=="FrFX"&&e.IX)x.cK(e.IX,H,e.AJ,H);
var K=new f$;K.translate(H.x,H.y);D.ca=e.VB;D.bmode=aJ.Oq(e._V);iI.nK(D,o,e.AJ,H,K,Z)}}D.ca=c;D.bmode=l};
iI.nK=function(w,M,O,b,D,o){var Z=new f$;Z.scale(b.e,-b.n);Z.translate(0,b.n);Z.concat(D);Z.concat(o);
w.ctm=[Z.ip,Z.L,Z.Hv,Z.uc,Z.hE,Z.Qw];M.PutImage(w,O,b.e,b.n);w.ctm=[1,0,0,1,0,0]};var aS={};aS.TC=function(w){var M=new Uint8Array(w);
return aS.CN(M,0)};aS.CN=function(w,M){var O=n.A,b=n.TP,D={QV:b(w,M,4),z:M+8,size:O(w,M+4)},o=D.QV=="FORM"||D.QV=="LIST"||D.QV=="CAT ";
if(o)D.SA=b(w,M+8,4);if(D.size<0||D.z+D.size>w.length)throw"e";if(o){D.sub=[];M+=12;var Z=D.z+D.size;
while(M<Z){var $=aS.CN(w,M);D.sub.push($);M+=8+$.size+($.size&1)}}return D};var jN={};jN.TC=function(w,M){var O=new Uint8Array(w);
return jN.CN(O,0,M)};jN.CN=function(w,M,O){var b=n.Yx,D=n.TP,o={QV:D(w,M,4),z:M+8,size:b(w,M+4)};if(O&&O[o.size]!=null)o.size=O[o.size];
if(o.QV=="RIFF"||o.QV=="LIST"){o.SA=D(w,M+8,4)}if(o.size<0||o.z+o.size>w.length)throw"e";if(o.QV=="RIFF"||o.QV=="LIST"&&(o.SA!="cmpr"&&o.SA!="stlt")){o.sub=[];
M+=12;var Z=o.z+o.size;while(M<Z){var $=jN.CN(w,M,O);o.sub.push($);M+=8+$.size+($.size&1)}}return o};
function eA(){}eA.TC=function(w,M){var O=new Uint8Array(w);M.Tb=!0;var b=n.TP(O,0,2);if(b=="WL"){alert("Unsupported CDR version")}else{var D=eA.fP,o=jN.TC(O.buffer),Z={data:O,z:0,W5:eA.a39(O[11])},$,k,d=300;
Z.Bf=Z.W5<600?16:32;eA.dJ(Z,o.sub,M,0);if(D(o,"cmpr")==null){$=D(o,"page");k=$}else{var E=D(o,"cmpr").sub;
$=E[0];k=E.slice(1)[1];var t=D($,"filt").sub,c=D($,"otlt").sub;$.NG={};for(var U=0;U<t.length;U++)$.NG[t[U].sub[0].G.id]=t[U].sub[0].G;
$.I_={};for(var U=0;U<c.length;U++)$.I_[c[U].G.id]=c[U].G}var l=D($,"mcfg").G,q=l.awP;d/=gi.kC(new cn(0,0,Math.round(q.x*d),Math.round(q.y*d)),8192*8192);
var V=Math.round(q.x*d),L=Math.round(q.y*d);M.e=V;M.n=L;M.buffer=x.$(M.e*M.n*4);var e=new f$(d,0,0,-d,q.x*d/2,q.y*d/2);
eA.iA(k,$,M,e);M.eN(1);M.B[M.B.length-1].Bo(new cn(0,0,V,L))}};eA.fP=function(w,M){var O=null;if(w.sub==null)return O;
for(var U=0;U<w.sub.length;U++){var b=w.sub[U];if(b.QV==M||b.SA==M)O=b}return O};eA.iA=function(w,M,O,b){var D=eA.fP,o=w.SA?w.SA:w.QV,Z=D(w,"lgob"),$=D(w,"txsm"),k,E;
if(Z){k=D(Z,"trfl");E=D(Z,"loda")}else if(D(w,"lobj"))E=D(w,"lobj");var t=k?k.sub[0].S3.clone():new f$;
t.concat(b);var c=O.uV();if(o=="page"||o=="layr"||o=="grp "){c.EJ((o=="page"?"Page":"Group")+" "+O.B.length);
c.add.lsct=ht.cx;c.eI="pass";c.N7=24;var l=[];if(o=="page")l=D(w,"gobj").sub;if(o=="layr")l=w.sub.slice(2);
if(o=="grp ")l=w.sub.slice(4);if(l.length==0)return;O.B.push(O.iB());for(var U=l.length-1;U>=0;U--)eA.iA(l[U],M,O,b)}else if(o=="obj "&&E.G&&E.G.path){c.EJ("Object "+O.B.length);
var q,d;if(M.NG){q=M.NG[E.G.a8R];d=M.I_[E.G.acz]}var V=c.getName(),L=q&&q.type!=0,e=L&&q.G!=null?q.G:[0,0,0];
c.N7|=16;c.add.vstk=JSON.parse(JSON.stringify(aN.d_.default));var H=c.add.vstk;H.strokeEnabled.v=!1;
c.add.vmsk=new Q.G6;if(d&&d.a17!=1){H.strokeEnabled.v=!0;H.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
H.strokeStyleLineWidth.v.val=d.lineWidth*b.gy();var j=d.color;H.strokeStyleContent.v.Clr.v=x.M.jk({o:j[0]*255,w:j[1]*255,L:j[2]*255})}var g=E.G.path;
c.add.vmsk.j=x.p.aG(g,!1);x.O.I0(c.add.vmsk.j,t);aJ.AA(e,c,t,x.O.rt(c.add.vmsk.j));H.fillEnabled.v=L;
c.De();c.h1(O)}else if(o=="obj "&&$){var K=E.G.anR,a=E.G.ac_,F="";c.add.TySh=ah.Wm(0,0);var T=t.gy();
c.add.TySh.F.translate(t.hE,t.Qw);var C=c.add.TySh.GM,m=$.G.AQ;for(var U=0;U<m.length;U++){var N=m[U],v=F.length;
F+=N.text+"\n";ah.nD(C,v,N.text+"\n");var h=eA.a9O(N.aij,M),P=ah._J(C,v,F.length);if(h.align==3)P.xy.Justification=1;
else P.xy.Justification=0;var J=h.fill.G;P.Qc.FillColor={Type:1,Values:[1,J[0],J[1],J[2]]};P.Qc.FontSize=Math.round(h.ap1.fontSize*t.gy());
ah.j_(C,v,F.length-1,P)}if(a){ah.EC(C,0)}else{ah.EC(C,1);ah.h4(C,[0,0,Math.round(K.x*t.ip),Math.round(-K.y*t.uc)])}c.EJ(F.slice(0,10))}else{c=null}if(c)O.B.push(c)};
eA.a9O=function(w,M){var O=eA.fP(M,"stlt").G,b=JSON.parse(JSON.stringify(O.CB[w]));if(b.h2!=0){var D=O.CB[b.h2];
for(var o in D)if(b[o]==null||b[o]==0)b[o]=D[o];delete b.h2}b.align=O.axb[b.ael];b.fill=M.NG[O.a6m[b.a0O]];
b.alb=M.I_[O.adq[b.abK]];b.ap1=O.atm[b.asl];return b};eA.a2Z=function(U){var aq=U.data[U.z];U.z+=1;return aq};
eA.rP=function(U){var aq=n.bw(U.data,U.z);U.z+=2;return aq};eA.Kd=function(U){var aq=n.Yx(U.data,U.z);
U.z+=4;return aq};eA.a35=function(U){var aq=n.Yx(U.data,U.z);U.z+=8;return aq};eA.xk=function(U){var aq=n.xh(U.data,U.z);
U.z+=2;return aq};eA.SD=function(U){var aq=n.Hx(U.data,U.z);U.z+=4;return aq};eA.BR=function(U){var aq=n.kw(U.data,U.z);
U.z+=8;return aq};eA.Pt=function(U){if(U.z>=U.data.length)throw"e";var w=0;while(U.data[U.z+w]!=0)w++;
var M=n.TP(U.data,U.z,w);U.z+=w+1;return M};eA.a6j=function(w){if(w.W5<600)return Math.PI*eA.xk(w)/1800;
return Math.PI*eA.SD(w)/18e7};eA.a2S=function(w){if(w.W5<1500)return eA.xl(w);else return eA.BR(w)/254e3};
eA.xl=function(w){if(w.W5<600)return eA.xk(w)/1e3;else return eA.SD(w)/254e3};eA.atg=function(w){if(w.W5<600)return eA.rP(w);
else return eA.Kd(w)};eA.akm=function(w){if(w.W5<600)return CRDParser.xk(w);else return eA.SD(w)};eA.dJ=function(w,M,O,b){var D=eA,o=D.a2Z,Z=D.rP,$=D.Kd,k=D.a35,E=D.xk,t=D.SD,c=D.BR,l=D.xl,q=D.a2S,d=D.a6j,V=D.atg,L=D.akm;
for(var e=0;e<M.length;e++){var H=w.W5,j=M[e];w.z=j.z+(j.QV=="LIST"?4:0);if(j.QV=="vrsn"){var g=Z(w);
w.W5=g;console.log("Version",g);w.Bf=g<600?16:32}else if(j.QV=="DISP"){}else if(j.QV=="LIST"&&j.SA=="cmpr"){var K=$(w),a=$(w),T=$(w),C=$(w),F=new Uint8Array(w.data.buffer,w.z+8+2,K-6-8),m=pako.inflateRaw(F),P=0;
w.z+=K;F=new Uint8Array(w.data.buffer,w.z+8+2);var N=pako.inflateRaw(F),v=[];for(var h=0;h<N.length;
h+=4)v.push(n.Yx(N,h));j.sub=[];while(P<m.length){var J=jN.CN(m,P,v);P=J.z+J.size;j.sub.push(J)}var Y={data:m,z:0,W5:H,Bf:w.Bf};
eA.dJ(Y,j.sub,O,b+1)}else if(j.QV=="LIST"&&j.SA=="stlt"){var B=w.z,jz=32;j.G={};var S=$(w);if(S==0)return;
j.G.a6m=eA.hb(w,H>=1300);j.G.adq=eA.hb(w);j.G.atm={};var r=$(w);for(var U=0;U<r;U++){var I=$(w);w.z+=H<1e3?12:20;
var f=Z(w),s=Z(w);w.z+=8;var W=l(w);w.z+=H<1e3?12:20;j.G.atm[I]={af1:f,ay6:s,fontSize:W}}j.G.axb=eA.hb(w);
var i=$(w);w.z+=52*i;var u=$(w);w.z+=152*u;var z=$(w);w.z+=784*z;var G=$(w);for(var U=0;U<G;U++){w.z+=40;
if(H>1300)w.z+=4;if(H>=1300){if($(w))w.z+=68;else w.z+=12}else{w.z+=20;if(H>=1e3)w.z+=8;if($(w))w.z+=8;
w.z+=8}}var g_=$(w);j.G.aac={};for(var U=0;U<g_;U++){var cl=$(w),p={};w.z+=12;p.right=l(w);p.af2=l(w);
p.left=l(w);j.G.aac[cl]=p}var b2=$(w);if(H>=1300)jz+=4;w.z+=jz*b2;var aT=$(w);w.z+=28*aT;if(H>800){var fZ=$(w);
w.z+=12*fZ}j.G.CB={};for(var U=0;U<S;U++){var ft=$(w),cc=$(w),kr={};kr.h2=$(w);w.z+=8;var hG=$(w);if(H>=1200)hG*=2;
w.z+=hG;kr.a0O=$(w);kr.abK=$(w);if(ft>1){kr.asl=$(w);kr.ael=$(w);kr.ag9=$(w);kr.ahx=$(w);if(H>800)kr.a9y=$(w)}if(ft>2){kr.abU=$(w);
kr.a3_=$(w);kr.a0g=$(w);kr.a5K=$(w);kr.aph=$(w)}j.G.CB[cc]=kr}}else if(j.QV=="LIST")eA.dJ(w,j.sub,O,b+1);
else if(j.QV=="txsm"){j.G={};if(H<600)throw"e";if(H<700)throw"e";if(H>=1600)throw"e";if(H>=1500)w.z+=37;
else w.z+=36;if($(w)){if(H<800)w.z+=32}if(H<800)w.z+=4;j.G.ahG=$(w);j.G.AQ=[];w.z+=48;if(H>=800){if($(w)){w.z+=32;
if(H>=1300)w.z+=8}}if(H>=1500)w.z+=12;var ft=$(w),hi=1,bU=!1;if(!ft){if(H>=800)w.z+=4;if(H>800)w.z+=2;
if(H>=1400)w.z+=2;w.z+=24;if(H<800)w.z+=8;hi=$(w)}for(var h=0;h<hi;h++){var ic=$(w),U=0;if(H>=1300&&ft)w.z++;
w.z++;var S=$(w),iQ=[];for(U=0;U<S;U++){var bx=o(w),gs=0;o(w);var aR=o(w);if(H>=800)gs=o(w);var kr={};
if(aR&1){kr.af1=Z(w);var k7=Z(w);if(k7)kr.ar3=k7}if(aR&2)w.z+=4;if(aR&4)kr.ap8=l(w);if(aR&8)w.z+=4;if(aR&16)w.z+=4;
if(aR&32)w.z+=4;if(aR&64){kr.a0O=$(w);if(H>=1500)w.z+=48}if(aR&128){kr.abK=$(w)}if(gs&8){if(H>=1300){var fT=$(w);
if(w.z+fT*2>=w.data.length){bU=!0;break}w.z+=fT*2}else w.z+=4}if(gs&32){var aH=o(w);if(aH)w.z+=52}if(bx==2)if(H>=1300)w.z+=48;
iQ.push(kr)}if(bU){break}var e7=$(w);if(w.z+e7*4>w.data.length)break;var dB=[];for(U=0;U<e7;U++){var ia=0;
if(H>=1200)ia=k(w)&4294967295;else ia=$(w);dB[U]=ia>>16|ia&1}var d7=e7;if(H>=1200)d7=$(w);var hf=eA.Pt(w);
j.G.AQ.push({aij:ic,text:hf,CB:iQ})}}else if(j.QV=="font"){var gv=Z(w),hN=Z(w);w.z+=14;var hP=eA.Pt(w);
j.G={id:gv,akO:hN,name:hP}}else if(["IKEY","ICMT","pfrd","bcfg"].indexOf(j.QV)!=-1){}else if(j.QV=="flgs")j.G=$(w);
else if(j.QV=="bbox"){var gP=l(w),aB=l(w),i7=l(w),dI=l(w);j.G=new cn(gP,aB,i7-gP,dI-aB)}else if(j.QV=="fild"){var gh=$(w),b9=0,ax;
if(H>=1300){w.z+=4;b9=Z(w);w.z+=2}var ij=Z(w);if(ij==0){}else if(ij==1){w.z+=H>=1300?13:2;ax=eA.Lb(w)}else if(ij==2){w.z+=H>=1300?8:2;
var iX=o(w),am=0;if(H>=1300){w.z+=17;am=E(w)}else if(H>=600){w.z+=19;am=t(w)}else{w.z+=11;am=E(w)}var jf=d(w),eJ=.5+L(w),hZ=.5+L(w)-.5;
if(H>=600)w.z+=2;var hC=V(w)&255,ds=o(w)/100;w.z++;var hV=V(w)&65535;if(H>=1300)w.z+=3;var bv=[];for(var U=0;
U<hV;U++){var hl=eA.Lb(w);if(H>=1300){if(b9==158||H>=1600&&b9==150)w.z+=26;else w.z+=5}var jQ=V(w)/100;
if(H>=1300)w.z+=3;bv.push([jQ,hl])}ax={typ:iX==1?"lin":"rad",crds:[eJ-Math.cos(jf)/2,hZ-Math.sin(jf)/2,eJ,hZ],grad:bv,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",ij);
j.G={id:gh,type:ij,G:ax}}else if(j.QV=="outl"){var a$=$(w);if(H>=1300){var jB=0,jL=0;while(jB!=1){w.z+=jL;
jB=$(w);jL=$(w)}}var c1=Z(w),fd=Z(w),g2=Z(w);if(H<1300&&H>=600)w.z+=2;var ed=l(w),ip=Z(w)/100;if(H>=600)w.z+=2;
var bS=d(w);if(H>=1300)w.z+=46;else if(H>=600)w.z+=52;var ax=eA.Lb(w,a$==270963208||a$==276198e3,a$);
j.G={id:a$,a17:c1,ajL:fd,a8G:g2,lineWidth:ed,color:ax}}else if(j.QV=="mcfg"){if(1300<=H)w.z+=12;else if(900<=H)w.z+=4;
else if(600<=H&&H<700)w.z+=28;var hg=0,dZ=0;if(H<400){w.z+=2;var gP=l(w),aB=l(w),i7=l(w),dI=l(w);hg=Math.abs(i7-gP);
dZ=Math.abs(dI-aB)}else{hg=l(w);dZ=l(w)}j.G={awP:new at(hg,dZ)}}else if(j.QV=="loda"||j.QV=="lobj"){var B=w.z,cA=V(w),j$=V(w),iK=V(w),hJ=V(w),ag=V(w),ii=[],hr=[];
w.z=B+iK;for(var U=0;U<j$;U++)ii[U]=V(w);w.z=B+hJ;for(var U=j$-1;U>=0;U--)hr[U]=V(w);j.G={};for(var U=0;
U<j$;U++){w.z=B+ii[U];var dN=hr[U];if(dN==10)j.G.acz=$(w);else if(dN==20)j.G.a8R=$(w);else if(dN==200)j.G.ajm=V(w);
else if(dN==30){if(H<400)ag--;if(ag==1){var gP=q(w),aB=q(w),dm=0,j_=0,ae=0,c6=0;if(H<1500){c6=q(w);ae=H<900?c6:q(w);
j_=H<900?c6:q(w);dm=H<900?c6:q(w)}else throw"e";j.G.path=x.p.EK(x.O.U_.Rect(0,0,gP,aB,dm))}else if(ag==2){var cg=l(w),ei=l(w),a5=d(w),gy=d(w),bL=Math.abs(cg),gf=Math.abs(ei);
j.G.path=x.p.EK(x.O.U_.A1(0,0,bL,-gf))}else if(ag==3){j.G.path=eA.a1i(w)}else if(ag==4){j.G.ac_=eA.a9l(w)}else if(ag==6){j.G.anR=eA.a79(w)}else if(ag==37){j.G.path=eA.mL(w)}else console.log(ag)}}}else if(j.QV=="trfd"){var B=w.z,cA=V(w),j$=V(w),iK=V(w);
w.z=B+iK;var ii=[];for(var U=0;U<j$;U++)ii[U]=V(w);for(var U=0;U<j$;U++){w.z=B+ii[U];if(H>=1300)w.z+=8;
var fx=Z(w);if(fx==8){var dH,fz,gP,ke,gH,aB;if(H>=600)w.z+=6;if(H>=500){dH=c(w);fz=c(w);gP=c(w)/(H<600?1e3:254e3);
ke=c(w);gH=c(w);aB=c(w)/(H<600?1e3:254e3)}else throw"e";j.S3=new f$(dH,ke,fz,gH,gP,aB)}else console.log(fx)}}else if(!1){console.log(j);
var iF=Math.min(j.size,32);console.log(n.sI(data,j.z,iF));console.log(n.aqF(data,j.z,iF))}}};eA.hb=function(w,M){var O=eA.Kd,b={},D=O(w);
for(var U=0;U<D;U++){var o=O(w);w.z+=4;var Z=O(w);b[o]=Z;if(M)w.z+=48}return b};eA.a9l=function(w){var M=eA,O=M.xl,b=O(w),D=O(w);
return new at(b,D)};eA.a79=function(w){var M=eA,O=M.xl;w.z+=4;var b=O(w),D=O(w);return new at(b,D)};
eA.mL=function(w){var M=eA,O=M.Kd,b=M.rP,D=M.xl;w.z+=4;var o=b(w)+b(w);w.z+=16;var Z=eA.aqr(w,o);return Z};
eA.a1i=function(w){var M=eA.rP(w);w.z+=2;return eA.aqr(w,M)};eA.aqr=function(w,M){var O=eA,b=O.xl,D=w.W5<600?2:4,o=w.z,Z={C:[],H:[]},$=0,k=0,E=0;
for(var U=0;U<M;U++){var $=b(w),k=b(w),t=w.data[o+M*D*2+U];if(!(t&64)&&!(t&128)){Z.C.push($,k);Z.H.push("M");
E+=2}else if(t&64&&!(t&128)){Z.C.push($,k);Z.H.push("L");E+=2}else if(!(t&64)&&t&128){Z.C.push($,k);
Z.H.push("C");E+=6}else if(t&64&&t&128){Z.C.push($,k)}}if(E!=Z.C.length)throw"e";return Z};eA.af_=function(w,M){var O=n.Yx;
M+=8;var b=O(w,M);M+=4;var D=O(w,M);M+=4;M+=4*7;var o=M,Z=x.$(b*D*4);M+=1024;for(var $=0;$<D;$++)for(var k=0;
k<b;k++){var U=$*b+k,E=(D-$-1)*b+k,t=w[M+U]<<2,c=E<<2;Z[c+0]=w[o+t+2];Z[c+1]=w[o+t+1];Z[c+2]=w[o+t+0];
Z[c+3]=255}return{AJ:Z,rect:new cn(0,0,b,D)}};eA.a39=function(w){if(w==32)return 300;else if(w<49)return 0;
else if(w<58)return 100*(w-48);else if(w<65)return 0;return 100*(w-55)};eA.Lb=function(w,M,O){var b=eA.rP,D=eA.Kd,o=w.W5,Z=0,$=0;
if(o>=500){Z=b(w);if(Z==1&&o>=1300)Z=25;if(Z==25||Z==30){var k=0;if(Z==30){Z=25;k=30}else{k=b(w);w.z+=4}var E=b(w),t=b(w)}else if(Z==14)throw"e";
else{w.z+=6;$=D(w)}}else throw"e";var c=[];if(Z==2||Z==9||Z==17){var l=[$>>>0&255,$>>>8&255,$>>>16&255,$>>>24&255];
if(Z==2)for(var U=0;U<4;U++)l[U]=Math.round(255*l[U]/100);for(var U=0;U<4;U++)l[U]/=255;c=UDOC.C.cmykToRgb(l)}else if(Z==1||Z==5){c=[$>>>0&255,$>>>8&255,$>>>16&255];
for(var U=0;U<3;U++)c[U]=c[U]/255}else console.log("Unknown color model "+Z,$,$.toString(16));return c};
var cV=function(){var w,M,O=new ArrayBuffer(4),b=new Uint8Array(O),D=new Uint32Array(O),o=new Float32Array(O);
function Z(l,q){for(var d=0;d<l.length;d++)if(l[d][0]==q)return l[d]}function $(){var l=0,q=0,d=0;do{d=w[M++];
l|=(d&127)<<q;q+=7}while(d&128&&q<35);return l>>>0}function k(l,q,d,V,L){w=l;M=q;var e=V[0]=="mesg",H=V[2],j={},g=1,K=e?1e9:H.length;
while(g<=K){var a=g;if(e){a=$();if(a==0)break}var T=Z(H,a),C=T[2],F=T[1]==1,m=F?$():1,N=new Array(m);
if(C==3){if(!F)throw"e";N=w.slice(M,M+m);M+=m}else for(var U=0;U<m;U++){var v;if((C&1)==1){if(C==1)v=w[M++]==1;
else if(C==3)v=w[M++];else if(C==5){var h=$();v=h&1?~(h>>>1):h>>>1}else if(C==7)v=$();else if(C==9){if(w[M]==0){v=0;
M++}else{b[0]=w[M];b[1]=w[M+1];b[2]=w[M+2];b[3]=w[M+3];var P=D[0];D[0]=P<<23|P>>>9;v=o[0];M+=4}}else if(C==11){var J=E(w,M);
v=J[0];M+=J[1]+1}else throw C}else{var Y=d[C>>>1];if(Y[0]=="enum"){var B=w[M++];if(B>127)throw"e";v=Y[2][B]}else{var S=k(w,M,d,Y,L+1);
v=S[0];M=S[1]}}N[U]=v}j[T[3]]=F?N:N[0];g++}return[j,M]}function E(l,q){var d=q;while(l[d]!=0)d++;return[n.AL(l,q,d-q),d-q]}function t(l,q){var d=q;
while(l[d]!=0)d++;for(var U=q;U<d;U++)if(l[U]>127)throw"e";return n.TP(l,q,d-q)}function c(l){w=l;M=1;
var q=[];while(M<l.length){var d=M,V=q.length,L=t(l,M);M+=L.length+1;var e=$();if(e>2)throw"e";var H=$(),j=[];
for(var U=0;U<H;U++){var g=t(l,M);M+=g.length+1;var K=$(),a=$(),T=$();j.push(e==0?g:[T,a,K,g])}q.push([["enum","strc","mesg"][e],L,j])}return q}return{a5X:c,a51:k}}();
function fj(){}fj.TC=function(w,M){var O=new Uint8Array(w),b=8,D=n.Yx(O,b),E=0,Y=0;b+=4;var o=[];while(b<O.length){var Z=n.Yx(O,b);
b+=4;var $=O.slice(b,b+Z);if(O[b]==137&&O[b+1]==80){}else $=UZIP.inflateRaw($);o.push($);b+=Z}var k=cV.a5X(o[0]);
for(var U=0;U<k.length;U++)if(k[U][1]=="Message")E=U;var t=cV.a51(o[1],0,k,k[E],0)[0],c={Q2:{},Xh:{},auV:{}},l=t.nodeChanges;
for(var q=0;q<l.length;q++){var d=l[q],V=d.guid;c.Xh[V.sessionID+","+V.localID]=d}for(var q=0;q<l.length;
q++){var d=l[q],V=d.parentIndex;if(V){var L=fj.sR(c.Xh,V.guid);if(L.children==null)L.children=[];L.children.push(d)}}var e=l[0],H=e.children,j=new cn,g=[],K=[];
for(var V=0;V<H.length;V++){var a=H[V],T=a.children;if(a.name=="Internal Only Canvas"||T==null)continue;
var C=new cn;for(var U=0;U<T.length;U++){var F=T[U],m=F.transform,N=F.size;if(m.m00==1&&m.m10==0&&m.m01==0&&m.m11==1){var v=new cn(m.m02,m.m12,N.x,N.y);
C=C.MK(v)}}var h=j.n==0?0:j.n+100,P=C.clone();P.x=0;P.y=h;j=j.MK(P);g[V]=C;K[V]=h}var J=gi.kC(new cn(0,0,j.e,j.n),8192*8192);
M.e=Math.round(j.e/J);M.n=Math.round(j.n/J);M.buffer=x.$(M.e*M.n*4);for(var V=0;V<H.length;V++){var a=H[V],T=a.children;
if(a.name=="Internal Only Canvas"||T==null)continue;T.sort(fj.apU);var B=new f$(1,0,0,1,-g[V].x,K[V]-g[V].y);
B.scale(1/J,1/J);for(var U=0;U<T.length;U++){var F=T[U];fj.iA(F,[],B,t.blobs,M,0,c);Y++}}M.eN(Y);M.Tb=!0;
if(J!=1)alert("File scaled down "+J+"x")};fj.iA=function(w,M,O,b,D,o,Z){var $=fj,m=!1,N,P,J,Y;M=JSON.parse(JSON.stringify(M));
var k=w.overrideKey?w.overrideKey:w.guid;for(var U=0;U<M.length;U++){var E=M[U],t=E.guidPath.guids;if($.aj4(t[0],k)){if(t.length==1){var c={};
for(var l in w)c[l]=E[l]!=null?E[l]:w[l];w=c}else E.guidPath.guids=t.slice(1)}}var q=w.type,d=w.children,V=w.size,L=w.effects,e=D.uV();
e.EJ(w.name);e.ah(w.visible);e.opacity=Math.round(w.opacity*255);var H=$.Jd(w.transform),j=H.clone();
j.concat(O);var g=new cn(Math.round(j.hE),Math.round(j.Qw),Math.round(V.x*j.gy()),Math.round(V.y*j.gy()));
if(g.e==0||isNaN(g.e))g.e=100;if(g.n==0||isNaN(g.n))g.n=100;var K=w.fillPaints,a=w.inheritFillStyleID;
if(a){var c=$.sR(Z.Xh,a);if(c)K=c.fillPaints}if(K==null)K=[];var K=$.a2l(K),T=K[0],C=w.strokePaints,a=w.inheritFillStyleIDForStroke;
if(a){var c=$.sR(Z.Xh,a);if(c)C=c.fillPaints}if(C==null)C=[];var C=$.a2l(C),F="BOOLEAN_OPERATION LINE RECTANGLE ROUNDED_RECTANGLE ELLIPSE VECTOR REGULAR_POLYGON STAR".split(" ").indexOf(q)!=-1;
if(F||q=="FRAME"){N=new Q.G6;$.a8m(w,b,N);m=x.O.WG(N.j);x.O.I0(N.j,j);var v=x.p.Mf(x.O.rt(N.j));if(!v.S9())g=v;
if(Z.Q2.dQ&&T){var h=Q.G6.Zc(Z.Q2.dQ.j);for(var U=2;U<h.length;U++)if(h[U].K$!=null)h[U].K$=3;N.j=N.j.concat(h.slice(2))}}if(T&&T.type=="IMAGE"){Y=T.imageScaleMode;
P=$.Hp(b,T.image.dataBlob);var B=P.fJ.e/P.fJ.n,S=V.x/V.y;J=Math.abs(B-S)}if(q=="FRAME"){}else if(F&&m&&P&&(Y=="FIT"||Y=="FILL"&&J<=.05)){var r=b[T.image.dataBlob].bytes,I=D.Xu(r,e.getName(),0,0);
I.N7=e.N7;I.opacity=e.opacity;e=I;var f=new cn(0,0,V.x,V.y);if(Y=="FIT"){var s=P.fJ.e,W=P.fJ.n,i=Math.min(V.x/s,V.y/W),u=s*i,z=W*i;
f=new cn(f.x+(f.e-u)/2,f.y+(f.n-z)/2,u,z)}var G=x.p.zl(f).C;x.p.F(G,j,G);e.add.SoLd.Trnf=y.u.KT(G);e.add.SoLd.nonAffineTransform=y.u.KT(G);
var g_=[],L=w.effects,cl=T.paintFilter;if(L)for(var U=0;U<L.length;U++)if(L[U].type=="FOREGROUND_BLUR"){var p=L[U],b2=ek.JF("GsnB",{});
g_.push(b2);b2.v.enab.v=p.visible;b2.v.Fltr.v.Rds.v.val=p.radius/2.4}if(cl&&cl.exposure!=0){var b2=ek.JF("brit",{});
g_.push(b2);b2.v.Fltr.v.Brgh.v=Math.round(cl.exposure*160);b2.v.Fltr.v.useLegacy.v=!0}if(cl&&cl.vibrance!=0){var b2=ek.JF("vibA",{});
g_.push(b2);console.log(b2);b2.v.Fltr.v.Strt.v=Math.round(Math.round(cl.vibrance*100))}if(g_.length!=0){e.add.SoLd.filterFX=ek._4();
D._T({id:e.add.SoLd.placed.v,rect:new cn,buffer:x.$(1),D:new Q.MX});e.add.SoLd.filterFX.v.filterFXList.v=g_}e.Gf(D,!1);
$.a33(Z,e,D)}else if(F){$.afr(e,N,w,T,C,j,g,b,D,Z);if(L)for(var U=0;U<L.length;U++){var p=L[U];if(p.type!="FOREGROUND_BLUR")continue;
N.Yo=p.radius/2.4}e.De();e.h1(D)}else if(q=="TEXT"){var jz=w.textData,aT=jz.layoutSize,fZ=["LEFT","RIGHT","CENTER"].indexOf(w.textAlignHorizontal);
e.add.lnsr="rend";e.add.TySh=ah.Wm(0,0);e.add.TySh.AY=new cn(0,0,100,100);var ft=j.clone();e.add.TySh.F=ft;
var cc=e.add.TySh.GM,kr=jz.characters;if(w.textCase=="TITLE"){for(var U=0;U<kr.length;U++)if(U==0||kr[U-1]==" "){var hG=kr.slice(0,U),hi=kr.slice(U+1);
kr=hG+kr[U].toUpperCase()+hi}}kr=kr.replace(/\u2028/g,"\n");kr=kr.replace(/\u2029/g,"\n");kr=kr.replace(/\r\n/g," \n");
ah.nD(cc,0,kr);var bU=w.textAutoResize,ic=jz.baselines;if(bU=="WIDTH_AND_HEIGHT"){var iQ=fZ==0?0:fZ==1?aT.x:aT.x/2,bx=ic?ic[0].position.y:0;
ft.translate(iQ*j.gy(),bx*j.gy());ah.EC(cc,0)}else if(bU=="HEIGHT"||bU=="NONE"||bU==null){var bx=ic?ic[0].position.y-w.fontSize*.7:0;
ft.translate(0,bx*j.gy());ah.EC(cc,1);ah.h4(cc,[0,0,Math.round(aT.x),Math.round((bU=="NONE"?1.8:1)*aT.y)])}else throw bU;
if(kr!=""){var aR=ah._J(cc,0,1);$.a7R(w,j,V,aR,e,b,D,Z);ah.j_(cc,0,kr.length,aR);var gs=jz.characterStyleIDs,k7=jz.styleOverrideTable;
if(gs){gs=gs.slice(0);for(var U=0;U<gs.length;U++)if(kr[U]=="\n")gs[U]=-U-1;var fT=[0],aH=0,e7=0;for(var U=0;
U<gs.length;U++){e7++;var dB=gs[U];if(U==0||dB==gs[U-1]){}else{fT.push(e7-1,U);e7=1}}fT.push(e7);for(var U=0;
U<fT.length;U+=2){var ia=fT[U],d7=fT[U+1];if(kr[ia]=="\n")continue;var dB=gs[ia];if(dB!=0){var hf;for(var gv=0;
gv<k7.length;gv++)if(k7[gv].styleID==dB)hf=k7[gv];var aR=ah._J(cc,ia,ia+1);$.a7R(hf,j,V,aR,e,b,D,Z);
ah.j_(cc,ia,ia+d7-1,aR)}}}}}else if(q=="SYMBOL"){}else if(q=="INSTANCE"){var hN=w.symbolData,hP=hN.symbolOverrides,c=$.sR(Z.Xh,hN.symbolID);
if(c)d=c.children;else console.log(w.name,"symbol not found",hN.symbolID);M=M.slice(0);for(var U=0;U<hP.length;
U++)M.push(hP[U])}else console.log(q);if(!1){}else if(d&&!F){D.B.push(D.iB());var gP=!1,aB=o==0&&q!="SYMBOL"&&q!="INSTANCE";
if(aB){if(g.S9())console.log(g);e.Bo(g)}T=K[K.length-1];if(aB&&T&&T.type=="SOLID"){var i7=T.color;e.add.artb.artboardBackgroundType.v=4;
e.add.artb.Clr=$.Lb(i7)}else if((T||C[0])&&N){var dI=D.uV();dI.EJ("Background");$.afr(dI,N,w,T,C,j,g,b,D,Z);
dI.De();dI.h1(D);D.B.push(dI);gP=!0}d.sort($.apU);var gh=Z.Q2;Z.Q2={};for(var b9=0;b9<d.length;b9++)$.iA(d[b9],M,j,b,D,o+1,Z);
Z.Q2=gh;e.add.lsct=!1?ht.cx:ht.xe;e.eI="pass";var ij=e.Vd();e.N7=24;e.ah(ij);var ax=o!=0&&K.length!=0&&!w.frameMaskDisabled&&w.containerSupportsFillStrokeAndCorners;
if(!gP&&ax&&N){e.add.vmsk=N;e.De();e.h1(D)}else $.a33(Z,e,D);D.B.push(e)}else if(w.mask){if(N){Z.Q2.dQ=N}}else{var iX=[],hV=1;
if(L)for(var am=0;am<L.length;am++){var p=L[am],jf=p.color,eJ=p.type,hZ=["DROP_SHADOW","INNER_SHADOW"].indexOf(eJ);
if(hZ!=-1){var hC=["DrSh","IrSh"][hZ],ds=JSON.parse(aN.hx[aN.order.indexOf(hC)]);iX.push([hC,ds]);ds.enab.v=p.visible;
ds.Md.v.BlnM=gA.VK($.a7g(p.blendMode));ds.Opct.v.val=Math.round(100*jf.a);ds.blur.v.val=Math.round(p.radius*j.gy());
ds.Clr=$.Lb(jf);var iQ=p.offset.x,bx=p.offset.y;ds.uglg.v=!1;ds.lagl.v.val=Math.round(180/Math.PI*Math.atan2(bx,-iQ));
ds.Dstn.v.val=Math.round(Math.sqrt(iQ*iQ+bx*bx)*j.gy())}}if(q=="TEXT"&&K[0]&&K[0].type!="SOLID")hV=0;
for(var U=hV;U<K.length;U++){var bv=K[U],hl=$.kl(w,bv,j,g,b,D,Z);if(hl[0]=="GdFl")iX.push(["GrFl",hl[1]]);
else if(hl[0]=="SoCo")iX.push(["SoFi",hl[1]]);else if(hl[0]=="PtFl")iX.push(["patternFill",hl[1]]);else throw hl}if(!F)for(var U=0;
U<C.length;U++){var bv=C[U],hl=$.kl(w,bv,j,g,b,D,Z);if(hl[0]=="SoCo"){var ds=JSON.parse(aN.hx[aN.order.indexOf("FrFX")]);
iX.push(["FrFX",ds]);ds.enab=hl[1].enab;ds.Opct=hl[1].Opct;ds.Md=hl[1].Md;ds.Clr=hl[1].Clr;ds.Sz.v.val=w.strokeWeight}}if(iX.length!=0){var jQ=JSON.parse(aN.default);
for(var U=0;U<aN.order.length;U++)jQ[aN.IU[U]]={t:"VlLs",v:[]};for(var U=0;U<iX.length;U++){var a$=iX[U],hC=aN.IU[aN.order.indexOf(a$[0])];
jQ[hC].v.unshift({t:"Objc",v:a$[1]})}if(d==null)e.add.lmfx=jQ}D.B.push(e)}};fj.afr=function(w,M,O,b,D,o,Z,$,k,E){var t=fj;
w.N7|=16;w.add.vmsk=M;var c=w.add.vstk=JSON.parse(JSON.stringify(aN.d_.default)),l=t.kl(O,b,o,Z,$,k,E);
if(l[0]=="None"){c.fillEnabled.v=!1;w.add.SoCo=l[1]}else{t.dV(l,w);w.add[l[0]]=l[1]}var l=t.kl(O,D[0],o,Z,$,k,E);
if(l[0]!="None"){var c=w.add.vstk;c.strokeEnabled.v=!0;c.strokeStyleLineWidth.v.val=O.strokeWeight*o.gy();
c.strokeStyleLineAlignment.v.strokeStyleLineAlignment=aN.d_.dB[["INSIDE","CENTER","OUTSIDE"].indexOf(O.strokeAlign)];
var q={SoCo:"SoFi",GdFl:"GrFl",PtFl:"patternFill"}[l[0]],d=["SoFi","GrFl","patternFill"].indexOf(q),V=[aN.J1,aN.JK,aN.KO][d];
c.strokeStyleContent.v={classID:aN.d_.SA[0]};var L=O.dashPattern;if(L)c.strokeStyleLineDashSet.v=eR.z4(L,1/O.strokeWeight);
var e=c.strokeStyleContent.v={classID:aN.d_.SA[d]};for(var U=0;U<V.length;U++)e[V[U]]=l[1][V[U]];if(!c.fillEnabled.v)t.dV(l,w)}};
fj.dV=function(w,M){var O=w[1].Opct.v.val;if(O!=100)M.opacity=Math.round(M.opacity/255*(O/100)*255)};
fj.apU=function(w,M){var O=w.parentIndex.position,b=M.parentIndex.position;return O>b?1:-1};fj.a2l=function(w){for(var U=1;
U<w.length;U++){var M=w[U];if(M.type=="IMAGE"&&M.opacity==1){w=w.slice(U);break}}for(var U=0;U<w.length;
U++){var M=w[U],O=M.imageThumbnail;if(M.type=="IMAGE"&&(M.image==null||M.image.dataBlob==null)&&O&&O.dataBlob)M.image=O;
if(!M.visible||M.type=="IMAGE"&&M.image.dataBlob==null){w.splice(U,1);U--}}return w};fj.a33=function(w,M,O){if(w.Q2.dQ){M.add.vmsk=w.Q2.dQ.clone();
M.De();M.h1(O)}};fj.a7R=function(w,M,O,b,D,o,Z,$){var k=w.fontSize,E=w.lineHeight,t=w.fontName,c=w.textAlignHorizontal,l=w.textTracking,q=w.textCase,d=w.textDecoration;
if(k==null)k=b.Qc.FontSize;if(t)ah.Lh(b,t.postscript);if(k!=null)b.Qc.FontSize=Math.round(k);if(d=="UNDERLINE")b.Qc.Underline=!0;
if(l)b.Qc.Tracking=Math.round(l*1e3);if(q)b.Qc.FontCaps=q=="UPPER"?2:0;if(E&&(E.units!="PERCENT"||E.value!=100)){if(k==null)k=15;
var V=E.value;if(E.units=="PERCENT")V=1*k*V/100;if(E.units=="RAW")V=1*k*V;b.Qc.AutoLeading=!1;b.Qc.Leading=Math.round(V)}if(c)b.xy.Justification=["LEFT","RIGHT","CENTER"].indexOf(c);
var L=w.fillPaints,e=w.inheritFillStyleID;if(e){var H=fj.sR($.Xh,e);if(H)L=H.fillPaints}if(L&&L[0]){var j=fj.kl(w,L[0],M,O,o,Z,$);
if(j[0]=="SoCo"){var g=x.M.FL(j[1].Clr.v);b.Qc.FillColor={Type:1,Values:[1,g.o/255,g.w/255,g.L/255]};
fj.dV(j,D)}}};fj.kl=function(w,M,O,b,D,o,Z){var $=fj,k,E,t=w.size;if(M){var c=M.type,l=["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_DIAMOND","GRADIENT_ANGULAR"].indexOf(c);
if(c=="SOLID"){k="SoCo";var q=M.color;E=JSON.parse(aN.hx[aN.order.indexOf("SoFi")]);E.Clr=$.Lb(q)}else if(l!=-1){var d=JSON.parse(aN.hx[aN.order.indexOf("GrFl")]),V=d.Grad.v;
V.Intr.v=0;d.Type.v.GrdT=["Lnr","Rdl","Dmnd","Angl"][l];var L=[],e=M.stops;for(var U=0;U<e.length;U++){var H=e[U],j=H.color;
L.push([H.position,[j.r,j.g,j.b],j.a])}x.M.Ty(L,V);var g=$.Jd(M.transform);g.ZW();var K=g.clone();if(t)K.scale(t.x,t.y);
K.concat(O);var a=new at(0,.5),T=new at(1,.5);a=K.xU(a);T=K.xU(T);if(!0){a.x=T.x+.5*(a.x-T.x);a.y=T.y+.5*(a.y-T.y)}x.M.LE(a,T,b,d);
if(l==3){if(K.ip*K.uc-K.L*K.Hv<0)d.Rvrs.v=!d.Rvrs.v}k="GdFl";E=d}else if(c=="IMAGE"){var d=JSON.parse(aN.hx[aN.order.indexOf("patternFill")]),g=$.Jd(M.transform);
g.ZW();var C=M.image.dataBlob,F=Z.auV[C];if(F==null){var m=$.Hp(D,C);F=Z.auV[C]={};F.id=fO.ZU()+"-d71c-11e5-b1ae-a548a96e5f9f";
F.f4=[new Uint8Array(m.data),m.fJ];if(g.ip<0){var N=F.f4[0].slice(0);x.N.xj(N,F.f4[0],m.fJ.e,m.fJ.n)}F.name="someImage";
o.RI(F)}if(g.ip<0)g.ip=-g.ip;var v=["FILL","FIT","STRETCH","TILE"].indexOf(M.imageScaleMode),h=v==3?M.scale:1;
eR.as1(F,d,t.x,t.y,v,O,g,h);k="PtFl";E=d}else throw c;if(E)E.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(M.opacity*100)}}}if(k==null||M.opacity<.001){k="None";
E={classID:"null",Clr:{t:"Objc",v:x.M.jk({o:0,w:0,L:0})}}}return[k,E]};fj.Hp=function(w,M){var O=w[M];
if(O.rslt)return O.rslt;var b=O.bytes.buffer,D=ce.S5(b),o=ce.ti(D);try{O.rslt=o.sc(b)[0]}catch(fr){O.rslt={data:x.$(4),fJ:new cn(0,0,1,1)}}return O.rslt};
fj.a8m=function(w,M,O){var b=w.type,D=w.size,o=w.cornerRadius,E;if(o==null)o=0;var Z=D.x,$=D.y,k=[o,o,o,o],t=["rectangleTopLeftCornerRadius","rectangleTopRightCornerRadius","rectangleBottomRightCornerRadius","rectangleBottomLeftCornerRadius"];
for(var U=0;U<4;U++)if(w[t[U]]!=null)k[U]=w[t[U]];if(b=="RECTANGLE"||b=="ROUNDED_RECTANGLE"||b=="FRAME"){E=x.O.U_.Rect(0,0,Z,$,k)}else if(b=="ELLIPSE"){var c=w.arcData,l=c?c.startingAngle:0,q=c?c.endingAngle:2*Math.PI,d=c?c.innerRadius:0;
if(l==0&&q>1.999*Math.PI)E=x.O.U_.A1(0,0,Z,$,0);else E=x.O.U_.au7(Z/2,$/2,$/2,l,q);if(d!=0&&d!=1){var V=Q.G6.Zc(E).slice(3);
V.reverse();for(var U=0;U<V.length;U++){var L=V[U],e=L.vA;L.vA=L.YJ;L.YJ=e}var H=new f$;H.translate(-Z/2,-$/2);
H.scale(d,d);H.translate(Z/2,$/2);x.O.I0(V,H);E=E.concat(V);E[2].length*=2}}else if(b=="LINE"){E=x.O.U_.Rect(0,0,Z,$,0);
E.pop();E.pop();E[2].length=2}else if(b=="STAR"){E=x.O.U_.d8(Z/2,$/2,Z/2,2*Math.PI*(1/4),5,0,w.starInnerScale)}else if(b=="REGULAR_POLYGON"){E=x.O.U_.vQ(.5,.5,.5,Math.PI/2,w.count,0);
var j=new f$;j.scale(Z,$);x.O.I0(E,j)}else if(b=="BOOLEAN_OPERATION"){E=[{type:6},{type:8,all:0}];var g=w.children,K=["XOR","UNION","SUBTRACT","INTERSECT"].indexOf(w.booleanOperation);
if(K==-1)throw w;if(g==null)g=[];for(var U=0;U<g.length;U++){var a=g[U],T=new Q.G6,C=fj.a8m(a,M,T);if(T.j==null)continue;
x.O.I0(T.j,fj.Jd(a.transform));E=E.concat(T.j.slice(2))}for(var U=3;U<E.length;U++)if(E[U].K$!=null)E[U].K$=K}else if(b=="VECTOR"){var F,m,f=3;
if(!0){var N=w.vectorData;if(N==null)return;F=N.normalizedSize;m=N.vectorNetworkBlob}var v=M[m].bytes,h=new Uint32Array(v.buffer),P=new Float32Array(v.buffer),J=h[0],Y=h[1],B=h[2],S=[],r=[],I=[],s=f+J*3,W=s+Y*7;
for(var U=0;U<J;U++){var i=f+U*3,u=new at(P[i+1],P[i+2]);S.push(u)}for(var U=0;U<Y;U++){var z=s+U*7;
r.push([h[z+0],h[z+1],P[z+2],P[z+3],h[z+4],P[z+5],P[z+6]])}for(var U=0;U<B;U++){var G=h[W+1],g_=I[U]=[];
W+=2;for(var cl=0;cl<G;cl++){var p=h[W++],b2=g_[cl]=[];for(var jz=0;jz<p;jz++)b2[jz]=h[W+jz];W+=p}}if(W!=h.length)throw"e";
if(B==0){var aT=-1;for(var U=0;U<Y;U++){if(aT==-1){}else{var fZ=-1;for(var cl=U;cl<Y;cl++)if(r[cl][4]==aT)fZ=cl;
for(var cl=U;cl<Y;cl++)if(r[cl][1]==aT)fZ=cl;if(fZ!=-1){var ft=0,e=r[fZ];r[fZ]=r[U];r[U]=e;if(e[1]!=aT){ft=e[1];
e[1]=e[4];e[4]=ft;ft=e[2];e[2]=e[5];e[5]=ft;ft=e[3];e[3]=e[6];e[6]=ft}}}aT=r[U][4]}I.push([[]]);for(var U=0;
U<Y;U++)I[0][0].push(U)}var cc=[],kr=[];for(var hG=0;hG<I.length;hG++){for(var hi=0;hi<I[hG].length;
hi++){var bU=I[hG][hi],ic=0;if(bU.length>1){var iQ=r[bU[0]],bx=r[bU[1]];ic=iQ[4]==bx[1]?1:0}for(var U=0;
U<bU.length;U++){var aR=r[bU[U]],gs=1,k7=4;if(ic==0){gs=4;k7=1}var aH=S[aR[gs]],e7=S[aR[k7]];if(U==0){kr.push("M");
cc.push(aH.x,aH.y)}kr.push("C");cc.push(aH.x+aR[gs+1],aH.y+aR[gs+2],e7.x+aR[k7+1],e7.y+aR[k7+2],e7.x,e7.y)}}}E=x.p.aG({C:cc,H:kr},!1);
if(o!=0){var k=[],dB=E[2].length;for(var U=0;U<dB;U++)k.push(o);if(x.O.VA(E))x.O.OV(E,2,k)}var ia=new f$;
ia.scale(F.x==0?1:D.x/F.x,F.y==0?1:D.y/F.y);x.O.I0(E,ia)}O.j=E};fj.sR=function(w,M){return w[M.sessionID+","+M.localID]};
fj.aj4=function(w,M){return w.sessionID==M.sessionID&&w.localID==M.localID};fj.a7g=function(w){var M={NORMAL:"norm",MULTIPLY:"mul ",SCREEN:"scrn",COLOR_DODGE:"div ",COLOR_BURN:"idiv",HARD_LIGHT:"hLit",DARKEN:"dark",LUMINOSITY:"lum ",OVERLAY:"over"}[w];
if(M==null)throw w;return M};fj.Lb=function(w){return{t:"Objc",v:x.M.jk({o:w.r*255,w:w.g*255,L:w.b*255})}};
fj.Jd=function(w){var M=[w.m00,w.m10,w.m01,w.m11,w.m02,w.m12];for(var U=0;U<6;U++)if(Math.abs(M[U])<1e-20)M[U]=0;
return new f$(M[0],M[1],M[2],M[3],M[4],M[5])};function gX(){}gX.TC=function(){var w=n.TP;function M(q,d,V,L){var e=L?[]:{};
while(d<q.length-1&&q[d]!=125){var H=w(q,d,3),j=w(q,d+3,1),g;d+=4;d++;if(j=="v"){var K=M(q,d,V+1,H=="ELM"||H=="TIL");
g=K.G;d=K.z}else if(j=="i"||j=="f"){var a=d;while(q[a]!=125)a++;var T=w(q,d,a-d);g=j=="i"?parseInt(T,16):parseFloat(T);
d=a+1}else if(j=="s"){var C=n.z0(q,d),T="";d+=2;for(var U=0;U<C;U++)T+=String.fromCharCode(q[d+2*U+1]);
g=T;d=d+2*C+1}else if(j=="b"){g=q[d]==49;d=d+2}else throw"e";if(L)e.push([H,g]);else if(e[H]==null)e[H]=g;
else{if(!(e[H]instanceof Array))e[H]=[e[H]];e[H].push(g)}}d++;return{G:e,z:d}}function O(q,d){var V=b(q).slice(1),q=d.Clr.v;
q.Rd.v=V[0]*255;q.Grn.v=V[1]*255;q.Bl.v=V[2]*255}function b(q){return[(q>>>24&255)/255,(q>>>16&255)/255,(q>>>8&255)/255,(q>>>0&255)/255]}function D(q,d){var V=d&4278190080|(d&255)<<16|(d>>>8&255)<<8|d>>>16&255;
new Uint32Array(q.buffer).fill(V)}function o(q,d){var V=q.TSZ,L=q.WPX,e=q.HPX,H=q.TIL,j=new cn(0,0,L,e),g=x.$(L*e*4),K=0;
for(var a=0;a<e;a+=V)for(var T=0;T<L;T+=V){var C=new cn(T,a,V,V),F,m=H[K];if(m[0]=="TMC"){F=x.$(C.v()*4);
D(F,m[1])}else if(m[0]=="TID"){F=d[m[1]]}x.xu(F,C,g,j);K++}return[g,j]}function Z(q,d){q=new Uint8Array(q);
var V=8,L,e={},Y=0;while(V<q.length){var H=n.A(q,V);V+=4;var j=w(q,V,4);V+=4;if(j=="mkTS"){var g=pako.inflate(q.slice(V,V+H)),K=M(g,0,0);
L=K.G}else if(j=="mkBT"){var a=n.A(q,V+4),T=n.A(q,V+8),g=pako.inflate(q.slice(V+76,V+H));if(T==0)for(var U=0;
U<g.length;U+=4){var C=g[U],F=g[U+1],m=g[U+2],N=g[U+3];g[U+3]=C;g[U+2]=N;g[U+1]=m;g[U]=F}else{var v=x.$(g.length*4);
v.fill(255);x.CA(g,v);g=v}e[a]=g}V+=H+4}var h=L.PDC,P=h?h instanceof Array?h:[h]:[L.MKB],J=new cn;for(var U=0;
U<P.length;U++){var B=P[U];J=J.MK(new cn(0,Y,B.WID,B.HIT));Y+=B.HIT+100}d.e=J.e;d.n=J.n;d.buffer=x.$(J.v()*4);
d.eN(P.length);Y=0;for(var S=0;S<P.length;S++){d.B.push(d.iB());var B=P[S],r=B.WID,I=B.HIT,f=B.BGC,s=(B.LYL?B:L).LYL.LAY,u=3;
for(var U=0;U<s.length;U++)k(s[U],d,null,e,new f$(1,0,0,1,-B.XLC,-B.YLC+Y));var W=d.uV();d.B.push(W);
var i=new cn(0,Y,r,I);Y+=I+100;W.Bo(i);if(f>>>24!=0){var z=x.M.jk({o:f>>>16&255,w:f>>>8&255,L:f>>>0&255});
W.add.artb.Clr={t:"Objc",v:z};u=4}W.add.artb.artboardBackgroundType.v=u;W.EJ(B.PGN?B.PGN:"Page "+(S+1));
W.add.lsct=ht.xe;W.eI="pass";W.N7=24}}function $(q,d,V){var L=q[d];return L instanceof Array?L[V]:L}function k(q,d,V,L,e){var H=d.uV();
if(q.VIS!=null)H.ah(q.VIS);if(q.VIF!=null)H.ah(q.VIF.VIS);if(q.OPA!=null)H.opacity=Math.round(255*q.OPA/1e3);
H.eI=q.CLL||V=="GRP"?"pass":"norm";if(q.BLD!=null){var j=q.BLD,g={"0":"norm","2":"mul ","4":"over","5":"scrn","7":"diss","9":"dark","10":"lite","37":"idiv","30":"norm","39":"lbrn","41":"vLit"}[j+""];
if(g==null)console.log(q.OBN,j);else H.eI=g;if(j==30)H.opacity>>>=1}if(q.CLL){H.EJ(q.LNM);d.B.push(d.iB());
var K=q.CLL.CEL;if(K.length==null)K=[K];for(var a=K.length-1;a>=0;a--){var T=K[a].ELM;for(var U=T.length-1;
U>=0;U--)k(T[U][1],d,T[U][0],L,e)}H.add.lsct=q.DIS?ht.cx:ht.xe;H.N7|=24}else if(V=="GRP"){var C=H.add.lmfx=t(q.EFL),F;
d.B.push(d.iB());var T=q.ELM;if(q.MNA){F=T[0][1];T=T.slice(1)}H.EJ("Group: "+T.length+" objects");for(var U=T.length-1;
U>=0;U--)k(T[U][1],d,T[U][0],L,e);if(F){if(q.MRX){var m=o(F,L),N=H.D=new Q.MX;N.rect=m[1].clone();N.rect.x=F.XLC;
N.rect.y=F.YLC+e.Qw;N.channel=x.$(N.rect.v());x.Oj(m[0],N.channel,0);x.ZW(N.channel)}else{E(H,F,e);H.De();
H.h1(d)}}H.add.lsct=ht.xe;H.N7|=24}else if(V=="IMG"){H.EJ(q.OBN?q.OBN:"Bitmap");var m=o(q,L);H.rect=m[1].clone();
H.rect.x=q.XLC;H.rect.y=q.YLC+e.Qw;H.buffer=m[0]}else if(V=="TXT"){var v=q.TFS,h=v.TRN instanceof Array?v.TRN.length:1,B="",S="Arial",r=20,I=0;
H.add.lnsr="rend";H.add.TySh=ah.Wm(0,0);H.add.TySh.AY=new cn(0,0,100,100);var P=new f$(1,0,0,1,q.LFT,q.TOP);
if(q.MTX){var J=q.MTX,N=new f$(J.M00,J.M01,J.M10,J.M11,J.M20,J.M21);P.concat(N)}P.concat(e);H.add.TySh.F=P;
var Y=H.add.TySh.GM;for(var U=0;U<h;U++){var f=$(v,"TRN",U);if(f==null)continue;f=f.replaceAll("\x18","'").replaceAll("\x19","'").replaceAll("\x1C","'").replaceAll("\x1D","'");
f=f.replaceAll("\x03","\n").replaceAll("\r","\n");ah.nD(Y,B.length,f);var s=ah._J(Y,0,1),W=$(v,"FON",U);
if(W)S=W;ah.Lh(s,S);var i=$(v,"PTS",U);if(i!=null)r=i;s.Qc.FontSize=Math.round(r);var u=$(v,"LED",U);
if(u!=null){s.Qc.Leading=u*r;s.Qc.AutoLeading=!1}var z=$(v,"UND",U);if(z!=null){s.Qc.Underline=z}var G=$(v,"ITL",U);
if(G!=null){s.Qc.FauxItalic=G}var g_=$(v,"FCL",U);if(g_!=null)I=g_;s.Qc.FillColor={Type:1,Values:b(I)};
var cl=$(v,"JST",U);if(cl!=null)s.xy.Justification=[0,2,1,3,5,4,6,7,8][cl];ah.j_(Y,B.length,B.length+f.length,s);
B+=f}H.EJ(B.slice(0,255));var p=q.RIT-q.LFT,b2=q.BOT-q.TOP;if(q.IMG){k(q.IMG,d,"IMG",L,e);var jz=d.B.pop();
H.buffer=jz.buffer;H.rect=jz.rect.clone()}ah.EC(Y,1);ah.h4(Y,[0,0,p,b2])}else if(V=="PTH"){H.EJ(q.OBN?q.OBN:"Path");
H.N7|=16;var aT=!1;E(H,q,e);var fZ=H.add.vmsk,ft=H.add.vstk,cc=x.O.rt(fZ.j),kr=q.PAT,hG=kr.BPL,hi=kr.FPL,bU=kr.TXF;
if(hi&&hi.FEF)fZ.Yo+=hi.FEF/2.4;if(hG){var ic=hG.CAT;ft.strokeEnabled.v=!0;ft.strokeStyleLineWidth.v.val=hG.BDI;
ft.strokeStyleLineAlignment.v.strokeStyleLineAlignment=aN.d_.dB[q.BRP];O(kr.BCL,ft.strokeStyleContent.v);
if(ic!="bc_Basic"&&ic!="bc_Pencil")aT=!0}if(hi==null){ft.fillEnabled.v=!1;H.add.SoCo=JSON.parse(aN.hx[aN.order.indexOf("SoFi")]);
O(0,H.add.SoCo)}else if(hi.CAT=="fc_Solid"){H.add.SoCo=JSON.parse(aN.hx[aN.order.indexOf("SoFi")]);O(q.PAT.FCL,H.add.SoCo)}else if(hi.CAT=="fc_Linear"||hi.CAT=="fc_Circular"||hi.CAT=="fc_Elliptical"){var iQ=hi.CAT=="fc_Linear",bx=H.add.GdFl=JSON.parse(aN.hx[aN.order.indexOf("GrFl")]),aR=bx.Grad.v,gs=[],k7=hi.FGL,fT,aH=[];
if(k7.FGY){var e7=k7.FGY,fT=e7.FG0.FGI,aH=e7.FG1.FGI}else fT=k7.FGV.FGI;for(var U=0;U<fT.length;U++){var dB=fT[U],ia=b(dB.FGC),d7=1;
if(aH.length==fT.length)d7=b(aH[U].FGC)[0];gs.push([dB.FGP,ia.slice(1),d7])}bx.Type.v.GrdT=iQ?"Lnr":"Rdl";
x.M.Ty(gs,aR);aR.Intr.v=0;var hf=q.PRI?q.PRI:q,gv=new at(hf.PSX,hf.PSY),hN=new at(hf.PEX,hf.PEY);if(hi.CAT=="fc_Elliptical"&&hf.PFX!=null){var hP=new at(hf.PFX,hf.PFY),gP=at.we(gv,hN),aB=at.we(gv,hP);
if(aB<gP){var i7=gP;gP=aB;aB=i7}hN=new at(gv.x+(gP+aB)/2,gv.y);if(gP/aB<.5)aT=!0}if(iQ){gv.x=(gv.x+hN.x)/2;
gv.y=(gv.y+hN.y)/2}x.M.LE(gv,hN,cc,bx)}else console.log(hi.CAT);var C=H.add.lmfx=t(q.EFL,fZ);if(hi&&hi.FTB!=0&&bU){var m=o(bU.MSK,L),dI={};
dI.id=fO.ZU()+"-d71c-11e5-b1ae-a548a96e5f9f";dI.name="someImage";dI.f4=m;d.RI(dI);var gh=m[0];for(var U=0;
U<gh.length;U+=4){gh[U+3]=255-gh[U];gh[U]=gh[U+1]=gh[U+2]=255}var bx=JSON.parse(aN.hx[aN.order.indexOf("patternFill")]);
bx.Opct.v.val=Math.round(hi.FTB/10);bx.Algn.v=!0;bx.Ptrn.v.Idnt.v=dI.id;C.patternFillMulti.v.unshift({t:"Objc",v:bx})}if(aT&&q.IMG){k(q.IMG,d,"IMG",L,e);
var b9=d.B[d.B.length-1];b9.opacity=H.opacity;return}H.De();H.h1(d)}else if(V=="URL")return;else{console.log("unknown layer type",V,q);
H.EJ("Layer")}d.B.push(H)}function E(q,d,V){if(d.PBL==null)return;var L=q.add.vmsk=new Q.G6,e=q.add.vstk=JSON.parse(JSON.stringify(aN.d_.default)),H=d.PBL.PBP;
if(!(H instanceof Array))H=[H];for(var j=0;j<H.length;j++){var g=H[j].PBT;if(g==null)continue;if(!(g instanceof Array))g=[g];
var K=H[j].ISC?0:3;L.j.push({type:K,length:g.length,K$:0,pa:2,r1:0,HP:0});for(var U=0;U<g.length;U++){var a=g[U],T=a.XLC,C=a.YLC,F=[T,C,T,C,T,C],m="XPC YPC XLC YLC XSC YSC".split(" ");
for(var N=0;N<6;N++){var v=m[N],h=a[v];if(h!=null)F[N]=h}L.j.push({type:K+2,I:new at(T,C),vA:new at(F[0],F[1]),YJ:new at(F[4],F[5])})}}x.O.I0(L.j,V)}function t(q,d){var V=JSON.parse(aN.default);
for(var U=0;U<aN.order.length;U++)V[aN.IU[U]]={t:"VlLs",v:[]};if(q==null)return V;var L=q.EPS;if(!(L instanceof Array))L=[L];
for(var U=0;U<L.length;U++){var e=L[U].DCE,H={};for(var j=0;j<e.length;j++)H[e[j].DCK]=e[j].DCV;if(H.EffectIsVisible=="false")continue;
var g=H.mkbFile_WriteOnly_TemporaryEffectUiName;if(g=="Gaussian Blur..."&&d){d.Yo+=parseFloat(H.gaussian_blur_radius);
continue}var K=["Drop Shadow","Inner Bevel","Inner Glow","Glow"].indexOf(g);if(K==-1){continue}var a=["DrSh","ebbl","IrGl","OrGl"][K],T=aN.IU[aN.order.indexOf(a)],C=JSON.parse(aN.hx[aN.order.indexOf(a)]);
V[T].v.unshift({t:"Objc",v:C});if(a=="DrSh"){C.uglg.v=!1;c(H,"ShadowDistance",C,"Dstn");c(H,"ShadowBlur",C,"blur");
c(H,"ShadowAngle",C,"lagl",180);C.Opct.v.val=100;l(H,"ShadowColor",C,"Clr")}if(a=="IrGl"){C.Md.v.BlnM="Nrml";
var F=H.MaskSoftness,m=H.GlowWidth;if(F&&m){F=parseInt(F);m=parseInt(m);C.blur.v.val=m+F;C.Ckmt.v.val=Math.round(100*m/(m+F))}c(H,"BevelContrast",C,"Opct");
l(H,"OuterBevelColor",C,"Clr")}if(a=="OrGl"){C.Md.v.BlnM="Nrml";var F=H.MaskSoftness,m=H.GlowWidth;if(F&&m){F=parseInt(F);
m=parseInt(m);C.blur.v.val=m+F}c(H,"BevelContrast",C,"Opct");l(H,"OuterBevelColor",C,"Clr")}if(a=="ebbl"){C.uglg.v=!1;
c(H,"BevelWidth",C,"blur");c(H,"AngleSoftness",C,"Sftn");c(H,"BevelContrast",C,"srgR");c(H,"LightAngle",C,"lagl")}}return V}function c(q,d,V,L,e){var H=q[d];
if(e==null)e=0;if(H)V[L].v.val=parseInt(H)+e}function l(q,d,V,L){var e=q[d];if(e){e=e.slice(1);if(e.length==6)e=e+"ff";
if(e.length!=8)throw"e";var H=b(parseInt(e,16)),j=V[L].v;j.Rd.v=H[0]*255;j.Grn.v=H[1]*255;j.Bl.v=H[2]*255;
V.Opct.v.val=Math.round(V.Opct.v.val/100*H[3]*100)}}return Z}();function g3(){}g3.TC=function(){function w(h,P){var J=!1,Y=Date.now(),B=K(h,J);
if(J)console.log("part found",Date.now()-Y);Y=Date.now();var S=g(B),r=S.Layer,I=S.Header;if(J)console.log(S);
var f=r[0];f=S.Layer[0];if(J)console.log("document parsed",Date.now()-Y);Y=Date.now();S.Setup.Gradient=j(S.Setup.Gradient,B);
if(J)console.log("grads loaded",Date.now()-Y);Y=Date.now();S.Setup.Pattern=H(S.Setup.Pattern,B);if(J)console.log("patts loaded",Date.now()-Y);
Y=Date.now();S.Setup.DocumentData=e(S.Setup.DocumentData,B).pop();if(J)console.log("docdata loaded",Date.now()-Y);
Y=Date.now();S.Setup.SVGFilter=e(S.Setup.SVGFilter,B);if(J)console.log("svgfilter loaded",Date.now()-Y);
Y=Date.now();var s=I.Cropmarks,W=I.BoundingBox.split(" ").map(parseFloat),i=I.ArtSize?I.ArtSize.split(" ").map(parseFloat):[W[2]-W[0],W[3]-W[1]];
P.e=Math.round(i[0]);P.n=Math.round(i[1]);var u=[1,0,0,1,-W[0]+(P.e-(W[2]-W[0]))/2,-W[1]+(P.n-(W[3]-W[1]))/2];
u[3]=-1;u[5]=P.n-u[5];if(s){s=s.split(" ").map(parseFloat);P.e=Math.round(s[2]-s[0]);P.n=Math.round(s[3]-s[1]);
u=[1,0,0,-1,-s[0],P.n+s[1]]}var z=S.Setup.DocumentData;if(z&&z[0]&&z[0].ArtboardArray){var G=z[0].ArtboardArray;
if(G.length!=1)console.log(G.length,"artboards");var g_=new cn;for(var U=0;U<G.length;U++){var cl=G[U],p=cl.PositionPoint1,b2=cl.PositionPoint2,jz=p[0],aT=Math.min(p[1],b2[1]),fZ=b2[0],ft=Math.max(p[1],b2[1]);
g_=g_.MK(new cn(jz,aT,fZ-jz,ft-aT))}P.e=Math.round(g_.e);P.n=Math.round(g_.n);u[4]=-g_.x;u[5]=g_.y+P.n}if(z&&z[0]&&z[0]["#document"]){var cc=z[0]["#document"],kr=cc["xmlnode-children"][0];
if(kr&&kr["xmlnode-children"])kr=kr["xmlnode-children"][0];if(kr["xmlnode-nodename"]=="variableSets"){var hG=kr["xmlnode-children"][0]["xmlnode-children"],hi=hG[0],bU=hG[1],ic=v(hi);
P.cU=b7._c("<variableSets><variableSet>"+ic+"</variableSet></variableSets>");if(bU){var iQ=v(bU),bx=P.nX=b7.m5(iQ);
for(var U=0;U<bx.length;U++)for(var aR=0;aR<bx[U].length;aR++)bx[U][aR]=bx[U][aR].trim()}}}var gs=gi.kC(new cn(0,0,P.e,P.n),8192*8192);
P.e=Math.round(P.e*gs);P.n=Math.round(P.n*gs);P.Z1=Math.round(72*gs);P.buffer=x.$(P.e*P.n*4);for(var U=0;
U<6;U++)u[U]*=gs;O=[0,0,0];b=[0,0,0];D="SoCo";for(var k7=0;k7<r.length;k7++){var fT=r[k7];fT.Raster=M(fT,"Raster");
fT.Place=M(fT,"Place");var aH=V(B,fT);o(P,aH,u,S,fT,B)}if(J)console.log("layers created",Date.now()-Y);
Y=Date.now()}function M(h,P){var J=h.Layer,Y=h[P];if(Y==null)Y=[];if(J){for(var U=0;U<J.length;U++){var B=J[U],S=B[P]=M(B,P);
Y=Y.concat(S)}Y.sort(function(r,I){return r._begin-I._begin})}return Y}var O,b,D;function o(h,P,J,Y,B,S){var r="",I=0,f="",s=!1,W={},i=UDOC.G,u=UDOC.getState(),z="norm",G=1,g_=!1,cl=0,b2=null,jz=!1,aT=0,fZ=null,ft,cc,kr=0,hG=0,hi=0,iQ=0,bx=!1;
u.ctm=J;var p=[],bU=[],ic=[];for(var aR=0;aR<P.length;aR++){var gs=P[aR],e7=1e9;if(gs[0]=="%"){if(gs=="%_/ArtDictionary :"&&aT==0)b2=[gs.slice(2)];
else if(b2!=null){if(gs=="%_"&&aT==0){var k7=C(b2)[0],fT=k7.AI10_ArtUID;if(fT&&!fT.startsWith("XMLID"))h.B[h.B.length-1].EJ(m(fT));
b2=null}else{b2.push(gs.slice(jz?1:2));if(gs=="%_X=")aT++;if(gs=="%_X+")aT--;if(gs=="%_/Binary : /ASCII85Decode ,")jz=!0;
if(jz&&gs.endsWith("~>"))jz=!1}}else if(fZ){ft+=(ft==""?"":" ")+gs.slice(2);if(ft.endsWith("X#")){fZ.push(ft.slice(0,ft.length-3));
ft=""}}continue}else if(gs=="/Mesh X!"){fZ=[];ft="";continue}else if(gs=="/End X!"){Z(fZ,u,h);fZ=null;
continue}var aH="Xa XR m l c f U u *U w J j M d".split(" "),dB=-1,ia=gs.indexOf("(")!=-1;for(var U=0;
U<aH.length;U++){var d7=gs.indexOf(" "+aH[U]+" ");if(d7!=-1&&d7<e7&&!ia){e7=d7;dB=U}}if(dB!=-1){s=!0;
var hf=e7+1+aH[dB].length;P[aR]=gs.slice(0,hf);var gv=P[aR+1];if(gv==null||gv[0]=="%"||dB>9)P.splice(aR+1,0,gs.slice(hf));
else P[aR+1]=(gs.slice(hf)+" "+gv).replace(/\s\s+/g," ");aR--;continue}gs=gs.trim();var hN=gs.split(" "),hP=hN[hN.length-1],gP=hP.toLowerCase(),aB=hN.map(parseFloat);
if(hP=="m")i.moveTo(u,aB[0],aB[1]);else if(hP=="L"||hP=="l")i.lineTo(u,aB[0],aB[1]);else if(hP=="V"||hP=="v"||hP=="Y"||hP=="y")i.quadCurveTo(u,aB[0],aB[1],aB[2],aB[3]);
else if(hP=="C"||hP=="c")i.curveTo(u,aB[0],aB[1],aB[2],aB[3],aB[4],aB[5]);else if(hP=="H"||hP=="h"){if(hP==gP)i.closePath(u);
p.push(JSON.parse(JSON.stringify(u.pth)))}else if(hP=="Xy"){z=["norm","mul ","scrn","over","sLit",null,"div "][aB[0]];
G=aB[1];if(z==null){z="norm";console.log("unknown blend mode",aB[0])}}else if(hP=="Xd"){var i7=h.B[h.B.length-1];
i7.opacity=Math.round(255*G);i7.eI=i7._N()&&z=="norm"?"pass":z}else if(hP=="AE")kr=aB[0];else if(hP=="Ae")hG=aB[0];
else if(hP=="Xw")hi=aB[0];else if(hP=="*"){var dI=u.pth.crds,gh=u.ctm,d7=dI[0]==dI[2]?0:1;h.lX.push([d7,dI[d7]]);
i.newPath(u)}else if(hP=="XN")cc=gs.split(" ")[0];else if(hP=="XI"){var b9=B.Raster,ij,ax;if(b9==null||b9.length==0){console.log("no Raster");
continue}if(gs!="XI"){continue}else{var iX=b9[I++].Data,am=iX._begin,jf=iX._end;while(S[am]!=88)am++;
am+=3;ij=S.slice(am,jf);ax=P[aR-2].split(" ").map(parseFloat)}var eJ=ax.slice(8),hZ=eJ[2],hC=eJ[3],ds=hZ*hC,hV=x.$(ds*4);
hV.fill(255);var bv=eJ[7],hl=eJ[8],jQ=eJ[6],a$=Math.ceil(hZ*bv*jQ/8);if(bv==1){if(jQ==8)for(var U=0;
U<ds;U++)for(var jB=0;jB<3;jB++)hV[4*U+jB]=ij[U];else if(jQ==1)for(var jL=0;jL<hC;jL++)for(var c1=0;
c1<hZ;c1++)for(var jB=0;jB<3;jB++)hV[4*(jL*hZ+c1)+jB]=255*(ij[jL*a$+(c1>>>3)]>>>7-(c1&7)&1);else throw jQ}else if(bv==3)for(var U=0;
U<ds;U++)for(var jB=0;jB<3;jB++)hV[4*U+jB]=ij[3*U+jB];else if(bv==4||bv==5)for(var U=0;U<ds;U++){var fd=l([ij[bv*U+0]/255,ij[bv*U+1]/255,ij[bv*U+2]/255,ij[bv*U+3]/255]);
hV[4*U+0]=fd[0]*255;hV[4*U+1]=fd[1]*255;hV[4*U+2]=fd[2]*255}else if(bv==7)for(var U=0;U<ds;U++){hV[4*U+0]=ij[bv*U+0];
hV[4*U+1]=ij[bv*U+1];hV[4*U+2]=ij[bv*U+2]}else console.log("unknown number of channels",bv);if(hl==1){var g2=hC*a$;
for(var U=0;U<ds;U++)hV[4*U+3]=ij[g2+U]}var ed=x.$Z(hV,hZ,hC)?"JPG":"PNG";if(hZ*hC<700*700)ed="PNG";
var ip=ce.ti(ed).WV([[hV.buffer]],hZ,hC),bS=h.Xu(new Uint8Array(ip),"<Image>",0,0);h.B.push(bS);bS.eI=z;
bS.opacity=Math.round(255*G);bS.ah(hi==0);var J=new f$;J.scale(1,-1);J.concat(c(ax.slice(1)));J.concat(c(u.ctm));
var hg=bS.rect.clone();hg.x=hg.y=0;var hN=x.p.zl(hg).C;x.p.F(hN,J,hN);bS.add.SoLd.Trnf=y.u.KT(hN);bS.add.SoLd.nonAffineTransform=y.u.KT(hN);
bS.Gf(h,!1)}else if(hP=="Ln"){r=k(gs)}else if(hP=="u"||hP=="q"||hP=="Lb"){bU.push(hG==1);ic.push((hP=="Lb"?1-aB[0]:hi)==0);
if(g_)continue;h.B.push(h.iB())}else if(hP=="U"||hP=="Q"||hP=="LB"){if(bU.length==0||ic.length==0)throw aR;
var dZ=bU.pop(),cA=ic.pop();if(hP=="LB")dZ=kr==1;if(g_)continue;var bS=h.uV();bS.EJ((hP=="U"?"<Group>":"<Clip Group>")+f);
if(hP=="LB")bS.EJ(r);if(hP=="Q"&&p.length!=0){var j$=p.pop(),iK=UDOC.G.isBox(j$,[0,0,h.e,h.n]);if(!iK)q(bS,j$,h)}bS.add.lsct=dZ?ht.cx:ht.xe;
bS.eI="pass";bS.N7=24;bS.ah(cA);h.B.push(bS);if(bx){if(h.B[h.B.length-3].getName()=="</Layer group>"){h.B.pop();
h.B.splice(h.B.length-2,1)}bx=!1}}else if(hP=="Bb"||hP=="Bh"||hP=="BB"){}else if(hP=="Bg"){var hJ=Y.Setup.Gradient,ag=hJ[k(gs)];
if(ag==null){console.log("gradient not found");for(var ii in hJ){ag=hJ[ii];break}}D="GdFl";O=$(ag.kB,ag.aqP)}else if(hP=="Bm"||hP=="Xm"){var hr=O.Type.v.GrdT;
if(hr=="Lnr"&&hP!="Xm"||hr=="Rdl"&&hP!="Bm")continue;var dN=new at(0,0),dm=new at(1,0),j_=new f$;j_.concat(c(aB));
j_.concat(c(u.ctm));dN=j_.xU(dN);dm=j_.xU(dm);var ae=x.p.qe(u.pth.crds);if(ae.S9())ae=x.p.qe([dN.x,dN.y,dm.x,dm.y]);
if(hr=="Lnr"){dN.x=(dN.x+dm.x)/2;dN.y=(dN.y+dm.y)/2}x.M.LE(dN,dm,ae,O)}else if(hP=="p"){var c6=k(gs),cg=Y.Setup.Pattern[c6];
if(cg.raw==null){var ae=cg.Gh,hZ=Math.round(ae[2]-ae[0]),hC=Math.round(ae[3]-ae[1]),k7=new fO;k7.e=hZ;
k7.n=hC;k7.buffer=x.$(hZ*hC*4);o(k7,cg.XY,[1,0,0,-1,-cg.Gh[0],hC+cg.Gh[1]],Y,B,S);cg.raw=new Uint8Array(ce.ti("PSD").WV(k7))}var ei=gs.slice(gs.indexOf(")")+2),a5=ei.slice(0,ei.indexOf("[")-1).split(" ").map(parseFloat),gy=ei.slice(ei.indexOf("[")+1,ei.indexOf("]")).split(" ").map(parseFloat);
D="patt";O=[c6,a5,gy]}else if(hP=="J"||hP=="j"||hP=="w"||hP=="M"||hP=="d"){for(var U=1;U<hN.length;U++){var bL=hN[U],gf=aB[U-1];
if(bL=="w")u.lwidth=gf;if(bL=="j")u.ljoin=gf;if(bL=="J")u.lcap=gf;if(bL=="d"){var fx=gs.slice(gs.indexOf("[")+1,gs.indexOf("]")).trim();
if(fx.length!=0){var dH=fx.split(" ").map(parseFloat);u.dash=dH}else if(fx=="")u.dash=[]}}}else if(gP=="xa"||gP=="xx"){var fz=aB[4]==null?aB.slice(0,3):[aB[4],aB[5],aB[6]];
if(gP=="xx"&&aB[aB.length-2]==2)fz=l(aB);D="SoCo";if(hP=="Xa"||hP=="Xx")O=fz;else b=fz}else if(gP=="xk"){var fz,ke=aB[aB.length-2],gH=aB[aB.length-3];
if(ke==0)fz=l(aB);else if(ke==1){fz=[aB[4],aB[5],aB[6]];for(var U=0;U<3;U++)fz[U]=gH*1+(1-gH)*fz[U]}else throw gs;
D="SoCo";if(hP=="Xk")O=fz;else b=fz}else if(gP=="k"||gP=="x"){if(gP=="x"){aB.pop();var iF=1-aB.pop();
for(var U=0;U<4;U++)aB[U]*=iF}var fz=l(aB);D="SoCo";if(hP==gP)O=fz;else b=fz}else if(gP=="g"){var fz=[aB[0],aB[0],aB[0]];
D="SoCo";if(hP==gP)O=fz;else b=fz}else if(gP=="n"){if(!g_)i.newPath(u)}else if(hP=="*u"){g_=!0;cl=0}else if(hP=="*U"||gP=="s"||gP=="f"||gP=="b"){if(hP!="*U"&&g_){if(gP=="f"||gP=="b")cl|=1;
if(gP=="s"||gP=="b")cl|=2;continue}if(hP==gP)i.closePath(u);if(hP=="*U"){g_=!1}var bS;if(D=="patt"){var cg=Y.Setup.Pattern[O[0]];
bS=h.Xu(cg.raw,"<Pattern>",0,0);var hg=bS.rect.clone();hg.x=hg.y=0;var hN=x.p.zl(hg).C,gy=c(O[2]);gy.hE=gy.Qw=0;
x.p.F(hN,gy,hN);bS.add.SoLd.Trnf=y.u.KT(hN);bS.add.SoLd.nonAffineTransform=y.u.KT(hN);bS.Gf(h,!1)}else{bS=h.uV();
bS.N7|=16;var g0=bS.add.vstk=JSON.parse(JSON.stringify(aN.d_.default));g0.strokeEnabled.v=g0.fillEnabled.v=!1;
if(D=="SoCo"){bS.add.SoCo=JSON.parse(aN.hx[aN.order.indexOf("SoFi")]);var jJ=bS.add.SoCo.Clr.v;E(jJ,O)}if(D=="GdFl")bS.add.GdFl=O;
if(gP=="f"||gP=="b"||hP=="*U"&&cl&1)g0.fillEnabled.v=!0;if(gP=="s"||gP=="b"||hP=="*U"&&cl&2)aJ.b_(g0,u,1,aJ.nl(b))}bS.EJ("<"+(hP=="*U"?"Compound ":"")+"Path>"+f);
bS.eI=z;bS.opacity=Math.round(255*G);bS.ah(hi==0);q(bS,u.pth,h);h.B.push(bS);i.newPath(u)}else if(hP==","&&hN[0]=="/XMLUID"){var i7=h.B[h.B.length-1];
for(var U=0;U<h.cU.length;U++)if("("+h.cU[U].docRef+")"==hN[2])h.cU[U].docRef="id('"+i7.add.lyid+"')"}else if(hP==","&&hN[1]=="/FreeUndo"){iQ=aB[0]}else if(hP==","&&hN[1]=="/StoryIndex"){var iG=Y.Setup.TextDocument,df=null;
if(!(iG instanceof Array))iG=Y.Setup.TextDocument=L(iG,S);var j2=iG[0],gE=iG[2];if(j2._DocumentResources)j2=iG[0]=eN.amS(j2);
else eN.ad1(j2);var bS=h.uV();bS.add.lnsr="rend";bS.add.TySh=ah.Wm(0,0);var fi=aB[0];if(iQ==1){for(var U=1;
U<60;U++){var gv=P[aR+U];if(gv.endsWith("/StoryIndex ,")){fi=parseFloat(gv.slice(2,gv.indexOf(" ")));
bx=!0;break}}iQ=0}var cJ=bO.a9a(j2),eh=bS.add.TySh.GM=cJ[fi];if(eh==null){console.log("text not found");
bx=!1;continue}bS.EJ(ah.mb(eh).slice(0,50));bS.eI=z;bS.opacity=Math.round(255*G);bS.ah(hi==0);var iF=j2._1._1[fi]._1._0[0]._0;
iF=parseInt(iF.slice(1));var jd=j2._0._8._0,cI=jd[iF]._0;if(cI._0)df=t(cI._0);else if(cI._1)df=t(cI._1._0);
else df=t(cI._2._2).slice(3);if(df.length!=2){var ae=x.p.qe(df);df=[ae.x,ae.y];if(ae.v()!=0){ah.EC(eh,1);
ah.h4(eh,[0,0,Math.round(ae.e),Math.round(ae.n)])}}var iv=new f$,bV=new f$(1,0,0,1,df[0],df[1]),hm=new f$(1,0,0,1,-gE[0],-gE[1]),kn=c(u.ctm),f4=new f$;
if(cI._2&&cI._2._2){var J=t(cI._2._2);f4=new f$(J[0],J[1],J[2],J[3],J[4],J[5])}iv.concat(bV);iv.concat(f4);
iv.concat(hm);iv.scale(1,-1);iv.concat(kn);bS.add.TySh.F=iv;h.B.push(bS);h.Tb=!0}else if(hP=="Tp"){W.S3=c(aB)}else if(hP=="Tf"){W.font=hN[0].slice(2)}else if(hP=="Tk"){var bS=h.uV();
bS.add.lnsr="rend";var hM=bS.add.TySh=ah.Wm(0,0),eh=hM.GM,j_=W.S3.clone(),aC=j_.gy();j_.concat(c(u.ctm));
var gJ=new f$(1/aC,0,0,-1/aC,0,0);gJ.concat(j_);hM.F=gJ;var iJ=k(gs);bS.EJ(iJ);ah.nD(eh,0,iJ);var bA=ah._J(eh,0,iJ.length);
bA.Qc.FontSize=aC;bA.Qc.FillColor={Type:1,Values:[1,O[0],O[1],O[2]]};ah.Lh(bA,W.font);ah.j_(eh,0,iJ.length,bA);
h.B.push(bS);h.Tb=!0}else if(s&&aB.length>3){var k4=!1;for(var U=0;U<aB.length;U++)if(isNaN(aB[U]))k4=!0;
if(!k4)P[aR+1]=(gs+" "+P[aR+1]).replace(/\s\s+/g," ")}}}function Z(h,P,J){var Y=UDOC.G,B=[],S=[],r="/DeviceGray",I=1,f=[],s=1;
for(var W=0;W<h.length;W++){var i=h[W];if(i.endsWith(" /CS")){var u=i.indexOf("/NChannel"),z=i.indexOf("/Process");
if(i.startsWith("/DeviceRGB")){r="/DeviceRGB";I=3}else if(i.startsWith("/DeviceGray")){r="/DeviceGray";
I=1}else if(i.startsWith("/DeviceCMYK")){r="/DeviceCMYK";I=4;f=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]}else if(u!=-1){r="/DeviceCMYK";
I=parseInt(i.slice(u-2,u-1));var G=1;for(var U=0;U<I;U++){G=i.indexOf("[",G);f[I-1-U]=i.slice(G+1,G+8).split(" ").map(parseFloat);
G++}}else if(z){r="/DeviceGray";I=1}else throw i}else if(i[0]=="["){var g_=i.indexOf("]"),cl=i.slice(1,g_).split(" ").map(parseFloat),p=i.slice(g_+2),b2,jz,aT,fZ,ft,cc;
if(p=="/Size"||p=="/P"||p=="/R")continue;if(p=="/S"||p=="/A"){b2=cl[0];jz=cl[1];aT=cl[2];fZ=cl[3];ft=cl[4];
cc=cl[5]}else if(p=="/N"){var kr=I+(s==1?0:1),hG;b2=cl[kr+0];jz=cl[kr+1];aT=cl[kr+2];fZ=cl[kr+3];ft=cl[kr+5];
cc=cl[kr+6];if(r=="/DeviceRGB")hG=cl.slice(0,3);else if(r=="/DeviceGray")hG=[cl[0],cl[0],cl[0]];else if(r=="/DeviceCMYK"){var hi=[0,0,0,0];
for(var U=0;U<I;U++){var bU=cl[U],ic=f[U];hi[0]+=bU*ic[0];hi[1]+=bU*ic[1];hi[2]+=bU*ic[2];hi[3]+=bU*ic[3]}hG=l(hi)}else throw hG;
hG.push(cl[I]);S.push([hG,b2,jz])}else throw p;B.push([p,ft,cc,b2,jz,aT,fZ])}else if(i=="/E"){var iQ=B.slice(0),bx=0;
for(var U=0;U<B.length;U++){var aR=B[U][0];if(aR=="/N"){bx++;continue}var gs=U,k7=U+1;while(B[k7][0]!="/N"&&k7<B.length)k7++;
if(bx==0||bx==3){for(var fT=0;fT<k7-gs;fT++)iQ[gs+fT]=B[k7-1-fT]}else for(var fT=gs;fT<k7;fT++){var aH=iQ[fT],e7=aH[1];
aH[1]=aH[5];aH[5]=e7;e7=aH[2];aH[2]=aH[6];aH[6]=e7}U=k7-1}B=[];for(var U=0;U<iQ.length;U++){var aH=iQ[U];
B.push(aH[1],aH[2],aH[3],aH[4],aH[5],aH[6])}var dB=B.length;Y.moveTo(P,B[2],B[3]);for(var U=0;U<dB;U+=6){var aT=B[(U+4)%dB],fZ=B[(U+5)%dB],ft=B[(U+6)%dB],cc=B[(U+7)%dB],b2=B[(U+8)%dB],jz=B[(U+9)%dB];
Y.curveTo(P,aT,fZ,ft,cc,b2,jz)}Y.closePath(P);B=[]}else if(i.endsWith("/Version"))s=parseFloat(i[0])}var ia=J.uV();
ia.N7|=16;ia.EJ("<Mesh>");var d7=ia.add.vstk=JSON.parse(JSON.stringify(aN.d_.default));d7.strokeEnabled.v=!1;
if(S.length>=2){var hf=0,gv=0,hN=0;for(var U=0;U<S.length;U++)for(var fT=U+1;fT<S.length;fT++){var hP=S[U][0],gP=S[fT][0],aB=hP[0]-gP[0],i7=hP[1]-gP[1],dI=hP[2]-gP[2],gh=Math.sqrt(aB*aB+i7*i7+dI*dI);
if(gh>hN){hN=gh;hf=U;gv=fT}}var b9=S[hf],ij=S[gv],ax=ia.add.GdFl=$(0,[[0,b9[0]],[1,ij[0]]]),iX=c(P.ctm),am=iX.xU(new at(b9[1],b9[2])),jf=iX.xU(new at(ij[1],ij[2])),eJ=x.p.qe(P.pth.crds);
am.x=(am.x+jf.x)/2;am.y=(am.y+jf.y)/2;x.M.LE(am,jf,eJ,ax)}q(ia,P.pth,J);J.B.push(ia);Y.newPath(P)}function $(h,P){var O=JSON.parse(aN.hx[aN.order.indexOf("GrFl")]),J=O.Grad.v;
J.Intr.v=0;O.Type.v.GrdT=["Lnr","Rdl"][h];x.M.Ty(P,J);return O}function k(h){var P=h.indexOf(")");while(h[P-1]=="\\")P=h.indexOf(")",P+1);
return h.slice(h.indexOf("(")+1,P).replaceAll("\\","")}function E(h,O){h.Rd.v=O[0]*255;h.Grn.v=O[1]*255;
h.Bl.v=O[2]*255}function t(h){var P=[];for(var U=0;U<h.length;U++)P[U]=parseFloat(h[U].slice(1));return P}function c(h){return new f$(h[0],h[1],h[2],h[3],h[4],h[5])}function l(h){return UDOC.C.cmykToRgb(h)}function q(h,P,J){h.add.vmsk=new Q.G6;
if(P.crds.length!=0)h.add.vmsk.j=d(P);h.De();h.h1(J)}function d(h){var P={C:h.crds,H:h.cmds},J=x.p.aG(P,!1);
return J}function V(h,P){var J=[],s=0,z=0;for(var Y=0;Y<2;Y++){var B=P[["Raster","Place"][Y]];if(B){for(var U=0;
U<B.length;U++){var S=B[U][["Data","PlacedObjectPreview"][Y]];if(S==null)continue;var r=S._begin,I=S._end;
if(r>I)r=I;J.push([r,I])}}}J.sort(function(g_,cl){return g_[0]-cl[0]});var f=[P._begin];for(var U=0;
U<J.length;U++){var W=J[U],r=W[0]+32;f.push(r,W[1]);s+=W[1]-r}f.push(P._end);var i=P._end-P._begin,u=new Uint8Array(i-s);
for(var U=0;U<f.length;U+=2){var r=f[U],G=f[U+1]-r;u.set(new Uint8Array(h.buffer,r,G),z);z+=G}return n.AL(u).split(/\r\n|\r|\n/)}function L(h,P){if(h==null)return[];
var J=V(P,h),Y="",B="",S=0,r;for(var U=2;U<J.length;U++){var I=J[U];if(I[0]=="%"){if(S==0)Y+=I.slice(1);
else B+=I.slice(1)}else if(I==";")S++;else if(I.endsWith("/RulerOrigin ,"))r=I.split(" ").slice(0,2).map(parseFloat)}var f=[Y,B],s=[];
for(var U=0;U<2;U++){var W=f[U],i=new Uint8Array(W.length);n.X8(i,0,W);var u=FromPS.F.ASCII85Decode({buff:i,off:0}),z=dE.TC(u);
s.push(z)}s.push(r);return s}function e(h,P){if(h==null)return[];var J=V(P,h);J=J.slice(1);for(var U=0;
U<J.length;U++){var Y=J[U];if(Y[0]=="%")J[U]=Y.slice(Y[1]=="_"?2:1)}var B=C(J);return B}function H(h,P){var J={};
if(h==null)return J;for(var U=0;U<h.length;U++){var Y=V(P,h[U]),B=Y[1],S=k(B),r=B.slice(B.indexOf(")")+2).split(" ").map(parseFloat),I=[];
for(var f=2;f<Y.length;f++)I.push(Y[f].slice(2));J[S]={Gh:r,XY:I}}return J}function j(h,P){var J={},Y,B;
if(h==null)return J;var S=[];for(var U=0;U<h.length;U++){var r=V(P,h[U]);for(var I=0;I<r.length;I++){var f=r[I];
if(f.endsWith("%_Bs")){var s=f.slice(0,f.length-4);if(!s.endsWith(" "))s+=" ";f=s+"%_BS"}if(f[0]=="("){Y=k(f);
var W=f.split(")"),i=W[1].split(" ");B=parseInt(i[1])}else if(f.endsWith("%_BS")){var W=f.split(" "),g_,cl=1;
W.pop();W=W.map(parseFloat);var u=W.pop(),z=W.pop(),G=W.pop();if(G==0)g_=[W[0],W[0],W[0]];else if(G==2||G==4)g_=[W[4],W[5],W[6]];
else if(G==1||G==3)g_=l(W);else if(G==6){if(W.length==3)g_=[W[0],W[0],W[0]];else g_=l(W);cl=W.pop()}else{throw G}S.push([u/100,g_,cl,z/100])}else if(f=="BD"){for(var p=0;
p<S.length-1;p++)S[p][3]=S[p+1][3];S.sort(function(b2,jz){return b2[0]-jz[0]});J[Y]={kB:B,aqP:S};S=[]}}}return J}function g(h){var P="Gradient PluginObject Symbol Pattern PatternLayer BrushPattern Encoding Raster Layer Resource Place Rider".split(" "),J=Date.now(),Y=0,B=[],S={Header:{}},r=[S],I=h.length;
while(Y<I){var f=Y;while(f!=I&&h[f]!=13&&h[f]!=10){f++}if(h[Y]==37&&h[Y+1]==95&&h[Y+2]==37)Y+=2;if(h[Y]==37&&(h[Y+1]==37||h[Y+1]==65)){var s=n.TP(h,Y,f-Y);
if(s=="%%EOF")break;if(s=="%%EndComments"||s=="%EndComments"||s=="%AI5_Begin_NonPrinting"||s=="%AI5_End_NonPrinting--"||s.startsWith("%AI17_Begin_Content_if_version_gt")||s=="%AI17_End_Versioned_Content"){}else{var W=s.indexOf("Begin"),i=Math.max(s.indexOf("_End"),s.indexOf("%End"));
if(W!=-1&&s[W-1]!="%"&&s[W-1]!="_")W=-1;if(W!=-1){var u=s.slice(W+5).split(":")[0],z={_begin:Y,_end:Y},G=r[r.length-1];
if(P.indexOf(u)!=-1){if(G[u]==null)G[u]=[];G[u].push(z)}else{if(G[u]!=null){console.log(r);throw s}G[u]=z}r.push(z);
if(s.startsWith("%%BeginData")){f=n.Ya(h,"%%EndData",Y)}else if(s=="%AI9_BeginDocumentData")f=n.Ya(h,"%AI9_EndDocumentData",f);
else if(s=="%AI11_BeginTextDocument")f=n.Ya(h,"%AI11_EndTextDocument",f)}else if(i!=-1){r.pop()._end=Y}else if(r.length==1&&(s.startsWith("%AI")||s.startsWith("%%")&&s.indexOf(" ")!=-1)){var g_=1;
if(s.startsWith("%AI"))while(s[g_]!="_"&&g_<s.length)g_++;var cl=s.indexOf(":");if(cl==-1)cl=s.indexOf(" ");
var p=s.slice(g_+1,cl),b2=s.slice(cl+1).trim();S.Header[p]=b2}}}Y=f;if(h[Y]==13)Y++;if(h[Y]==10)Y++}return S}function K(h,P){var J=Date.now(),Y=new Uint8Array(h),B,S=Y[2]==68;
if(P)console.log(!S?"EPS":"PDF");if(S){var r=n.Ya(Y,"/AIMetaData "),fZ=!1,ft=!1;while(Y[r]!=60)r--;r--;
var I=n.Ya(Y,">>",r),f=n.TP(Y,r+2,I-r-2).split("/"),s=[];for(var U=0;U<f.length;U++){var W=f[U],i=W.startsWith("AIPrivateData"),u=W.startsWith("AIPDFPrivateData");
if(!i&&!u)continue;var z=W.trim().split(/\s+/),G=parseInt(z[1]),g_=parseInt(z[0].slice(i?13:16));s.push([g_,G])}if(P)console.log("--- map made",Date.now()-J);
J=Date.now();var cl=FromPDF.indexOfXref(Y),p=[],b2=FromPDF.readXrefTrail(Y,cl,p),jz={buff:Y,off:0},aT=new Array(s.length),cc=r;
for(var U=0;U<s.length;U++){var g_=s[U][0],G=s[U][1],kr=FromPDF.getIndirect(G,0,jz,p),hG=kr.buff,hi=kr["/Filter"],bU=0;
if(hi!=null&&typeof hi=="string")hi=[hi];var ic=n.TP(hG,bU,bU+20);if(ic=="%AI12_CompressedData"){bU+=20;
fZ=!0}else if(ic=="%AI24_ZStandard_Data"){bU+=20;ft=!0}hG=new Uint8Array(hG.buffer,hG.byteOffset+bU,hG.length-bU);
if(hi)for(var iQ=0;iQ<hi.length;iQ++){var bx=hi[iQ];if(bx=="/FlateDecode")hG=pako.inflate(hG);else if(bx=="/ASCIIHexDecode")hG=FromPS.F.HexDecode({buff:hG,off:0});
else if(bx=="/ASCII85Decode")hG=FromPS.F.ASCII85Decode({buff:hG,off:0});else throw bx}aT[g_-1]=hG}if(P)console.log("--- arrays found",Date.now()-J);
J=Date.now();var aR=n.TP(aT[0],0,13);if(aR=="%%BoundingBox"||aR=="%AI7_Thumbnai")aT=aT.slice(1);if(aR=="%AI24_ZStanda"){aT[0]=aT[0].slice(20);
ft=!0}if(n.TP(aT[0],0,13)=="%AI12_Compres"){aT[0]=aT[0].slice(20);fZ=!0}B=a(aT);if(P)console.log("--- concatenated",Date.now()-J);
J=Date.now();if(fZ)B=UZIP.inflate(B);if(ft)B=ce.C8.RO(B);if(P)console.log("--- inflated",Date.now()-J);
J=Date.now()}else{var gs=n.AL(Y);if(gs.indexOf("%AI5_BeginLayer")!=-1){B=Y}else{var k7=gs.split(/[\n\r]+/),fT=[],aH=!1;
for(var e7=0;e7<k7.length;e7++){var dB=k7[e7].trim();if(dB=="%AI9_PrivateDataEnd"){aH=!1;break}else if(dB=="%AI9_DataStream"||dB=="%AI24_DataStream"){aH=!0}else if(aH)fT.push(dB.slice(1))}var ia=n.qs(fT.join("")),d7=FromPS.F.ASCII85Decode({buff:ia,off:0});
if(d7[0]==120&&d7[1]==156)B=UZIP.inflate(d7);else B=ce.C8.RO(d7)}}return B}function a(h){var P=0,Y=0;
for(var U=0;U<h.length;U++)P+=h[U].length;var J=new Uint8Array(P);for(var U=0;U<h.length;U++){var B=h[U];
J.set(B,Y);Y+=B.length}return J}function T(h,P){for(var U=0;U<P.length;U++)if(h.startsWith(P[U]))return!0;
return!1}function C(h){var P=[],J=[],top=-1,Y,B=null,S=null,r=0;for(var I=0;I<h.length;I++){var f=h[I];
if(Y){f=Y+f;Y=null}var s="\t".repeat(P.length);if(B!=null){B.push(f);if(f.endsWith("~>")){var W=n.qs(B.join("")),i=FromPS.F.ASCII85Decode({off:0,buff:W});
P.push(i);J.push(!1);top++;B=null}}else if(S!=null){if(f=="X+"){if(r==1){P.push(S);J.push(!1);top++;
S=null}else r--}else if(f=="X=")r++;else S.push(f)}else if(f=="/Binary : /ASCII85Decode ,"){B=[]}else if(f=="X="){S=[];
r++}else if(f=="/SVGFilter :"||f=="; /Def ;")continue;else if(f.startsWith("/XMLUIDREF :")){var u=F(f);
P[top][u[4]]=u[2]}else if(f.startsWith("/")&&f[1].toUpperCase()!=f[1].toLowerCase()){if(f.startsWith("/XMLUID")){var u=F(f);
if(J[top])throw"e";P[top][u[4]]=u[2]}if(f.startsWith("/GObjRef")){var u=F(f);if(u.length==7){if(J[top])throw"e";
P[top][u[5]]=u[2]}else{if(!J[top])throw"e";P[top].push(u[2])}}else{var z=f.startsWith("/Array")||f.startsWith("/Document");
P.push(z?[]:{});J.push(z);top++}}else if(f.endsWith(",")){var G,g_,u=F(f);u.pop();if(u[0]==";"||u.length==1){g_=P.pop();
J.pop();top--;G=J[top]?null:u.pop()}else{G=J[top]?null:u.pop();var cl=u.pop(),p=u[0];if(cl=="/Int")g_=parseInt(p);
else if(cl=="/Real")g_=parseFloat(p);else if(cl=="/Bool")g_=p=="1";else if(cl=="/String"||cl=="/UnicodeString")g_=u.join("");
else if(cl=="/RealMatrix"||cl=="/RealPoint"||cl=="/RealPointRelToROrigin")g_=u.map(parseFloat);else throw cl}if(J[top])P[top].push(g_);
else P[top][G]=g_}else if(f==";"){}else if(f==""){}else{if(f.indexOf("/RealPoint")!=-1){}else if(f.startsWith("(")&&f.endsWith(")")){}else if(f.endsWith("/RealMatrix")){}else throw f;
Y=Y?Y+f:f}}return P}function F(h){var P=0,J=[];while(P<h.length){var Y=h[P],B=Y.charCodeAt(0);if(Y==" ")P++;
else if(Y==","||Y==";"||Y==":"){J.push(Y);P++}else if(Y=="("){var S=P+1;while(!(h[S]==")"&&h[S-1]!="\\"))S++;
var r=h.slice(P+1,S);J.push(r);P=S+1}else if(Y=="/"||Y=="-"||48<=B&&B<=57){var S=P;while(h[S]!=" ")S++;
J.push(h.slice(P,S));P=S}else throw Y}return J}function m(h){var P="";for(var U=0;U<h.length;U++){if(h[U]=="_"&&h[U+1]=="x"){var aq=parseInt(h.slice(U+2,U+4),16);
P+=String.fromCharCode(aq);U+=4}else if(h[U]=="_")P+=" ";else P+=h[U]}return P}function N(h){var P="xmlnode-nodename",J="xmlnode-nodevalue",Y="xmlnode-attributes",B="xmlnode-children",S=h[P],r=h[Y],I=h[B],f={_nam:S};
for(var s in r){var W=r[s];if(Object.keys(W[Y]).length!=0||W[B].length!=0)throw"e";if(W[P]!=s)throw"e";
f[s]=W[J]}if(I.length==0)return f;var i=f.cln=[];for(var U=0;U<I.length;U++)i.push(N(I[U]));return f}function v(h){var P="xmlnode-nodename",J="xmlnode-nodevalue",Y="xmlnode-attributes",B="xmlnode-children",S=h[P].split(":").pop().replace("#",""),r=h[Y],I=h[B],f="<"+S;
for(var s in r)if(s!="xmlns"&&s!="xmlns:v")f+=" "+s.split(":").pop()+"=\""+r[s][J]+"\"";f+=">"+(I.length==0?"":"\n");
for(var U=0;U<I.length;U++)f+=v(I[U]);if(h[J])f+=h[J];return f+"</"+S+">\n"}return w}();function a0(){}a0.TC=function(){var w,M,O,b,D,e,H,j;
function o(Y){return n.kw(w,Y)}function Z(Y){return n.bw(w,Y)}function $(Y){return n.Yx(w,Y)}function k(Y){return n.Hx(w,Y)}function E(Y,B){var S=[];
for(var U=0;U<B;U++)S.push($(Y+U*4));return S}function t(Y,B){var S=[];for(var U=0;U<B;U++)S.push(o(Y+U*8));
return S}function c(Y){return $((Y+1)*4096-12)}function l(Y){return $((Y+1)*4096-8)}function q(Y,M,B,S){if(b[Y]==null)b[Y]=[];
b[Y].push([S,new Uint8Array(w.buffer,M,B)])}function d(Y,B,S,r){var I=O[Y],M=I*4096;M=M+$(M+4096-24-12-B*4);
var f=Z(M),s=w[M+2],W=w[M+3];if(B!=s)throw s;if(W==0)q(r,M+4,S,9);else{var i=Z(M+6),u=$(M+8);q(r,M+12,f-12,9);
d(u,i,S-(f-12),r)}}function V(){var Y=$(352),B=$(Y*4096+128),S=$(936);O=[];b={};D={};for(var U=0;U<1e9;
U++){var r=$(S*4096+128+U*4);if(r==0)break;var I=E(r*4096+128,4096-128-12>>>2);O=O.concat(I)}for(var f=0;
f<O.length;f++){var s=O[f],W=c(s);if(W!=6)continue;var M=s*4096,i=$(M);M+=4;for(var U=0;U<i;U++){var u=$(M);
M+=4;var z=$(M);M+=4;var G=$(M);M+=4;var g_=$(M);M+=4;if(u==0)D[z]=G;else{var cl=G&65535,p=G>>>16;if(p==0)q(z,g_*4096,cl,8);
else d(g_,p,cl,z)}}}var e={};for(var b2 in b){var jz=b[b2],aT=jz.length;if(aT==1)e[b2]=jz[0][1];else{var fZ=0,M=0;
for(var U=0;U<aT;U++)fZ+=jz[U][1].length;var ft=e[b2]=new Uint8Array(fZ);for(var U=0;U<aT;U++){ft.set(jz[U][1],M);
M+=jz[U][1].length}}}return e}function L(M,Y){var B=Y?$(M):Z(M),S="";M+=Y?4:2;while(S.length<B){var r=w[M++],I=w[M++],f=0,s="";
r+=(I&15)*256;I=I&240;for(var U=0;U<r;U++){if(I==64)f=w[M++];else if(I==128)f=w[M++]|w[M++]<<8;else throw I;
s+=String.fromCharCode(f)}S+=s}return[S,M]}function g(M,Y,B){var S=E(M,Y);for(var U=0;U<Y;U++){B.push(U);
if(S[U]>H)throw"e";S[U]=a(S[U],B);B.pop()}return S}var K={};function a(Y,B){if(j.indexOf(Y)!=-1)return e[Y];
if(Y==0)return null;if(e[Y]==null)return null;if(!(e[Y]instanceof Uint8Array))return e[Y];var S=w,M=0;
w=e[Y];j.push(Y);var r=D[Y].toString(16),I=e[Y]={_type:J[r]?J[r]+":"+r:"typ-"+r,_eid:Y};while(M+8<w.length){var f=$(M);
M+=4;var s=f.toString(16),W=$(M);M+=4;var i=M+W;if(M+W>w.length){I._bin=w;break}T(s,N,I,M,W,B);M=i}w=S;
j.pop();return I}function T(Y,B,S,M,r,I){var f=B[Y+":"+S._type];if(f==null)f=B[Y];I.push(f?f[0]==""?Y:f[0]:Y);
if(f){var s=f[0],W=null,i=f[1];if(s=="")s=i+"-"+Y;if(h[i]&&r!=h[i]){console.log(i);console.log(Y,f);
console.log(w.slice(M,M+r));throw"e"}if(i=="mat")W=t(M,6);else if(i=="mmat")W=[a($(M),I),t(M+6,6)];else if(i=="rect")W=t(M,4);
else if(i=="mrct"){W=t(M,4);W.push(Z(M+32))}else if(i=="doub")W=o(M);else if(i=="pointArr"){var u=Z(M);
W=E(M+2,u*2)}else if(i=="usrt")W=Z(M);else if(i=="uint")W=$(M);else if(i=="pntr"||i=="ptr6"){W=a($(M),I)}else if(i=="bool2"){if(Z(M)!=0&&Z(M)!=1)throw Z(M);
W=Z(M)==1}else if(i=="bool4"){if($(M)!=0&&$(M)!=1)throw Y+","+$(M);W=$(M)==1}else if(i=="color"){if(r!=38&&r!=30)throw r;
var z=$(M),G=Z(M+4);W=[z];for(var U=0;U<G;U++)W.push(o(M+6+U*8))}else if(i=="path"){var g_=M+r;W=[];
var cl=$(M);M+=4;for(var U=0;U<cl;U++){var p=[[]];W.push(p);var b2=$(M);M+=4;for(var jz=0;jz<b2;jz++){var z=$(M);
M+=4;if(z<2){p[0].push([z,o(M),o(M+8),o(M+16),o(M+24),o(M+32),o(M+40)]);M+=48}else if(z==2){p[0].push([z,o(M),o(M+8)]);
M+=16}else throw z}p.push(Z(M));M+=2}}else if(i=="ptrAndList"){var aT=$(M),fZ=$(M+4);W=g(M+8,fZ,I);W.unshift(a(aT,I))}else if(i=="ptrArray"||i=="ptrArrayX"){var ft=r>>2;
if(i=="ptrArray"){ft=$(M);M+=4;if(r!=4+ft*4)throw r}W=g(M,ft,I)}else if(i=="ptrArray2"){var ft=$(M);
M+=4;W=g(M,ft,I);M+=ft*4;ft=$(M);M+=4;W.push(g(M,ft,I))}else if(i=="cldrn"){var cc=$(M),kr=$(M+4),ft=$(M+8);
W={t:a(cc,I),yl:a(kr,I),s2:g(M+12,ft,I)};if(r!=12+ft*4){console.log(Y,sa);throw"e"}if(cc==0)throw cc}else if(i=="aprnc"){var ft=$(M);
M+=4;W={};for(var U=0;U<ft;U++){var hG=$(M),hi=Z(M+4),bU=Z(M+6);M+=8;var ic=P[hG.toString(16)];if(ic==null)ic="prm-"+hG.toString(16);
else ic=m(ic);W[ic]=[];for(var jz=0;jz<bU;jz++){var iQ=$(M),bx=Z(M+4),aR=null;M+=6;if(iQ==28264)aR=o(M);
else if(iQ==28263)aR=$(M);else if(iQ==279)aR=a($(M),I);else if(iQ==28261)aR=Z(M)==1;else if(iQ==28265)aR=[o(M),o(M+4)];
else if(iQ==83231)aR=L(M+3)[0];else if(iQ==28259||iQ==28260||iQ==23094||iQ==67679){aR=w.slice(M,M+bx)}else throw iQ.toString(16);
W[ic].push(aR);M+=bx}}}else if(i=="lopts"){W={a3c:Z(M+0)==1,show:Z(M+2)==1,avM:Z(M+4)==1,fh:$(M+10),name:L(M+21)[0]}}else if(i=="origin"){var g_=M+r;
if(w[M++]!=1)throw"e";var u=$(M);M+=4;var gs=n.TP(w,M,u);M+=u;if(w[M++]!=1)throw"e";var k7=w[M++];if(k7!=1&&k7!=53)throw k7;
var fT=Z(M);M+=2;if(fT!=0&&fT!=1)throw fT;var aH=$(M);M+=4;if(aH!=0&&aH!=1)throw aH;var e7=$(M);M+=4;
if(e7!=0&&e7!=2&&e7!=3)throw e7;var dB=$(M);M+=4;var ia=L(M,!0);M=ia[1];ia=ia[0];var d7=$(M),hf=$(M+4);
M+=8;var gv=$(M);M+=4;if(gv!=0)throw gv;var hN=$(M);M+=4;M+=3;var hP=L(M)[0];M+=2+2+hP.length;W={file:gs,id:ia,cq:hP}}else if(i=="string")W=L(M+3)[0];
else if(i=="relEnt"){var gP=Z(M);M+=2;W=[];for(var U=0;U<gP;U++)W.push([$(M+U*8),a($(M+U*8+4),I)])}else if(i=="textData"){var g_=M+r,aB=$(M);
M+=4;var hG=$(M);M+=4;var G=Z(M);M+=2;var i7=[];for(var U=0;U<G;U++){var dI=$(M);M+=4;if(aB==514)i7.push(L(M,!0)[0]);
else if(aB==515){var gh=$(M),Y=$(M+4),b9=C(M+8,I);i7.push([gh,a(Y,I),b9])}else if(aB==516){var gh=$(M),Y=$(M+4),ij=Z(M+8),b9=C(M+8,I);
i7.push([gh,a(Y,I),b9])}else i7.push(w.slice(M,M+dI));M+=dI}if(g_-M!=12)throw g_-M;W=i7}else if(i=="storyProps"){var ax=$(M);
if(Z(M+4)>1)throw"e";var iX=a($(M+6),I),G=$(M+10),am=a($(M+14+G*4),I);W={a1O:ax,a1B:iX,s2:g(M+14,G,I),akx:am,aeG:E(M+14+G*4+4,4)}}else if(i=="styleProps")W=C(M,I);
else if(i=="bounds"){var jf=M,gP=$(M);M+=4;W=[];for(var U=0;U<gP;U++){var eJ=[];W.push(eJ);for(var jz=0;
jz<4;jz++)eJ.push(o(M+jz*8));M+=32;eJ.push(w[M]);M++}if(M!=jf+r)throw"e"}else if(i=="columnPos"){var gP=$(M);
M+=4;W=[t(M,gP),o(M+gP*8)];M+=gP*8+8}else if(i=="StyleName"){W=[$(M+4)]}else if(i=="fontName"){var g_=M+r;
W=[Z(M)];M+=2;for(var U=0;U<2;U++){var gs=L(M+3);M=gs[1];W.push(gs[0])}W.push($(M));M+=4;var hZ=Z(M);
M+=2;W.push(hZ);var hC=Z(M);M+=2;var ds=[];W.push(ds);for(var hV=0;hV<hC;hV++){var bv=[];ds.push(bv);
var gs=L(M+3);M=gs[1];bv.push(gs[0]);var hl=Z(M);M+=2;var gs=n.TP(w,M,hl);M+=hl;bv.push(gs);for(var U=0;
U<3;U++){var gs=L(M+3);M=gs[1];bv.push(gs[0])}bv.push($(M));M+=4;var gs=L(M,!0);M=gs[1];bv.push(gs[0])}if(M+4!=g_)throw"e";
W.push($(M))}else throw i;if(S[s]!=null){console.log(s,S[s],W);console.log(I.slice(0));console.log(eid,Y,M,S[s],f,W);
throw"e"}S[s]=W}else{var jQ=w.slice(M,M+r);S["prop-"+Y]=jQ}I.pop()}function C(M,Y){var B=Z(M);M+=2;var S={};
for(var U=0;U<B;U++){var r=$(M);M+=4;var I=r.toString(16),f=Z(M);M+=2;var s=Z(M);M+=2;for(var W=0;W<s;
W++){var i=$(M);M+=4;var u=Z(M);M+=2;T(I,v,S,M,u,Y);M+=u}}return S}function F(Y){w=new Uint8Array(Y);
e=V();var B=e[2147483649];B=n.AL(B,4,B.length-4);delete e[2147483649];H=0;for(var S in e)H=Math.max(H,parseInt(S));
j=[];var r={};for(var S in e)r[S]=e[S];for(var S in e)a(parseInt(S),[]);return e}function m(Y){Y=Y.split(" ").join("");
return Y[0].toLowerCase()+Y.slice(1)}var N={"2d2":["","bool2"],"1623":["","bool2"],"2c32":["visible","bool2"],cd1f:["","bool2"],"1b8":["","bool4"],"2c2d":["locked","bool4"],"118":["","uint"],"119":["bitmap","uint"],"117":["","uint"],"117:Page:50f":["color","pntr"],"117:Fill:1f05":["parentFill","pntr"],"56c":["","uint"],bf31:["","uint"],ca58:["","uint"],cade:["","uint"],"313":["","pntr"],a6b:["trapPreset","pntr"],e02:["","pntr"],"170d":["bitmapFill","pntr"],"1b916":["","pntr"],"205":["columns","ptrAndList"],"220":["obj228","ptrAndList"],"2ab":["story","ptrArrayX"],"302":["layer","ptr6"],"21f":["rect","rect"],"27e":["","rect"],"2d6":["rect","rect"],"565":["rect","rect"],"5dd":["rect","rect"],"1633":["rect","rect"],"51a":["margins","mrct"],"151":["transform","mat"],"2de":["transform","mat"],"40d":["transform","mat"],"56e":["transform","mat"],"5cc":["transform","mat"],"140f":["mTransform","mmat"],"14527":["transform","mat"],"528":["columnPos","columnPos"],"261":["relEnt","relEnt"],"262":["textData","textData"],"15b":["children","cldrn"],"2c8":["children","cldrn"],"303":["children","cldrn"],"503":["children","cldrn"],"28dc":["children","cldrn"],"104e5":["children","cldrn"],"1b95a":["children","cldrn"],"1f01":["color","color"],"162b":["path","path"],"6e03":["appearance","aprnc"],"304":["lopts","lopts"],"2c10":["name","string"],"8c92":["origin","origin"],"3e05":["name","fontName"],"20f":["","ptrArrayX"],"210":["","ptrArrayX"],"211":["","ptrArrayX"],"222":["stories","ptrArray2"],"223":["stoProps","storyProps"],"23f":["styProps","styleProps"],"2c6b":["bounds","bounds"],"230":["name","StyleName"],"301":["layers","ptrArray"],"501":["spreads","ptrArray"],"4c01":["sections","ptrArray"],"1401":["masterSpreads","ptrArray"],a67:["","ptrArray"],"1f05":["colors","ptrArray"],"1f0c":["","ptrArray"],"1f60":["","ptrArray"],"1f61":["","ptrArray"],"288a":["","ptrArray"],"377c":["textFrames","ptrArray"],"3e06":["","ptrArray"],"1081d":["","ptrArray"]},v={"1b01":["fillColor","pntr"],"1b02":["fontStyle","string"],"1b03":["FontSize","doub"],"1b11":["FontCaps","usrt"],"1b16":["StartIndent","doub"],"1b17":["EndIndent","doub"],"1b18":["FirstLineIndent","doub"],"1b1b":["leading","doub"],"1b26":["SpaceBefore","doub"],"1b27":["SpaceAfter","doub"],"1b2a":["Underline","bool2"],"1b2b":["font","pntr"],"1b3c":["FontBaseline","usrt"],"1b3d":["Strikethrough","bool2"],"1b7e":["align","usrt"]},h={mmat:54,mat:48,mrct:34,rect:32,doub:8,ptr6:6,uint:4,pntr:4,bool4:4,bool2:2,usrt:2},P={"10816":"Object Opacity","10891":"Stroke Opacity","10892":"Stroke Blending Mode","10893":"Stroke Knockout Group","10894":"Stroke Isolate Blending","108d8":"Fill Opacity","108d9":"Fill Blending Mode","108da":"Fill Knockout Group","108db":"Fill Isolate Blending","10817":"Object Blending Mode","10818":"Object Knockout Group","10819":"Object Isolate Blending","6e64":"Stroke Swatch","6e65":"Stroke Weight","6e66":"Stroke Tint","6e6e":"Stroke Type","6e68":"Fill Swatch","6e69":"Fill Tint","6e6b":"Stroke Cap","6e6c":"Stroke Join","6e6d":"Stroke Mitre Limit","6e8c":"Stroke Align Stroke","6e71":"Stroke Start Arrrowhead","6e72":"Stroke End Arrrowhead","6e89":"Stroke Gap Color Swatch","6e8a":"Stroke Gap Tint","6e84":"Stroke Arrowhead Align","6e95":"Stroke Start Arrowhead Scale","6e96":"Stroke End Arrowhead Scale","6e8f":"Corner 1 Shape","6e6f":"Corner 2 Shape","6e90":"Corner 3 Shape","6e91":"Corner 4 Shape","6e70":"Corner 1 Size","6e92":"Corner 2 Size","6e93":"Corner 3 Size","6e94":"Corner 4 Size","1081a":"Object Drop Shadow","1081f":"Object Drop Shadow Blending Mode","10837":"Object Drop Shadow Color","10895":"Stroke Drop Shadow","10899":"Stroke Drop Shadow Blending Mode","1084d":"Object Inner Shadow","1084f":"Object Inner Shadow Blending Mode","1eb8f":"GradientFeatherSetting GradientStart","1eb8e":"GradientFeatherSetting Length","14534":"name"},J={e01:"Document","301":"RESpread","236":"REParStyle","302":"Layer","401":"Group","501":"Spread","50f":"Page","227":"Column","201":"Story","205":"Style","263":"TextFrame",a32:"Trapping","1f05":"Fill","3e03":"Font","6201":"Path",ca18:"StoryText"};
return F}();function fn(){}fn.TC=function(){var w=0;function M(E,t){var c=a0.TC(E),m=1;w=0;var l=c[1],q=l.spreads,d=[],V=new cn;
for(var L=0;L<q.length;L++){var e=q[L],H=e.children.s2,j=b(e),g=H[0].children.s2,K=new cn;for(var a=0;
a<g.length;a++){var T=g[a],C=b(T);C.concat(j);var F=O(T);F.offset(C.hE,C.Qw);F=x.p.Mf(F);K=K.MK(F)}d.push(K);
V=V.MK(K)}while(Math.sqrt(V.v())*m<1e3)m++;t.e=V.e*m;t.n=V.n*m;t.buffer=new Uint8Array(4*t.e*t.n);t.Tb=!0;
t.eN(q.length);for(var L=0;L<q.length;L++){var e=q[L],H=e.children.s2,N=t.uV();N.N7=24;N.add.lsct=ht.cx;
N.EJ("Artboard "+(L+1));var v=d[L].clone();v.offset(-V.x,-V.y);v.x*=m;v.y*=m;v.e*=m;v.n*=m;v=x.p.Mf(v);
N.Bo(v);N.eI="pass";t.B.push(t.iB());var j=b(e);j.translate(-V.x,-V.y);j.scale(m,m);var h={};for(var P=0;
P<H.length-1;P++){var J=H[P],Y=J.children.s2,B=t.uV(),S=J.layer.lopts;if(S.name=="Internal_pages_layer_name"||h[S.name])continue;
h[S.name]=!0;B.N7=24;B.add.lsct=ht.cx;B.EJ(S.name);B.ah(S.show);if(S.a3c)B.add.lspf=1<<31;B.eI="pass";
t.B.push(t.iB());for(var U=0;U<Y.length;U++)Z(Y[U],t,j,c);t.B.push(B)}t.B.push(N)}}function O(E){var t=E.rect;
return new cn(t[0],t[1],t[2]-t[0],t[3]-t[1])}function b(E){var t=E.transform;return new f$(t[0],t[1],t[2],t[3],t[4],t[5])}function D(E){var t=E.color,c=E.parentFill,q;
if(t==null&&c)t=c.color;if(t==null){console.log("strange color",E);return[0,0,0]}var l=t[0];if(l==5)q=t.slice(1);
else if(l==6)q=UDOC.C.cmykToRgb(t.slice(1));else if(l==7){var d=x.Bx(t[1],t[2],t[3]);q=[d.o/255,d.w/255,d.L/255]}else{console.log(t);
throw l}return q}function o(E,t){var U=0,c=0;while(c+E[U][0]<=t){c+=E[U][0];U++}E=E[U][1].textData;U=0;
while(c+E[U][0]<=t){c+=E[U][0];U++}return E[U]}function Z(E,t,c,l){var q=E.transform?b(E):new f$;q.concat(c);
c=q;var d=E.path,V=E.appearance,L=E.visible,e=E.children?E.children.s2:null,H=t.uV();if(L!=null)H.ah(L);
var j=e&&e.length==1&&e[0].bitmapFill,g=E["bool2-1623"]&&e&&e.length==1&&e[0].rect&&e[0]._type.startsWith("TextFrame");
if(j){H.EJ("bitmap");var K=e[0],a=O(K),T=b(K);T.concat(c);var C=K.bitmapFill.bitmap;C=l[C]._bin;var F=t.Xu(C,"img.jpg",0,0);
F.N7=H.N7;H=F;var m=[0,0,a.e,0,a.e,a.n,0,a.n];x.p.F(m,T,m);H.add.SoLd.Trnf=y.u.KT(m);H.add.SoLd.nonAffineTransform=y.u.KT(m);
H.Gf(t,!1);var N=K.path;if(N&&N.length!=0)H.add.vmsk=k(N,T,V);else if(d&&d.length!=0)H.add.vmsk=k(d,c,V);
H.De();H.h1(t)}else if(g){if(V&&V.strokeSwatch){var v=t.uV();$(v,t,V,d,c);t.B.push(v)}var h=e[0],a=O(h),T=b(h),p=0;
T.concat(c);var P=h.children.s2[0],J=P.obj228,Y=J[0].story[1],B=Y.stoProps.a1B.relEnt,S=Y.stoProps.s2[0].relEnt,r=Y.stoProps.s2[1]["ptrArrayX-210"][0].textData,I=l[B[0][1].textData[0][1].name[0]],f=I?I.styProps:{};
r=r.join("").replace(/\r/g,"\n");var s=-1;while((s=r.indexOf("\uFFFC"))!=-1){r=r.slice(0,s)+(r[s-1]=="\n"?" ":" ")+r.slice(s+1)}H.EJ(r.slice(0,255));
H.add.lnsr="rend";H.add.TySh=ah.Wm(0,0);H.add.TySh.AY=a;H.add.TySh.F=T;var W=H.add.TySh.GM;ah.nD(W,0,r);
var i=ah._J(W,0,r.length);i.Qc.FontSize=10;ah.j_(W,0,r.length,i);var u=[];if(r.length!=0){var z=o(B,0),G=o(S,0),g_=1;
for(var U=1;U<r.length;U++){var d=o(B,U),cl=o(S,U);if(d!=z||cl!=G){u.push(g_);g_=0}z=d;G=cl;g_++}if(g_!=0)u.push(g_)}for(var U=0;
U<u.length;U++){var b2=o(S,p),jz=u[U],aT=Math.min(p+jz,r.length-1),fZ=b2[2],ft=b2[1].styProps;if(ft==null)ft={};
var cc=o(B,p),kr=cc[1].styProps,hG=cc[2],hi={};for(var bU in f)hi[bU]=f[bU];for(var bU in kr)hi[bU]=kr[bU];
for(var bU in hG)hi[bU]=hG[bU];for(var bU in ft)hi[bU]=ft[bU];for(var bU in fZ)hi[bU]=fZ[bU];var i=ah._J(W,p,aT),ic=["FontSize","FontCaps","Underline","Strikethrough","FontBaseline"],iQ=ic.concat(["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"]);
for(var bx=0;bx<iQ.length;bx++){var bU=iQ[bx],aR=bx<ic.length?i.Qc:i.xy;if(hi[bU]!=null)aR[bU]=hi[bU]}if(hi.fillColor){var gs=D(hi.fillColor);
i.Qc.FillColor={Type:1,Values:[1].concat(gs)}}if(hi.font){var k7=hi.font.name[5],fT=hi.fontStyle;if(fT==null)fT="Regular";
for(var aH=0;aH<k7.length;aH++)if(k7[aH][0]==fT)ah.Lh(i,k7[aH][1])}if(hi.leading!=null&&hi.leading>1){i.Qc.Leading=hi.leading;
i.Qc.AutoLeading=!1}if(hi.align!=null)i.xy.Justification=[0,2,1,6,3,5,4,0,0,0][hi.align];ah.j_(W,p,aT,i);
p+=jz}ah.EC(W,1);ah.h4(W,[0,0,Math.round(a.e),Math.round(a.n)])}else if(E._type.startsWith("Path")&&(e==null||e.length==0)&&d){$(H,t,V,d,c)}else{var e7=E["prop-14526"];
if(e==null&&e7){var dB=l[n.Yx(e7,20)];e=[dB]}if(e){if(d&&d.length!=0){H.add.vmsk=k(d,c,V);H.De();H.h1(t)}H.EJ("group");
H.N7=24;H.add.lsct=ht.cx;t.B.push(t.iB());for(var U=0;U<e.length;U++)Z(e[U],t,c,l)}}if(V){var ia=V.objectBlendingMode,d7=V.objectOpacity,hf=V.fillTint;
if(ia)H.eI="norm,mul ,scrn,over,sLit,hLit,div ,idiv,dark,lite,diff,smud,hue ,sat ,colr,lum ".split(",")[ia[0]];
if(d7)H.opacity=Math.round(H.opacity*d7[0]/100);if(!j&&hf)H.opacity=Math.round(H.opacity*hf[0]/100)}if(E.name)H.EJ(E.name);
else if(V&&V.name)H.EJ(V.name[0]);t.B.push(H)}function $(E,t,c,l,q){E.EJ("path");E.N7|=16;var d=E.add.vstk=JSON.parse(JSON.stringify(aN.d_.default)),V=[0,0,0];
if(c){var L=c.strokeSwatch,e=c.fillSwatch,H=c.strokeWeight;d.strokeEnabled.v=L!=null;d.fillEnabled.v=e!=null;
if(L){d.strokeStyleLineWidth.v.val=H?H[0]:1;V=D(L[0]);d.strokeStyleContent.v.Clr.v=x.M.jk({o:V[0]*255,w:V[1]*255,L:V[2]*255})}if(e){V=D(e[0])}}E.add.SoCo={classID:"null",Clr:{t:"Objc",v:x.M.jk({o:V[0]*255,w:V[1]*255,L:V[2]*255})}};
E.add.vmsk=k(l,q,c);E.De();E.h1(t)}function k(E,t,c){var l=new Q.G6,q=l.j;for(var d=0;d<E.length;d++){var V=E[d],L=V[0].length,e=V[1]==0,H=e?0:3;
q.push({type:H,length:L,K$:0,pa:2,r1:0,HP:0});for(var U=0;U<L;U++){var j=V[0][U],g=j[0],K=new at(j[1],j[2]),a=new at(j[3],j[4]),T=new at(j[5],j[6]);
if(g==0||g==1)q.push({type:H+2,vA:K,I:a,YJ:T});else if(g==2)q.push({type:H+2,vA:K,I:K,YJ:K});else throw g}}x.O.I0(q,t);
return l}return M}();var y={};y.V=function(w){return window.devicePixelRatio||1};y.Gs=function(w,M){return(M.a6Q=="touch"?12:8)*y.V()/w.P.T};
y.Ke=function(w,M,O){this.name=w;this.id=M;this.jA=null;if(O!=null)this.O2=O};y.Ke.prototype.s0=function(w,M,O,b,D){};
y.Ke.prototype.enable=function(w,M,O,b,D,o){var Z=new aX(A.E.Z,!0);Z.data={d:A.t.s5,ue:"default"};M.l(Z)};
y.Ke.prototype.disable=function(w,M,O,b,D){};y.Ke.prototype.aiD=function(w,M,O,b,D){return!1};y.Ke.prototype.kf=function(w,M,O,b,D){};
y.Ke.prototype.YZ=function(w,M,O,b,D){};y.Ke.prototype.Ha=function(w,M,O,b,D){};y.Ke.prototype.oH=function(w,M,O,b,D,o){};
y.Ke.prototype.B0=function(w,M,O,b,D){};y.Ke.prototype.$m=function(w,M,O,b){};y.Ke.prototype.S4=function(w,M,O,b){};
y.Ke.prototype.ZT=function(w,M){};y.Ke.prototype.y3=function(w,M){};y.Ke.prototype.Wb=function(w,M,O,b,D){};
y.Ke.prototype.o9=function(w,M){};y.Ke.prototype.FX=function(w,M){return!1};y.Ke.prototype.fa=function(w,M){return!1};
y.Ke.prototype.Xc=function(){return!1};y.Ke.prototype.J9=function(w,M){return!0};y.Ke.prototype.oE=function(){return null};
y.Ke.prototype.Jl=function(w,M,O){};y.Ke.prototype.aqv=function(){return!1};y.Ke.prototype.q6=function(w,M,O,b){};
y.Ke.prototype.track=function(w){var M=new aX(A.E.Lm,!0);M.data=w;w.e2=!0;this.jA.l(M)};y.Ke.Jx=function(w,M,O,b){var D=10*y.V()*(w.a6Q=="touch"?2:1),o=w.x+D,Z=w.y-D,$=x.Rk.Ms(M.e,O.Z1,b,O.e,!0),k=x.Rk.Ms(M.n,O.Z1,b,O.n,!0);
while($.length<k.length)$=" "+$;while($.length>k.length)k=" "+k;y.Ke.pn(o,Z,[fr.get([12,41]).charAt(0)+": "+$,fr.get([12,42]).charAt(0)+": "+k],O)};
y.Ke.pn=function(w,M,O,b){function D(E,V,L,e,H,j){E.beginPath();E.moveTo(V,L+j);E.arcTo(V,L+H,V+j,L+H,j);
E.arcTo(V+e,L+H,V+e,L+H-j,j);E.arcTo(V+e,L,V+e-j,L,j);E.arcTo(V,L,V,L+j,j)}var o=y.V(),Z=Math.round,$=Z(11*o),k=y.Ke.a6b,t=0;
if(k==null)k=y.Ke.a6b=document.createElement("canvas");var E=k.getContext("2d");E.font=$+"px monospace";
for(var U=0;U<O.length;U++)t=Math.max(t,E.measureText(O[U]).width);var c=Z(t+12*o),l=Z((O.length*14+5)*o),q=new cn(w,M-l,c,l);
if(k.width!=c||k.height!=l){k.width=c;k.height=l;E.font=$+"px monospace"}E.clearRect(0,0,c,l);E.fillStyle="rgba(0,0,3,0.8)";
D(E,0,0,c,l,Z(4*o));E.fill();E.fillStyle="rgba(255,255,255,1)";for(var U=0;U<O.length;U++)E.fillText(O[U],Z(6*o),Z((U+1)*13*o));
var d=[E.getImageData(0,0,c,l).data,q.clone()];if(b)b.J.jd=[d];return d};y.Ke.a6b=null;y.R6="0";y.P$="1";
y.axS="2";y.as9="3";y.J6="5";y.aus="6";y.abY="7";y.vj="8";y.Vl="9";y.xB="10";y.ew="11";y.In="12";y.bP="13";
y.Am="14";y.W2="16";y._b="18";y.iC="19";y.gs="20";y.Tj="21";y.cg="22";y.rq="23";y.jz="24";y.Lw="25";
y._e="27";y.aC="31";y.ahN="32";y.ag6="34";y.a3N="35";y.xG="36";y.BQ="37";y.mH="38";y.DM="39";y.cy="40";
y.C2="41";y.Uh="42";y.Cz="43";y.a3o="44";y.hY="47";y.Qn="48";y.uM="51";y.bX="52";y.S7="54";y.LC="55";
y.pM="56";y.hu="57";y.D6="58";y.ct="59";y.f8="60";y.s_="61";y.zO="70";y.T0="100";y.tG="101";y.rk="102";
y.Gt="103";y.bW="120";y.jZ="230";y.axp="231";y.eU="232";y.YH="233";y.GY="234";y.kL="235";y.u3="236";
y.a8d=function(w){var M=y.S2,O=null;for(var b in M)if(M[b][1].indexOf(w[1].classID)!=-1)O=b;return O};
y.S2={};y.S2[y.rq]=["tools/brush",["PbTl"]];y.S2[y.jz]=["tools/pencil",["PcTl"]];y.S2[y.aC]=["tools/eraser",["ErTl"]];
y.fV=function(w,M,O){y.Ke.call(this,w,M,O);this.YA={brush:w?b6.dd():null,bmode:"norm",opacity:1,flow:1,smth:0,samp:0,emode:0,wconf:[40,!0,!0],sall:!1,algnd:!1,sfrom:0,alt:[!1],expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:0,patch:0};
this.P4=null;this.a0=null;this.na=null;this.LX=null;this.Vm=null;this.Fr=null;this.HH=null;this.Hu=null;
this.hL=null;this.Go=null;this.x8=null;this.Ew=null;this.jP=null;this.fC=1;this.ar=!1;this.bz=null;this.caller=null};
y.fV.prototype=new y.Ke;y.fV.prototype.fa=function(w,M){return w.Rw&&M.i(i_.Z4)};y.fV.prototype.YZ=function(w,M,O,b,D){if(b.i(i_.PY)){this.Fr=new at(D.x,D.y);
var o=this.YA.brush.Brsh.v,Z=o.Dmtr.v.val,$=o.Hrdn!=null?o.Hrdn.v.val:-1;this.HH=[Z,$,!0,JSON.parse(JSON.stringify(this.YA.brush)),D];
this.lI(O)}};y.fV.prototype.St=function(w,M,O){var b=this.HH,D=w.P.T,o=O.x-b[4].x,Z=O.y-b[4].y,$=b[0],k=b[1],E=Math.abs(o)>Math.abs(Z);
if(E&&b[2]){var t=Math.round(2*o/D);$+=t;O.x-=o-.5*t*D}if(!E&&!b[2]&&k!=-1){var t=Math.round(.25*Z);
k+=t;O.y-=Z-4*t}$=Math.max(1,$);k=b[1]==-1?-1:Math.max(0,Math.min(100,k));var c=b[3];c.Brsh.v.Dmtr.v.val=$;
if(k!=-1)c.Brsh.v.Hrdn.v.val=k;this.HH=[$,k,E,c,O];var l=i$.pv(c,M.BV.eg,D),q=l[1];q.x=Math.round(this.Fr.x-q.e/2);
q.y=Math.round(this.Fr.y-q.n/2);w.J.m4=[l];var d=w.P.ep(this.Fr.x,this.Fr.y);w.J.BY={nj:[],Sd:[d.x-$/2,d.y,d.x+$/2,d.y]};
if(k!=-1)w.J.BY.Sd.push(d.x+50/D,d.y-k/2,d.x+50/D,d.y+k/2);w.uP=!0};y.fV.prototype.B0=function(w,M,O,b,D){if(this.id==y.gs||this.id==y.Tj)return;
if(this.Fr){this.Fr=null;this.yv(JSON.parse(JSON.stringify(this.HH[3])));w.J.m4=[];w.J.BY=null;w.uP=!0;
return}var o=new aX(A.E.Z,!0);o.data={d:A.t.SW,k:this.id,agn:"showBrushOpts",zH:new at(D.UD+4,D.EQ)};
M.l(o)};y.fV.prototype.yv=function(w){var M=new aX(A.E.Z,!0);M.data={d:A.t.pF,I8:eM.Vh,Vj:w};this.caller.l(M)};
y.fV.CK=function(w,M,O,b,D,o){if(w==null)w="FrgC";if(M==null)M="norm";if(O==null)O=1;if(D==null)D=!1;
var Z={classID:"Fl",Usng:{t:"enum",v:{FlCn:w}},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(O*100)}},PrsT:{t:"bool",v:D},Md:{t:"enum",v:{BlnM:gA.VK(M)}}};
if(w=="Clr")Z.Clr={t:"Objc",v:b};if(w=="contentAware")Z.contentAwareColorAdaptationFill={t:"bool",v:!0};
if(w=="Ptrn")Z.Ptrn={t:"Objc",v:o};return{wV:"fill",g0:Z}};y.fV.prototype.s0=function(w,M,O,b,D){this.jA=M;
var o=O.m7.length;if(o==0&&!O.D_())return;var Z=o!=0?-1-O.m7[0]:O.g[0],$=O.B[Z];if(w.d=="fromAction"){var k=w.Ci,E=k.g0;
if(E&&E.null&&E.null.v[0]&&E.null.v[0].v.classID=="Path"){var t=O.ff(),c=t[0],l=t[1],q=c[l.length==0?0:l[0]].add.vmsk;
if(k.wV=="fill"){var d=q.yo(),V=D.Sw,L=this.YA,e=V>>16&255,H=V>>8&255,j=V>>0&255;this.I4(O,$,d,e,H,j,Math.round(L.opacity*255),L.bmode,"Fill Path")}else{for(var g=0;
g<1e3;g++){var K=x.O.r$(q.j,g,!0);if(K==-1){this.oH(O,M,D,b,null);break}var a=q.j[K],T=q.j.slice(K,K+1+a.length),C=x.p.EK(T,!0).C,F=C.slice(0,8);
for(var m=8;m<C.length;m+=6)F.push(C[m-2],C[m-1],C[m],C[m+1],C[m+2],C[m+3],C[m+4],C[m+5]);var N={};N.Points=F;
N.TextOnPathTRange=q.QQ.slice(0);var N=bs.Bj(N,2),v=N[0];if(g==0)this.kf(O,M,D,b,O.P.hP(v[0],v[1]));
else this.a0.moveTo(v[0],v[1]);for(var U=2;U<v.length;U+=2){var h=O.P.hP(v[U],v[U+1]);h.Rw=!0;this.Ha(O,M,D,b,h,this.YA.flow)}}}}else if(k.wV=="fill"){var P=E.PrsT?E.PrsT.v:!1,J=$?$.add.lspf:0;
if(P&&$){$.add.lspf=J==null?1:J|1}var Y=(E.Opct?E.Opct.v.val:100)/100,B=E.Md?gA.QI(E.Md.v.BlnM):"norm",S=E.Usng.v.FlCn;
if(S=="contentAware"){if(O.X==null){alert("Select an area to heal first.");return}if(!O.D_())return;
this.BC(O);this.sE(O,0);var r=O.X,I=x.$(r.rect.v()*4);x.Jm(r.channel,I,3);this.jW(O,"sheal",I,r.rect,r.rect);
this.K(O,r.rect);this.finish(O,r.rect)}else if(S=="Ptrn"){var f=D.SQ,s=O.X?O.X.rect.clone():new cn(0,0,O.e,O.n),W=x.$(s.v()*4);
eR.o2(E,W,s,f,new at(0,0));this.qD(O,$,O.X,W,"norm",[6,48,0,2])}else{var V;if(S=="FrgC")V=D.Sw;else if(S=="BckC")V=D.fj;
else if(S=="Blck")V=0;else if(S=="Wht")V=16777215;else if(S=="Gry")V=8421504;else if(S=="Clr"){var i=x.M.FL(E.Clr.v);
V=i.o<<16|i.w<<8|i.L}var e=V>>16&255,H=V>>8&255,j=V>>0&255;this.I4(O,$,O.X,e,H,j,Math.round(255*Y),B,[2,3])}if(P&&$){$.add.lspf=J==null?0:J}}else if(k.wV=="delete"){var u=Z<0?1:$.cn,r=O.X,cl;
if(r==null)return;var z=Z<0?O.SN[-Z-1]:u<=0?null:u==1?$.yo():$.k1(O).D,s=u<=0?$.rect:z.rect,G=u<=0?r.rect.mX(s):r.rect.clone();
if(G.S9())return;var g_=G.v();if(u<=0){cl=x.$(g_*4);x.xu($.buffer,$.rect,cl,G)}else{cl=x.$(g_);z.extend(G);
x.CV(z.channel,z.rect,cl,G)}if(0<=Z&&$.Us(O,r)){if(u<=0){x.TZ(cl,0);x.xu($.PR.Gh,$.PR.zP,cl,G)}else{cl.fill(255);
x.CV($.PR.Gh,$.PR.zP,cl,G)}}else{if(u<=0){var p=x.$(cl.length>>2);x.Oj(cl,p,3);x.a.po(x.KS(r.rect.v()),r.rect,p,G,r.channel,G,1);
x.Jm(p,cl,3)}else{var b2=x.$(r.rect.v()),e=D.fj>>>16&255,H=D.fj>>8&255,j=D.fj>>0&255;b2.fill(Math.round(x.nJ(e,H,j)));
x.a.po(b2,r.rect,cl,G,r.channel,G,1)}}this.$c(O,!0,[2,2],Z,u,G,cl)}}if(w.d=="stroke"){var jz=w.apw,r=O.X;
if(r==null){r={rect:$.rect.clone(),channel:x.$($.rect.v())};x.Oj($.buffer,r.channel,3)}var aT=eR.g6(jz),fZ=y.wk.asB(r,Math.ceil(aT[0]),Math.ceil(aT[1])),V=x.M.FL(jz.Clr.v),e=Math.round(V.o),H=Math.round(V.w),j=Math.round(V.L);
this.I4(O,$,fZ,e,H,j,Math.round(255*jz.Opct.v.val/100),gA.QI(jz.Md.v.BlnM),[14,9])}if(w.d=="fillBMP"){this.qD(O,$,O.X,w.DO,w._V,w.vZ)}if(w.d=="draw"){var ft=w.Ge,cc=ft.rect;
this.BC(O);var kr=O.B[O.g[0]];if(w.avX&&kr&&kr.cn<=0&&O.m7.length==0){cc=y.yI.a8P(ft,O);kr.buffer=ft.buffer.slice(0);
kr.rect=cc.clone()}else{var hG=this.YA.bmode;this.YA.bmode="norm";this.jW(O,"draw",ft.buffer,cc,cc.mX(new cn(0,0,O.e,O.n)));
this.YA.bmode=hG}this.K(O,cc);O.Er=!0;this.finish(O,cc,w.vZ,w.avX)}};y.fV.prototype.I4=function(w,M,O,b,D,o,Z,$,k){var E=O==null?new cn(0,0,w.e,w.n):O.rect,t=Z<<24|o<<16|D<<8|b<<0,c=x.$(E.v()*4);
x.TZ(c,t);this.qD(w,M,O,c,$,k)};y.fV.prototype.qD=function(w,M,O,b,D,o){var Z=w.m7.length!=0?-1-w.m7[0]:w.g[0],$=Z<0?1:M.cn,k=Z<0?w.SN[-1-Z]:$<=0?null:$==1?M.yo():M.k1(w).D,E=$<=0?M.rect:k.rect,t=O==null?new cn(0,0,w.e,w.n):O.rect,c=O==null?x.st(w.e*w.n):O.channel,l=t.v(),q,d=null;
if($<=0){q=x.$(l*4);x.xu(M.buffer,M.rect,q,t)}else{q=x.$(l);k.extend(t);x.CV(k.channel,k.rect,q,t)}if(O!=null)x.Rr(c,b);
if($>0){d=x.$(l);x.C3(b,d)}if(0<=Z&&O&&M.Us(w,O)){var V=M.PR.lQ,L=M.PR.lQ.slice(0);if($<=0)x.U7(b,L);
else x.U7(d,L);var e=new gN([2,3],this);e.data={d:"drawtemp",q:w.g[0],O6:$,ahK:V,ap5:L};w.zw(e);this.ZT(e.data,w)}else{if($<=0){var H;
if(M.uK(0)){H=x.$(t.v());x.Oj(q,H,3)}x.a.DP(D,b,t,q,t,t,1);if(M.uK(0))x.Jm(H,q,3)}else x.a.po(d,t,q,t,c,t,1);
this.$c(w,!0,o,Z,$,t,q)}};y.fV.prototype.FX=function(w){if(i_.MA.indexOf(w)!=-1)return!0;return!1};y.fV.prototype.$m=function(w,M,O,b){var D=this.YA.brush,o=b.i(i_.PY),Z=o!=this.ar,$=y.fV.V3(D,b);
if($!=null)this.yv($);if(!b.i(i_.v9)&&b.Jt()!=-1){var k=i_.pK(Math.round(this.YA.opacity*100),b.Jt())/100;
this.RH({opacity:k},M)}if(this.id==y.vj&&Z&&w!=null){var E=this.YA.qsmode;if(E==2)E=w.X==null?0:1;else E=2;
this.RH({qsmode:E},M)}this.ar=o;if(Z){if(w)this.fC=w.P.T;this.lI(O,b)}};y.fV.V3=function(w,M){var O=w.Brsh.v.Dmtr.v.val,b=w.Brsh.v.Hrdn!=null?w.Brsh.v.Hrdn.v.val:-1,D=O,o=b,Z=M.i(i_.Z4);
if(M.i(i_.Eu)){if(Z)b=25*Math.floor((b-1)/25);else{if(O<=10)O--;else if(O<=50)O=5*Math.floor((O-1)/5);
else if(O<=100)O=10*Math.floor((O-1)/10);else if(O<=200)O=25*Math.floor((O-1)/25);else if(O<=400)O=50*Math.floor((O-1)/50);
else O=100*Math.floor((O-1)/100)}}if(M.i(i_.wQ)){if(Z)b=25*Math.ceil((b+1)/25);else{if(O<10)O++;else if(O<50)O=5*Math.ceil((O+1)/5);
else if(O<100)O=10*Math.ceil((O+1)/10);else if(O<200)O=25*Math.ceil((O+1)/25);else if(O<400)O=50*Math.ceil((O+1)/50);
else O=100*Math.ceil((O+1)/100)}}O=Math.max(1,O);b=Math.max(0,Math.min(100,b));if(o==-1)b=-1;if(O!=D||b!=o){var $=JSON.parse(JSON.stringify(w));
$.Brsh.v.Dmtr.v.val=O;if(o!=-1)$.Brsh.v.Hrdn.v.val=b;return $}return null};y.fV.prototype.lI=function(w,M,O,b){if(w.BV.list.length==0)return;
var D=this.id,o;if((D==y._e||D==y.iC||D==y.rq||D==y.jz)&&(M!=null&&M.i(i_.PY)||this.YA.alt[0]))o="crosshair";
else{var Z=this.fC,$=this.YA.brush;if((D==y._e||D==y.iC)&&O&&this.Ew&&this.Ew.length==this.x8.v()*4){var k=O.P.ep(b.x,b.y),E=this.aqE(k),t=this.Ew,c=this.x8,l=new cn(c.x+E.x,c.y+E.y,c.e,c.n),q=i$.pv($,w.BV.eg,Z),d=q[0],V=q[1],L=Math.ceil(V.e/Z),e=new cn(Math.round(k.x-L/2),Math.round(k.y-L/2),L,L),H=x.$(e.v()*4),j,g;
x.xu(t,l,H,e);if(Z==1){j=H;g=e}else{var K=new f$(Z,0,0,Z,0,0),a=y.u.UA([H,e],K,!0);g=V.clone();g.x=a.rect.x;
g.y=a.rect.y;if(g.M5(a.rect))j=a.buffer;else{j=x.$(g.v()*4);x.xu(a.buffer,a.rect,j,g)}}var T=this.YA.opacity/255;
for(var U=0;U<j.length;U+=4)j[U+3]=T*(d[U+3]*j[U+3]);i$.ao7(new Uint32Array(j.buffer),g,4278190080,4294967295);
o={cB:j,xr:g,Ct:new at(g.e/2,g.n/2)}}else o=i$.Rc($,w.BV.eg,Z,D==y.Lw)}var C=new aX(A.E.Z,!0);C.data={d:A.t.s5,ue:o};
if(this.caller)this.caller.l(C)};y.fV.prototype.enable=function(w,M,O,b){this.P4=O;this.caller=M;this.yv(JSON.parse(JSON.stringify(this.YA.brush)));
if(w&&w.P.T!=0)this.fC=w.P.T;this.lI(O,b)};y.fV.prototype.o9=function(w,M){if(M==eM.Vh){this.YA.brush=w.BV.VG;
this.lI(w)}};y.fV.prototype.Wb=function(w,M,O,b,D){for(var o in w)this.YA[o]=w[o];if(this.YA.alt[0])this.lI(D,b,O)};
y.fV.prototype.a2b=function(w){var M=w.m7.length!=0?-1-w.m7[0]:w.g[0],O=w.B[M],b=M<0?1:O.cn,D=M<0?w.SN[-M-1]:b<=0?null:b==1?O.yo():O.k1(w).D,o=D?D.channel:O.buffer,Z=(D?D.rect:O.rect).clone();
return[O,b,D,o,Z]};y.fV.prototype.BC=function(w,M){this.jP=w.X==null?null:{rect:w.X.rect.clone(),channel:w.X.channel.slice(0)};
var O=this.a2b(w),b=O[0],D=O[1],o=O[2];this.Go=O[3];this.hL=O[4];var Z=new cn(0,0,w.e,w.n),$=Z.MK(this.hL);
if((this.Dx()&&D<=0||$.M5(this.hL))&&M!=!0)this.Go=this.Go.slice(0);else{if(o)o.extend($);else b.extend($)}};
y.fV.prototype.sE=function(w,M){var O=this.a2b(w),b=O[1],D=O[3],o=O[4],Z=[D,o],$=M!=null?M:this.YA.sfrom;
if(b<=0&&$!=0){Z[1]=new cn(0,0,w.e,w.n);Z[0]=w.Hp($==1&&w.g[0]!=w.B.length-1?w.g[0]:null).slice(0)}this.x8=Z[1].clone();
this.Ew=Z[0].slice(0)};y.fV.prototype.wl=function(w,M,O){if(w.i(i_.PY)){var b=new aX(A.E.s,!0);b.k=y.Am;
b.data={d:"pickhere",ap3:O};M.l(b);return!0}return!1};y.fV.prototype.uk=function(w,M,O,b,D,o){if(this.id!=y.vj&&!w.D_(this.caller)){this.a0=null;
return}if(this.id!=y.vj&&this.a0)return;this.BC(w);var Z=new cn(0,0,w.e,w.n),$=null;if(o!=null){var k=w.m7.length!=0?-1-w.m7[0]:w.g[0],E=w.B[k],t=k<0?w.SN[-k-1]:E.cn<=0?null:E.cn==1?E.yo():E.k1(w).D;
$=x.$(Z.v()*4);if(t)y.fV.Vs(this.Go,this.hL,t.color,$,Z);else x.xu(this.Go,this.hL,$,Z)}var c=this.YA;
if(this.a0&&this.id==y.vj&&c.qsmode!=0&&w.X!=null){}else{var l=M.Sw,q=M.fj;if(this.bz=="erase"){var d=l;
l=q;q=d}var V=this.id==y.vj?this.hL:Z;this.a0=new i$(c.brush,M.BV.eg,M.BV.ow,{uX:D,Xg:o,aum:c.smth*50/w.P.T,A0:this.id==y.jz||c.emode==1,i7:w.i7},l,q,V,$)}if(this.id==y.vj){this.a0.a1e(c.brush,c.qsmode==2?0:16777215)}var L=w.P.ep(b.x,b.y);
if(O.i(i_.Z4)&&this.na){var e=this.na;this.a0.moveTo(e.x,e.y,b.sO);this.a0.lineTo(.001*e.x+.999*L.x,.001*e.y+.999*L.y,b.sO);
this.a0.lineTo(L.x,L.y,b.sO)}else this.a0.moveTo(L.x,L.y,b.sO);this.na=L;this.LX=L.clone();this.Vm=new ec(L,w.P.td)};
y.fV.prototype.zM=function(w,M,O){if(w&&w.P.T!=0&&w.P.T!=this.fC){this.fC=w.P.T;this.lI(O)}};y.fV.prototype.DC=function(w,M,O,b){if(this.a0==null)return;
var D=w.B[w.g[0]],o=w.P.ep(b.x,b.y),Z=this.Vm.JQ(o,O);if(Z.M5(this.na))return 1;this.a0.lineTo(Z.x,Z.y,b.sO);
this.na=Z;if(this.id==y._e||this.id==y.iC){var $=this.DZ(),k=11;$=w.P.hP(o.x-$.x,o.y-$.y);var E=k>>>1,t=new cn(Math.round($.x)-E,Math.round($.y)-E,k,k),c=x.$(t.v()*4);
x.TZ(16777215);for(var U=0;U<k;U++)c[(U*k+E)*4+3]=c[(k*E+U)*4+3]=255;w.J.jd=[[c,t]];w.uP=!0}};y.fV.prototype.S4=function(w,M,O,b){if(O.yK!=this.id)return;
if(this.id!=y.vj||w==null)return;if(w.X==null||w.g[0]!=this.ah_){this.ah_=w.g[0];this.RH({qsmode:0},M)}};
y.fV.prototype.K=function(w,M){if(w.m7.length!=0){w.uP=!0;return}var O=w.B[w.g[0]];if(M==null){M=this.a0.Ny();
if(this.Dx()&&O.cn<=0)M=M.mX(this.hL)}var b=O.cn;if(b==1||b==3){var D=Math.round((b==1?O.yo():O.k1(w).D).Yo*2.4);
M=M.clone();M.M0(D,D)}if(M.S9())return;if(b<=0){O.K(M)}if(b==1){O.yo().iD=!0;O.h1(w,M)}if(b==3){O.K(M)}w.K(w.root.aa(M,w,w.g[0],!0))};
y.fV.prototype.oH=function(w,M,O,b,D){if(this.a0==null)return;this.a0.finish();if(this.id!=y._b&&this.id!=y.iC&&this.id!=y.vj)this.Ht(w);
if(this.id==y._e||this.id==y.iC){w.J.jd=[];w.uP=!0}if(this.id==y.vj){var o=w.X;w.X=this.jP;var Z=new aX(A.E.s,!0);
Z.data={d:"setsel",vZ:this.name,X:o};Z.k=y.P$;M.l(Z);if(this.YA.qsmode==0)this.RH({qsmode:1},M)}else{this.finish(w,this.a0.IH());
this.a0=null;this.Hu=null}this.dir=0};y.fV.prototype.RH=function(w,M){for(var O in w)this.YA[O]=w[O];
var b=new aX(A.E.Z,!0);b.data={d:A.t.SW,k:this.id,G2:w};M.l(b)};y.fV.prototype.Dx=function(){var w=this.id;
return w==y.vj||w==y.aC||w==y.DM||w==y.cy||w==y.C2||w==y.cg};y.fV.prototype.finish=function(w,M,O,b,D){var o=w.m7.length!=0?-1-w.m7[0]:w.g[0],Z=w.B[o],$=o<0?1:Z.cn,k=o<0?w.SN[-o-1]:$<=0?null:$==1?Z.yo():Z.k1(w).D,E=k?k.rect:Z.rect,l;
if(this.Dx()||!E.M5(this.hL)){if(k==null){if(this.Dx())Z.Sr();else{var t=M.MK(this.hL),c=x.$(t.v()*4);
x.xu(Z.buffer,Z.rect,c,t);Z.buffer=c;Z.rect=t}}else k.Sr();this.K(w,E)}if($<=0){l=x.$(M.v()*4);x.xu(this.Go,this.hL,l,M)}else{l=x.$(M.v());
l.fill(k.color);x.CV(this.Go,this.hL,l,M)}this.$c(w,!1,O?O:this.name,o,$,M,l,b,D)};y.fV.prototype.$c=function(w,M,O,b,D,o,Z,$,k){var E=Z;
if(D>0){E=x.$(o.v()*4);y.fV.Vs(Z,o,0,E,o)}var t=new gN(O,this);t.data=[{q:b,O6:D,xr:o,bg:E}];if($)t.data.l3=[w.X,null];
if(k)t.data.l3=[this.jP,w.X];w.zw(t);if(M)this.ZT(t.data,w);else if($)w.X=null;y.xW.at6(w,t.data)};y.fV.prototype.y3=function(w,M){this.aok(w,M,!1)};
y.fV.prototype.ZT=function(w,M){this.aok(w,M,!0)};y.fV.prototype.aok=function(w,M,O){if(w.d=="drawtemp"){var b=O?w.ap5:w.ahK,D=M.B[w.q];
D.PR.lQ=b;D._U(M,0,0,M.X);D.K();M.Er=!0}else{y.xW.K9(M,w);if(w.l3){M.X=w.l3[O?1:0];M.wK=!0}}M.K()};y.fV.prototype.Ht=function(w){this.jW(w,this.bz,this.a0.Mg(),this.a0.HW(),this.a0.Ny());
this.K(w)};y.fV.prototype.jW=function(w,M,O,b,D){var o=this.YA,Z=w.B[w.g[0]],$=w.m7.length!=0?w.SN[w.m7[0]]:Z.cn<=0?null:Z.cn==1?Z.yo():Z.k1(w).D,k=x.$(D.v()*4),E,t=Z.uK(0);
if($==null){if(this.id==y.Tj&&M=="heal")x.xu(Z.buffer,Z.rect,k,D);else x.xu(this.Go,this.hL,k,D);if(t){E=x.$(D.v());
x.Oj(k,E,3)}}else{y.fV.Vs(this.Go,this.hL,$.color,k,D)}if(w.X&&M!="qselect"){var c=D.mX(w.X.rect),l=x.$(c.v()*4);
if(M=="copy"){var q=x.$(c.v());x.CV(w.X.channel,w.X.rect,q,c);x.xu(k,D,l,c);x.a.LU(O,b,l,c,q,c,0,c,1,!1)}else{x.xu(O,b,l,c);
x.cK(w.X.channel,w.X.rect,l,c)}O=l;b=c}function d(e,hG){var bU=Math.max(hG.x,Math.min(hG.x+hG.e-1,e.x)),ic=Math.max(hG.y,Math.min(hG.y+hG.n-1,e.y));
return new at(bU,ic)}if(M=="idraw"||M=="ierase"){if(this.Hu==null)this.Hu=x.$(this.hL.v());var V=this.YA.samp,L=this.P4.fj,e=d(this.na,D),H=V==0?e:this.LX,j=H.x,g=H.y,K=y.Li.arL(this.Go,this.hL,[H,new at(j-2,g),new at(j+2,g),new at(j,g-2),new at(j,g+2)]);
if(V==2)K=[[L>>>16&255,L>>>8&255,L>>>0&255,255]];var a=y.Li.aaL(k,D,e,K,this.YA.wconf),T=x.$(D.v());
x.CV(this.Hu,this.hL,T,D);x.qL.MK(a,T,T);x.CV(T,D,this.Hu,this.hL);x.cK(T,D,O,b);M=M.slice(1)}if(M=="erase"&&(y.xW.a46(w)!=16777215||$))M="draw";
if(M=="draw")x.a.DP(o.bmode,O,b,k,D,D,o.opacity);else if(M=="erase"){var C=x.$(D.v()*4);x.xu(O,b,C,D);
if($==null){var F=x.$(D.v());x.Oj(C,F,3);x.Ho(F,o.opacity);x.ZW(F);x.cK(F,D,k,D)}else{x.TZ(C,0,4278190080);
x.a.DP("norm",C,D,k,D,D,o.opacity)}}else if(M=="clone"||M=="heal"){var m=this.DZ(),N=this.x8.clone();
N.offset(m.x,m.y);var v=D.clone();v.M0(1,1);var h=x.$(v.v()*4),P=x.$(v.v());x.xu(O,b,h,v);x.Oj(h,P,3);
x.TZ(h,0);if($==null){x.xu(this.Ew,N,h,v);var J=x.$(v.v());x.Oj(h,J,3);x.Kl(J,P)}else y.fV.Vs(this.Ew,N,$.color,h,v);
if(M=="clone"){x.Jm(P,h,3);x.a.DP(o.bmode,h,v,k,D,D,o.opacity)}if(M=="heal"){var Y=P.slice(0);x.round(Y,20);
var B=x.$(v.v()*4);if($==null)x.xu(this.Go,this.hL,B,v);else y.fV.Vs(this.Go,this.hL,$.color,B,v);x.a.LU(h,v,B,v,Y,v,0,v,1,!1);
x.G0.Ua(B,Y,v);x.a.LU(B,v,k,D,P,v,0,D,1,!1)}}else if(M=="dodge"||M=="burn"){var h=x.$(D.v()*4),I=1,f=0,s=0,W=0;
x.xu(O,b,h,D);var S=D.v()*4,r=y.fV.IW;if(this.ar){if(M=="dodge")M="burn";else M="dodge"}var i=o.rng;
if(M=="dodge"){f=[1-I/2,1,1+I][i];s=[1,1/(1+I),1][i];W=[I/2,0,0][i]}if(M=="burn"){f=[1/(1-I/2),1,1-I/2][i];
s=[1,1+I,1][i];W=[-(I/2)/(1-I/2),0,0][i]}for(var U=0;U<S;U+=4){var u=h[U+3];k[U+0]=r(k[U+0],f,s,W,u);
k[U+1]=r(k[U+1],f,s,W,u);k[U+2]=r(k[U+2],f,s,W,u)}}else if(M=="sponge"||M=="redeye"){var h=x.$(D.v()*4),P=x.$(D.v());
x.xu(O,b,h,D);x.Oj(h,P,3);x.U7(k,h);var z=o.smode;if(this.ar)z=1-z;var G=ek.pp("hue2");if(M=="sponge")a1.BI(G,0,[0,[-50,46][z],[6,5][z]]);
else a1.BI(G,1,{JR:[265,305,25,55],Da:[0,-90,-70]});var g_=a6.kM("hue2",G);a6.ly(g_,h,h,D);x.a.LU(h,D,k,D,P,D,0,D,1,!1)}else if(M=="copy")x.xu(O,b,k,D);
else if(M=="sheal"){var h=x.$(D.v()*4),P=x.$(D.v());x.xu(O,b,h,D);x.Oj(h,P,3);h.fill(0);var cl=this.Ew,p=this.x8;
if($){cl=x.$(p.v()*4);y.fV.Vs(this.Ew,p,0,cl,p)}var b2=x.sn.Ua(cl,p,P,h,D);if(b2!=0)x.xu(cl,p,h,D);if(this.YA.sfrom==0)x.xu(h,D,k,D);
else{x.xu(this.Go,this.hL,k,D);x.Jm(P,h,3);x.a.DP("norm",h,D,k,D,D,1)}}else if(M=="qselect"){var jz=this.hL,aT=jz.e,fZ=jz.n,ft=aT*fZ,cc=this.a0.Mg(),K=this.Go,kr=y.wk.S1,P=kr.qj;
P.fill(128);for(var U=0;U<ft;U++){var hG=cc[U<<2],hi=cc[(U<<2)+3];if(hi==255&&(hG==0||hG==255))P[U]=hG}P[0]=P[aT-1]=0;
P[(fZ>>>1)*aT]=P[(fZ>>>1)*aT+aT-1]=0;y.a3.vv(kr,!0);w.X={rect:jz,channel:kr.X.slice(0)};w.wK=!0}if($==null){if(t)x.Jm(E,k,3);
x.xu(k,D,Z.buffer,Z.rect)}else y.fV.M7(k,D,$)};y.fV.DZ=function(){return null};y.fV.IW=function(w,M,O,b,D){var o=w*(1/255),Z=b+M*Math.pow(o,O),$=Math.round(Z*D+o*(255-D));
return Math.max(0,Math.min(255,$))};y.fV.Vs=function(w,M,O,b,D){var o=x.$(D.v());o.fill(O);x.CV(w,M,o,D);
b.fill(255);x.CA(o,b)};y.fV.M7=function(w,M,O){var b=x.$(M.v());x.C3(w,b);x.CV(b,M,O.channel,O.rect)};
y.wk=function(w,M,O){y.Ke.call(this,w,M,O);this.YA={binop:0,feat:0,cstr:{GG:0,x:3,y:2},wconf:[16,!0,!0],anta:!0,sall:!1};
this.aX=new at(-1,-1);this.Aj=new at(-1,-1);this.g1="default";this.jA=null;this.a8s=!0;this.aL=!1;this.Vb=new jy;
this.xv=!1;this.oP=null;this.b$=null;this.yj=!1;this.eY=!1};y.wk.prototype=new y.Ke;y.wk.prototype.aeD=function(){var w=this.YA,M=[w.binop,w.feat];
if(this.id==y.Vl)M.push(w.wconf);return M};y.wk.prototype.abe=function(w,M,O){var b=this.YA;b.binop=w[0];
b.feat=w[1];b.wconf=w[2];this.fK(O)};y.wk.prototype.fK=function(w){var M=new aX(A.E.Z,!0);M.data={d:A.t.SW,k:this.id,YA:this.YA};
w.l(M)};y.wk.S1={key:""};y.wk.vD=function(w,M,O){var b={wV:w,g0:{classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}};
if(M)b.g0.T=M;if(O!=null)b.g0.AntA={t:"bool",v:O};return b};y.wk.Hm=function(w,M,O){return y.wk.vD("set",{t:"Objc",v:{classID:w,Top:{t:"UntF",v:{type:"#Pxl",val:M.y}},Left:{t:"UntF",v:{type:"#Pxl",val:M.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:M.y+M.n}},Rght:{t:"UntF",v:{type:"#Pxl",val:M.x+M.e}}}},O)};
y.wk.z$=function(w,M,O){var b=[],D=[],Z="set";for(var U=0;U<w.length;U+=2){b.push(w[U]);D.push(w[U+1])}var o={t:"Objc",v:{classID:"Plgn",Pts:{t:"ObAr",v:{classID:"Pnt",arr:[{id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:b},{id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:D}]}}}};
if(M)Z=["set","addTo","subtractFrom","interfaceWhite"][M];return y.wk.vD(Z,o,O)};y.wk.a5q=function(w,M,O){var b={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:w.x}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:w.y}}}},D=y.wk.vD("set",b);
D.g0.Tlrn={t:"long",v:M[0]};D.g0.AntA={t:"bool",v:M[1]};D.g0.Cntg={t:"bool",v:M[2]};if(O==!0)D.g0.Mrgd={t:"bool",v:O};
return D};y.wk.Nf=function(w){return y.wk.vD("set",{t:"enum",v:{Ordn:w?"Al":"None"}})};y.wk.a7Y=function(w,M,O){var b={classID:"null"};
if(w!="border")b.selectionModifyEffectAtCanvasBounds={t:"bool",v:O};var D={e:"By",c:"By",b:"Wdth",f:"Rds",s:"Rds"}[w[0]];
b[D]={t:"UntF",v:{type:"#Pxl",val:M}};return{wV:w,g0:b}};y.wk.a02=function(w,M,O){var b={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},D={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:M}}]};
if(O)D.v.push({t:"name",v:{classID:"Lyr",val:O}});var o=[{classID:"null",null:b,T:D},{classID:"null",null:D,T:b},{classID:"null",null:D,From:b},{classID:"null",null:D,With:b}],Z=["set","add","subtract","interfaceIconFrameDimmed"];
return{wV:Z[w],g0:o[w]}};y.wk.akl=function(w,M){var O=new aX(A.E.Z,!0);O.data={d:A.t.pF,I8:eM.Wo};if(!M.fk)w.l(O);
O.data={d:A.t.pF,I8:eM.sP};if(!M.sw.sJ)w.l(O)};y.wk.prototype.s0=function(w,M,O,b,D){y.wk.akl(M,D);this.jA=M;
var o=w.d,Z,$,k=new cn(0,0,O.e,O.n),d7=!1,hf,gv,hN,hP;if(o=="fromAction"){var E=w.Ci,t=E.wV,c=E.g0,l=c?c.selectionModifyEffectAtCanvasBounds:null,q=l&&l.v;
if(t=="colorRange"){if(c.Clrs){var d=c.Clrs.v.Clrs,V=0,L=255,e=["Shdw","Mdtn","Hghl"].indexOf(d),K=.4;
if(e==0)L=60;else if(e==1){V=100;L=150}else V=190;var H=["shadows","midtones","highlights"][e],j=c[H+"LowerLimit"],g=c[H+"UpperLimit"];
if(j)V=j.v;if(g)L=g.v;var a=c[H+"Fuzziness"];if(a)K=a.v/100;Z=y.wk.oV(O,V,L,K,!0)}else{var V=c.Mnm.v,L=c.Mxm.v,K;
V={XZ:V.Lmnc.v,ip:V.A.v,L:V.B.v};L={XZ:L.Lmnc.v,ip:L.A.v,L:L.B.v};K=c.Fzns.v/200;Z=y.wk.oV(O,V,L,K)}$=[7,8]}else if(t=="inverse"){if(O.X==null){alert("No selection!");
return}Z={channel:x.$(k.v()),rect:k};x.CV(O.X.channel,O.X.rect,Z.channel,Z.rect);x.ZW(Z.channel);$=[7,2]}else if(t=="expand"){var T=c.By.v.val,C=O.X.rect.clone();
C.M0(T,T);var F=x.$(C.v()),m=x.$(C.v());x.CV(O.X.channel,O.X.rect,m,C);x.style.stroke(m,F,C,T);Z={channel:F,rect:C};
$=[7,4]}else if(t=="contract"){var T=c.By.v.val,N=O.X.rect.clone();N.M0(1,1);if(!q)N=N.mX(k);var m=x.$(N.v()),v=x.$(m.length);
x.CV(O.X.channel,O.X.rect,m,N);x.ZW(m);x.style.stroke(m,v,N,T);x.ZW(v);Z={channel:v,rect:N};x.Sr(Z);
$=[7,5]}else if(t=="border"){var T=c.Wdth.v.val;Z=y.wk.asB(O.X,T/2,T/2);$=[7,9]}else if(t=="feather"||t=="smoothness"){var T=c.Rds.v.val;
Z=y.wk.ar7(O.X,T,t=="smoothness",k,q);$=t=="feather"?[7,6]:[19,3,0]}else if(t=="move"){var h=c.T.v,C=O.X.rect.clone();
C.x+=h.Hrzn.v.val;C.y+=h.Vrtc.v.val;Z={channel:O.X.channel,rect:C};$=[7,7]}else{var P=c.null.v,J=c.AntA!=null&&c.AntA.v;
function Y(ds){var hV=ds.Top.v.val,dI=ds.Left.v.val;return new cn(dI,hV,ds.Rght.v.val-dI,ds.Btom.v.val-hV)}function B(ds){var hV=ds[0].arr,bv=ds[1].arr,hl={C:[],H:[]};
for(var U=0;U<hV.length;U++){hl.H.push(U==0?"M":"L");hl.C.push(hV[U],bv[U])}hl.H.push("Z");return hl}var S=["set","addTo","subtractFrom","interfaceWhite"].indexOf(t),r=c.T?c.T.v:null;
if(r&&r.classID=="Elps"){Z=this.auE(y.GI.a0R(Y(r)));$=[10,4]}else if(r&&r.classID=="Rctn"){var I=Y(r);
Z={channel:x.$(I.v()),rect:I.clone()};Z.channel.fill(255);$=[10,15]}else if(r&&r.classID=="ObSl"){var I=Y(r),f=y.wk.S1,s=f.rect,W=f.qj,i=s.e,u=s.n,z=I.x-s.x,G=z+I.e-1,g_=Math.max(z,Math.min(G,z+G>>>1)),cl=I.y-s.y,p=cl+I.n-1,b2=Math.max(cl,Math.min(p,cl+p>>>1)),jz=Math.max(z,0),aT=Math.min(G,i),fZ=Math.max(cl,0),ft=Math.min(p,u);
W.fill(128);if(0<=cl)for(var cc=jz;cc<aT;cc++)W[cl*i+cc]=0;if(p<u)for(var cc=jz;cc<aT;cc++)W[p*i+cc]=0;
if(0<=z)for(var kr=fZ;kr<ft;kr++)W[kr*i+z]=0;if(G<i)for(var kr=fZ;kr<ft;kr++)W[kr*i+G]=0;var hG=y.TF.air,hi=Math.round(I.e*hG),bU=Math.round(I.n*hG);
for(var cc=Math.max(0,g_-hi);cc<Math.min(i,g_+hi);cc++)W[b2*i+cc]=255;for(var kr=Math.max(0,b2-bU);kr<Math.min(u,b2+bU);
kr++)W[kr*i+g_]=255;y.a3.vv(f,!0);Z={channel:f.X.slice(0),rect:s.clone()};$=[10,44]}else if(r&&r.classID=="Plgn"){Z=this.auE(B(r.Pts.v.arr));
$=[10,9]}else if(r&&r.classID=="Pnt"){Z=y.Li.aia(O,new at(r.Hrzn.v.val,r.Vrtc.v.val),[c.Tlrn.v,J,c.Cntg==null||c.Cntg.v],c.Mrgd?c.Mrgd.v:!1);
$=[10,12]}else if(r&&r.Ordn=="None"){Z=null;$=[7,1]}else if(r&&r.Ordn=="Al"){var ic=k;if(O.g.length!=0){var iQ=O.root.KZ(O.g[0]);
while(iQ.parent&&iQ.parent.parent)iQ=iQ.parent;if(iQ.q.add.artb)ic=iQ.q.pU()}Z={channel:x.$(ic.v()),rect:ic};
Z.channel.fill(255);$=[7,0]}else if(r&&r[0]&&r[0].v.keyID=="WrPt"){var bx={d:"frompath",vt:[-1,0,0]};
this.s0(bx,M,O,b,D);return}else{var aR=["set","add","subtract","interfaceIconFrameDimmed"].indexOf(t),gs=t=="set"?r:P,k7=gs[0].v.enum,bx;
if(k7=="Trsp"||k7=="Msk"||k7=="vectorMask"||k7=="Trgt"){var fT=O.g[0];if(gs.length==2)fT=fE.uJ(O,gs[1]);
var aH=["Trsp","Msk","vectorMask"].indexOf(k7);if(k7=="Trgt"&&O.B[fT].cn==1)aH=1;bx={d:"fromlayer",vt:[fT,aH,aR]}}else{if(gs[0].t=="name"){var fT=0;
for(var U=0;U<O.SN.length;U++)if(O.SN[U].name==gs[0].v.val)fT=U;bx={d:"fromchannel",vt:[-5-fT,0,aR]}}else{var e7=["RGB","Rd","Grn","Bl"].indexOf(k7);
bx={d:"fromchannel",vt:[-1-e7,0,aR]}}}this.s0(bx,M,O,b,D);return}if(!J&&Z)x.round(Z.channel);if(c.Fthr)Z=y.wk.ar7(Z,c.Fthr.v.val,!1);
if(t!="set"&&O.X!=null)Z=x.qL.a8(Z,O.X,S)}if(t=="expand"||t=="contract")if(!q&&!k.contains(Z.rect)){var dB=Z.rect.mX(k),ia=x.$(dB.v());
x.CV(Z.channel,Z.rect,ia,dB);Z.channel=ia;Z.rect=dB}}if(o=="qmask"){d7=!0;var gP=O.kD(),aB=new cn(0,0,O.e,O.n);
if(gP){Z=gP.rect.M5(aB)&&x.ez(gP.channel,255)?null:{rect:gP.rect.clone(),channel:gP.channel.slice(0)};
hf=gP}else{Z=null;gv=new Q.MX;gv.color=0;gv.name="Quick Mask";gv.Uy=!0;if(O.X){gv.rect=O.X.rect.clone();
gv.channel=O.X.channel.slice(0)}else{gv.rect=aB;gv.channel=x.$(gv.rect.v());gv.channel.fill(255)}}$=[6,6,1];
O.Er=!0}if(o=="setsel"){Z=w.X;$=w.vZ}if(o=="crange"){var V=w.xI,L=w.xs;Z=y.wk.oV(O,V,L,w.NY);$=[7,8]}if(o=="fromlayer"||o=="fromchannel"||o=="frompath"){var i7=w.vt[0],aH=w.vt[1],S=w.vt[2];
if(o=="fromlayer"){if(i7==null)i7=O.g[0];var dI=O.B[i7];if(aH==0){var gh=dI.rect,b9=dI.buffer;if(gh.S9())return;
var ij=x.$(b9.length>>>2);x.Oj(b9,ij,3);Z={channel:ij,rect:gh.clone()}}else{if(dI.D==null)dI.h1(O);var iX=aH==1?dI.yo():dI.D;
Z=y.wk.aro(iX,k)}this.track(y.wk.a02(S,["Trsp","Msk"][aH],dI.getName()))}else if(o=="frompath"){var am=O.ff(),jf=am[1],am=am[0];
if(i7==null)if(am.length==0||jf.length==0)return;var eJ=am[jf[0]];if(i7!=null)for(var U=0;U<am.length;
U++)if(am[U].zS==i7)eJ=am[U];var iX=eJ.add.vmsk.yo(),hZ=iX.HW();if(hZ.v()==0)return;var ij=iX.GZ();if(w.vt[3]!=null)this.a8s=w.vt[3];
if(this.a8s){ij=ij.slice(0);x.round(ij)}hN=[JSON.stringify(O.xF),JSON.stringify(O.C5)];hP=["[]","[]"];
O.xF=[];O.C5=[];Z={channel:ij,rect:hZ}}else{if(i7==null)i7=y.wk.ao5(O);Z=y.wk.acn(O,i7)}if(S!=0&&O.X)Z=x.qL.a8(Z,O.X,S);
$=[14,11]}if(Z!=null&&x.ez(Z.channel,0)){Z=null;$=[7,1]}if(Z)x.Sr(Z);var hC=new gN($,this);hC.data={d:"changesel",jP:O.X,$X:Z,kD:d7,a1c:hf,al2:gv,Zg:hN,ajP:hP};
O.zw(hC);this.ZT(hC.data,O)};y.wk.ao5=function(w){var M=0;if(w.m7.length!=0)M=-5-w.m7[0];else if(JSON.stringify(w.P.$Y)=="[1,1,1]")M=-1;
else M=-2-w.P.$Y.indexOf(1);return M};y.wk.acn=function(w,M){var O,b=new cn(0,0,w.e,w.n);if(-5<M&M<0){var D=-M-1,o=w.Hp(),Z=x.$(b.v());
if(D==0)x.C3(o,Z);else x.Oj(o,Z,D-1);O={channel:Z,rect:b.clone()}}if(M<-4){O=y.wk.aro(w.SN[-M-5],b)}return O};
y.wk.aro=function(w,M){var O,b;if(w.FL()==0){b=w.HW().clone();if(b.v()==0)return;O=w.GZ()}else{b=M;O=x.$(b.v());
w.xQ(b,O)}return{channel:O,rect:b}};y.wk.prototype.fa=function(w){return this.xv||w.Rw&&this.id!=y.J6};
y.wk.prototype.pI=function(w,M,O){var b=new aX(M,!0);b.data=O;w.l(b)};y.wk.prototype.a97=function(w,M){var O=new aX(A.E.Z,!0);
O.data={d:A.t.s5,ue:M};w.l(O)};y.wk.prototype.HW=function(w,M,O){M=w.X==null||this.Vb._x(1)||this.Vb.So(1)?M:null;
var b=this.aX,D=this.Aj;if(O){b.x=Math.max(0,Math.min(w.e,b.x));b.y=Math.max(0,Math.min(w.n,b.y));D.x=Math.max(0,Math.min(w.e,D.x));
D.y=Math.max(0,Math.min(w.n,D.y))}var o=y.c9.oh(b,D,M,!0,this.YA.cstr),Z=o[0].x,$=o[0].y;return new cn(Z,$,o[1].x-Z,o[1].y-$)};
y.wk.prototype.kf=function(w,M,O,b,D){this.eY=!0;if(this.uu())return;this.jA=M;this.aL=!1;this.Vb.kf(b);
this.aX=w.P.ep(D.x,D.y);this.aX=y.t7.R3(w,this.aX,O);if(this.a7G(w,this.aX,b)){this.xv=!0;this.oP=w.X.rect.clone();
return}this.pu(w,O,b,D);w.P.rT=new cn};y.wk.prototype.a7G=function(w,M,O){var b=O.i(i_.Z4),D=O.i(i_.PY);
if(w.X&&!b&&!D&&this.YA.binop==0)return x.BE(M,w.X.channel,w.X.rect);return!1};y.wk.prototype.Ha=function(w,M,O,b,D){this.jA=M;
if(this.yj)return;var o=w.P.ep(D.x,D.y);if(at.we(this.aX,o)*w.P.T>5){this.aL=!0;this.Vb.Ha()}if(b.i(i_.NT)){if(this.b$==null)this.b$=new at(o.x-this.aX.x,o.y-this.aX.y);
this.aX.x=o.x-this.b$.x;this.aX.y=o.y-this.b$.y}else this.b$=null;this.Aj=o;if(!this.xv)this.Aj=y.t7.R3(w,this.Aj,O);
if(this.a7G(w,this.Aj,b))this.a97(M,"move");else this.a97(M,this.g1);if(this.xv){var Z=this.oP.clone();
Z.x+=this.Aj.x-this.aX.x;Z.y+=this.Aj.y-this.aX.y;var $=y.t7.qN(w,Z,O);w.X.rect.x=Math.round(this.Aj.x-this.aX.x+this.oP.x+$[0]);
w.X.rect.y=Math.round(this.Aj.y-this.aX.y+this.oP.y+$[1]);w.wK=!0;y.t7.ty(w,Z,$);return}this.xL(w,O,b,D,M);
if(w.P.rT)w.P.rT=this.HW(w,b)};y.wk.prototype.uu=function(){return!1};y.wk.prototype.oH=function(w,M,O,b,D,o){var Z=this.eY;
this.eY=!1;if(o||!Z)return;w.P.rT=null;this.Aj=w.P.ep(D.x,D.y);this.Aj=y.t7.R3(w,this.Aj,O);if(this.xv){this.xv=!1;
if(w!=null&&w.J.MB){w.J.MB=null;w.uP=!0}if(this.Aj.M5(this.aX)&&this.ZZ()==0){this.pI(M,A.E.Lm,y.wk.Nf());
return}this.alJ(w,this.oP,w.X.rect.clone());return}this.hN(w,O,b,D,M);y.wk.akl(M,O);this.Vb.oH();this.iE(M)};
y.wk.prototype.alJ=function(w,M,O){var b=w.oO();if(b!=null&&b.k==this&&b.data.d=="movesel"){}else{b=new gN([7,7],this);
b.data={d:"movesel",i6:M};w.zw(b)}b.data.Vc=O;this.ZT(b.data,w)};y.wk.prototype.YZ=function(w,M,O,b,D){this.yj=!0};
y.wk.prototype.B0=function(w,M,O,b,D){var o=new aX(A.E.Z,!0);o.data={d:A.t.SW,k:this.id,Vr:D,zu:w,ND:O};
M.l(o);this.yj=!1};y.wk.prototype.$m=function(w,M,O,b){this.Vb.$m(b);if(w!=null&&w.X!=null){var D=b.Fn();
if(D.x!=0||D.y!=0){var o=w.X.rect.clone();o.x+=D.x;o.y+=D.y;this.alJ(w,w.X.rect.clone(),o)}}this.iE(M)};
y.wk.prototype.iE=function(w){var M=new aX(A.E.Z,!0);M.data={d:A.t.SW,k:this.id,VB:this.ZZ()};w.l(M)};
y.wk.prototype.ZZ=function(){var w=this.Vb._x(0),M=this.Vb.So(0);return y.wk.iy(this.YA.binop,w,M)};
y.wk.iy=function(w,M,O){if(M)w=1;if(O)w=2;if(M&&O)w=3;return w};y.wk.prototype.finish=function(w,M,O,b){var D=w.X,o=this.getSelection(w,M,O,b);
if(o==null)o=y.wk.Nf();else{var Z=this.YA.feat,$=this.ZZ();if(Z!=0)o.g0.Fthr={t:"UntF",v:{type:"#Pxl",val:Z}};
if($!=0&&$!=4)o.wV=["","addTo","subtractFrom","interfaceWhite",""][$]}this.pI(this.jA,A.E.Lm,o);this.aX.ZK(-1,-1);
this.Aj.ZK(-1,-1)};y.wk.prototype.getSelection=function(w,M,O,b){return null};y.wk.prototype.pu=function(w,M,O,b){};
y.wk.prototype.xL=function(w,M,O,b){};y.wk.prototype.hN=function(w,M,O,b){};y.wk.prototype.y3=function(w,M){var O=w.d;
if(O=="changesel")M.X=w.jP;if(O=="movesel")M.X.rect=w.i6;if(w.kD){if(w.a1c){M.m7=[M.SN.length];M.SN.push(w.a1c)}else{M.SN.pop();
M.m7=[]}}if(w.Zg){M.xF=JSON.parse(w.Zg[0]);M.C5=JSON.parse(w.Zg[1])}M.wK=!0};y.wk.prototype.ZT=function(w,M){var O=w.d;
if(O=="changesel")M.X=w.$X;if(O=="movesel")M.X.rect=w.Vc;if(w.kD){if(w.al2){M.m7=[M.SN.length];M.SN.push(w.al2)}else{M.SN.pop();
M.m7=[]}}if(w.Zg){M.xF=JSON.parse(w.ajP[0]);M.C5=JSON.parse(w.ajP[1])}M.wK=!0};y.wk.prototype.Wb=function(w){this.YA=w.YA};
y.wk.prototype.auE=function(w){var M=x.p.Kc(w.C);if(M.S9())return null;var O=x.$B(M.e,M.n);O.save();
O.beginPath();O.translate(-M.x,-M.y);Typr.U.pathToContext({cmds:w.H,crds:w.C},O);O.closePath();O.fill();
O.restore();var b=x.$(M.v()),D=O.getImageData(0,0,M.e,M.n);x.Oj(D.data,b,3);return{rect:M,channel:b}};
y.wk.ar7=function(w,M,O,b,D){if(O)M=Math.round(M*.7);var o=Math.ceil(2.6*M),Z=w.rect.clone();Z.M0(o,o);
if(b&&!D)Z=Z.mX(b);var $=x.$(Z.v()),k=x.$($.length);x.CV(w.channel,w.rect,k,Z);x.m8.f5(k,$,Z,M);if(O){var E=$.length;
for(var U=0;U<E;U++){var t=($[U]-128)*M*2.5;$[U]=Math.max(0,Math.min(255,Math.round(128+t)))}}return{channel:$,rect:Z}};
y.wk.asB=function(w,M,O){var b=Math.max(1,Math.ceil(O)),D=w.rect.clone();D.M0(b,b);var o=D.v(),Z={channel:x.$(o),rect:D},$=x.$(o);
x.CV(w.channel,w.rect,$,Z.rect);if(O!=0)x.style.stroke($,Z.channel,Z.rect,O);else x.U7($,Z.channel);
var k=x.$(o);x.ZW($);if(M!=0)x.style.stroke($,k,Z.rect,M);else x.U7($,k);x.qL.mX(Z.channel,k,Z.channel);
return Z};y.wk.oV=function(w,M,O,b,D){var o=new cn(0,0,w.e,w.n),Z=w.Hp();if(w.X){var $=w.X.rect.mX(o),k=x.$($.v()*4);
x.xu(Z,o,k,$);o=$;Z=k}var E=o.v(),t=x.$(E),c=1/b;if(D){if(M>=O)M=O-1;var l=M*(1-b),q=M,d=O,V=O+(255-O)*b,L=l==q?0:1/(q-l),e=d==V?0:1/(V-d);
for(var U=0;U<E;U++){var H=U<<2,j=x.nJ(Z[H],Z[H+1],Z[H+2]),g=0;if(j<l)g=0;else if(j<q)g=(j-l)*L;else if(j<=d)g=1;
else if(j<=V)g=1-(j-d)*e;else g=0;t[U]=Z[H+3]*g*g}}else for(var U=0;U<E;U++){var H=U<<2,K=x.li(Z[H],Z[H+1],Z[H+2]),g=x.Be(K,M,O,b,c);
t[U]=Z[H+3]*g}return{rect:o,channel:t}};y.cr=function(){y.fV.call(this,[10,18],y.xG,"tools/blur");this.bz="copy"};
y.cr.prototype=new y.fV;y.cr.prototype.kf=function(w,M,O,b,D){var o=b.i(i_.PY)?i$.zi:i$.xG;this.uk(w,O,b,D,this.YA.strn,o);
if(this.a0==null)return;this.Ht(w)};y.cr.prototype.Ha=function(w,M,O,b,D){this.zM(w,M,O);if(this.Fr)this.St(w,O,D);
if(this.a0==null)return;if(!D.Rw)return;this.DC(w,O,b,D);this.Ht(w)};y.FC=function(){y.fV.call(this,[10,0],y.rq,"tools/brush");
this.bz="draw"};y.FC.prototype=new y.fV;y.FC.prototype.kf=function(w,M,O,b,D){if(this.wl(b,M,D))return;
this.uk(w,O,b,D,this.YA.flow);if(this.a0==null)return;this.Ht(w)};y.FC.prototype.Ha=function(w,M,O,b,D){this.zM(w,M,O);
if(this.Fr)this.St(w,O,D);if(this.a0==null)return;if(!D.Rw)return;this.DC(w,O,b,D);this.Ht(w)};y.bY=function(){y.fV.call(this,[10,42],y.Lw,"tools/crepl");
this.bz="idraw";this.YA.bmode="hue "};y.bY.prototype=new y.fV;y.bY.prototype.kf=function(w,M,O,b,D){if(this.wl(b,M,D))return;
this.uk(w,O,b,D,this.YA.flow);if(this.a0==null)return;this.Ht(w)};y.bY.prototype.Ha=function(w,M,O,b,D){this.zM(w,M,O);
if(this.Fr)this.St(w,O,D);if(this.a0==null)return;if(!D.Rw)return;this.DC(w,O,b,D);this.Ht(w)};y.LK=function(){y.fV.call(this,[10,43],y.cg,"tools/redeye");
this.YA.smode=0;this.bz="redeye"};y.LK.prototype=new y.fV;y.LK.prototype.kf=function(w,M,O,b,D){this.uk(w,O,b,D,this.YA.flow);
if(this.a0==null)return;this.Ht(w)};y.LK.prototype.Ha=function(w,M,O,b,D){this.zM(w,M,O);if(this.Fr)this.St(w,O,D);
if(this.a0==null)return;if(!D.Rw)return;this.DC(w,O,b,D);this.Ht(w)};y.kG=function(){y.fV.call(this,[10,38],y.jz,"tools/pencil");
this.bz="draw"};y.kG.prototype=new y.fV;y.kG.prototype.kf=function(w,M,O,b,D){if(this.wl(b,M,D))return;
this.uk(w,O,b,D,this.YA.flow);if(this.a0==null)return;this.Ht(w)};y.kG.prototype.Ha=function(w,M,O,b,D){this.zM(w,M,O);
if(this.Fr)this.St(w,O,D);if(this.a0==null)return;if(!D.Rw)return;this.DC(w,O,b,D);this.Ht(w)};y.NM=function(){y.fV.call(this,[10,22],y.cy,"tools/burn");
this.bz="burn"};y.NM.prototype=new y.fV;y.NM.prototype.kf=function(w,M,O,b,D){this.uk(w,O,b,D,this.YA.expo/Math.E);
if(this.a0==null)return;this.Ht(w)};y.NM.prototype.Ha=function(w,M,O,b,D){this.zM(w,M,O);if(this.Fr)this.St(w,O,D);
if(this.a0==null)return;if(!D.Rw)return;this.DC(w,O,b,D);this.Ht(w)};y.fb=function(w,M,O){y.fV.call(this,w==""?null:w?w:[10,1],M?M:y._e,O?O:"tools/clone");
this.bz="clone";this._1=null;this.z=null};y.fb.prototype=new y.fV;y.fb.prototype.kf=function(w,M,O,b,D){var o=this.YA,Z=o.alt[0];
if(b.i(i_.PY)||b.i(i_.zf)||Z){this._1=w.P.ep(D.x,D.y);this.z=null;if(Z)this.RH({alt:[!1]},M);this.sE(w);
this.lI(O,b,w,D);return}if(this._1==null){alert(fr.get([15,7,0]));return}this.lI(O,b);this.uk(w,O,b,D,this.YA.flow);
if(this.a0==null)return;this.z=this.aqE(w.P.ep(D.x,D.y));this.Ht(w)};y.fb.prototype.aqE=function(w){var M=this.z;
if(M==null||!this.YA.algnd)M=new at(Math.round(w.x-this._1.x),Math.round(w.y-this._1.y));return M};y.fb.prototype.Ha=function(w,M,O,b,D){this.zM(w,M,O);
if(this.Fr)this.St(w,O,D);if(this.a0==null){if(this._1!=null)this.lI(O,b,w,D);return}if(!D.Rw||this._1==null)return;
this.DC(w,O,b,D);this.Ht(w)};y.fb.prototype.DZ=function(){return this.z};y.vz=function(w,M,O){y.Ke.call(this,w,M,O);
this.EX={FI:{GG:0,x:0,y:0},dr:!1};this.Cx=!1;this.ZS=null;this.cursor=null;this.axf=0;this.OD=null;this.aX=null;
this.Fj=null;this.px=!1};y.vz.prototype=new y.Ke;y.vz.prototype.Xc=function(){return this.ZS!=null};
y.vz.prototype.fa=function(w){return this.aX!=null||this.ZS&&this.ZS.auu()};y.vz.prototype.kf=function(w,M,O,b,D){this.OD=D;
var o=w.P.ep(D.x,D.y),Z=this.EX.FI,$=Z.GG!=0?Z.x/Z.y:null,k=this.px;this.px=!1;if(this.ZS){var E=this.ZS.p6(o,w.P.T);
if(k&&E==null){this.ZS.clear(w);this.ZS=null}else{this.ZS.kf(w,O,b,o,$,!1,D);return}}this.aX=y.t7.R3(w,o,O)};
y.vz.prototype.WB=function(w,M,O){if(O==null)O=[w.x,w.y,w.x+w.e,w.y,w.x+w.e,w.y+w.n,w.x,w.y+w.n];return new h$(O,!0,!1,this.id==y.ew,!0,M,this.id==y.ew?2:0,this.id==y.ew?4:3)};
y.vz.prototype.lI=function(w){var M=new aX(A.E.Z,!0);M.data={d:A.t.s5,ue:this.cursor};w.l(M)};y.vz.prototype.enable=function(w,M,O,b){this.jA=M;
this.cursor="crosshair";this.lI(M);if(w!=null&&this.ZS==null){var D=w.X?{qh:"cropby",ai3:3}:{qh:"config",EX:this.EX,awk:!0};
this.Wb(D,M,w,b,O);if(w.X==null&&this.EX.FI.GG==0)this.px=!0}};y.vz.prototype.Ha=function(w,M,O,b,D){this.OD=D;
var o=w.P.ep(D.x,D.y);if(!D.Rw){var Z="crosshair";if(this.ZS){var $=this.ZS.p6(o,w.P.T,null,D);if($)Z=$;
else Z="default"}if(Z!=this.cursor){this.cursor=Z;this.lI(M)}}if(this.ZS)this.ZS.Ha(w,O,b,o);else if(this.aX){if(this.Cx){w.J.F0={H:["M","L"],C:[this.aX.x,this.aX.y,o.x,o.y]}}else{var k=y.c9.oh(this.aX,y.t7.R3(w,o,O),b,!0,this.EX.FI),E=k[0].x,t=k[0].y,c=this.Fj=new cn(E,t,k[1].x-E,k[1].y-t);
w.J.F0=x.p.zl(c);y.Ke.Jx(D,c,w,O)}w.uP=!0}};y.vz.ap6=function(w,M,O){var b,D,$,k;if(M<=O){b=M;D=O}else{b=O;
D=M}var o=w-Math.floor((w+Math.PI)/(2*Math.PI))*2*Math.PI;o=Math.abs(o);if(o>Math.PI/2)o=Math.PI-o;var Z=b/(D*Math.sin(o)+b*Math.cos(o));
if(M<=O){$=b*Z;k=D*Z}else{$=D*Z;k=b*Z}return{jy:$,e3:k}};y.vz.prototype.oH=function(w,M,O,b,D){this.OD=D;
var o=w.P.ep(D.x,D.y);if(this.ZS==null){var Z=this.Fj;if(this.aX&&(Z||this.Cx)){if(this.Cx){var $=this.aX,k=o;
if($.x>k.x){var E=$;$=k;k=E}var $=Math.atan2(-(k.y-$.y),k.x-$.x),t=y.vz.ap6($,w.e,w.n),c=[0,0,t.jy,0,t.jy,t.e3,0,t.e3],l=new f$;
l.translate(-t.jy/2,-t.e3/2);l.rotate($);l.translate(w.e/2,w.n/2);x.p.F(c,l,c);this.ZS=this.WB(Z,!1,c);
w.J.F0=null;this.Cx=!1}else{var q=this.EX.FI;this.ZS=this.WB(Z,q.GG!=0)}this.ZS.db(w,O);this.Fj=null;
this.pI(M,A.E.Z,{d:A.t.SW,k:this.id,pq:!0});this.aX=null;w.J.jd=[];w.uP=!0}return}this.ZS.oH(w,O,b,o);
this.pI(M,A.E.Z,{d:A.t.SW,k:this.id,pq:!0});var c=this.ZS.ji();if(Math.abs(c[0]-c[4])<2&&Math.abs(c[1]-c[5])<2){this.disable(w,M,null,b);
return}if(Date.now()-this.axf<200&&this.ZS.JL(o)){this.Ps(w,O);this.disable(w,M,O,b);return}this.axf=Date.now()};
y.vz.prototype.$m=function(w,M,O,b){var D=this.ZS;if(D==null||this.OD&&this.OD.Rw)return;if(b.i(i_.sW)){this.Ps(w,O);
this.disable(w,M,O,b)}else if(b.i(i_.gH)){this.disable(w,M,O,b)}else D.$m(w,O,b)};y.vz.a8V=function(w,M,O){var b={classID:"null",T:{t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:w[1]}},Left:{t:"UntF",v:{type:"#Pxl",val:w[0]}},Btom:{t:"UntF",v:{type:"#Pxl",val:w[1]+w[3]}},Rght:{t:"UntF",v:{type:"#Pxl",val:w[0]+w[2]}}}},Angl:{t:"UntF",v:{type:"#Ang",val:M!=null?M:0}},Dlt:{t:"bool",v:O!=null?O:!0},cropAspectRatioModeKey:{t:"enum",v:{cropAspectRatioModeClass:"pureAspectRatio"}},CnsP:{t:"bool",v:!1}};
return{wV:"crop",g0:b}};y.vz.uO=function(w,M){if(M==null)M=[!0,!0,!0,!0];var O={classID:"trim",trimBasedOn:{t:"enum",v:{trimBasedOn:["topLeftPixelColor","bottomRightPixelColor","Trns"][w]}}},b=["Top","Left","Btom","Rght"];
for(var U=0;U<4;U++)O[b[U]]={t:"bool",v:M[U]};return{wV:"trim",g0:O}};y.vz.a0m=function(w,M,O,b){var D={classID:"null"};
if(b!=null){D.Wdth={t:"UntF",v:{type:"#Pxl",val:w}};D.Hght={t:"UntF",v:{type:"#Pxl",val:M}};D.Intr={t:"enum",v:{Intp:["Nrst","Blnr","bicubicSharper"][b]}}}if(O!=null)D.Rslt={t:"UntF",v:{type:"#Rsl",val:O}};
return{wV:"imageSize",g0:D}};y.vz.a0p=function(w,M,O){if(O==null)O=4;var b=Math.floor(O/3),D=O%3;return{wV:"canvasSize",g0:{classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:w}},Hght:{t:"UntF",v:{type:"#Pxl",val:M}},Hrzn:{t:"enum",v:{HrzL:["Left","Cntr","Rght"][D]}},Vrtc:{t:"enum",v:{VrtL:["Top","Cntr","Btom"][b]}}}}};
y.vz.prototype.s0=function(w,M,O,b,D){var o=new cn(0,0,O.e,O.n),Z=[11,3],$=O.Z1,k=O.e/2,E=O.n/2,t=1,u,z;
if(w.d=="fromAction"){var c=w.Ci,l=c.wV,q=c.g0,d=O.e/O.n,V=q.Wdth?q.Wdth.v.val:-1,L=q.Hght?q.Hght.v.val:-1,$=q.Rslt?q.Rslt.v.val:null,e=q.Wdth?q.Wdth.v.type:q.Hght?q.Hght.v.type:-1,H=1,j;
if(e=="#Prc"){if(V!=-1)V=Math.round(O.e*V/100);if(L!=-1)L=Math.round(O.n*L/100)}if(l=="imageSize"){if(q.Intr){if(q.Intr.v.Intp=="Nrst")H=0;
if(q.Intr.v.Intp=="bicubicSharper")H=2;if(V==-1&&L==-1){var g=$/O.Z1;V=Math.round(O.e*g);L=Math.round(O.n*g)}if(q.CnsP&&q.CnsP.v){if(V==-1)V=Math.round(L*d);
if(L==-1)L=Math.round(V/d)}}else{if(e=="#Prc")$=Math.round(O.Z1*(O.e/V));else if(e==-1)$=Math.round($);
else throw"e";V=O.e;L=O.n}j={d:"imgsize",E2:V,Z3:L,kO:$,GE:H}}else if(l=="canvasSize"){if(V==-1)V=O.e;
if(L==-1)L=O.n;if(q.Rltv&&q.Rltv.v==!0){if(q.Wdth)V+=O.e;if(q.Hght)L+=O.n}var K=q.Vrtc?q.Vrtc.v.VrtL:"Cntr",a=q.Hrzn?q.Hrzn.v.HrzL:"Cntr";
j={d:"canvsize",E2:V,Z3:L,Bn:3*["Top","Cntr","Btom"].indexOf(K)+["Left","Cntr","Rght"].indexOf(a)}}else if(l=="revealAll"){j={d:"revealAll"}}else if(l=="trim"){var T={topLeftPixelColor:0,bottomRightPixelColor:1,Trns:2}[q.trimBasedOn.v.trimBasedOn];
if(T==null)throw"e";var C=["Top","Left","Btom","Rght"],F=[!0,!0,!0,!0];for(var U=0;U<4;U++)if(q[C[U]])F[U]=q[C[U]].v;
j={d:"trim",ahC:T,Yg:F}}else if(l=="crop"){var m,N,v,h;if(q.T){var P=q.T.v,m=Math.round(P.Left.v.val),N=Math.round(P.Top.v.val),v=Math.round(P.Rght.v.val)-m,h=Math.round(P.Btom.v.val)-N}else{var J=O.B[O.g[0]],Y=J.rect;
Y=Y.mX(new cn(0,0,O.e,O.n));m=Y.x;N=Y.y;v=Y.e;h=Y.n}j={d:"canvsize",E2:v,Z3:h,z:new at(m,N),a6B:q.Dlt!=null&&q.Dlt.v}}else console.log(c);
if(j)this.s0(j,M,O,b,D);return}else if(w.d=="imgsize"){o=new cn(0,0,w.E2,w.Z3);if(w.kO)$=w.kO;t=w.GE}else if(w.d=="canvsize"){var B=w.Bn!=null?w.Bn:0;
o=new cn(0,0,w.E2,w.Z3);var S=O.e-w.E2,r=O.n-w.Z3,I=Math.round(S/2),f=Math.round(r/2);if(B==1||B==4||B==7)o.x=I;
if(B==2||B==5||B==8)o.x=S;if(B==3||B==4||B==5)o.y=f;if(B==6||B==7||B==8)o.y=r;if(w.z){o.x=w.z.x;o.y=w.z.y}}else if(w.d=="rot"&&(w.G+2*Math.PI)%(Math.PI/2)!=0){var s=x.p.zl(o).C,W=new f$;
W.translate(-k,-E);W.rotate(w.G);W.translate(k,E);x.p.F(s,W,s);o=x.p.Kc(s)}else if(w.d=="rot"&&w.G!=Math.PI&&w.G!=-Math.PI){o=new cn(k-O.n/2,E-O.e/2,O.n,O.e);
if((O.e+O.n&1)==1){k=Math.floor(k);E=Math.floor(E);o=new cn(k-Math.floor(O.n/2),E-Math.floor(O.e/2),O.n,O.e);
if((O.e&1)==1&&w.G!=-Math.PI/2)o.y--;if((O.n&1)==1&&w.G==-Math.PI/2)o.x--}}else if(w.d=="trim"){Z=[11,12,0];
var i=O.Hp(),Y=new cn(0,0,O.e,O.n);o=x.TO(i,Y,w.ahC,w.Yg);if(o.S9())o=Y}else if(w.d=="cropbysel"){Z=[11,12,1];
o=O.X.rect.clone()}else if(w.d=="revealAll"){Z=[11,12,2];o=O.root.HW(O,!0)}var G=w.d=="canvsize"&&w.a6B;
if(w.d=="imgsize"||w.d=="rot"||w.d=="scl"||G){var g_=new f$;if(w.d=="imgsize"){Z=[11,10];g_.scale(w.E2/O.e,w.Z3/O.n)}else if(G){}else{g_.translate(-k,-E);
if(w.d=="rot")g_.rotate(w.G);if(w.d=="scl")g_.scale(w.G.x,w.G.y);g_.translate(k,E);Z=w.vZ}z=x.N.iq(g_);
u=this.Kk(O,D,!0,z,t,G?o:null)}else if(w.d=="auto-align"){if(O.g.length<2){alert("Select two or more layers.");
return}var cl=[];for(var U=0;U<O.g.length;U++){var J=O.B[O.g[U]];if(!J.Ux()&&J.add.SoLd==null){alert("Unsupported layer selected.");
return}if(J.rect.S9()){alert("Empty layer selected.");return}cl.push([J.buffer,J.rect])}var p=x.h3.uo(cl,0);
if(p==null){alert("No similarity found.");return}z=p[1];var b2=O.g;O.g=O.g.slice(1);u=this.Kk(O,D,!1,p.slice(1),t);
O.g=b2;o=O.root.HW(O,!0);Z=[2,10,1]}var jz=new cn(0,0,O.e,O.n);if(!o.S9()&&(!o.M5(jz)||u!=null)){var aT=new gN(Z,this);
aT.data={auY:O.Z1,kO:$,tt:u,co:z,fs:y.vz.aj9(O,o,jz,u!=null)};y.vz.ale(O,aT.data,o);O.zw(aT);this.ZT(aT.data,O)}};
y.vz.aj9=function(w,M,O,b){if(w.iW.length==0)return null;var D=JSON.stringify(w.iW),o=JSON.parse(D);
y.uW.ads(o,M,O,b);o=JSON.stringify(o);return[D,o]};y.vz.prototype.Kk=function(w,M,O,b,D,o){var Z={B:[],Fv:null,mR:null};
if(O){for(var U=0;U<w.B.length;U++)Z.B.push(U);for(var U=0;U<w.IB.length;U++)Z.B.push(-1-U);for(var U=0;
U<w.SN.length;U++)Z.B.push(-1e3-U)}else Z.B=w.g.slice(0);Z.Fv=y.u.H6(w,Z.B,!0);y.u.ek(w,M,Z.B,Z.Fv,D,b,null,!0,o);
Z.mR=y.u.H6(w,Z.B,!0);return Z};y.vz.prototype.ZT=function(w,M){if(w.kO)M.Z1=w.kO;if(w.fs)M.iW=JSON.parse(w.fs[1]);
if(w.tt){y.vz.yt(M,x.N.kj(w.co));y.u.TH(M,w.tt.B,w.tt.mR)}y.vz.F$(M,w)};y.vz.prototype.y3=function(w,M){if(w.auY)M.Z1=w.auY;
if(w.fs)M.iW=JSON.parse(w.fs[0]);y.vz.ub(M,w);if(w.Y7)M.P.z.ZE(w.Y7);M.awu();if(w.tt){var O=x.N.kj(w.co).clone();
O.ZW();y.vz.yt(M,O);y.u.TH(M,w.tt.B,w.tt.Fv)}};y.vz.yt=function(w,M){for(var U=0;U<w.B.length;U++){var O=w.B[U];
if(O.add.artb==null)continue;var b=x.p.zl(O.pU()).C;x.p.F(b,M,b);var D=x.p.Kc(b);O.Bo(D)}};y.vz.Kb=function(w){var M=new cn,O=0,b=w.root.children.length;
for(var U=0;U<b;U++){var D=w.root.children[U].q;if(D.add.artb==null)continue;M=M.MK(D.pU());O++}var o=new cn(0,0,w.e,w.n);
if(!M.S9()&&!o.M5(M))return M;return null};y.vz.q7=function(w){var M=y.vz.Kb(w);if(M)y.vz.dr(w,M,!0);
return M};y.vz.dr=function(w,M,O){var b=w.e,D=w.n,o=M.e,Z=M.n,$=M.x==0&&M.y==0;if($&&b==o&&D==Z)return;
w.e=o;w.n=Z;var k=[];for(var U=0;U<w.B.length;U++)k.push(U);if(!$)y.t7.DE(w,k,null,-M.x,-M.y);for(var U=0;
U<w.B.length;U++){w.B[U].h1(w)}w.awu();if(O){var E=w.P.z,t=w.P.T;E.x+=Math.round((M.x+(o-b)/2)*t);E.y+=Math.round((M.y+(Z-D)/2)*t)}else w.P.z.ZK(0,0);
if(w.X)w.X.rect.offset(-M.x,-M.y);var c=w.Wp();for(var l=0;l<c[0].length;l++)if(c[1][l]==-1){var q=w.lX[l];
q[1]-=q[0]==0?M.x:M.y}for(var U=0;U<w.SN.length;U++)w.SN[U].rect.offset(-M.x,-M.y)};y.vz.prototype.Wb=function(w,M,O,b,D){if(w.qh=="commit"){this.Ps(O,D);
this.disable(O,M,null,b)}else if(w.qh=="cancel"){this.disable(O,M,null,b)}var o=null,Z=new cn(0,0,O.e,O.n),$=this.EX.FI;
if(w.qh=="config"){this.EX=w.EX;$=this.EX.FI;if(O==null||!w.awk)return;o=Z;if($.GG==1){var k=$.x/$.y;
if(o.e/k<o.n)o.n=Math.round(o.e/k);else o.e=Math.round(o.n*k)}if($.GG==2){o.e=$.x;o.n=$.y}o.x=Math.round((O.e-o.e)/2);
o.y=Math.round((O.n-o.n)/2)}if(w.qh=="straighten"){alert("Draw a line in the image.");this.Cx=!0}if(w.qh=="cropby"){if(O==null)return;
var E=w.ai3,o;if(E==0)o=O.root.HW(O,!0);if(E==1){if(O.g.length==0)alert("No layer is selected.");else{var t=O.root.KZ(O.g[0]);
o=t.HW(O,!0)}}if(E==2){if(O.g.length==0)alert("No layer is selected.");else{o=x.TO(O.Hp(),Z,0);if(o.S9())o=Z.clone()}}if(E==3){if(O.X!=null)o=O.X.rect;
else alert("There is no selection.")}if(E==4){o=new cn(0,0,O.e,O.n)}}if(o&&o.S9())o=null;if(o!=null){this.ZS=this.WB(o,$.GG!=0);
this.ZS.db(O,D);this.pI(M,A.E.Z,{d:A.t.SW,k:this.id,pq:!0})}};y.vz.prototype.Ps=function(w,M){var O=this.ZS.ji(),b=x.p.Kc(O),D=this.a7V(w,O),o=!1,Z=this.EX.FI,$=this.EX.dr,k=Z.x,E=Z.y,l;
if(this.id==y.xB&&Z.GG==2&&D.v()!=k*E){D=new cn(D.x,D.y,k,E);o=!0}var t=x.N.C9(O,D);t=x.N.ZW(t);var c=x.N.TB(t),q=Math.atan2(t[3],t[0]);
if(Math.abs(q)>1e-9||!c||o||$)l=this.Kk(w,M,!0,t,1,b);var d=new gN(this.name,this),V=new cn(0,0,w.e,w.n);
d.data={tt:l,co:t,Y7:w.P.z.clone(),fs:y.vz.aj9(w,D,V,!1)};y.vz.ale(w,d.data,D);w.zw(d);this.ZT(d.data,w);
this.track(y.vz.a8V([b.x,b.y,b.e,b.n],null,$))};y.vz.ale=function(w,M,O){if(O==null)return;M.i6=new cn(0,0,w.e,w.n);
M.Vc=O};y.vz.F$=function(w,M){if(M.Vc==null)return;y.vz.dr(w,M.Vc)};y.vz.ub=function(w,M){if(M.Vc==null)return;
var O=M.i6.clone();O.offset(-M.Vc.x,-M.Vc.y);y.vz.dr(w,O)};y.vz.prototype.a7V=function(w,M){var O=x.N.C9(M),b=x.N.TB(O),D=x.N.kj(O),o=D.hE,Z=D.Qw,$=Math.atan2(D.L,D.ip);
D.rotate($);var k=new cn(o,Z,D.ip,D.uc);if(!b){function E(j,U,g){var K=j[U]-j[g],a=j[U+1]-j[g+1];return Math.sqrt(K*K+a*a)}var t=E(M,0,2),c=E(M,4,6),l=Math.max(t,c),q=E(M,2,4),d=E(M,6,0),V=Math.max(q,d),L=y.vz.a45(M,w.e/2,w.n/2),e,H;
if(isNaN(L)||L==Infinity||L==-Infinity||Math.min(L,1/L)<.1)L=(t+c)/(q+d);if(l/V>L){e=l*1;H=e/L}else{H=V*1;
e=H*L}k.e=e;k.n=H}k.x=Math.round(k.x);k.y=Math.round(k.y);k.e=Math.round(k.e);k.n=Math.round(k.n);return k};
y.vz.a45=function(w,M,O){var b=w[0]-M,D=w[1]-O,o=w[2]-M,Z=w[3]-O,$=w[6]-M,k=w[7]-O,E=w[4]-M,t=w[5]-O,c=((D-t)*$-(b-E)*k+b*t-D*E)/((Z-t)*$-(o-E)*k+o*t-Z*E),l=((D-t)*o-(b-E)*Z+b*t-D*E)/((k-t)*o-($-E)*Z+$*t-k*E),q=-((l*k-D)*(c*Z-D)+(l*$-b)*(c*o-b))/((l-1)*(c-1));
function d(L){return L*L}var V=Math.sqrt((d(c-1)+d(c*Z-D)/q+d(c*o-b)/q)/(d(l-1)+d(l*k-D)/q+d(l*$-b)/q));
if(c==1&&l==1)V=Math.sqrt((d(Z-D)+d(o-b))/(d(k-D)+d($-b)));return V};y.vz.prototype.disable=function(w,M,O,b){if(w==null)return;
if(this.ZS)this.ZS.clear(w);this.ZS=null;this.pI(M,A.E.Z,{d:A.t.SW,k:this.id,pq:!1})};y.vz.prototype.pI=function(w,M,O,b){var D=new aX(M,!0);
D.data=O;if(b)D.k=b;w.l(D)};y.ag1=function(){y.vz.call(this,[10,2],y.xB,"tools/rcrop")};y.ag1.prototype=new y.vz;
y.aa_=function(){y.vz.call(this,[10,39],y.ew,"tools/pcrop")};y.aa_.prototype=new y.vz;y.DW=function(){y.fV.call(this,[10,21],y.DM,"tools/dodge");
this.bz="dodge"};y.DW.prototype=new y.fV;y.DW.prototype.kf=function(w,M,O,b,D){this.uk(w,O,b,D,this.YA.expo/Math.PI);
if(this.a0==null)return;this.Ht(w)};y.DW.prototype.Ha=function(w,M,O,b,D){this.zM(w,M,O);if(this.Fr)this.St(w,O,D);
if(this.a0==null)return;if(!D.Rw)return;this.DC(w,O,b,D);this.Ht(w)};y.Rz=function(){y.fV.call(this,[10,3],y.aC,"tools/eraser");
this.bz="erase"};y.Rz.prototype=new y.fV;y.Rz.prototype.kf=function(w,M,O,b,D){this.uk(w,O,b,D,this.YA.flow);
if(this.a0==null)return;this.Ht(w)};y.Rz.prototype.Ha=function(w,M,O,b,D){this.zM(w,M,O);if(this.Fr)this.St(w,O,D);
if(this.a0==null)return;if(!D.Rw)return;var o=this.DC(w,O,b,D);this.Ht(w)};y.K1=function(){y.fV.call(this,[10,45],y.ahN,"tools/beraser");
this.bz="ierase"};y.K1.prototype=new y.fV;y.K1.prototype.kf=function(w,M,O,b,D){if(this.wl(b,M,D))return;
this.uk(w,O,b,D,this.YA.flow);if(this.a0==null)return;this.Ht(w)};y.K1.prototype.Ha=function(w,M,O,b,D){this.zM(w,M,O);
if(this.Fr)this.St(w,O,D);if(this.a0==null)return;if(!D.Rw)return;this.DC(w,O,b,D);this.Ht(w)};y.Jn=function(){y.wk.call(this,[10,15],y.P$,"tools/rselect");
this.g1="crosshair"};y.Jn.prototype=new y.wk;y.Jn.prototype.xL=function(w,M,O,b){if(!b.Rw||!this.aL)return;
var D=this.HW(w,O,!0);w.J.F0=x.p.zl(D);w.uP=!0;y.Ke.Jx(b,D,w,M)};y.Jn.prototype.hN=function(w,M,O,b){w.J.F0=null;
w.J.jd=[];w.uP=!0;this.finish(w,M,O,b)};y.Jn.prototype.getSelection=function(w,M,O,b){if(this.aX.M5(this.Aj)||!this.aL)return null;
var D=this.HW(w,O,!0);if(D.S9())return null;return y.wk.Hm("Rctn",D,this.YA.anta)};y.GI=function(){y.wk.call(this,[10,4],y.axS,"tools/eselect");
this.g1="crosshair"};y.GI.prototype=new y.wk;y.GI.prototype.xL=function(w,M,O,b){if(!b.Rw||!this.aL)return;
var D=this.HW(w,O);w.J.F0=y.GI.a0R(D);w.uP=!0;y.Ke.Jx(b,D,w,M)};y.GI.prototype.hN=function(w,M,O,b){w.J.F0=null;
w.J.jd=[];w.uP=!0;this.finish(w,M,O,b)};y.GI.prototype.getSelection=function(w,M,O,b){if(this.aX.M5(this.Aj)||!this.aL)return null;
var D=this.HW(w,O);if(!D.Yt(new cn(0,0,w.e,w.n)))return null;return y.wk.Hm("Elps",D,this.YA.anta)};
y.GI.a0R=function(w){var M=w.x,O=w.y,b=w.x+w.e,D=w.y+w.n,o=(M+b)/2,Z=(O+D)/2,$=(M-b)/2,k=(O-D)/2,E=.5522848,t={C:[o,Z-k],H:["M","C","C","C","C"]};
t.C.push(o+E*$,Z-k,o+$,Z-E*k,o+$,Z);t.C.push(o+$,Z+E*k,o+E*$,Z+k,o,Z+k);t.C.push(o-E*$,Z+k,o-$,Z+E*k,o-$,Z);
t.C.push(o-$,Z-E*k,o-E*$,Z-k,o,Z-k);return t};y.X0=function(w){y.Ke.call(this,[10,5],w?y.Gt:y.Am,"tools/eyedropper");
this.w7=null;this.LW=0;this.wT=null;this.Yl=1;this.j7=2;this.a7a=!0;this.wN=!1};y.X0.prototype=new y.Ke;
y.X0.prototype.fa=function(w){return w.Rw};y.X0.prototype.s0=function(w,M,O,b,D){if(w.d=="pickhere")this.z_(O,M,D,null,w.ap3);
if(w.d=="supertool")this.w7=w.k};y.X0.prototype.kf=function(w,M,O,b,D){var o=this.w7;if(o){o.kf(w,M,O,b,D);
return}this.LW=O.Sw;this.wT=D;var Z=this.z_(w,null,O,b,D);this.lI(w,M,Z,D)};y.X0.prototype.Ha=function(w,M,O,b,D){var o=this.w7;
if(o){o.Ha(w,M,O,b,D);return}var Z=this.wT;if(Z){var $=D.x-Z.x,k=D.y-Z.y,E=1,t=new at(Z.x+$*E,Z.y+k*E),c=this.z_(w,null,O,b,t);
this.lI(w,M,c,t,new at($*(1-E),k*(1-E)))}};y.X0.prototype.lI=function(w,M,O,b,D){var o=this.a7a,Z=this.wN,E=12,t=11;
if(w.P.T>4)Z=!1;if(!Z&&!o)return;if(D==null)D=new at(0,0);var $=new cn(0,0,w.e,w.n),k=w.Hp(),c=(E*2+1)*t,l=new at(c/2,c/2),q=new cn(0,0,c,c),d=x.$(q.v()*4),V=w.P.ep(b.x,b.y),L=Math.floor(V.x),e=Math.floor(V.y),H=new f$;
H.scale(1/t,1/t);H.translate(L-E,e-E);if(Z)x.scale.e$(k,$,H,d,q);var j=(E-3.4)*t,g=(E-1.7)*t,K=E*t;for(var a=0;
a<c;a++)for(var T=0;T<c;T++){var C=at.we(new at(T,a),l);if(C>j){if(o){var F=Math.max(0,j-C+1),m=(a*c+T)*4,N=d[m+3]<<24|d[m]<<16|d[m+1]<<8|d[m+2],v=255<<24|(a<K+t*.5?O:this.LW);
if(C>g){F=Math.max(0,g-C+1);N=v;v=4286611584}else if(!Z){N=v&16777215}d[m+0]=(1-F)*(v>>>16&255)+F*(N>>>16&255);
d[m+1]=(1-F)*(v>>>8&255)+F*(N>>>8&255);d[m+2]=(1-F)*(v>>>0&255)+F*(N>>>0&255);d[m+3]=(1-F)*(v>>>24&255)+F*(N>>>24&255)}if(C>K){d[(a*c+T)*4+3]=Math.max(0,255*(K-C+1))}}}function h(U){var z=U<<2;
d[z]=0;d[z+1]=0;d[z+2]=0;d[z+3]=255}function P(U){var z=U<<2;d[z]=255;d[z+1]=255;d[z+2]=255;d[z+3]=255}var J=this.Yl*t+2,Y=c-J>>>1,B=Y+J-1;
if(Z&&J<c)for(var U=0;U<J;U++){var S=Y*c+Y+U,r=B*c+Y+U,I=(Y+U)*c+Y,f=(Y+U)*c+B;h(S);h(r);h(I);h(f);if(U!=0&&U!=J-1){P(S+c);
P(r-c);P(I+1);P(f-1)}}if(!Z)for(var U=-9;U<=9;U++){if(-3<U&&U<3)continue;var s=c>>>1,T=s*c+s+U,a=(s+U)*c+s;
P(T-c);h(T);P(T+c);P(a-1);h(a);P(a+1)}var W=y.Ke.pn(0,0,["#"+x.zZ(O),"RGB "+(O>>>16&255)+","+(O>>>8&255)+","+(O>>>0&255)]),$=W[1];
$.y=0;$.x=c-$.e>>>1;x.xu(W[0],$,d,q);var i={cB:d,xr:q,Ct:new at(l.x+D.x,l.y+D.y)},u=new aX(A.E.Z,!0);
u.data={d:A.t.s5,ue:i};M.l(u)};y.X0.prototype.oH=function(w,M,O,b,D,o){this.z_(w,M,O,b,D);var Z=this.w7;
if(Z){Z.oH(w,M,O,b,D);return}if(this.wT){this.wT=null;if(o)this.z_(w,M,O,b,D,this.LW);var $=new aX(A.E.Z,!0);
$.data={d:A.t.s5,ue:"default"};M.l($)}};y.X0.prototype.z_=function(w,M,O,b,D,o){if(o==null)o=y.X0.TT(w,D,this.Yl,this.j7);
var Z=new aX(A.E.Z);Z.data={d:A.t.pF,I8:eM.Ih,uj:b&&b.i(i_.PY)?1:0,G:o};if(M)M.l(Z);return o};y.X0.TT=function(w,M,O,b){if(b==null)b=2;
var D=w.P.ep(M.x,M.y),o,Z,$=w.g.length==1&&w.B[w.g[0]].cn>0,k=w.m7.length!=0,g=0,K=0,a=0;if($||k){var E;
if(k)E=w.SN[w.m7[0]];else{var t=w.B[w.g[0]];E=t.cn==1?t.yo():t.ajF()}Z=E.HW();if(!Z.MS(D))return E.color==0?0:16777215;
o=x.$(Z.v()*4);o.fill(255);var c=E.GZ();x.CA(c,o)}else if(b==0&&w.g.length!=0){var t=w.B[w.g[0]];o=t.buffer;
Z=t.rect}else{o=b==2?w.Hp():w.Hp(w.g[0]);Z=new cn(0,0,w.e,w.n)}var l=Math.floor(D.x)-Z.x,q=Math.floor(D.y)-Z.y,d=(O-1)/2,V=Math.max(0,l-d),L=Math.max(0,q-d),e=Math.min(Z.e,l+d+1),H=Math.min(Z.n,q+d+1),j=(e-V)*(H-L);
for(var l=V;l<e;l++)for(var q=L;q<H;q++){var U=4*(q*Z.e+l);g+=o[U];K+=o[U+1];a+=o[U+2]}g=Math.round(g/j);
K=Math.round(K/j);a=Math.round(a/j);return g<<16|K<<8|a};y.X0.prototype.Wb=function(w){var M=w.YA;this.Yl=[1,3,5,11,31][M[0]];
this.j7=M[1];this.a7a=M[2];this.wN=M[3]};y.Cw=function(){y.Ke.call(this,[10,6],y.ag6,"tools/gradient");
this.YA={M:JSON.parse(aN.eW.and).v,Pg:"Lnr",Ao:!1,a4q:!1,a2F:"norm",uX:1};this.VY=!1;this.ML=null};y.Cw.prototype=new y.Ke;
y.Cw.prototype.enable=function(w,M,O,b){var D=new aX(A.E.Z,!0);D.data={d:A.t.s5,ue:"default"};M.l(D)};
y.Cw.prototype.Wb=function(w){this.YA=w.I8};y.Cw.prototype.kf=function(w,M,O,b,D){if(!w.D_())return;
this.ML=w.P.ep(D.x,D.y);this.ML=y.t7.R3(w,this.ML,O);this.VY=!0};y.Cw.prototype.Ha=function(w,M,O,b,D){if(!this.VY)return;
var o=w.P.ep(D.x,D.y);o=y.t7.R3(w,o,O);if(b.i(i_.Z4))o=y.Cw.ay(this.ML,o);w.J.F0={C:[this.ML.x,this.ML.y,o.x,o.y],H:["M","L"]};
w.J.BK=[this.ML.x,this.ML.y,o.x,o.y];w.uP=!0};y.Cw.prototype.oH=function(w,M,O,b,D){if(!this.VY)return;
var o=w.B[w.g[0]],Z=w.P.ep(D.x,D.y);Z=y.t7.R3(w,Z,O);if(b.i(i_.Z4))Z=y.Cw.ay(this.ML,Z);var $=Z._6(this.ML),k=at.yL(this.ML,Z,.5),E=Math.atan2($.y,$.x),t=at.we(this.ML,Z),c=Math.sin(E),l=Math.cos(E);
if(t>2){var q;if(w.X)q=w.X.rect;else q=new cn(0,0,w.e,w.n);var d=x.$(q.v()*4),V=this.YA,L=V.Pg;if(L!="Lnr"){t*=2;
k=this.ML}x.M.LJ(V.M,d,q,[l*1/t,c*1/t,-c*1/t,l*1/t],k.x,k.y,V.Ao,aN.M.types.indexOf(L),O.Sw,O.fj,null,V.a4q);
var e=Math.round(V.uX*256),H=d.length;if(e!=256)for(var U=0;U<H;U+=4)d[U+3]=d[U+3]*e>>>8;var j=new aX(A.E.s);
j.k=y.aC;j.data={d:"fillBMP",DO:d,_V:V.a2F,vZ:this.name};M.l(j)}w.J.F0=null;w.J.BK=[];w.uP=!0;this.VY=!1};
y.Cw.ay=function(w,M){if(w.M5(M))return w;var O=M.x-w.x,b=M.y-w.y,D=Math.abs(O),o=Math.abs(b);if(D>o)o=D/2>o?0:D;
if(o>D)D=o/2>D?0:o;D=O>0?D:-D;o=b>0?o:-o;var Z=Math.sqrt(O*O+b*b)/Math.sqrt(D*D+o*o);return new at(w.x+D*Z,w.y+o*Z)};
y.Cw.Td=function(w,M,O,b,D,o,Z){if(Z==null)Z=document.createElement("canvas");var $=Z.getContext("2d");
Z.width=M;Z.height=O;var k=new cn(0,0,M,O),E=x.$(M*O*4);x.zp(E,M,O,4);var t=Math.sin(b),c=Math.cos(b),l=x.$(M*O*4);
x.M.LJ(w,l,k,[c*1/M,t*1/M,-t*1/O,c*1/O],M/2,O/2,!1,0,D,o);x.a.DP("norm",l,k,E,k,k,1);var q=$.getImageData(0,0,M,O);
x.U7(E,q.data);$.putImageData(q,0,0);return Z.toDataURL()};y.Cw.asA=function(w,M,O){var b=JSON.parse(JSON.stringify(w));
if(b.Clrs)for(var U=0;U<b.Clrs.v.length;U++){var D=b.Clrs.v[U].v,o=D.Type.v.Clry;if(o=="UsrS")continue;
var Z=o=="FrgC"?M:O;D.Type.v.Clry="UsrS";D.Clr={t:"Objc",v:x.M.jk({o:Z>>16&255,w:Z>>8&255,L:Z&255})}}return b};
y.qV=function(){y.Ke.call(this,[10,7],y.ct,"tools/hand");this.wT=new at(0,0);this.DH=null;this.kx=0};
y.qV.prototype=new y.Ke;y.qV.prototype.s0=function(w,M,O,b,D){var o=w.d;if(o=="setcls"){O.P.$Y=w.$Y;
O.uP=!0;O.bN=!0}if(o=="scroll"&&!b.i(i_.PY)){if(b.i(i_.v9))y.qV.aH(O,O.P.z.x-w.v_.y,O.P.z.y-w.v_.x);
else y.qV.aH(O,O.P.z.x-w.v_.x,O.P.z.y-w.v_.y)}};y.qV.prototype.enable=function(w,M,O,b){this.DH=null;
var D=new aX(A.E.Z,!0);D.data={d:A.t.s5,ue:"grab"};M.l(D);if(w&&Date.now()-this.kx<300){D.type=A.E.s;
D.k=y.s_;D.data={d:"adapt",G:"fitscr"};M.l(D)}this.kx=Date.now()};y.qV.prototype.kf=function(w,M,O,b,D){this.DH=w.P.z.clone();
this.wT.ZK(D.x,D.y)};y.qV.prototype.Ha=function(w,M,O,b,D){if(!D.Rw)return;if(this.DH==null)this.kf(w,M,O,b,D);
y.qV.aH(w,this.DH.x+(D.x-this.wT.x),this.DH.y+(D.y-this.wT.y))};y.qV.prototype.oH=function(w,M,O,b,D){this.DH=null};
y.qV.aH=function(w,M,O){var b=w.P.T,D=w.P.iu,o=D.e,Z=D.n,$=w.e*b,k=w.n*b,E=$<o&&k<Z,t=o/2+$/2-64,c=Z/2+k/2-64;
w.P.z.ZK(Math.max(-t,Math.min(t,M)),Math.max(-c,Math.min(c,O)));w.bN=!0};y.Y8=function(){y.Ke.call(this,[10,47],y.f8,"tools/rview");
this.wT=new at(0,0);this.na=null;this.rD=null;this.kx=0};y.Y8.prototype=new y.Ke;y.Y8.prototype.enable=function(w,M,O,b){this.DH=null;
var D=new aX(A.E.Z,!0);D.data={d:A.t.s5,ue:"grab"};M.l(D);if(w&&Date.now()-this.kx<300&&w.P.td!=0){w.P.td=0;
w.uP=!0}this.kx=Date.now();if(w)this.JM(w,M)};y.Y8.prototype.disable=function(w,M,O,b,D){if(w)this.JM(w,M)};
y.Y8.prototype.q6=function(w,M,O,b){if(w)this.JM(w,M)};y.Y8.prototype.kf=function(w,M,O,b,D){this.wT.ZK(D.x,D.y);
var o=w.P;this.na=o.ep(o.iu.e/2,o.iu.n/2);this.rD=o.Ec();var Z=o.ep(o.iu.e/2,o.iu.n/2),$=Math.min(o.iu.e,o.iu.n)*.35/o.T,k=$*.2,E=Z.x,t=Z.y;
w.J.F0={H:"M L L L L L".split(" "),C:[E,t,E,t-$,E+k,t,E,t+$,E-k,t,E,t-$]};w.uP=!0};y.Y8.prototype.apT=function(w){var M=w.P,O=M.ep(M.iu.e/2,M.iu.n/2);
w.J.F0={H:["M","L"],C:[O.x,O.y,O.x,O.y-200]}};y.Y8.prototype.Ha=function(w,M,O,b,D){if(!D.Rw)return;
var o=w.P,Z=this.na,$=this.wT,k=new at(o.iu.e/2,o.iu.n/2),E=Math.atan2(D.y-k.y,D.x-k.x),t=Math.atan2($.y-k.y,$.x-k.x),c=Math.atan2(this.rD.L,this.rD.ip),l=E-t,q=Math.PI/4;
if(b.i(i_.Z4)){l=c+q*Math.round((l-c)/q)}this.am2(w,M,this.rD.clone(),Z,l)};y.Y8.prototype.oH=function(w,M,O,b,D){w.J.F0=null;
w.uP=!0};y.Y8.prototype.Wb=function(w,M,O,b){this.am2(O,M,null,null,w.cJ-O.P.td);O.P.td=w.cJ};y.Y8.prototype.am2=function(w,M,O,b,D){var o=w.P;
if(O==null)O=o.Ec();if(b==null)b=o.ep(o.iu.e/2,o.iu.n/2);O.translate(-b.x,-b.y);O.rotate(D);O.translate(b.x,b.y);
o.a7C(O);if(w.e*o.T<o.iu.e&&w.n*o.T<o.iu.n)o.z.ZK(0,0);w.uP=!0;this.JM(w,M)};y.Y8.prototype.JM=function(w,M){var O=new aX(A.E.Z,!0);
O.data={d:A.t.SW,k:this.id,cJ:w.P.td};M.l(O)};y.bb=function(){y.fb.call(this,[10,25],y.iC,"tools/hbrush")};
y.bb.prototype=new y.fb("");y.bb.prototype.oH=function(w,M,O,b,D){if(this.a0==null)return;this.jW(w,"heal",this.a0.Mg(),this.a0.HW(),this.a0.IH());
this.K(w,this.a0.IH());y.fV.prototype.oH.call(this,w,M,O,b,D);if(!this.YA.algnd)this.z=null};y.YM=function(w){y.Ke.call(this,w?["VAR0 VAR1",[22,4,1],[10,8]]:[10,8],w?y.Qn:y.hY,w?"tools/vtype":"tools/htype");
this.Zp=[];this.ND=null;this.caller=null;this.Wf=1;this.Zt=null;this.a1$=0;this._s=0;this.a9R=null;this.Rg=null;
this.f0=null;this.Kh=null;this.Lj=null;this.Zf=null;this.a1_=null;this.YU=null;this.ZS=null;this.Of=null;
this.anh=null;this.QS=!1;this.Hn=!1;this.aJ=!1;this.j9=null;this.ba=null;this.agC=null;this.P0=!1;this.si=!1;
this.yh=-1;this.LA=-1;this.PZ=document.createElement("textarea");this.PZ.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1; "+" position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; width:"+(window.innerWidth-10)+"px; height:150px;");
this.PZ.addEventListener("input",this.PG.bind(this),!1);this.PZ.addEventListener("keydown",this.awh.bind(this),!1);
this.PZ.addEventListener("keyup",this.aoJ.bind(this),!1)};y.YM.prototype=new y.Ke;y.YM.prototype.fa=function(w){return w.Rw};
y.YM.prototype.S4=function(w,M,O,b){if(this.f0!=null||this.id==y.Qn)return;this.caller=M;var D=this.any(w);
if(D.length!=0){var o=null,Z=[],$=[];for(var U=0;U<D.length;U++){var k=w.B[D[U]],E=k.add.TySh,t=0,c=ah.mb(E.GM).length-2,l=ah._J(E.GM,t,c);
ah.ns(l,y.u.gy(E.F));if(l.Qc.Font!=null)l.Qc.Font=l.ju[l.Qc.Font].Name;o=l.ju;Z.push(l.Qc);$.push(l.xy)}var l={ju:o,Qc:ah.H9(Z),xy:ah.H9($)};
if(l.Qc.Font!=null)ah.Lh(l,l.Qc.Font);this.aqi(M,l,E)}};y.YM.prototype.any=function(w){var M=[];for(var U=0;
U<w.g.length;U++)if(w.B[w.g[U]]&&w.B[w.g[U]].add.TySh)M.push(w.g[U]);return M};y.YM.prototype.s0=function(w,M,O,b,D){var o=w.d=="insertGlyph";
if((o||w.d=="insertText")&&this.f0){var Z=o?String.fromCharCode(65533):w.G,$=this.PZ,k=$.value,E=$.selectionStart,t=$.selectionEnd;
$.value=k.slice(0,E)+Z+k.slice(t);$.selectionStart=$.selectionEnd=E+Z.length;this.PG(null,o?w.G:null);
$.focus()}if(w.d=="updateStyles"){if(this.f0==null){var c=this.any(O),l=!1;if(c.length!=0){this.Gy(O,M,D,c);
for(var U=0;U<c.length;U++){var q=O.B[c[U]],d=q.add.TySh;ah.da(d,this.Wf);this.f0=q;var V=ah.mb(d.GM);
this.yh=0;this.LA=V.length-1;ah.j_(d.GM,this.yh,this.LA,this.GV(D,d));var L=this.Xd(O,D);if(L==!1)l=!0}if(l){this.P0=!0;
return}this.tl(O,M)}return}this.m1(D)}if(w.d.startsWith("warp")){var e=this.si;if(w.d=="warp"||w.d=="warpCancel"){if(this.f0==null)return;
if(w.d=="warp")this.f0.add.TySh.TY=w.vL;else this.f0.add.TySh.TY=this.a1_;this.Xd(O,D);if(!e)this.Ok(O)}if(w.d!="warp")this.PZ.focus();
if((w.d=="warpConfirm"||w.d=="warpCancel")&&e){this.si=!1;if(w.d=="warpConfirm")this.tl(O,M);else this.qq(O,M)}}if(w.d=="editCurr"){if(D.yK!=y.hY){this.Zt=D.yK;
var H=new aX(A.E.Z,!0);H.data={d:A.t.Mq,k:y.hY};M.l(H)}if(this.f0!=null)this.disable(O,M,D,b);this.ND=D;
this.caller=M;this.Gy(O,M,D,[w.dp]);var V=ah.mb(this.f0.add.TySh.GM);this.yh=0;this.LA=V.length-1;this.Ok(O);
this.dP();this.PZ.focus()}if(w.d=="switchPntPrgr"){if(this.f0)return;var q=O.B[O.g[0]],d=q.add.TySh,j=d.F.gy(),g=JSON.parse(JSON.stringify(d.GM)),K=ah.SJ(g),a=K==1?ah.g9(g):[0,0,Math.round(q.rect.e*1.05/j),Math.round(q.rect.n*1.25/j)],T=ah._J(g,0,0),C=T.ju[T.Qc.Font].Name,F=D.Yv.vk(C),m=[0,a[2],a[2]/2][T.xy.Justification%3],N=F?bs.pE(F,C,T.Qc):T.Qc.FontSize*.8;
ah.EC(g,1-K);if(K==0){m=-m;N=-N;ah.h4(g,[0,0,a[2],a[3]])}var v=new f$(1,0,0,1,m,N);v.concat(d.F);this.s0({Tq:O.g[0],d:"newED",J7:g,F:v,a0D:[16,3,K==1?0:1]},M,O,b,D)}if(w.d=="newED"){var q=O.B[w.Tq],d=q.add.TySh,h=this.P2(O,[w.Tq]);
d.GM=w.J7;if(w.F)d.F=w.F;if(km.ao(d,D.Yv,M)){var P=new bs(d.GM,D.Yv),J=km.sr(P,d);q.rect=J.xr;q.buffer=J.AJ;
q.K();O.K()}else O.Tb=!0;var Y=new gN(w.a0D?w.a0D:this.name,this);Y.data={n9:h,Ma:this.P2(O,[w.Tq])};
O.zw(Y)}if(w.d=="fromAction"){var B=w.Ci.g0.Usng.v,S=B.TxtC.v,r=[];for(var U=0;U<2;U++){var I=S[U==0?"Hrzn":"Vrtc"].v,Z=I.val;
if(I.type=="#Prc")Z=(U==0?O.e:O.n)*(Z/100);r[U]=Z}this.YX(O,M,D,b,O.P.hP(r[0],r[1]));var q=O.B[O.g[0]],d=q.add.TySh,f=d.GM,k=ah.mb(f);
ah.Rm(f,0,k.length-1);ah.nD(f,0,B.Txt.v.replace(/\r/g,"\n"));k=ah.mb(f);for(var K=0;K<2;K++){var s=B[K==0?"Txtt":"paragraphStyleRange"].v;
for(var U=0;U<s.length;U++){var W=s[U].v,E=W.From.v,t=Math.min(W.T.v-1,k.length-1);W=W[K==0?"TxtS":"paragraphStyle"].v;
var i=ah._J(f,E,t),u=K==0?i.Qc:i.xy;for(var z in W){var G=W[z].v;if(z=="Sz")u.FontSize=Math.round(G.val);
else if(z=="fontPostScriptName")ah.Lh(i,G);else if(z=="Algn")u.Justification={Left:1,Cntr:2}[G.Alg];
else if(z=="leading")u.Leading=W[z].v.val;else if(z=="baselineShift")u.BaselineShift=W[z].v.val;else if(z=="autoLeading")u.AutoLeading=W[z].v;
else if(z=="syntheticBold")u.FauxBold=W[z].v;else if(z=="syntheticItalic")u.FauxItalic=W[z].v;else if(z=="Trck")u.Tracking=W[z].v;
else if(z=="verticalScale")u.VerticalScale=W[z].v/100;else if(z=="horizontalScale")u.HorizontalScale=W[z].v/100;
else if(z=="Clr")u.FillColor={Type:1,Values:[1,G.Rd.v/255,G.Grn.v/255,G.Bl.v/255]}}ah.j_(f,E,t,i)}}var P=new bs(d.GM,D.Yv),J=km.sr(P,d);
q.rect=J.xr;q.buffer=J.AJ;q.K();O.K();this.tl(O,M)}};y.YM.prototype.m1=function(w){var M=Math.min(this.yh,this.LA),O=Math.max(this.yh,this.LA),b=this.f0.add.TySh;
ah.da(b,this.Wf);var D=this.GV(w,b);ah.j_(b.GM,M,O-1,D);var o=this.caller.Ww(),Z=this.Xd(o,w);if(Z)this.Ok(o);
if(document.activeElement.tagName.toLowerCase()!="input")this.PZ.focus()};y.YM.prototype.FX=function(w){return this.Zp.indexOf(w)!=-1};
y.YM.prototype.enable=function(w,M,O,b){var D=this.PZ;M.m.appendChild(D);this.YU="default";this.lI(M)};
y.YM.prototype.Xc=function(){return this.f0!=null};y.YM.Zz=function(w,M){for(var U=w.B.length-1;U>=0;
U--){var O=w.B[U];if(O.add.TySh&&O.rect.MS(M)&&w.a6T(U)){var b=O.uK(31);return b?-2:U}}return-1};y.YM.prototype.kf=function(w,M,O,b,D){this.ND=O;
this.caller=M;var o=w.P.ep(D.x,D.y),Z=this.f0==null;if(Z){var $=y.YM.Zz(w,o);if($==-2){alert(fr.get([6,57,0]));
return}if($>=0&&!b.i(i_.Z4)){if(!km.ao(w.B[$].add.TySh,O.Yv,M)){alert("Fonts not loaded yet");return}this.Gy(w,M,O,[$])}else{this.aJ=!0;
this.j9=D;return}}var k=Z?-1:ah.SJ(this.f0.add.TySh.GM),E=this.Of?this.Of:this.ZS;if(E&&E.kf(w,O,b,o,null,null,D)&&x.vL.hC(this.f0.add.TySh.TY)||!Z&&x.p.EU(o,this.f0.rect)>20/w.P.T&&(k==0||k==1)){this.QS=!0;
this.ba=o;this.agC=this.f0.add.TySh.F.clone();if(this.yh==-1&&this.LA==-1)this.yh=this.LA=this.Fe(o)}else{if(this.Lj==null){alert("Fonts not loaded yet");
return}this.Hn=!0;this.yh=this.LA=this.Fe(o);var t=Date.now();if(t-this.a1$>300)this._s=0;this._s++;
this.a1$=t;if(this._s==2)this.asC();if(this._s==3)this.awW();if(this._s>1){this.Hn=!1}}this.dP();this.Ok(w)};
y.YM.prototype.Gy=function(w,M,O,b){var D=w.B[b[0]];this.f0=D;this.pI(M,A.E.Z,{d:A.t.SW,k:this.id,qh:"showactive"});
this.Kh=b;w.g=b.slice(0);w.UQ();w.Bd=!0;this.Zf=this.P2(w,b);this.mh(D.add.TySh);this.Xd(w,O)};y.YM.prototype.mh=function(w){if(ah.SJ(w.GM)!=1)return;
var M=ah.g9(w.GM);M=new cn(0,0,M[2]-M[0],M[3]-M[1]);var O=[M.x,M.y,M.x+M.e,M.y,M.x+M.e,M.y+M.n,M.x,M.y+M.n];
x.p.F(O,w.F,O);this.ZS=new h$(O,!1,!1,!1,!0)};y.YM.prototype.asC=function(){var w=ah.mb(this.f0.add.TySh.GM);
this.yh=this.ala(w,this.yh);this.LA=this.anE(w,this.yh)};y.YM.prototype.ala=function(w,M){var O=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",b=[];
for(var U=0;U<O.length;U++)b.push(O.charAt(U));var D=b.indexOf(w[M])==-1?!0:!1;for(var U=M-1;U>=0;U--)if(b.indexOf(w.charAt(U))!=-1==D)return U+1;
return 0};y.YM.prototype.anE=function(w,M){var O=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",b=[];for(var U=0;
U<O.length;U++)b.push(O.charAt(U));var D=b.indexOf(w[M])==-1?!0:!1;for(var U=M+1;U<w.length;U++)if(b.indexOf(w.charAt(U))!=-1==D)return U;
return w.length-1};y.YM.prototype.awW=function(){var w=this.Lj.avC(this.yh);this.yh=w[0];this.LA=w[1]};
y.YM.prototype.lI=function(w){var M=new aX(A.E.Z,!0);M.data={d:A.t.s5,ue:this.YU};w.l(M)};y.YM.prototype.Ha=function(w,M,O,b,D){var o=w.P.ep(D.x,D.y),Z=this.f0;
if(!D.Rw){var $="default",k=this.ZS,E=this.Of?this.Of:k;if(E&&x.vL.hC(Z.add.TySh.TY)){var t=E.p6(o,w.P.T,null,D);
if(t)$=t;else if(E==k&&k.JL(o))$="text"}else if(Z&&x.p.EU(o,Z.rect)>20/w.P.T)$="move";else if(y.YM.Zz(w,o)>=0)$="text";
if($!=this.YU){this.YU=$;this.lI(M)}}var c=this.j9;if(this.aJ&&Math.min(D.x-c.x,D.y-c.y)>4/w.P.T){this.aJ=!1;
this.YX(w,M,O,b,D);Z=this.f0;this.QS=!0;this.ZS=new h$(null,!1,!1,!1,!0);var l=w.P.ep(this.j9.x,this.j9.y);
l.x=Math.round(l.x);l.y=Math.round(l.y);this.ZS.kf(w,O,b,l,null,null,D,w.P.td)}if(this.QS){var q=Z.add.TySh;
if(this.Of){this.Of.Ha(w,O,b,o);var d=x.N.kj(x.N.C9(this.Of.ji(),this.anh));q.F=d;this.Xd(w,O);ah.mL(q)}else if(this.ZS){this.ZS.Ha(w,O,b,o);
var V=q.F.clone(),L=Math.atan2(V.L,V.ip);V.rotate(L);var d=x.N.kj(x.N.C9(this.ZS.ji())),e=Math.atan2(d.L,d.ip);
d.rotate(e);if(!isNaN(d.ip)&&d.ip*d.uc-d.L*d.Hv!=0){var H=new cn(0,0,d.ip/V.ip,d.uc/V.uc),j=Math.round(H.e),g=Math.round(H.n),K=q.GM.Curve;
if(K){var a=ah.g9(q.GM),T=new f$(j/a[2],0,0,g/a[3],0,0);x.p.F(K.Points,T,K.Points);ah.mL(q)}ah.h4(q.GM,[0,0,j,g]);
q.F=x.N.kj(x.N.C9(this.ZS.ji(),H));this.Xd(w,O);ah.mL(q)}}else{var C=o.x-this.ba.x,F=o.y-this.ba.y;q.F=this.agC.clone();
var m=new at(q.F.hE+C,q.F.Qw+F);m=y.t7.R3(w,m,O);q.F.hE=m.x;q.F.Qw=m.y;this.Xd(w,O)}}if(this.Hn)this.LA=this.Fe(o);
if(this.QS||this.Hn)this.Ok(w)};y.YM.prototype.YX=function(w,M,O,b,D){var o=w.ff(),Z=o[0],$=o[1],k=w.uV();
k.add.lnsr="rend";var E=w.B.slice(0);k.EJ("Text layer "+E.length);this.f0=k;var t=w.g.length==0?w.B.length-1:w.g[w.g.length-1],c=t+1;
if(E[t].add.lsct==ht.cx)c--;this.Zf={YI:E.slice(0),jP:w.g.slice(0)};E.splice(c,0,k);w.g=[c];this.yh=this.LA=0;
w.i2(E);this.Zf.Q6=E.slice(0);this.Zf.$X=w.g.slice(0);this.pI(M,A.E.Z,{d:A.t.SW,k:this.id,qh:"showactive"});
var l=w.P.ep(D.x,D.y),q=O.ib;console.log(q);if(this.id==y.Qn){q=JSON.parse(JSON.stringify(q));q.Qc.BaselineDirection=1}k.add.TySh=ah.Wm(l.x,l.y,q,w.P.td);
var d=k.add.TySh,V=d.GM;if(this.id==y.Qn)V._LineOrientation=2;ah.da(d,this.Wf);if(D.Rw)ah.EC(V,1);else{ah.EC(V,0);
var L=Z[$.pop()],e=L?L.add.vmsk:null;if(e&&!b.i(i_.Z4)){e=e.clone();var H=e.j,g,K;for(var U=0;U<H.length;
U++)if(H[U].K$!=null)H[U].K$=0;var j=5/w.P.T;g=x.O.BE(e.j,l,!0,j);if(g.zS==-1)g=x.O.BE(e.j,l);if(g.zS!=-1){ah.EC(V,1);
var a=x.O.r$(H,g.zS),T=x.O.Gd(H,g.zS)-1;H=e.j=H.slice(0,2).concat(H.slice(a,a+T+1));e.g=[];d.add={vmsk:e,vogk:Q.De(H)};
V.Curve={};ah._W(d);if(g.Q2!=null){var C=bs.Bj(V.Curve);x.p.F(C[0],d.F,C[0]);var F=x.p.A6(C[0],l.x,l.y),m=O.ib.xy.Justification;
if(m==2||m==5){var N=(C[2][F]+C[3]*.5)%C[3];F=bs.bS(N,C[2])}var v=C[1][F];v=v%T;e.QQ=[v,v];ah._W(d)}else this.mh(d)}}}return k};
y.YM.prototype.oH=function(w,M,O,b,D,o){if(o){this.aJ=!1;return}if(this.f0==null&&!this.aJ)return;var Z=w.P.ep(D.x,D.y),$=this.aJ;
if(this.aJ){this.aJ=!1;this.YX(w,M,O,b,D);this.Hn=!0}if(this.QS||this.Hn){this.Ok(w);this.dP();if($)this.m1(O)}if(this.QS&&this.ZS)this.ZS.oH(w,O,b,Z);
this.QS=this.Hn=!1;this.PZ.focus()};y.YM.prototype.dP=function(){var w=this.f0.add.TySh,M=Math.min(this.yh,this.LA),O=Math.max(this.yh,this.LA),b,D;
if(M==O){var o=ah.mb(w.GM);if(M==0||o.charAt(M-1)=="\n")b=D=M;else b=D=M-1}else{b=M;D=O-1}var Z=ah._J(w.GM,b,D);
ah.ns(Z,y.u.gy(w.F));this.aqi(this.caller,Z,w)};y.YM.prototype.aqi=function(w,M,O){this.pI(w,A.E.Z,{d:A.t.pF,I8:eM.Xo,ib:M});
var b=this.Wf=ah.Lv(O);this.pI(this.caller,A.E.Z,{d:A.t.SW,k:this.id,qh:"changeAA",XU:b})};y.YM.prototype.axB=function(){var w=this.f0;
if(w&&!this.QS&&this.Of!=null){var M=this.caller.Ww();this.Of.oH(M,this.ND,null,null);this.Of=null;this.mh(w.add.TySh);
this.Ok(M)}};y.YM.prototype.disable=function(w,M,O,b){var D=this.f0;this.tl(w,M)};y.YM.prototype.Wb=function(w,M,O,b,D){if(this.si)return;
if(w.qh=="commit")this.tl(O,M);if(w.qh=="cancel")this.qq(O,M);if(w.qh=="changeAA"){this.Wf=w.XU;if(O!=null)this.s0({d:"updateStyles"},M,O,b,D)}if(w.qh=="showwarp"){if(O==null)return;
if(this.f0==null){var o=O.B[O.g[0]],Z=o.add.TySh;if(Z==null)return;this.Gy(O,M,D,[O.g[0]]);this.PZ.focus();
this.si=!0}this.a1_=this.f0.add.TySh.TY;var $=new aX(A.E.Z,!0);$.data={d:A.t.JE,IP:"textwarp"};M.l($)}};
y.YM.prototype.o9=function(w,M){if(M!=eM.NX)return;if(this.P0){this.P0=!1;var O=this.caller.Ww(),b=this.Kh;
for(var U=0;U<b.length;U++){this.f0=O.B[b[U]];this.Xd(O,w)}this.tl(O,this.caller);return}if(this.f0)this.m1(w)};
y.YM.prototype.GV=function(w,M){var O=JSON.parse(JSON.stringify(w.ib));ah.ns(O,1/y.u.gy(M.F));return O};
y.YM.prototype.ZT=function(w,M){if(w.n9!=null)this.US(M,w.Ma);else this.ah1(M,w.Q6,w.$X)};y.YM.prototype.y3=function(w,M){if(w.n9!=null)this.US(M,w.n9);
else this.ah1(M,w.YI,w.jP)};y.YM.prototype.US=function(w,M){for(var U=0;U<M.length;U++){var O=M[U],b=O.Tq,D=w.B[b];
D.buffer=O.bg;D.rect=O.xr.clone();D.K();var o=D.add.TySh;o.TY=O.vL;o.AY=O.AY.clone();o.F=O.F.clone();
o.GM=JSON.parse(JSON.stringify(O.GM));D.FO()}w.K()};y.YM.prototype.P2=function(w,M){var O=[];for(var U=0;
U<M.length;U++){var b=M[U],D=w.B[b],o=D.add.TySh;O.push({Tq:b,F:o.F.clone(),vL:JSON.parse(JSON.stringify(o.TY)),AY:o.AY.clone(),GM:JSON.parse(JSON.stringify(o.GM)),bg:D.buffer.slice(0),xr:D.rect.clone()})}return O};
y.YM.prototype.ah1=function(w,M,O){w.g=O;w.i2(M);w.K();w.Er=!0};y.YM.prototype.Xd=function(w,M,O){if(O==null)O=!1;
var b=this.f0.add.TySh;if(!km.ao(b,M.Yv,this.caller))return!1;this.Lj=new bs(b.GM,M.Yv);if(!O){var D=ah.mb(b.GM);
this.PZ.value=D.slice(0,D.length-1)}var o=km.sr(this.Lj,b);if(x.vL.hC(b.TY))b.AY=new cn;else{if(ah.SJ(b.GM)==1){var Z=ah.g9(b.GM),aq=o.AY.y;
b.AY=new cn(0,aq,Z[2]-Z[0],Z[3]-Z[1]-aq)}else{b.AY=o.AY}}var $=this.f0.rect;this.f0.rect=o.xr;this.f0.buffer=o.AJ;
this.f0.K();w._v();w.K(w.root.aa(o.xr.MK($),w,w.B.indexOf(this.f0)));return!0};y.YM.prototype.PG=function(w,M){if(this.f0==null||this.si)return;
var O=this.PZ.selectionStart,b=this.f0.add.TySh,D=ah.mb(b.GM),o=this.PZ.value+"\n",Z=Math.min(this.yh,this.LA),$=Math.max(this.yh,this.LA),l=!1;
this.yh=Math.min(O,Z);if(o.length-O<D.length-this.LA)this.LA=D.length-o.length+O;if(D!=o){while(this.yh>0&&D.charAt(this.yh-1)!=o.charAt(this.yh-1))this.yh--}var k=D.substring(0,this.yh),E=D.substring(this.LA,D.length),t=o.substring(this.yh,o.length-E.length);
ah.Rm(b.GM,this.yh,this.LA);ah.nD(b.GM,this.yh,t);if(M!=null)ah.a4C(b.GM,this.yh,M);var c=this.GV(this.ND,b),q=-1,d=Array.from(t);
for(var U=0;U<d.length;U++)q=Math.max(q,d[U].codePointAt(0));if(q!=-1&&q>128&&q!=65533&&c.Qc.Font!=null){var V=c.ju[c.Qc.Font].Name,L=this.ND.Yv.qr(q,V,c.ju);
if(V!=L){ah.Lh(c,L);l=!0}}if(this.Rg!=null&&t==this.Rg){var e=JSON.parse(this.a9R);c.Qc=e.Qc;c.ju=e.ju;
l=!0}ah.j_(b.GM,this.yh,this.yh+t.length-1,c);this.yh=this.LA=k.length+t.length;var H=this.caller.Ww(),j=this.Xd(H,this.ND,!0);
if(j)this.Ok(H,!0);if(l)this.dP()};y.YM.prototype.aoJ=function(w){var M=i_;if(!w.ctrlKey)this.axB();
w.stopPropagation()};y.YM.prototype.awh=function(w){w.stopPropagation();var M=w.ctrlKey||w.metaKey,O=i_,k=0,E=0,v=!1;
if(this.f0==null||this.si)return;if(this.f0==null)return;var b=this.caller.Ww();if(this.Of==null&&M){var D=this.f0.add.TySh,o=ah.SJ(D.GM),Z;
if(o==1){Z=ah.g9(D.GM);Z=new cn(0,0,Z[2]-Z[0],Z[3]-Z[1])}else Z=this.Lj.D5();var $=[Z.x,Z.y,Z.x+Z.e,Z.y,Z.x+Z.e,Z.y+Z.n,Z.x,Z.y+Z.n];
x.p.F($,D.F,$);this.Of=new h$($,!0,!0,!1,!1);this.anh=Z;this.Ok(b)}if(O.fI(w.code,O.HJ))k=1;if(O.fI(w.code,O.Wh))k=-1;
if(O.fI(w.code,O.AB))E=-1;if(O.fI(w.code,O.mC))E=1;var t=O.fI(w.code,i_.o_),c=O.fI(w.code,i_.akr);if(O.fI(w.code,i_.sW)&&M){this.tl(b,this.caller);
return}if(O.fI(w.code,i_.gH)){this.qq(b,this.caller);return}if(O.fI(w.code,i_.Oa)){w.preventDefault();
var l=this.PZ,q=l.value,d=l.selectionStart,V=l.selectionEnd;l.value=q.substring(0,d)+"\t"+q.substring(V);
l.selectionStart=l.selectionEnd=d+1;this.PG(null);return}var L=O.fI(w.code,O.Wn),e=O.fI(w.code,O.Oz);
if(M&&(L||e)){w.preventDefault();var H=new aX(A.E.s,!0);H.k=y.s_;H.data={d:"zoom",SF:L};this.caller.l(H)}if(w.altKey&&k!=0){var j=this.yh==this.LA,K=JSON.parse(JSON.stringify(this.ND.ib));
if(j){K.Qc.Kerning+=20*k;K.Qc.AutoKerning=!1}else K.Qc.Tracking+=20*k;w.preventDefault();var a=new aX(A.E.Z,!0);
a.data={d:A.t.pF,I8:eM.Xo,ib:K};this.caller.l(a);var H=new aX(A.E.s,!0);H.k=y.hY;H.data={d:"updateStyles"};
this.caller.l(H);return}if((O.fI(w.code,O.u8)||O.fI(w.code,O.gQ))&&M){var T=this.yh,C=this.LA;if(T>C){var F=T;
T=C;C=F}var D=this.f0.add.TySh,m=ah.mb(D.GM);if(T!=C){this.Rg=m.slice(T,C);this.a9R=JSON.stringify(this.ND.ib)}}var N=ah.mb(this.f0.add.TySh.GM);
if(k!=0||E!=0||t||c){w.preventDefault();var h=this.yh;if(k!=0){if(M&&k==-1)h=this.ala(N,this.yh-1);else if(M&&k==1)h=this.anE(N,this.yh);
else{var l=this.PZ,q=l.value;h=this.yh+k;if(h!=0&&q.codePointAt(h-1)>65535)h+=k}}else if(E!=0){var P=this.Lj.Ob(this.yh);
if(E==-1&&P.jD==0)h=0;else if(E==1&&P.jD==this.Lj.acF()-1)h=99999999999;else h=this.Lj.a2k(new at(P.xr.x+P.xr.e/2,0),P.jD+E)}else if(t){var J=this.yh-1;
while(J>0&&N.charCodeAt(J)!=10)J--;h=J==0?0:J+1}else if(c){var J=this.yh;while(J<N.length-1&&N.charCodeAt(J)!=10)J++;
h=J}h=Math.max(0,Math.min(N.length-1,h));if(w.shiftKey)this.yh=h;else this.yh=this.LA=h;v=!0}if(O.fI(w.code,i_.t)&&M){this.yh=0;
this.LA=N.length-1;v=!0}if(v){this.dP();this.Ok(b)}};y.YM.a5a=function(w,M){var O=w.length;if(O!=M.length)return!1;
for(var U=0;U<O;U++)if(w[U].Tq!=M[U].Tq)return!1;return!0};y.YM.prototype.tl=function(w,M){if(this.f0==null)return;
this.f0.FO();var O=this.Zf;if(O instanceof Array){var b=this.P2(w,this.Kh),D=w.oO();if(D!=null&&D.k==this&&D.data.n9&&y.YM.a5a(D.data.n9,O))D.data.Ma=b;
else{var o=new gN(this.name,this);o.data={n9:O,Ma:b};w.zw(o)}}else{var o=new gN(this.name,this);o.data={YI:O.YI,Q6:O.Q6,jP:O.jP,$X:O.$X};
w.zw(o)}this.escape(w,M)};y.YM.prototype.qq=function(w,M){if(this.f0==null)return;if(this.Zf instanceof Array){this.US(w,this.Zf);
if(this.f0)ah.mL(this.f0.add.TySh)}else{w.g=this.Zf.jP;w.i2(this.Zf.YI)}w.K();this.escape(w,M)};y.YM.prototype.escape=function(w,M){this.axB();
this.f0=null;this.Kh=null;this.Lj=null;this.ZS=null;this.PZ.blur();w.J.F0=null;w.J.ic=null;w.J.BK=[];
w.uP=!0;this.QS=!1;this.Hn=!1;this.yh=this.LA=-1;this.pI(M,A.E.Z,{d:A.t.SW,k:this.id,qh:"hideactive"});
if(this.Zt){var O=new aX(A.E.Z,!0);O.data={d:A.t.Mq,k:this.Zt};M.l(O);this.Zt=null}};y.YM.prototype.pI=function(w,M,O,b){var D=new aX(M,!0);
D.data=O;if(b)D.k=b;w.l(D)};y.YM.prototype.Fe=function(w){var M=this.f0.add.TySh,O=this.Lj,b=M.F.clone();
b.ZW();var D=b.xU(w),o=ah.HW(M,O),Z=x.vL.GS(M.TY,o),$=x.zD.a10(Z,D);if($==null)$=new Float64Array(2);
D=new at(o.x+$[0]*o.e,o.y+$[1]*o.n);if(O.XA){var k=O.XA.clone();k.ZW();D=k.xU(D)}var E=O.a2k(D);return E};
y.YM.prototype.Ok=function(w,M){if(M==null)M=!1;var O=this.f0.add.TySh,b=ah.SJ(O.GM),D=this.Lj,o=D?ah.HW(O,D):null;
w.J.BK=[];w.J.F0=null;w.J.ic=null;var Z=this.Of?this.Of:this.ZS;if(Z){Z.db(w,this.ND,!x.vL.hC(O.TY));
var $=O.F.clone();$.ZW();if(D&&D.XA&&D.kB==1){var k=D.XA.clone();k.ZW();$.concat(k)}x.p.F(w.J.BK,$,w.J.BK);
x.p.F(w.J.F0.C,$,w.J.F0.C);if(D&&D.XA==null&&D.acZ()){var E=o.e-20,t=o.n+8;w.J.F0.C.push(E,t,E+10,t,E+5,t-5,E+5,t+5);
w.J.F0.H.push("M","L","M","L")}}else if(b==0)this.a3T(w,O,D);else w.J.F0={C:[],H:[]};var c=Math.min(this.yh,this.LA),l=Math.max(this.yh,this.LA);
if(!M){this.PZ.selectionStart=c;this.PZ.selectionEnd=l}if(D!=null){var q=function(Z,g){var K=Z.x,a=Z.y+Z.n,T=new f$;
T.translate(-K,-a);T.rotate(-g);T.translate(K,a);Z.y+=Z.n*.27;var j=x.p.zl(Z);x.p.F(j.C,T,j.C);return j};
if(c==l){c=Math.max(c,0);var d=D.Ob(c);if(d){var V=d.xr,L=this.ND.ib.Qc.FontSize;if(L!=null&&L!=0){L/=O.F.gy();
V.y+=V.n-L;V.n=L}var e=D.asd(c);if(e!=null&&e.H2==1)V.x+=V.e;var H=q(V,d.td).C;w.J.F0.H.push("M","L");
w.J.F0.C.push(H[0],H[1]-1,H[6],H[7]-1)}}else{w.J.ic={C:[],H:[]};for(var U=c;U<l;U++){var d=D.Ob(U),j=q(d.xr,d.td);
x.p.concat(w.J.ic,j)}}}w.J.F0=km.av(w.J.F0,O,D);w.J.ic=km.av(w.J.ic,O,D);w.J.BK=km.av({C:w.J.BK},O,D).C;
w.uP=!0};y.YM.prototype.a3T=function(w,M,O){if(O==null)return;w.J.BK.push(0,0);if(w.J.F0==null)w.J.F0={H:[],C:[]};
for(var U=0;U<O.xy.length;U++){var b=O.xy[U];for(var D=0;D<b.tO.length;D++){var o=b.tO[D],Z=b.Ra.x+o.Ra.x+o.xr.x,$=b.Ra.y+o.Ra.y+o.xr.y+o.xr.n;
w.J.F0.H.push("M","L");w.J.F0.C.push(Z,$,Z+o.xr.e,$)}}w.uP=!0};y.abB=function(){y.YM.call(this,!0)};
y.abB.prototype=new y.YM;y.Qq=function(){y.wk.call(this,[10,9],y.J6,"tools/lasso");this.g1="crosshair";
this.ZQ=null;this.R4=null;this.ba=null};y.Qq.prototype=new y.wk;y.Qq.prototype.pu=function(w,M,O,b){this.ZQ=this.aX;
this.R4={C:[this.ZQ.x,this.ZQ.y],H:["M"]}};y.Qq.prototype.xL=function(w,M,O,b){this.ba=b;var D=this.R4;
if(D==null)return;if(!b.Rw){if(this.R4!=null&&this.dU>1&&O.i(i_.PY)){D.C.pop();D.C.pop();D.C.push(this.Aj.x,this.Aj.y);
w.J.F0=D;w.uP=!0}return}D.H.push("L");D.C.push(this.Aj.x,this.Aj.y);this.ZQ=this.Aj;if(this.aL){w.J.F0=D;
w.uP=!0}};y.Qq.prototype.Xc=function(){return this.R4!=null};y.Qq.prototype.uu=function(){return this.R4!=null};
y.Qq.prototype.$m=function(w,M,O,b){y.wk.prototype.$m.call(this,w,M,O,b);if(this.R4&&this.dU>1&&this.ba&&!this.ba.Rw&&!b.i(i_.PY))this.a5D(w,O,b)};
y.Qq.prototype.hN=function(w,M,O,b){this.ba=b;var D=this.R4;if(D==null)return;if(this.dU>1&&O.i(i_.PY)){D.H.push("L");
D.C.push(this.Aj.x,this.Aj.y);return}this.a5D(w,M,O)};y.Qq.prototype.a5D=function(w,M,O){this.finish(w,M,O,this.ba);
this.R4=null;w.J.F0=null;w.uP=!0};y.Qq.prototype.getSelection=function(w,M,O,b){if(this.aX.M5(this.Aj)||!this.aL)return null;
return y.wk.z$(this.R4.C,null,this.YA.anta)};y.t7=function(){y.Ke.call(this,[10,11],y.R6,"tools/move");
this.A5=new at(0,0);this.Md=new at(0,0);this.cc=null;this.Vm=null;this.oG=new at(0,0);this.if=null;this.P4=null;
this.jA=null;this.kx=0;this.tv=null;this.v0=[];this.bU=null;this.on=null;this.VY=!1;this.d=0;this.XV=null;
this.vb=null;this.BB=null;this.iH=!1;this.YA={B9:!1,qF:!1,BY:!1};this.adk=!1;this.acM=!1;this.ZS=null;
this.Mb=null;this.akP=null;var w=[];for(var U=0;U<x.Rk.pD.length;U++)w.push({name:x.Rk.pD[U],R:function(M,O,b){return{fA:O.sw.OF==b}}});
this.LO=new dC(w);this.LO.h("select",this.py,this)};y.t7.prototype=new y.Ke;y.Ke.prototype.fa=function(w){return this.VY&&this.d!=2};
y.t7.prototype.aqv=function(){return this.VY&&(this.d==0||this.d==1)};y.t7.prototype.q6=function(w,M,O,b){this.UT(w,-this.oG.x,-this.oG.y);
this.oG.ZK(0,0);this.Ga(w,null,O);this.Ml(w)};y.t7.prototype.oE=function(){var w=this.YA;return[w.B9?1:0,w.qF?1:0,w.BY?1:0]};
y.t7.prototype.Jl=function(w,M,O){var b=this.YA;if(w&&w[0]!=null)b.B9=w[0]==1;if(w&&w[1]!=null)b.qF=w[1]==1;
if(w&&w[2]!=null)b.BY=w[2]==1;var D=new aX(A.E.Z,!0);D.data={d:A.t.SW,k:this.id,Mx:b,a4S:M};O.l(D)};
y.t7.anL=function(w,M,O,b,D,o,Z){if(Z==null)Z=[!1,!0];var $=w.qH(null,D,!0),k,E;if(w.add.artd&&w.g.length==1&&w.B[w.g[0]].add.artb){var t=w.B[w.g[0]].pU();
k=w.Wq($,t,t)[0]}else{var c=new cn(0,0,w.e,w.n),k=w.Wq($,Z[0]?c:null,Z[1]?null:c)[0];delete k.add.artd;
if(Z[1]){var l=x.TO(k.Hp(),new cn(0,0,k.e,k.n),2);y.vz.dr(k,l)}}if(O!=1){var q=new cn(0,0,Math.round(k.e*O),Math.round(k.n*O));
y.vz.dr(k,q);var V=[];for(var U=0;U<k.B.length;U++)V.push(U);var L=y.u.H6(k,V,!0);y.vz.yt(k,new f$(O,0,0,O,0,0));
y.u.ek(k,b,V,L,1,x.N.iq(new f$(O,0,0,O,0,0)),null,!0);k.Uc()}else if(E){k.K();k.Uc()}var e=[];for(var U=0;
U<M.length;U++)if(k.e*k.n!=0)e.push(ce.jV(k,M[U].toUpperCase(),null,null,o?o[U]:null,b));return e};y.t7.prototype.ahj=function(w,M,O,b,D){if(w==null||w.g.length==0)return;
var o=y.t7.anL(w,[M],O,b,null)[0],Z=new aX(A.E.Z,!0);Z.data={d:A.t.PD,data:o,name:w.B[w.g[0]].getName()+(O==1?"":"@"+O+"x")+"."+M};
D.l(Z)};y.t7.prototype.Wb=function(w,M,O,b,D){if(w.uj=="getPNG"){this.ahj(O,"png",w.h6,D,M)}else if(w.uj=="getSVG"){this.ahj(O,"svg",w.h6,D,M)}if(w.uj=="prms"){this.YA=w;
this.Ml(O)}};y.t7.aha=function(w){var aq=w.length,O=0;w.sort(function(o,Z){return o[0]+o[1]/2-(Z[0]+Z[1]/2)});
var M=w[aq-1][0]+w[aq-1][1]-w[0][0];for(var U=0;U<aq;U++)O+=w[U][1];var b=Math.round((M-O)/(aq-1)),D=w[0][0];
for(var U=0;U<aq;U++){w[U][0]=D;D+=w[U][1]+b}};y.t7.prototype.s0=function(w,M,O,b,D){var o=w.d;if(o=="trsl"){var Z=Math.round(w.L1),$=Math.round(w.A2);
this.oG.ZK(Z,$);this.w4(O,M,b,D,!1,w.q);this.UT(O,Z,$);this.Ga(O,null,D)}else if(o=="fcmy"){var o=new gN(["RGB","CMYK"][w.G]+" Color",this);
o.data={d:w.d,hR:O.add.fcmy==null?0:O.add.fcmy,XU:w.G};O.zw(o);this.ZT(o.data,O)}else if(o=="pview"){var o=new gN("Pattern Preview",this);
o.data={d:w.d};O.zw(o);this.ZT(o.data,O)}else if(o=="lockguides"){if(O)O.rs=!O.rs}else if(o=="gids"||o=="gidsFromLayer"){var k=w.vb,E,t;
if(k==null)k=O.Wp();if(o=="gids"){E=w.vM;var c=k[0].length,l=E[0].length;t=c==l?[23,2]:c>l?[23,3]:[23,4];
if(l==0)t=[11,15,0]}else if(o=="gidsFromLayer"){var q=[],d=[],V=O.Ft();for(var U=0;U<O.g.length;U++){var L=O.B[O.g[U]].rect;
if(L.S9())continue;q.push([0,L.x],[1,L.y],[0,L.x+L.e],[1,L.y+L.n]);d.push(V,V,V,V)}t=[11,15,1];E=O.Wp();
y.t7.PT(E,[q,d])}if(JSON.stringify(k)==JSON.stringify(E))return;var o=new gN(t,this);o.data={d:2,vb:k,vM:E};
O.zw(o);this.ZT(o.data,O)}else if(o=="algn"){var e=w.G;if(O==null)return;if(O.g.length<2&&!(O.X!=null&&e!=3&&e!=7)){alert(fr.get([15,7,5]));
return}var H=O.X;O.X=null;var L=H?H.rect:y.u.HW(O);this.w4(O,M,b,D,!1);if(!this.VY)return;var j=this.tv,g={},K=[],a=[],T=[];
for(var U=0;U<j.length;U++){var C=j[U];while(O.B[C].getName()=="</Layer group>")C++;var F=O.root.KZ(C),m=F;
while(F.parent!=null){F=F.parent;if(j.indexOf(F.index)!=-1)m=F}var N=a.indexOf(m.index);if(N==-1){N=a.length;
a.push(m.index)}K[U]=N}var v=[],h=[],P=[];for(var U=0;U<a.length;U++){var J=y.u.HW(O,O.qH(!0,a[U]));
P.push(J);var Y=e==3?[J.y,J.n]:[J.x,J.e];v[U]=Y;h.push(Y)}y.t7.aha(h);for(var U=0;U<a.length;U++){var J=P[U],B=J.x,S=J.y;
if(e==0)B=L.x;if(e==1)B=L.x+(L.e-J.e)/2;if(e==2)B=L.x+(L.e-J.e);if(e==3)S=v[U][0];if(e==4)S=L.y;if(e==5)S=L.y+(L.n-J.n)/2;
if(e==6)S=L.y+(L.n-J.n);if(e==7)B=v[U][0];T.push(Math.round(B-J.x),Math.round(S-J.y))}var r=[];for(var U=0;
U<j.length;U++){var I=K[U];r[2*U]=T[2*I];r[2*U+1]=T[2*I+1]}this.UT(O,0,0,null,r);var f=e==3||e==7?[20,4,6]:[20,4,e<3?e:e-1];
this.Ga(O,null,D,r,f);O.X=H}else if(o=="disabAuto"){this.Jl([!1],null,M)}};y.t7.PT=function(w,M){for(var U=0;
U<M[0].length;U++){var O=M[0][U],b=M[1][U],D=!1;for(var o=0;o<w[0].length;o++){var Z=w[0][o],$=w[1][o];
if(O[0]==Z[0]&&O[1]==Z[1]&&b==$)D=!0}if(!D){w[0].push(O.slice(0));w[1].push(b)}}};y.t7.prototype.enable=function(w,M,O,b,D){this.P4=O;
this.jA=M;this.iH=D?!0:!1;this.Ml(w);this.lI("default",M)};y.t7.prototype.disable=function(w,M,O,b){this.awv(w)};
y.t7.prototype.awv=function(w){if(w==null)return;if(this.ZS){this.ZS.clear(w);this.ZS=null}if(w.J.BY){w.J.BY=null;
w.uP=!0}if(w.J.MB){w.J.MB=null;w.uP=!0}if(w.J.ki[this.id]){delete w.J.ki[this.id];w.uP=!0}if(w.J.jd.length!=0){w.J.jd=[];
w.uP=!0}};y.t7.prototype.S4=function(w,M,O,b){if(O.yK!=this.id)return;this.Ml(w)};y.t7.prototype.Ml=function(w,M){if(w==null)return;
var O=this.YA;this.awv(w);if(!this.iH){var b;if(O.qF||O.BY)b=x.p.Mf(y.u.HW(w));if(O.qF&&!b.S9()){this.ZS=new h$([b.x,b.y,b.x+b.e,b.y,b.x+b.e,b.y+b.n,b.x,b.y+b.n],!0);
this.ZS.db(w,this.P4)}if(O.BY){var D=null,t=null,c=!1;if(w.Ft()!=-1)D=w.B[w.Ft()].pU();else D=new cn(0,0,w.e,w.n);
w.J.BY={nj:[b],Sd:[]};var o=w.J.BY.Sd,Z=b.x+b.e,$=b.y+b.n,k=b.x+Math.floor(b.e/2),E=b.y+Math.floor(b.n/2);
if(M){var l=w.root.BE(new at(Math.floor(M.x),Math.floor(M.y)));if(l){t=x.p.Mf(l.q.Op(w));if(t.Yt(b)){c=(t.Ar(b)||b.Ar(t))&&!b.M5(t);
if(!c)t=null}}}this.aeT(b,o);if(t!=null){w.J.BY.nj.push(t);var q=t.x+t.e,d=t.y+t.n,V=t.x+Math.floor(t.e/2),L=t.y+Math.floor(t.n/2);
if(c){var e=k,H=E;if(b.Ar(t)){e=V;H=L}o.push(b.x,H,t.x,H);o.push(Z,H,q,H);o.push(e,b.y,e,t.y);o.push(e,$,e,d)}else{this.aeT(t,o);
var j=$<t.y||d<b.y,g=Z<t.x||q<b.x;if(Z<t.x)o.push(Z,E,t.x,E);if(q<b.x)o.push(q,E,b.x,E);if($<t.y)o.push(k,$,k,t.y);
if(d<b.y)o.push(k,d,k,b.y);if(j&&!g){if(b.x<t.x)o.push(b.x,L,t.x,L);if(t.x<b.x)o.push(t.x,E,b.x,E)}}}else{if(b.y>D.y)o.push(k,D.y,k,b.y);
if($<D.y+D.n)o.push(k,$,k,D.y+D.n);if(b.x>D.x)o.push(D.x,E,b.x,E);if(Z<D.x+D.e)o.push(Z,E,D.x+D.e,E)}w.uP=!0}}if(this.d==2&&this.VY){var K=new cn(0,0,w.e,w.n),a=w.Ft();
if(a!=-1){var T=w.Wp(),C=T[1][this.tv];if(C==-1)C=a;K=w.B[C].pU()}var F=w.lX[this.tv],m=F[0],N=(m==0?"X":"Y")+": "+x.Rk.Ms(F[1]-(m==0?K.x:K.y),w.Z1,this.P4,m==0?K.e:K.n,!0);
y.Ke.pn(Math.round(this.cc.x)+10,Math.round(this.cc.y)-10,[N],w);w.uP=!0}if(this.d==3&&this.VY){var v=x.p.zl(this.XV);
w.J.ki[this.id]={F0:v};w.uP=!0}};y.t7.prototype.aeT=function(w,M){var O=w.e,b=w.n,D=w.x+Math.floor(O*.2),o=w.y+Math.floor(b*.2);
M.push(D,w.y,D,w.y+b);M.push(w.x,o,w.x+O,o)};y.t7.prototype.lI=function(w,M){var O={d:A.t.s5,ue:w},b=new aX(A.E.Z,!0);
b.data=O;M.l(b)};y.t7.prototype.ho=function(w){var M=this.Mb.Mw()[0],O=this.if,b=this.akP[M];this.ap9(O,b)};
y.t7.prototype.py=function(w){var M=JSON.parse(JSON.stringify(this.P4.sw));M.OF=this.LO.Mw()[0];var O=new aX(A.E.Z,!0);
O.data={d:A.t.pF,I8:eM.DK,XU:M};this.jA.l(O)};y.t7.prototype.B0=function(w,M,O,b,D){if(this.VY)this.oH(w,M,O,b,D);
this.if=w;this.P4=O;this.jA=M;var o=w.P.ep(D.x,D.y),Z;if(y.t7.i9(O,D,w.P)){Z=this.LO}else{if(this.Mb)this.Mb.removeEventListener("select",this.ho);
var $=[];w.root.BE(o,$);if($.length==0)return;var k=[];this.akP=$;for(var U=0;U<$.length;U++)k.push({name:w.B[$[U]].getName()});
Z=this.Mb=new dC(k);Z.h("select",this.ho,this)}Z.parent=M;Z.f();Z.update(w,O);var E=new aX(A.E.Z,!0);
E.data={d:A.t.U6,YT:Z,x:D.UD+2,y:D.EQ+1};M.l(E)};y.t7.prototype.aiD=function(w,M,O,b,D){var o=y.t7.Gx(w,D);
return o!=-1||y.t7.i9(O,D,w.P)};y.t7.Gx=function(w,M){if(w==null||w.add.artd==null)return-1;var O=w.P.ep(M.x,M.y),b=12*y.V()/w.P.T;
for(var U=0;U<w.B.length;U++){var D=w.B[U];if(!D.Vd()||D.add.artb==null)continue;var o=D.pU(),Z=new cn(o.x,o.y-1.7*b,b*D.getName().length*.5,b);
if(Z.MS(O))return U}return-1};y.t7.prototype.kf=function(w,M,O,b,D){var o=y.t7.Gx(w,D),Z=y.t7.av1(w,w.P.ep(D.x,D.y));
if(o!=-1){w.g=[o];if(O.yK==y.R6){var $=new aX(A.E.Z);$.data={d:A.t.Mq,k:y.zO};M.l($)}return}if(Z!=-1){w.P.Ik=Z;
w.bN=!0;var $=new aX(A.E.Z,!0);$.data={d:A.t.cf,IP:dh.mJ.amP};M.l($);return}this.cc=D;this.A5.ZK(D.x,D.y);
this.Md=w.P.ep(D.x,D.y);this.Vm=new ec(this.Md);this.w4(w,M,b,O,!0)};y.t7.i9=function(w,M,O,b){var D=x.Rk.qC,o=O.iu.n;
return w.cX&&(0<M.x&&M.x<D||0<M.y&&M.y<D||b&&0<M.x&&M.x<4*D&&o-D<M.y&&M.y<o)};y.t7.prototype.w4=function(w,M,O,b,D,o){var Z,$=this.Md,k=!1;
if(D){var E=b.fk&&b.sw.lX;if(y.t7.i9(b,this.A5,w.P)){Z=w.Wp();var t=w.Wp(),c=null;if(this.A5.x<x.Rk.qC){c=[0,$.x]}if(this.A5.y<x.Rk.qC){c=[1,$.y]}t[0].push(c);
t[1].push(w.Ft());w.D8(t);if(!E){var l=new aX(A.E.Z);if(!b.sw.lX){l.data={d:A.t.pF,I8:eM.og};M.l(l)}if(!b.fk){l.data={d:A.t.pF,I8:eM.Wo};
M.l(l)}E=!0}}var q=this.auq(w,$);if(E&&q!=null&&!w.rs){this.d=2;this.vb=Z?Z:w.Wp();this.tv=q;this.VY=!0;
this.on=y.u.HW(w);return}if(w.m7.length!=0){this.d=4;this.on=w.SN[w.m7[0]].rect.clone();this.VY=!0;return}if(this.ZS&&this.ZS.p6($,w.P.T,!0,this.cc)!=null){var l=new aX(A.E.Z);
l.data={d:A.t.Mq,k:y.T0,anT:!0};M.l(l);return}if(w.X&&w.X.rect.MS($)){var d=Math.round($.x),V=Math.round($.y),L=w.X.rect;
k=w.X.channel[(V-L.y)*L.e+d-L.x]>128}if(!k&&(!this.iH&&this.YA.B9||this.iH&&this.YA.B9&&(O.i(i_.Z4)||w.g.length<2))){var e=this.a2Y(w,$,O);
if(!e){w.g=[];w.C5=null;w.Er=w.NP=!0;this.d=3;this.XV=new cn;this.VY=!0;return}}if(O.i(i_.PY)&&!k){var H=new aX(A.E.s);
H.k=y.YH;H.data={d:Q.Eb,aru:!0};M.l(H)}}if(w.m7.length!=0){this.d=4;this.on=w.SN[w.m7[0]].rect.clone();
this.VY=!0;return}this.tv=w.qH(o==null,o,null,!0);for(var U=0;U<this.tv.length;U++){var j=this.tv[U],g=w.B[j];
if(g.uK(2)||g.uK(31)||w.Mu(j)){alert(fr.get([6,57,0]));return}}if(w.add.artd&&D){var K=this.tv,a=!1;
for(var U=0;U<K.length;U++)if(w.B[K[U]].add.artb)a=!0;if(!a){this.bU=[w,w.B.slice(0),w.g.slice(0),-1];
this.tv.sort(function(P,J){return P-J})}}this.v0=y.t7.a83(w,this.tv);this.d=0;if(w.X&&(!D||k)&&w.g.length==1&&w.D_(!1)){if(!w.aoH()){this.VY=!1;
return}var T=w.B[w.g[0]],C=O.i(i_.PY);this.d=1;var F=w.history[w.gX];if(F.k==this&&F.data.d==1&&F.data.q==w.g[0]&&T.cn==T.PR.cn&&!C){this.BB=F}else{var m=T.PR,N=!1,v;
if(!T.Us(w,w.X)||C){N=!0;T.mG(w,w.X,C)}if(T.PR.cn<=0){v=x.$(T.PR.lQ.length>>2);x.Oj(T.PR.lQ,v,3)}else v=w.X.channel.slice(0);
var h={rect:T.PR.Sf.clone(),channel:v};this.BB=new gN(C?[12,53]:[12,54],this);this.BB.data={d:1,q:w.g[0],PR:T.PR,Cr:m,to:N,jP:w.X,$X:h,uc:new at(0,0)};
w.zw(this.BB);w.X=h;w.wK=!0}}this.VY=!0;this.on=y.u.HW(w)};y.t7.prototype.a2Y=function(w,M,O){var b=w.root.BE(new at(Math.floor(M.x),Math.floor(M.y)));
if(b){if(b.q.add.vmsk)w.uP=!0;var D=w.B.indexOf(b.q);if(O.i(i_.Z4)){var o=w.g.indexOf(D);if(o==-1)w.g.push(D);
else if(w.g.length>1)w.g.splice(o,1)}else if(w.g.indexOf(D)==-1){this.ap9(w,D)}}return b!=null};y.t7.prototype.ap9=function(w,M){w.B[M].cn=0;
w.g=[M];w.C5=null;w.UQ();w.Bd=!0;w.Er=!0};y.t7.av1=function(w,M){var O=w.add.Anno;if(O==null||O.length==0)return-1;
var b=30/w.P.T;for(var U=0;U<O.length;U++)if(new cn(O[U][0],O[U][1],b,b).MS(M))return U;return-1};y.t7.prototype.Ha=function(w,M,O,b,D){this.cc=D;
var o=w.P.ep(D.x,D.y),q,d;if(this.Vm&&this.d<2)o=this.Vm.JQ(o,b);if(!this.VY){if(O.fk&&O.sw.lX&&w&&!w.rs){var Z=this.auq(w,o),$="default",k=y.t7.Gx(w,D);
if(Z!=null)$=["col-resize","row-resize"][w.lX[Z][0]];else if(this.ZS){var E=this.ZS.p6(o,w.P.T,null,D);
if(E)$=E}else if(k!=-1||y.t7.av1(w,o)!=-1){$="pointer"}this.lI($,M)}this.Ml(w,o);return}var t=this.Md,c=Math.round(o.x-t.x)-this.oG.x,l=Math.round(o.y-t.y)-this.oG.y;
if(this.on){if(this.d==2){var V=[];if(w.X)V.push(w.X.rect);if(this.on)V.push(this.on);if(w.P.rT)V.push(w.P.rT);
o=y.t7.R3(w,o,O,[!1,V,!0])}else{d=this.on.clone();d.offset(this.oG.x+c,this.oG.y+l);q=y.t7.qN(w,d,O);
var L=this.Vm.aev(b);if(L==1){q[0]=0;q[2]=1e9}if(L==2){q[1]=0;q[3]=1e9}c+=Math.round(q[0]);l+=Math.round(q[1])}}this.oG.x+=c;
this.oG.y+=l;var e=this.bU;if(e&&w==e[0]){w.i2(e[1]);w.g=e[2].slice(0);e[3]=-1}this.UT(w,c,l,o,null,b.i(i_.Z4));
if(e&&w==e[0]){var H=this.on.clone();H.offset(this.oG.x,this.oG.y);var j=o,k=w.Ft(),g=-1;for(var U=0;
U<w.B.length;U++){var K=w.B[U];if(!K.Vd()||K.add.artb==null)continue;var a=K.pU();if(a.MS(j))g=U}if(g!=-1&&g!=k){var T=y.yI.df(w,this.tv,g,!0,null,!1);
w.i2(T[0]);w.g=T[1];e[3]=g}}this.Ml(w,o);if(q)y.t7.ty(w,d,q)};y.t7.prototype.auq=function(w,M){var O=y.Gs(w,this.cc);
M=[M.x,M.y];var b=w.Wp(),D=w.Ft();for(var U=0;U<b[0].length;U++){var o=b[0][U],Z=b[1][U];if(Z!=-1&&Z!=D)continue;
if(Math.abs(o[1]-M[o[0]])<O)return U}return null};y.t7.prototype.UT=function(w,M,O,b,D,o){if(this.d==0){if(D)y.t7.fu(w,this.tv,this.v0,D);
else y.t7.DE(w,this.tv,this.v0,M,O)}else if(this.d==1){var Z=this.BB.data;Z.uc.offset(M,O);y.t7.zQ(w,Z.q,M,O)}else if(this.d==2){var $=1e-5;
if(o)$=w.P.T<=1?10:1;else if(w.P.T<=1)$=1;var k=$*Math.round(b.x/$),E=$*Math.round(b.y/$),t=[k,E],c=w.lX[this.tv];
c[1]=t[c[0]]}else if(this.d==3){var l=this.Md,q=x.p.Kc([l.x,l.y,b.x,b.y]);this.XV=q;var d=[];w.root.a1D(q,d);
if(JSON.stringify(w.g)!=JSON.stringify(d)){w.g=d;w.Er=w.NP=!0}}else if(this.d==4){for(var U=0;U<w.m7.length;
U++)w.SN[w.m7[U]].rect.offset(M,O);w.uP=!0}};y.t7.zQ=function(w,M,O,b){var D=w.B[M];w.X.rect.offset(O,b);
D._U(w,O,b,w.X);w.wK=!0;w.K()};y.t7.prototype.oH=function(w,M,O,b,D,o){this.Ga(w,D,O);this.Ml(w);if(Date.now()-this.kx<300&&!o){var Z=y.YM.Zz(w,w.P.ep(D.x,D.y));
if(y.t7.i9(O,D,w.P,!0)){var $=new aX(A.E.Z);if(D.y>w.P.iu.n-20){$.data={d:A.t.JE,IP:"doczoom",hR:w.P.T*100,TA:{_:A.E.s,k:y.s_,W:{d:"pzoom"}}}}else{$.data={d:A.t.JE,IP:"preferences"}}M.l($)}else if(Z>=0){var k=new aX(A.E.s,!0);
k.k=y.hY;k.data={d:"editCurr",dp:Z};M.l(k)}}this.kx=Date.now();y.vz.q7(w)};y.t7.prototype.Ga=function(w,M,O,b,D){if(!this.VY)return;
this.VY=!1;if(this.d==0){if(b){this.al8(w,null,b,D)}else{if(this.oG.x==0&&this.oG.y==0)return;this.al8(w,this.oG.clone())}w.bN=!0}else if(this.d==2){var o=0;
M=[M.x,M.y];var Z=this.tv,$=w.lX[Z],bM=this.vb[0].length,k=w.lX.length;if(O.cX&&M[$[0]]<x.Rk.qC){var E=w.Wp();
E[0].splice(Z,1);E[1].splice(Z,1);w.D8(E);o=1;if(bM==k-1)return}if(bM<k)o=2;var t=new gN([[23,2],[23,3],[23,4]][o],this);
t.data={d:2,vb:this.vb,vM:w.Wp()};w.zw(t)}else if(this.d==4){var t=new gN([12,54],this);t.data={d:4,g:w.m7.slice(0),z:this.oG.clone()};
w.zw(t)}this.oG.ZK(0,0)};y.t7.prototype.$m=function(w,M,O,b){var D=b.Fn();if(w!=null&&(D.x!=0||D.y!=0)){if(b.i(i_.PY)&&w.X==null){var o=new aX(A.E.s);
o.k=y.YH;o.data={d:Q.Eb,aru:!0};M.l(o)}this.oG.ZK(D.x,D.y);this.w4(w,M,b,O,!1);if(!this.VY)return;this.UT(w,D.x,D.y);
this.Ga(w,null,O);this.Ml(w)}var Z=b.i(i_.v9);if(!this.iH&&this.acM!=Z){if(Z){this.adk=this.YA.B9;this.YA.B9=!0}else{this.YA.B9=this.adk}this.acM=Z;
var $=new aX(A.E.Z,!0);$.data={d:A.t.SW,k:this.id,Mx:this.YA};M.l($)}};y.t7.prototype.y3=function(w,M){if(w.d==0){var O=w.yS;
if(O){M.i2(O.YI);M.g=O.Gr.slice(0);M.K();M.Er=!0}y.t7.fu(M,w.g,w.O_,w.n1,!0);y.vz.q7(M)}else if(w.d=="fcmy"){if(w.hR==0)delete M.add.fcmy;
else M.add.fcmy=w.hR;M.uP=!0}else if(w.d=="pview"){M.i7=!M.i7;M.K()}else if(w.d==2){M.D8(w.vb);M.uP=!0}else if(w.d==4){for(var U=0;
U<w.g.length;U++)M.SN[w.g[U]].rect.offset(-w.z.x,-w.z.y);M.uP=!0}else{var b=M.B[w.q];if(w.to){b.Oe(M,w.Cr);
M.X=w.jP;M.wK=!0;M.K();b.K()}else{y.t7.zQ(M,w.q,-w.uc.x,-w.uc.y)}}};y.t7.prototype.ZT=function(w,M){if(w.d==0){y.t7.fu(M,w.g,w.O_,w.n1);
var O=w.yS;if(O){M.i2(O.Q6);M.g=O.Ou.slice(0);M.K();M.Er=!0}y.vz.q7(M)}else if(w.d=="fcmy"){if(w.XU==0)delete M.add.fcmy;
else M.add.fcmy=w.XU;M.uP=!0}else if(w.d=="pview"){M.i7=!M.i7;M.K()}else if(w.d==2){M.D8(w.vM);M.uP=!0}else if(w.d==4){for(var U=0;
U<w.g.length;U++)M.SN[w.g[U]].rect.offset(w.z.x,w.z.y);M.uP=!0}else{var b=M.B[w.q];if(w.to){b.PR=w.PR;
M.X=w.$X;y.t7.zQ(M,w.q,0,0);b.K()}else{y.t7.zQ(M,w.q,w.uc.x,w.uc.y)}}};y.t7.prototype.al8=function(w,M,O,b){if(O){var D=!0;
for(var U=0;U<O.length;U++)if(O[U]!=0)D=!1;if(D)return}var o=w.history[w.gX],Z=this.bU,$=Z!=null&&Z[3]!=-1&&Z[0]==w;
if(!$&&O==null&&o.data&&o.k==this&&o.data.d==0&&JSON.stringify(o.data.g)==JSON.stringify(this.tv)&&JSON.stringify(o.data.O_)==JSON.stringify(this.v0)){var k=o.data.n1,E=o.data.aml.g0.T.v;
E.Hrzn.v.val+=M.x;E.Vrtc.v.val+=M.y;for(var U=0;U<k.length;U+=2){k[U]+=M.x;k[U+1]+=M.y}}else{if(M==null)M=new at(O[0],O[1]);
var t={wV:"move",g0:{classID:"null",null:fE.xp("Lyr",!0),T:{t:"Objc",v:{classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Rlt",val:M.x}},Vrtc:{t:"UntF",v:{type:"#Rlt",val:M.y}}}}}},c=null;
if($)c={YI:Z[1],Gr:Z[2],Q6:w.B.slice(0),Ou:w.g.slice(0)};this.bU=null;var l=new gN(b?b:[12,54],this);
if(O)l.data={d:0,g:this.tv,O_:this.v0,yS:c,n1:O};else l.data={d:0,g:this.tv,O_:this.v0,yS:c,n1:y.t7.a37(this.tv,M.x,M.y)};
l.data.aml=t;w.zw(l);this.track(t)}};y.t7.a37=function(w,M,O){var b=[];for(var U=0;U<w.length;U++)b.push(M,O);
return b};y.t7.DE=function(w,M,O,b,D){y.t7.fu(w,M,O,y.t7.a37(M,b,D))};y.t7.fu=function(w,M,O,b,D){if(M.length==0)return;
if(O==null){O=[];for(var U=0;U<M.length;U++){O.push(w.B[M[U]].XW(w,!0))}}var o=new cn,Z=new cn(0,0,w.e,w.n);
for(var U=0;U<M.length;U++){var $=b[2*U],k=b[2*U+1];if(D){$=-$;k=-k}var E=w.B[M[U]],t=O[U];if(E.add.fxrp&&(t.indexOf(0)!=-1||E.XS()))E.add.fxrp.offset($,k);
for(var c=0;c<t.length;c++){var l=t[c];if(l==0){E.rect.offset($,k);if(E.Kf()&&E.k1(w))E.k1(w).rect.offset($,k);
if(E.add.artb){var q=E.pU();q.offset($,k);E.Bo(q);var d=E.add.artb.guideIndeces;d=d?d.v:[];for(var V=0;
V<d.length;V++){var L=w.lX[d[V].v];L[1]+=L[0]==0?$:k}}if(E.add.TySh){E.add.TySh.F.translate($,k);if(E.add.TySh.add){E.add.TySh.add.vmsk.offset($,k)}}if(E.add.SoLd){var e=new f$(1,0,0,1,$,k),H=E.add.SoLd,j=y.u.xT(H.Trnf),g=y.u.xT(H.nonAffineTransform);
x.p.F(j,e,j);x.p.F(g,e,g);H.Trnf=y.u.KT(j);H.nonAffineTransform=y.u.KT(g);y.u.a9r(H,e)}}if(l==1)E.yo().rect.offset($,k);
if(l==2){E.add.vmsk.offset($,k);if(E.add.vogk)x.lK.F(E.add.vogk,[1,0,$,0,1,k,0,0],[])}if(l==3){E.k1(w).D.rect.offset($,k);
if(t.length==1)E.K()}}if(t.length>0){var K=E.add.GdFl;if(K==null)K=E.add.PtFl;if(E.XS()&&!E.Xn()&&E.add.vmsk!=null&&x.O.AW(E.add.vmsk.j)&&E.add.vmsk.lq==255&&(K==null||K.Algn&&K.Algn.v)){E.rect.offset($,k)}else E.h1(w);
var a=w.root.aa(E.Op(w),w,M[U]);if(E.add.artb)a=a.MK(E.pU());o=o.MK(a);a.offset(-$,-k);o=o.MK(a);if(E.Q9()&&E.D&&E.D.color==255)o=o.MK(Z);
E.alR()}}w.K(x.p.Mf(o))};y.t7.a83=function(w,M){var O=[];for(var U=0;U<M.length;U++){var b=w.B[M[U]];
O.push(b.XW(w))}return O};y.t7.ty=function(w,M,O){var b=w.J.MB={C:[],H:[]},D=M.x+O[0],o=M.y+O[1];if(O[2]!=1e9){b.H.push("M","L");
b.C.push(O[2],o,O[2],o+M.n)}if(O[3]!=1e9){b.H.push("M","L");b.C.push(D,O[3],D+M.e,O[3])}w.uP=!0};y.t7.R3=function(w,M,O,b){var D=y.t7.aec(w,[[M.x],[M.y]],O,b);
return new at(M.x+D[0],M.y+D[1])};y.t7.qN=function(w,M,O,b,D){var o=D==!0?1:.5,Z=y.t7.aec(w,[[M.x,M.x+Math.round(M.e*o),M.x+M.e],[M.y,M.y+Math.round(M.n*o),M.y+M.n]],O,b);
return Z};y.t7.aec=function(w,M,O,b){if(b==null)b=[!0,null,!0];var D=[0,0,1e9,1e9];if(!O.$a)return D;
var o=JSON.parse(JSON.stringify(M));for(var Z=0;Z<2;Z++){var $=1e9,k=M[Z],E=0;for(var t=0;t<k.length;
t++){var c=y.t7.awC(w,k[t],o[1-Z][t],Z,O,b);if(c!=1e9)o[Z][t]=c;if(c!=1e9&&Math.abs(c-k[t])<Math.abs($)){$=c-k[t];
E=c}}if($!=1e9){D[Z]=$;D[Z+2]=E}}return D};y.t7.awC=function(w,M,O,b,D,o){var Z=1e9,$=D.a7,k=D.sw,E=[w.root];
while(E.length!=0&&$[2]){var t=E.pop(),c=t.q,l=c.rect;if(!c.Vd())continue;if(t.children)for(var U=0;
U<t.children.length;U++)E.push(t.children[U]);if(w.g.indexOf(t.index)!=-1||l.S9())continue;if(b==0){var q=l.e,d=q>>>1;
if(Math.abs(l.x-M)<Math.abs(Z-M))Z=l.x;if(Math.abs(l.x+d-M)<Math.abs(Z-M))Z=l.x+d;if(Math.abs(l.x+q-M)<Math.abs(Z-M))Z=l.x+q}else{var V=l.n,L=V>>>1;
if(Math.abs(l.y-M)<Math.abs(Z-M))Z=l.y;if(Math.abs(l.y+L-M)<Math.abs(Z-M))Z=l.y+L;if(Math.abs(l.y+V-M)<Math.abs(Z-M))Z=l.y+V}}if(o[0]&&$[0]&&k.lX&&D.fk){var e=w.Wp(),H=e[0],j=e[1],g=w.Ft();
for(var U=0;U<H.length;U++)if((j[U]==-1||j[U]==g)&&H[U][0]==b&&Math.abs(H[U][1]-M)<Math.abs(Z-M))Z=H[U][1]}if($[1]&&k.LL&&D.fk){var K=Math.round(x.Rk.pw(k.K2,w.Z1,w.e,k.$H));
if(b==1&&k.Uo==1){var a=O*.5*Math.sqrt(4/3),T;K*=Math.sqrt(4/3);T=Math.round((M-a)/K)*K+a;if(Math.abs(T-M)<Math.abs(Z-M))Z=T;
T=Math.round((M+a)/K)*K-a;if(Math.abs(T-M)<Math.abs(Z-M))Z=T}else{var T=Math.round(M/K)*K;if(Math.abs(T-M)<Math.abs(Z-M))Z=T}}var C=w.iW;
if($[3]&&k.iW&&D.fk&&C.length!=0){for(var U=0;U<C.length;U++){if(!o[2]&&w.t5.indexOf(U)!=-1)continue;
var F=y.uW.dg(C,U);for(var m=0;m<3;m+=2)if(F[m+b]!=M&&Math.abs(F[m+b]-M)<Math.abs(Z-M))Z=F[m+b]}}if(o[1])for(var N=0;
N<o[1].length;N++){var l=o[1][N],q=l.e,V=l.n,v=[l.x,l.y,l.x+(q>>>1),l.y+(V>>>1),l.x+q,l.y+V];for(var U=0;
U<6;U+=2)if(Math.abs(v[U+b]-M)<Math.abs(Z-M))Z=v[U+b]}if($[4]){var l=new cn(0,0,w.e,w.n),g=w.Ft();if(g!=-1)l=w.B[g].pU();
var q=l.e,V=l.n,v=[l.x,l.y,l.x+(q>>>1),l.y+(V>>>1),l.x+q,l.y+V];for(var U=0;U<6;U+=2)if(Math.abs(v[U+b]-M)<Math.abs(Z-M))Z=v[U+b]}var h=Math.abs(Z-M)<=4*y.V()/w.P.T?Z:1e9;
return h};y.Li=function(){y.wk.call(this,[10,12],y.Vl,"tools/mwand");this.T9=null};y.Li.prototype=new y.wk;
y.Li.prototype.oE=y.wk.prototype.aeD;y.Li.prototype.Jl=y.wk.prototype.abe;y.Li.prototype.pu=function(w,M,O,b){this.T9=b;
this.alT=this.YA.wconf[0];this.finish(w,M,O,b)};y.Li.prototype.xL=function(w,M,O,b,D){if(!b.Rw)return;
var o=new aX(A.E.s);o.k=y.eU;o.data={d:"h_stepbck"};D.l(o);var Z=b.x-this.T9.x,$=Math.max(0,Math.min(255,Math.round(this.alT+Z/4)));
this.YA.wconf[0]=$;this.fK(D);this.finish(w,M,O,this.T9)};y.Li.prototype.hN=function(w,M,O,b,D){this.YA.wconf[0]=this.alT;
this.fK(D)};y.Li.prototype.getSelection=function(w,M,O,b){var D=this.Aj;D=w.P.ep(b.x,b.y);var o=y.wk.a5q(new at(Math.floor(D.x),Math.floor(D.y)),this.YA.wconf,this.YA.sall);
return o};y.Li.aia=function(w,M,O,b,D){if(w.g.length!=1){alert("More than one layer selected.");return null}var o=w.B[w.g[0]],Z=null,$;
if(D)Z=o.cn<=0?null:o.cn==1?o.yo():o.k1(w).D;if(Z==null&&o.add.lsct!=null&&o.add.lsct!=ht.FK){alert("No layer selected.");
return null}if(M.x<0||M.x>w.e||M.y<0||M.y>w.n)return null;var k=new cn(0,0,w.e,w.n);if(b){$=w.Hp()}else if(Z==null&&k.M5(o.rect))$=o.buffer;
else{$=x.$(k.v()*4);if(Z==null)x.xu(o.buffer,o.rect,$,k);else y.fV.Vs(Z.channel,Z.rect,Z.color,$,k)}var E=y.Li.aaL($,k,M,null,O),t=x.Kx(E,k),c=x.$(t.v());
x.CV(E,k,c,t);return{rect:t,channel:c}};y.Li.arL=function(w,M,O){var b=M.e,D=M.n,Z=0,$=0,k=0,E=0;w=new Uint32Array(w.buffer);
var o=[],t=O.length;for(var U=0;U<t;U++){var c=O[U],l=Math.round(c.x-.5-M.x),q=Math.round(c.y-.5-M.y);
l=Math.max(0,Math.min(b-1,l));q=Math.max(0,Math.min(D-1,q));var d=q*b+l,V=w[d];o.push([V&255,V>>8&255,V>>16&255,V>>>24])}return o};
y.Li.aaL=function(w,M,O,b,D){w=new Uint32Array(w.buffer);var o=M.e,Z=M.n,$=o*Z;if(b==null)b=y.Li.arL(w,M,[O]);
var k=Math.round(O.x-.5-M.x),E=Math.round(O.y-.5-M.y),t=E*o+k,c=Date.now(),l=x.$(o*Z),q=D[0],d=1/q,V=D[1]&&q>0?255:0;
if(D[2]){var L=x.$(l.length),e=new Uint32Array($),H=1;e[0]=k<<16|E;L[t]=1;while(H>0){var j=e[H-1];H--;
var g=j>>>16,K=j&65535,U=K*o+g,a=y.Li.Lf(w[U],b);if(a>q){var T=V*(1-Math.max(0,Math.min(1,(a-q)*d)));
l[U]=~~T}else{l[U]=255;if(K!=Z-1&&L[U+o]==0){e[H++]=g<<16|K+1;L[U+o]=1}if(K!=0&&L[U-o]==0){e[H++]=g<<16|K-1;
L[U-o]=1}if(g!=o-1&&L[U+1]==0){e[H++]=g+1<<16|K;L[U+1]=1}if(g!=0&&L[U-1]==0){e[H++]=g-1<<16|K;L[U-1]=1}}}}else{for(var U=0;
U<$;U++){var a=y.Li.Lf(w[U],b);if(a<=q)l[U]=255}for(var K=0;K<Z;K++)for(var g=0;g<o;g++){var U=K*o+g;
if(l[U]==0&&(g>0&&(l[U-1]==255||K>0&&l[U-o-1]==255||K<Z-1&&l[U+o-1]==255)||g<o-1&&(l[U+1]==255||K>0&&l[U-o+1]==255||K<Z-1&&l[U+o+1]==255)||K>0&&l[U-o]==255||K<Z-1&&l[U+o]==255)){var a=y.Li.Lf(w[U],b),T=V*(1-Math.max(0,Math.min(1,(a-q)*d)));
l[U]=~~T}}}return l};y.Li.Lf=function(w,M){var O=M.length,b=y.Li.ai0(w,M[0]),U=1;while(U!=O){b=Math.min(b,y.Li.ai0(w,M[U]));
U++}return b};y.Li.ai0=function(w,M){var O=w&255,b=w>>>8&255,D=w>>>16&255,o=w>>>24&255;if(M[3]==0)return o<5?0:255;
var Z=Math.max(Math.abs(O-M[0]),Math.max(Math.abs(b-M[1]),Math.abs(D-M[2])));return o==0?255:Z};y.oU=function(w,M){if(M)y.fV.call(this);
else if(w)y.fV.call(this,[10,49],y.Tj,"tools/camove");else y.fV.call(this,[10,26],y.gs,"tools/patch");
this.ZQ=null;this.R4=null;this.z=null;this.Ra=null;this.Fa=new at;this.IE=null;this.mr=null};y.oU.prototype=new y.fV;
y.oU.prototype.kf=function(w,M,O,b,D){var o=w.P.ep(D.x,D.y);if(w.X&&x.BE(o,w.X.channel,w.X.rect)){var Z=new cn(0,0,w.e,w.n),$=Z.mX(w.X.rect);
if(!w.D_()||$.S9())return;if(!0){var k=x.$($.v());x.CV(w.X.channel,w.X.rect,k,$);w.X={channel:k,rect:$}}this.BC(w);
this.sE(w);this.Ra=o;this.Fa=new at(o.x-w.X.rect.x,o.y-w.X.rect.y);this.mr=x.$(w.X.rect.v()*4);this.mr.fill(255);
if(this.YA.patch==1){var E=w.B[w.g[0]];E.mG(w,w.X,!0);if(E.PR==null)this.Ra=null}this.IE=w.X.rect.clone()}else{this.R4={C:[o.x,o.y],H:["M"]};
this.ZQ=o}};y.oU.prototype.Ha=function(w,M,O,b,D){var o=w.P.ep(D.x,D.y);if(this.Ra){if(this.YA.patch==1){if(w.m7.length==0){var Z=w.B[w.g[0]].PR,$=o.x-this.Fa.x,k=o.y-this.Fa.y;
y.t7.zQ(w,w.g[0],Math.round($-Z.Sf.x),Math.round(k-Z.Sf.y))}}else this.axL(w,o,"clone")}if(this.ZQ){this.R4.H.push("L");
this.R4.C.push(o.x,o.y);this.ZQ=o;w.J.F0=this.R4;w.uP=!0}};y.oU.prototype.oH=function(w,M,O,b,D){var o=w.P.ep(D.x,D.y);
if(this.Ra){var Z=w.X.rect.clone();if(this.id==y.Tj){var $=w.B[w.g[0]];$.Oe(w,$.PR);w.X.rect=this.IE.clone();
var k=x.$(w.X.rect.v()*4);x.Jm(w.X.channel,k,3);this.jW(w,"sheal",k,w.X.rect,w.X.rect);w.X.rect=Z;Z=Z.MK(this.IE)}this.axL(w,o,"heal");
this.finish(w,Z,null,null,!0);w.K(Z);this.Ra=null}if(this.ZQ){var E=y.wk.iy(this.YA.setop,b.i(i_.Z4),b.i(i_.PY)),t=new aX(A.E.Lm,!0);
if(this.R4.C.length<=4)t.data=y.wk.Nf();else t.data=y.wk.z$(this.R4.C,E);M.l(t);this.ZQ=null;w.J.F0=null;
w.uP=!0}};y.oU.prototype.DZ=function(){return this.z};y.oU.prototype.Wb=function(w,M,O,b,D){y.fV.prototype.Wb.call(this,w,M,O,b,D);
this.lI(D,b)};y.oU.prototype.lI=function(w,M){var O="auto;";if(M!=null&&M.i(i_.Z4)&&!M.i(i_.PY)||this.YA.setop=="union")O="copy";
var b=new aX(A.E.Z,!0);b.data={d:A.t.s5,ue:O};if(this.caller)this.caller.l(b)};y.oU.prototype.axL=function(w,M,O){var b=new at(Math.round(this.Ra.x-M.x),Math.round(this.Ra.y-M.y));
if(this.YA.patch==1)b.ZK(-b.x,-b.y);this.z=b;this.jW(w,O,this.mr,w.X.rect,w.X.rect);this.K(w,w.X.rect)};
y.apS=function(){y.oU.call(this,!0);this.YA.patch=1};y.apS.prototype=new y.oU(!0,!0);y.jN=function(){y.fV.call(this,[10,13],y.a3N,"tools/pbucket");
this.x$=!1};y.jN.prototype=new y.fV;y.jN.prototype.enable=function(w,M,O,b){var D=new aX(A.E.Z,!0);D.data={d:A.t.s5,ue:"default"};
M.l(D)};y.jN.prototype.o9=function(w,M){};y.jN.prototype.kf=function(w,M,O,b,D){this.x$=!0};y.jN.prototype.oH=function(w,M,O,b,D,o){var Z=this.x$;
this.x$=!1;if(!Z||o)return;if(this.wl(b,M,D))return;if(!w.D_())return;var $=w.P.ep(D.x,D.y),k=y.Li.aia(w,$,this.YA.wconf,this.YA.sall,!0);
if(k==null)return;var E=x.$(k.rect.v()*4);x.TZ(E,(O.Sw&255)<<16|(O.Sw>>8&255)<<8|(O.Sw>>16&255)<<0);
x.Jm(k.channel,E,3);this.BC(w);this.jW(w,"draw",E,k.rect,k.rect);this.K(w,k.rect);this.finish(w,k.rect)};
y.fe=function(){y.wk.call(this,[10,14],y.aus,"tools/plasso");this.g1="crosshair";this.Zp=[];this.nt=null;
this.R4=null;this.a0E=0};y.fe.prototype=new y.wk;y.fe.prototype.disable=function(w,M,O,b){this.bv(w)};
y.fe.prototype.pu=function(w,M,O,b){this.Zp=[i_.wu,i_.iF]};y.fe.prototype.FX=function(w){return this.Zp.indexOf(w)!=-1};
y.fe.prototype.fa=function(w){return this.R4!=null};y.fe.prototype.uu=function(){return this.R4!=null};
y.fe.prototype.Xc=function(){return this.R4!=null};y.fe.prototype.xL=function(w,M,O,b){if(this.R4==null)return;
var D=this.R4,o=D.C,Z=o.length-2,$=this.Aj;if(this.Vb.So(1)&&O.i(i_.PY)&&b.Rw){o.push(0,0);D.H.push("L");
Z+=2}else if(O.i(i_.Z4))$=y.Cw.ay(new at(o[Z-2],o[Z-1]),$);o[Z]=$.x;o[Z+1]=$.y;w.J.F0=D;w.uP=!0};y.fe.prototype.hN=function(w,M,O,b){var D=Date.now();
if(this.R4==null)this.R4={C:[this.Aj.x,this.Aj.y,this.Aj.x,this.Aj.y],H:["M","L"]};else{this.xL(w,M,O,b);
if(D-this.a0E<250||at.we(this.Aj,new at(this.R4.C[0],this.R4.C[1]))<y.Gs(w,b)){this.nt=this.R4;this.finish(w,M,O,b);
this.bv(w);return}this.R4.H.push("L");this.R4.C.push(this.Aj.x,this.Aj.y)}this.a0E=D;w.J.F0=this.R4};
y.fe.prototype.bv=function(w){this.R4=null;this.Zp=[];if(w!=null){w.J.F0=null;w.uP=!0}};y.fe.prototype.$m=function(w,M,O,b){y.wk.prototype.$m.call(this,w,M,O,b);
if(b.i(i_.gH)&&this.R4==null&&this.nt&&w.X!=null){var D=new aX(A.E.s);D.k=y.eU;D.data={d:"h_stepbck"};
M.l(D);this.pu(w,O,b,null);this.R4=this.nt;return}if(this.R4==null)return;if(b.i(i_.wu)||b.i(i_.iF)){this.R4.C.pop();
this.R4.C.pop();this.R4.H.pop();this.xL(w,O,b)}if(b.i(i_.sW)){if(this.R4.C.length>4){this.nt=this.R4;
this.finish(w,O,b)}this.R4=null}if(b.i(i_.gH)){this.R4=null}w.J.F0=this.R4;w.uP=!0};y.fe.prototype.getSelection=function(w,M,O,b){return y.wk.z$(this.R4.C,null,this.YA.anta)};
y.qG=function(){y.wk.call(this,[10,10],y.abY,"tools/mlasso");this.g1="crosshair";this.Zp=[];this.j=[];
this.Xx=[];this.tO=[];this.oN=null;this._y=null;this.Uk=null;this.kx=0;this.fv=0};y.qG.prototype=new y.wk;
y.qG.prototype.disable=function(w,M,O,b){this.clear(w)};y.qG.prototype.fa=function(w){return this.j.length!=0};
y.qG.prototype.Xc=function(){return this.j.length!=0};y.qG.prototype.FX=function(w){return this.Zp.indexOf(w)!=-1};
y.qG.prototype.pu=function(w,M,O,b){this.Zp=[i_.wu,i_.iF];var D=this.nd(this.aX,w);if(this.j.length!=0&&(at.we(D,this.j[0])<y.Gs(w,b)||Date.now()-this.kx<300)){this.xd(w,this.j[0]);
this.finish(w,M,O);this.clear(w);return}this.kx=Date.now();if(this.j.length!=0)D=this.KI(D,w);else{var o=w.e,Z=w.n,$=x.$(o*Z),k=w.Hp(),E=o*Z*4;
for(var U=0;U<E;U+=4)$[U>>>2]=~~(.5+x.nJ(k[U],k[U+1],k[U+2])*(k[U+3]*(1/255)));this.oN=x.nw.aj2($,o,Z);
this.Uk=new Uint16Array($.length)}this.xd(w,D);this.fv=O.i(i_.PY)?1:0;this.My(w)};y.qG.prototype.xd=function(w,M){var O=this.j;
this.Xx[O.length]=this.tO.length;if(O.length!=0){x.nw.Ri(this._y,M.y*w.e+M.x);var b=this.Wt(w,M);b.reverse();
var D=y.qG.ak$(w,b);this.tO=this.tO.concat(D)}O.push(M);this.a18(w)};y.qG.prototype.a18=function(w){var M=this.j[this.j.length-1],O=M.y*w.e+M.x;
this._y=x.nw.amU(this.oN.qd,this.oN.dI,O);this.Uk.fill(0)};y.qG.prototype.nd=function(w,M){return new at(Math.floor(Math.max(0,Math.min(M.e-1,w.x))),Math.floor(Math.max(0,Math.min(M.n-1,w.y))))};
y.qG.prototype.clear=function(w){this.tO=[];this.j=[];this.Xx=[];this.oN=null;this._y=null;this.Uk=null;
if(w!=null){w.J.F0=null;w.J.BK=[];w.uP=!0}this.Zp=[]};y.qG.prototype.xL=function(w,M,O,b){var D=this.j,o=D.length;
if(o==0)return;var Z=this.KI(this.nd(this.Aj,w),w),$=this.Wt(w,Z);for(var U=0;U<$.length;U++){var k=$[U],E=new at(k%w.e,Math.floor(k/w.e));
if(this.Uk[k]>30&&at.we(E,D[o-1])>20){this.xd(w,E);return}this.Uk[k]++}if(this.fv==1&&b.Rw)this.xd(w,Z);
this.My(w)};y.qG.prototype.My=function(w){var M=this.j;if(M.length!=0){var O=this.KI(this.nd(this.Aj,w),w),b=this.Wt(w,O);
b.reverse();var D=y.qG.ak$(w,b),o=this.tO.concat(D),Z=w.J.F0={C:o,H:["M"]};for(var U=2;U<o.length;U+=2)Z.H.push("L")}w.J.BK=[];
for(var U=0;U<M.length;U++)w.J.BK.push(M[U].x+.5,M[U].y+.5);w.uP=!0};y.qG.prototype.hN=function(w,M,O,b){};
y.qG.prototype.$m=function(w,M,O,b){if(this.j.length==0)return;if(b.i(i_.wu)||b.i(i_.iF)){this.j.pop();
this.tO=this.tO.slice(0,this.Xx[this.j.length]);this.Xx.pop();if(this.j.length==0)this.clear(w);else this.a18(w);
this.My(w)}if(b.i(i_.sW)){var D=this.nd(this.Aj,w);this.xd(w,D);this.finish(w,O,b);this.clear(w)}if(b.i(i_.gH)){this.clear(w)}};
y.qG.prototype.getSelection=function(w,M,O,b){return y.wk.z$(this.tO,null,this.YA.anta)};y.qG.prototype.Wt=function(w,M){var O=this.j[this.j.length-1],b=O.y*w.e+O.x,D=M.y*w.e+M.x;
if(this.fv==1)return[D,b];var o=[D];while(D!=b){D=this._y.Pz[D];o.push(D);if(o.length>5e3){console.log(o);
throw"e"}}return o};y.qG.ak$=function(w,M){var O=[],b=w.e;for(var U=0;U<M.length;U++){var D=M[U];O.push(D%b+.5,Math.floor(D/b)+.5)}return O};
y.qG.prototype.KI=function(w,M){var O=M.e,b=M.n,D=w.clone(),Z=3;x.nw.Ri(this._y,w.y*O+w.x);var o=this._y.n2[w.y*O+w.x];
for(var $=-Z+1;$<Z;$++)for(var k=-Z+1;k<Z;k++){var E=w.x+k,t=w.y+$;if(E<0||E>=O||t<0||t>=b)continue;
x.nw.Ri(this._y,t*O+E);if(this._y.n2[t*O+E]<o)D.ZK(E,t)}return D};y.Vn=function(){y.Ke.call(this,[10,36],y.W2,"tools/ruler");
this.QQ=null;this.eP=null;this.w1=null;this.AC=null;this.Fo=null};y.Vn.prototype=new y.Ke;y.Vn.prototype.fa=function(w){return w.Rw};
y.Vn.prototype.enable=function(w,M,O,b){y.Ke.prototype.enable.call(this,w,M,b,O);if(w)this.Ml(w)};y.Vn.prototype.disable=function(w,M,O,b){if(w)this.bv(w)};
y.Vn.prototype.s0=function(w,M,O,b,D){this.QQ=this.w1=null;this.Ml(O)};y.Vn.prototype.kf=function(w,M,O,b,D){var o=y.Gs(w,D),Z=w.P.ep(D.x,D.y);
Z.x=Math.round(Z.x);Z.y=Math.round(Z.y);var $=this.QQ;this.eP=$?$.slice(0):null;var k=$&&at.we(Z,$[0])<o,E=$&&at.we(Z,$[1])<o,t=$&&$[2]&&at.we(Z,$[2])<o;
if(k||E||t){if(b.i(i_.PY)&&$.length==2){if(E){var c=$[0];$[0]=$[1];$[1]=c}$[2]=$[0].clone();this.w1=[2]}else this.w1=[k?0:E?1:2]}else if($&&y.Vn.arI($[0],$[1],Z)<o&&Math.min($[0].x,$[1].x)-5<=Z.x&&Z.x<=Math.max($[0].x,$[1].x)+5&&Math.min($[0].y,$[1].y)-5<=Z.y&&Z.y<=Math.max($[0].y,$[1].y)+5){this.w1=[];
this.Fo=[];for(var U=0;U<$.length;U++){this.w1.push(U);this.Fo.push($[U].clone())}this.AC=Z}else{this.QQ=[Z.clone(),Z.clone()];
this.w1=[1]}};y.Vn.prototype.Ha=function(w,M,O,b,D){if(this.w1==null)return;var o=this.QQ,Z=this.w1,$=w.P.ep(D.x,D.y);
$.x=Math.round($.x);$.y=Math.round($.y);if(Z.length>1){var k=$.x-this.AC.x,E=$.y-this.AC.y;for(var U=0;
U<o.length;U++){o[U]=this.Fo[U].clone();o[U].offset(k,E)}}else{o[Z[0]].ZK($.x,$.y);if(b.i(i_.Z4)){o[Z[0]]=y.Cw.ay(o[1-Z[0]],o[Z[0]])}}this.Ml(w);
this.pI(M,A.E.Z,{d:A.t.SW,k:this.id,aig:o[0],Cy:o[1],UF:o[2],Z1:w.Z1,a3f:w.e});w.P.rT=x.p.Kc([o[0].x,o[0].y,o[1].x,o[1].y]);
console.log(w.P.rT)};y.Vn.prototype.oH=function(w,M,O,b,D,o){this.w1=null;if(o){this.QQ=this.eP.slice(0);
this.Ml(w)}};y.Vn.prototype.pI=function(w,M,O){var b=new aX(M,!0);b.data=O;w.l(b)};y.Vn.prototype.Ml=function(w){var M=this.QQ;
if(M==null)this.bv(w);else{var O=[M[1].x,M[1].y,M[0].x,M[0].y],b=["M","L"];if(M.length>2){O.push(M[2].x,M[2].y);
b.push("L")}w.J.F0={H:b,C:O};w.J.BK=O}w.uP=!0};y.Vn.prototype.bv=function(w){w.J.F0=null;w.J.BK=[]};
y.Vn.arI=function(w,M,O){var b=M.x-w.x,D=M.y-w.y,o=Math.abs(D*O.x-b*O.y+M.x*w.y-M.y*w.x),Z=Math.sqrt(b*b+D*D);
return Z==0?0:o/Z};y.a_=function(){y.fV.call(this,[10,19],y.BQ,"tools/sharpen");this.bz="copy"};y.a_.prototype=new y.fV;
y.a_.prototype.kf=function(w,M,O,b,D){var o=this.YA.pdetail?i$.zi:i$.BQ;if(b.i(i_.PY))o=i$.xG;this.uk(w,O,b,D,this.YA.strn,o);
if(this.a0==null)return;this.Ht(w)};y.a_.prototype.Ha=function(w,M,O,b,D){this.zM(w,M,O);if(this.Fr)this.St(w,O,D);
if(this.a0==null)return;if(!D.Rw)return;this.DC(w,O,b,D);this.Ht(w)};y.ud=function(){y.fV.call(this,[10,24],y._b,"tools/shbrush");
this.bz="draw";this.YA.opacity=.5};y.ud.prototype=new y.fV;y.ud.prototype.kf=function(w,M,O,b,D){this.uk(w,O,b,D,1);
if(this.a0==null)return;this.sE(w);this.Ht(w)};y.ud.prototype.Ha=function(w,M,O,b,D){this.zM(w,M,O);
if(this.Fr)this.St(w,O,D);if(this.a0==null)return;if(!D.Rw)return;this.DC(w,O,b,D);this.Ht(w)};y.ud.prototype.oH=function(w,M,O,b,D){if(this.a0==null)return;
this.jW(w,"sheal",this.a0.Mg(),this.a0.HW(),this.a0.IH(),null);this.K(w,this.a0.IH());y.fV.prototype.oH.call(this,w,M,O,b,D)};
y.jU=function(){y.fV.call(this,[10,20],y.mH,"tools/smudge");this.bz="copy"};y.jU.prototype=new y.fV;
y.jU.prototype.kf=function(w,M,O,b,D){this.uk(w,O,b,D,this.YA.strn,i$.mH);if(this.a0==null)return;this.Ht(w)};
y.jU.prototype.Ha=function(w,M,O,b,D){this.zM(w,M,O);if(this.Fr)this.St(w,O,D);if(this.a0==null)return;
if(!D.Rw)return;this.DC(w,O,b,D);this.Ht(w)};y.lH=function(){y.fV.call(this,[10,23],y.C2,"tools/sponge");
this.bz="sponge"};y.lH.prototype=new y.fV;y.lH.prototype.kf=function(w,M,O,b,D){this.uk(w,O,b,D,this.YA.flow);
if(this.a0==null)return;this.Ht(w)};y.lH.prototype.Ha=function(w,M,O,b,D){this.zM(w,M,O);if(this.Fr)this.St(w,O,D);
if(this.a0==null)return;if(!D.Rw)return;this.DC(w,O,b,D);this.Ht(w)};y.T5=function(){y.Ke.call(this,[10,17],y.s_,"tools/zoom");
this.ZW=!1;this.SF=!0;this.NI=0;this.tH=null;this.ML=null;this.W6=0;this.Y7=null;this.eH=0;this.LO=new dC([{name:[8,0],rx:"Ctrl + +"},{name:[8,1],rx:"Ctrl + -",xM:!0},{name:[20,3],rx:"Ctrl + 0"},{name:["VAR0: 100%",[20,2]],rx:"Ctrl + 1"}],[{_:A.E.s,k:y.s_,W:{d:"zoom",SF:!0}},{_:A.E.s,k:y.s_,W:{d:"zoom",SF:!1}},{_:A.E.s,k:y.s_,W:{d:"adapt",G:"fitscr"}},{_:A.E.s,k:y.s_,W:{d:"adapt",G:"pixel"}}])};
y.T5.prototype=new y.Ke;y.T5.prototype.B0=function(w,M,O,b,D){var o=this.LO;o.f();o.parent=M;o.update(w,O);
var Z=new aX(A.E.Z,!0);Z.data={d:A.t.U6,YT:o,x:D.UD+2,y:D.EQ+1};M.l(Z)};y.T5.prototype.enable=function(w,M,O,b){this.zr(M,b);
if(w&&Date.now()-this.NI<300)this.s0({d:"adapt",G:"pixel"},M,w,b,O);this.NI=Date.now()};y.T5.prototype.kf=function(w,M,O,b,D){this.ML=new at(D.x,D.y);
this.W6=w.P.T;this.Y7=w.P.z.clone()};y.T5.prototype.Ha=function(w,M,O,b,D){if(this.ML==null)return;var o=Math.exp(Math.log(this.W6)+(D.x-this.ML.x)/64);
o=Math.max(.02,Math.min(y.T5.uD[0],o));w.P.T=this.W6;w.P.z=this.Y7.clone();this.s0({d:"zoom",T:o,cc:this.ML},M,w,b,O)};
y.T5.prototype.oH=function(w,M,O,b,D){if(at.we(this.ML,D)<4){var o=this.a0H(b);this.s0({d:"zoom",SF:o,cc:D},M,w,b,O)}this.ML=null};
y.T5.uD=[64,32,16,12,8,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64];
y.T5.ae9=function(w,M,O,b){var D=1;while(w*D*1/2>O||M*D*1/2>b)D*=1/2;if(w*D*2/3>O||M*D*2/3>b)D*=1/2;
else if(w*D>O||M*D>b)D*=2/3;return D};y.T5.asR=function(w,M){var O=y.T5.asc(w);if(M&&O==0)return w;if(!M&&O==y.T5.uD.length-1)return w;
return y.T5.uD[M?O-1:O+1]};y.T5.asc=function(w){var M=0;while(y.T5.uD[M]>w)M++;return M};y.T5.gz=function(w,M,O,b){var D=w._t;
if(b==0||b==null){b=y.T5.asR(w.T,O);if(b==w.T)return}var o=w.ep(M.x,M.y);o.x=Math.max(0,Math.min(D.e,o.x));
o.y=Math.max(0,Math.min(D.n,o.y));if(!1){}else{var Z=w.Ec(),$=w.T/b;Z.translate(-o.x,-o.y);Z.scale($,$);
Z.translate(o.x,o.y);w.a7C(Z)}};y.T5.prototype.s0=function(w,M,O,b,D){if(w.d=="pzoom"){if(typeof w.G=="string")return;
w={d:"zoom",T:w.G/100}}var o=0,Z=!1,$=null;if(w.d=="adapt"){var k=0;if(w.G=="pixel")k=1;if(w.G=="fitscr"){var k=0,E=O.P.iu.e,t=O.P.iu.n,c=new cn(0,0,O.e,O.n),l=x.p.zl(c).C,q=new f$;
q.rotate(O.P.td);x.p.F(l,q,l);var d=x.p.qe(l),V=D.cX?x.Rk.qC+4:8;k=Math.min((E-V*2)/d.e,(t-V*2)/d.n)}$=new at(Math.round(O.P.iu.e/2),Math.round(O.P.iu.n/2));
o=k;y.T5.gz(O.P,$,Z,o);O.bN=!0}if(w.d.startsWith("multi")){function L(N){var v=N[0].x-N[1].x,h=N[0].y-N[1].y;
return Math.sqrt(v*v+h*h)}function e(N){return new at((N[0].x+N[1].x)/2,(N[0].y+N[1].y)/2)}var H=w.Hz,j=e(H);
if(w.d=="multidown"){this.tH=[H,O.P.T,O.P.ep(j.x,j.y)]}else{var g=y.T5.uD;o=this.tH[1]*L(H)/L(this.tH[0]);
o=Math.max(g[g.length-1],Math.min(g[0],o));if(o!=O.P.T)y.T5.gz(O.P,j,Z,o);var K=this.tH[2],a=O.P.hP(K.x,K.y),T=O.P.z;
T.x=Math.round(T.x+j.x-a.x);T.y=Math.round(T.y+j.y-a.y);O.bN=!0}}if(w.d=="scroll"){$=w.cc;this.eH+=w.v_.y;
var C=14;if(this.eH<-C){Z=!0;this.eH=Math.max(this.eH+C,-(C-1))}else if(this.eH>C){Z=!1;this.eH=Math.min(this.eH-C,C-1)}else return;
y.T5.gz(O.P,$,Z,o);O.bN=!0}if(w.d=="zoom"){$=w.cc?w.cc:new at(Math.round(O.P.iu.e/2),Math.round(O.P.iu.n/2));
if(w.T!=null)o=w.T;else Z=w.SF;y.T5.gz(O.P,$,Z,o);O.bN=!0}if(w.d=="mskView"){var F=O.B[O.g[0]];if(F.cn<=0){F.cn=1;
O.Er=!0}var m=F.cn==3?F.k1(O).D:F.yo();if(w.G==0){O.P.$Y=[1,1,1];m.Uy=!1}if(w.G==1){O.P.$Y=[1,1,1];m.Uy=!0}if(w.G==2){O.P.$Y=[0,0,0];
m.Uy=!0}for(var U=0;U<O.SN.length;U++)O.SN[U].Uy=!1;O.m7=[];O.uP=!0}};y.T5.prototype.$m=function(w,M,O,b){if(this.ZW!=b.i(i_.PY)){this.ZW=b.i(i_.PY);
var D={d:A.t.SW,k:this.id,ZW:this.ZW},o=new aX(A.E.Z,!0);o.data=D;M.l(o);this.zr(M,b)}};y.T5.prototype.zr=function(w,M){var O=new aX(A.E.Z,!0),b=this.a0H(M);
O.data={d:A.t.s5,ue:b?"zoom-in":"zoom-out"};w.l(O)};y.T5.prototype.Wb=function(w,M,O,b){this.SF=w.SF;
this.zr(M,b)};y.T5.prototype.a0H=function(w){var M=this.SF;if(w.i(i_.NT)&&w.i(i_.v9))M=!0;if(this.ZW)M=!M;
return M};y.T5.atb=function(w,M){if(w.i(i_.Wn)||w.i(i_.aex)){M.k=y.s_;M.data={d:"zoom",SF:!0}}if(w.i(i_.Oz)){M.k=y.s_;
M.data={d:"zoom",SF:!1}}if(w.i(i_.WN)){M.k=y.s_;M.data={d:"adapt",G:"fitscr"}}if(w.i(i_.y9)){M.k=y.s_;
M.data={d:"adapt",G:"pixel"}}};y.hw=function(w,M,O){y.Ke.call(this,w,M,O);this.g3=null;this.P4=null;
this.jA=null;this.a3X=0};y.hw.prototype=new y.Ke;y.hw.VX=function(w){var M={t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},O=w==0?{classID:"null",null:M,WhPt:{t:"bool",v:!0}}:{classID:"Strk",null:M,Usng:{t:"type",v:{classID:"PbTl"}},__name:"Stroke"};
return{wV:w==0?"fill":"stroke",g0:O}};y.hw.prototype.enable=function(w,M,O,b,D){this.P4=O;var o=new aX(A.E.Z,!0);
o.data={d:A.t.s5,ue:"default"};M.l(o)};y.hw.prototype.B0=function(w,M,O,b,D){var o=w.ff(),Z=o[0],$=o[1];
if($.length==0)return;var k=Z[$[0]],E=k.add.vmsk,t=w.P.ep(D.x,D.y),c=4*y.V()/w.P.T,l=new cn(t.x-c,t.y-c,c*2,c*2),q=x.O.zV(E.j,l)[0];
if(q.length!=0){E.yu=q;w.uP=!0}var d=x.O.BE(E.j,t).zS;if(d!=-1){E.g=[d];w.uP=!0}var V=new aX(A.E.Z,!0);
V.data={d:A.t.SW,k:this.id,Vr:D,zu:w,ND:O};M.l(V)};y.hw.prototype.a2E=function(w,M){var O=new aX(A.E.Z,!0);
O.data={d:A.t.pF,I8:eM.Wo};if(!M.fk)w.l(O);O.data={d:A.t.pF,I8:eM.B$};if(!M.sw.IB)w.l(O)};y.hw.prototype.S4=function(w,M,O,b){if(O.yK!=this.id)return;
if(w.g.length==0)return;var D=w.B[w.g[0]],o=D.add.vmsk,Z=D.add.vstk,$=y.hw.PC(w,w.g[0]);this.g3=w;this.jA=M;
if(D.XS()&&o!=null&&(JSON.stringify(Z)!=JSON.stringify(O.w0)||JSON.stringify($)!=JSON.stringify(O.$p))){this.a3X=Date.now();
var k=new aX(A.E.Z,!0);k.data={d:A.t.pF,I8:eM.Lp,G:$};M.l(k);k.data={d:A.t.pF,I8:eM.eG,G:Z};M.l(k)}};
y.hw.prototype.o9=function(w,M){if(this.g3==null)return;if(M==eM.vI||M==eM.Lp||M==eM.eG){if(Date.now()-this.a3X<50)return;
var O=M==eM.Lp,b=this.g3,D=O?w.$p:w.w0,o=[],Z=b.g;for(var U=0;U<Z.length;U++){var $=Z[U],k=b.B[$];if(!k.XS()||k.add.vmsk==null)continue;
o.push($)}var E=new aX(A.E.s,!0);E.k=y.YH;E.data={d:Q.dH,MV:o,l$:O,G:D};if(o.length!=0)this.jA.l(E)}};
y.hw.prototype.aiC=function(w){if(typeof w=="number"){var M=new aX(A.E.Lm,!0);M.data=y.c9.CK(0);M.data.g0.Usng.v.Type.v.Clr.v=x.M.jk({o:w>>>16&255,w:w>>>8&255,L:w>>>0&255});
this.jA.l(M)}};y.hw.prototype.s0=function(w,M,O,b,D){this.jA=M;if(w.d=="newfill"){if(w.kB==0){var o=new aX(A.E.Z,!0);
o.data={d:A.t.JE,IP:"colorpicker",RF:D.Sw,at:this.aiC.bind(this)};M.l(o)}}else if(w.d=="pathedit"){var Z=w.uj,$="",k=O.IB.slice(0),E=O.xF.slice(0),t=O.IB.slice(0),c=O.xF.slice(0);
if(Z=="rnm"){var l=-1-w.zS,q=k[l],d=fO.aq(w.name,q.add);if(l!=0)t[l]=d;else{c=[t.length];t.push(d);t[0]=fO.aq("Work Path")}$="Rename"}else if(Z=="new"){var d=fO.aq("Path "+k.length);
if(w.afD){var V=O.ff(),L=V[0],e=V[1],H=L[e[0]];d.add.vmsk=H.add.vmsk.clone();d.add.vogk=JSON.parse(JSON.stringify(H.add.vogk));
if(H.zS==-1){var j=t[c[0]]=fO.aq("Path "+k.length);j.name=H.name;j.zS=H.zS}}t.push(d);c=[t.length-1];
$="New"}else if(Z=="del"){if(c.length==0)return;c.sort(function(P,s){return P-s});if(c[0]==0){t[0]=fO.aq(k[0].name);
c=c.slice(1)}var K=0;while(c.length!=0){t.splice(c[0]-K,1);c=c.slice(1);K++}$="Delete"}else if(Z=="fromsel"){var a=t[0]=fO.aq("Work Path");
c=[0];if(O.X==null)return;var T=O.X.channel.slice(0);for(var U=0;U<T.length;U++)T[U]=T[U]>128?2:1;var C=O.X.rect.clone();
C.M0(1,1);var F=x.$(C.v());x.CV(T,O.X.rect,F,C);var m=iL.Qk(F,C.e,C.n,Math.round(C.v()*5e-4)),L=iL.ff(m),N=new f$(1,0,0,1,-1+O.X.rect.x,-1+O.X.rect.y);
for(var U=0;U<L.length;U++)x.p.F(L[U].path.C,N,L[U].path.C);for(var U=0;U<L.length;U++){var v=L[U];if(v.color==1&&v.parent==-1)continue;
var h=x.p.aG(L[U].path,!1);a.add.vmsk.j=a.add.vmsk.j.concat(h.slice(2))}a.add.vogk=Q.De(a.add.vmsk.j);
$="Selection to"}var P=new gN($+" Path",this);P.data={eP:k,Eq:E,a5t:t,PH:c};if(Z=="fromsel"){P.data.jP=O.X;
P.data.$X=null}O.zw(P);this.ZT(P.data,O)}else{var J=w.vZ,V=O.ff(w.d=="append"),L=V[0],e=V[1],a=L[e[0]],Y=a.add.vmsk,B=a.add.vogk,S=Y.clone(),r=Y.clone(),I=JSON.stringify(B);
if(w.d=="remove"){if(w.It&&r.yu.length!=0){r.j=x.O.avd(r.j,r.yu,B,w.abV);var f=x.O.wW(r.j);for(var U=0;
U<r.g.length;U++)if(r.g[U]>=f){r.g.splice(U,1);U--}r.yu=[];J="Delete Anchors"}else{if(r.g.length==0)return;
var K=0;for(var U=0;U<r.g.length;U++){B.splice(r.g[U]+K,1);K--}r.j=x.O.a3q(r.j,r.g);r.g=[];r.yu=[];if(J==null)J="Delete Paths"}}if(w.d=="append"){y.hw.FD(w.alB,r,B)}this.xY(O,a.zS,r,B);
this.mM(O,J,a.zS,S,r.clone(),null,I,JSON.stringify(B))}};y.hw.CE=function(w,M){var O=x.O.aaq(w.j,w.g),b=[];
for(var U=0;U<w.g.length;U++)b.push(JSON.parse(JSON.stringify(M[w.g[U]])));return[O,b]};y.hw.FD=function(w,M,O){var b=x.O.wW(M.j),D=x.O.wW(w[0]);
M.j=M.j.concat(w[0].slice(2));M.g=[];for(var U=0;U<D;U++)M.g.push(b+U);for(var U=0;U<D;U++)O.push(JSON.parse(JSON.stringify(w[1][U])))};
y.hw.prototype.FX=function(w,M){if(M==null)return!1;var O=M.ff(),b=O[0],D=O[1];if(D.length==0)return!1;
var o=b[D[0]],Z=o.add.vmsk;if(Z&&Z.g.length+Z.yu.length!=0)return[i_.wu,i_.iF].indexOf(w)!=-1};y.hw.prototype.$m=function(w,M,O,b){if(w==null)return;
var D=w.ff(),o=D[0],Z=D[1];if(Z.length==0)return;var $=o[Z[0]],k=$.add.vmsk;if(b.i(i_.gH)||b.i(i_.sW)||this.id==y.Uh&&b.i(i_.lu)){k.yu=[];
w.uP=!0}if(k.g.length!=0){var E=b.Fn();if(E.x!=0||E.y!=0){var t=k.clone(),c=k.clone(),l=new f$(1,0,0,1,E.x,E.y),q=$.add.vogk,d=JSON.stringify(q);
if(b.i(i_.PY)){var V=y.hw.CE(c,q);y.hw.FD(V,c,q)}x.O.I0(c.j,l,c.g);x.lK.F(q,x.N.iq(l),c.g);this.xY(w,$.zS,c,q);
this.mM(w,"Move Paths",$.zS,t,c.clone(),!0,d,JSON.stringify(q))}if(b.i(i_.wu)||b.i(i_.iF))this.s0({d:"remove",It:this.id==y.Uh},M,w,b,O)}};
y.hw.prototype.mM=function(w,M,O,b,D,o,Z,$){var k=new gN(M,this);k.data={$0:O,bE:b,FE:D,aue:o,a5l:Z,MC:$};
w.zw(k)};y.hw.prototype.ZT=function(w,M){if(w.$0!=null)this.xY(M,w.$0,w.FE.clone(),JSON.parse(w.MC));
else{M.IB=w.a5t.slice(0);M.xF=w.PH.slice(0);M.uP=M.Er=!0}if(w.jP||w.$X){M.X=w.$X;M.wK=!0}};y.hw.prototype.y3=function(w,M){if(w.$0!=null)this.xY(M,w.$0,w.bE.clone(),JSON.parse(w.a5l));
else{M.IB=w.eP.slice(0);M.xF=w.Eq.slice(0);M.uP=M.Er=!0}if(w.jP||w.$X){M.X=w.jP;M.wK=!0}};y.hw.prototype.xY=function(w,M,O,b){var D=M<0?w.IB[-1-M]:M<1e6?w.B[M]:w.B[M-1e6].add.TySh,o=D.add.vmsk;
o.channel=null;o.iD=!0;if(o.u$){o.u$.channel=null;o.u$.iD=!0}D.add.vmsk=O;D.add.vogk=b;if(1e6<=M){ah._W(D);
var Z=w.B[M-1e6],$=D,k=this.P4,E=new bs($.GM,k.Yv),t=km.sr(E,$);Z.rect=t.xr;Z.buffer=t.AJ;Z.K();w.K()}else if(0<=M){O.iD=!0;
D.h1(w);w.K()}w.uP=w.Er=!0};y.hw.PC=function(w,M){var O=w.B[M],b=O.add.vstk,D=null;if(b&&!b.fillEnabled.v)D={Gw:0};
else if(O.add.SoCo)D={Gw:1,MJ:O.add.SoCo};else if(O.add.GdFl)D={Gw:2,MJ:O.add.GdFl};else if(O.add.PtFl)D={Gw:3,MJ:O.add.PtFl};
return D};y.hw.TV=function(w,M){var O=w.add.vmsk,b=w.add.vstk,D=M.Gw;if(b)b.fillEnabled.v=D!=0;if(D>0){var o=["SoCo","GdFl","PtFl"][D-1];
for(var U=0;U<3;U++)delete w.add[["SoCo","GdFl","PtFl"][U]];w.add[o]=M.MJ}};y.c9=function(w,M,O,b){y.hw.call(this,w,M,O);
this.YA={shape:dL.pp(),pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,tsiz:300,cstr:{GG:0},anta:!0,aopts:[!1,!1,50,100,0]};
this.ahU=b;this.hd=null;this.pQ=null;this.$F=null;this.Vb=new jy};y.c9.prototype=new y.hw;y.c9.prototype.fa=function(w){return w.Rw&&this.id!=y.Cz};
y.c9.prototype.enable=function(w,M,O,b,D){this.P4=O;var o=new aX(A.E.Z,!0);o.data={d:A.t.s5,ue:"crosshair"};
M.l(o)};y.c9.prototype.$m=function(w,M,O,b){y.hw.prototype.$m.call(this,w,M,O,b);this.Vb.$m(b);this.iE(M,O)};
y.c9.prototype.iE=function(w,M){var O=new aX(A.E.Z,!0);O.data={d:A.t.SW,k:this.id,VB:this.ZZ(M)};w.l(O)};
y.c9.prototype.ZZ=function(w){var M=this.Vb._x(0),O=this.Vb.So(0),b=y.wk.iy(this.YA.binop,M,O);if(w.A4==1&&b==0)b=1;
return b};y.c9.prototype.ad=function(w,M,O,b){};y.c9.prototype.kf=function(w,M,O,b,D){var o=O.A4;if(o!=2)this.a2E(M,O);
if(o==2&&!w.D_())return;var Z=w.P.ep(D.x,D.y);Z=y.t7.R3(w,Z,O);this.$F=[Z.x,Z.y];this.hd=Z;this.pQ=new at(0,0);
this.Vb.kf(b)};y.c9.prototype.an4=function(w,M,O,b){var D=[this.hd.clone(),M.clone()];O=this.Vb._x(1)||O.i(i_.Z4)||this.Vb.So(1)?O:null;
if(this.ahU)D=y.c9.oh(D[0],D[1],O,!0,this.YA.cstr);if(w)w.P.rT=new cn(D[0].x,D[0].y,D[1].x-D[0].x,D[1].y-D[0].y);
return this.ad(D[0],D[1],this.Vb._x(1)&&O.i(i_.Z4),this.$F,w.P,b)};y.c9.prototype.a16=function(w,M,O){var b=w.P.ep(M.x,M.y);
if(this.id==y.Cz)return b;var D=this.YA.cstr;if(D.GG==2){var o=new cn(b.x-D.x,b.y-D.y,D.x,D.y),Z=y.t7.qN(w,o,O);
b.x+=Z[0];b.y+=Z[1];y.t7.ty(w,o,Z)}else b=y.t7.R3(w,b,O);return b};y.c9.prototype.Ha=function(w,M,O,b,D){if(this.hd==null)return;
var o=this.$F,Z=o.length,$=D?this.a16(w,D,O):new at(o[Z-2],o[Z-1]);if(b.i(i_.NT))this.hd=$._6(this.pQ);
else this.pQ=$._6(this.hd);o.push($.x,$.y);if(this.YA.shape==null)this.YA.shape=O.E9[0];var k=this.an4(w,$,b,!0)[0],E=x.p.EK(k);
w.J.F0=E;if(this.id!=y.Cz&&this.id!=y.pM&&this.id!=y.hu)y.Ke.Jx(D,w.P.rT,w,O);w.uP=!0;this.Vb.Ha()};
y.c9.prototype.ac4=function(w,M,O,b){var D=w[4].clone();if(b){D.x-=M/2;D.y-=O/2}if(this.id==y.pM){M/=2;
O/=2;D.x+=M;D.y+=O;O=-O;M=0}var o=this.ad(D,new at(D.x+M,D.y+O),!1,this.$F);this.auO(w[0],w[1],w[2],o)};
y.c9.prototype.auO=function(w,M,O,b){var D=new aX(A.E.Lm,!0);D.data=y.c9.a8M(b[1],O);M.l(D);if(b[1].v.classID=="customShape"&&b[1].v.Nm.v.startsWith("--")){var o=w.ff(),Z=o[0],$=o[1],k=Z[$.pop()],E=k.add.vmsk,t=k.add.vogk;
x.lK.W1(t);var c=E.clone();c.j=b[0];this.xY(w,k.zS,c,t)}};y.c9.prototype.oH=function(w,M,O,b,D,o){if(this.hd==null)return;
var Z=this.a16(w,D,O),$=this.ZZ(O),k=O.A4,E=this.$F,t=E.length;if(this.id==y.Cz&&t<=4){}else if(t<=4){Z.x=Math.round(Z.x);
Z.y=Math.round(Z.y);var c=new aX(A.E.Z);c.data={d:A.t.JE,IP:"createshape",av9:this.ac4.bind(this),a4Z:this.name,a1k:[w,M,O,b,Z]};
if(!o)M.l(c)}else if(t!=2){var l=this.an4(w,Z,b),q=l[0],d=w.ff(!0),V=d[0],L=d[1],e=L.length-1;if(k==1&&q.length>2||k==0&&$!=0&&e!=-1&&V[L[e]].zS>=0){q[2].K$=[1,2,3,0][$-1];
var H=V[L.pop()],j=H.add.vmsk,g=H.add.vogk,K=j.clone(),a=j.clone(),T=JSON.stringify(g);a.j=a.j.concat(q.slice(2));
a.g=[x.O.wW(a.j)-1];var C=x.lK.jv(l[1]);g.push(C?C:x.lK.KS());this.xY(w,H.zS,a,g);this.mM(w,this.name,H.zS,K,a,null,T,JSON.stringify(g))}else if(k==0){this.auO(w,M,O,l)}else if(k==2){var a=new Q.G6;
a.j=a.j.concat(q.slice(2));var F=a.yo();if(!this.YA.anta)x.round(F.channel);var m=x.$(F.rect.v()*4);
x.TZ(m,(O.Sw&255)<<16|(O.Sw>>8&255)<<8|(O.Sw>>16&255)<<0);x.Jm(F.channel,m,3);var N=new aX(A.E.s,!0);
N.k=y.rq;N.data={d:"draw",Ge:{buffer:m,rect:F.rect.clone()},vZ:this.name};M.l(N)}}this.hd=null;w.J.F0=null;
w.J.MB=null;w.J.jd=[];w.P.rT=null;w.uP=!0;this.Vb.oH();this.iE(M,O)};y.c9.prototype.Wb=function(w,M,O,b,D){for(var O in w)this.YA[O]=w[O]};
y.c9.oh=function(w,M,O,b,D){var o=w.x,Z=w.y,$=M.x,k=M.y;if(D&&D.GG==2){if(b){$=Math.round($);k=Math.round(k)}o=$-D.x;
Z=k-D.y}else{var E=0;if(D&&D.GG==1)E=D.y/D.x;else if(O&&O.i(i_.Z4))E=1;if(E!=0){if(b){if(o<$)o=Math.floor(o);
else o=Math.ceil(o);if(Z<k)Z=Math.floor(Z);else Z=Math.ceil(Z)}var t=Math.abs($-o),c=Math.abs(k-Z),l=t;
if(c/t<E)l*=c/t/E;$=$>o?o+l:o-l;k=k>Z?Z+l*E:Z-l*E}if(O&&O.i(i_.PY)){o-=$-o;Z-=k-Z}}var w=new at(o,Z),M=new at($,k);
if(b)y.c9.akq(w,M);return[w,M]};y.c9.akq=function(w,M){if(w.x>M.x){var O=w.x;w.x=M.x;M.x=O}if(w.y>M.y){var O=w.y;
w.y=M.y;M.y=O}w.x=Math.floor(w.x);w.y=Math.floor(w.y);M.x=Math.ceil(M.x);M.y=Math.ceil(M.y)};y.c9.abI=function(){return{classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"contentLayer"}}]},Usng:{t:"Objc",v:{classID:"contentLayer",Type:{t:"Objc",v:{}}}}}};
y.c9.CK=function(w,M){var O=y.c9.abI(),b=O.Usng.v.Type;if(M==null){b.v=JSON.parse(JSON.stringify(aN.bK[w]));
b.v.classID=["solidColorLayer","gradientLayer","patternLayer"][w]}else y.yI.z8(M,b.v,w);return{wV:"make",g0:O}};
y.c9.a8M=function(w,M){var O=M.$p,b=JSON.parse(JSON.stringify(M.w0));if(O.Gw==0)b.fillEnabled.v=!1;var D=y.c9.CK(Math.max(0,O.Gw-1),O.MJ);
D.g0.Usng.v.Shp=w;D.g0.Usng.v.strokeStyle={t:"Objc",v:b};return D};y.J$=function(w){y.hw.call(this,w==0?[10,29]:[10,51],w==0?y.Uh:y.a3o,w==0?"tools/pen":"tools/cpen");
this.fv=w;this.XB=null;this.cd=null;this.G7=null;this.a73=0;this.bx=null;this.WR=!1;this.CC=!1;this.UG=!1;
this.nb=!1;this.NI=0};y.J$.prototype=new y.hw;y.J$.prototype.fa=function(w){return this.cd!=null};y.J$.prototype.$m=function(w,M,O,b){if(!b.i(i_.PY))this.UG=!1;
if(this.fv==1&&(b.i(i_.wu)||b.i(i_.iF))&&this.FX(i_.wu,w)){this.s0({d:"remove",It:!0},M,w,b,O);return}y.hw.prototype.$m.call(this,w,M,O,b)};
y.J$.prototype.kf=function(w,M,O,b,D){this.XB=D;this.a2E(M,O);var o=w.P.ep(D.x,D.y),V,L;o.x=Math.round(o.x);
o.y=Math.round(o.y);var Z=y.t7.R3(w,o,O),$=O.A4,k=this.a73;if($==2)$=0;var E=w.ff($==1),t=E[0],c=E[1],l=t[c.pop()],q=l?l.add.vmsk:null;
if($==0&&k!=0&&l&&l.zS>=0)$=1;var d=y.Gs(w,D);if(q)V=x.O.BE(q.j,o,!0,d);var e=b.i(i_.PY);if($==0&&(q==null||q.yu.length==0&&V.zS==-1)){var H=new aX(A.E.Lm,!0),j=x.lK.W$("customShape",[0,0,1,1],null,null,null,"--");
H.data=y.c9.a8M(j,O);M.l(H);this.nb=!0;E=w.ff(!0);t=E[0];c=E[1];l=t[c.pop()];q=l.add.vmsk;q.j=q.j.slice(0,2)}var K=l.add.vogk;
this.cd=q.clone();this.G7=JSON.stringify(K);var a=q.j,T=x.O.wW(a);L=x.O.zV(q.j,new cn(o.x-d,o.y-d,d*2,d*2),q.yu);
V=x.O.BE(q.j,o,!0,d);var C=L[0].length+L[1].length+L[2].length;if(V.zS!=-1&&L[0].length==0){var F=x.O.r$(a,V.zS);
while(a[F].length<=V.Q2){V.Q2-=a[F].length;F+=a[F].length+1}a[F].length++;var m={type:4,vA:Z.clone(),I:Z.clone(),YJ:Z.clone()};
a.splice(F+2+V.Q2,0,m);q.yu=[F+2+V.Q2];if(this.fv==1){m.vA.x+=2;this.xx(q)}}else if(C!=0&&e){var N=0;
for(var U=0;U<3;U++)if(L[U].length!=0){N=L[U][0];this.CC=U==1;break}if(L[0].length!=0){var v=q.j.length-1,h=q.j[N];
h.YJ=h.I.clone();var P=h.type>=3?3:0;if(N!=v){h.vA=h.I.clone();h.type=P+1;this.UG=!0}else h.type=P+2}q.yu=[N]}else if(L[0].length==1&&a[L[0][0]-1]&&(a[L[0][0]-1].I!=null||a[L[0][0]-1].type==0||a[L[0][0]-1].length==1)){var N=L[0][0];
if(this.fv==1){var J=a[N],Y=J.I,B=Math.abs(x.p.ask(J.vA.x,J.vA.y,Y.x,Y.y,J.YJ.x,J.YJ.y));if(B>.01){J.vA=Y.clone();
J.YJ=Y.clone()}if(Date.now()-this.NI<300){var S=J.vA.M5(Y)&&J.YJ.M5(Y);if(S)J.YJ.offset(2,2);else{J.vA=Y.clone();
J.YJ=Y.clone()}this.NI=0}else this.NI=Date.now();q.yu=[N];this.xx(q)}else{var F=x.O.r$(a,x.O.Hr(a,N)),j=a[F],r=F+j.length;
if(N!=r||j.type==0){a[F].length--;a.splice(N,1);r--;if(j.length==0){a.splice(F,1);r=-1}}if(r!=-1)q.yu=[r];
else q.yu=[]}}else{var I=0;if(q.yu.length!=1){q.g=[T];a.push({type:3,length:1,K$:[1,2,3,0][Math.max(0,k-1)],pa:0,r1:0,HP:0});
I=a.length;K.push(x.lK.KS())}else{var J=q.yu[0],f=x.O.Hr(a,J),F=x.O.r$(a,f);J=F+a[F].length;if(at.we(o,a[F+1].I)<d){a[F].type=0;
q.yu=[F+1];this.bx=Z;this.WR=!0;this.xY(w,l.zS,q,K);w.uP=!0;return}a[F].length++;I=J+1;if(J==F+1&&a[F].length!=2)I=F+1}if(b.i(i_.Z4)&&a[I-1]&&a[I-1].I)Z=y.Cw.ay(a[I-1].I,Z);
var m={type:4,vA:Z.clone(),I:Z.clone(),YJ:Z.clone()};a.splice(I,0,m);q.yu=[I];this.bx=Z;if(this.fv==1){m.vA.x+=2;
this.xx(q)}this.NI=Date.now()}this.xY(w,l.zS,q,K);w.uP=!0};y.J$.prototype.xx=function(w){var M=w.j,O=w.yu[0],b=x.O.r$(M,x.O.Hr(M,O))+1,D=M[b-1].length;
if(D<3)return;var o=[],Z=[];for(var U=0;U<5;U++){var $=b+(O-b-2+U+5*D)%D;Z.push($);var k=M[$].I;o.push(k.x,k.y)}var E=x.p.aux(o);
for(var U=1;U<4;U++){var t=U*4,c=M[Z[U]],k=c.I,l=c.vA.M5(k)&&c.YJ.M5(k);if(!l){c.vA.ZK(E[t],E[t+1]);
c.YJ.ZK(E[t+2],E[t+3])}else{c.vA=k.clone();c.YJ=k.clone()}}};y.J$.prototype.Ha=function(w,M,O,b,D){if(this.cd==null)return;
var o=this.XB;if(o&&at.we(o,D)<y.Gs({P:{T:1}},D))return;this.XB=null;var Z=w.P.ep(D.x,D.y),$=y.t7.R3(w,Z,O),k=w.ff(O.A4==1),E=k[0],t=k[1],c=E[t.pop()],l=c.add.vmsk,q=l.j,d=q[l.yu[0]];
if(this.fv==1){var V=d.I.M5(d.vA)&&d.I.M5(d.YJ);d.I=Z.clone();d.vA=Z.clone();d.YJ=Z.clone();if(!V)d.vA.x+=2;
this.xx(l)}else if(b.i(i_.NT)){if(b.i(i_.Z4))$=y.Cw.ay(this.bx,$);var L=d.I._6(d.YJ),e=d.vA._6(d.I);
d.YJ=$;d.I=$.add(L);d.vA=d.I.add(e)}else{if(b.i(i_.Z4))$=y.Cw.ay(d.I,$);if(this.CC){var H=d.vA;d.vA=d.YJ;
d.YJ=H}if(this.WR){var j=at.we(d.I,$),g=j==0?0:at.we(d.I,d.YJ)/j;d.YJ.x=d.I.x+g*($.x-d.I.x);d.YJ.y=d.I.y+g*($.y-d.I.y)}else d.YJ=$;
if(b.i(i_.PY)&&!this.UG)d.type=5;else{d.type=4;d.vA=d.I.add(d.I._6($))}this.bx=$;if(this.CC){var H=d.vA;
d.vA=d.YJ;d.YJ=H}}this.xY(w,c.zS,l,c.add.vogk);w.uP=!0};y.J$.prototype.oH=function(w,M,O,b,D){if(this.cd==null)return;
var o=w.ff(O.A4==1),Z=o[0],$=o[1],k=Z[$.pop()],E=k.add.vmsk,t=k.add.vogk;if(this.WR){E.yu=[];this.xY(w,k.zS,E,k.add.vogk)}var c=this.cd.j.length,l=E.j.length;
if(!this.nb)this.mM(w,this.WR?"Close Path":(c==l?"Move":c<l?"Add":"Delete")+" Anchor Point",k.zS,this.cd,E.clone(),null,this.G7,JSON.stringify(t));
this.nb=!1;this.WR=!1;this.CC=!1;this.UG=!1;this.cd=null};y.J$.prototype.Wb=function(w,M,O,b,D){this.a73=w.binop};
y.Jy=function(){y.c9.call(this,[10,30],y.Cz,"tools/fpen",!1)};y.Jy.prototype=new y.c9;y.Jy.prototype.ad=function(w,M,O,b,D,o){var Z=b.length-1,$=Math.sqrt((b[Z-1]-b[0])*(b[Z-1]-b[0])+(b[Z]-b[1])*(b[Z]-b[1]))<6/D.T;
return[x.O.nc(b,$,o),x.lK.W$("customShape",[0,0,1,1],null,null,null,"--")]};y.Fl=function(){y.hw.call(this,[10,27],y.uM,"tools/pselect");
this.QN=null;this.kV=!1;this.R4=null;this.cd=null;this.L2=null;this.G7=null;this.q1=null;this.on=null;
this.pV=null;this.Vm=null};y.Fl.prototype=new y.hw;y.Fl.prototype.fa=function(w){return w.Rw};y.Fl.prototype.kf=function(w,M,O,b,D){var o=w.P.ep(D.x,D.y),Z=w.ff(),$=Z[0],k=Z[1],E,t;
for(var U=0;U<k.length;U++){var c=$[k[U]],l=c.add.vmsk,q=x.O.BE(l.j,o).zS;if(q!=-1){this.R4=E=c;t=q}for(var d=0;
d<l.QQ.length;d++){var V=x.O.pb(l.j,l.QQ[d]);if(V==null)continue;var L=at.we(V,o);if(L<4*y.V()/w.P.T){var e=w.B[c.zS-1e6].add.TySh,H=e.GM.Curve,j=e.F,g=H.Reversed;
H.Reversed=!1;var H=bs.Bj(e.GM.Curve);H.Reversed=g;x.p.F(H[0],j,H[0]);this.pV=[H,d,j.ip*j.uc-j.L*j.Hv];
this.R4=E=c;t=0}}if(this.pV)break}if(E!=null){var l=E.add.vmsk;l.yu=[];var K=l.g.indexOf(t);if(b.i(i_.Z4)){if(K==-1){l.g.push(t);
this.kV=!0}else l.g.splice(K,1)}else{if(K==-1)l.g=[t];this.kV=!0}this.on=x.O.rt(l.j,l.g)}this.QN=o;this.Vm=new ec(o);
w.Er=!0;w.uP=!0};y.Fl.prototype.Ha=function(w,M,O,b,D){if(this.QN==null)return;var o=w.P.ep(D.x,D.y);
if(this.kV){o=this.Vm.JQ(o,b);var Z=this.R4;if(this.cd==null){this.cd=this.L2=Z.add.vmsk.clone();this.G7=this.q1=JSON.stringify(Z.add.vogk);
if(b.i(i_.PY)){var $=this.cd.clone(),k=JSON.parse(this.G7),E=y.hw.CE($,k);y.hw.FD(E,$,k);this.L2=$;this.q1=JSON.stringify(k)}}var $=this.L2.clone(),k=JSON.parse(this.q1);
if(this.pV){var t=this.pV,c=t[0][0],l=x.p.A6(c,o.x,o.y);$.QQ[t[1]]=t[0][1][l];var q=c[l*2],d=c[l*2+1],V=(c[l*2+2]-q)*(o.y-d)-(c[l*2+3]-d)*(o.x-q);
if(t[2]<0)V=-V;$.Ao=V>0}else{var L=this.on.clone(),e=L.x,H=L.y;L.offset(o.x-this.QN.x,o.y-this.QN.y);
L.x=Math.round(L.x);L.y=Math.round(L.y);var j=y.t7.qN(w,L,O),g=new f$(1,0,0,1,L.x-e+j[0],L.y-H+j[1]);
x.O.I0($.j,g,$.g);x.lK.F(k,x.N.iq(g),$.g);y.t7.ty(w,L,j)}this.xY(w,Z.zS,$,k)}else{var K=this.QN;w.J.F0=x.p.zl(new cn(K.x,K.y,o.x-K.x,o.y-K.y));
w.uP=!0}};y.Fl.prototype.oH=function(w,M,O,b,D){if(this.QN==null)return;var o=w.P.ep(D.x,D.y),Z=this.R4,$=Z?Z.add.vmsk:null;
if(this.kV){var k=JSON.stringify(Z.add.vogk);if(!this.QN.M5(o))this.mM(w,"Move Paths",Z.zS,this.cd,$,null,this.G7,k);
if(w!=null&&w.J.MB){w.J.MB=null;w.uP=!0}}else{if($){var E=this.QN,t=new cn(E.x,E.y,o.x-E.x,o.y-E.y),c=x.O.a5m($.j,t);
if(b.i(i_.Z4)){for(var U=0;U<c.length;U++)if($.g.indexOf(c[U])==-1)$.g.push(c[U])}else $.g=c}w.J.F0=null;
w.uP=!0}this.QN=null;this.cd=null;this.pV=null;this.kV=!1;this.Vm=null};y.Fl.prototype.S4=function(w,M,O,b){y.hw.prototype.S4.call(this,w,M,O,b);
if(O.yK!=this.id)return;if(w.g.length==0)return;var D=w.ff(),o=D[0],Z=D[1];if(Z.length==0)return;var $=o[Z[0]],k=$.add.vmsk,E=$.add.vstk,t=$.add.vogk,c=new aX(A.E.Z,!0);
c.data={d:A.t.SW,k:this.id,qh:"main",dQ:k?k:null,lK:t};M.l(c)};y.Fl.prototype.Wb=function(w,M,O,b,D){var o=w.vt;
if(o.dQ){var Z=O.ff(),$=Z[0],k=Z[1];if(k.length==0)return;var E=$[k[0]],t=E.add.vmsk.clone(),c=JSON.stringify(E.add.vogk),l=o.dQ;
this.xY(O,E.zS,l,o.lK);var q=[18,5];if(t.j.length==l.j.length)q=t.g[0]==l.g[0]?"Fill Rule":"Path Order";
this.mM(O,q,E.zS,t,l,null,c,JSON.stringify(o.lK))}};y.UZ=function(){y.hw.call(this,[10,28],y.bX,"tools/dselect");
this.MG=-1;this.AK=-1;this.SL=null;this.QN=null;this.R4=null;this.cd=null;this.G7=null;this.g3=null;
this.kx=0;this.tK={psnap:!1};this.Vm=null};y.UZ.prototype=new y.hw;y.UZ.prototype.fa=function(w){return w.Rw};
y.UZ.prototype.Wb=function(w){this.tK=w};y.UZ.prototype.s0=function(w,M,O,b,D){if(w.d=="crnr"){if(O==null)return;
var o=O.ff(),Z=o[0],$=o[1];if($.length==0){alert("No paths selected");return}var k=Z[$[0]],E=k.add.vmsk;
if(E.yu.length==0){alert("No corners selected");return}for(var U=0;U<E.yu.length;U++){var t=E.j[E.yu[U]];
if(!t.I.M5(t.YJ)||!t.I.M5(t.vA)){alert("Only sharp corners can be rounded");return}}if(this.cd==null){this.cd=k.add.vmsk.clone();
this.G7=JSON.stringify(k.add.vogk);this.R4=k;this.g3=O}var c=new aX(A.E.Z,!0);c.data={d:A.t.JE,IP:"cornerradius",hR:5,Wz:this.alO.bind(this)};
M.l(c)}else y.hw.prototype.s0.call(this,w,M,O,b,D)};y.UZ.prototype.alO=function(w){if(w=="confirm"){var M=this.g3,O=this.R4,b=O.add.vmsk,D=O.add.vogk;
this.mM(M,[12,94,0],O.zS,this.cd,b,null,this.G7,JSON.stringify(D));this.bv();return}var b=this.cd.clone(),D=JSON.parse(this.G7),o=b.yu;
if(w=="cancel"){}else{var Z=[];for(var U=0;U<o.length;U++){var $=o[U],k=x.O.Hr(b.j,$,!0),c=0;if(Z.indexOf(k)!=-1)continue;
Z.push(k);var E=x.O.r$(b.j,k,!0),t=b.j[E].length,l=[];for(var q=0;q<t;q++){var d=b.yu.indexOf(E+q+1)==-1?0:w;
l.push(d);if(d!=0)c++}x.O.OV(b.j,E,l);for(var q=0;q<o.length;q++)if(o[q]>E+t)o[q]+=c}this.cP(b,D);b.yu=[]}this.xY(this.g3,this.R4.zS,b,D);
if(w=="cancel")this.bv()};y.UZ.prototype.disable=function(w,M,O,b){this.km(w)};y.UZ.prototype.kf=function(w,M,O,b,D){this.km(w);
var o=w.P.ep(D.x,D.y),c,l,q;this.SL=o.clone();var Z=w.ff(),$=Z[0],k=Z[1];if(k.length==0)return;var E=y.Gs(w,D),t=new cn(o.x-E,o.y-E,E*2,E*2);
for(var d=0;d<k.length;d++){c=this.R4=$[k[d]];l=c.add.vmsk;q=x.O.zV(l.j,t);if(q[0].length+q[1].length+q[2].length!=0)break}var V=[!1,!1,!1];
for(var U=0;U<3;U++){for(var L=0;L<q[U].length;L++){var e=q[U][L],H=l.j[e];if(l.yu.indexOf(e)!=-1||U==1&&l.yu.indexOf(e-1)!=-1&&!H.I.M5(H.vA)||U==2&&l.yu.indexOf(e+1)!=-1&&!H.I.M5(H.YJ)){q[U]=[e];
V[U]=!0;break}}}if(q[0].length!=0&&(V[0]||!V[1]&&!V[2])){var j=q[0][0],g=l.yu.indexOf(j);if(b.i(i_.Z4)){if(g==-1)l.yu.push(j);
else{l.yu.splice(g,1);w.uP=!0;return}}else if(g==-1)l.yu=[j];this.MG=j;this.AK=0}else if(q[1].length!=0&&V[1]){this.MG=q[1][0];
this.AK=1}else if(q[2].length!=0&&V[2]){this.MG=q[2][0];this.AK=2}else{var K=x.O.BE(l.j,o,!0,E);if(K.zS==-1)this.QN=o;
else{l.g=[K.zS];l.yu=[]}}if(this.cd==null){this.cd=c.add.vmsk.clone();this.G7=JSON.stringify(c.add.vogk)}this.Vm=new ec(o);
w.uP=!0};y.UZ.prototype.Ha=function(w,M,O,b,D){if(w==null)return;var o=w.P.ep(D.x,D.y),Z=this.R4;if(this.MG!=-1){var $=this.cd.clone(),k=Z.add.vogk,E=$.j[this.MG];
E=[E.I,E.vA,E.YJ][this.AK];if(b.i(i_.Z4)){if(this.AK==0){o=this.Vm.JQ(o,b);o.x+=E.x-this.SL.x;o.y+=E.y-this.SL.y}else o=y.Cw.ay($.j[this.MG].I,o)}else{if(this.tK.psnap){o.x=Math.round(o.x);
o.y=Math.round(o.y)}o=y.t7.R3(w,o,O)}if(this.AK==0){var t=new f$(1,0,0,1,o.x-E.x,o.y-E.y);x.O.I0($.j,t,null,$.yu)}else{var c=$.j[this.MG],l=c.vA,q=c.YJ;
if(this.AK==2){l=c.YJ;q=c.vA}if(b.i(i_.PY)&&(c.type==1||c.type==4))c.type++;l.ZK(o.x,o.y);if(c.type==1||c.type==4){var d=at.we(l,c.I),V=at.we(q,c.I);
if(V!=0){q.x=c.I.x-(l.x-c.I.x)*(V/d);q.y=c.I.y-(l.y-c.I.y)*(V/d)}}}this.cP($,k);this.xY(w,Z.zS,$,k)}else if(this.QN!=null){var L=this.QN;
w.J.F0=x.p.zl(new cn(L.x,L.y,o.x-L.x,o.y-L.y));w.uP=!0}else{var e=w.ff(),H=e[0],j=e[1],Z,$,a;if(j.length==0)return;
var g=y.Gs(w,D),K=new cn(o.x-g,o.y-g,g*2,g*2);for(var T=0;T<j.length;T++){Z=H[j[T]];$=Z.add.vmsk;a=x.O.zV($.j,K);
if(a[0].length+a[1].length+a[2].length!=0)break}this.km(w);for(var U=0;U<3;U++){for(var C=0;C<a[U].length;
C++){var F=a[U][C],m=$.j[F];m=U==0?m.I:U==1?m.vA:m.YJ;w.J.jT.push(w.J.TL.length>>>1);w.J.TL.push(m.x,m.y);
w.uP=!0}}}};y.UZ.prototype.km=function(w){if(w&&w.J.TL.length!=0){w.J.TL=[];w.J.jT=[];w.uP=!0}};y.UZ.prototype.oH=function(w,M,O,b,D){var o=w.P.ep(D.x,D.y),Z=this.R4,$=Z?Z.add.vmsk:null,k=Z?Z.add.vogk:null;
if(this.MG!=-1){if(Date.now()-this.kx<300){var E=$.j[this.MG],t=this.AK,c=null;if(t==0){var l=E.vA.M5(E.I),q=E.YJ.M5(E.I);
if(!l&&!q){c="Anchor Type";if(E.type==1||E.type==4)E.type++;else{E.type--;E.YJ=E.I.add(E.I._6(E.vA))}}else{c="Add Handles";
if(l&&q){E.vA.x-=30;E.YJ.x+=30}else if(l)E.vA=E.I.add(E.I._6(E.YJ));else if(q)E.YJ=E.I.add(E.I._6(E.vA))}}else{c="Remove Handle";
if(t==1)E.vA.ZE(E.I);else E.YJ.ZE(E.I)}this.cP($,k);this.xY(w,Z.zS,$,k);this.mM(w,c,Z.zS,this.cd,$,null,this.G7,JSON.stringify(k))}else if(!this.SL.M5(o)){this.mM(w,"Drag Anchors",Z.zS,this.cd,$,null,this.G7,JSON.stringify(k))}this.kx=Date.now()}else if(this.QN!=null){var d=this.QN,V=new cn(d.x,d.y,o.x-d.x,o.y-d.y);
if(V.e<0)V.x+=V.e;if(V.n<0)V.y+=V.n;V.e=Math.abs(V.e);V.n=Math.abs(V.n);var L=x.O.zV($.j,V);$.yu=L[0].concat(b.i(i_.Z4)?$.yu:[]);
w.J.F0=null}this.bv();w.uP=!0};y.UZ.prototype.bv=function(){this.R4=null;this.cd=null;this.QN=null;this.MG=this.AK=-1;
this.Vm=null};y.UZ.prototype.cP=function(w,M){for(var U=0;U<w.yu.length;U++){var O=x.O.Hr(w.j,w.yu[U]);
x.lK.OQ(M,O)}};y.UZ.prototype.$m=function(w,M,O,b){if(w==null)return;var D=w.ff(),o=D[0],Z=D[1];if(Z.length==0)return;
var $=o[Z[0]],k=$.add.vmsk;if(k==null||k.yu.length==0)return;var E=$.add.vogk,t=JSON.stringify(E),c=b.Fn();
if(c.x!=0||c.y!=0){var l=k.clone(),q=k.clone(),d=new f$(1,0,0,1,c.x,c.y);x.O.I0(q.j,d,null,q.yu);this.cP(q,E);
this.xY(w,$.zS,q,E);this.mM(w,"Move Anchors",w.g[0],l,q.clone(),!0,t,JSON.stringify(E))}if(b.i(i_.wu)||b.i(i_.iF))this.s0({d:"remove",It:!0,abV:!0},M,w,b,O)};
y.UZ.prototype.mM=function(w,M,O,b,D,o,Z,$){var k=w.oO();if(o&&k!=null&&k.k==this&&k.data.aue&&k.data.$0==O&&JSON.stringify(k.data.bE.yu)==JSON.stringify(b.yu)){k.data.FE=D;
k.data.MC=$}else{var k=new gN(M,this);k.data={$0:O,bE:b,FE:D,aue:o,a5l:Z,MC:$};w.zw(k)}};y.Rect=function(){y.c9.call(this,[10,32],y.S7,"tools/rect",!0)};
y.Rect.prototype=new y.c9;y.Rect.prototype.ad=function(w,M,O){var b=this.YA.crad,D=M.x-w.x,o=M.y-w.y;
return[x.O.U_.Rect(w.x,w.y,D,o,b),x.lK.W$("Rctn",[w.x,w.y,M.x,M.y],[b,b,b,b])]};y.A1=function(){y.c9.call(this,[10,33],y.LC,"tools/ellipse",!0)};
y.A1.prototype=new y.c9;y.A1.prototype.ad=function(w,M,O){var b=M.x-w.x,D=M.y-w.y;return[x.O.U_.A1(w.x,w.y,b,D),x.lK.W$("Elps",[w.x,w.y,M.x,M.y])]};
y.eZ=function(){y.c9.call(this,[10,34],y.pM,"tools/pshape",!1);this.YA.aopts=[!1,!0,50,100,0]};y.eZ.prototype=new y.c9;
y.eZ.prototype.ad=function(w,M,O){var b=this.YA.pshape,D=this.YA.crad,o=this.YA.irad/100,Z=this.YA.sides,$=this.YA.width,k=this.YA.aopts,E=this.YA.length,L;
M=M.clone();var t=w.x,c=w.y,l=M.x,q=M.y,d=Math.sqrt((l-t)*(l-t)+(q-c)*(q-c)),V=Math.atan2(-q+c,l-t);
if(O)V=Math.round(V*180/Math.PI/15)*15*Math.PI/180;if(b==0)L=x.O.U_.vQ(t,c,d,V,Z,D);if(b==1)L=x.O.U_.d8(t,c,d,V,Z,D,o);
if(b==2)L=x.O.U_.xO(w.x,w.y,M.x,M.y,$,k);if(b==3)L=x.O.U_.awy(t,c,d,V,E);return[L,x.lK.W$("customShape",[w.x,w.y,M.x,M.y],null,null,null,"--")]};
y.eZ.prototype.$m=function(w,M,O,b){y.c9.prototype.$m.call(this,w,M,O,b);var D=b.Fn(),o=this.YA,Z,$;
if(D.y!=0){var k=-D.y,E=o.pshape;if(E<2){Z="sides";$=Math.max(3,Math.min(100,o.sides+k))}else if(E==2){Z="width";
$=Math.max(1,Math.min(100,o.width+k))}else if(E==3){Z="length";$=Math.max(4,Math.min(40,o.length+k))}}if(D.x!=0){Z="pshape";
$=Math.max(0,Math.min(3,o.pshape+D.x))}if(Z){var t=new aX(A.E.Z,!0),c={};c[Z]=$;o[Z]=$;t.data={d:A.t.SW,k:this.id,uj:"vals",al0:c};
M.l(t);this.Ha(w,M,O,b)}};y.nY=function(){y.c9.call(this,[10,35],y.hu,"tools/line",!1)};y.nY.prototype=new y.c9;
y.nY.prototype.ad=function(w,M,O){var b=this.YA.width,D=this.YA.aopts;M=M.clone();if(O){M=y.Cw.ay(w,M)}return[x.O.U_.xO(w.x,w.y,M.x,M.y,b,D),x.lK.W$("Ln",null,null,[w.x,w.y,M.x,M.y],b,null,D)]};
y.R5=function(){y.c9.call(this,[10,31],y.D6,"tools/cshape",!0)};y.R5.prototype=new y.c9;y.R5.prototype.ad=function(w,M,O){var b=this.YA.shape,D=b.Gh.e/b.Gh.n,o=Q.G6.Zc(b.j);
M=M.clone();var Z=M.x-w.x,$=M.y-w.y;x.O.I0(o,new f$(Z,0,0,$,w.x,w.y));return[o,x.lK.W$("customShape",[w.x,w.y,M.x,M.y],null,null,null,b.Xp)]};
y.u=function(w,M,O){y.Ke.call(this,w,M,O);this.mY=0;this.B=null;this.S8=null;this.ND=null;this.GE=1;
this.CF=!1;this.cursor=null;this.Cr=null;this.jP=null;this.to=!1;this.Fv=null;this.age=0;this.rF=null;
this.fv=0;this.i6=null;this.ZS=null;this.sY=null;this.rl=null;this.ax5=null;this.Ki=null};y.u.prototype=new y.Ke;
y.u.bI=function(w,M){var O={classID:"null",null:fE.xp("Dcmn",!0)};if(w)O.Angl={t:"UntF",v:{type:"#Ang",val:M}};
else O.Axis={t:"enum",v:{Ornt:M}};return{wV:w?"rotateEventEnum":"flip",g0:O}};y.u.prototype.B0=function(w,M,O,b,D){var o=new aX(A.E.Z,!0);
o.data={d:A.t.SW,k:this.id,Vr:D,zu:w,ND:O};M.l(o);this.yj=!1};y.u.prototype.fa=function(w){return this.ZS&&this.ZS.auu()};
y.u.prototype.s0=function(w,M,O,b,D){this.ND=D;if(w.d=="again"&&this.rF==null)return;if(!this.J9(O,D))return;
if(this.ZS){this.ax6(w,this.ZS.Rp(),M,O,b,D);this.zo(O,D,0,!0);this.xg(O);return}this.aqa(O,w.q==null,w.q);
this.a0z(O);this.ax6(w,null,M,O,b,D);this.tl(O,M,w.vZ,!1)};y.u.prototype.ax6=function(w,M,O,b,D,o){var Z=this.i6;
if(M==null){var $=w.Bn!=null?w.Bn:4;M=this.ZS.aiG()[$]}var k=M.x,E=M.y;if(w.d=="rot"&&w.G!=Math.PI&&(Z.e+Z.n&1)==1){k=Math.floor(k);
E=Math.floor(E)}var t=new f$;t.translate(-k,-E);if(w.d=="rot")t.rotate(w.G);if(w.d=="scl")t.scale(w.G.x,w.G.y);
if(w.d=="mat")t.concat(w.G);t.translate(k,E);if(w.d=="again")t=this.rF;var c=this.ZS.ji();x.p.F(c,t,c);
this.ZS.iS(c);if(w.be){var l=w.be.v;this.Wb({qh:"switchWarp"},O,b,D);this.Wb({qh:"wrp",be:l},O,b,D)}};
y.u.prototype.Xc=function(){return!0};y.u.prototype.J9=function(w,M){if(w==null)return!1;if(this.id==y.tG)return w.X!=null;
var O=w.qH(!0,null,null,!0);if(this.id==y.rk&&w.B[O[0]].rect.S9()){alert("Layer is empty.");return!1}for(var U=0;
U<O.length;U++){var b=w.B[O[U]];if(b.uK(2)||b.uK(31)){alert(fr.get([6,57,0]));return!1}if(b.add.artb){alert("You can not transform the whole artboard");
return!1}if(b.add.TySh)if(!km.ao(b.add.TySh,M.Yv))return!1;if(b.add.SoLd){if(O.length==1&&!x.vL.hC(b.add.SoLd.warp.v)&&(b.yo()&&b.yo().Jr||b.add.vmsk&&b.add.vmsk.Jr)){alert("Unlink masks before transforming Smart Object");
return!1}if(!w.aeP(b.add.SoLd.Idnt.v)){alert("Unsupported format of the smart object ("+w.Se(b.add.SoLd.Idnt.v).P_+")");
return!1}}}if(w.X==null)return!0;if(!w.D_())return!1;return w.aoH()};y.u.prototype.kf=function(w,M,O,b,D){var o=this.aw9(D,w),Z=o[0],$=o[1],k=this.fv==0?this.ZS:this.sY;
w.P.T*=$;this.CF=k.kf(w,O,b,Z,null,null,D);w.P.T/=$;if(this.CF&&k.JL(Z)){if(Date.now()-this.age<250)this.tl(w,M,null,!0);
this.age=Date.now()}};y.u.prototype.lI=function(w){var M=new aX(A.E.Z,!0);M.data={d:A.t.s5,ue:this.cursor};
w.l(M)};y.u.prototype.aw9=function(w,M){var O=1;w=M.P.ep(w.x,w.y);if(this.fv==1){var b=x.N.C9(this.ZS.ji(),this.i6);
O=x.N.kj(b).gy();var D=x.N.ZW(b);w=x.N.a7Q(D,w)}return[w,O]};y.u.prototype.Ha=function(w,M,O,b,D){var o=this.aw9(D,w),Z=o[0],$=o[1],k=this.fv==0?this.ZS:this.sY;
if(!D.Rw){var E="default";if(k){var t=k.p6(Z,w.P.T*$,null,D);if(t)E=t}if(E!=this.cursor){this.cursor=E;
this.lI(M)}}if(!this.CF)return;w.P.T*=$;k.Ha(w,O,b,Z);w.P.T/=$;this.zo(w,O,0,!0);this.xg(w);this.RV(M)};
y.u.prototype.oH=function(w,M,O,b,D){var o=w.P.ep(D.x,D.y);this.ZS.oH(w,O,b,o);this.CF=!1};y.u.prototype.$m=function(w,M,O,b){if(b.i(i_.sW))this.tl(w,M,null,!0);
else if(b.i(i_.gH))this.qq(w,M);else{var D=this.ZS.$m(w,O,b);if(D){this.zo(w,O,0,!0);this.RV(M)}}};y.u.prototype.Wb=function(w,M,O,b){if(w.qh=="commit")this.tl(O,M,null,!0);
else if(w.qh=="cancel")this.qq(O,M);else if(w.qh=="switchWarp"){this.fv=1-this.fv;this.ajx();this.xg(O);
this.RV(M)}else if(w.qh=="wrp"){this.sY.a4$(w.be);this.xg(O);this.zo(O,this.ND,0,!0)}else if(w.qh=="ctyp"){this.ZS.a0c(w.Dk);
this.xg(O);this.RV(M)}else if(w.qh=="cen"){this.ZS.a1U(w.Ct);this.xg(O);this.zo(O,this.ND,0,!0)}else if(w.qh=="trn"){var D=x.N.iq(w.CT),o=this.i6,Z=x.N.C9(this.ZS.ji(),this.i6);
D[6]=Z[6],D[7]=Z[7];var $=[o.x,o.y,o.x+o.e,o.y,o.x+o.e,o.y+o.n,o.x,o.y+o.n];x.N.F(D,$);this.GE=w.GE;
this.ZS.iS($);this.xg(O);this.zo(O,this.ND,0,!0)}};y.u.prototype.xg=function(w){if(this.fv==0)this.ZS.db(w,this.ND);
else{this.sY.db(w);var M=x.N.C9(this.ZS.ji(),this.i6);x.N.F(M,w.J.F0.C);x.N.F(M,w.J.BK)}};y.u.prototype.tl=function(w,M,O,b){this.zo(w,this.ND,this.GE);
var D=new gN(O?O:this.name,this);if(this.mY==0)D.data={type:this.mY,B:this.B,Fv:this.S8,mR:y.u.H6(w,this.B)};
else if(this.mY==1){var o=w.B[this.B[0]],Z;if(o.PR.cn<=0){Z=x.$(o.PR.Sf.v());x.Oj(o.PR.lQ,Z,3)}else Z=w.X.channel;
var $={rect:o.PR.Sf.clone(),channel:Z};D.data={type:this.mY,q:this.B[0],jP:this.jP,$X:$,Cr:this.Cr,to:this.to,PR:o.PR,Fv:this.Fv,mR:{xr:o.PR.Sf,bg:o.PR.lQ}}}else if(this.mY==2){D.data={type:this.mY,jP:this.jP,$X:{rect:w.X.rect.clone(),channel:w.X.channel.slice(0)}}}w.zw(D);
var k=this.i6,E=new at(k.x+k.e/2,k.y+k.n/2),t=x.N.C9(this.ZS.ji(),k),c=x.N.kj(t),l=new f$;l.translate(E.x,E.y);
l.concat(c);l.translate(-E.x,-E.y);c=l.clone();var q=-Math.atan2(-c.L,c.ip),d=new f$;d.rotate(q);c.concat(d);
function V(j,g){return{t:"UntF",v:{type:["#Pxl","#Prc","#Ang"][g],val:j}}}var L=fE.xp("Lyr",!0);if(this.id==y.tG)L.v[0]={t:"prop",v:{classID:"Chnl",keyID:"fsel"}};
var e={classID:"null",null:L,FTcs:{t:"enum",v:{QCSt:"Qcsa"}},Intr:{t:"enum",v:{Intp:"Bcbc"}},Ofst:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:V(l.hE,0),Vrtc:V(l.Qw,0)}},Skew:{t:"Objc",v:{classID:"Pnt",Hrzn:V(Math.atan(c.Hv)*180/Math.PI,2),Vrtc:V(0,2)}},Wdth:V(c.ip*100,1),Hght:V(c.uc*100,1),Angl:V(q*180/Math.PI,2)},H=this.sY?this.sY.ou():null;
if(H&&!x.vL.hC(H)){e.warp={t:"Objc",v:H}}this.jA=M;this.track({wV:"transform",g0:e});this.escape(w,M,b)};
y.u.prototype.qq=function(w,M){if(this.mY==0)y.u.TH(w,this.B,this.S8);else if(this.mY==1){var O=w.B[this.B[0]];
w.X=this.jP;if(!this.to){O.PR.Sf=this.Fv.xr;O.PR.lQ=this.Fv.bg;O._U(w,0,0,w.X)}else{O.Oe(w,this.Cr)}w.K();
w.wK=!0}else if(this.mY==2){w.X=this.jP;w.wK=!0}this.escape(w,M,!0)};y.u.prototype.escape=function(w,M,O){this.ZS.clear(w);
this.ZS=null;this.sY=null;this.Ki=null;this.fv=0;if(O)this.pI(M,A.E.Z,{d:A.t.Nz})};y.u.prototype.ZT=function(w,M){if(w.type==0)y.u.TH(M,w.B,w.mR);
else{if(w.type==1){var O=M.B[w.q];if(w.to){O.PR=w.PR}else{O.PR.Sf=w.mR.xr;O.PR.lQ=w.mR.bg}O._U(M,0,0,M.X);
M.K()}M.X={rect:w.$X.rect.clone(),channel:w.$X.channel.slice(0)};M.wK=!0}};y.u.prototype.y3=function(w,M){if(w.type==0)y.u.TH(M,w.B,w.Fv);
else{if(w.type==1){var O=M.B[w.q];if(w.to){O.Oe(M,w.Cr)}else{O.PR.Sf=w.Fv.xr;O.PR.lQ=w.Fv.bg;O._U(M,0,0,M.X)}M.K()}M.X=w.jP;
M.wK=!0}};y.u.prototype.aqa=function(w,M,O){w.ff();var b=[];if(O==null)for(var U=0;U<w.xF.length;U++)if(w.IB[w.xF[U]].add.vmsk.j.length>2)b.push(-1-w.xF[U]);
var D=[],o=w.P.$Y;if(o[0]+o[1]+o[2]==3)if(O!=null||b.length==0||w.C5!=null&&w.C5.length!=0){if(w.g.length==1){var Z=w.B[w.g[0]];
if(Z._N()&&Z.aB)D=[w.g[0]]}if(D.length==0)D=w.qH(M,O,null,!0)}D=D.concat(b);for(var U=0;U<w.m7.length;
U++)D.push(-1e3-w.m7[U]);this.B=D};y.u.prototype.enable=function(w,M,O,b,D,o){if(this.cursor==null)this.cursor="default";
this.lI(M);if(this.ZS)return;this.ND=O;this.aqa(w,!0);this.a0z(w,o&&o.zU!=null&&o.zU!=-1?o.zU:null);
this.RV(M);this.xg(w);if(o&&o.zU==-1)this.Wb({qh:"switchWarp"},M,w,b)};y.u.prototype.RV=function(w){var M={d:A.t.SW,k:this.id};
if(this.fv==0){var O=x.N.C9(this.ZS.ji(),this.i6),b=x.N.kj(O);M.CT={S3:b,Dk:this.ZS.a0w(),Ct:this.ZS.Rp(),xr:this.i6.clone()}}else{M.be=this.sY.ou()}M.ana=this.sY!=null;
this.pI(w,A.E.Z,M)};y.u.prototype.a0z=function(w,M){var O=this.id==y.tG,b=!0,D=this.B[0],o=w.B[D],$=null,k=null;
if(O){this.mY=2;this.jP=w.X}else if(w.X&&this.B.length==1&&D>=0&&!o.rect.S9()){this.mY=1;this.jP=w.X;
this.Cr=o.PR;this.to=!1;if(!o.Us(w,w.X)){this.to=!0;o.mG(w,w.X,!1)}this.Fv={bg:o.PR.lQ,xr:o.PR.Sf}}else{this.mY=0;
this.S8=y.u.H6(w,this.B,null);for(var U=0;U<this.S8.length;U++)if(this.S8[U][3]!=null)b=!1}var Z=this.mY==1;
if(this.S8&&this.S8.length==1){var E=this.S8[0];if(E[2]!=null&&E[2].lK){var t=E[2].dQ.g;if(t.length<2){k=E[2].lK[t.length==0?0:t[0]].v;
if(!x.lK.HL(k))k=null}}if(E[3]==null)Z=!0;if(E[4]!=null){$=w.B[this.B[0]].add.SoLd;if(E[1]||E[2])Z=!1}}var c=O?w.X.rect.clone():y.u.HW(w,this.B);
this.i6=c;if(!O&&$){var l=y.u.xT($.nonAffineTransform);this.i6=x.p.qe(x.vL.GS($.warp.v));if(Z)this.sY=new dq($.warp.v);
this.rl=x.N.C9(l,this.i6);this.ZS=new h$(l,!0,!0,b,!1,!1,M)}else{if(Z||O)this.sY=new dq(x.vL.$(this.i6));
this.rl=[1,0,0,0,1,0,0,0];if(this.id==y.rk)M=3;this.ZS=new h$([c.x,c.y,c.x+c.e,c.y,c.x+c.e,c.y+c.n,c.x,c.y+c.n],!0,!0,b,!1,!1,M)}this.ax5=[1,0,0,0,1,0,0,0];
if(this.id==y.rk){var q,d;if(this.S8){var V=this.S8[0][0],L=V.Dw;q=L[0];d=L[1]}else if(this.Fv){q=this.Fv.bg;
d=this.Fv.xr}this.Ki=x.k$.akL(q,d.e,d.n)}};y.u.HW=function(w,M){if(M==null)M=w.qH(!0,null,null,!0);var O=new cn,b=new cn;
if(w.X&&M.length==1&&M[0]>=0)O=w.X.rect.clone();else for(var U=0;U<M.length;U++){var D=M[U],o=0<=D?w.B[D]:-1e3<D?w.IB[-1-D]:w.SN[-1e3-D],Z=o.add?o.add.vmsk:null,$=0<=D?o.Op(w,M.length==1,!1,!0):-1e3<D?x.O.rt(Z.j,M.length==1&&Z.g.length!=0?Z.g:null):o.rect.clone();
O=O.MK($);if(D>0&&o.add.artb)b=b.MK(o.pU())}return!b.S9()?b:O};y.u.prototype.pI=function(w,M,O,b){var D=new aX(M,!0);
D.data=O;if(b)D.k=b;w.l(D)};y.u.H6=function(w,M,O){var b=[];for(var U=0;U<M.length;U++){var D=M[U],o,Z;
if(D>=0){o=w.B[D];Z=o.XW(w,O,!0)}else if(D>-1e3){o=w.IB[-1-D];Z=[2]}else{b.push([null,null,null,null,null,null,null,w.SN[-1e3-D].clone()]);
continue}var $=[],k=Z.indexOf(0)!=-1;if(k){var E={Dw:o.add.SoLd?null:[o.buffer.slice(0),o.rect.clone()]};
$.push(E);if(o.Kf()){var t=o.k1(w);E.aeg=t.buffer.slice(0);E.apq=t.rect.clone()}}else $.push(null);if(Z.indexOf(1)!=-1)$.push(o.yo().clone());
else $.push(null);if(Z.indexOf(2)!=-1)$.push({dQ:o.add.vmsk.clone(),d_:o.add.vstk?JSON.parse(JSON.stringify(o.add.vstk)):null,MJ:o.add.vstk?y.hw.PC(w,D):null,lK:o.add.vogk?JSON.parse(JSON.stringify(o.add.vogk)):null});
else $.push(null);if(o.add.TySh&&k){ah._W(o.add.TySh);$.push(o.add.TySh.F.clone())}else $.push(null);
if(o.add.SoLd&&k)$.push(JSON.parse(JSON.stringify(o.add.SoLd)));else $.push(null);if(Z.indexOf(3)!=-1)$.push(o.k1(w).D.clone());
else $.push(null);if(o.add.lmfx)$.push(JSON.stringify(o.add.lmfx));else $.push(null);b.push($)}return b};
y.u.TH=function(w,M,O){for(var U=0;U<M.length;U++){var b=M[U],D=0<=b?w.B[b]:-1e3<b?w.IB[-1-b]:w.SN[-1e3-b],o=O[U];
if(o[0]){if(o[0].Dw){D.rect=o[0].Dw[1].clone();D.buffer=o[0].Dw[0].slice(0)}if(D.Kf()){var Z=D.k1(w);
Z.buffer=o[0].aeg.slice(0);Z.rect=o[0].apq.clone()}}if(o[1]){D.yo().channel=o[1].channel.slice(0);D.yo().rect=o[1].rect.clone();
D.yo().iD=!0}if(o[2]){D.add.vmsk=o[2].dQ.clone();if(o[2].MJ)y.hw.TV(D,o[2].MJ);if(o[2].d_)D.add.vstk=JSON.parse(JSON.stringify(o[2].d_));
if(o[2].lK)D.add.vogk=JSON.parse(JSON.stringify(o[2].lK))}if(o[3]){D.add.TySh.F=o[3].clone();ah.mL(D.add.TySh)}if(o[4]){D.add.SoLd=JSON.parse(JSON.stringify(o[4]))}if(o[5]){var $=D.k1(w).D;
$.channel=o[5].channel.slice(0);$.rect=o[5].rect.clone()}if(o[6]){D.add.lmfx=JSON.parse(o[6])}if(o[7]){D.channel=o[7].channel.slice(0);
D.rect=o[7].rect.clone();D.iD=!0}if(0<=b){D.h1(w);D.K();if(o[4])D.Gf(w,!1)}}w.K()};y.u.gy=function(w){var M=w.clone(),O=Math.atan2(-M.L,M.ip),b=new f$;
b.rotate(-O);M.concat(b);return(Math.abs(M.ip)+Math.abs(M.uc))/2};y.u.ek=function(w,M,O,b,D,o,Z,$,k,E){if(typeof o[0]=="number"){var t=[];
for(var U=0;U<O.length;U++)t[U]=o;o=t}for(var U=0;U<O.length;U++){var c=o[U],l=x.N.kj(c),q=y.u.gy(l),d=O[U],V=0<=d?w.B[d]:-1e3<d?w.IB[-1-d]:w.SN[-1e3-d],L=b[U];
if(V.add&&V.add.lmfx&&$)eR.$_(V.add.lmfx,q);if(L[0]&&!L[3]&&!L[4]&&!L[5]){var e=L[0].Dw;if(k){var H=k.clone(),j=x.$(H.v()*4);
x.xu(e[0],e[1],j,H);e=[j,H]}var g=y.u.yU(e,D,c,Z,D==0?V.buffer.buffer:null,null,null,E);if(g){V.rect=g.rect;
V.buffer=g.buffer}}if(L[1]){var K=V.yo();y.u.qt(w,L[1],K,D,c,Z);if(k){var H=V.rect.mX(k),a=x.$(H.v());
x.CV(K.channel,K.rect,a,H);K.channel=a;K.rect=H}}if(L[2]){var T=Z&&!x.vL.hC(Z),C=L[2].dQ.clone(),F=O.length==1&&C.g.length!=0,m=O.length==1&&C.yu.length>1;
if(m)F=!1;var N=F?C.g:null,v=m?C.yu:null;if(T){var h=x.vL.GS(Z);x.N.F(c,h);x.O.a3W(C.j,h,N,v)}else x.O.aj_(C.j,c,N,v);
if(V.add.vstk&&$){V.add.vstk.strokeStyleLineWidth.v.val=L[2].d_.strokeStyleLineWidth.v.val*q;var P=L[2].MJ;
if(P&&P.Gw==3){P=JSON.parse(JSON.stringify(P));var J=P.MJ.phase.v;P.MJ.Scl.v.val=Math.round(P.MJ.Scl.v.val*q);
J.Hrzn.v=Math.round(J.Hrzn.v*q);J.Vrtc.v=Math.round(J.Vrtc.v*q);y.hw.TV(V,P)}}if(V.add.vogk){V.add.vogk=JSON.parse(JSON.stringify(L[2].lK));
if(T||m)x.lK.W1(V.add.vogk);else x.lK.F(V.add.vogk,c,O.length>1?[]:C.g,$)}C.Yo*=q;V.add.vmsk=C;if(V.add.vogk)x.lK.OW(V.add.vogk,V.add.vmsk)}if(L[3]){var Y=L[3].clone();
Y.concat(l);V.add.TySh.F=Y;ah.mL(V.add.TySh);var B=new bs(V.add.TySh.GM,M.Yv),S=km.sr(B,V.add.TySh);
V.rect=S.xr;V.buffer=S.AJ}if(L[4]){var r=V.add.SoLd,I=y.u.xT(L[4].nonAffineTransform);x.N.F(c,I);var f=x.p.Kc(I);
if(h$.Za(I)){if(Z){var s=x.p.qe(x.vL.GS(L[4].warp.v)),a=x.N.C9(I,s),W=x.p.qe(x.vL.GS(Z));I=[W.x,W.y,W.x+W.e,W.y,W.x+W.e,W.y+W.n,W.x,W.y+W.n];
x.N.F(a,I);r.warp.v=Z}var i=x.N.C9(I),u=I;if(!x.N.TB(i)){i[6]=i[7]=0;u=[0,0,1,0,1,1,0,1];x.N.F(i,u)}r.Trnf=y.u.KT(u);
r.nonAffineTransform=y.u.KT(I);if(r.filterFX)r.filterFX=JSON.parse(JSON.stringify(L[4].filterFX));y.u.a9r(r,l);
V.Gf(w,D==0,M.Yv)}}if(L[5])y.u.qt(w,L[5],V.k1(w).D,D,c,Z);if(L[7])y.u.qt(w,L[7],V,D,c,Z);if(0<=d){if(D!=0)V.Sr();
V.h1(w);V.K()}}w.K()};y.u.UA=function(w,M,O,b,D,o){if(O==null)O=!1;return y.u.yU(w,O?0:1,x.N.iq(M),null,b,D,o,O)};
y.u.yU=function(w,M,O,b,D,o,Z,$){if($==null)$=!1;if($&&Z)throw"e";var k={},l=0,q=.3;if(b&&!x.vL.hC(b)){var E=x.vL.GS(b);
x.N.F(O,E);k.rect=x.p.Kc(E);k.buffer=x.$(k.rect.v()*4);x.zD.drawImage(E,w[0],w[1].e,w[1].n,k.buffer,k.rect,M==0);
return k}x.aS(w);var t=w[0],c=w[1],d=c.v()*y.u.gy(x.N.kj(O));if($&&d>4e6)q=d>8e6?2.2:1.2;while(l+3<w.length&&w[l+3].v()>16&&x.N.TB(O)&&y.u.gy(x.N.kj(O))<q){l+=2;
var V=w[l],L=w[l+1],e=c.e/L.e,H=c.n/L.n;O=x.N.H9(O,[1,0,c.x,0,1,c.y,0,0]);O=x.N.H9(O,[e,0,0,0,H,0,0,0]);
O=x.N.H9(O,[1,0,-c.x,0,1,-c.y,0,0]);c=L;t=V}var j=x.N.H9(O,x.N.iq(new f$(c.e,0,0,c.n,c.x,c.y))),g=[0,0,1,0,1,1,0,1];
x.N.F(j,g);k.rect=x.p.Kc(g);if(Z)k.rect=k.rect.mX(Z);if($){while((k.rect.e&3)!=0)k.rect.e++;while((k.rect.n&3)!=0)k.rect.n++}if(!h$.Za(g)||k.rect.e>1e5||k.rect.n>1e5||k.rect.v()>3e4*3e4)return null;
var K=k.rect.v()*4;if(D&&D.byteLength>=K&&K>=D.byteLength>>2){k.buffer=new Uint8Array(D)}else{k.buffer=x.$(K)}x.N.drawImage(j,t,c.e,c.n,k.buffer,k.rect,M==0,o,$);
if(M==2&&k.buffer){var a=k.rect.e,T=k.rect.n,C;C=[0,-1,0,-1,16,-1,0,-1,0];C=x.FJ.VI(C);var F=k.buffer.slice(0);
x.FJ.jM(F,k.buffer,a,T,C,255,!1,!0)}if(k.buffer)return k};y.u.qt=function(w,M,O,b,D,o){if(M.color==255)x.ZW(M.channel);
var Z=M.rect,$=x.$(Z.v()*4);x.Jm(M.channel,$,3);var k=y.u.yU([$,Z],b,D,o);if(k){O.rect=k.rect;O.channel=x.$(k.rect.v());
x.Oj(k.buffer,O.channel,3);O.iD=!0}if(M.color==255){x.ZW(M.channel);if(k)x.ZW(O.channel)}};y.u.a9r=function(w,M){var O=w.filterFX;
if(O)O=O.v.filterFXList;if(O)O=O.v;if(O)for(var b=0;b<O.length;b++){var D=O[b].v.Fltr;if(D==null||D.v.classID!="rigidTransform")continue;
D=D.v;console.log(D);var o=[];for(var Z=0;Z<4;Z++)o.push(D["PuX"+Z].v,D["PuY"+Z].v);x.p.F(o,M,o);for(var Z=0;
Z<4;Z++){D["PuX"+Z].v=o[Z*2];D["PuY"+Z].v=o[Z*2+1]}var $=["PinP","posFinalPins"],k=["originalVertexArray","deformedVertexArray"],E=D.puppetShapeList.v;
for(var t=0;t<E.length;t++){var c=E[t].v;for(var l=0;l<$.length;l++){var q=y.u.xT(c[$[l]]);x.p.F(q,M,q);
c[$[l]]=y.u.KT(q);var d=new Uint8Array(c[k[l]].v),V=new Float32Array(d.buffer);x.p.F(V,M,V);var L=[];
for(var e=0;e<d.length;e++)L[e]=d[e];c[k[l]].v=L}}}};y.u.xT=function(w){var M=[],O=w.v.length;for(var U=0;
U<O;U++)M.push(w.v[U].v);return M};y.u.KT=function(w){var M={t:"VlLs",v:[]},O=w.length;for(var U=0;U<O;
U++)M.v.push({t:"doub",v:w[U]});return M};y.u.prototype.ajx=function(){var w=x.p.qe(x.vL.GS(this.sY.ou())),M=x.N.C9(this.ZS.ji(),this.i6),O=[w.x,w.y,w.x+w.e,w.y,w.x+w.e,w.y+w.n,w.x,w.y+w.n];
x.N.F(M,O);this.ZS.iS(O);this.i6=w};y.u.prototype.zo=function(w,M,O,b){var D=x.N.C9(this.ZS.ji(),this.i6);
D=x.N.H9(D,x.N.ZW(this.rl));var o=this.sY?this.sY.ou():null;if(this.mY==0){var Z=this.rF=x.N.kj(D);if(this.id==y.rk){var $=this.S8[0][0],k=$.Dw,E=k[1],t=~~(E.e*Math.max(0,Z.ip)),c=~~(E.n*Math.max(0,Z.uc)),l=new cn(Math.round(Z.ip*E.x+Z.hE),Math.round(Z.uc*E.y+Z.Qw),t,c),q=x.k$.F(this.Ki,l),d=w.B[this.B[0]];
d.buffer=q;d.rect=l;d.K();w.K()}else y.u.ek(w,M,this.B,this.S8,O,D,o,null,null,b)}else if(this.mY==1){var V=w.B[this.B[0]],E=this.Fv.xr;
if(V.cn<=0){var L=this.Fv.bg,e=this.jP,H=null;if(o&&!x.vL.hC(o)&&!e.rect.M5(E)){var q=x.$(e.rect.v()*4);
x.xu(L,E,q,e.rect);L=q;E=e.rect}if(this.id==y.rk){var Z=this.rF=x.N.kj(D),t=~~(E.e*Math.max(0,Z.ip)),c=~~(E.n*Math.max(0,Z.uc)),l=new cn(Math.round(Z.ip*E.x+Z.hE),Math.round(Z.uc*E.y+Z.Qw),t,c),q=x.k$.F(this.Ki,l);
H={buffer:q,rect:l}}else H=y.u.yU([L,E],O,D,o);if(H){V.PR.lQ=H.buffer;V.PR.Sf=H.rect;var j=x.$(H.rect.v());
x.Oj(V.PR.lQ,j,3);w.X={channel:j,rect:V.PR.Sf.clone()}}}else{var g=x.$(E.v()*4);x.Jm(this.Fv.bg,g,3);
var H=y.u.yU([g,E],O,D,o);if(H){V.PR.lQ=x.$(H.rect.v());x.Oj(H.buffer,V.PR.lQ,3);V.PR.Sf=H.rect}this.aff(w,O,D,o)}V._U(w,0,0,w.X);
if(O!=0){V.Sr();x.Sr(w.X)}w.wK=!0;w.K()}else if(this.mY==2)this.aff(w,O,D,o)};y.u.prototype.aff=function(w,M,O,b){var D=this.jP.rect,o=x.$(D.v()*4);
x.Jm(this.jP.channel,o,3);var Z=y.u.yU([o,D],M,O,b),$=x.$(Z.rect.v());x.Oj(Z.buffer,$,3);w.X={channel:$,rect:Z.rect};
w.wK=!0};y.u.prototype.disable=function(w,M,O,b){if(this.ZS)this.tl(w,M,null,!0)};y.af4=function(){y.u.call(this,[10,16],y.T0,"tools/transform")};
y.af4.prototype=new y.u;y.akC=function(){y.u.call(this,[7,10],y.tG,"tools/transform")};y.akC.prototype=new y.u;
y.acj=function(){y.u.call(this,[10,48],y.rk,"tools/transform")};y.acj.prototype=new y.u;y.II=function(w,M,O){y.Ke.call(this,[10,46],y.bW,"tools/transform");
this.z7=[1,1,2,!0];this.nC="rigidTransform";this.dv=null;this.a1E=null;this.BP=null;this.ha=null;this.ba=null;
this.k_=null;this.MU=[]};y.II.prototype=new y.Ke;y.II.prototype.Xc=function(){return!0};y.II.acp=function(w){if(w==null)return!1;
if(w.g.length!=1)return!1;var M=w.B[w.g[0]];return M.add.SoLd||w.D_(!1)};y.II.prototype.J9=function(w,M){return y.II.acp(w)};
y.II.prototype.enable=function(w,M,O,b,D,o,Z){this.a1E=o.ET;var $=o.ET,k,V=null;if($){var E=w.B[$.q];
if(E.add.SoLd.filterFX!=null){var t=E.add.SoLd.filterFX.v.filterFXList.v;if(t[$.index])k=JSON.parse(JSON.stringify(t[$.index].v.Fltr.v))}}var c=k==null,E=w.B[w.g[0]],l=E.buffer,q=E.rect,d=E.add.SoLd;
if(d){var L=d.nonAffineTransform.v;V=[];for(var U=0;U<4;U++)V.push(L[U*2].v,L[U*2+1].v);if(c)this.HB("edit",M);
var e=E.k1(w);l=e.buffer;q=e.rect}this.dv={buffer:l.slice(0),rect:q.clone(),alu:V};if(c)k=y.II.om(this.dv,this.z7);
this.BP=k;this.ha=y.II.cj(this.BP,this.z7);this.fB();this.Ml(w);if(c)this.Yk(M);var H=new aX(A.E.Z,!0);
H.data={d:A.t.SW,k:this.id,I8:this.z7};M.l(H);H.data={d:A.t.s5,ue:"default"};M.l(H)};y.II.prototype.disable=function(w,M,O,b){if(this.ha)this.tl(w,M,!0)};
y.II.prototype.fB=function(w){var M=this.ha;this.MU=[];for(var U=0;U<M.length;U++){var O=M[U];for(var b=0;
b<O.g.length;b++)this.MU.push([U,O.g[U]]);O.Bq=x.pX.Nc(O);if(w)x.pX.TW(O)}};y.II.prototype.Wb=function(w,M,O,b){if(w.qh=="commit")this.tl(O,M,!0);
else if(w.qh=="cancel")this.qq(O,M,!0);else if(w.qh=="prm"){var D=!1;for(var U=0;U<3;U++)if(this.z7[U]!=w.I8[U])D=!0;
this.z7=w.I8;if(D){this.BP=y.II.om(this.dv,this.z7,this.BP);this.ha=y.II.cj(this.BP,this.z7);this.fB(!0);
this.Yk(M)}this.Ml(O)}else if(w.qh=="moveDepth"){var o=this.ha;for(var Z=0;Z<o.length;Z++){var $=o[Z];
for(var U=0;U<$.g.length;U++){var k=$.g[U];$.RC[k]+=w.aio?1:-1}}this.Yk(M)}};y.II.prototype.FX=function(w,M){return w==i_.wu||w==i_.iF};
y.II.prototype.$m=function(w,M,O,b){var D=b.Fn();if(b.i(i_.sW))this.tl(w,M,!0);else if(b.i(i_.gH))this.qq(w,M,!0);
else if(b.i(i_.wu)||b.i(i_.iF)){var o=this.ha;for(var Z=0;Z<o.length;Z++){var $=o[Z];$.g.sort(function(t,c){return c-t});
for(var U=0;U<$.g.length;U++){var k=$.g[U],E=k*2;$.RC.splice(k,1);$.pS.splice(k,1);$.WQ.splice(k,1);
$.GJ.splice(k,1);$.Dt.splice(E,2);$.Ey.splice(E,2)}$.g=[];if($.GJ.length==0){$.ev=$.lC.slice(0);$.vV=$.lC.slice(0)}}this.fB(!0);
this.Yk(M);this.Ml(w)}else if(D.x!=0||D.y!=0){this.al6(w,D.x,D.y,M);this.e_=null}};y.II.prototype.tl=function(w,M,O){this.HB("confirm",M);
this.escape(w,M,O)};y.II.prototype.qq=function(w,M,O){this.HB("cancel",M);this.escape(w,M,O)};y.II.prototype.escape=function(w,M,O){w.J.F0=null;
w.J.TL=[];w.uP=!0;this.ha=null;var b=new aX(A.E.Z,!0);b.data={d:A.t.Nz};if(O)M.l(b)};y.II.prototype.kf=function(w,M,O,b,D){var o=w.P.ep(D.x,D.y),Z=o.x,$=o.y,k=this.ha,E=null,t=[0,2,4,1.2,1.2,1.2],c=-1,l=y.Gs(w,D);
for(var U=0;U<k.length;U++){var q=k[U],d=x.p.A6(q.Ey,Z,$,l);if(d!=-1)E=[U,d];if(c==-1&&x.pX.FH.aur(q.vV,q.vC,Z,$))c=U}if(E==null&&c!=-1){var q=k[c];
y.II.apB(q,Z,$,Z,$,0);E=[c,q.GJ.length-1];q.Bq=x.pX.Nc(q)}this.ba=o;if(E){var V=k[E[0]].g.indexOf(E[1])!=-1;
if(b.i(i_.Z4)&&!V){k[E[0]].g.push(E[1]);this.MU.push(E)}else if(!V){k[E[0]].g=[E[1]];this.MU=[E]}}this.Ml(w)};
y.II.apB=function(w,M,O,b,D,o){var Z=x.p.A6(w.vV,M,O);w.GJ.push(Z);w.Ey.push(b,D);w.Dt.push(w.vV[Z*2]-M,w.vV[Z*2+1]-O);
w.WQ.push(0);w.pS.push(!1);w.RC.push(o)};y.II.prototype.Ha=function(w,M,O,b,D){var o=w.P.ep(D.x,D.y),Z=this.ba;
if(Z)this.al6(w,o.x-Z.x,o.y-Z.y,M)};y.II.prototype.al6=function(w,M,O,b){var D={},o=this.MU,Z=this.ha;
if(this.e_==null){this.e_=[];for(var U=0;U<Z.length;U++)this.e_.push(Z[U].Ey.slice(0))}for(var U=0;U<o.length;
U++){var $=this.MU[U],k=$[0],E=Z[$[0]],t=$[1]*2;E.Ey[t+0]=this.e_[k][t+0]+M;E.Ey[t+1]=this.e_[k][t+1]+O;
D[k]=k}for(var k in D)x.pX.TW(this.ha[D[k]]);this.Ml(w);this.Yk(b)};y.II.prototype.HB=function(w,M){var O=new aX(A.E.s,!0);
O.k=y.kL;O.data={d:w,ET:this.a1E,nC:this.nC,X$:this.BP};M.l(O)};y.II.prototype.oH=function(w,M,O,b,D){this.ba=null;
this.e_=null};y.II.prototype.Yk=function(w){y.II.acO(this.ha,this.z7,this.BP);this.HB("edit",w)};y.II.prototype.Ml=function(w){var M=this.ha,O=this.BP;
w.J.F0={C:[],H:[]};w.J.TL=[];w.J.jT=[];for(var U=0;U<M.length;U++){var b=M[U];for(var D=0;D<b.g.length;
D++)w.J.jT.push((w.J.TL.length>>>1)+b.g[D]);w.J.TL=w.J.TL.concat(b.Ey);if(this.z7[3])x.p.concat(w.J.F0,x.p.adg(b.vV,b.vC))}w.uP=!0};
y.II.om=function(w,M,O){var b=w.buffer,D=w.rect,o=w.alu,Z=ek.pp("rigidTransform");if(o)for(var U=0;U<4;
U++){Z["PuX"+U].v=o[U*2];Z["PuY"+U].v=o[U*2+1]}var $=Z.puppetShapeList.v,k=x.pX.ad0(b,D.e,D.n,M[1],M[2]),E=[];
for(var t=0;t<k.length;t++){var c={classID:"puppetShape",rigidType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},originalVertexArray:{t:"tdta",v:[]},deformedVertexArray:{t:"tdta",v:[]},indexArray:{t:"tdta",v:[]},pinOffsets:{t:"VlLs",v:[]},posFinalPins:{t:"VlLs",v:[]},pinVertexIndices:{t:"VlLs",v:[]},PinP:{t:"VlLs",v:[]},PnRt:{t:"VlLs",v:[]},PnOv:{t:"VlLs",v:[]},PnDp:{t:"VlLs",v:[]},meshQuality:{t:"long",v:2},meshExpansion:{t:"long",v:2},meshRigidity:{t:"long",v:2},imageResolution:{t:"doub",v:72},selectedPin:{t:"VlLs",v:[]}};
c.meshBoundaryPath={t:"Objc",v:{classID:"pathClass",pathComponents:{t:"VlLs",v:[{t:"Objc",v:{classID:"PaCm",shapeOperation:{t:"enum",v:{shapeOperation:"xor"}},SbpL:{t:"VlLs",v:[{t:"Objc",v:{classID:"Sbpl",Clsp:{t:"bool",v:!0},Pts:{t:"VlLs",v:[]}}}]}}}]}}};
var l=k[t];$.push({t:"Objc",v:c});var q=l.lC.slice(0);x.p.F(q,new f$(1,0,0,1,D.x,D.y),q);var d=l.vC;
for(var U=0;U<d.length;U+=3){var V=d[U+1];d[U+1]=d[U+2];d[U+2]=V}E.push({vC:d,lC:q,ev:q,vV:q,GJ:[],Dt:[],Ey:[],Bq:null,g:[],WQ:[],pS:[],RC:[]})}if(O){var L=y.II.cj(O,[]),e=E[0];
for(var U=0;U<L.length;U++){var H=L[U];for(var j=0;j<H.g.length;j++)e.g.push((e.Ey.length>>>1)+H.g[j]);
for(var j=0;j<H.GJ.length;j++){var g=H.GJ[j]*2,K=H.lC[g]-H.Dt[j*2],a=H.lC[g+1]-H.Dt[j*2+1];y.II.apB(e,K,a,H.Ey[j*2],H.Ey[j*2+1],H.RC[j])}}}y.II.acO(E,M,Z);
return Z};y.II.cj=function(w,M){var O=y.u.xT,b=w.puppetShapeList.v,D=[];for(var o=0;o<b.length;o++){var Z=b[o].v;
M[0]=Z.meshRigidity.v-1;M[1]=Z.meshQuality.v-1;M[2]=Z.meshExpansion.v;var $=Z.pinVertexIndices.v.length,k=Z.meshBoundaryPath.v.pathComponents.v;
if(k.length!=0){var E=k[0].v.SbpL.v[0].v.Pts;E.v=[]}var t=new Uint32Array(new Uint8Array(Z.indexArray.v).buffer),c=new Float32Array(new Uint8Array(Z.originalVertexArray.v).buffer),l=new Float32Array(new Uint8Array(Z.deformedVertexArray.v).buffer),q=[],d=[],V=[];
for(var U=0;U<t.length;U++)q.push(t[U]);for(var U=0;U<c.length;U++){d.push(c[U]);V.push(l[U])}var L=O(Z.pinVertexIndices),e=O(Z.pinOffsets),H=O(Z.posFinalPins),j=O(Z.PnRt),g=O(Z.PnOv),K=O(Z.PnDp),a=O(Z.selectedPin);
D.push({vC:q,lC:d,ev:V.slice(0),vV:V,GJ:L,Dt:e,Ey:H,Bq:null,WQ:j,pS:g,RC:K,g:a})}return D};y.II.acO=function(w,M,O){function b(l,q){var d=[];
for(var U=0;U<l.length;U++)d.push({t:q,v:l[U]});return d}function D(l,q,d){var V=new(d?Uint32Array:Float32Array)(l),L=new Uint8Array(V.buffer);
for(var U=0;U<L.length;U++)q[U]=L[U]}var o=O.puppetShapeList.v;for(var Z=0;Z<o.length;Z++){var $=w[Z],k=o[Z].v;
k.meshRigidity.v=M[0]+1;k.meshQuality.v=M[1]+1;k.meshExpansion.v=M[2];D($.vC,k.indexArray.v,!0);D($.lC,k.originalVertexArray.v);
D($.vV,k.deformedVertexArray.v);var E=[];for(var U=0;U<$.GJ.length;U++){var t=$.GJ[U]*2,c=U*2;E[c]=$.lC[t]-$.Dt[c];
E[c+1]=$.lC[t+1]-$.Dt[c+1]}k.PinP.v=b(E,"doub");k.pinVertexIndices.v=b($.GJ,"long");k.pinOffsets.v=b($.Dt,"doub");
k.posFinalPins.v=b($.Ey,"doub");k.PnRt.v=b($.WQ,"long");k.PnOv.v=b($.pS,"bool");k.PnDp.v=b($.RC,"doub");
k.selectedPin.v=b($.g,"long")}};y.uW=function(w,M,O){y.Ke.call(this,w?w:[10,40],M?M:y.In,O?O:"tools/slice");
this.sT=null;this.jA=null;this.Zo=null;this.auk=null;this.ce=null;this.LO=null};y.uW.prototype=new y.Ke;
y.uW.BE=function(w,M){var O=-1;for(var U=0;U<w.length;U++){var b=y.uW.dg(w,U);if(b[0]<=M.x&&M.x<=b[2]&&b[1]<=M.y&&M.y<=b[3]){O=U;
break}}return O};y.uW.prototype.s0=function(w,M,O,b,D){if(O==null)return;this.b3(O);if(w.d=="fromAction"){var o=O.Wp(),Z=O.Ft(),$=Z==-1?new cn(0,0,O.e,O.n):O.B[Z].pU(),k=[$.x,$.x+$.e],E=[$.y,$.y+$.n];
for(var U=0;U<o[0].length;U++){var t=o[0][U],c=Math.round(t[1]),l=o[1][U];if(l!=-1&&l!=Z)continue;if(t[0]==0&&k.indexOf(c)==-1)k.push(c);
if(t[0]==1&&E.indexOf(c)==-1)E.push(c)}k.sort(function(T,C){return T-C});E.sort(function(T,C){return T-C});
for(var q=1;q<E.length;q++)for(var d=1;d<k.length;d++){O.iW.push(y.uW.ik());y.uW.Rq(O.iW,O.iW.length-1,[k[d-1],E[q-1],k[d],E[q]]);
O.uP=!0}}else if(w.d=="reorder"){if(O.t5.length==0)return;var V=O.iW,L=O.t5;L.sort(function(T,C){return T-C});
console.log(L);var e=V.slice(0),H=[],j=[];for(var U=0;U<L.length;U++){var g=L[U],K=V[g];j.push(K);e.splice(e.indexOf(K),1)}var a=Math.max(0,Math.min(e.length,L[0]-w.dir));
for(var U=0;U<j.length;U++){e.splice(a+U,0,j[U]);H.push(a+U)}O.iW=e;O.t5=H}else if(w.d=="delete"){var V=O.iW.slice(0);
for(var U=0;U<O.t5.length;U++)O.iW.splice(O.iW.indexOf(V[O.t5[U]]),1);O.t5=[]}else if(w.d=="deleteAll"){O.iW=[];
O.t5=[]}else{O.iW[O.t5[0]].v=w;O.uP=!0}this.iI(O)};y.uW.prototype.enable=function(w,M,O,b,D,o){y.Ke.prototype.enable.call(this,w,M,O,b,D,o);
if(!O.sw.iW){var Z=new aX(A.E.Z,!0);Z.data={d:A.t.pF,I8:eM.ts};M.l(Z)}};y.uW.prototype.disable=function(){this.sT=null;
this.jA=null};y.uW.prototype.B0=function(w,M,O,b,D){var o=w.P.ep(D.x,D.y),Z=y.uW.BE(w.iW,o);if(Z==-1)return;
this.sT=w;this.jA=M;w.t5=[Z];w.uP=!0;if(this.LO==null){this.LO=new dC([{name:[5,4]},{name:[8,11,1],Qy:!0}]);
this.LO.h("select",this.py,this)}var $=this.LO;$.parent=M;$.f();$.update(w,O);var k=new aX(A.E.Z,!0);
k.data={d:A.t.U6,YT:$,x:D.UD+2,y:D.EQ+1};M.l(k)};y.uW.prototype.py=function(w){var M=this.LO.Mw()[0],O=this.sT;
if(M==0){this.b3(O);O.iW.splice(O.t5[0],1);O.t5=[];O.uP=!0;this.iI(O)}if(M==1){var b=new aX(A.E.Z,!0);
b.data={d:A.t.JE,IP:"soptions",G:O.iW[O.t5[0]].v};this.jA.l(b)}};y.uW.prototype.kf=function(w,M,O,b,D){if(w==null)return;
this.b3(w);var o=w.P.ep(D.x,D.y);o=y.t7.R3(w,o,O,[!0,null,!1]);o.x=Math.round(o.x);o.y=Math.round(o.y);
this.ce=o;w.iW.unshift(y.uW.ik());w.t5=[0];y.uW.Rq(w.iW,0,[o.x,o.y,o.x+20,o.y+20]);w.uP=!0};y.uW.prototype.Ha=function(w,M,O,b,D){if(this.Zo==null)return;
var o=w.P.ep(D.x,D.y),Z=this.ce;o=y.t7.R3(w,o,O,[!0,null,!1]);o.x=Math.round(o.x);o.y=Math.round(o.y);
var $=[Z.x,Z.y,o.x,o.y];y.uW.a94($);y.uW.Rq(w.iW,0,$);w.uP=!0};y.uW.prototype.oH=function(w,M,O,b,D){this.iI(w);
this.ce=null};y.uW.prototype.b3=function(w){this.Zo=JSON.stringify(w.iW);this.auk=JSON.stringify(w.t5)};
y.uW.prototype.iI=function(w){var M=JSON.stringify(w.iW);if(M!=this.Zo){var O=new gN(this.name,this);
O.data={Fv:this.Zo,mR:M,ae0:this.auk,agf:JSON.stringify(w.t5)};w.zw(O)}this.Zo=null};y.uW.prototype.y3=function(w,M){M.iW=JSON.parse(w.Fv);
M.t5=JSON.parse(w.ae0);M.uP=!0};y.uW.prototype.ZT=function(w,M){M.iW=JSON.parse(w.mR);M.t5=JSON.parse(w.agf);
M.uP=!0};y.uW.prototype.FX=function(w,M){return M!=null&&M.t5.length!=0&&(w==i_.wu||w==i_.iF)};y.uW.prototype.$m=function(w,M,O,b){if(w==null)return;
if(b.i(i_.wu)||b.i(i_.iF))this.s0({d:"delete"},M,w,b,O);var D=b.Fn();if(D.x!=0||D.y!=0){this.b3(w);y.uW.Hn(w,D);
this.iI(w)}};y.uW.prototype.Wb=function(w,M,O,b,D){};y.uW.ads=function(w,M,O,b){var D=new at(-M.x,-M.y),o=M.e/O.e,Z=M.n/O.n,$=[0,0,M.e,M.n];
for(var U=0;U<w.length;U++){var k=y.uW.dg(w,U);if(b){k[0]=Math.round(k[0]*o);k[1]=Math.round(k[1]*Z);
k[2]=Math.round(k[2]*o);k[3]=Math.round(k[3]*Z)}else{y.uW.zJ(k,D);y.uW.adv(k,$)}if(k[0]>=k[2]||k[1]>=k[3]){w.splice(U,1);
U--;continue}y.uW.Rq(w,U,k)}};y.uW.Hn=function(w,M){var O=w.iW;for(var U=0;U<w.t5.length;U++){var b=y.uW.dg(O,w.t5[U]);
y.uW.zJ(b,M);y.uW.Rq(O,w.t5[U],b)}};y.uW.adv=function(w,M){if(w[0]<M[0])w[0]=M[0];if(w[1]<M[1])w[1]=M[1];
if(M[2]<w[2])w[2]=M[2];if(M[3]<w[3])w[3]=M[3]};y.uW.zJ=function(w,M){w[0]=Math.round(w[0]+M.x);w[2]=Math.round(w[2]+M.x);
w[1]=Math.round(w[1]+M.y);w[3]=Math.round(w[3]+M.y)};y.uW.Rq=function(w,U,M){var O=w[U].v.bounds.v;O.Left.v=M[0];
O.Top.v=M[1];O.Rght.v=M[2];O.Btom.v=M[3]};y.uW.dg=function(w,U){var M=w[U].v.bounds.v;return[M.Left.v,M.Top.v,M.Rght.v,M.Btom.v,U]};
y.uW.a94=function(w){if(w[2]<w[0]){var M=w[0];w[0]=w[2];w[2]=M}if(w[2]==w[0])w[2]++;if(w[3]<w[1]){var M=w[1];
w[1]=w[3];w[3]=M}if(w[3]==w[1])w[3]++};y.uW.qe=function(w,M){var O=1e9,b=-1e9,D=1e9,o=-1e9;for(var U=0;
U<M.length;U++){var Z=y.uW.dg(w,M[U]);O=Math.min(O,Z[0]);D=Math.min(D,Z[1]);b=Math.max(b,Z[2]);o=Math.max(o,Z[3])}return[O,D,b,o]};
y.uW.ik=function(){return{t:"Objc",v:{classID:"slice",sliceID:{t:"long",v:0},groupID:{t:"long",v:0},origin:{t:"enum",v:{ESliceOrigin:"userGenerated"}},Type:{t:"enum",v:{ESliceType:"Img"}},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},url:{t:"TEXT",v:""},null:{t:"TEXT",v:""},Msge:{t:"TEXT",v:""},altTag:{t:"TEXT",v:""},cellTextIsHTML:{t:"bool",v:!0},cellText:{t:"TEXT",v:""},horzAlign:{t:"enum",v:{ESliceHorzAlign:"default"}},vertAlign:{t:"enum",v:{ESliceVertAlign:"default"}},bgColorType:{t:"enum",v:{ESliceBGColorType:"None"}},topOutset:{t:"long",v:0},leftOutset:{t:"long",v:0},bottomOutset:{t:"long",v:0},rightOutset:{t:"long",v:0}}}};
y.zC=function(){y.uW.call(this,[10,41],y.bP,"tools/sselect");this.ce=null;this.jo=null;this.Sv=null;
this.k_=null;this.lG=!1};y.zC.prototype=new y.uW;y.zC.prototype.kf=function(w,M,O,b,D){if(w==null)return;
var o=w.P.ep(D.x,D.y),Z=y.zC.akb(o,4/w.P.T,w.iW,w.t5);Z.pop();if(Z.length!=0){this.ce=o;this.Sv=Z;this.b3(w);
return}var $=w.iW,k=y.uW.BE($,o);if(k==-1)w.t5=[];else{var E=w.t5.indexOf(k);if(b.i(i_.Z4)){if(E==-1)w.t5.push(k);
else w.t5.splice(E,1)}else{w.t5.sort(function(V,L){return V-L});if(E==-1)w.t5=[k];this.ce=o;this.b3(w);
this.jo=y.uW.qe($,w.t5);this.k_=[];for(var U=0;U<w.t5.length;U++)this.k_.push(y.uW.dg($,w.t5[U]));if(b.i(i_.PY)){var t=$.slice(0),c=w.t5,l=[];
for(var U=0;U<c.length;U++){var k=c[U],q=t[k],d=$.indexOf(q);l.push(d);$.splice(d,0,JSON.parse(JSON.stringify(q)))}w.t5=l}}}w.uP=!0};
y.zC.prototype.Ha=function(w,M,O,b,D){var o=w.P.ep(D.x,D.y);if(this.ce==null){var Z=y.zC.akb(o,4/w.P.T,w.iW,w.t5),$=Z.pop(),k=Z.length==0?"default":["ew","nwse","ns","nesw"][$]+"-resize",E=new aX(A.E.Z,!0);
E.data={d:A.t.s5,ue:k};M.l(E);return}if(!this.lG&&o.M5(this.ce))return;this.lG=!0;var t=w.iW,Z=this.Sv;
if(Z){o=y.t7.R3(w,o,O,[!0,null,!1]);var c=Math.round(o.x),l=Math.round(o.y);for(var U=0;U<Z.length;U+=2){var q=y.uW.dg(t,Z[U]),d=Z[U+1];
q[d]=(d&1)==0?c:l;y.uW.a94(q);y.uW.Rq(t,Z[U],q)}}else{var V=o._6(this.ce),L=this.jo.slice(0);y.uW.zJ(L,V);
var e=new cn(L[0],L[1],L[2]-L[0],L[3]-L[1]),H=y.t7.qN(w,e,O,[!0,null,!1],!0);y.t7.ty(w,e,H);V.x+=H[0];
V.y+=H[1];for(var U=0;U<w.t5.length;U++)y.uW.Rq(t,w.t5[U],this.k_[U]);y.uW.Hn(w,V)}w.uP=!0};y.zC.prototype.oH=function(w,M,O,b,D){if(this.ce==null)return;
this.iI(w);w.J.MB=null;w.uP=!0;this.ce=null;this.Sv=null;this.k_=null;this.lG=!1};y.zC.akb=function(w,M,O,b){var D=w.x,o=w.y,Z=[],$=-1,k=[];
for(var U=0;U<b.length;U++){var E=b[U],t=y.uW.dg(O,E),c=t[0],l=t[1],q=t[2],d=t[3];if(D<c-M||q+M<D||o<l-M||d+M<o)continue;
var V=[D<c+M,o<l+M,q-M<D,d-M<o],L=-1;for(var e=0;e<4;e++){if(V[e]&&V[e+1&3])L=1+2*(e&1);if(V[e])Z.push(E,e)}if(L==-1){if(V[0]||V[2])L=0;
if(V[1]||V[3])L=2}if(L!=-1){$=L;k.push(E)}}var H=Z.length;for(var U=0;U<H;U+=2){var E=Z[U],j=Z[U+1],g=y.uW.dg(O,E)[j];
for(var e=0;e<b.length;e++){var K=b[e];if(k.indexOf(K)!=-1)continue;var t=y.uW.dg(O,K);if(t[j&1]==g)Z.push(K,j&1);
if(t[2+(j&1)]==g)Z.push(K,2+(j&1))}}Z.push($);return Z};y.TF=function(){y.wk.call(this,[10,44],y.as9,"tools/oselect");
this.g1="crosshair";this.au8=0};y.TF.prototype=new y.wk;y.TF.prototype.pu=function(w,M,O,b){if(Math.random()<1/(1+this.au8)){alert("The cross should be fully inside the object.",3500);
this.au8++}};y.TF.prototype.xL=function(w,M,O,b){y.a3.PM(w,y.wk.S1,this.jA);if(!b.Rw||!this.aL)return;
var D=this.HW(w,O,!1),o=D.e,Z=D.n,$=D.x,k=D.y,E=D.x+o,t=D.y+Z,c=$+o/2,l=k+Z/2,q=y.TF.air;w.J.F0={C:[$,k,E,k,E,t,$,t,c-o*q,l,c+o*q,l,c,l-Z*q,c,l+Z*q],H:"M L L L Z M L M L".split(" ")};
w.uP=!0};y.TF.air=.12;y.TF.prototype.hN=function(w,M,O,b){w.J.F0=null;w.uP=!0;this.finish(w,M,O,b)};
y.TF.prototype.getSelection=function(w,M,O,b){if(this.aX.M5(this.Aj)||!this.aL)return null;var D=this.HW(w,O,!1),o=w.B[w.g[0]];
if(D.S9()||!D.Yt(o.rect))return null;return y.wk.Hm("ObSl",D)};y.a3=function(){y.fV.call(this,[10,37],y.vj,"tools/qselect");
this.bz="qselect"};y.a3.prototype=new y.fV;y.a3.prototype.kf=function(w,M,O,b,D){y.a3.PM(w,y.wk.S1,M,!0);
this.uk(w,O,b,D,1);if(this.a0==null)return;this.Ht(w)};y.a3.prototype.Ha=function(w,M,O,b,D){this.zM(w,M,O);
y.a3.PM(w,y.wk.S1,M);if(this.Fr)this.St(w,O,D);if(this.a0==null)return;if(!D.Rw)return;var o=this.DC(w,O,b,D);
if(o!=1)this.Ht(w)};y.a3.PM=function(w,M,O,b){if(w&&M.key!=y.a3.Bw(w)){M.key=y.a3.Bw(w);var D=w.B[w.g[0]].rect.v(),Z="Image Analysis ...";
if(D==0)return;var o=D>1e6&&b!=!0,$=new aX(A.E.Z,!0);$.data={d:A.t.sN,bs:Z};if(o)O.l($);var k=function(){var E=y.a3.avw(w);
for(var t in E)M[t]=E[t];var $=new aX(A.E.Z,!0);$.data={d:A.t.zk,bs:Z};if(o)O.l($)};if(b)k();else setTimeout(k,30)}};
y.a3.Bw=function(w){var M=w.g[0],O=w.B[M],b=O.rect,D=b.e,o=b.n,Z=D*o,$=O.buffer;return[M,b.x,b.y,D,o,$[0],$[1],$[2],$[3]].join(",")};
y.a3.avw=function(w){var M=w.g[0],O=w.B[M],b=O.rect,D=b.e,o=b.n,Z=D*o,$=O.buffer,k=Date.now(),E=x.$(Z);
E.fill(128);var t=x.ze.b6($,D,o);console.log(Date.now()-k);var c={key:y.a3.Bw(w),BA:$,rect:b.clone(),jy:D,e3:o,NY:12,amj:!1,qj:E,j2:t,X:x.$(Z),yD:null,YY:null,WW:null};
y.a3.vv(c);return c};y.a3.vv=function(w,M){var O=w.jy,b=w.e3,D=0,o=0,Z=Date.now(),$=w.yD!=null&&x.ze.an3(w.j2.vC,w.yD.vC,w.yD.zf,w.qj);
D=Date.now()-Z;Z=Date.now();if(!$&&!w.amj){w.yD=x.ze.nc(w.j2,O,b,w.qj,w.NY);if(!x.ze.an3(w.j2.vC,w.yD.vC,w.yD.zf,w.qj)){w.amj=!0;
console.log("conflict")}w.YY=x.ze.at0(w.BA,O,b,w.yD.vC,w.yD.zf);w.WW=[w.YY[0].slice(0),[]];o=Date.now()-Z;
Z=Date.now()}var Z=Date.now();if(M){w.WW[0].set(w.YY[0]);var k=w.YY[1],E=w.WW[1];for(var t=0;t<k.length;
t++)E[t]=k[t].slice(0);x.ze.a7u(w.yD.vC,O,b,w.yD.zf,w.qj,w.X,w.WW)}};y.x6=function(){y.Ke.call(this,[10,50],y.zO,"tools/artb");
this.um=null;this.IL=!1;this.ZS=null;this.EV=!1;this.auG=null;this.yC=100;this.P1=null;this.kx=0};y.x6.prototype=new y.Ke;
y.x6.prototype.s0=function(w,M,O,b,D){this.Z2(O,w.a4m,M,w.zU)};y.x6.a12=function(w,M){var O=w[0],b=0,D=0;
if(O==0)D=-1;else if(O==1)b=1;else if(O==2)D=1;else b=-1;return[20/M.JN,w[1]+b*60/M.JN,w[2]+D*60/M.JN]};
y.x6.prototype.Wb=function(w,M,O,b,D){this.um=w.I8;this.kx=Date.now()};y.x6.prototype.S4=function(w,M,O,b){if(O.yK!=this.id)return;
if(w==null||w.g.length!=1){this.bv(w);return}var D=w.g[0],o=w.B[D],Z=o.add.artb;if(Z==null){this.bv(w);
return}if(this.EV)return;if(Date.now()-this.kx>50){this.um={};var $=["artboardBackgroundType","Clr"];
for(var U=0;U<$.length;U++)if(Z[$[U]])this.um[$[U]]=JSON.parse(JSON.stringify(Z[$[U]]));var k=new aX(A.E.Z,!0);
k.data={d:A.t.SW,k:this.id,Mx:this.um};M.l(k)}var E=o.pU(),t=x.p.zl(E).C,c=this.ZS=new h$(t,!0,!1,!1,!0,!1,3,!1);
c.db(w,O,!1);var l={C:[1,0],H:["M"]};for(var U=1;U<30;U++){var q=Math.PI*2*U/30;l.C.push(Math.cos(q),Math.sin(q));
l.H.push("L")}l.H.push("Z","M","L","M","L");l.C.push(-.5,0,.5,0,0,-.5,0,.5);var d=E.x+E.e/2,V=E.y+E.n/2,L=this.yC*1.1,e=this.auG=[d,E.y,E.x+E.e,V,d,E.y+E.n,E.x,V],H=[0,-L,L,0,0,L,-L,0],j=w.root.children;
w.J.IZ=[];for(var U=0;U<4;U++){var K=new at(e[U*2]+H[U*2],e[U*2+1]+H[U*2+1]),a=!1;for(var T=0;T<j.length;
T++){var o=j[T].q;if(o.add.artb==null)continue;var E=o.pU();if(E.MS(K))a=!0}if(a){e[U*2]=1e9;continue}w.J.IZ.push([U,e[U*2],e[U*2+1]])}};
y.x6.prototype.disable=function(w,M,O,b,D){this.bv(w)};y.x6.prototype.bv=function(w){if(this.ZS){this.ZS.clear(w);
this.ZS=null;w.J.IZ=null}};y.x6.prototype.kf=function(w,M,O,b,D){this.kx=Date.now();var o=w.P.ep(D.x,D.y),Z=this.ZS;
if(Z){var $=new aX(A.E.s),k=Z.aiA(null,o,w,D);if(k<9){this.EV=Z.kf(w,O,b,o,null,!0,D);return}else if(Z.JL(o)){$.k=y.R6;
$.data={d:"disabAuto"};M.l($);var E=new aX(A.E.Z);E.data={d:A.t.Mq,k:y.R6,anT:!0};M.l(E);return}else{var t=-1,c=w.J.IZ;
for(var U=0;U<c.length;U++){var l=y.x6.a12(c[U],w.P);if(at.we(o,new at(l[1],l[2]))<l[0])t=c[U][0]}if(t!=-1){var q=w.B[w.g[0]].pU(),d=q.clone(),V=(t==0||t==2?q.n:q.e)+this.yC;
if(t==0||t==3)V=-V;if(t==0||t==2)q.y+=V;else q.x+=V;if(b.i(i_.PY)){var L=new cn(0,0,w.e,w.n);$.k=y.YH;
$.data={d:Q.Eb};M.l($);y.t7.DE(w,w.qH(null,w.g[0],null,!0),null,q.x-d.x,q.y-d.y);var e=y.vz.q7(w);if(e){var H=w.oO();
H.data.i6=L;H.data.Vc=e}w.g=H.data.Ou=w.g.slice(w.g.length-1)}else this.Z2(w,q,M);return}}}this.P1=y.t7.R3(w,o,O)};
y.x6.prototype.Z2=function(w,M,O,b){if(b==null)b=0;var D=w.B.slice(0),o=[w.B.length+1],Z=w.uV();Z.EJ(fr.get([1,16,0])+" "+(w.add.artd==null?1:w.root.children.length+1));
Z.add.lsct=ht.cx;Z.Bo(M);if(this.um){var $=Z.add.artb,k=this.um;for(var E in k)$[E]=k[E]}Z.eI="pass";
Z.N7=24;if(b==0){if(w.add.artd||M.mX(new cn(0,0,w.e,w.n)).S9())D.push(w.iB());else D.unshift(w.iB())}else{var t=w.qH();
t.sort(function(V,L){return V-L});var c=y.yI.df(w,t,D.length-1,!1,null,!1),l=c.pop(),q=c.pop();D=c.pop();
D.splice(w.B.length-t.length,0,w.iB())}D.push(Z);var d=new aX(A.E.s);d.k=y.YH;d.data={d:Q.cw,Q6:D,$X:o,vZ:[1,16,2]};
O.l(d)};y.x6.prototype.Ha=function(w,M,O,b,D){var o=w.P.ep(D.x,D.y),Z=this.ZS,$=this.P1;if(Z){if(this.EV){Z.Ha(w,O,b,o)}else{var k=Z.p6(o,w.P.T,null,D);
if(k==null)k="default";var E=new aX(A.E.Z,!0);E.data={d:A.t.s5,ue:k};M.l(E)}}if($){var t=this.dg(w,o,b,O);
w.J.F0=x.p.zl(t);w.uP=!0;y.Ke.Jx(D,t,w,O)}};y.x6.prototype.oH=function(w,M,O,b,D){var o=w.P.ep(D.x,D.y),Z=this.P1;
if(this.EV){this.ZS.oH(w,O,b,o);this.EV=!1;var $=x.p.Kc(this.ZS.ji()),k=Q.dY($),E=w.B[w.g[0]],t=JSON.parse(JSON.stringify(E.add.artb));
t.artboardRect.v=k;var c=new aX(A.E.s,!0);c.k=y.YH;c.data={d:Q.wM,so:t};M.l(c)}if(Z){var l=this.dg(w,o,b,O);
if(l.v()>20)this.Z2(w,l,M);w.J.F0=null;w.uP=!0;this.P1=null;w.J.jd=[]}};y.x6.prototype.dg=function(w,M,O,b){var D=this.P1,o=y.t7.R3(w,M,b),Z=y.c9.oh(D,o,O,!0);
D=Z[0];o=Z[1];return x.p.Kc([D.x,D.y,o.x,o.y])};function h$(w,M,O,b,D,o,Z,$){this.eP=null;this.QQ=w?w.slice(0):null;
this.pr=4;this.Aj=null;this.Iy=null;this.gj=null;this.U1=-1;this.Qe=null;this.axC=!1;this.aoU=[];for(var U=0;
U<8;U++)this.aoU.push(ce.axF(0,PIMG.rotate,-.5,-.5,-45-U*45));this.a9k=M;this.aky=O;this.ant=b;this.a9u=D;
this.rm=o;this.zU=Z;this.a8$=$==null?1:$}h$.prototype.auu=function(){return this.U1!=-1};h$.prototype.ji=function(){return this.QQ.slice(0)};
h$.prototype.iS=function(w){this.QQ=w};h$.prototype.aiG=function(){return this.e1(this.QQ)};h$.prototype.a0w=function(){return this.pr};
h$.prototype.a0c=function(w){this.pr=w};h$.prototype.Rp=function(w){if(w==null)w=this.QQ;if(this.pr==9)return this.Aj;
else return this.e1(w)[this.pr]};h$.prototype.a1U=function(w){if(this.pr==9)this.Aj=w.clone();else{var M=this.Rp(),O=new f$(1,0,0,1,w.x-M.x,w.y-M.y);
x.p.F(this.QQ,O,this.QQ)}};h$.prototype.p6=function(w,M,O,b){var D=this.sz(null,w,M,b),o;if(D==9)return"default";
if(D==10){if(O)return null;return!this.a9k?"move":null}if(D==-1||D==4)return null;if(D==11){var Z=this.Rp()._6(w);
o=90-Math.atan2(Z.y,Z.x)*180/Math.PI;var $=Math.round(8*(o/360));$=($+8)%8;return this.aoU[$]}else{var k=this.G8(w,this.QQ);
o=[135,90,45,180,0,0,225,270,315][D];var E=x.N.C9(this.QQ);o+=Math.atan2(-E[3],E[0])*180/Math.PI;var t="ew nesw ns nwse ew nesw ns nwse".split(" "),$=Math.round(8*(o/360));
$=($+8)%8;return t[$]+"-resize"}};h$.prototype.G8=function(w,M){var O=x.N.ZW(x.N.C9(M)),b=new Float64Array(2);
x.N.JI(w.x,w.y,O,b);return new at(b[0],b[1])};h$.prototype.JL=function(w){var M=this.G8(w,this.QQ);return 0<=M.x&&M.x<=1&&0<=M.y&&M.y<=1};
h$.prototype.kf=function(w,M,O,b,D,o,Z,$){this.axC=o;this.Qe=b;var k=w.P.T,E;if(this.QQ==null)b=y.t7.R3(w,b,M);
this.gj=b.clone();if(this.QQ==null){if($==null)$=0;var t=new f$;t.rotate($);var c=t.xU(new at(1,1));
this.gj.offset(c.x,c.y);var l=D==null?1:1/D,q=this.QQ=[0,0,1,0,1,l,0,l];t.translate(b.x,b.y);x.p.F(this.QQ,t,this.QQ);
E=8}else{E=this.sz(O,b,k,Z);if(0<=E&&E<=8)this.gj=this.e1(this.QQ)[E];if(E==9){this.pr=9;this.Aj=b.clone()}}this.eP=this.QQ.slice(0);
this.U1=E;this.db(w,M);this.Iy=this.Rp();return E!=-1};h$.prototype.aiA=function(w,M,O,b){return this.sz(w,M,O.P.T,b)};
h$.prototype.sz=function(w,M,O,b){var D=-1,o=this.e1(),Z=[0,2,6,8,1,3,5,7],$=b?y.Gs({P:{T:O}},b):8*y.V()/O,k=at.we(o[0],o[2]),E=at.we(o[0],o[6]),t=this.G8(M,this.QQ);
t.x*=k;t.y*=E;var c=new cn(0,0,k,E);c.M0($,$);if(D==-1)if(at.we(this.Rp(),M)<$)D=9;if(D==-1)for(var U=0;
U<Z.length;U++)if(at.we(o[Z[U]],M)<$)D=Z[U];if(D==-1&&c.MS(t)){if(Math.abs(t.y-0)<$)D=1;if(Math.abs(t.x-0)<$)D=3;
if(Math.abs(t.y-E)<$)D=7;if(Math.abs(t.x-k)<$)D=5}if(D==-1&&w&&w.i(i_.PY))D=9;if(D==-1||this.zU==4){if(this.JL(M)){if(this.a9k)D=10}else{c.M0(3*$,3*$);
D=c.MS(t)&&this.zU!=3?11:10}}return D};h$.prototype.Ha=function(w,M,O,b){if(this.U1==-1)return;this.Qe=b;
var D=O.i(i_.Z4),o=O.i(i_.PY),Z=O.i(i_.v9),$=w.P.T,k=this.gj,E=this.U1,t=this.e1(),c=y.t7.R3(w,k,M),l=y.t7.R3(w,b,M),q,d;
if(E==9){var t=this.e1(),V=-1;for(var U=0;U<t.length;U++)if(at.we(t[U],l)*$<10)V=U;this.pr=V==-1?9:V;
this.Aj=D?y.Cw.ay(c,l):l.clone()}else if(E==10){d=x.p.qe(this.eP);var L=d.x,e=d.y;d.offset(b.x-k.x,b.y-k.y);
if(this.aem()){d.x=Math.round(d.x);d.y=Math.round(d.y)}q=y.t7.qN(w,d,M);var H=new f$(1,0,0,1,d.x-L+q[0],d.y-e+q[1]);
x.p.F(this.eP,H,this.QQ)}else if(E==11){var j=this.Rp(this.eP),g=j._6(b),K=j._6(k),a=Math.atan2(g.y,g.x),T=Math.atan2(K.y,K.x),H=new f$(1,0,0,1,-j.x,-j.y),C=Math.PI/12;
if(D)H.rotate(Math.round((T-a)/C)*C);else H.rotate(T-a);H.translate(j.x,j.y);x.p.F(this.eP,H,this.QQ)}else{var F,m=this.eP,N=E==0||E==2||E==6||E==8;
if(this.zU==1){if(N)D=o=Z=!0}else if(this.zU==2&&N&&this.axC!=!0)Z=!0;if(this.zU==3)Z=!1;if(this.ant&&N&&Z){var U=[0,0,2,0,0,0,6,0,4,0][E],v=-1,h=l.x,P=l.y;
if(D){var J=U+6&7,Y=U+10&7,B=h$.a3z(m[U],m[U+1],m[J],m[J+1],l.x,l.y),S=h$.a3z(m[U],m[U+1],m[Y],m[Y+1],l.x,l.y),r=B[2]<S[2]?B:S;
h=r[0];P=r[1];if(o)v=B[2]<S[2]?J:Y}else if(o)v=U+4&7;F=m.slice(0);if(v!=-1){var I=m[v],f=m[v+1],s=(m[U]+I)/2,W=(m[U+1]+f)/2;
F[v]=s-(h-s);F[v+1]=W-(P-W)}F[U]=h;F[U+1]=P}else if(N&&o){var j=this.Iy,i=j.x,u=j.y,z=c.x-i,G=c.y-u,g_=1,cl=1;
if(Math.abs(z)>=1)g_=(l.x-i)/z;if(Math.abs(G)>=1)cl=(l.y-u)/G;if(D||this.rm)g_=cl=(g_+cl)/2;var H=new f$;
H.translate(-i,-u);H.scale(g_,cl);H.translate(i,u);F=m.slice(0);x.p.F(F,H,F)}else{if(this.aem()){l.x=Math.round(l.x);
l.y=Math.round(l.y)}var p=[0,1,2,5,8,7,6,3],b2=p[(p.indexOf(E)+4)%8],jz=[];for(var U=0;U<3;U++)for(var v=0;
v<3;v++)jz.push(new at(v/2,U/2));var j=this.Iy,aT=this.G8(l,m),fZ=this.G8(k,m),ft=o&&(this.pr==4||this.pr==9)?this.G8(j,m):jz[b2],cc=new f$,kr=new f$,g_=(aT.x-ft.x)/(fZ.x-ft.x);
if(g_==0)g_=1e-4;var cl=(aT.y-ft.y)/(fZ.y-ft.y);if(cl==0)cl=1e-4;if(this.a9u){g_=Math.max(g_,0);cl=Math.max(cl,0)}if(E==0||E==2||E==6||E==8){if(D||this.rm)cc.scale(g_,g_);
else cc.scale(g_,cl)}if(E==1||E==3||E==5||E==7){var hG=this.rm;if(E==1||E==7)cc.scale(hG?cl:1,cl);else cc.scale(g_,hG?g_:1);
if(this.aky&&Z){if(E==1||E==7)kr.Hv=(aT.x-ft.x)/(aT.y-ft.y);else kr.L=(aT.y-ft.y)/(aT.x-ft.x)}}var H=new f$;
H.translate(-ft.x,-ft.y);H.concat(cc);H.concat(kr);H.translate(ft.x,ft.y);F=[0,0,1,0,1,1,0,1];x.p.F(F,H,F);
var r=x.N.C9(m);x.N.F(r,F)}if(h$.Za(F))this.QQ=F}this.db(w,M);if(q)y.t7.ty(w,d,q)};h$.a3z=function(w,M,O,b,D,o){var Z=O-w,$=b-M,k=D-w,E=o-M,t=Z*Z+$*$,c=k*Z+E*$,l=c/t,q=w+l*Z,d=M+l*$,V=D-q,L=o-d;
return[q,d,Math.sqrt(V*V+L*L)]};h$.prototype.aem=function(){var w=this.QQ;return Math.abs(w[1]-w[3])<1e-6&&Math.abs(w[2]-w[4])<1e-6||Math.abs(w[0]-w[2])<1e-6&&Math.abs(w[3]-w[5])<1e-6};
h$.Za=function(w){return x.p.gq(w)||x.p.gq([w[6],w[7],w[4],w[5],w[2],w[3],w[0],w[1]])};h$.prototype.oH=function(w,M,O,b){this.U1=-1;
this.Qe=null;w.J.MB=null;w.J.jd=[];w.uP=!0};h$.prototype.$m=function(w,M,O){var b=O.Fn();if(b.x||b.y){var D=new f$(1,0,0,1,b.x,b.y);
x.p.F(this.QQ,D,this.QQ);this.db(w,M);return!0}return!1};h$.prototype.e1=function(w){if(w==null)w=this.QQ;
var M=w[6]-w[0],O=w[7]-w[1],b=w[4]-w[2],D=w[5]-w[3],o=[w[0],w[1],w[2],w[3],w[0]+M/2,w[1]+O/2,w[2]+b/2,w[3]+D/2,w[6],w[7],w[4],w[5]],Z=[];
for(var U=0;U<3;U++){var $=U*4,k=o[$+0],E=o[$+1],t=o[$+2],c=o[$+3];Z.push(new at(k,E));Z.push(new at(k+(t-k)/2,E+(c-E)/2));
Z.push(new at(t,c))}return Z};h$.prototype.db=function(w,M,O){if(O==null)O=!1;var b=this.e1(),D=b[0],o=b[2],Z=b[6],$=b[8];
w.J.F0={H:[],C:[]};w.J.F0.H.push("M","L","L","L","Z");w.J.F0.C.push(D.x,D.y,o.x,o.y,$.x,$.y,Z.x,Z.y);
var k=this.a8$;if(k>1){var E=o._6(D),t=Z._6(D),c=$._6(o),l=$._6(Z);for(var U=1;U<k;U++){w.J.F0.H.push("M","L","M","L");
var q=U/k;w.J.F0.C.push(D.x+E.x*q,D.y+E.y*q,Z.x+l.x*q,Z.y+l.y*q);w.J.F0.C.push(D.x+t.x*q,D.y+t.y*q,o.x+c.x*q,o.y+c.y*q)}}w.P.rT=new cn(0,0,at.we(b[0],b[2]),at.we(b[0],b[6]));
if(this.U1!=-1&&this.U1<9&&this.Qe){var d=w.P.hP(this.Qe.x,this.Qe.y);y.Ke.Jx(d,w.P.rT,w,M)}if(!O){w.J.BK=[];
for(var U=0;U<b.length;U++)if(U!=4)w.J.BK.push(b[U].x,b[U].y);var V=this.Rp();w.J.BK.push(V.x,V.y)}w.uP=!0};
h$.prototype.clear=function(w){w.P.rT=null;w.J.MB=null;w.J.F0=null;w.J.BK=[];w.uP=!0};function dq(w,M){this.vL=null;
this.U1=-1;this.a4$(w)}dq.prototype.ou=function(){return JSON.parse(JSON.stringify(this.vL))};dq.prototype.a4$=function(w){this.vL=JSON.parse(JSON.stringify(w))};
dq.prototype.JL=function(w){return!0};dq.prototype.p6=function(w,M,O,b){var D=this.sz(w,M,b);if(D==-1)return"default";
return"pointer"};dq.prototype.kf=function(w,M,O,b,D,o,Z){this.U1=this.sz(b,w.P.T,Z);return this.U1!=-1};
dq.prototype.sz=function(w,M,O){var b=this.axe(),D=-1,o=1e6;for(var U=0;U<b.length;U++){var Z=at.we(b[U],w);
if(Z<o){D=U;o=Z}}return o<(O?y.Gs({P:{T:M}},O)*2:20*y.V()/M)?D:-1};dq.prototype.Ha=function(w,M,O,b){if(this.U1==-1)return;
var D=w.P.T,o=this.U1,Z=x.vL.GS(this.vL);Z[o*2]=b.x;Z[o*2+1]=b.y;x.vL.Sa(Z,this.vL)};dq.prototype.oH=function(w,M,O,b){this.U1=-1;
w.uP=!0};dq.prototype.$m=function(w,M,O){var b=O.Fn();if(b.x||b.y){var D=new f$(1,0,0,1,b.x,b.y);x.p.F(this.QQ,D,this.QQ);
this.db(w)}};dq.prototype.axe=function(w){var M=x.vL.GS(this.vL),O=[];for(var U=0;U<M.length;U+=2)O.push(new at(M[U],M[U+1]));
return O};dq.prototype.db=function(w){var M=this.axe();w.J.F0={H:[],C:[]};w.J.F0.H.push("M","C","C","C","C");
var O=[0,1,2,3,7,11,15,14,13,12,8,4,0];for(var U=0;U<O.length;U++)w.J.F0.C.push(M[O[U]].x,M[O[U]].y);
w.J.F0.H.push("M","L","L","M","L","L","M","L","L","M","L","L");O=[4,0,1,2,3,7,11,15,14,13,12,8];for(var U=0;
U<O.length;U++)w.J.F0.C.push(M[O[U]].x,M[O[U]].y);w.J.BK=[];for(var U=0;U<M.length;U++)w.J.BK.push(M[U].x,M[U].y);
w.uP=!0};dq.prototype.clear=function(w){w.J.F0=null;w.J.BK=[];w.uP=!0};function jy(){this.Lc=!1;this.zY=!1;
this.a2Q=!1;this.axN=!1;this.$U=!1;this.ar=!1;this.lg=0;this.dU=0}jy.prototype.kf=function(w){this.Lc=!0;
this.zY=!1;this.$U=w.i(i_.Z4);this.ar=w.i(i_.PY);this.lg=this.$U?0:1;this.dU=this.ar?0:1};jy.prototype.$m=function(w){var M=this.axN=w.i(i_.Z4),O=this.a2Q=w.i(i_.PY);
if(this.zY){if(this.lg==0&&!M)this.lg++;if(this.lg==1&&M)this.lg++;if(this.dU==0&&!O)this.dU++;if(this.dU==1&&O)this.dU++}};
jy.prototype.Ha=function(){this.zY=!0};jy.prototype.oH=function(){this.Lc=!1};jy.prototype.So=function(U){if(U==0)return this.Lc?this.ar:this.a2Q;
if(U==1)return this.zY?this.dU==2:!1};jy.prototype._x=function(U){if(U==0)return this.Lc?this.$U:this.axN;
if(U==1)return this.zY?this.lg==2:!1};y.History=function(){y.Ke.call(this,"History",y.eU);this.r2=!0;
this.al7=0};y.History.prototype=new y.Ke;y.History.prototype.s0=function(w,M,O,b){O.bN=!0;if(w.d=="h_itemchange"){if(w.index<O.gX)for(var U=O.gX;
U>w.index;U--)this.hA(O);if(w.index>O.gX)for(var U=O.gX;U<w.index;U++)this.xf(O)}if(w.d=="h_stepfwd")this.xf(O);
if(w.d=="h_stepbck")this.hA(O);if(w.d=="h_undoredo"){var D=this.r2||this.al7!=O.gX;if(D){this.hA(O);
D=!1}else{this.xf(O);D=!0}this.r2=D;this.al7=O.gX}if(w.d=="h_clear"){if(!window.confirm("Do you really want to clear all states in History? You won't be able to undo it."))return;
O.history=[new gN([1,0],null)];O.gX=0}else this.r2=!0};y.History.prototype.hA=function(w){if(w.gX==0)return;
var M=w.history[w.gX];M.k.y3(M.data,w);w.gX--};y.History.prototype.xf=function(w){if(w.gX==w.history.length-1)return;
var M=w.history[w.gX+1];M.k.ZT(M.data,w);w.gX++};y.yI=function(){y.Ke.call(this,"Layers",y.YH);this.jA=null};
y.yI.prototype=new y.Ke;y.yI.prototype.s0=function(w,M,O,b,D){this.jA=M;var o=w.d,Z=w.q!=null?w.q:O.g.length!=0?O.g[0]:O.B.length-1,$=O.B[Z];
O.Er=!0;var k=b.i(i_.PY),E=b.i(i_.Z4),t=b.i(i_.v9);if(o==Q.ej&&O.X==null&&(O.g.length>1||!O.D_(!1)))o=Q.Eb;
if(o==Q.jO){var c=new gN([6,33],this),l=$._N()?["pass"].concat(gA.J5):gA.J5,q=l[w.XU],d=w.q!=null?[w.q]:O.g,V=JSON.stringify(d),L=[];
for(var U=0;U<d.length;U++)L.push(O.B[d[U]].eI);c.data={d:o,MV:V,Dj:L,XU:q};O.zw(c);this.ZT(c.data,O);
this.track(fE.fl("Md",{t:"enum",v:{BlnM:gA.VK(q)}}))}if(o==Q.d4){var c,e=O.oO(),d=w.q!=null?[w.q]:O.g,V=JSON.stringify(d);
if(e&&e.data&&e.data.d==o&&e.data.MV==V)c=e;else{var H=fE.fl("Opct",{t:"UntF",v:{type:"#Prc",val:0}});
this.track(H);var L=[];for(var U=0;U<d.length;U++)L.push(O.B[d[U]].opacity);c=new gN([6,32],this);c.data={d:o,MV:V,Dj:L,XU:w.XU,tk:H.g0};
O.zw(c)}c.data.XU=w.XU;c.data.tk.T.v.Opct.v.val=Math.round(w.XU*100/255);this.ZT(c.data,O)}if(o==Q.Pa){if($.add.iOpa==null)$.add.iOpa=255;
var c,e=O.oO();if(e&&e.data&&e.data.d==o&&e.data.q==Z)c=e;else{c=new gN("Fill Opacity Change",this);
c.data={d:o,q:Z,Dj:$.add.iOpa,XU:w.XU};O.zw(c)}c.data.XU=w.XU;this.ZT(c.data,O)}if(o==Q.d1){var j=w.XU,g=w.q!=null?[w.q]:O.g.slice(0),K=[],a=[],c;
for(var T=0;T<g.length;T++){var C=O.B[g[T]];if(C.add.lspf==null)C.add.lspf=0;var L=C.add.lspf,q=L;for(var U=0;
U<j[0].length;U++){var F=j[1][U],m=1<<F;if((q&m)==0&&j[0][U])q^=m;else if((q&m)!=0&&!j[0][U])q^=m}K.push(L);
a.push(q)}var e=O.oO(),d=JSON.stringify(g);if(e&&e.data&&e.data.d==o&&JSON.stringify(e.data.MV)==d){c=e;
c.data.XU=a}else{var c=new gN([6,57,1],this);c.data={d:o,MV:d,Dj:K,XU:a};O.zw(c)}this.ZT(c.data,O)}if(o==Q.By){var N="----",v=w.Oi,q=null;
for(var U=0;U<fM.he.Hd.length;U++)if($.add[fM.he.Hd[U]])N=fM.he.Hd[U];var h=$.add[N];if(v=="TySh")q=ah.Wm(50,50,D.ib);
var c=new gN("Layer Type",this);c.data={d:o,q:Z,asm:[N,h],Oi:[v,q]};O.zw(c);this.ZT(c.data,O)}if(o==Q.sb){var g=[];
if(k){var P=O.oO(),J=P?P.data:null;if(P!=null&&P.k==this&&J.d==Q.sb&&J.MV.length!=1){var Y=new aX(A.E.s);
Y.k=y.eU;Y.data={d:"h_stepbck"};M.l(Y);if(J.q==Z)return}var B=O.root.KZ(Z),S=O.qH(null,Z);while(B.parent!=O.root){S.push(B.parent.index);
B=B.parent}for(var U=0;U<O.B.length;U++){var r=O.B[U],I=r.Vd(),f=S.indexOf(U)!=-1;if(!f&&I)g.push(U);
if(U==Z&&!I)g.push(U)}}else if(w.MV)g=w.MV;else{g.push(Z);var I=O.B[Z].Vd(),H={wV:I?"hide":"show",g0:{classID:I?"Hd":"Shw",null:{t:"VlLs",v:[fE.xp("Lyr",!0)]}}};
this.track(H)}var c=new gN("Layer visibility",this,!0);c.data={d:o,MV:g,q:Z};O.zw(c);this.ZT(c.data,O)}if(o==Q.y6){if(D.yK==y.zO){var s=new aX(A.E.Z);
s.data={d:A.t.Mq,k:y.R6};M.l(s)}var W=w.ac3,i=w.uf,G,escape=!1,b2=!1;if(w.fz){if(t&&(i==0||i==1||i==2)){var u=0;
if(E)u++;if(k)u+=2;var z=new aX(A.E.s,!0);z.k=y.P$;z.data={d:"fromlayer",vt:[w.q,i,u]};M.l(z);return}}var H={wV:"select",g0:{classID:"null",MkVs:{t:"bool",v:!1}}};
if(O.P.$Y.join("")!="111"){O.P.$Y=[1,1,1];O.uP=!0}for(var U=0;U<O.B.length;U++){var r=O.B[U],g_=r.add.vmsk;
if(r.Kf()){var cl=r.k1(O);if(cl&&cl.D&&cl.D.Uy){cl.D.Uy=!1;O.uP=!0}}var p=r.yo();if(p&&p.Uy){p.Uy=!1;
O.uP=!0}if(g_){if(g_.g.length!=0)g_.g=[];if(g_.yu.length!=0)g_.yu=[]}}if(b.i(i_.v9)||w.Hf==0){var jz=O.g.indexOf(Z);
if(jz==-1)O.g.push(Z);else if(O.g.length>1){if(w.Hf!=0)O.g.splice(jz,1)}O.g.sort(function(c,cB){return c-cB});
H.g0.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelection"}};G=Z}else if(E&&!k&&i>0){o=i==1?Q.ky:i==2?Q.O5:Q._o;
escape=!0}else if((E||w.Hf==1)&&O.g.length>0){var aT=Math.min(Z,O.g[0]),fZ=Math.max(Z,O.g[O.g.length-1]);
O.g=[];for(var U=aT;U<=fZ;U++)if(O.B[U].add.lsct!=ht.z5)O.g.push(U);H.g0.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelectionContinuous"}};
G=Z}else{G=Z;if(Z>=O.B.length)return;var r=O.B[Z];if(r&&r._N()&&w.abZ)r.add.lsct=ht.cx;else if(O.g.length==1&&O.g[0]==Z&&Math.max(0,i)==r.cn){b2=!0;
O.Er=!1}if(!b2){O.g=[Z];O.UQ()}}if(!b2){if(G!=null&&G<O.B.length){H.g0.null={t:"obj ",v:[{t:"name",v:{classID:"Lyr",val:O.B[G].getName()}}]},this.track(H)}if(!escape){console.log("no escape");
if(O.g.length==1){var ft=O.g[0];for(var U=0;U<O.B.length;U++){if(U==ft)continue;var C=O.B[U];C.cn=0;
C.aB=!1}var $=O.B[ft];if(i==2){$.aB=!$.aB;O.xF=[]}else if($){$.cn=i<=0?0:i}}else for(var U=0;U<O.B.length;
U++){var C=O.B[U];C.cn=0;C.aB=!1}O.C5=null;O.bN=!0}}if(w.fz&&k){if((i==1||i==3)&&W!=null){var z=new aX(A.E.s,!0);
z.k=y.s_;z.data={d:"mskView",G:W!=0?0:E?1:2};M.l(z)}else{this.s0({d:Q.SR,q:w.q},M,O,b,D)}}}if(o==Q.ky||o==Q._o){var cc=o==Q.ky,kr=cc?$.yo():$.k1(O).D;
if(kr==null)return;var c=new gN(kr.isEnabled?cc?[6,15]:[6,42]:cc?[6,14]:[6,41],this);c.data={d:o,q:Z};
O.zw(c);this.ZT(c.data,O)}if(o==Q.O5){var kr=$.add.vmsk;if(kr==null)return;var c=new gN(kr.isEnabled?[6,17]:[6,16],this);
c.data={d:o,q:Z};O.zw(c);this.ZT(c.data,O)}if(o==Q.a8o){var hG=$.add.lsct==ht.cx?ht.xe:ht.cx;if(b.i(i_.v9)){var hi=O.root.KZ(O.B.indexOf($)).parent;
for(var U=0;U<hi.children.length;U++){var bU=hi.children[U].q;if(bU._N())bU.add.lsct=hG}}else $.add.lsct=hG;
O.bN=!0}if(o==Q.SR){if(!O.pJ(Z))return;var c=new gN($.fG?[6,19]:[6,18],this);c.data={d:o,q:Z};O.zw(c);
if(w.XU==null||w.XU!=$.fG)this.ZT(c.data,O)}if(o==Q.aaz){if($.et())$.N7-=32;else $.N7+=32;O.bN=!0}if(o==Q.K3||o==Q.ag){var c;
if(o==Q.K3)c=new gN($.add.lmfx.masterFXSwitch.v?[6,30]:[6,29],this);if(o==Q.ag)c=new gN($.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this);
c.data={d:o,q:Z};O.zw(c);this.ZT(c.data,O)}if(o==Q.sk||o==Q.ZO){var ft=w.index,c;if(o==Q.sk)c=new gN($.add.lmfx[aN.IU[ft[0]]].v[ft[1]].v.enab.v?[6,30]:[6,29],this);
if(o==Q.ZO)c=new gN($.add.SoLd.filterFX.v.filterFXList.v[ft].v.enab.v?[6,44]:[6,43],this);c.data={d:o,q:Z,index:w.index};
O.zw(c);this.ZT(c.data,O)}if(o==Q.TM){if(w.src==w.Kt)return;var ic=O.B[w.src],iQ=O.B[w.Kt],bx=ic.add.lmfx?JSON.stringify(ic.add.lmfx):"",aR=iQ.add.lmfx?JSON.stringify(iQ.add.lmfx):"";
if(iQ.add.lmfx==null){iQ.add.lmfx=JSON.parse(aN.default);for(var U=0;U<aN.order.length;U++)iQ.add.lmfx[aN.IU[U]]={t:"VlLs",v:[]}}if(w.b9==null){iQ.add.lmfx=JSON.parse(bx);
if(!k)delete ic.add.lmfx}else{var gs=w.b9[0],k7=aN.IU[gs];if(aN.aiR.indexOf(aN.order[gs])==-1)iQ.add.lmfx[k7].v=[];
iQ.add.lmfx[k7].v.push(ic.add.lmfx[k7].v[w.b9[1]]);if(!k)ic.add.lmfx[k7].v.splice(w.b9[1],1)}var fT=ic.add.lmfx?JSON.stringify(ic.add.lmfx):"",aH=iQ.add.lmfx?JSON.stringify(iQ.add.lmfx):"";
if(!iQ.et())iQ.N7+=32;var c=new gN("Move Layer Styles",this);c.data={d:o,RE:w.src,kz:w.Kt,a9v:bx,aif:aR,arZ:fT,aoA:aH};
O.zw(c);this.ZT(c.data,O)}if(o==Q.SO){if(w.src!=null)Z=w.src;var C=O.B[Z],e7=JSON.stringify(C.add.SoLd),dB=JSON.parse(e7),ia=dB.filterFX.v.filterFXList.v;
ia.splice(w.b9,1);var c=new gN([6,53],this);c.data={d:Q.OY,O_:[{$0:Z,m$:[e7,JSON.stringify(dB)]}]};O.zw(c);
this.ZT(c.data,O)}if(o==Q.apN){var d7=k,ic=O.B[w.src],iQ=O.B[w.Kt],hf=[];if(ic!=iQ&&iQ.add.SoLd==null){alert("Target layer is not a smart object!");
return}if(ic==iQ&&!d7&&(w.b9==w.qW||w.b9==-1))return;var gv=ic.k1(O),e7=JSON.stringify(ic.add.SoLd),dB=JSON.parse(e7),ia=dB.filterFX.v.filterFXList.v;
if(ic==iQ){ia.splice(w.qW,0,ia[w.b9]);if(!d7)ia.splice(w.b9+(w.b9<w.qW?0:1),1);hf.push({$0:w.src,m$:[e7,JSON.stringify(dB)]})}else if(w.b9==-1){var hN=dB.filterFX;
if(!d7){delete dB.filterFX;hf.push({$0:w.src,m$:[e7,JSON.stringify(dB)],U9:[gv,null]})}var hP=iQ.Kf()?iQ.k1(O):null,gP=fO.abj(gv),aB=JSON.stringify(iQ.add.SoLd),i7=JSON.parse(aB);
i7.placed.v=gP.id;i7.filterFX=hN;hf.push({$0:w.Kt,m$:[aB,JSON.stringify(i7)],U9:[hP,gP]})}else{var dI=ia[w.b9];
if(!d7){ia.splice(w.b9,1);hf.push({$0:w.src,m$:[e7,JSON.stringify(dB)]})}var aB=JSON.stringify(iQ.add.SoLd),i7=JSON.parse(aB);
if(i7.filterFX==null)i7.filterFX=ek._4();var gh=i7.filterFX.v.filterFXList.v;gh.splice(w.qW,0,dI);var b9={$0:w.Kt,m$:[aB,JSON.stringify(i7)]};
if(!iQ.Kf()){var gP=fO.amg(iQ.add.SoLd.placed.v);b9.U9=[null,gP]}hf.push(b9)}var c=new gN([6,52],this);
c.data={d:Q.OY,O_:hf};O.zw(c);this.ZT(c.data,O)}if(o==Q.h8){var kr=$.yo(),c=new gN(kr.Jr?[6,26]:[6,25],this);
c.data={d:o,q:Z};O.zw(c);this.ZT(c.data,O);this.track({wV:"set",g0:{classID:"setd",null:{t:"obj ",v:[fE.xp("Lyr",!0)]},T:{t:"Objc",v:{classID:"Lyr",Usrs:{t:"bool",v:kr.Jr}}}}})}if(o==Q.Bg){var kr=$.add.vmsk,c=new gN(kr.Jr?[6,28]:[6,27],this);
c.data={d:o,q:Z};O.zw(c);this.ZT(c.data,O)}if(o==Q.Hg){var c=new gN("Variables / Datasets",this),ij=JSON.stringify([O.cU,O.nX]);
if(ij==w.G)return;c.data={d:o,acf:ij,ait:w.G};O.zw(c);this.ZT(c.data,O)}if(o==Q.ER){var ax=[],c;for(var U=0;
U<O.g.length;U++){var T=O.g[U],r=O.B[T];if(r.add.vogk)ax.push(T,JSON.stringify(r.add.vogk))}for(var U=0;
U<O.xF.length;U++){var T=O.xF[U],r=O.IB[T];if(r.add.vogk)ax.push(-1-T,JSON.stringify(r.add.vogk))}x.lK.atG(O,w.G);
var iX=[];for(var U=0;U<O.g.length;U++){var T=O.g[U],r=O.B[T];if(r.add.vogk)iX.push(T,JSON.stringify(r.add.vogk))}for(var U=0;
U<O.xF.length;U++){var T=O.xF[U],r=O.IB[T];if(r.add.vogk)iX.push(-1-T,JSON.stringify(r.add.vogk))}var e=O.oO();
if(e&&e.data&&e.data.d==o){var jf=!0;for(var U=0;U<ax.length;U+=2)if(ax[U]!=e.data.dA[U])jf=!1;if(jf){c=e;
c.data.G2=iX}}if(c==null){var c=new gN([12,91,1],this);c.data={d:o,dA:ax,G2:iX};O.zw(c)}this.ZT(c.data,O)}if(o==Q.wM){var eJ=JSON.stringify($.add.artb),hZ=JSON.stringify(w.so),c;
O.B[Z].add.artb=JSON.parse(hZ);var hC=new cn(0,0,O.e,O.n),ds=y.vz.Kb(O),e=O.oO();if(e&&e.data&&e.data.d==o&&e.data.q==Z){c=e;
c.data.so=hZ}if(c==null){var c=new gN("Editing Artboard",this);c.data={d:o,q:Z,a7n:eJ,so:hZ,i6:hC};O.zw(c)}c.data.Vc=ds;
this.ZT(c.data,O)}if(o==Q.IC){var iX=O.SN.slice(0),hV=O.m7.slice(0),bv=O.X,hl=O.X;if(w.uj=="fromAction"){var jQ=w.G.wV,a$=w.G.g0;
if(jQ=="make"||jQ=="duplicate"){var jB=iX.length,c1=!1,fd=!1;if(O.kD())jB--;var jL=new Q.MX;jL.name="Alpha "+(jB+1);
if(jQ=="make"){var g2=a$.Nw.v;jL.color=255;hV=[jB];jL.Uy=!0;jL.s$=g2.Opct.v;if(g2.Nm)jL.name=g2.Nm.v;
if(g2.classID=="SCch"){c1=!0;hl=null;jL.kB=1}}else{var ed=a$.null.v[0].v;if(ed.keyID=="fsel")c1=!0;else{var ip=y.wk.ao5(O);
hl=y.wk.acn(O,ip);jL.color=0;jL.rect=hl.rect;jL.channel=hl.channel}}if(c1){jL.color=0;if(O.X){jL.rect=O.X.rect.clone();
jL.channel=O.X.channel.slice(0)}if(fd){jL.color=255-jL.color;x.ZW(jL.channel)}}iX.splice(jB,0,jL)}else if(jQ=="delete"){if($&&$.yo()&&$.cn==1){this.s0({d:Q.RG},M,O,b,D);
return}var S=O.m7;S.sort(function(c,cB){return cB-c});if(S.length==0)return;for(var U=0;U<S.length;U++)iX.splice(S[U],1);
hV=[]}else if(jQ=="hide"){iX[hV[0]]=iX[hV[0]].clone();iX[hV[0]].Uy=!1}}if(w.uj=="rnm"){iX[w.zS]=iX[w.zS].clone();
iX[w.zS].name=w.name}var c=new gN("Channel Edit",this);c.data={d:o,dA:O.SN.slice(0),Eq:O.m7.slice(0),G2:iX,PH:hV,jP:bv,$X:hl};
this.ZT(c.data,O);O.zw(c)}if(o==Q.cw){var bS=new cn(0,0,O.e,O.n),c=new gN(w.vZ,this);c.data={d:Q.cw,YI:O.B.slice(0),Q6:w.Q6,Gr:O.g.slice(0),Ou:w.$X};
O.zw(c);this.ZT(c.data,O);var hg=y.vz.q7(O);if(hg){c.data.i6=bS;c.data.Vc=hg}}if(o==Q.MF){var dZ=O.qH(null,w.q),j$=1e10;
if(dZ.length==0)return;if(O.B.length==dZ.length){alert("Project must have at least 1 layer");return}var cA=[];
for(var U=0;U<O.B.length;U++)if(dZ.indexOf(U)==-1)cA.push(O.B[U]);for(var U=0;U<dZ.length;U++)j$=Math.min(j$,dZ[U]);
j$=Math.max(j$-1,0);while(cA[j$].name=="</Layer group>")j$++;this.track({wV:"delete",g0:{classID:"Dlt",null:fE.xp("Lyr",!0)}});
var hC=new cn(0,0,O.e,O.n),c=new gN([6,31],this);c.data={d:Q.cw,YI:O.B.slice(0),Q6:cA,Gr:O.g.slice(0),Ou:[j$]};
O.zw(c);this.ZT(c.data,O);var ds=y.vz.Kb(O);if(ds){c.data.Vc=ds;c.data.i6=hC;y.vz.q7(O)}}if(o==Q.OR){if(!b.i(i_.Z4))return;
var c=new gN("Switch Layer Link",this);c.data={d:o,q:w.q};O.zw(c);this.ZT(c.data,O)}if(o==Q.ZV){var S=w.a0b?w.a0b:O.g,iK=0,ii=!1;
if(S.length==0)return;if(S.length==1&&O.B[S[0]].nT==0){alert(fr.get([15,7,5]));return}var hJ=[];for(var U=0;
U<O.B.length;U++){var ag=O.B[U].nT;hJ.push(ag);iK=Math.max(iK,ag)}var hr=-1,dN=-1;for(var U=0;U<S.length;
U++){var ag=O.B[S[U]].nT;if(ag==0)ii=!0;else if(hr==-1||hr==ag)hr=ag;else dN=ag}if(!ii)for(var U=0;U<S.length;
U++)O.B[S[U]].nT=0;else if(hr!=-1&&dN==-1)for(var U=0;U<S.length;U++)O.B[S[U]].nT=hr;else for(var U=0;
U<S.length;U++)O.B[S[U]].nT=iK+1;var dm=[];for(var U=0;U<O.B.length;U++){var ag=O.B[U].nT;if(dm[ag]==null)dm[ag]=0;
dm[ag]++}for(var U=0;U<O.B.length;U++){var ag=O.B[U].nT;if(dm[ag]==1)O.B[U].nT=0}var j_=hJ;hJ=[];for(var U=0;
U<O.B.length;U++){var ag=O.B[U].nT;hJ.push(ag);iK=Math.max(iK,ag)}var c=new gN(ii?[6,54,0]:[6,54,1],this);
c.data={d:Q.ZV,a53:j_,a3S:hJ};O.zw(c);this.ZT(c.data,O)}if(o==Q.Eb&&(w.q!=null||O.g.length!=0)||o==Q.lT){var ae=O.Dl(o==Q.Eb?w.q:Z,null,w.aru),c6;
if(o==Q.lT){var C=ae[0],jQ=C.add.SoLd.Idnt.v,cg=O.Se(jQ).clone();C.add.SoLd.Idnt.v=cg.QV=fO.ZU()+jQ.slice(8);
O.add.lnk2.push(cg)}if(o==Q.Eb){var ei={wV:"duplicate",g0:{classID:"null",null:fE.xp("Lyr",!0)}};if(w.IG){ae[0].EJ(w.IG);
ei.Nm={t:"TEXT",v:w.IG}}this.track(ei);w.a2H=w.q}o=Q.DQ;w.B=ae;w.MH=O;w.Ab=O}if(o==Q.DQ){var a5,gy,bL=w.MH,gf=w.Ab,gH=0,iF=0,gE=!1,fi,cI=0,df=0;
if(bL!=gf){console.log("ADDLAYERS different projs");var a5=new cn(0,0,bL.e,bL.n),gy=new cn(0,0,gf.e,gf.n),fx=[],dH=[];
for(var U=0;U<w.B.length;U++){var C=w.B[U];if(C.add.SoLd==null)continue;var jQ=C.add.SoLd.Idnt.v;if(fx.indexOf(jQ)==-1){fx.push(jQ);
dH.push(fO.ZU()+jQ.slice(8))}C.add.SoLd.Idnt.v=dH[fx.indexOf(jQ)];var gv=C.k1(bL);if(gv){bL.vw(gv);gf._T(gv)}}if(fx.length>0){if(gf.add.lnk2==null)gf.add.lnk2=[];
for(var U=0;U<fx.length;U++){var fz=bL.Se(fx[U]),cg=fz.clone();cg.QV=dH[U];gf.add.lnk2.push(cg)}}}var bv=gf.g.slice(0);
bv.sort(function(c,cB){return c-cB});var cA=gf.B.slice(0),hl=[],ke=-1;for(var U=0;U<bv.length;U++)ke=Math.max(ke,bv[U]);
if(w.a2H!=null)ke=w.a2H;var g0=bL.Ft();if(w.Bb){ke=w.Bb-1;var jJ=gf.B[w.Bb].pU();gH+=jJ.x;iF+=jJ.y}if(g0!=-1&&(bL!=gf||w.Bb)){var iG=bL.B[g0].pU();
gH-=iG.x;iF-=iG.y}var j2=gf.Wp();ke++;for(var U=0;U<w.B.length;U++){var r=w.B[U],cJ=r.add.artb;cA.splice(ke,0,r);
hl.push(ke);ke++;if(cJ){fi=!0;var eh=cJ.guideIndeces;if(eh){eh=eh.v;console.log(eh);for(var jd=0;jd<eh.length;
jd++){j2[0].push(bL.lX[eh[jd].v].slice(0));j2[1].push(cA.indexOf(r));gE=!0}}}}for(var U=0;U<w.B.length;
U++){var r=w.B[U];if(r.add.lsct==ht.z5){if(cI==0)df++;cI++}else if(r._N())cI--}if(df==1)hl=[ke-1];var c=new gN([6,0],this);
c.data={d:Q.cw,YI:gf.B.slice(0),Q6:cA,Gr:bv,Ou:hl};if(gE){c.data.Xa=[gf.Wp(),j2]}gf.zw(c);this.ZT(c.data,gf);
if(gH!=0||iF!=0)y.t7.DE(gf,gf.qH(),null,gH,iF);if(fi){c.data.i6=new cn(0,0,gf.e,gf.n);c.data.Vc=y.vz.Kb(gf);
y.vz.q7(gf)}}if(o==Q.a8L){var iv=w.q!=null?[w.q]:O.qH(),cA=O.B.slice(0);for(var U=0;U<iv.length;U++){var r=O.B[iv[U]].clone();
r.rv(O);cA.splice(iv[U],1,r)}var c=new gN([6,8],this);c.data={d:Q.cw,YI:O.B.slice(0),Q6:cA,Gr:O.g.slice(0),Ou:O.g.slice(0)};
O.zw(c);this.ZT(c.data,O)}if(o==Q.aj$){var cA=O.B.slice(0),r=cA[O.g[0]]=cA[O.g[0]].clone(),bV=r.add.lmfx,hm,jJ;
delete r.add.lmfx;var kn=O.g[0],f4=kn+1;if(r._N()){var hM=O.B[O.g[0]].Kn;jJ=hM.al$;hm=hM.fg;var B=O.root.KZ(kn);
kn=B.hD}else{jJ=r.rect;hm=x.$(jJ.v());x.Oj(r.buffer,hm,3)}var aA=eR.qu(bV,r.add.fxrp,hm,jJ,O,jJ).type;
for(var U=0;U<aN.order.length;U++){var gJ=aN.order[U],iJ=aA[gJ];iJ.reverse();for(var jd=0;jd<iJ.length;
jd++){var bA=iJ[jd],d=O.uV(),k4=U>7;if(gJ=="ebbl"){if(bA.VO||bA.ur){var bp=bA.VO?bA.VO:bA.ur;if(bA.VO)delete bA.VO;
else delete bA.ur;if(bA.ur||bA.ax)jd--}else if(bA.ax||bA.wq){var bp=bA.wq?bA.wq:bA.ax;if(bA.wq){delete bA.wq;
if(bA.ax)jd--}k4=!0}bA=bp}d.eI=bA._V;d.opacity=Math.round(255*bA.VB);d.buffer=bA.AJ;d.rect=bA.Py.clone();
d.rect.offset(jJ.x,jJ.y);if(gJ=="FrFX"){d.buffer=d.buffer.slice(0);x.Jm(bA.IX?bA.IX:bA.hF,d.buffer,3);
if(bA.IX){k4=!0;delete bA.IX;if(bA.hF)jd--}}d.fG=!k4;d.EJ(r.getName()+"'s "+fr.get(aN.names[U]));cA.splice(k4?kn:f4,0,d);
if(k4)f4++}}var c=new gN("Styles to Layers",this);c.data={d:Q.cw,YI:O.B.slice(0),Q6:cA,Gr:O.g.slice(0),Ou:[f4-1]};
O.zw(c);this.ZT(c.data,O)}if(o==Q.P9){var iv=O.qH(),cA=O.B.slice(0),it=new cn(0,0,O.e,O.n);for(var U=0;
U<iv.length;U++){var eS=O.B[iv[U]],jW=eS.Vd();eS.ah(!0);var hI=O.root.KZ(iv[U]);if(eS._N())continue;
if(hI==null)continue;var r=eS.clone();r.rv(O);var a8=hI.HW(O,!0),ct=O.B;O.i2([eS]);O.K();O.Uc();r.buffer=x.$(a8.v()*4);
x.xu(O.Hp(),it,r.buffer,a8);r.rect=a8;r.opacity=255;r.add.iOpa=255;r.eI="norm";r.K();r.Kn.Aa=!0;O.i2(ct);
if(r.add.lmfx)delete r.add.lmfx;r.D=r.u$=null;cA.splice(iv[U],1,r);r.ah(jW);eS.ah(jW)}var c=new gN([6,34],this);
c.data={d:Q.cw,YI:O.B.slice(0),Q6:cA,Gr:O.g.slice(0),Ou:O.g.slice(0)};O.zw(c);this.ZT(c.data,O)}if(o==Q.a27){var iv=O.qH(),cA=O.B.slice(0);
for(var U=0;U<iv.length;U++){var r=O.B[iv[U]],bn=r.add.TySh;if(bn==null)continue;var C=new bs(bn.GM,D.Yv),gc=x.p.Yr(km.z9(C,bn));
for(var hu in gc){var ks=gc[hu],bU=r.clone();delete bU.add.TySh;bU.N7=bU.N7|1<<4;bU.add.SoCo=JSON.parse(JSON.stringify(aN.bK[0]));
var a7=bU.add.SoCo.Clr.v;a7.Rd.v=parseInt(hu.slice(1,3),16);a7.Grn.v=parseInt(hu.slice(3,5),16);a7.Bl.v=parseInt(hu.slice(5,7),16);
var jm=new Q.G6;jm.j=x.p.aG(ks,!1);if(bU.add.vmsk!=null){bU.add.vmsk.avB();jm.concat(bU.add.vmsk)}bU.add.vmsk=jm;
bU.add.vstk=JSON.parse(JSON.stringify(aN.d_.default));bU.De();bU.h1(O);cA.splice(cA.indexOf(r),0,bU)}cA.splice(cA.indexOf(r),1)}var hl=O.g.slice(0);
for(var U=hl.length-1;U>=0;U--)if(hl[U]>=cA.length)hl.splice(U,1);var c=new gN([6,40],this);c.data={d:Q.cw,YI:O.B.slice(0),Q6:cA,Gr:O.g.slice(0),Ou:hl};
O.zw(c);this.ZT(c.data,O)}if(o==Q.aco){var h9=O.g.length;if(h9<2){alert("Select two or more layers.");
return}if(!O.qy())return;var bU=O.B[O.g[0]].clone(),cA=[];for(var U=0;U<O.B.length;U++)if(O.g.indexOf(U)==-1)cA.push(O.B[U]);
cA.splice(O.g[0],0,bU);for(var U=1;U<h9;U++)if(O.B[O.g[U]].rect.v()>2e6){alert("Blended areas are too large.");
return}for(var U=1;U<h9;U++){var r=O.B[O.g[U]],h1=r.rect.clone();h1.M0(1,1);var cB=x.$(h1.v()*4);x.xu(r.buffer,r.rect,cB,h1);
bU.extend(h1);var he=x.$(h1.v()*4);x.xu(bU.buffer,bU.rect,he,h1);var c=x.$(h1.v());x.Oj(cB,c,3);x.round(c,200);
x.Jm(c,cB,3);x.a.DP("norm",cB,h1,he,h1,h1,1);x.G0.Ua(he,c,h1);x.xu(he,h1,bU.buffer,bU.rect)}var c=new gN([2,10,0],this);
c.data={d:Q.cw,YI:O.B.slice(0),Q6:cA,Gr:O.g.slice(0),Ou:[O.g[0]]};O.zw(c);this.ZT(c.data,O)}if(o==Q.Gu){var cA=O.B.slice(0),hV=O.g.slice(0);
for(var U=0;U<cA.length;U++){var r=cA[U],g_=r.add.vmsk;if(r.XS()&&g_&&r.add.vstk.strokeEnabled.v&&!r.add.vstk.fillEnabled.v){var jK=g_.j,jF=0,bd=-1;
for(var jd=0;jd<jK.length;jd++){if((jK[jd].type==0||jK[jd].type==3)&&jK[jd].K$!=-1){jF++;if(jK[jd].type==3&&bd==-1){jK[jd].pa=jK[jd].K$=1;
bd=jd}}}if(jF>1&&bd!=-1&&jF<10){console.log("separating an open path into a new layer");r=r.clone();
g_=r.add.vmsk;jK=g_.j;var d=jK[bd].length,hc=r.clone();hc.add.lyid=O.JS();g_.j=jK.slice(0,2).concat(jK.slice(bd,bd+d+1));
g_.g=[];r.h1(O);r.K();var bt=hc.add.vmsk.j;hc.add.vmsk.j=bt.slice(0,bd).concat(bt.slice(bd+d+1,bt.length));
hc.add.vmsk.g=[];hc.h1(O);cA[U]=r;cA.splice(U+1,0,hc);for(var jd=0;jd<hV.length;jd++)if(hV[jd]>U)hV[jd]++;
var fo=hV.indexOf(U);if(fo!=-1){hV.splice(fo+1,0,U+1)}}}}if(cA.length!=O.B.length){var c=new gN("Splitting open paths",this);
c.data={d:Q.cw,YI:O.B.slice(0),Q6:cA,Gr:O.g.slice(0),Ou:hV};O.zw(c);this.ZT(c.data,O)}}if(o==Q.u2){this.s0({d:Q.Gu},M,O,b,D);
var bv=O.g.slice(0),ct=O.B.slice(0),iv=O.qH();if(iv.length==0)return;O.a0M(iv,!1,w.cq);var c=new gN([6,36,0],this);
c.data={d:Q.cw,YI:ct,Q6:O.B.slice(),Gr:bv,Ou:O.g.slice(0)};O.zw(c);this.ZT(c.data,O)}if(o==Q.axo){var e7=$.add.SoLd;
if(e7==null)return;var jQ=e7.Idnt.v,hO=O.Se(jQ);hO.Hp(!1);var eu=hO.vN[0],h1=hO.vN[1];if(x.pl(eu)){alert("The smart object contains transparency.");
return}var aw=ce.ti("jpg").WV([[eu.buffer]],h1.e,h1.n,[90]);this.s0({d:Q.Dq,_t:O,data:new Uint8Array(aw),id:jQ,cq:"jpg"},M,O,b,D);
console.log(O.add);return}if(o==Q.Dq){var fz=w._t.Se(w.id),cg=fz.clone();cg.raw=w.data;if(w.P_)cg.P_=w.P_;
if(w.cq){cg.fL="    ";cg.Gw="    ";cg.P_=cg.P_+"."+w.cq}else{cg.fL="8BIM";cg.Gw="8BPB";cg.P_=cg.P_+(cg.P_.endsWith(".psd")?"":".psd")}cg.Hp(!1);
fz.Hp(!1);var c=new gN([6,36,1],this);c.data={d:Q.Dq,id:w.id,ZF:fz,p1:cg};w._t.zw(c);this.ZT(c.data,w._t)}if(o==Q.Aw){var c=new gN([6,36,4],this);
c.data={d:o,q:Z,hR:$.add.SoLd.Impr.v.classID,XU:w.XU};O.zw(c);this.ZT(c.data,O)}if(o==Q.a8D){var g$,cv;
if(w.Ak){g$=w._t;cv=w.Ak}else{w._t._v();w._t.gI();w._t.K();w._t.Uc();w._t.Hp();g$=ce.ti("PSD").WV(w._t,0,0,[!0,!0]);
cv=w._t.name}if(!(g$ instanceof ArrayBuffer))throw"e";g$=new Uint8Array(g$);var jz=w.dp;if(jz==null){if(O.g.length==0)jz=O.g.length;
else{var cQ=O.g[O.g.length-1],d=O.B[cQ];jz=d._N()?cQ:cQ+1}}var el=new cn(0,0,O.e,O.n),j4=O.Ft();if(j4!=-1)el=O.B[j4].pU();
var e4=O.Xu(g$,cv,0,0,el,D.Yv,M),cA=O.B.slice(0);cA.splice(jz,0,e4);var c=new gN([6,36,2],this);c.data={d:Q.cw,YI:O.B.slice(),Q6:cA,Gr:O.g.slice(0),Ou:[cA.indexOf(e4)]};
O.zw(c);this.ZT(c.data,O)}if(o==Q.ne&&w.uj=="merge"){var gd=[],eb=O.root.children,br=0;for(var U=0;U<eb.length;
U++){var B=eb[U],r=B.q,fC=B.children,eU=!0;if(!r._N()||fC.length==0)continue;for(var jd=0;jd<fC.length;
jd++)if(!fC[jd].q.getName().startsWith("_a_")){eU=!1;break}if(eU)gd.push(O.B.indexOf(r))}var jO=[];for(var U=0;
U<gd.length;U++)if(O.g.indexOf(gd[U])!=-1)jO.push(gd[U]);if(jO.length>=2)gd=jO;if(gd.length<2){alert("At least two animation folders needed (whose layers start with \"_a_\").",3500);
return}var jP=[];for(var U=0;U<gd.length;U++)jP.push(O.B[gd[U]].getName());var iJ=[];for(var fm=0;fm<gd.length;
fm++){var B=O.root.KZ(gd[fm]),b9=[[],[],0,fm];iJ.push(b9);for(var U=0;U<B.children.length;U++){var T=B.children[U].index,r=B.children[U].q,jL=r.getName(),hj=20,cP=jL.split(",");
if(cP.length>1){var bh=parseInt(cP.pop());if(!isNaN(bh)&&bh!=0)hj=bh}b9[0].push(r);b9[1].push(hj);b9[2]+=hj}}iJ.sort(function(c,cB){return cB[2]-c[2]});
var fe=iJ[0],kq=fe[2];for(var a_=1;a_<iJ.length;a_++){var b9=iJ[a_],gl=1,cW=b9[1].slice(0),b_=0;while((gl+1)*b9[2]<=fe[2]){gl++;
cW=cW.concat(b9[1])}b9[1]=cW;b9[2]*=gl;var c7=fe[2]/b9[2];for(var U=0;U<b9[1].length;U++){var eg=Math.floor(b9[1][U]*c7);
b9[1][U]=eg;b_+=eg}while(b_<kq){b_++;b9[1][b9[1].length-1]++}b9[2]=b_}var gj=[],e5=[],eg=[];for(var U=0;
U<iJ.length;U++){gj.push(0);e5.push(0)}while(br<kq){var gg=1e9,jB=-1;for(var U=0;U<iJ.length;U++){var hw=iJ[U][1],kn=gj[U];
if(kn!=hw.length&&e5[U]+hw[kn]<br+gg){jB=U;gg=e5[U]+hw[kn]-br}}e5[jB]+=iJ[jB][1][gj[jB]];gj[jB]++;if(gg!=0){eg.push(gg);
br+=gg}}for(var U=1;U<eg.length;U++){var f1=eg[U];if(f1<16&&(eg[U-1]<16||U<eg.length-1&&16<=eg[U+1])){eg[U-1]+=f1;
eg.splice(U,1);U--}}var jW=[],it=new cn(0,0,O.e,O.n);for(var U=0;U<O.B.length;U++){jW[U]=O.B[U].Vd();
O.B[U].ah(!1)}var e2=O.g.slice(0);O.g=gd;var dZ=O.qH();dZ.sort(function(c,cB){return c-cB});var cA=[];
for(var U=0;U<O.B.length;U++){if(dZ.indexOf(U)==-1)cA.push(O.B[U])}iJ.sort(function(c,cB){return c[3]-cB[3]});
function a4(hw,dy){var U=0,jv=0;while(jv+hw[U]<=dy){jv+=hw[U];U++}return U}br=0;cA.splice(dZ[0],0,O.iB());
for(var fu=0;fu<eg.length;fu++){var g=[];for(var U=0;U<iJ.length;U++){var kn=a4(iJ[U][1],br)%iJ[U][0].length,r=iJ[U][0][kn];
g.push(r)}var r=O.uV();for(var U=0;U<iJ.length;U++){var fH=g[U],hi=O.B[gd[U]];fH.ah(!0);hi.ah(!0)}O.K();
O.Uc();var eu=O.Hp();r.rect=x.TO(eu,it,2);r.buffer=x.$(r.rect.v()*4);x.xu(eu,it,r.buffer,r.rect);for(var U=0;
U<iJ.length;U++){var fH=g[U],hi=O.B[gd[U]];fH.ah(!1);hi.ah(!1)}r.ah(fu==0);r.EJ("_a_frm"+fu+","+eg[fu]);
cA.splice(dZ[0]+1+fu,0,r);br+=eg[fu]}var r=O.uV();r.EJ(jP.join(" + "));r.eI="pass";r.add.lsct=ht.xe;
r.N7=24;cA.splice(dZ[0]+1+eg.length,0,r);for(var U=0;U<O.B.length;U++)O.B[U].ah(jW[U]);var c=new gN([6,12,0],this);
c.data={d:Q.cw,YI:O.B,Q6:cA,Gr:e2,Ou:[dZ[0]+1+eg.length]};O.zw(c);this.ZT(c.data,O)}if(o==Q.WL||o==Q.Fy){var h7=O.g.length==1,bG=!0,e4=null,hl;
if(h7&&O.g[0]==0)return;var ct=O.B.slice(0),bv=O.g.slice(0);if(h7)O.g=[Z,Z-1];if(o==Q.Fy){O.g=[];for(var U=0;
U<O.B.length;U++)if(O.B[U].Vd())O.g.push(U)}var iv=O.qH();iv.sort(function(c,cB){return c-cB});var d2=new cn,it=new cn(0,0,O.e,O.n);
for(var U=0;U<iv.length;U++){var T=iv[U],r=O.B[T];if(r._N()||r.getName()=="</Layer group>")continue;
bG=bG&&r.XS()&&r.add.vmsk!=null;d2=d2.MK(O.root.KZ(T).HW(O,!0))}if(bG){var g_=null;for(var U=0;U<iv.length;
U++){var d=O.B[iv[U]];if(d.rect.v()==0)continue;if(e4==null){e4=d.clone();g_=e4.add.vmsk}else{var d=O.B[iv[U]],bt=Q.G6.Zc(d.add.vmsk.j);
g_.j=g_.j.concat(bt.slice(2));e4.add.vogk=e4.add.vogk.concat(JSON.parse(JSON.stringify(d.add.vogk)))}}e4.add.vmsk.iD=!0;
e4.h1(O)}else if(it.Ar(d2)){e4=O.uV();e4.EJ(O.B[iv[iv.length-1]].getName());e4.rect=d2;e4.buffer=x.$(d2.v()*4);
var dD=O.add.artd;delete O.add.artd;var ja=O.Hp(iv);if(dD)O.add.artd=dD;x.xu(ja,it,e4.buffer,d2);e4.Sr();
e4.K()}else{O.a0M(iv,!0);e4=O.B[O.g[0]];O.B.splice(O.g[0],1);var gW=O.Se(e4.add.SoLd.Idnt.v);O.add.lnk2.splice(O.add.lnk2.indexOf(gW),1);
delete e4.add.SoLd}var kc=k,im=-1;if(w.g0&&w.g0.Dplc&&w.g0.Dplc.v)kc=!0;if(kc&&o==Q.Fy&&O.B[bv[0]].Ux()&&O.B[bv[0]].rect.S9()){im=bv[0]}if(im!=-1||h7){var eI=O.B[im!=-1?im:Z-1];
e4.EJ(eI.getName());e4.add.lclr=eI.add.lclr}var cA=[];for(var U=0;U<O.B.length;U++)if(kc||iv.indexOf(U)==-1)if(U!=im)cA.push(O.B[U]);
var dd=iv[iv.length-1],i2=dd==O.B.length-1?null:O.B[dd+1],de=i2?cA.indexOf(i2):cA.length;cA.splice(de,0,e4);
hl=[de];var c=new gN([6,12,0],this);c.data={d:Q.cw,YI:ct,Q6:cA,Gr:bv,Ou:hl};O.zw(c);this.ZT(c.data,O)}if(o==Q.as2){var bU=O.uV();
bU.rect=new cn(0,0,O.e,O.n);bU.buffer=x.$(bU.rect.v()*4);x.TZ(bU.buffer,4294967295);x.a.DP("norm",O.Hp(),bU.rect,bU.buffer,bU.rect,bU.rect,1);
bU.EJ("Background");bU.add.lspf=1<<2;var c=new gN([6,12,1],this);c.data={d:Q.cw,YI:O.B.slice(),Q6:[bU],Gr:O.g.slice(0),Ou:[0]};
O.zw(c);this.ZT(c.data,O)}var e9=o==Q.ej||o==Q.KP;if(o==Q.Nv||o==Q.Q0||o==Q.B1||o==Q.NF||e9){var r=e9?O.Dl()[0]:O.uV(),eo=fr.get([0,3]),cH=w.IG,kg=!1,dV,cS;
if(o==Q.B1)eo=fr.get([12,76,1]);if(e9){if(O.X){var eS=O.B[O.g[0]],et=eS.K4(O,O.X);if(et==null){alert("Copied area is empty");
return}r.rect=et.rect;r.buffer=et.bg;r.rv(O);r.ah(!0)}else cH=r.getName();r.add.lspf=0;r.fG=!1;if((r.N7&1)!=0)r.N7--}if(o==Q.NF){r.rect=y.yI.a8P(w.Ge,O);
r.buffer=w.Ge.buffer.slice(0);if(w.Qi&&O.X){r.D=new Q.MX;r.D.rect=O.X.rect;r.D.color=0;r.D.channel=O.X.channel.slice(0)}}if(o==Q.Nv){this.track({wV:"make",g0:{classID:"Mk",null:fE.xp("Lyr")}})}if(o==Q.Q0){r.N7|=16;
var aI=w.g0.Usng.v,bl=aI.Type.v,iS=a6.mI[bl.classID];eo=fr.get(a6.names[iS]);if(aI.Nm)cH=aI.Nm.v;r.add[iS]=ek.pp(iS);
if(r.add[iS]==null)r.add[iS]={};for(var cb in bl)r.add[iS][cb]=JSON.parse(JSON.stringify(bl[cb]));r.D=y.yI.aqQ(O);
r.cn=1}if(o==Q.B1){r.N7|=16;var a$=w.g0,aI=a$.Usng.v,jA=aI.Type.v,j6=aI.Shp;if(aI.Nm)cH=aI.Nm.v;if(j6==null){var eL=O.ff(),gc=eL[0],aQ=eL[1];
if(aQ.length!=0&&gc[aQ[0]].zS<0){var ai=gc[aQ[0]].add;r.add.vmsk=ai.vmsk.clone();r.add.vstk=JSON.parse(JSON.stringify(aN.d_.default));
r.add.vogk=JSON.parse(JSON.stringify(ai.vogk));O.xF=[]}else r.D=y.yI.aqQ(O)}else{console.log(aI);r.add.vmsk=new Q.G6;
r.add.vstk=JSON.parse(JSON.stringify(aI.strokeStyle?aI.strokeStyle.v:aN.d_.default));r.add.vogk=[];if(j6){var ci=x.lK.jv(j6);
if(ci){r.add.vogk=[ci];r.add.vmsk.j.push({type:0,K$:1,length:0});x.lK.OW(r.add.vogk,r.add.vmsk)}else{j6=j6.v;
var gm=j6.classID;if(gm=="Plgn"){var jS=j6.Cntr.v,iG=j6.corner.v;jS=new at(jS.Hrzn.v.val,jS.Vrtc.v.val);
iG=new at(iG.Hrzn.v.val,iG.Vrtc.v.val);r.add.vmsk.j=x.O.U_.vQ(jS.x,jS.y,Math.sqrt(iG.x*iG.x+iG.y*iG.y),Math.atan2(iG.y,iG.x),j6.sides.v,0)}else if(gm=="customShape"){var j7=x.lK.HI(j6),cO=j7[2]-j7[0],eP=j7[3]-j7[1],gZ=D.E9,iV,gt;
for(var U=0;U<gZ.length;U++)if(gZ[U].Xp==j6.Nm.v)iV=gZ[U];if(iV){gt=Q.G6.Zc(iV.j);x.O.I0(gt,new f$(cO,0,0,eP,j7[0],j7[1]))}else gt=x.O.U_.Rect(j7[0],j7[1],cO,eP,0);
r.add.vmsk.j=gt}r.De()}}}var jG={solidColorLayer:0,gradientLayer:1,patternLayer:2}[jA.classID],ef=["SoCo","GdFl","PtFl"][jG];
r.add[ef]=JSON.parse(JSON.stringify(aN.bK[jG]));y.yI.z8(jA,r.add[ef],jG);if(j6==null)eo=fr.get([6,48,0,jG]);
if(ef=="PtFl"){var ca=r.add[ef].Ptrn.v,cP=eR.BD(ca,D.SQ);if(cP==null)cP=eR.BD(ca,O.add.Patt);ca.Idnt.v=cP.id;
O.RI(cP)}r.h1(O)}var h9=y.yI.HE(O,eo+" ");r.EJ(eo+" "+(h9+1));if(cH)r.EJ(cH);var iz=O.g.length==0?O.B.length-1:O.g[O.g.length-1],ho=O.B[iz];
if(o==Q.B1&&ho.Ux()&&ho.rect.S9()){kg=!0;r.EJ(ho.getName());dV=iz}else{dV=iz+(o==Q.Nv&&t&&!E?0:1);if(ho&&ho.add.lsct==ht.cx)dV--}if(w.a8g)dV=Math.max(0,dV-1);
var cA=O.B.slice(0);if(o==Q.KP){var dK=cA[O.g[0]]=cA[O.g[0]].clone(),hB=O.X.channel.slice(0);x.ZW(hB);
x.cK(hB,O.X.rect,dK.buffer,dK.rect)}cA.splice(dV,kg?1:0,r);var an=[5,2];if(o==Q.Nv)an=[6,13];if(o==Q.Q0)an=[6,1];
if(o==Q.B1){an=[6,48,1];var j6=w.g0.Usng.v.Shp;if(j6){var aU={Rctn:[10,32],Ln:[10,35],Elps:[10,33],Plgn:[12,93,0],customShape:[10,31]}[j6.v.classID];
if(aU)an=aU}}if(e9){an=[6,49,o==Q.ej?0:1]}if(e9||o==Q.B1||o==Q.NF||o==Q.Q0)if(O.X)cS=[O.X,null];var c=new gN(an,this);
c.data={d:Q.cw,YI:O.B.slice(0),Q6:cA,Gr:O.g.slice(0),Ou:[dV],cV:cS};O.zw(c);this.ZT(c.data,O);if(o==Q.B1&&j6==null&&jG!=0||o==Q.Q0){var s=new aX(A.E.Z);
s.data={d:A.t.cf,IP:dh.mJ.IT};M.l(s)}}if(o==Q.ta){var r=O.uV(),eo=fr.get([0,4]),h9=y.yI.HE(O,eo+" ");
r.EJ(eo+" "+(h9+1));r.eI="pass";r.add.lsct=ht.cx;r.N7=24;if(w.IG)r.EJ(w.IG);if(w.JP!=null)r.add.lclr=w.JP;
var e$=O.iB(),iz=Z,dV=iz+(t?0:1),cA=O.B.slice(0);cA.splice(dV,0,e$,r);var c=new gN([6,20],this);c.data={d:Q.cw,YI:O.B.slice(0),Q6:cA,Gr:O.g.slice(0),Ou:[dV+1]};
O.zw(c);this.ZT(c.data,O)}if(o==Q.x7||o==Q.Vz){var d5=o==Q.x7?w.source:O.g[0],fI,ff,ak=O.g.indexOf(d5)!=-1,fS=k|w.a06,cX,gg=null;
if(ak)cX=O.qH();else cX=O.gR(d5);cX.sort(function(c,cB){return c-cB});if(o==Q.x7){fI=w.target;ff=w.lE>.5}else if(w.target!=null){fI=Math.min(w.target,O.B.length-1);
ff=w.target<O.B.length;O.Bd=!0}else{var aZ=w.uj;ff=aZ>1;if(aZ==0){fI=O.B.length-1}if(aZ==1){fI=cX[cX.length-1]+1;
var d=O.gR(fI);if(d.indexOf(d5)==-1)fI+=d.length-1}if(aZ==2){fI=cX[0]-1;var d=O.gR(fI);if(d.indexOf(d5)==-1)fI-=d.length-1}if(aZ==3){fI=0;
if(O.B[0].add.lnsr=="bgnd")fI++}if(fI<0||fI>O.B.length-1)return;O.Bd=!0}if(cX.indexOf(fI)!=-1&&!fS)return;
var jl=y.yI.df(O,cX,fI,ff,fS?O.Dl(ak?null:d5):null,o==Q.x7&&w.lE>.8),dS=jl.pop(),hV=jl.pop(),cA=jl.pop(),aj=O.g;
O.g=[d5];var g0=O.Ft();O.g=[fI];var hA=O.Ft();if(hA==fI&&!ff)hA=-1;O.g=aj;if(d5==g0){}else if(g0!=hA){var gg=new at(0,0);
if(g0!=-1){var h1=O.B[g0].pU();gg.x-=h1.x;gg.y-=h1.y}if(hA!=-1){var h1=O.B[hA].pU();gg.x+=h1.x;gg.y+=h1.y}}var c=new gN(fS?[6,0]:[6,35],this);
c.data={d:Q.cw,YI:O.B.slice(0),Q6:cA,Gr:O.g.slice(0),Ou:hV,e8:gg};O.zw(c);this.ZT(c.data,O);var a$={classID:"move",null:fE.xp("Lyr",!0),T:{t:"obj ",v:[{t:"indx",v:{classID:"Lyr",val:dS+(ff?0:1)}}]},Adjs:{t:"bool",v:!1},Vrsn:{t:"long",v:5},Dplc:{t:"long",v:fS}};
this.track({wV:"move",g0:a$})}if(o==Q.LQ){if(w.Aq){if($==null||!$._N())return;var B=O.root.KZ(Z),eB=O.B.indexOf(B.an1),cA=O.B.slice(0);
cA.splice(Z,1);cA.splice(eB,1);var hV=[];for(var U=eB;U<Z-1;U++)hV.push(U);var c=new gN("Ungroup Layers",this);
c.data={d:Q.cw,YI:O.B.slice(0),Q6:cA,Gr:O.g.slice(0),Ou:hV};O.zw(c);this.ZT(c.data,O)}else{var r=O.uV(),ep=fr.get([0,4])+" ";
r.EJ(ep+(y.yI.HE(O,ep)+1));r.eI="pass";if(w.IG)r.EJ(w.IG);if(w.JP!=null)r.add.lclr=w.JP;r.add.lsct=O.g.length==1?ht.cx:ht.xe;
r.N7=24;var e$=O.iB(),cX=O.qH();if(cX.length==0)return;cX.sort(function(c,cB){return c-cB});var cA=[];
for(var U=0;U<O.B.length;U++)if(cX.indexOf(U)==-1)cA.push(O.B[U]);var iz=O.g[O.g.length-1]-cX.length;
cA.splice(iz+1,0,e$);for(var U=0;U<cX.length;U++)cA.splice(iz+2+U,0,O.B[cX[U]]);cA.splice(iz+2+cX.length,0,r);
var c=new gN([6,9],this);c.data={d:Q.cw,YI:O.B.slice(0),Q6:cA,Gr:O.g.slice(0),Ou:[cA.indexOf(r)]};O.zw(c);
this.ZT(c.data,O);var H={wV:"make",e2:!0};H.g0={classID:"Mk",null:fE.xp("layerSection"),From:fE.xp("Lyr",!0),Usng:{t:"Objc",v:{classID:"layerSection",Nm:{t:"TEXT",v:r.getName()}}}};
this.track(H)}}if(o==Q.aks){if(O.g.length!=1)return;var jz=O.g[0],dj=k;if(O.B[jz].yo()==null&&!b.i(i_.v9)){o=Q.oT;
w.zU=O.X?!dj?"RvlS":"HdSl":!dj?"RvlA":"HdAl"}else{o=Q.rQ;w.a0k=!0}}if(o==Q.oT){if(O.g.length!=1)return;
var jz=O.g[0],r=O.B[jz];if(r.add.vmsk&&r.D==null)r.h1(O);var g5=r.yo();if(g5==null||w.a5H){var c=new gN([6,21],this),hT=new Q.MX,f_=w.zU,c$=f_=="RvlS"||f_=="HdSl";
if(f_=="RvlS"||f_=="HdAl"||f_=="Trns")hT.color=0;if(c$){hT.channel=O.X.channel.slice(0);hT.rect=O.X.rect.clone();
if(f_=="HdSl")x.ZW(hT.channel)}if(f_=="Trns"){hT.rect=r.rect.clone();hT.channel=x.$(r.rect.v());x.Oj(r.buffer,hT.channel,3)}c.data={d:Q.U3,me:[jz,g5,hT],cV:c$?[O.X,null]:null};
O.zw(c);this.ZT(c.data,O);O.B[jz].cn=1;this.track({wV:"make",g0:{__name:"Make",classID:"Mk",Nw:{t:"type",v:{classID:"Chnl"}},At:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Msk"}}]},Usng:{t:"enum",v:{UsrM:f_}}}})}}else if(o==Q.a6s){var ic=O.B[w.src],iQ=O.B[w.Kt],c=new gN([6,21],this),bD=ic.yo(),gO=iQ.yo(),kr=[w.src,bD,null,w.Kt,gO,bD];
if(k||E){var jL=bD.clone();if(k)kr=[w.Kt,gO,jL];else kr[5]=jL;if(E){x.ZW(jL.channel);jL.color=255-jL.color}}c.data={d:Q.U3,me:kr};
O.zw(c);this.ZT(c.data,O)}if(o==Q.RG){if(O.g.length!=1)return;var jz=Z,f6=O.B[jz].yo();if(f6!=null){var c=new gN([6,22],this);
c.data={d:Q.U3,me:[Z,f6,null]};O.zw(c);this.ZT(c.data,O)}}if(o==Q.xw){var ct=O.B.slice(0),bU=$.clone(),p=bU.yo();
x.cK(p.xQ(bU.rect),bU.rect,bU.buffer,bU.rect);y.yI.RW(O,bU);bU.Sr();O.B[O.g[0]]=bU;var c=new gN([5,8],this);
c.data={d:Q.cw,YI:ct,Q6:O.B.slice(),Gr:O.g.slice(0),Ou:O.g.slice(0)};O.zw(c);this.ZT(c.data,O)}if(o==Q.UE){if(O.g.length!=1)return;
var jz=O.g[0];if(O.B[jz].k1(O).D==null){var c=new gN([6,45],this);c.data={d:o,q:jz,D:new Q.MX};O.zw(c);
this.ZT(c.data,O)}}if(o==Q.mZ){if(O.g.length!=1)return;var jz=O.g[0];if(O.B[jz].k1(O).D!=null){var c=new gN([6,46],this);
c.data={d:o,q:jz,D:O.B[jz].k1(O).D};O.zw(c);this.ZT(c.data,O)}}if(o==Q.Pk){if(w.src==null&&O.g.length!=1)return;
if(w.src!=null)Z=w.src;if(O.B[Z].Kf()){var c=new gN([6,47],this),e7=JSON.stringify(O.B[Z].add.SoLd),dB=JSON.parse(e7);
delete dB.filterFX;c.data={d:Q.OY,O_:[{$0:Z,m$:[e7,JSON.stringify(dB)],U9:[O.B[Z].k1(O),null]}]};O.zw(c);
this.ZT(c.data,O)}}if(o==Q.rQ){if(O.g.length!=1)return;if($.add.vmsk==null){var c=new gN([6,23],this),jK=O.ff(),S=jK[1],jK=jK[0],hT,ci;
if(w.a0k&&S.length!=0){var ai=jK[S[0]].add;hT=ai.vmsk.clone();ci=ai.vogk}else{hT=new Q.G6;ci=[];hT.j[1].all=w.adV?0:1}c.data={d:o,q:Z,Id:!0,D:hT,lK:JSON.stringify(ci),d_:null};
if($.XS()){c.data.d_=JSON.stringify(aN.d_.default)}O.zw(c);this.ZT(c.data,O)}}if(o==Q.Tu){var ic=O.B[w.src],iQ=O.B[w.Kt];
if(iQ.add.vmsk)return;var c=new gN([6,23],this),g_=ic.add.vmsk;c.data={q:w.Kt,Id:ic.aB,D:g_.clone(),lK:JSON.stringify(ic.add.vogk),d_:ic.add.vstk?JSON.stringify(ic.add.vstk):null};
if(k){c.data.d=Q.rQ}else{c.data.d=o;c.data.src=w.src;c.data.Kt=w.Kt}O.zw(c);this.ZT(c.data,O)}if(o==Q.B8||o==Q.V_){if(O.g.length!=1)return;
var r=O.B[Z],g_=r.add.vmsk;if(g_!=null){var ir=o==Q.V_,c=new gN(ir?[6,8]:[6,24],this);c.data={d:Q.B8,q:Z,Id:r.aB,D:g_,lK:JSON.stringify(r.add.vogk),d_:r.add.vstk?JSON.stringify(r.add.vstk):null};
if(ir){c.data.u$=g_.yo(r.add.vstk)}O.zw(c);this.ZT(c.data,O)}}if(o==Q.aO){var c=new gN("Metadata",this);
c.data={d:o,Fv:JSON.stringify(O.At),mR:JSON.stringify(w.mR)};O.zw(c);this.ZT(c.data,O)}if(o==Q.t$){var fc=w.Kt?w.Kt:O,eZ=fc.name,cH=w.G+".psd";
if(eZ==cH)return;var c=new gN([6,37],this);c.data={d:o,aaD:eZ,IG:cH};if(w.a0V!=!0)fc.zw(c);this.ZT(c.data,fc)}if(o==Q.ne&&w.uj.endsWith("makeframes")){var ac=[],dg=w.uj.startsWith("make");
for(var U=0;U<O.g.length;U++){var T=O.g[U],r=O.B[T],fA=r.getName(),cT=fA.startsWith("_a_");if(dg==cT||r.add.lsct==ht.z5)continue;
var d$=dg?"_a_"+fA:fA.slice(3);ac.push([T,fA,d$,r.add.lnsr,null])}var c=new gN([6,37],this);c.data={d:Q.CS,I8:ac};
O.zw(c);this.ZT(c.data,O)}if(o==Q.CS){var eZ=$.getName(),cH=w.name.substring(0,255);if(eZ==cH)return;
var c=new gN([6,37],this);c.data={d:o,I8:[[Z,eZ,cH,$.add.lnsr,null]]};O.zw(c);this.ZT(c.data,O);this.track(fE.fl("Nm",{t:"TEXT",v:cH}))}if(o==Q.re){var eF=O.qH(),cL=[],jj=[];
for(var U=0;U<eF.length;U++){cL.push(O.B[eF[U]].add.lclr);jj.push(w.a5w)}var c=new gN([6,38],this);c.data={d:o,B:eF,a09:cL,JP:jj};
O.zw(c);this.ZT(c.data,O)}if(o==Q.GX){var c=O.history[O.gX];if(c!=null&&c.k==this&&c.data.d==o&&c.data.q==w.W_&&c.data.XU.q5==w.ra.q5)c.data.XU=w.ra;
else{c=new gN("Mask Density / Feather",this);c.data={d:o,q:w.W_,hR:O.B[w.W_].u6(w.ra.q5),XU:w.ra};O.zw(c)}this.ZT(c.data,O)}if(o==Q.dH){var fY=JSON.stringify(w.G),jX=JSON.parse(fY),c=O.history[O.gX];
if(c!=null&&c.k==this&&c.data.d==o&&c.data.l$==w.l$&&c.data.MV.join(",")==w.MV.join(",")){for(var U=0;
U<w.MV.length;U++)c.data.w3[U]=jX;if(c.data.g0&&jX.Gw!=0)y.yI.z8(jX.MJ,c.data.g0.T.v,jX.Gw-1)}else{c=new gN([11,6],this);
c.data={d:o,MV:w.MV,l$:w.l$,att:[],w3:[]};var jq=!1;for(var U=0;U<w.MV.length;U++){var T=w.MV[U],r=O.B[T],hH=w.l$?y.hw.PC(O,T):JSON.parse(JSON.stringify(r.add.vstk));
c.data.att.push(hH);c.data.w3.push(jX);if(JSON.stringify(hH)!=fY)jq=!0}if(!jq)return;O.zw(c);if(w.l$&&jX.Gw>0){var a$=c.data.g0={classID:"setd",null:fE.xp("contentLayer",!0),T:{t:"Objc",v:{}}},ef=["SoCo","GdFl","PtFl"][jX.Gw-1];
y.yI.z8(jX.MJ,a$.T.v,jX.Gw-1);this.track({wV:"set",g0:a$})}}if(w.l$&&jX.Gw==3)O.RI(eR.BD(jX.MJ.Ptrn.v,D.SQ));
if(!w.l$){var ap=jX.strokeStyleContent.v;if(ap.classID==aN.d_.SA[2])O.RI(eR.BD(ap.Ptrn.v,D.SQ))}this.ZT(c.data,O)}};
y.yI.df=function(w,M,O,b,D,o){var Z=w.B[O],$=[];if(D)$=w.B.slice(0);else for(var U=0;U<w.B.length;U++)if(M.indexOf(U)==-1)$.push(w.B[U]);
var k=$.indexOf(Z);if(o&&Z._N()&&Z.add.lsct==ht.xe)k-=w.gR(O).length-1;var E=[];for(var U=0;U<M.length;
U++){var t=k+(b?0:1)+U,c=D?D[U]:w.B[M[U]];$.splice(t,0,c);E.push(t)}return[$,E,k]};y.yI.z8=function(w,M,O){var b=[aN.J1,aN.JK,aN.KO][O];
if(M.classID==null)M.classID=["solidColorLayer","gradientLayer","patternLayer"][O];for(var U=0;U<b.length;
U++)if(w[b[U]])M[b[U]]=JSON.parse(JSON.stringify(w[b[U]]))};y.yI.aqQ=function(w){var M=new Q.MX;if(w.X!=null){M.color=0;
M.channel=w.X.channel.slice(0);M.rect=w.X.rect.clone()}return M};y.yI.le=function(w,M,O,b,D){var o=b.e/O.e,Z=b.n/O.n,$=b.e/2,k=b.n/2,E=x.p.zl(b).C;
for(var U=0;U<w.B.length;U++){var t=w.B[U],c=t.add.SoLd;if(c==null||c.Idnt.v!=M)continue;if(o!=1||Z!=1){var l=y.u.xT(c.nonAffineTransform),q=x.N.C9(l,b),d=new f$;
d.translate(-$,-k);d.scale(o,Z);d.translate($,k);var V=x.N.H9(q,x.N.iq(d)),L=E.slice(0);x.N.F(V,L);c.Trnf=y.u.KT(L);
c.nonAffineTransform=y.u.KT(L);if(x.vL.hC(c.warp.v)){var e=c.warp.v.bounds.v;e.Rght.v.val=b.e;e.Btom.v.val=b.n}}t.Gf(w,null,D)}w.K()};
y.yI.akZ=function(w,M,O){M.color=255-M.color;x.ZW(M.channel);M.iD=!0;w.h1(O);O.K()};y.yI.prototype.y3=function(w,M){var O=w.d,b=M.B[w.q];
M.Er=!0;if(O==Q.Dq){M.add.lnk2.splice(M.add.lnk2.indexOf(w.p1),1,w.ZF);y.yI.le(M,w.id,w.p1.vN[1],w.ZF.vN[1])}if(O==Q.Aw){b.add.SoLd.Impr.v.classID=w.hR;
b.Gf(M)}if(O==Q.jO){var D=JSON.parse(w.MV);for(var U=0;U<D.length;U++)M.B[D[U]].eI=w.Dj[U];M.K()}if(O==Q.d4){var D=JSON.parse(w.MV);
for(var U=0;U<D.length;U++)M.B[D[U]].opacity=w.Dj[U];M.K()}if(O==Q.d1){var D=JSON.parse(w.MV);for(var U=0;
U<D.length;U++)if(M.B[D[U]].add.lsct!=ht.z5)M.B[D[U]].add.lspf=w.Dj[U]}if(O==Q.By){var o=w.Oi,Z=w.asm;
delete b.add[o[0]];if(Z[0]!="----")b.add[Z[0]]=Z[1]}if(O==Q.Pa){b.add.iOpa=w.Dj;M.K()}if(O==Q.sb){for(var U=0;
U<w.MV.length;U++){var $=M.B[w.MV[U]];$.ah(!$.Vd())}M.K()}if(O==Q.ky){var k=b.yo();k.isEnabled=!k.isEnabled;
b.h1(M);M.K()}if(O==Q._o){var k=b.k1(M).D;k.isEnabled=!k.isEnabled;b.K();M.K()}if(O==Q.O5){var k=b.add.vmsk;
k.isEnabled=!k.isEnabled;if(!k.isEnabled){if(b.u$){b.D=b.u$;b.u$=null}else b.D=null}else if(b.D){b.u$=b.D;
b.D=null}b.h1(M);M.K()}if(O==Q.SR){b.fG=!b.fG;M.K()}if(O==Q.K3){b.add.lmfx.masterFXSwitch.v=!b.add.lmfx.masterFXSwitch.v;
b.Kn.Aa=!0;M.K()}if(O==Q.ag){b.add.SoLd.filterFX.v.enab.v=!b.add.SoLd.filterFX.v.enab.v;b.b5(M);M.K()}if(O==Q.sk){var E=w.index,t=b.add.lmfx[aN.IU[E[0]]].v[E[1]].v;
t.enab.v=!t.enab.v;b.Kn.Aa=!0;M.K()}if(O==Q.TM){var c=M.B[w.RE],l=M.B[w.kz],q=w.a9v,d=w.aif;if(q=="")delete c.add.lmfx;
else c.add.lmfx=JSON.parse(q);if(d=="")delete l.add.lmfx;else l.add.lmfx=JSON.parse(d);c.Kn.Aa=!0;l.Kn.Aa=!0;
M.K()}if(O==Q.ZO){var V=b.add.SoLd.filterFX.v.filterFXList.v[w.index].v;V.enab.v=!V.enab.v;b.b5(M);M.K()}if(O==Q.avb){b.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(w.ajc));
b.b5(M);M.K()}if(O==Q.h8){var k=b.yo();k.Jr=!k.Jr}if(O==Q.Bg){var k=b.add.vmsk;k.Jr=!k.Jr}if(O==Q.Hg){var L=JSON.parse(w.acf);
M.cU=L[0];M.nX=L[1]}if(O==Q.ER){var L=w.dA;for(var U=0;U<L.length;U+=2){var e=L[U],$=e>=0?M.B[e]:M.IB[-1-e];
$.add.vogk=JSON.parse(L[U+1]);x.lK.OW($.add.vogk,$.add.vmsk);if(e>=0)$.h1(M)}M.K()}if(O==Q.wM){b.add.artb=JSON.parse(w.a7n);
M.K();y.vz.ub(M,w)}if(O==Q.IC){M.X=w.jP;M.SN=w.dA.slice(0);M.m7=w.Eq.slice(0);M.uP=M.bN=!0}if(O==Q.OR){b.q_=!b.q_}if(O==Q.ZV){var H=w.a53;
for(var U=0;U<H.length;U++)M.B[U].nT=H[U]}if(O==Q.cw){if(w.e8)y.t7.DE(M,M.g,null,-w.e8.x,-w.e8.y);if(w.Gr)M.g=w.Gr;
if(w.cV)M.X=w.cV[0];M.C5=null;M.K();M.i2(w.YI);y.vz.ub(M,w);if(w.Xa)M.D8(w.Xa[0])}if(O==Q.U3){for(var U=0;
U<w.me.length;U+=3)y.yI.RW(M,M.B[w.me[U]],w.me[U+1]);if(w.cV){var j=w.cV[0];if(j==null)delete M.X;else M.X=j}}if(O==Q.UE){b.k1(M).D=null;
b.K();M.K()}if(O==Q.mZ){b.k1(M).D=w.D;b.K();M.K()}if(O==Q.OY){y.yI.a7i(M,w.O_,0)}if(O==Q.rQ){y.yI.L3(M,b,!0)}if(O==Q.Tu){y.yI.L3(M,M.B[w.Kt],w.D.isEnabled);
y.yI.WA(M,M.B[w.src],w)}if(O==Q.B8){if(w.u$)y.yI.RW(M,b,null);y.yI.WA(M,b,w)}if(O==Q.aO){M.At=JSON.parse(w.Fv)}if(O==Q.t$){M.name=w.aaD}if(O==Q.CS){for(var U=0;
U<w.I8.length;U++){var g=w.I8[U],$=M.B[g[0]];$.EJ(g[1]);if(g[3])$.add.lnsr=g[3];else delete $.add.lnsr}}if(O==Q.re){for(var U=0;
U<w.B.length;U++)M.B[w.B[U]].add.lclr=w.a09[U]}if(O==Q.dH){var K=w.att;for(var U=0;U<w.MV.length;U++){var $=M.B[w.MV[U]],a=K[U];
if(!w.l$)$.add.vstk=JSON.parse(JSON.stringify(a));else y.hw.TV($,JSON.parse(JSON.stringify(a)));$.v4(M)}M.K()}if(O==Q.GX){b.a6v(w.hR);
b.h1(M);M.K()}M.bN=!0};y.yI.prototype.ZT=function(w,M){var O=w.d,b=M.B[w.q];M.Er=!0;if(O==Q.Dq){M.add.lnk2.splice(M.add.lnk2.indexOf(w.ZF),1,w.p1);
y.yI.le(M,w.id,w.ZF.vN[1],w.p1.vN[1])}if(O==Q.Aw){b.add.SoLd.Impr.v.classID=w.XU;b.Gf(M)}if(O==Q.jO){var D=JSON.parse(w.MV);
for(var U=0;U<D.length;U++)M.B[D[U]].eI=w.XU;M.K()}if(O==Q.d4){var D=JSON.parse(w.MV);for(var U=0;U<D.length;
U++)M.B[D[U]].opacity=w.XU;M.K()}if(O==Q.d1){var D=JSON.parse(w.MV);for(var U=0;U<D.length;U++)if(M.B[D[U]].add.lsct!=ht.z5)M.B[D[U]].add.lspf=w.XU[U]}if(O==Q.By){var o=w.asm,Z=w.Oi;
delete b.add[o[0]];if(Z[0]!="----")b.add[Z[0]]=Z[1]}if(O==Q.Pa){b.add.iOpa=w.XU;M.K()}if(O==Q.sb){for(var U=0;
U<w.MV.length;U++){var $=M.B[w.MV[U]];$.ah(!$.Vd())}M.K()}if(O==Q.ky){var k=b.yo();k.isEnabled=!k.isEnabled;
b.h1(M);M.K()}if(O==Q._o){var k=b.k1(M).D;k.isEnabled=!k.isEnabled;b.K();M.K()}if(O==Q.O5){var k=b.add.vmsk;
k.isEnabled=!k.isEnabled;if(!k.isEnabled){if(b.u$){b.D=b.u$;b.u$=null}else b.D=null}else if(b.D){b.u$=b.D;
b.D=null}b.h1(M);M.K()}if(O==Q.SR){b.fG=!b.fG;M.K()}if(O==Q.K3){b.add.lmfx.masterFXSwitch.v=!b.add.lmfx.masterFXSwitch.v;
b.Kn.Aa=!0;M.K()}if(O==Q.ag){b.add.SoLd.filterFX.v.enab.v=!b.add.SoLd.filterFX.v.enab.v;b.b5(M);M.K()}if(O==Q.sk){var E=w.index,t=b.add.lmfx[aN.IU[E[0]]].v[E[1]].v;
t.enab.v=!t.enab.v;b.Kn.Aa=!0;M.K()}if(O==Q.TM){var c=M.B[w.RE],l=M.B[w.kz],q=w.arZ,d=w.aoA;if(q=="")delete c.add.lmfx;
else c.add.lmfx=JSON.parse(q);if(d=="")delete l.add.lmfx;else l.add.lmfx=JSON.parse(d);c.Kn.Aa=!0;l.Kn.Aa=!0;
M.K()}if(O==Q.ZO){var V=b.add.SoLd.filterFX.v.filterFXList.v[w.index].v;V.enab.v=!V.enab.v;b.b5(M);M.K()}if(O==Q.avb){b.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(w.a4a));
b.b5(M);M.K()}if(O==Q.h8){var k=b.yo();k.Jr=!k.Jr}if(O==Q.Bg){var k=b.add.vmsk;k.Jr=!k.Jr}if(O==Q.Hg){var L=JSON.parse(w.ait);
M.cU=L[0];M.nX=L[1]}if(O==Q.ER){var L=w.G2;for(var U=0;U<L.length;U+=2){var e=L[U],$=e>=0?M.B[e]:M.IB[-1-e];
$.add.vogk=JSON.parse(L[U+1]);x.lK.OW($.add.vogk,$.add.vmsk);if(e>=0)$.h1(M)}M.K()}if(O==Q.wM){b.add.artb=JSON.parse(w.so);
M.K();y.vz.F$(M,w)}if(O==Q.IC){M.X=w.$X;M.SN=w.G2.slice(0);M.m7=w.PH.slice(0);M.uP=M.bN=!0}if(O==Q.OR){b.q_=!b.q_}if(O==Q.ZV){var H=w.a3S;
for(var U=0;U<H.length;U++)M.B[U].nT=H[U]}if(O==Q.cw){var j=w.Q6,g=0,K;for(var U=0;U<j.length;U++){var $=j[U],a=$.add.lsct;
if(a==ht.z5)g++;else if(a==ht.cx||a==ht.xe)g--;if($.add.artb&&g!=0)K="Artboards can not be inside folders."}if(K){M.history.pop();
M.gX--;alert(K);return}y.vz.F$(M,w);if(w.Ou)M.g=w.Ou;if(w.cV)M.X=w.cV[1];M.C5=null;M.K();M.i2(w.Q6);
if(w.e8)y.t7.DE(M,M.g,null,w.e8.x,w.e8.y);if(w.Xa)M.D8(w.Xa[1])}if(O==Q.U3){for(var U=0;U<w.me.length;
U+=3)y.yI.RW(M,M.B[w.me[U]],w.me[U+2]);if(w.cV){var T=w.cV[1];if(T==null)delete M.X;else M.X=T}}if(O==Q.UE){b.k1(M).D=w.D;
b.cn=0;b.K();M.K()}if(O==Q.mZ){b.k1(M).D=null;b.cn=0;b.K();M.K()}if(O==Q.OY){y.yI.a7i(M,w.O_,1)}if(O==Q.rQ){y.yI.WA(M,b,w)}if(O==Q.Tu){y.yI.L3(M,M.B[w.src],w.D.isEnabled);
y.yI.WA(M,M.B[w.Kt],w)}if(O==Q.B8){y.yI.L3(M,b,w.D.isEnabled);if(w.u$)y.yI.RW(M,b,w.u$)}if(O==Q.aO){M.At=JSON.parse(w.mR)}if(O==Q.t$){M.name=w.IG}if(O==Q.CS){for(var U=0;
U<w.I8.length;U++){var C=w.I8[U],$=M.B[C[0]];$.EJ(C[2]);if(C[4])$.add.lnsr=C[4];else delete $.add.lnsr}}if(O==Q.re){for(var U=0;
U<w.B.length;U++)M.B[w.B[U]].add.lclr=w.JP[U]}if(O==Q.dH){var F=w.w3;for(var U=0;U<w.MV.length;U++){var $=M.B[w.MV[U]],m=F[U];
if(!w.l$)$.add.vstk=JSON.parse(JSON.stringify(m));else y.hw.TV($,JSON.parse(JSON.stringify(m)));$.v4(M)}M.K()}if(O==Q.GX){b.a6v(w.XU);
b.h1(M);M.K()}M.bN=!0};y.yI.HE=function(w,M){var O=0;for(var U=0;U<w.B.length;U++){var b=w.B[U].getName();
if(b.startsWith(M)){var D=b.slice(M.length).trim(),o=parseInt(D);if(!isNaN(o)&&o+""==D&&o>O)O=o}}return O};
y.yI.a7i=function(w,M,O){for(var U=0;U<M.length;U++){var b=M[U],D=w.B[b.$0];if(b.m$){D.add.SoLd=JSON.parse(b.m$[O])}if(b.U9){if(b.U9[1-O]!=null)w.vw(b.U9[1-O]);
if(b.U9[O]!=null)w._T(b.U9[O]);else D.cn=0}D.Gf(w)}};y.yI.a8P=function(w,M){var O=w.hL,b=w.rect.clone();
if(O!=null&&(O.x!=M.e||O.y!=M.n)){b.x=Math.floor((M.e-b.e)/2);b.y=Math.floor((M.n-b.n)/2)}else if(O==null){var D=new cn(0,0,M.e,M.n),o=M.Ft();
if(o!=-1)D=M.B[o].pU();b.x+=D.x;b.y+=D.y}return b};y.yI.a6W=function(w,M){if(M.u$)M.u$=null;else M.D=null;
M.h1(w);w.K();M.cn=0};y.yI.RW=function(w,M,O){var b=M.yo();if(b==null&&O==null)return;if(b)y.yI.a6W(w,M);
if(O==null)return;if(M.D)M.u$=O;else M.D=O;M.h1(w);w.K()};y.yI.L3=function(w,M,O){if(M.u$&&O){M.D=M.u$;
M.u$=null}else if(M.D&&O){M.D=null}delete M.add.vogk;delete M.add.vstk;delete M.add.vmsk;M.h1(w);M.aB=!1;
w.C5=[];w.K()};y.yI.WA=function(w,M,O){M.add.vogk=JSON.parse(O.lK);if(O.d_)M.add.vstk=JSON.parse(O.d_);
else delete M.add.vstk;M.add.vmsk=O.D.clone();if(M.D&&M.add.vmsk.isEnabled)M.u$=M.D;M.h1(w);M.aB=O.Id;
w.C5=[w.B.indexOf(M)];w.xF=[];w.K()};y.rn=function(){y.Ke.call(this,"Layer Styles",y.GY);this.ei=null;
this.k9=null;this.Tt=null;this.hx=[];this.NR=null};y.rn.prototype=new y.Ke;y.rn.prototype.s0=function(w,M,O,b,D){var o=w.q;
if(o==null)o=O.g[0];var Z=O.B[o],$=w.zS;if(this.ei==null){this.Tt=y.rn.vB(O,Z);this.ei=JSON.stringify(this.Tt);
if(Z.add.lmfx)this.k9=JSON.stringify(Z.add.lmfx)}if(Z.add.lmfx==null){Z.add.lmfx=JSON.parse(aN.default);
for(var U=0;U<aN.order.length;U++)Z.add.lmfx[aN.IU[U]]={t:"VlLs",v:[]}}if(w.d=="scaleeffects"){if(w.G=="confirm"||w.G=="cancel"){this.s0({d:w.G},M,O,b,D);
return}Z.add.lmfx=JSON.parse(this.k9);eR.$_(Z.add.lmfx,w.G/100)}else if(w.d=="changeprop"){var k=null;
if($!=0){var E=this.hx[$[0]];if(E==null)E=aN.hx[$[0]];E=JSON.parse(E);var t=Z.add.lmfx[aN.IU[$[0]]].v;
if(t[$[1]]==null)t[$[1]]={t:"Objc",v:E};k=t[$[1]].v;for(var c in E)if(k[c]==null)k[c]=E[c]}if(w.d=="changeprop"){if($==0){this.Tt[w.N5].v=w.G;
y.rn.dy(O,Z,this.Tt)}else if(w.N5=="lagl"){if(k.uglg&&k.uglg.v){O.qK(w.G.val);this.Tt.gagl.v.val=O.OO()}else k[w.N5].v=w.G}else if(w.N5=="Lald"){if(k.uglg.v){O.JJ(w.G.val);
this.Tt.as_=O.zd()}else k[w.N5].v=w.G}else if(($[0]==3||$[0]==8)&&(w.N5=="Clr"||w.N5=="Grad")){if(w.N5=="Clr"){k.Clr={t:"Objc",v:w.G};
delete k.Grad}if(w.N5=="Grad"){k.Grad={t:"Objc",v:w.G};delete k.Clr}}else{k[w.N5].v=w.G}if($!=0)this.hx[$[0]]=JSON.stringify(k)}if($!=0)if(k.Ptrn)O.RI(eR.BD(k.Ptrn.v,D.SQ))}else if(w.d=="setstl"){var l=w.G.Lefx;
if(l)eR.a6n(l,O,D.SQ);eR.a08(w.G,Z,null,O);this.Tt=y.rn.vB(O,Z)}else if(w.d=="st_dupsingle"){var q=Z.add.lmfx[aN.IU[w.QT[0]]].v;
if(q[w.QT[1]]==null)return;var d=JSON.parse(JSON.stringify(q[w.QT[1]]));q.splice(w.QT[1],0,d)}else if(w.d=="st_movsingle"){var V=w.QT[1],q=Z.add.lmfx[aN.IU[w.QT[0]]].v;
if(q[w.QT[1]]==null)return;var L=Math.max(0,Math.min(q.length-1,V+w.ako)),e=q[L];q[L]=q[V];q[V]=e}else if(w.d=="cancel"){if(this.k9==null)delete Z.add.lmfx;
else Z.add.lmfx=JSON.parse(this.k9);y.rn.dy(O,Z,JSON.parse(this.ei));this.ei=null;this.k9=null}else if(w.d=="confirm"){var H=JSON.stringify(Z.add.lmfx),j=new gN([11,6],this);
j.data={B:[o],_H:[this.k9],cz:[H],op:[this.ei],Mo:[JSON.stringify(this.Tt)]};O.zw(j);this.ei=null;this.k9=null;
if(H!=null){var g=JSON.parse(H);jb.cT(g);g.classID="Lefx";delete g.masterFXSwitch;var K=new aX(A.E.Lm);
K.Hb=!0;K.data={wV:"set",e2:!0};var a=fE.xp("Lyr",!0);a.v.splice(0,0,{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}});
K.data.g0={__name:"Set",classID:"setd",null:a,T:{t:"Objc",v:g}};M.l(K)}}else if(w.d=="st_copy"){this.NR=[this.ei,this.k9];
this.ei=null;this.k9=null}else if(w.d=="st_paste"||w.d=="st_clear"){if(w.d=="st_paste"&&this.NR==null)return;
var T=w.q!=null?[w.q]:O.g.slice(0),C=[],F=[],m=[],N=[];for(var U=0;U<T.length;U++){var Z=O.B[T[U]],v=y.rn.vB(O,Z);
C.push(Z.add.lmfx?JSON.stringify(Z.add.lmfx):null);m.push(JSON.stringify(v));if(w.d=="st_paste"){F.push(this.NR[1]);
N.push(this.NR[0])}else{F.push(null);v.lrMd.v=0;v.Opct.v.val=100;v.iOpa.v.val=100;v.blIf={v:[]};for(var h=0;
h<10;h++)v.blIf.v.push(0,0,255,255);N.push(JSON.stringify(v))}}var j=new gN([11,6],this);j.data={B:T,_H:C,cz:F,op:m,Mo:N};
this.ZT(j.data,O);O.zw(j);this.ei=null;this.k9=null}else{var P=this.Tt,g=null;if(w.d=="st_delsingle"){g=JSON.parse(this.k9);
g[aN.IU[w.QT[0]]].v.splice(w.QT[1],1);g=JSON.stringify(g)}if(g==null)delete Z.add.lmfx;else Z.add.lmfx=JSON.parse(g);
if(P!=null)y.rn.dy(O,Z,P);var j=new gN([11,6],this);j.data={B:[w.q],_H:[this.k9],cz:[g],op:[this.ei],Mo:[JSON.stringify(P)]};
O.zw(j);this.ei=null;this.k9=null}Z.Kn.Aa=!0;O.Er=!0;O.K()};y.rn.vB=function(w,M){if(M.add.iOpa==null)M.add.iOpa=255;
if(M.add.brst==null)M.add.brst=[1,1,1];var O=M._N()?["pass"].concat(gA.J5):gA.J5;return{lrMd:{v:O.indexOf(M.eI)},Opct:{v:{type:"#Prc",val:Math.round(M.opacity*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(M.add.iOpa*100/255)},t:"UntF"},blIf:{v:M.CQ.slice(0)},brst:{v:M.add.brst},gagl:{t:"UntF",v:{type:"#Ang",val:w.OO()}},as_:w.zd(),_N:M._N()}};
y.rn.dy=function(w,M,O){var b=M._N()?["pass"].concat(gA.J5):gA.J5;M.eI=b[O.lrMd.v];M.opacity=Math.round(O.Opct.v.val*255/100);
M.add.iOpa=Math.round(O.iOpa.v.val*255/100);M.CQ=O.blIf.v.slice(0);M.add.brst=O.brst.v.slice(0);w.qK(O.gagl.v.val);
w.JJ(O.as_)};y.rn.prototype.y3=function(w,M){for(var U=0;U<w.B.length;U++){var O=M.B[w.B[U]],b=w._H[U];
if(b==null)delete O.add.lmfx;else O.add.lmfx=JSON.parse(b);y.rn.dy(M,O,JSON.parse(w.op[U]));O.Kn.Aa=!0}M.Er=!0;
M.K()};y.rn.prototype.ZT=function(w,M){for(var U=0;U<w.B.length;U++){var O=M.B[w.B[U]],b=w.cz[U];if(b==null)delete O.add.lmfx;
else O.add.lmfx=JSON.parse(b);y.rn.dy(M,O,JSON.parse(w.Mo[U]));O.Kn.Aa=!0}M.Er=!0;M.K()};y.E8=function(){y.Ke.call(this,"Layer Comps",y.u3)};
y.E8.prototype=new y.Ke;y.E8.prototype.s0=function(w,M,O,b){var D=JSON.parse(JSON.stringify(O.en)),o=JSON.parse(JSON.stringify(O.en)),Z=null,$=null,k=null,E=-1,t=!1;
if(w.d=="delLC"){var c=y.E8.jQ(O.en,w.zS),l=O.en.lastAppliedComp?O.en.lastAppliedComp.v:0;o.list.v.splice(c,1);
if(l==w.zS)delete o.lastAppliedComp;Z="Delete Layer Comp"}if(w.d=="editLC"){var c=y.E8.jQ(O.en,w.zS),q=o.list.v[c].v;
if(w.IG!=null)q.Nm.v=w.IG;if(w.abJ!=null){var d=w.abJ,V=q.capturedInfo.v,L=V&(1<<d)-1;V=V>>d;if((V&1)==1)V--;
else V++;q.capturedInfo.v=(V<<d)+L}Z="Layer Comp properties"}if(w.d=="setLC"){y.E8.kJ(O);if(w.zS==0)delete o.lastAppliedComp;
else o.lastAppliedComp={t:"long",v:w.zS};Z="Switch Layer Comp";t=!0}if(w.d=="updLC"){y.E8.kJ(O);$=y.E8.ay0(O,w.zS);
k=y.E8.Y_(O,w.zS);o.lastAppliedComp={t:"long",v:w.zS};Z="Update Layer Comp";E=w.zS;t=!0}if(w.d=="addLC"){y.E8.kJ(O);
var e=1;for(var U=0;U<o.list.v.length;U++)e=Math.max(e,o.list.v[U].v.compID.v)+1;e+=Math.floor(Math.random()*1e4);
var H={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(o.list.v.length+1)},compID:{t:"long",v:e},capturedInfo:{t:"long",v:7}}};
o.list.v.push(H);o.lastAppliedComp={t:"long",v:e};Z="New Layer Comp";var j=y.E8.Y_(O,e);y.E8.EE(O,j,e)}var g=new gN(Z,this);
g.data={a6y:D,aeB:o,a0C:$,a2p:k,zS:E,My:t};this.ZT(g.data,O);O.zw(g)};y.E8.prototype.ZT=function(w,M){M.en=w.aeB;
M.Er=!0;if(w.a2p)y.E8.EE(M,w.a2p,w.zS);if(w.My){var O=M.en.lastAppliedComp?M.en.lastAppliedComp.v:0,b=y.E8.jQ(M.en,O),D=b==-1?null:M.en.list.v[b].v,o=D?D.capturedInfo.v:7;
y.E8.uB(M,O,o);M.K()}};y.E8.prototype.y3=function(w,M){M.en=w.a6y;M.Er=!0;if(w.a0C)y.E8.EE(M,w.a0C,w.zS);
if(w.My){var O=M.en.lastAppliedComp?M.en.lastAppliedComp.v:0,b=y.E8.jQ(M.en,O),D=b==-1?null:M.en.list.v[b].v,o=D?D.capturedInfo.v:7;
y.E8.uB(M,O,o);M.K()}};y.E8.kJ=function(w){if(w.en.lastAppliedComp!=null||!w.y5)return;var M=y.E8.Y_(w,0);
y.E8.EE(w,M,0);w.y5=!1};y.E8.HX=function(w,M,O){w.v.Hrzn.v+=M;w.v.Vrtc.v+=O};y.E8.jQ=function(w,M){var O=w.list.v;
for(var U=0;U<O.length;U++)if(O[U].v.compID.v==M)return U;return-1};y.E8.aoL=function(w){var M=w.layerSettings.v,D=null;
if(M.length==0)return;var O="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),b=M[0].v;
if(b.enab==null)b.enab={t:"bool",v:!0};if(b.Ofst==null)b.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}};
for(var U=0;U<M.length;U++){var o=M[U].v;if(D==null)D=JSON.parse(JSON.stringify(o));else for(var Z=0;
Z<O.length;Z++){var $=O[Z];if(o[$])D[$]=JSON.parse(JSON.stringify(o[$]))}M[U].v=JSON.parse(JSON.stringify(D))}};
y.E8.a89=function(w,M){var O=w.add.shmd.cmls,b=O.layerSettings.v;for(var D=0;D<b.length;D++){var o=b[D].v,Z=o.compList.v[0].v;
if(Z==M)return D}return-1};y.E8.aaH=function(w,M){var O=y.E8.a89(w,M);return O==-1?null:w.add.shmd.cmls.layerSettings.v[O].v};
y.E8.uB=function(w,M,O){for(var U=0;U<w.B.length;U++){var b=w.B[U],D=b.add.shmd.cmls;if(D==null)continue;
var o=D.layerSettings.v,Z=y.E8.aaH(b,M);if(Z==null){b.ah(!1);continue}if((O&1)!=0){if(Z.enab)b.ah(Z.enab.v);
else b.ah(!0)}if((O&2)!=0){if(Z.Ofst){var $=Z.Ofst.v,k=b.Op(w),E=Math.round($.Hrzn.v-k.x),t=Math.round($.Vrtc.v-k.y);
if(E!=0||t!=0)y.t7.DE(w,[U],null,E,t)}}if((O&4)!=0){if(Z.Lefx){var c=JSON.parse(JSON.stringify(Z.Lefx.v));
jb.pG(c);if(JSON.stringify(c)!=JSON.stringify(b.add.lmfx)){b.add.lmfx=c;b.Kn.Aa=!0}}else delete b.add.lmfx;
if(Z.blendOptions){var l=Z.blendOptions.v;if(l.Opct)b.opacity=Math.round(255*l.Opct.v.val/100);if(l.fillOpacity)b.add.iOpa=Math.round(255*l.fillOpacity.v.val/100);
if(l.Md)b.eI=b.add.lsct==ht.z5?"norm":gA.QI(l.Md.v.BlnM)}else{b.opacity=255;b.eI=b._N()?"pass":"norm";
b.add.iOpa=255}}}};y.E8.ay0=function(w,M){var O={};for(var U=0;U<w.B.length;U++){var b=w.B[U];if(b.add.shmd==null||b.add.shmd.cmls==null)continue;
O["l"+b.add.lyid]=JSON.parse(JSON.stringify(y.E8.aaH(b,M)))}return O};y.E8.Y_=function(w,M){var O={};
for(var U=0;U<w.B.length;U++){var b=w.B[U],D=b.add.lyid;O["l"+D]=y.E8.alX(w,b,M)}return O};y.E8.alX=function(w,M,O){var b=M.add.shmd?M.add.shmd.cmls:null,D={classID:"null"},o=M.Op(w),Z={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:o.x},Vrtc:{t:"long",v:o.y}}};
D.compList={t:"VlLs",v:[{t:"long",v:O}]};D.enab={t:"bool",v:M.Vd()};D.Ofst=JSON.parse(JSON.stringify(Z));
D.FXRefPoint=JSON.parse(JSON.stringify(b&&b.origFXRefPoint?b.origFXRefPoint:Z));D.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:gA.VK(M.eI)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*M.opacity/255}},fillOpacity:{t:"UntF",v:{type:"#Prc",val:M.add.iOpa!=null?100*M.add.iOpa/255:100}}}};
if(M.add.vmsk){D.vectorMask={t:"Objc",v:{classID:"null"}};D.vectorMask.v.Ofst=JSON.parse(JSON.stringify(Z))}if(M.add.lmfx){D.Lefx={t:"Objc",v:JSON.parse(JSON.stringify(M.add.lmfx))};
jb.cT(D.Lefx.v)}return D};y.E8.a7o=function(w,M){var O=M.add.lyid;if(M.add.shmd==null)M.add.shmd={};
if(M.add.shmd.cmls==null){M.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:O},layerSettings:{t:"VlLs",v:[{t:"Objc",v:y.E8.alX(w,M,0)}]}}}};
y.E8.EE=function(w,M,O){for(var U=0;U<w.B.length;U++){var b=w.B[U],D=b.add.lyid;y.E8.a7o(w,b);var o=b.add.shmd.cmls,Z=o.layerSettings.v,$=M["l"+D];
if($!=null)$={t:"Objc",v:JSON.parse(JSON.stringify($))};var k=y.E8.a89(b,O);if(k==-1){if($==null)continue;
else Z.push($)}else{if($==null)Z.splice(k,1);else Z[k]=$}}};y.E8.ir=function(w,M){for(var U=0;U<w.B.length;
U++){var O=w.B[U],b=O.add.lyid;if(O.add.shmd==null||O.add.shmd.cmls==null)continue;var D=O.Op(w),o=Math.round(D.x),Z=Math.round(D.y);
if(!M){o=-o;Z=-Z}var $=O.add.shmd.cmls,k=$.layerSettings.v;if($.origFXRefPoint)y.E8.HX($.origFXRefPoint,-o,-Z);
for(var E=0;E<k.length;E++){var t=k[E].v;y.E8.HX(t.Ofst,o,Z);var c=t.imageMask,l=t.vectorMask;if(c&&c.v.Ofst)y.E8.HX(c.v.Ofst,o,Z);
if(l&&l.v.Ofst)y.E8.HX(l.v.Ofst,o,Z)}}};y.xW=function(){y.Ke.call(this,"Adjust Edit",y.jZ);this.mR=null;
this.Xf=null};y.xW.prototype=new y.Ke;y.xW.S$=function(w,M,O,b){if(b)M/=4;var D=0,o=0,Z=255,$=0,k=0,E=255;
while(o+w[D]<M){o+=w[D];D++}while($+w[Z]<M){$+=w[Z];Z--}if(b){D-=Math.round(w[D]/(O/32));Z+=Math.round(w[Z]/(O/32));
if(D<0)k=Math.round(-D*255/(Z-D));if(Z>255)E=255-Math.round((Z-255)*255/(Z-D))}return[Math.max(D,0),Math.min(Z,255),k,E,100]};
y.xW.prototype.s0=function(w,M,O,b,D){var o=w.d;if(o=="auto"){var Z=w.lx,$=y.xW.getData(O);for(var U=0;
U<$.length;U++){var k=$[U],E;if(Z<3){}else{var t=ek.pp("hue2");a1.BI(t,0,[0,-100,0]);E=a6.kM("hue2",t)}a6.ly(E,k.bg,k.oF,k.xr)}y.xW.N2(O,$);
y.xW.Ni(O,$,Z<3?[4,16,Z]:[19,7,0],this);O.K()}if(o=="edit_layer")this.aln(w,M,O,b);if(o=="edit"||o=="confirm"||o=="cancel")this.hj(w,M,O,D,!0);
if(o=="start"){if(O.g.length==0)return;var c=O.B[O.g[0]];if(c.add.SoLd&&c.cn<=0&&O.m7.length==0){var l=new aX(A.E.s,!0);
l.k=y.kL;l.data={d:"start",nC:w.Sk,X$:w.X$};M.l(l);return}if(!O.qy(M,null,!0))return;if(_[w.Sk]&&w.X$==null){if(O.g.length!=1)alert("Will be applied to "+O.g.length+" layers.");
var l=new aX(A.E.Z,!0);l.data={d:A.t.JE,IP:"afw_"+w.Sk};M.l(l)}else{this.hj({d:"edit",X$:w.X$,nC:w.Sk},M,O,D);
this.hj({d:"confirm",nC:w.Sk},M,O,D)}}};y.xW.prototype.aln=function(w,M,O,b){var D=w.d,o=O.g[0],Z=O.B[o],$=a6.get(Z.add),k=JSON.parse(JSON.stringify(Z.add[$])),l;
for(var E in w.G)k[E]=w.G[E];var t=JSON.parse(JSON.stringify(k));for(var E in a6.mI)if(a6.mI[E]==$)t.classID=E;
var c=O.history[O.gX];if(c&&c.k==this&&c.data.hR!=null&&c.data.q==o)l=c;else{var q=new aX(A.E.Lm,!0),d={classID:"setd",null:fE.xp("AdjL",!0),T:{t:"Objc",v:t}};
q.data={e2:!0,wV:"set",g0:d};M.l(q);var l=new gN([6,39],this);l.data={q:o,hR:Z.add[$],XU:k,tk:d};O.zw(l)}l.data.XU=k;
l.data.tk.T.v=t;this.ZT(l.data,O)};y.xW.getData=function(w,M,O){var b=[],D=new cn(0,0,w.e,w.n),o=w.m7.length!=0?[-1-w.m7[0]]:w.g;
for(var U=0;U<o.length;U++){var Z=o[U],$=Z<0?null:w.B[Z],k={q:Z,O6:Z<0?1:$.cn};b.push(k);var E=w.SN[-1-Z];
if(0<=Z)E=$.cn<=0?null:$.cn==1?$.yo():$.k1(w).D;var t=E?E.rect:$.rect;if(w.X)k.xr=E!=null?w.X.rect.mX(D):w.X.rect.mX(t);
else k.xr=M||E!=null?t.MK(D):t.clone();if(O)k.xr=O[U].xr.clone();var c=k.xr.v();k.bg=x.$(c*4);if(E)y.fV.Vs(E.channel,E.rect,E.color,k.bg,k.xr);
else x.xu($.buffer,t,k.bg,k.xr);k.oF=k.bg.slice(0);if(w.X){k.me=x.$(c);x.CV(w.X.channel,w.X.rect,k.me,k.xr)}}return b};
y.xW.ank=function(w,M,O){if(M==null)return M;var b=a6.x0(w,M),o;if(b==-1)return M;var D=O.length>>>2,Z=x.mv(O),$=.001*D;
if(b==0||b==2)o=[[0,255,0,255,100],y.xW.S$(Z[1],$,D,b==2),y.xW.S$(Z[2],$,D,b==2),y.xW.S$(Z[3],$,D,b==2)];
if(b==1)o=[y.xW.S$(Z[0],$*.33,D,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]];var k=ek.pp("levl");
for(var U=0;U<4;U++)dM.BI(k,U,o[U]);return k};y.xW.ak5=function(w,M,O,b){var D,o;if(O.t=="name"){var Z=0;
for(var $=0;$<w.B.length;$++)if(w.B[$].getName()==O.v.val)Z=$;if(w==M&&Z==b.q){D=b.bg;o=b.xr}else{var k=w.B[Z];
D=k.buffer;o=k.rect}}else{o=new cn(0,0,w.e,w.n);D=w==M?b.cB:w.Hp()}return[D,o]};y.xW.prototype.hj=function(w,M,O,b){if(this.mR==null){if(w.nC=="aply")O.B[O.g[0]].extend(new cn(0,0,O.e,O.n));
this.mR=y.xW.getData(O,null,w.nC=="fade"?O.oO().data:null);if(w.nC=="aply"||w.nC=="matc")this.mR[0].cB=O.Hp()}if(w.d=="edit"){this.Xf=[w.nC,w.X$];
var D=this.mR[0],o=y.xW.ank(w.nC,w.X$,D.bg),Z=a6.kM(w.nC,o);if(w.nC=="fade"||w.nC=="matc"||w.nC=="aply")Z=w.X$;
if(Z!=null){for(var $=0;$<this.mR.length;$++){var k=this.mR[$];if(w.b2)x.U7(k.bg,k.oF);else if(w.nC=="fade"){var E=gA.QI(w.X$.Md.v.BlnM),t=w.X$.Opct.v.val/100,c=O.oO().data[$];
x.U7(c.bg,k.oF);if(E=="norm")x.a.LU(k.bg,k.xr,k.oF,k.xr,null,null,null,k.xr,t);else{var l=eR.GP();l.WU=!0;
for(var U=0;U<c.bg.length;U+=4)if(c.bg[U+3]!=k.bg[U+3]){l=null;break}x.a.DP(E,k.bg,k.xr,k.oF,k.xr,k.xr,t,l)}}else if(w.nC=="matc"){var q;
if(Z.noReference&&Z.noReference.v)q=k.bg;else{var d=Z.Srce.v,V=d[1].v.val,L=M.Zs,e=O;for(var U=0;U<L.length;
U++)if(L[U].name==V)e=L[U];var H=y.xW.ak5(e,O,d[0],k);q=H[0]}f8(k.bg,k.xr.e,k.xr.n,q,k.oF,[Z.Lght.v,Z.ClrR.v,Z.Fade.v,Z.neutralizeColor?Z.neutralizeColor.v:!1])}else if(w.nC=="aply"){Z=Z.With.v;
var j=Z.T.v,H=y.xW.ak5(O,O,j[1],k),q=H[0],g=H[1],K=Z.Clcl?Z.Clcl.v.Clcn:null,E=K?gA.QI(K):"norm",t=Z.Opct?Z.Opct.v.val/100:1,a=["RGB","Rd","Grn","Bl","Trsp"].indexOf(j[0].v.enum),o=Z.Invr&&Z.Invr.v;
if(o||a!=0){q=q.slice(0);if(o)x.anQ(q);if(a!=0){var T=x.$(g.v());x.Oj(q,T,a-1);if(a==4)x.ZW(T);for(var C=0;
C<3;C++)x.Jm(T,q,C)}}if(K=="Add"||K=="Sbtr"){var F=1/Z.Scl.v,m=Z.Ofst.v,N=K=="Add"?1:-1,v=new Uint8ClampedArray(k.oF.buffer);
for(var U=0;U<q.length;U+=4){v[U]=(k.bg[U]+N*q[U])*F+m;v[U+1]=(k.bg[U+1]+N*q[U+1])*F+m;v[U+2]=(k.bg[U+2]+N*q[U+2])*F+m}}else{var l=eR.GP();
l.WU=Z.PrsT&&Z.PrsT.v;k.oF.fill(0);k.oF.set(k.bg);x.a.DP(E,q,g,k.oF,k.xr,k.xr,t,l)}}else a6.ly(Z,k.bg,k.oF,k.xr)}y.xW.N2(O,this.mR)}}if(w.d=="cancel"){y.xW.af7(O,this.mR);
this.mR=null}if(w.d=="confirm"){var h={fade:[2,11],aply:[2,12],matc:[4,18]},P=h[w.nC];if(P==null)P=a6.names[w.nC];
var J=a6.x0(w.nC,this.Xf[1]);if(J!=-1)P=[4,16,J];y.xW.Ni(O,this.mR,P,this);this.mR=null;if(J==-1)y.xW.qB(M,this.Xf)}O.K()};
y.xW.qB=function(w,M){var O=M[0],b=M[1],D,o;if(a6.xa[O]){D=a6.xa[O];if(_[O])o=b}if(ek.xa[O]){D=ek.xa[O];
if(_[O])o=b}if(O=="fade"){D="fade";o=b}if(O=="matc"){D="matchColor";o=b}if(O=="aply"){D="applyImageEvent";
o=b}if(D==null)return;var Z=new aX(A.E.Lm,!0);Z.data={e2:!0,wV:D};if(o){o=JSON.parse(JSON.stringify(o));
o.classID="null";delete o.__name;Z.data.g0=o}w.l(Z)};y.xW.af7=function(w,M){y.xW.K9(w,M)};y.xW.Ni=function(w,M,O,b){for(var U=0;
U<M.length;U++){var D=M[U],o=w.B[D.q],Z=D.q<0?w.SN[-1-D.q]:D.O6<=0?null:D.O6==1?o.yo():o.k1(w).D;if(Z){Z.Sr();
Z.iD=!0;if(o)o.h1(w)}else{o.Sr();o.K()}delete D.oF;delete D.me}var $=new gN(O,b);$.data=M;w.zw($);w.Er=!0};
y.xW.N2=function(w,M,O){for(var U=0;U<M.length;U++){var b=M[U],D=w.B[b.q],o=O?b.bg:b.oF,Z=b.xr;if(b.O6==0){D.extend(Z);
if(b.me){x.xu(b.bg,Z,D.buffer,D.rect);x.a.LU(o,Z,D.buffer,D.rect,b.me,Z,0,Z,1)}else x.xu(o,Z,D.buffer,D.rect)}else{var $=b.q<0?w.SN[-1-b.q]:b.O6==1?D.yo():D.k1(w).D;
$.extend(Z);if(b.me){var k=x.$(Z.v()*4);x.U7(b.bg,k);x.a.LU(o,Z,k,Z,b.me,Z,0,Z,1);y.fV.M7(k,Z,$)}else y.fV.M7(o,Z,$);
$.iD=!0;if(D)D.h1(w)}if(D)D.K()}if(!O)y.xW.at6(w,M)};y.xW.K9=function(w,M){for(var U=0;U<M.length;U++){var O=M[U],b=w.B[O.q],D=O.xr,o=x.$(D.v()*4);
if(O.O6==0){x.xu(b.buffer,b.rect,o,D);b.extend(D);x.xu(O.bg,D,b.buffer,b.rect);b.Sr()}else{var Z=O.q<0?w.SN[-1-O.q]:O.O6==1?b.yo():b.k1(w).D;
y.fV.Vs(Z.channel,Z.rect,Z.color,o,D);Z.extend(D);y.fV.M7(O.bg,D,Z);Z.Sr();Z.iD=!0;if(b)b.h1(w)}O.bg=o;
if(b)b.K()}w.Er=!0};y.xW.at6=function(w,M){var O=y.xW.a46(w),b=~O;if(O==16777215)return;for(var U=0;
U<M.length;U++){var D=M[U],o=w.B[D.q],Z=D.xr;if(D.O6!=0)continue;o.extend(Z);var $=Z.x-o.rect.x,k=Z.y-o.rect.y,E=o.rect.e,t=new Uint32Array(D.bg.buffer),c=new Uint32Array(o.buffer.buffer);
for(var l=0;l<Z.n;l++)for(var q=0;q<Z.e;q++){var d=l*Z.e+q,V=(l+k)*E+(q+$);c[V]=c[V]&O|t[d]&b}o.Sr();
o.K()}w.K()};y.xW.a46=function(w){var M=w.P.$Y;return M[2]*16711680|M[1]*65280|M[0]*255};y.xW.prototype.y3=function(w,M){var O=M.B[w.q];
if(w.hR!=null)O.add[a6.get(O.add)]=w.hR;else y.xW.K9(M,w);M.K()};y.xW.prototype.ZT=function(w,M){var O=M.B[w.q];
if(w.hR!=null)O.add[a6.get(O.add)]=w.XU;else y.xW.K9(M,w);M.K()};y.U0=function(){y.Ke.call(this,"Filter Edit",y.kL);
this.mR=null;this.WH=null;this.d=null;this.Xf=null};y.U0.prototype=new y.Ke;y.U0.prototype.s0=function(w,M,O,b,D){if(w.d=="start"){if(O.g.length==0)return;
var o=O.B[O.g[0]];if(o.add.SoLd&&o.cn<=0&&O.m7.length==0){}else if(!O.qy(M,null,!0))return;var Z=w.nC;
if((_[Z]||ek.c[Z])&&w.X$==null){if(O.g.length!=1)alert("Will be applied to "+O.g.length+" layers.");
var $=new aX(A.E.Z,!0);$.data=y.U0.a9t(Z,this.LS(O,Z));M.l($)}else{var k={d:"edit",nC:Z,X$:w.X$,ET:this.LS(O)};
this.s0(k,M,O,b,D);k.d="confirm";delete k.X$;this.s0(k,M,O,b,D)}}if(w.d=="edit"||w.d=="cancel"||w.d=="confirm"){if(w.d=="edit")this.Xf=[w.nC,w.X$];
if(w.ET)this.as6(w,M,O,D);else this.aw3(w,M,O,D)}if(w.d=="applylast"&&this.Xf!=null){var k={d:"edit",nC:this.Xf[0],X$:this.Xf[1],ET:this.LS(O)};
this.s0(k,M,O,b,D);k.d="confirm";delete k.X$;this.s0(k,M,O,b,D)}};y.U0.a9t=function(w,M){var O=ek.c[w];
if(O)return{d:A.t.Mq,k:O,Mx:{ET:M}};else return{d:A.t.JE,IP:"afw_"+w,ET:M}};y.U0.prototype.LS=function(w,M){var O=w.B[w.g[0]],b;
if(O.add.SoLd&&O.cn<=0&&w.m7.length==0){b={q:w.g[0],index:0};if(O.add.SoLd.filterFX!=null){var D=O.add.SoLd.filterFX.v.filterFXList.v;
b.index=D.length;for(var U=0;U<D.length;U++)if(ek.aQ(D[U].v)==M&&ek.c[M])b.index=U}}return b};y.U0.prototype.as6=function(w,M,O,b){var D=O.B[w.ET.q],o=w.nC;
if(w.d=="edit"){if(this.d==null){var Z=ek.names[o];if(Z==null)Z=a6.names[o];if(o=="blendOptions")Z=[14,10];
this.d=new gN(Z,this);this.d.data={ET:w.ET,asi:JSON.parse(JSON.stringify(D.add.SoLd))}}if(!D.Kf()){D.add.SoLd.filterFX=ek._4();
this.d.data.U9=fO.amg(D.add.SoLd.placed.v);O._T(this.d.data.U9);D.Gf(O)}var $=D.add.SoLd.filterFX.v.filterFXList.v;
if($[w.ET.index]==null){$.push(ek.JF(o,b))}if(w.X$){$[w.ET.index].v.enab.v=w.b2!=!0;if(o=="blendOptions")$[w.ET.index].v.blendOptions.v=w.X$;
else $[w.ET.index].v.Fltr.v=w.X$}this.d.data.aiM=JSON.parse(JSON.stringify(D.add.SoLd));this.ZT(this.d.data,O)}if(w.d=="cancel"){if(this.d)this.y3(this.d.data,O);
this.d=null}if(w.d=="confirm"){if(this.d)O.zw(this.d);y.xW.qB(M,this.Xf);this.d=null}};y.U0.prototype.u8=function(w){return{o:w>>>16,w:w>>>8&255,L:w&255}};
y.U0.prototype.aw3=function(w,M,O,b){if(this.mR==null){var D=ek.zb(w.nC,w.X$);this.mR=y.xW.getData(O,D.x!=0||D.y!=0)}if(w.d=="edit"){var o=JSON.stringify(w.X$);
if((w.X$==null||o!=this.WH)&&w.b2!=!0)for(var U=0;U<this.mR.length;U++){var Z=this.mR[U],$={rect:Z.xr,buffer:Z.bg},k={rect:Z.xr,buffer:Z.oF};
if(w.nC=="Avrg"&&Z.me){$.buffer=Z.bg.slice(0);x.Rr(Z.me,$.buffer)}ek.ly(w.nC,$,w.X$,this.u8(b.Sw),this.u8(b.fj),k,[O.add.lnk2?O.add.lnk2:[],O.B[O.g[0]].yo(),O.SN,O.ff()]);
if(w.nC=="Avrg"&&Z.me){var E=Z.bg.length;for(var U=0;U<E;U+=4)Z.oF[U+3]=Z.bg[U+3]}this.WH=o}y.xW.N2(O,this.mR,w.b2)}if(w.d=="cancel"){y.xW.af7(O,this.mR);
this.mR=null;this.WH=null}if(w.d=="confirm"){y.xW.Ni(O,this.mR,ek.names[w.nC],this);this.mR=null;this.WH=null;
y.xW.qB(M,this.Xf)}O.K();O.Er=!0};y.U0.prototype.y3=function(w,M){if(w.ET){var O=M.B[w.ET.q];if(w.U9)M.vw(w.U9);
O.add.SoLd=JSON.parse(JSON.stringify(w.asi));if(O.Kf())O.b5(M);else{O.Gf(M);O.cn=0}}else y.xW.K9(M,w);
M.K();M.Er=!0};y.U0.prototype.ZT=function(w,M){if(w.ET){var O=M.B[w.ET.q];if(w.U9)M._T(w.U9);O.add.SoLd=JSON.parse(JSON.stringify(w.aiM));
if(O.Kf())O.b5(M);else O.Gf(M);if(!O.et())O.N7+=32}else y.xW.K9(M,w);M.K();M.Er=!0};var eM={vI:"0",rq:"1",pB:"2",dZ:"3",c$:"3.5",$i:"4",ab:"5",AX:"6",aV:"7",s:"8",gZ:"8.5",xZ:"8.8",H1:"9",NX:"10",Xo:"11",Lp:"12",eG:"13",Vh:"14",lt:"15",nq:"16",Ih:"21",Nk:"22",Wo:"23",DK:"23.0",og:"23.1",nL:"23.2",B$:"23.3",XK:"23.4",ts:"23.5",sP:"23.6",awD:"30",tZ:"31",fr:"40",pL:"41",tn:"42"};
eM.Ru={};eM.Ru[eM.rq]=["abr","brushes",dc,[9,3]];eM.Ru[eM.pB]=["grd","gradients",g7,[12,37]];eM.Ru[eM.dZ]=["shc","contours",gS,[12,21]];
eM.Ru[eM.c$]=["acv","curves",bW,"Curves"];eM.Ru[eM.$i]=["asl","styles",en,[12,22]];eM.Ru[eM.ab]=["pat","patterns",gF,[12,62]];
eM.Ru[eM.AX]=["csh","shapes",dL,[12,77]];eM.Ru[eM.aV]=["aco","swatches",eO,[9,8]];eM.Ru[eM.s]=["atn","actions",b1,[9,9]];
eM.Ru[eM.gZ]=["tpl","tpresets",jT,[9,12]];eM.Ru[eM.xZ]=["icc","profiles",iA,"ICCs"];function gN(w,M,O){if(O==null)O=!1;
this.name=w;this.k=M;this.BH=O;this.data=null;this.aiW=Date.now()}var fE={};fE.xp=function(w,M){var O={t:"Clss",v:{classID:w}};
if(M)O={t:"Enmr",v:{classID:w,typeID:"Ordn",enum:"Trgt"}};return{t:"obj ",v:[O]}};fE.fl=function(w,M){var O={classID:"Lyr"};
O[w]=M;return{wV:"set",g0:{classID:"null",null:fE.xp("Lyr",!0),T:{t:"Objc",v:O}}}};fE.asW=function(w,M,O,b,D){var o=new aX(A.E.Lm,!0),Z=[],U=0,$=fE.jc(M,O,b,Z);
while(Z.length!=0){var k=Z.pop();U++;if(!k.R)continue;console.log(U-1);if(k.wV=="conditional"){var E=w.B[w.g[0]],t=k.g0.null.v.Cndt,c=!1;
if(t=="Bckg")c=!1;else if(t=="Pxel"&&w.D_(!1))c=!0;else if(t=="Adjs"&&a6.get(E.add))c=!0;else if(t=="Shp"&&E.add.vogk)c=!0;
else if(t=="Grup"&&E._N())c=!0;else if(t=="Opn"&&w!=null)c=!0;else if(t=="32Bt")c=!1;else if(t=="RGB")c=!0;
var l=k.g0.then,q=k.g0.else;if(c&&l)fE.jc(M,l.v[0].v.val,l.v[1].v.val,Z);if(!c&&q)fE.jc(M,q.v[0].v.val,q.v[1].v.val,Z)}else if(k.wV=="stop"){if(k.g0.Cntn&&k.g0.Cntn.v==!0)window.confirm(k.g0.Msge.v);
else{alert(k.g0.Msge.v);break}}else if(k.wV=="play"){var d=k.g0.null.v,V=new aX(A.E.Z,!0);V.data={d:A.t.Y6,vt:[d[0].v.val,d[1].v.val]};
D.l(V)}else{o.data={wV:k.wV,g0:k.g0};D.l(o)}}};fE.jc=function(w,M,O,b){var D;for(var U=0;U<w.length;
U++){if(w[U].vZ!=O)continue;var o=w[U].iu;for(var Z=0;Z<o.length;Z++){if(o[Z].vZ!=M)continue;D=o[Z].iu}}var $=D.length;
for(var U=0;U<$;U++)b.push(D[$-1-U])};fE.a6d=function(w){var M=w.wV,O=w.g0,b,Z,$,k,E;if(O&&O.null)b=O.null.v[0];
if(O&&b==null&&O.At)b=O.At.v[0];if(b&&b.t=="obj ")b=b.v[0];var D=b?b.v.classID:null,o=["purge"];if(o.indexOf(M)!=-1)return M[0].toUpperCase()+M.slice(1);
if(M=="GEfc"||M=="paintDaubs")return gM.names[O.GEfk.v.GEft][1];E=a6.xa;for(Z in E)if(E[Z]==M)$=Z;E=ek.xa;
for(Z in E)if(E[Z]==M)k=Z;if($){var t=a6.x0($,O);if(t!=-1)return[4,16,t];return a6.names[$]}if(k)return ek.names[k];
var c=fE.arK;if(M=="make"){if(b){if(D=="AdjL")return[6,1];else if(D=="layerSection")return O.From?[6,9]:[6,20];
else if(D=="Lyr")return[6,13];else if(D=="Chnl"&&b.v.enum=="Msk")return[6,2];else if(D=="contentLayer")return[6,48,1];
else if(D=="BckL")return"Make Background Layer";else if(D=="Path")return"Make Path";else if(D=="TxLr")return"Make Text Layer";
else if(D=="slice")return"Make Slices"}if(O.Nw){D=O.Nw.v.classID;if(D=="Dcmn")return[11,7];else if(D=="Chnl"||D=="SCch")return"New Channel"}}else if(M=="deselect"){if(D=="Path")return"Deselect current path";
else throw D}else if(M=="select"){if(D=="Chnl")return"Select "+(b.v.enum=="Msk"?"Mask ":"")+"Channel";
else if(D=="Mn")return"Select Panel \""+b.v.enum+"\"";else if(D=="Lyr"){if(b.t=="Enmr")return"Select "+{Bckw:"Backward",Frwr:"Forward",Back:"Back",Frnt:"Front"}[b.v.enum]+" Layer";
return"Select Layer \""+b.v.val+"\""}else if(D=="Path")return"Select Path";else if(D=="Brsh")return"Select Brush";
else if(D=="Dcmn")return"Select Document"}else if(c[M]&&D=="Chnl"){var l=b.v.keyID=="fsel";return c[M]+" "+(l?"Selection":"Channel")}else if(M=="set"){if(D=="Lyr")return"Set Current Layer";
else if(D=="AdjL")return[6,39];else if(D=="contentLayer")return[6,48,2];else if(D=="Prpr"){var q=b.v.keyID;
if(q=="TxtS")return"Set Text Style";else if(q=="paragraphStyle")return"Set Paragraph Style";else if(q=="Lefx")return[11,6];
else console.log(q)}else if(D=="Clr")return"Set "+(b.v.keyID=="FrgC"?"Foreground":"Background")+" color";
else if(D=="Brsh")return"Set Brush";else console.log(D)}else if(M=="move"){if(D=="Lyr")return"Move Layer";
else if(D=="Chnl"&&b.v.keyID=="fsel")return[7,7];else console.log(D)}else if(M=="show"||M=="hide"){var d="";
if(D=="Lyr")+"Layer";if(D=="Chnl")+"Channel";return(M=="show"?"Show":"Hide")+" "+d}else if(M=="reset"){if(D=="Clr")return"Reset Colors"}else if(M=="exchange"){if(D=="Clr")return[22,7,0]}else if(M=="rotateEventEnum")return[2,5];
else if(M=="flip"){var V=O.Axis.v.Ornt=="Hrzn";return[[2,6],[22,4,V?2:3]]}if(D=="Chnl"){if(M=="duplicate"){if(b.v.keyID=="fsel")return"Selection to Channel";
else return"Duplicate Channel"}if(M=="delete")return"Delete Channel"}if(M=="transform")return b&&b.v.keyID=="fsel"?[7,10]:[10,16];
var L={cut:[5,0],copyEvent:[5,1],copyToLayer:[6,49,0],cutToLayer:[6,49,1],copyMerged:[5,7],paste:[5,2],close:[1,12,0],save:[1,2],groupEvent:[6,18],ungroup:[6,19],duplicate:[6,0],mergeLayersNew:[6,12,0],mergeVisible:"Merge Visible",flattenImage:[6,12,1],updatePlacedLayer:[6,36,1],fade:[2,11],applyImageEvent:[2,12],matchColor:[4,18],fill:[2,3],colorRange:[7,8],desaturate:[19,7,0],delete:O?D=="Lyr"?[6,31]:"Delete Path":[2,2],align:[20,4,0],applyLocking:[6,57,1],crop:[11,12,1],placedLayerEditContents:"Edit Contents",convertMode:"Convert Mode",newPlacedLayer:[6,7,0],selectNoLayers:"Deselect Layers",canvasSize:[11,3],imageSize:[11,10],rasterizeLayer:[6,8],revealAll:[11,12,2],collapseAllGroupsEvent:"Collapse All Groups",conditional:"If"},e=L[M];
if(e==null)e=fE.alU[M];if(e)return e;return M};fE.alU={border:[7,9],smoothness:[19,3,0],expand:[7,4],contract:[7,5],feather:[7,6],inverse:[7,2]};
fE.arK={set:"Set",add:"Add Transparency",addTo:"Add To",subtract:"Subtract Transparency",subtractFrom:"Subtract From",interfaceIconFrameDimmed:"Intersect Transparency",interfaceWhite:"Intersect With"};
fE.a2r=function(w,M,O,b){var D=w.wV,o=w.g0,Z=!1,$=new aX(A.E.s,!0),t,c,l,q;$.k=y.YH;var k=new aX(A.E.Z,!0),E=["purge","updatePlacedLayer","convertMode","convertToProfile"];
if(E.indexOf(D)!=-1)return;q=a6.xa;for(t in q)if(q[t]==D)c=t;q=ek.xa;for(t in q)if(q[t]==D)l=t;if(D=="fade")c=D;
if(D=="matchColor")c="matc";if(D=="applyImageEvent")c="aply";if(c){$.k=y.jZ;$.data={d:"start",Sk:c,X$:o}}else if(l){$.k=y.kL;
$.data={d:"start",nC:l,X$:o}}else if(D=="GEfc"||D=="paintDaubs"){$.k=y.kL;$.data={d:"start",nC:"GEfc",X$:o}}else if(D=="imageSize"||D=="canvasSize"||D=="revealAll"||D=="trim"||D=="crop"){$.k=y.xB;
$.data={d:"fromAction",Ci:w}}else if(D=="fill"||D=="stroke"||D=="delete"&&o==null){$.k=y.rq;$.data={d:"fromAction",Ci:w}}else if(D=="colorRange"){$.k=y.P$;
$.data={d:"fromAction",Ci:w}}else if(fE.alU[D]||fE.arK[D]&&(!1||o.With&&o.With.v[0].v.keyID=="fsel"||o.From&&o.From.v[0].v.keyID=="fsel"||o.null&&o.null.v[0].v.keyID=="fsel"||o.T.v[0]&&o.T.v[0].v.keyID=="fsel")){$.k=y.P$;
$.data={d:"fromAction",Ci:w}}var d={copyToLayer:Q.ej,cutToLayer:Q.KP,mergeLayersNew:Q.WL,rasterizeLayer:Q.a8L,mergeVisible:Q.Fy,flattenImage:Q.as2,newPlacedLayer:Q.u2};
if(d[D])$.data={d:d[D],g0:o};if($.data){M.l($);return}if(D=="collapseAllGroupsEvent"){for(var U=0;U<b.B.length;
U++){var V=b.B[U];if(V._N())V.add.lsct=ht.xe}b.bN=!0;return}if(D=="desaturate"){$.k=y.jZ;$.data={d:"auto",lx:3};
if(b&&b.B[b.g[0]].add.SoLd==null)M.l($);return}if(D=="close"){if(o.Svng.v.YsN=="Ys"){k.data={d:A.t.Lq};
M.l(k)}k.data={d:A.t.v5,OH:b};M.l(k);return}if(D=="save"){k.data={d:A.t.Lq};M.l(k);return}if(D=="copyMerged"){k.data={d:A.t.Me,KM:!0,NU:!0};
M.l(k);return}var d={placedLayerEditContents:A.t.aos,copyEvent:A.t.Me,paste:A.t._f};if(d[D])k.data={d:d[D],NU:!0};
if(k.data){M.l(k);return}console.log(D,o);var L=o.null?o.null.v:null,e=L?L[0].v.classID:"";if(D=="make"){if(o.null==null&&o.Nw)e=o.Nw.v.classID;
if(e=="AdjL"){$.data={d:Q.Q0,g0:o}}else if(e=="layerSection"){$.data=o.From?{d:Q.LQ}:{d:Q.ta};if(o.Usng){var H=o.Usng.v;
if(H.Nm)$.data.IG=H.Nm.v;if(H.Clr)$.data.JP=fE.fW(H)}}else if(e=="Lyr"){if(o.Usng&&o.Usng.v.length==2)$.data={d:Q.aj$};
else{$.data={d:Q.Nv};if(o.Usng)$.data.IG=o.Usng.v.Nm.v;if(o.below&&o.below.v)$.data.a8g=!0}}else if(e=="Chnl"&&o.At&&o.At.v[0].v.enum=="Msk"){$.data={d:Q.oT,zU:o.Usng.v.UsrM}}else if(e=="Chnl"||e=="SCch"){$.data={d:Q.IC,uj:"fromAction",G:w}}else if(e=="contentLayer"){$.data={d:Q.B1,g0:o}}else if(e=="BckL"){b.B[b.g[0]].ali();
return}else if(e=="Dcmn"){var j=o.Nw.v;k.data={d:A.t.$s,_t:fO.adO(j,O)}}else if(e=="Ptrn")k.data={d:A.t.EW,I8:0};
else if(e=="Path"){$.k=y.uM;$.data={d:"pathedit",uj:"fromsel"}}else if(e=="TxLr"){$.k=y.hY;$.data={d:"fromAction",Ci:w}}else if(e=="slice"){$.k=y.In;
$.data={d:"fromAction",Ci:w}}else{console.log(D,e,o);throw"e"}}else if(D=="deselect"){if(e=="Path"){b.xF=[];
b.bN=b.uP=!0;return}else throw e}else if(D=="selectNoLayers"){b.g=[];b.Er=!0}else if(D=="select"){var K={PcTl:y.jz,PbTl:y.rq,moveTool:y.R6,cloneStampTool:y._e,typeCreateOrEditTool:y.hY,artboardTool:y.zO,marqueeRectTool:y.P$,typeVerticalCreateOrEditTool:y.Qn,perspectiveCropTool:y.ew,marqueeEllipTool:y.axS,eyedropperTool:y.Am,eraserTool:y.aC,pathComponentSelectTool:y.uM,lassoTool:y.J6,backgroundEraserTool:y.ahN,directSelectTool:y.bX,polySelTool:y.aus,rectangleTool:y.S7,magneticLassoTool:y.abY,gradientTool:y.ag6,quickSelectTool:y.vj,bucketTool:y.a3N,ellipseTool:y.LC,magicWandTool:y.Vl,blurTool:y.xG,polygonTool:y.pM,cropTool:y.xB,sharpenTool:y.BQ,lineTool:y.hu,sliceTool:y.In,smudgeTool:y.mH,customShapeTool:y.D6,sliceSelectTool:y.bP,dodgeTool:y.DM,spotHealingBrushTool:y._b,burnInTool:y.cy,saturationTool:y.C2,penTool:y.Uh,redEyeTool:y.cg,freeformPenTool:y.Cz,rulerTool:y.W2,paintbrushTool:y.rq,handTool:y.ct,pencilTool:y.jz,zoomTool:y.s_,objectSelectTool:y.as9,healingBrushTool:y.iC,patchTool:y.gs,contentAwareMoveTool:y.Tj,colorReplacementBrushTool:y.Lw,curvaturePenTool:y.a3o,rotareViewTool:y.f8};
if(e=="Lyr"){var a=o.selectionModifier,T=a?a.v.selectionModifierType:null,C=fE.uJ(b,L[0]);if(C==-1){alert("Layer "+L[0].v.val+" does not exist.");
return}$.data={d:Q.y6,q:C,Hf:T?["addToSelection","addToSelectionContinuous"].indexOf(T):null,uf:0}}else if(e=="Path"){if(L[0].v.keyID=="WrPt"){b.xF=[0];
b.bN=b.uP=!0;return}else throw L[0]}else if(e=="Chnl"){$.data={d:Q.y6,q:C,uf:1}}else if(e=="Dcmn"){if(M.Zs.length<2)return;
k.data={d:A.t.a5k,dir:o.null.v[0].v.val}}else if(e=="Brsh"){var F=O.BV.list,m;for(var U=0;U<F.length;
U++){if(F[U].v.Nm.v==L[0].v.val)m=F[U].v}k.data={d:A.t.pF,I8:eM.Vh,Vj:m}}else if(e=="Mn"){if(L[0].v.enum=="Scl")k.data={d:A.t.Mq,k:y.T0,Mx:{zU:3}};
if(L[0].v.enum=="Plce")k.data={d:A.t.wP,amB:!0};if(L[0].v.enum=="ZmIn"){$.k=y.s_;$.data={d:"zoom",SF:!0}}if(L[0].v.enum=="ZmOt"){$.k=y.s_;
$.data={d:"zoom",SF:!1}}if(L[0].v.enum=="FtOn"){$.k=y.s_;$.data={d:"adapt",G:"fitscr"}}}else if(K[e]){k.data={d:A.t.Mq,k:K[e]}}else throw e}else if((D=="set"||D=="reset"||D=="exchange")&&e=="Clr"){k.data={d:A.t.pF,I8:eM.Ih,uj:D=="reset"?3:2};
if(D=="set"){k.data.uj=L[0].v.keyID=="FrgC"?0:1;var N=x.M.FL(o.T.v);k.data.G=N.o<<16|N.w<<8|N.L}}else if(D=="set"){if(e=="AdjL"){var v=o.T.v.classID;
v=a6.mI[v];$.k=y.jZ;if(v)$.data={d:"edit_layer",G:o.T.v}}else if(e=="Lyr"){var h=o.T.v,C=fE.uJ(b,L[0]);
for(var P in h){if(P=="classID")continue;$.k=y.YH;if(P=="Nm")$.data={d:Q.CS,name:h.Nm.v};else if(P=="Opct")$.data={d:Q.d4,XU:Math.round(h.Opct.v.val*255/100)};
else if(P=="fillOpacity")$.data={d:Q.Pa,XU:Math.round(h.fillOpacity.v.val*255/100)};else if(P=="Md")$.data={d:Q.jO,XU:gA.vs.indexOf(h.Md.v.BlnM)+(b.B[C]._N()?1:0)};
else if(P=="Usrs")$.data={d:Q.h8,q:C};else if(P=="Blnd"){$.k=y.GY;$.data={d:"setstl",q:C,G:{blendOptions:{t:"objc",v:h}}};
M.l($);$.data={d:"confirm",q:C}}else if(P=="userMaskFeather"||P=="userMaskDensity"){var J=h.userMaskFeather,Y=h.userMaskDensity,C=b.g[0],B=b.B[C].u6(0);
if(J)B.cm=J.v.val;if(Y)B.oW=Y.v.val;$.data={d:Q.GX,W_:C,ra:B}}else if(P=="Clr"){var S=fE.fW(h);$.data={d:Q.re,a5w:S}}else if(P=="Lefx")fE.acR(M,C,h.Lefx.v,O);
else{console.log(o);throw P}if($.data){M.l($);delete $.data}}$.data={};var V=b.B[C];V.akN()}else if(e=="Prpr"){var h=JSON.parse(JSON.stringify(o.T.v)),C=fE.uJ(b,o.null.v[1]),V=b.B[C],r=L[0].v.keyID;
if(r=="TxtS"||r=="paragraphStyle"){var I=V.add.TySh,f=JSON.parse(JSON.stringify(I.GM)),s=ah.mb(f),W=ah._J(f,0,s.length-2);
if(r=="TxtS")ah.avj(h,W);else ah.aiv(h,W);ah.j_(f,0,s.length-1,W);$.k=y.hY;$.data={d:"newED",Tq:C,J7:f}}else if(r=="Lefx"){for(var i in h)if(h[i].v){if(i=="Scl")h[i].v.val=100}fE.acR(M,C,h,O);
$.data={}}else throw r}else if(e=="contentLayer"){var C=fE.uJ(b,L[0]),h=o.T.v;if(h.classID=="shapeStyle")h=h.FlCn.v;
var u={solidColorLayer:0,gradientLayer:1,patternLayer:2}[h.classID],z=y.hw.PC(b,C),l=z.Gw==u+1?z.MJ:aN.bK[u];
l=JSON.parse(JSON.stringify(l));y.yI.z8(h,l,u);$.data={d:Q.dH,MV:[C],l$:!0,G:{Gw:u+1,MJ:l}}}else if(e=="Brsh"){var m=JSON.parse(JSON.stringify(O.BV.VG)),G=o.T.v;
if(G.masterDiameter)m.Brsh.v.Dmtr.v.val=G.masterDiameter.v.val;else console.log("unknown brush parameters");
k.data={d:A.t.pF,I8:eM.Vh,Vj:m}}else{console.log(L[0],o);throw e}}else if(D=="move"){if(e=="Lyr"){var h=o.T.v;
if(h.classID=="Ofst"){$.data={d:"trsl",L1:h.Hrzn.v.val,A2:h.Vrtc.v.val};$.k=y.R6}else{var g_,cl;if(h[0].t=="Enmr"){if(h[0].v.enum=="Frnt")cl=0;
else if(h[0].v.enum=="Nxt")cl=1;else if(h[0].v.enum=="Prvs")cl=2;else if(h[0].v.enum=="Back")cl=3;else throw"e"}else g_=h[0].v.val;
$.data={d:Q.Vz,target:g_,uj:cl,a06:o.Dplc?o.Dplc.v:!1}}}else if(e=="Chnl"&&L[0].v.keyID=="fsel"){$.k=y.P$;
$.data={d:"fromAction",Ci:w}}}else if(D=="groupEvent"||D=="ungroup")$.data={d:Q.SR};else if(D=="show"||D=="hide"){var p=L[0].v;
for(var U=0;U<p.length;U++){var b2=p[U],e=b2.v.classID;if(e=="Lyr"){if($.data==null)$.data={d:Q.sb,MV:[]};
var C=fE.uJ(b,b2);if(C==-1)continue;var jz=b.B[C].Vd();if(D=="show"&&jz||D=="hide"&&!jz)continue;$.data.MV.push(C)}else if(e=="Chnl"){$.data={d:Q.IC,uj:"fromAction",G:w}}else if(e=="filterFX"){if(b2.v.val!=null)$.data={d:Q.ZO,index:b2.v.val-1};
$.data={d:Q.ag}}}}else if(D=="rotateEventEnum"){$.k=y.xB;var aT=o.Angl.v.val;$.data={d:"rot",vZ:[2,5],G:-aT*Math.PI/180}}else if(D=="flip"){$.k=y.xB;
var fZ=o.Axis.v.Ornt=="Hrzn",ft=fZ?new at(-1,1):new at(1,-1);$.data={d:"scl",vZ:[[2,6],[22,4,fZ?2:3]],G:ft}}else if(D=="transform"){var cc=1,kr=1,hG=0,hi=0,bU=0,ic=0,iQ=0;
if(o.Wdth)cc=o.Wdth.v.val/100;if(o.Hght)kr=o.Hght.v.val/100;if(o.Skew){var bx=o.Skew.v;hG=bx.Hrzn.v.val;
hi=bx.Vrtc.v.val}if(o.Ofst){var aR=o.Ofst.v;ic=aR.Hrzn.v.val;iQ=aR.Vrtc.v.val}if(o.Angl)bU=o.Angl.v.val;
var gs=new f$;gs.concat(new f$(cc,cc*Math.tan(hi*Math.PI/180),kr*Math.tan(hG*Math.PI/180),kr,0,0));gs.rotate(-bU*Math.PI/180);
gs.translate(ic,iQ);var k7={Qcsa:4,Qcs0:0,Qcs1:2,Qcs2:8,Qcs3:6,Qcs4:1,Qcs5:5,Qcs6:7,Qcs7:3}[o.FTcs.v.QCSt];
if(k7==null)throw o.FTcs.v.QCSt;var L=o.null;if(L&&L.v instanceof Array)L=L.v[0];var C=L?fE.uJ(b,L):null;
if(C==-1)C=null;$.k=L&&L.v.keyID=="fsel"?y.tG:y.T0;$.data={d:"mat",Bn:k7,G:gs,be:o.warp}}else if(D=="duplicate"){if(e=="Chnl")$.data={d:Q.IC,uj:"fromAction",G:w};
else $.data={d:Q.Eb,IG:o.Nm?o.Nm.v:null}}else if(D=="delete"){if(e=="filterFX"){if(L[0].v.val!=null)$.data={d:Q.SO,b9:L[0].v.val-1};
else $.data={d:Q.Pk}}else if(e=="Path"){$.k=y.uM;$.data={d:"pathedit",uj:"del"}}else if(e=="Lyr")$.data={d:Q.MF};
else if(e=="Chnl"&&L[0].v.enum=="Msk")$.data={d:Q.RG};else if(e=="Chnl")$.data={d:Q.IC,uj:"fromAction",G:w};
else throw e}else if(D=="align"){if(o.Aply&&o.Aply.v.projection=="Auto"){$.k=y.xB;$.data={d:"auto-align"}}else{$.k=y.R6;
var fT=o.Usng.v.ADSt,c={AdLf:0,AdCH:1,AdRg:2,AdTp:4,AdCV:5,AdBt:6}[fT];if(c==null)throw fT;$.data={d:"algn",G:c}}}else if(D=="applyLocking"){var aH=o.layerLocking.v,e7;
if(aH.protectTransparency)e7=[[aH.protectTransparency.v],[0]];else if(aH.protectNone)e7=[[!1,!1,!1,!1],[0,1,2,31]];
else{console.log(aH);throw"e"}$.data={d:Q.d1,XU:e7}}if($.data)M.l($);else if(k.data)M.l(k);else{console.log(w);
alert("Unknown action \""+D+"\"");throw"e"}};fE.acR=function(w,M,O,b){O=JSON.parse(JSON.stringify(O));
jb.pG(O);if(O.masterFXSwitch==null)O.masterFXSwitch={t:"bool",v:!0};console.log(O);var D=aN.IU;for(var o=0;
o<D.length;o++)if(O[D[o]]){for(var U=0;U<O[D[o]].v.length;U++){var Z=O[D[o]].v[U].v,$=Z.TrnS;if($==null)$=Z.MpgS;
if($&&$.v.Crv==null){var k=$.v,E=k.Nm.v.split("=").pop(),t=b.QK;for(var c=0;c<t.length;c++){var l=t[c].Nm.v.split("=").pop();
if(l==E)k.Crv=JSON.parse(JSON.stringify(t[c].Crv))}if($.v.Crv==null){console.log($);throw"e"}}}}var q=new aX(A.E.s,!0);
q.k=y.GY;q.data={d:"setstl",q:M,G:{Lefx:{t:"objc",v:O}}};w.l(q);q.data={d:"confirm",q:M};w.l(q)};fE.fW=function(w){var M={None:0,Rd:1,Orng:2,Ylw:3,Grn:4,Bl:5,Vlt:6,Gry:7}[w.Clr.v.Clr];
if(M==null)throw w.Clr.v.Clr;return M};fE.uJ=function(w,M){var O=1e6,b=0,D=w.B.length;for(var U=0;U<w.g.length;
U++){O=Math.min(O,w.g[U]);b=Math.max(b,w.g[U])}var o=M.t,Z=-1;if(o=="name"){var $=M.v.val,Z=-1;for(var U=0;
U<D;U++)if(w.B[U].getName()==$){Z=U;break}}else if(o=="Enmr"){if(w.g.length!=0)Z=w.g[0];if(M.v.enum=="Frwr")Z=b+1;
if(M.v.enum=="Bckw")Z=O-1;if(M.v.enum=="Back")Z=0;if(M.v.enum=="Frnt")Z=D-1;Z=(Z+D)%D}else if(o=="prop"){if(M.v.keyID=="Bckg")Z=0}return Z};
var a6={};a6.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15],rplc:[4,17]};
a6.auB=["expA","clrL","selc"];a6.Q_=[[13,1,1],[13,1,3],[13,1,4],[13,1,11],[13,1,5],[13,1,12]];a6.arl=[[13,1,11],[13,1,12],[13,1,3],[13,1,10]];
a6.q0=[[13,1,1],[13,1,4],[13,1,5]];a6.wv={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA",vibrance:"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh",photoFilter:"phfl",Invr:"nvrt",Pstr:"post",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr",colorLookup:"clrL",rplc:"rplc"};
a6.mI=function(){var w=JSON.parse(JSON.stringify(a6.wv));delete w.GrMp;w.GdMp="grdm";return w}();a6.xa={brit:"brightnessEvent",levl:"levels",curv:"curves",expA:"exposure",vibA:"vibrance",hue2:"hueSaturation",blnc:"colorBalance",blwh:"blackAndWhite",phfl:"photoFilter",mixr:"channelMixer",clrL:"colorLookup",nvrt:"invert",post:"posterization",thrs:"thresholdClassEvent",grdm:"gradientMapEvent",selc:"selectiveColor",rplc:"replaceColor"};
a6.keys={levl:[i_.v9,i_.XZ],curv:[i_.v9,i_.FU],hue2:[i_.v9,i_.CO],nvrt:[i_.v9,i_.tq],blnc:[i_.v9,i_.yl]};
a6.arW=function(w){var M=ek.pp("mixr");M.Mnch={t:"bool",v:w.JY};function O(b,U){var D={classID:"ChMx"},o={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var Z in o)D[Z]={t:"UntF",v:{type:"#Prc",val:b[U+o[Z]]}};return{t:"Objc",v:D}}if(w.JY)M.Gry=O(w.G,0);
else{M.Rd=O(w.G,0);M.Grn=O(w.G,5);M.Bl=O(w.G,10)}return M};a6._Z=function(w){function M(b,D,U){var o={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var Z in o)if(b[Z])D[U+o[Z]]=b[Z].v.val}var O={JY:!1,G:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};
if(w.Mnch&&w.Mnch.v)O.JY=!0;if(O.JY)M(w.Gry.v,O.G,0);else{M(w.Rd.v,O.G,0);M(w.Grn.v,O.G,5);M(w.Bl.v,O.G,10)}return O};
a6.get=function(w){for(var M in a6.names)if(w[M]!=null)return M;return null};a6.kM=function(w,M){var O=a6.Dm,b;
if(w=="brit"){var D=M.Brgh?M.Brgh.v:0,o=M.Cntr?M.Cntr.v:0,Z=M.useLegacy?M.useLegacy.v:!1;if(Z){var $=D/255,k=1+o/100;
if(k>1)k=1+Math.tan(Math.PI/2*o/101);var E=(1-k)/2,t=x.in.Hc($,$,$),c=[k,0,0,E,0,k,0,E,0,0,k,E,0,0,0,1],l=x.in.multiply(t,c),q=new x.ka(256);
for(var U=0;U<256;U++)q.o[U]=U;x.in.transform(q,q,l);b={type:O.PV,XA:q.o,AF:q.o,_V:q.o,VU:!1,wb:!1}}else{var d=1024,V=-30+60*(o+100)/200,L=[];
for(var U=0;U<4;U++)L.push(x.kE.pT(U/3*255,U/3*255,!0));L[1].v.Hrzn.v=64;L[1].v.Vrtc.v=64-V;L[2].v.Hrzn.v=128+64;
L[2].v.Vrtc.v=128+64+V;L.sort(function(gH,iF){return gH.v.Hrzn.v-iF.v.Hrzn.v});var e=x.kE.sl(L,d);function H(gH,d){var L=[],aq=3;
for(var U=0;U<aq+1;U++)L.push(x.kE.pT(U/aq*255,U/aq*255,!0));L[1].v.Hrzn.v=130-gH*26;L[1].v.Vrtc.v=130+gH*51;
L[2].v.Hrzn.v=233-gH*48;L[2].v.Vrtc.v=233+gH*10;return x.kE.sl(L,d)}var j=H(Math.abs(D)/100,d);if(D<0){var g=[],K=1/d;
for(var U=0;U<d;U++){var a=U*K,T=U;while(j[T]>a&&T>1)T--;g[U]=T*K}j=g}var C=new Uint8Array(d);for(var U=0;
U<d;U++){var F=Math.round((d-1)*j[U]);C[U]=Math.round(255*e[F])}b={type:O.PV,XA:C,AF:C,_V:C,VU:!1,wb:!1}}}if(w=="levl"){var m=[],N,v,t,h,P,J;
for(var U=0;U<4;U++)m.push(dM.M4(M,U));N=-m[0][0]/255;v=1/(m[0][1]/255-m[0][0]/255);t=x.in.multiply(x.in._I(v,v,v),x.in.Hc(N,N,N));
h=x.in._I(1/(m[1][1]/255-m[1][0]/255),1/(m[2][1]/255-m[2][0]/255),1/(m[3][1]/255-m[3][0]/255));P=x.in.Hc(-m[1][0]/255,-m[2][0]/255,-m[3][0]/255);
J=x.in.multiply(h,P);var C=new x.ka(256);for(var U=0;U<256;U++)C.o[U]=C.w[U]=C.L[U]=U;var Y=1/(m[0][4]/100),B=1/(m[1][4]/100),S=1/(m[2][4]/100),r=1/(m[3][4]/100);
x.in.transform(C,C,J);for(var U=0;U<256;U++){C.o[U]=Math.round(Math.max(0,Math.min(255,255*Math.pow(C.o[U]/255,B))));
C.w[U]=Math.round(Math.max(0,Math.min(255,255*Math.pow(C.w[U]/255,S))));C.L[U]=Math.round(Math.max(0,Math.min(255,255*Math.pow(C.L[U]/255,r))))}x.in.transform(C,C,t);
for(var U=0;U<256;U++){C.o[U]=Math.round(Math.max(0,Math.min(255,255*Math.pow(C.o[U]/255,Y))));C.w[U]=Math.round(Math.max(0,Math.min(255,255*Math.pow(C.w[U]/255,Y))));
C.L[U]=Math.round(Math.max(0,Math.min(255,255*Math.pow(C.L[U]/255,Y))))}N=m[0][2]/255;v=m[0][3]/255-m[0][2]/255;
t=x.in.multiply(x.in.Hc(N,N,N),x.in._I(v,v,v));h=x.in._I(m[1][3]/255-m[1][2]/255,m[2][3]/255-m[2][2]/255,m[3][3]/255-m[3][2]/255);
P=x.in.Hc(m[1][2]/255,m[2][2]/255,m[3][2]/255);J=x.in.multiply(P,h);x.in.transform(C,C,x.in.multiply(t,J));
b={type:O.PV,XA:C.o,AF:C.w,_V:C.L,VU:!1,wb:!1}}if(w=="curv"){var I=bW.M4(M,0).length==256?1:0,f=[];if(I==0){var s=x.kE.iT(bW.M4(M,0),256);
for(var U=1;U<4;U++){var W=x.kE.iT(bW.M4(M,U),256);f.push(x.kE.oa(W,s))}}else{var i=[];for(var U=0;U<4;
U++){var u=new Uint8Array(256);i.push(u);var z=bW.M4(M,U);for(var T=0;T<256;T++)u[T]=z[T]}for(var U=1;
U<4;U++)f.push(x.kE.oa(i[U],i[0]))}b={type:O.PV,XA:f[0],AF:f[1],_V:f[2],VU:!1,wb:!1}}if(w=="expA"){var G=M.Exps,g_=M.Ofst,cl=M.gammaCorrection,p=G?G.v:0,b2=g_?g_.v:0,jz=cl?cl.v:1,C=new Uint8Array(256);
for(var U=0;U<256;U++){var M=U/255,aT=Math.pow(Math.abs(b2),1/(Math.PI/2));if(b2>0){M=Math.max(b2/Math.E,M);
M=M*Math.exp(b2/1.75+p/Math.PI);M=(1-aT)*M+aT*1}else{M=M*Math.exp(-b2*1.75+p/Math.PI);M=M+-aT*1.14}M=Math.pow(M,1/jz);
M=Math.max(0,Math.min(1,M));C[U]=Math.round(M*255)}b={type:O.PV,XA:C,AF:C,_V:C,VU:!1,wb:!1}}if(w=="vibA"){var fZ=(M.vibrance?M.vibrance.v:0)/100,ft=(M.Strt?M.Strt.v:0)/100,aT=1+fZ*(fZ>0?.25:.5),cc=.8+.2/aT;
b={type:O.Ez,I8:[fZ,ft,cc,aT]}}if(w=="hue2"){var kr=[],hG=[],hi=[],bU=M.Clrz?M.Clrz.v:!1;for(var U=0;
U<256;U++){kr[U]=U/255;hG[U]=0;hi[U]=0}var ic=a1.M4(M,0),iQ=a6.gS(ic[1]/100);if(bU){var bx=ic[0]/360;
for(var U=0;U<256;U++){kr[U]=bx;hG[U]=iQ}}else{for(var U=0;U<256;U++){var aR=kr[U],gs=hG[U];kr[U]+=ic[0]/360;
for(var T=0;T<6;T++){var k7=a1.M4(M,T+1),fT=k7.Da,aH=k7.JR,aT=0;for(var e7=1;e7<4;e7++)if(aH[e7]<aH[0])aH[e7]+=360;
var dB=aH[0],ia=aH[1],d7=aH[2],hf=aH[3],gv=aR*360;if(gv<aH[0])gv+=360;var hN=(gv-dB)/(ia-dB),hP=(gv-d7)/(hf-d7);
if(hN<0)aT=0;else if(hN<1)aT=hN;else if(hP<0)aT=1;else if(hP<1)aT=1-hP;else aT=0;var k=a6.gS(fT[1]/100);
kr[U]+=aT*fT[0]/360;hG[U]+=aT*k;hi[U]+=aT*fT[2]/100}}for(var U=0;U<256;U++){hG[U]=(1+hG[U])*(1+iQ)-1;
hi[U]=Math.max(-1,Math.min(1,hi[U]))}}var gP=new Uint8Array(256),aB=new Uint8Array(256),i7=new Uint8Array(256);
for(var U=0;U<256;U++){var dI=kr[U],ft=hG[U],gh=hi[U];if(dI>1)dI--;if(dI<0)dI++;ft=a6.a3M(ft);ft=(1+ft)*.5;
gh=(1+gh)*.5;gP[U]=Math.round(255*dI);aB[U]=Math.round(255*ft);i7[U]=Math.round(255*gh)}var b9=ic[2]/100,ij=b9<0?-b9:b9,ax=b9<0?0:1;
b={type:O.Ep,a8F:gP,Te:aB,akG:i7,a76:ij*ax,Ad:1-ij,atR:ic[2]/100,a96:bU?1:0}}if(w=="nvrt"){var C=new Uint8Array(256);
for(var U=0;U<256;U++)C[U]=255-U;b={type:O.PV,XA:C,AF:C,_V:C,VU:!1,wb:!1}}if(w=="post"){var iX=M.Lvls.v,C=new Uint8Array(256),aT=iX/255.001,am=255/(iX-1);
for(var U=0;U<256;U++)C[U]=Math.floor(U*aT)*am;b={type:O.PV,XA:C,AF:C,_V:C,VU:!1,wb:!1}}if(w=="grdm"){var jf=M.Grad.v,eJ=M.Rvrs,d=1024,hZ;
if(jf.Clrs){var hC=x.M.lO(jf.Clrs.v,0,0);hZ=x.M.IA(jf,hC,d,eJ?eJ.v:!1)}else{hZ=x.M.Tc(jf,d,eJ?eJ.v:!1)}var ds=x.$(d),hV=x.$(d),bv=x.$(d);
x.Oj(hZ,ds,0);x.Oj(hZ,hV,1);x.Oj(hZ,bv,2);b={type:O.PV,XA:ds,AF:hV,_V:bv,VU:!0,wb:!1}}if(w=="selc"){var hl=new Float32Array(9*3*2),jQ=M.Az,a$=M.Mthd?M.Mthd.v.CrcM=="Absl":!1;
for(var T=0;T<9;T++){var jB=T*6,jL=ge.M4(M,T),c1=jL[0]/100,fd=jL[1]/100,g2=jL[2]/100,ed=jL[3]/100;if(a$){hl[jB]=hl[jB+1]=hl[jB+2]=1;
hl[jB+3]=c1*(1+ed)+ed;hl[jB+4]=fd*(1+ed)+ed;hl[jB+5]=g2*(1+ed)+ed}else{hl[jB+0]=(1+c1)*(1+ed);hl[jB+1]=(1+fd)*(1+ed);
hl[jB+2]=(1+g2)*(1+ed)}}b={type:O.T7,al5:hl}}if(w=="blwh"){var ip="Rd Yllw Grn Cyn Bl Mgnt".split(" "),b=[],j$=0,iK=0;
for(var U=0;U<6;U++)b.push(M[ip[U]].v);b.push(M.useTint.v,M.tintColor.v);var bS=[];for(var U=0;U<6;U++)bS.push((b[U]-50)/50);
var hg=x.M.FL(b[7]);hg.o/=255;hg.w/=255;hg.L/=255;var dZ=x.GC(hg.o,hg.w,hg.L),gh=x.YF(x.du(dZ.e3,1,.5)),cA=dZ.h7*dZ.X$;
if(gh==.5)j$=iK=.5;else{j$=cA*(.5-gh)/(.5/gh-1);iK=1-cA*(.5-gh)-1/(2*(1-gh));iK/=1-1/(2*(1-gh))}b={type:O.H5,aud:bS,Ut:b[6]?1:0,aby:dZ.e3,YF:gh,ar9:cA,nR:j$,ag7:iK}}if(w=="blnc"){var m=[],hJ=["ShdL","MdtL","HghL"];
for(var U=0;U<3;U++){if(M[hJ[U]]==null){m[U]=[0,0,0];continue}var iX=M[hJ[U]].v,ag=iX[0].v/100,ii=iX[1].v/100,hr=iX[2].v/100,dN=M.PrsL==null||M.PrsL.v?(Math.min(ag,ii,hr)+Math.max(ag,ii,hr))/2:0;
m[U]=[ag-dN,ii-dN,hr-dN]}var f=[x.$(256),x.$(256),x.$(256)];for(var T=0;T<3;T++)for(var U=0;U<256;U++){var a=U*(1/255),dm=0,V=0,j_=0;
V=m[2][T];j_=Math.abs(V);if(V<0)dm=Math.pow(a,Math.SQRT2);else dm=1.63*(Math.pow(a+.04,.5)-.2);a=j_*dm+(1-j_)*a;
V=m[1][T];j_=Math.abs(V);if(V<0)dm=Math.pow(a,2);else dm=Math.min(2.35*(Math.pow(a+.09,.5)-.3),Math.pow(a,1/2));
a=j_*dm+(1-j_)*a;V=m[0][T];j_=Math.abs(V);if(V<0)dm=a<.4?0:Math.pow((a-.4)/.6,Math.SQRT2);else dm=Math.pow(a,Math.SQRT2/2);
a=j_*dm+(1-j_)*a;a=Math.max(0,Math.min(1,a));f[T][U]=Math.round(a*255)}b={type:O.PV,XA:f[0],AF:f[1],_V:f[2],VU:!1,wb:!1}}if(w=="phfl"){var ae=x.M.FL(M.Clr.v),c6=[ae.o/255,ae.w/255,ae.L/255],cg=M.Dnst.v/100,f=[x.$(256),x.$(256),x.$(256)];
for(var T=0;T<3;T++)for(var U=0;U<256;U++){var a=U*(1/255),ei=a*c6[T];ei=Math.max(0,Math.min(1,ei));
a=cg*ei+(1-cg)*a;f[T][U]=Math.round(a*255)}b={type:O.PV,XA:f[0],AF:f[1],_V:f[2],VU:!1,wb:M.PrsL.v}}if(w=="thrs"){var C=x.$(256);
for(var U=M.Lvl.v;U<256;U++)C[U]=255;b={type:O.PV,XA:C,AF:C,_V:C,VU:!0,wb:!1}}if(w=="mixr"){var a5=a6._Z(M),l=[];
for(var U=0;U<a5.G.length;U++)if(U%5!=3)l.push(a5.G[U]/100);if(a5.JY){for(var gy=1;gy<3;gy++)for(var a=0;
a<4;a++)l[gy*4+a]=l[a]}b={type:O.Mv,S3:l}}if(w=="rplc"){var bL=M.Mnm.v,gf=M.Mxm.v;b={type:O.Nm,xI:[bL.Lmnc.v,bL.A.v,bL.B.v],xs:[gf.Lmnc.v,gf.A.v,gf.B.v],shift:[M.H.v/360,M.Strt.v/100,M.Lght.v/100],NY:M.Fzns.v/150}}if(w=="clrL"&&M.profile){var fx=new Uint8Array(M.profile.v),dH=ICC.R(fx.buffer),fz=[],ke=17,fz=ICC.U.sampleLUT(dH,ke);
b={type:O.Jv,bg:ICC.U.rgba8LUT(fz,ke),a8t:fz,qd:ke}}return b};a6.x0=function(w,M){var O=-1;if(w!="levl"||M==null)O=-1;
else if(M.Auto)O=0;else if(M.AuCo)O=1;else if(M.autoBlackWhite)O=2;return O};a6.Dm={PV:0,Ep:1,Ez:2,T7:3,H5:4,Mv:5,Nm:6,Jv:7};
a6.gS=function(w){if(w<0)return w;return Math.pow(Math.tan(Math.PI/2*w),1.3)};a6.a3M=function(w){if(w<0)return w;
w=Math.pow(w,1/1.3);return Math.atan2(w,1)/(Math.PI/2)};a6.ly=function(w,M,O,b){var D=a6.Dm,o=Date.now();
if(X.Nu&&b.v()>300*300&&w.type!=D.PV&&w.type!=D.Jv){b=b.clone();b.x=b.y=0;var Z=X.Bv(0,b.e,b.n);Z.set(M);
X.IF(Z,b);Z.nB(b);a6.AO(w,Z.sf,b);Z.get(O);return}if(w.type==D.Jv){var $=w.a8t,k=w.qd;ICC.U.applyLUT($,k,M,O);
var E=M.length;for(var U=0;U<E;U+=4)O[U+3]=M[U+3]}if(w.type==D.Mv)x.in.gc(M,O,w.S3);if(w.type==D.H5){var t=w.ar9,c=w.YF,l=w.nR,q=w.ag7,E=M.length;
for(var U=0;U<E;U+=4){var b=M[U]*(1/255),d=M[U+1]*(1/255),V=M[U+2]*(1/255),L=x.HZ(b,d,V),e=0;for(var H=0;
H<6;H++)e+=Math.min(1,1.7*(1-L.dI))*L.h7*w.aud[H]*a6.a98(L.e3,H*(1/6));var j=Math.max(0,Math.min(1,L.dI*(1+e)));
if(w.Ut==1){var g=0;if(j<l)g=j*(.5/c);else if(j<q)g=j+t*(.5-c);else g=1-(1-j)*.5/(1-c);L.e3=w.aby;L.h7=Math.min(1,t+3*t*Math.abs(j-.5*(l+q)));
L.dI=g}else{L.e3=0;L.h7=0;L.dI=j}var K=x.du(L.e3,L.h7,L.dI);O[U]=Math.round(K.o*255);O[U+1]=Math.round(K.w*255);
O[U+2]=Math.round(K.L*255)}}if(w.type==D.T7){var a=w.al5,E=M.length,T=1/255;for(var U=0;U<E;U+=4){var b=M[U]*T,d=M[U+1]*T,V=M[U+2]*T,L=x.HZ(b,d,V),C=Math.max(b,Math.max(d,V)),F=Math.min(b,Math.min(d,V)),m=1-b,N=1-d,v=1-V,h=0,P=0,J=0;
for(var H=0;H<9;H++){var Y=H*6,I=0;if(a[Y]==1&&a[Y+1]==1&&a[Y+2]==1&&a[Y+3]==0&&a[Y+4]==0&&a[Y+5]==0)continue;
var B=m*a[Y]+a[Y+3],S=N*a[Y+1]+a[Y+4],r=v*a[Y+2]+a[Y+5];if(H<6)I=a6.a98(L.e3,H*(1/6))*L.h7*2*Math.min(L.dI,1-L.dI);
else if(H==6)I=Math.max(0,F-.5)*2;else if(H==7)I=1-(Math.abs(C-.5)+Math.abs(F-.5));else I=Math.max(0,.5-C)*2;
h+=(Math.max(0,Math.min(1,B))-m)*I;P+=(Math.max(0,Math.min(1,S))-N)*I;J+=(Math.max(0,Math.min(1,r))-v)*I}m=Math.max(0,Math.min(1,m+h));
N=Math.max(0,Math.min(1,N+P));v=Math.max(0,Math.min(1,v+J));b=1-m;d=1-N;V=1-v;O[U]=Math.round(b*255);
O[U+1]=Math.round(d*255);O[U+2]=Math.round(V*255)}}if(w.type==D.PV){x.ayo(M,O,w.XA,w.AF,w._V,w.VU,w.wb)}if(w.type==D.Ep){var f=new Uint32Array(M.buffer),s=new Uint32Array(O.buffer),E=f.length;
if(a6.rY==null){a6.rY=new Float64Array(256);for(var U=0;U<256;U++)a6.rY[U]=a6.gS(-1+2*U/255)}var W=a6.rY;
for(var U=0;U<E;U++){var i=f[U],b=(i&255)*(1/255),d=(i>>>8&255)*(1/255),V=(i>>>16&255)*(1/255),u=i>>>24,z=Math.min(b,d,V),G=Math.max(b,d,V),g_=0,cl=0,p=0;
g_=x.HZ(b,d,V).e3;var b2=~~(g_*255+.5),jz=w.a8F[b2]*(1/255),aT=w.Te[b2]*(1/255)*2-1,fZ=w.akG[b2]*(1/255)*2-1,e=-fZ,ft=z;
if(0<fZ){e=fZ;ft=G}var cc=w.a76+w.Ad*e*ft,kr=w.Ad*(1-e);b=cc+kr*b;d=cc+kr*d;V=cc+kr*V;G=Math.max(b,d,V);
z=Math.min(b,d,V);p=(G+z)*.5;if(G!=z){var hG=G-z;cl=p>.5?hG/(2-(G+z)):hG/(G+z)}var hi=aT;if(w.a96==0){aT=W[Math.floor((1+aT)*127.5)];
hi=Math.min(cl*(1+aT),1)}var K=x.du(jz,hi,p);b=K.o;d=K.w;V=K.L;s[U]=u<<24|V*255<<16|d*255<<8|b*255}}if(w.type==D.Nm){x.U7(M,O);
var f=new Uint32Array(M.buffer),s=new Uint32Array(O.buffer),E=f.length,bU=w.NY,ic=1/bU,iQ={XZ:w.xI[0],ip:w.xI[1],L:w.xI[2]},bx={XZ:w.xs[0],ip:w.xs[1],L:w.xs[2]};
for(var U=0;U<E;U++){var i=f[U],aR=i&255,gs=i>>>8&255,k7=i>>>16&255,b=aR*(1/255),d=gs*(1/255),V=k7*(1/255),u=i>>>24,fT=x.li(aR,gs,k7),aH=x.Be(fT,iQ,bx,bU,ic);
if(aH==0)continue;var L=x.HZ(b,d,V),jz=2+L.e3+w.shift[0];L.e3=jz-~~jz;L.h7=Math.max(0,Math.min(1,L.h7+w.shift[1]));
L.dI=Math.max(0,Math.min(1,L.dI+w.shift[2]));var K=x.du(L.e3,L.h7,L.dI);b=(1-aH)*b+aH*K.o;d=(1-aH)*d+aH*K.w;
V=(1-aH)*V+aH*K.L;s[U]=u<<24|V*255<<16|d*255<<8|b*255}}if(w.type==D.Ez){var f=new Uint32Array(M.buffer),s=new Uint32Array(O.buffer),E=f.length,e7=w.I8[0],dB=w.I8[1],ia=w.I8[2],e=w.I8[3],d7=x.in.Du([.299,.587,.114,-.147,-.289,.436,.615,-.515,-.1]),hf=x.in.ZW(d7),gv=2.4;
console.log(hf);function k(i7){return Math.max(0,Math.min(1,i7))}function hN(i7){return Math.pow(i7,gv)}function hP(i7){return Math.pow(i7,1/gv)}function gP(b,d,V,i7){b=hN(b);
d=hN(d);V=hN(V);var dI=x.in.Tl(d7,[b,d,V,1]);dI[0]*=ia;dI[1]*=e;dI[2]*=e;var K=x.in.Tl(hf,dI);K[0]=hP(k(K[0]));
K[1]=hP(k(K[1]));K[2]=hP(k(K[2]));return K}for(var U=0;U<E;U++){var i=f[U],b=(i&255)*(1/255),d=(i>>>8&255)*(1/255),V=(i>>>16&255)*(1/255),u=i>>>24,K=gP(b,d,V,e7);
b=K[0];d=K[1];V=K[2];var aB=x.HZ(b,d,V);aB.h7=Math.max(0,Math.min(1,aB.h7*(1+dB)));K=x.du(aB.e3,aB.h7,aB.dI);
b=K.o;d=K.w;V=K.L;s[U]=u<<24|V*255<<16|d*255<<8|b*255}}};a6.AO=function(w,M,O){X.Sk.AO(w,M)};a6.a98=function(w,M){var O=x.ZG(M,w)*6;
return Math.max(0,Math.min(1,O<0?1+O:1-O))};var ek={};ek.aQ=function(w){var M=w.filterID.v;return M>16777215?n.axQ(M):w.Fltr.v.classID};
ek.hg=[{MJ:"GEfc"},{MJ:"LnCr"},{MJ:"Adobe Camera Raw Filter"},{MJ:"LqFy",xM:!0},{tf:"3D",SK:["lightFilterGradient"]},{tf:[24,2],SK:"Avrg,Blr ,BlrM,boxblur,GsnB,Bokh,MtnB,RdlB,surfaceBlur".split(",")},{tf:[24,4],SK:"Dspl,Kale,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave,ZgZg".split(",")},{tf:[24,6],SK:["AdNs","Dspc","DstS","Mdn ","denoise"]},{tf:[24,8],SK:"ClrH,Crst,Frgm,Mztn,Msc ,Pntl".split(",")},{tf:[24,10],SK:["Flam","Clds","DfrC","Fbrs","LnsF"]},{tf:[24,12],SK:["Shrp","ShrE","ShrM","smartSharpen","UnsM"]},{tf:[24,14],SK:"Dfs ,Embs,FndE,oilPaint,Slrz,TrcC,Wnd ".split(",")},{tf:[24,16],SK:"HghP,HsbP,Mxm ,Mnm ,Ofst,Rept,Ctoa,Dthr,Part".split(",")},{tf:"Fourier",SK:["dDFT","iDFT"]}];
ek.xa={LqFy:"LqFy",Avrg:"Avrg","Blr ":"blurEvent",BlrM:"blurMethod",boxblur:"boxblur",GsnB:"gaussianBlur",MtnB:"motionBlur",RdlB:"radialBlur",surfaceBlur:"surfaceBlur",lightFilterGradient:"lightFilterGradient",adaptCorrect:"adaptCorrect",Pnch:"pinch","Plr ":"polar",Rple:"ripple","Shr ":"shear",Sphr:"spherize",Twrl:"twirl",Wave:"wave",AdNs:"addNoise",DstS:"dustAndScratches","Mdn ":"median",denoise:"denoise",ClrH:"colorHalftone",Crst:"",Frgm:"",Mztn:"mezzotint","Msc ":"mosaic",Pntl:"",Flam:"",Clds:"clouds",DfrC:"differenceClouds",LnsF:"LnsF",Shrp:"sharpen",ShrM:"sharpenMore",smartSharpen:"smartSharpen",UnsM:"unsharpMask","Dfs ":"diffuse",FndE:"findEdges",oilPaint:"oilPaint",HghP:"highPass","Mxm ":"maximum","Mnm ":"minimum",Ofst:"offset"};
ek.la={AddNoise:"AdNs",Average:"Avrg",Blur:"Blr ",BlurMore:"BlrM",Clouds:"Clds",DifferenceClouds:"DfrC",DustAndScratches:"DstS",GaussianBlur:"GsnB",HighPass:"HghP",Maximum:"Mxm ",Minimum:"Mnm ",MotionBlur:"MtnB",Offset:"Ofst",Pinch:"Pnch",PolarCoordinates:"Plr ",Ripple:"Rple",Sharpen:"Shrp",SharpenMore:"ShrM",Twirl:"Twrl",UnsharpMask:"UnsM",Wave:"Wave",BrightnessContrast:"brit"};
ek.c={rigidTransform:y.bW};ek.names={lightFilterGradient:[24,17,8],rigidTransform:[10,46],LnCr:[24,1,1,0],LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],boxblur:[24,3,3],GsnB:[24,3,4],Bokh:[24,3,5],MtnB:[24,3,6],RdlB:[24,3,7],surfaceBlur:[24,3,10],Dspl:[24,5,0],Pnch:[24,5,1],"Plr ":[24,5,2],Rple:[24,5,3],"Shr ":[24,5,4],Sphr:[24,5,5],Twrl:[24,1,0,1,3],Wave:[24,5,6],ZgZg:[24,5,7],Kale:[24,5,8],AdNs:[24,7,0],Dspc:[24,7,1],DstS:[24,7,2],"Mdn ":[24,7,3],denoise:[24,7,4],ClrH:[24,9,0],Crst:[24,9,1],Frgm:[24,9,3],Mztn:[24,9,4],"Msc ":[24,9,5],Pntl:[24,9,6],Clds:[24,11,0],DfrC:[24,11,1],LnsF:[24,11,2],Flam:[24,11,3],Fbrs:[24,11,4],Shrp:[24,13,0],ShrE:[24,13,1],ShrM:[24,13,2],smartSharpen:[24,13,3],UnsM:[24,13,4],"Dfs ":[24,15,0],Embs:[24,15,1],FndE:[24,15,3],oilPaint:[24,15,4],Slrz:[24,15,5],TrcC:[24,15,6],"Wnd ":[24,15,7],HghP:[24,17,1],HsbP:"HSB/HSL","Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5],Ctoa:[24,17,6],Dthr:[12,23,3],Part:[24,17,7],dDFT:"Fourier Transform",iDFT:"Inverse Fourier Transform",defr:"Defringe",adaptCorrect:["VAR0/VAR1",[19,6,0],[19,6,2]],"Adobe Camera Raw Filter":"Camera Raw"};
ek.pp=function(w){var M=null;if(w=="GEfc")M={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:gM.pp("GlwE")}]}};
if(w=="LqFy"){var O={jy:5,e3:5,map:new Float32Array(5*5*2)},b=new Uint8Array(iU.c5(O)),D=[];for(var U=0;
U<b.length;U++)D.push(b[U]);M={__name:"Liquify",classID:"LqFy",LqMe:{t:"tdta",v:D}}}if(w=="rigidTransform"){M={__name:"Puppet Warp",classID:"rigidTransform",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},rigidType:{t:"bool",v:!0},puppetShapeList:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(w=="LnCr")M={__name:"Lens Correction",classID:"LnCr",LnAg:{t:"bool",v:!0},LnAc:{t:"bool",v:!1},LnAv:{t:"bool",v:!1},LnAs:{t:"bool",v:!1},LnIp:{t:"bool",v:!1},LnFo:{t:"doub",v:0},LnPr:{t:"TEXT",v:""},LnIa:{t:"doub",v:0},LnI0:{t:"doub",v:0},LnI1:{t:"doub",v:0},LnI2:{t:"doub",v:0},LnI3:{t:"doub",v:1},LnRa:{t:"doub",v:0},LnVp:{t:"doub",v:0},LnHp:{t:"doub",v:0},LnSi:{t:"doub",v:100},LnFt:{t:"long",v:2},LnSb:{t:"doub",v:0},LnSt:{t:"long",v:50},LnRc:{t:"doub",v:0},LnGm:{t:"doub",v:0},LnBy:{t:"doub",v:0},LnNa:{t:"long",v:64},LnIh:{t:"long",v:0},LnIv:{t:"long",v:0},LnIs:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:127},Grn:{t:"doub",v:127},Bl:{t:"doub",v:127}}},LnNm:{t:"bool",v:!1}};
if(w=="adaptCorrect")M={__name:"Shadow/Highlight",classID:"adaptCorrect",sdwM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:50}},Wdth:{t:"UntF",v:{type:"#Prc",val:25}},Rds:{t:"long",v:12}}},hglM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:0}},Wdth:{t:"UntF",v:{type:"#Prc",val:0}},Rds:{t:"long",v:0}}},BlcC:{t:"doub",v:0},WhtC:{t:"doub",v:0},Cntr:{t:"long",v:0},ClrC:{t:"long",v:0}};
if(w=="Dfs ")M={__name:"Diffuse",classID:"Dfs",Md:{t:"enum",v:{DfsM:"Nrml"}},FlRs:{t:"long",v:14061024}};
if(w=="Fbrs")M={__name:"Fibers",classID:"Fbrs",Vrnc:{t:"long",v:10},Strg:{t:"long",v:1},RndS:{t:"long",v:8438429}};
if(w=="Embs")M={__name:"Emboss",classID:"Embs",Angl:{t:"long",v:45},Hght:{t:"long",v:5},Amnt:{t:"long",v:100}};
if(w=="oilPaint")M={__name:"Oil Paint",classID:"oilPaint",lightingOn:{t:"bool",v:!0},stylization:{t:"doub",v:3},brushScale:{t:"doub",v:1},microBrush:{t:"doub",v:0},LghD:{t:"long",v:45},specularity:{t:"doub",v:1},cleanliness:{t:"doub",v:2}};
if(w=="TrcC")M={__name:"Trace Contour",classID:"TrcC",Lvl:{t:"long",v:128},Edg:{t:"enum",v:{CntE:"Lwr"}}};
if(w=="Wnd ")M={__name:"Wind",classID:"Wnd",WndM:{t:"enum",v:{WndM:"Wnd"}},Drct:{t:"enum",v:{Drct:"Rght"}}};
if(w=="lightFilterGradient")M={__name:"Generate Normals",classID:"lightFilterGradient",blur:{t:"doub",v:0},textureScale:{t:"doub",v:1},Scl:{t:"doub",v:1},Dtl:{t:"VlLs",v:[{t:"doub",v:1},{t:"doub",v:1},{t:"doub",v:1}]}};
if(w=="boxblur")M={__name:"Box Blur",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}};if(w=="GsnB")M={__name:"Gaussian Blur",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}};
if(w=="Bokh")M={__name:"Lens Blur",classID:"Bokh",BkDi:{t:"enum",v:{BtDi:"BeIn"}},BkDp:{t:"long",v:0},BkDs:{t:"bool",v:!1},BkIs:{t:"enum",v:{BtIs:"BeS6"}},BkIb:{t:"doub",v:30},BkIc:{t:"long",v:0},BkIr:{t:"long",v:0},BkSb:{t:"doub",v:0},BkSt:{t:"long",v:255},BkNa:{t:"long",v:0},BkNt:{t:"enum",v:{BtNt:"BeNu"}},BkNm:{t:"bool",v:!1}};
if(w=="MtnB")M={__name:"Motion Blur",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}};
if(w=="RdlB")M={__name:"Radial Blur",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}};
if(w=="surfaceBlur")M={__name:"Surface Blur",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}};
if(w=="denoise")M={__name:"Reduce Noise",classID:"denoise",ClNs:{t:"UntF",v:{type:"#Prc",val:29}},Shrp:{t:"UntF",v:{type:"#Prc",val:0}},removeJPEGArtifact:{t:"bool",v:!1},channelDenoise:{t:"VlLs",v:[{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Cmps"}}]},Amnt:{t:"long",v:5},EdgF:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Rd"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Grn"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Bl"}}]},Amnt:{t:"long",v:0}}}]},preset:{t:"TEXT",v:"Default"}};
if(w=="Dspl")M={__name:"Displace",classID:"Dspl",HrzS:{t:"long",v:10},VrtS:{t:"long",v:10},DspM:{t:"enum",v:{DspM:"StrF"}},UndA:{t:"enum",v:{UndA:"RptE"}},DspF:{t:"Pth ",v:{sig:"txtu",pth:"file.psd\0"}}};
if(w=="Pnch")M={__name:"Pinch",classID:"Pnch",Amnt:{t:"long",v:-100}};if(w=="Plr ")M={__name:"Polar Coordinates",classID:"Plr",Cnvr:{t:"enum",v:{Cnvr:"RctP"}}};
if(w=="Rple")M={__name:"Ripple",classID:"Rple",Amnt:{t:"long",v:999},RplS:{t:"enum",v:{RplS:"Mdm"}}};
if(w=="Shr ")M={__name:"Shear",classID:"Shr",ShrP:{t:"VlLs",v:[{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:1}}},{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:128}}}]},UndA:{t:"enum",v:{UndA:"WrpA"}},ShrS:{t:"long",v:0},ShrE:{t:"long",v:1}};
if(w=="Sphr")M={__name:"Spherize",classID:"Sphr",Amnt:{t:"long",v:100},SphM:{t:"enum",v:{SphM:"Nrml"}}};
if(w=="Twrl")M={__name:"Twirl",classID:"Twrl",Angl:{t:"long",v:90}};if(w=="Wave")M={__name:"Wave",classID:"Wave",Wvtp:{t:"enum",v:{Wvtp:"WvSn"}},NmbG:{t:"long",v:1},WLMn:{t:"long",v:101},WLMx:{t:"long",v:102},AmMn:{t:"long",v:36},AmMx:{t:"long",v:37},SclH:{t:"long",v:100},SclV:{t:"long",v:100},UndA:{t:"enum",v:{UndA:"WrpA"}},RndS:{t:"long",v:743887}};
if(w=="ZgZg")M={__name:"ZigZag",classID:"ZgZg",Amnt:{t:"long",v:50},NmbR:{t:"long",v:10},ZZTy:{t:"enum",v:{ZZTy:"ArnC"}}};
if(w=="AdNs")M={__name:"Add Noise",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}};
if(w=="DstS")M={__name:"Dust & Scratches",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}};if(w=="Mdn ")M={__name:"Median",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}};
if(w=="ClrH")M={__name:"Color Halftone",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}};
if(w=="Crst")M={__name:"Crystallize",classID:"Crst",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929224}};
if(w=="Mztn")M={__name:"Mezzotint",classID:"Mztn",MztT:{t:"enum",v:{MztT:"FnDt"}},FlRs:{t:"long",v:204994187}};
if(w=="Msc ")M={__name:"Mosaic",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}};if(w=="Pntl")M={__name:"Pointillize",classID:"Pntl",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929236}};
if(w=="LnsF")M={__name:"Lens Flare",classID:"LnsF",Brgh:{t:"long",v:100},FlrC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.19140625},Vrtc:{t:"doub",v:.185628741979599}}},Lns:{t:"enum",v:{Lns:"Zm"}}};
if(w=="Dthr")M={__name:"Dither",classID:"Dthr",Plte:{t:"long",v:0}};if(w=="Part")M={__name:"Dither",classID:"Part",Cont:{t:"long",v:10},Size:{t:"long",v:8},Dpth:{t:"long",v:100},Brgh:{t:"long",v:800},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:255,t:"doub"},Bl:{v:255,t:"doub"}}},Time:{t:"doub",v:0},Turb:{t:"long",v:0},Blnk:{t:"bool",v:!0},Fall:{t:"bool",v:!1},RndS:{t:"long",v:8438429}};
if(w=="Adobe Camera Raw Filter")M={__name:"Camera Raw Filter",classID:"Adobe Camera Raw Filter",CMod:{t:"TEXT",v:"Filter"},Sett:{t:"enum",v:{Sett:"Cst"}},WBal:{t:"enum",v:{WBal:"AsSh"}},Temp:{t:"long",v:0},Tint:{t:"long",v:0},CtoG:{t:"bool",v:!1},Strt:{t:"long",v:0},Shrp:{t:"long",v:0},LNR:{t:"long",v:0},CNR:{t:"long",v:0},VigA:{t:"long",v:0},BlkB:{t:"long",v:0},RHue:{t:"long",v:0},RSat:{t:"long",v:0},GHue:{t:"long",v:0},GSat:{t:"long",v:0},BHue:{t:"long",v:0},BSat:{t:"long",v:0},Vibr:{t:"long",v:0},HA_R:{t:"long",v:0},HA_O:{t:"long",v:0},HA_Y:{t:"long",v:0},HA_G:{t:"long",v:0},HA_A:{t:"long",v:0},HA_B:{t:"long",v:0},HA_P:{t:"long",v:0},HA_M:{t:"long",v:0},SA_R:{t:"long",v:0},SA_O:{t:"long",v:0},SA_Y:{t:"long",v:0},SA_G:{t:"long",v:0},SA_A:{t:"long",v:0},SA_B:{t:"long",v:0},SA_P:{t:"long",v:0},SA_M:{t:"long",v:0},LA_R:{t:"long",v:0},LA_O:{t:"long",v:0},LA_Y:{t:"long",v:0},LA_G:{t:"long",v:0},LA_A:{t:"long",v:0},LA_B:{t:"long",v:0},LA_P:{t:"long",v:0},LA_M:{t:"long",v:0},STSH:{t:"long",v:0},STSS:{t:"long",v:0},STHH:{t:"long",v:0},STHS:{t:"long",v:0},STB:{t:"long",v:0},PC_S:{t:"long",v:0},PC_D:{t:"long",v:0},PC_L:{t:"long",v:0},PC_H:{t:"long",v:0},PC_1:{t:"long",v:25},PC_2:{t:"long",v:50},PC_3:{t:"long",v:75},ShpR:{t:"doub",v:1},ShpD:{t:"long",v:25},ShpM:{t:"long",v:0},PCVA:{t:"long",v:0},GRNA:{t:"long",v:0},LPEn:{t:"long",v:0},MDis:{t:"long",v:0},PerV:{t:"long",v:0},PerH:{t:"long",v:0},PerR:{t:"doub",v:0},PerS:{t:"long",v:100},PerA:{t:"long",v:0},PerU:{t:"long",v:0},PerX:{t:"doub",v:0},PerY:{t:"doub",v:0},AuCA:{t:"long",v:0},Ex12:{t:"doub",v:0},Cr12:{t:"long",v:0},Hi12:{t:"long",v:0},Sh12:{t:"long",v:0},Wh12:{t:"long",v:0},Bk12:{t:"long",v:0},Cl12:{t:"long",v:0},DfPA:{t:"long",v:0},DPHL:{t:"long",v:30},DPHH:{t:"long",v:70},DfGA:{t:"long",v:0},DPGL:{t:"long",v:40},DPGH:{t:"long",v:60},Dhze:{t:"long",v:0},TMMs:{t:"long",v:0},Crv:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvR:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvG:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvB:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CamP:{t:"TEXT",v:"Embedded"},CP_D:{t:"TEXT",v:"54650A341B5B5CCAE8442D0B43A92BCE"},PrVe:{t:"long",v:184549376},Rtch:{t:"TEXT",v:""},REye:{t:"TEXT",v:""},LCs:{t:"TEXT",v:""},Look:{t:"TEXT",v:""},Pset:{t:"TEXT",v:""}};
if(w=="smartSharpen")M={__name:"Smart Sharpen",classID:"smartSharpen",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},useLegacy:{t:"bool",v:!1},Amnt:{t:"UntF",v:{type:"#Prc",val:150}},Rds:{t:"UntF",v:{type:"#Pxl",val:1}},noiseReduction:{t:"UntF",v:{type:"#Prc",val:0}},blur:{t:"enum",v:{blurType:"GsnB"}}};
if(w=="UnsM")M={__name:"Unsharp Mask",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}};
if(w=="HghP")M={__name:"High Pass",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}};if(w=="HsbP")M={__name:"HSB/HSL",classID:"HsbP",Inpt:{t:"enum",v:{ClrS:"RGBC"}},Otpt:{t:"enum",v:{ClrS:"HSBl"}}};
if(w=="Mxm ")M={__name:"Maximum",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(w=="Mnm ")M={__name:"Minimum",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(w=="Ofst")M={__name:"Offset",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}};
if(w=="Kale")M={__name:"Kaleidoscope",classID:"Kale",Mirr:{t:"long",v:6},MRot:{t:"long",v:0}};if(w=="Rept")M={__name:"Repeat",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}};
if(w=="Flam")M={__name:"Repeat",classID:"Flam",Type:{t:"long",v:0},Leng:{t:"long",v:140},RndL:{t:"bool",v:!1},Widt:{t:"long",v:100},Angl:{t:"long",v:0},Intr:{t:"long",v:100},Adpt:{t:"bool",v:!1},Qual:{t:"long",v:1},Clr:{v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:110,t:"doub"},Bl:{v:28,t:"doub"}},t:"Objc"},Turb:{t:"long",v:50},Jag:{t:"long",v:0},Opct:{v:{type:"#Prc",val:25},t:"UntF"},Lins:{t:"long",v:10},Botm:{t:"long",v:30},Styl:{t:"long",v:0},Shap:{t:"long",v:0},RnSh:{t:"bool",v:!1},Arng:{t:"long",v:18}};
if(w=="Ctoa")M={__name:"Color to Alpha",classID:"Ctoa",Trsp:{v:{type:"#Prc",val:0},t:"UntF"},Opct:{v:{type:"#Prc",val:100},t:"UntF"},Clr:{v:{classID:"RGBC",Rd:{v:0,t:"doub"},Grn:{v:0,t:"doub"},Bl:{v:0,t:"doub"}},t:"Objc"}};
if(w=="brit")M={__name:"Brightness/Contrast",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}};
if(w=="levl")M={__name:"Levels",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(w=="curv")M={__name:"Curves",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(w=="expA")M={__name:"Exposure",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:1}};
if(w=="vibA")M={__name:"Vibrance",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};if(w=="hue2")M={__name:"Hue/Saturation",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}};
if(w=="blnc")M={__name:"Color Balance",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}};
if(w=="blwh")M={__name:"Black & White",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}};
if(w=="phfl")M={__name:"Photo Filter",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}};
if(w=="grdm")M={__name:"Gradient Map",classID:"GrMp",Rvrs:{t:"bool",v:!1},Grad:JSON.parse(aN.hx[6]).Grad};
if(w=="selc")M={__name:"Selective Color",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Rltv"}},ClrC:{t:"VlLs",v:[]}};
if(w=="thrs")M={__name:"Threshold",classID:"Thrs",Lvl:{t:"long",v:128}};if(w=="mixr")M={__name:"Channel Mixer",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Mnch:{t:"bool",v:!1},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}};
if(w=="clrL")M={__name:"Color Lookup",classID:"colorLookup"};if(w=="post")M={__name:"Posterize",classID:"Pstr",Lvls:{t:"long",v:3}};
if(w=="rplc")M={__name:"Replace Color",classID:"RplC",Fzns:{t:"long",v:55},Mnm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73.1},A:{t:"doub",v:23.95},B:{t:"doub",v:8.03}}},Mxm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73},A:{t:"doub",v:23},B:{t:"doub",v:8}}},H:{t:"long",v:-22},Strt:{t:"long",v:0},Lght:{t:"long",v:0}};
if(w=="fade")M={__name:"Fade",classID:"fade",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
if(w=="aply")M={classID:"null",With:{t:"Objc",v:{classID:"Clcl",T:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"RGB"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}}]},Invr:{t:"bool",v:!1},Clcl:{t:"enum",v:{Clcn:"Nrml"}},Opct:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"long",v:128},Scl:{t:"doub",v:1},PrsT:{t:"bool",v:!1}}}};
if(w=="matc"){M={__name:"Match Color",classID:"matchColor",Lght:{t:"long",v:100},ClrR:{t:"long",v:100},Fade:{t:"long",v:0},fsel:{t:"bool",v:!0},neutralizeColor:{t:"bool",v:!1},noReference:{t:"bool",v:!0}}}if(w=="blendOptions")M={classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
return M};ek.Ay={sFlam:function(w,M){M[0]=w.Type.v;M[1]=w.Leng.v;M[2]=w.RndL.v;M[3]=w.Widt.v;M[4]=w.Angl.v;
M[5]=w.Intr.v;M[6]=w.Adpt.v;M[7]=w.Clr.v;M[8]=w.Qual.v;M[9]=w.Turb.v;M[10]=w.Jag.v;M[11]=w.Opct.v.val;
M[12]=w.Lins.v;M[13]=w.Botm.v;M[14]=w.Styl.v;M[15]=w.Shap.v;M[16]=w.RnSh.v;M[17]=w.Arng.v},gFlam:function(w,M){w.Type.v=M[0];
w.Leng.v=M[1];w.RndL.v=M[2];w.Widt.v=M[3];w.Angl.v=M[4];w.Intr.v=M[5];w.Adpt.v=M[6];w.Clr.v=M[7];w.Qual.v=M[8];
w.Turb.v=M[9];w.Jag.v=M[10];w.Opct.v.val=M[11];w.Lins.v=M[12];w.Botm.v=M[13];w.Styl.v=M[14];w.Shap.v=M[15];
w.RnSh.v=M[16];w.Arng.v=M[17]},sAdNs:function(w,M){M[0]=w.Nose.v.val;M[1]=["Gsn","Unfr"].indexOf(w.Dstr.v.Dstr);
M[2]=w.Mnch.v},gAdNs:function(w,M){w.Nose.v.val=M[0];w.Dstr.v.Dstr=["Gsn","Unfr"][M[1]];w.Mnch.v=M[2]},sDstS:function(w,M){M[0]=w.Rds.v;
M[1]=w.Thsh.v},gDstS:function(w,M){w.Rds.v=M[0];w.Thsh.v=M[1]},sGsnB:function(w,M){M[0]=w.Rds.v.val},gGsnB:function(w,M){w.Rds.v.val=M[0]},sHghP:function(w,M){M[0]=w.Rds.v.val},gHghP:function(w,M){w.Rds.v.val=M[0]},sHsbP:function(w,M){var O=["RGBC","HSBl","HSLC"];
M[0]=O.indexOf(w.Inpt.v.ClrS);M[1]=O.indexOf(w.Otpt.v.ClrS)},gHsbP:function(w,M){var O=["RGBC","HSBl","HSLC"];
w.Inpt.v.ClrS=O[M[0]];w.Otpt.v.ClrS=O[M[1]]},"sMxm ":function(w,M){var O="preserveShape";M[0]=w.Rds.v.val;
M[1]=w[O]?["squareness","Rndn"].indexOf(w[O].v[O]):0},"gMxm ":function(w,M){var O="preserveShape";w.Rds.v.val=M[0];
w[O]={t:"enum",v:{preserveShape:["squareness","Rndn"][M[1]]}}},"sMnm ":function(w,M){var O="preserveShape";
M[0]=w.Rds.v.val;M[1]=w[O]?["squareness","Rndn"].indexOf(w[O].v[O]):0},"gMnm ":function(w,M){var O="preserveShape";
w.Rds.v.val=M[0];w[O]={t:"enum",v:{preserveShape:["squareness","Rndn"][M[1]]}}},sMtnB:function(w,M){M[0]=[w.Angl.v];
M[1]=w.Dstn.v.val;console.log(M)},gMtnB:function(w,M){w.Angl.v=typeof M[0]=="number"?M[0]:M[0][0];w.Dstn.v.val=M[1]},sOfst:function(w,M){M[0]=w.Hrzn.v;
M[1]=w.Vrtc.v;M[2]=["Rpt","Bckg","Wrp"].indexOf(w.Fl.v.FlMd)},gOfst:function(w,M){w.Hrzn.v=M[0];w.Vrtc.v=M[1];
w.Fl.v.FlMd=["Rpt","Bckg","Wrp"][M[2]]},sPnch:function(w,M){M[0]=w.Amnt.v},gPnch:function(w,M){w.Amnt.v=M[0]},"sPlr ":function(w,M){M[0]=["RctP","PlrR"].indexOf(w.Cnvr.v.Cnvr)},"gPlr ":function(w,M){w.Cnvr.v.Cnvr=["RctP","PlrR"][M[0]]},sRple:function(w,M){M[0]=w.Amnt.v;
M[1]=["Sml","Mdm","Lrg"].indexOf(w.RplS.v.RplS)},gRple:function(w,M){w.Amnt.v=M[0];w.RplS.v.RplS=["Sml","Mdm","Lrg"][M[1]]},sTwrl:function(w,M){M[0]=w.Angl.v},gTwrl:function(w,M){w.Angl.v=M[0]},sZgZg:function(w,M){M[0]=w.Amnt.v;
M[1]=w.NmbR.v;M[2]=["ArnC","OtFr","PndR"].indexOf(w.ZZTy.v.ZZTy)},gZgZg:function(w,M){w.Amnt.v=M[0];
w.NmbR.v=M[1];w.ZZTy.v.ZZTy=["ArnC","OtFr","PndR"][M[2]]},sUnsM:function(w,M){M[0]=w.Amnt.v.val;M[1]=w.Rds.v.val;
M[2]=w.Thsh.v},gUnsM:function(w,M){w.Amnt.v.val=M[0];w.Rds.v.val=M[1];w.Thsh.v=M[2]},sWave:function(w,M){M[0]=w.NmbG.v;
M[1]=w.WLMn.v;M[2]=w.WLMx.v;M[3]=w.AmMn.v;M[4]=w.AmMx.v;M[5]=w.SclH.v;M[6]=w.SclV.v;M[7]=["WvSn","WvTr","WvSq"].indexOf(w.Wvtp.v.Wvtp);
M[8]=["WrpA","RptE"].indexOf(w.UndA.v.UndA);M[9]=w.RndS.v},gWave:function(w,M){w.NmbG.v=M[0];w.WLMn.v=M[1];
w.WLMx.v=M[2];w.AmMn.v=M[3];w.AmMx.v=M[4];w.SclH.v=M[5];w.SclV.v=M[6];w.Wvtp.v.Wvtp=["WvSn","WvTr","WvSq"][M[7]];
w.UndA.v.UndA=["WrpA","RptE"][M[8]];if(M[9]!=null){var O=parseInt(M[9]);if(isNaN(O))O=248325464;O=Math.max(0,Math.min(268435455,O));
w.RndS.v=O}},sbrit:function(w,M){M[0]=w.Brgh?w.Brgh.v:0;M[1]=w.Cntr?w.Cntr.v:0;M[2]=w.useLegacy?w.useLegacy.v:!1},gbrit:function(w,M){w.Brgh.v=M[0];
w.Cntr.v=M[1];if(M[2]!=null)w.useLegacy.v=M[2]}};ek.awb=function(w){var M=new at(0,0);if(w.enab.v==!1)return M;
var O=w.filterFXList.v;for(var U=0;U<O.length;U++){var b=O[U].v;if(b.enab.v==!1)continue;var D=ek.aQ(b),o=ek.zb(D,b.Fltr?b.Fltr.v:null);
if(o.x>M.x)M.x=o.x;if(o.y>M.y)M.y=o.y}return M};ek.zb=function(w,M){var O=0,b=0;if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(w)!=-1){var D=M.Rds?M.Rds.v.val:1;
O=b=D*2.57}if(w=="MtnB")O=b=M.Dstn.v.val;if("Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,ZgZg,Wave,RdlB,Clds,DfrC,Plr ,LnCr,Wnd ,lightFilterGradient,rigidTransform,Frgm,Flam".split(",").indexOf(w)!=-1){O=b=1e4}if(w=="GEfc")return gM.zb(M);
return new at(Math.ceil(O),Math.ceil(b))};ek._4=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}};
ek.JF=function(w,M){var O={o:M.Sw>>16,w:M.Sw>>8&255,L:M.Sw&255},b={o:M.fj>>16,w:M.fj>>8&255,L:M.fj&255},D=ek.names[w];
if(D==null)D=a6.names[w];var o=w;for(var Z in a6.wv)if(a6.wv[Z]==w)o=Z;var $={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:fr.get(D)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:x.M.jk(O)},BckC:{t:"Objc",v:x.M.jk(b)},filterID:{t:"long",v:o.length==4?n.ack(o):777}}},k=ek.pp(w);
if(k)$.v.Fltr={t:"Objc",v:k};return $};ek.yn=function(w,M,O,b){var D=Date.now(),o=X.Nu&&Math.max(b.e,b.n)<=X.Mn.getParameter(X.Mn.MAX_TEXTURE_SIZE);
if(w<1){var Z=Math.round(w*5),$=[1,2,1,2,[40,26,13,6,4,2][Z],2,1,2,1];$=x.FJ.VI($);if(!o){x.UL(O);var k=O.slice(0);
x.FJ.jM(k,O,b.e,b.n,$,255);x.Ii(O)}else{var E=b.e,t=b.n,c=X.Bv(0,E,t);c.set(O);var l=X.Bv(1,E,t),q=new Float32Array([1/E,1/t]);
X.IF(l);X.filter.AO({type:X.filter.ari,Af:q,a3Q:new Float32Array($)},c.p3);l.get(O)}}else{var d=M==x.m8.oy?0:M==x.m8.Xy?1:2,V=[];
while(d!=2&&w*[1,2.4][d]>20&&V.length<4){var L=x.YK(O,b);V.push(O,b);O=L.AJ;b=L.rect;w/=2}var E=b.e,t=b.n;
if(!o||d==2&&w>15){x.UL(O);M(O,b,w);x.Ii(O)}else{var c=X.Bv(0,E,t);c.set(O);var l=X.Bv(1,E,t),q=new Float32Array([1/E,1/t]);
if(d==0){var e=1;while(e<w)e<<=1;X.IF(l);X.filter.AO({type:X.filter.xG,Af:q,Qj:w,Mx:[0,0,e]},c.p3);X.IF(c);
X.filter.AO({type:X.filter.xG,Af:q,Qj:w,Mx:[0,1,e]},l.p3);c.get(O)}else if(d==1){var H=3,j=x.m8.n_(w,H);
for(var U=0;U<H;U++){var g=j[U]>>>1,K=1;while(K<g)K<<=1;if(g==0)continue;X.IF(l);X.filter.AO({type:X.filter.xG,Af:q,Qj:g,Mx:[0,0,K]},c.p3);
X.IF(c);X.filter.AO({type:X.filter.xG,Af:q,Qj:g,Mx:[0,1,K]},l.p3)}c.get(O)}else{var e=1;while(e<w)e<<=1;
X.IF(l);X.filter.AO({type:X.filter.xG,Af:q,Qj:w,Mx:[0,0,e]},c.p3);l.get(O)}}var a=Date.now();while(V.length!=0){var T=V.pop(),C=V.pop();
x.scale.atE(O,b.e,b.n,C,T.e,T.n);O=C;b=T}}};ek.a1T=function(w,M,O,b){for(var U=0;U<w.length;U++){O[U]=w[U]*(1/255);
b[U]=0}FFT.fft2d(O,b);var D=M>>>1,o=16384,Z=128,k=100;while(Z<M){Z<<=1;o<<=2}var $=255/Math.log(o),E=-100;
for(var t=0;t<M;t++)for(var c=0;c<D;c++){var l=M+D+t&M-1,q=O[l*M+c],d=b[l*M+c],V=Math.sqrt(q*q+d*d),L=Math.atan2(d,q);
w[t*M+c]=Math.round($*Math.log(V+1));w[t*M+D+c]=Math.round((Math.PI+L)*(255*.5/Math.PI))}};ek.abR=function(w,M,O,b){O.fill(0);
b.fill(0);var D=M>>>1,o=16384,Z=128;while(Z<M){Z<<=1;o<<=2}var $=255/Math.log(o),k=[],E=[],t=[];for(var U=0;
U<256;U++){k[U]=Math.exp(U/$)-1;var c=U*(2*Math.PI/255)-Math.PI;E[U]=Math.sin(c);t[U]=Math.cos(c)}for(var l=0;
l<M;l++)for(var q=0;q<D;q++){var d=M+D+l&M-1,V=k[w[l*M+q]],c=w[l*M+D+q],L=V*t[c],e=V*E[c];O[d*M+q]=L;
b[d*M+q]=e;if(q!=0){var H=d==0?d*M+M-q:(M-d)*M+(M-q);O[H]=L;b[H]=-e}}FFT.ifft2d(O,b);for(var U=0;U<w.length;
U++){w[U]=Math.max(0,Math.min(255,~~(.5+255*O[U])))}};ek.ag4=new ArrayBuffer(512);ek.ade=function(w){var M=ek.ag4,O=w.length;
if(M.byteLength<O)ek.ag4=M=new ArrayBuffer(O);var b=new Uint8Array(M);for(var U=0;U<O;U+=4){b[U]=w[U];
b[U+1]=w[U+1];b[U+2]=w[U+2];b[U+3]=w[U+3]}return M};ek.ly=function(w,M,O,b,D,o,Z){if(o==null)o={buffer:x.$(M.buffer.length),rect:M.rect.clone()};
x.U7(M.buffer,o.buffer);var $=O&&O.RndS?O.RndS.v>>>1:0;if(w=="GEfc"){var k=[];if(O.GEfs){var E=O.GEfs.v;
for(var U=0;U<E.length;U++){var t=E[U].v;if(t.GELv&&t.GELv.v==!1)continue;k.push(t)}}else k=[O];for(var U=0;
U<k.length;U++){var c;if(U==0)gM.ly(w,M,k[U],b,D,o,Z);else{if(c==null)c={buffer:x.$(M.buffer.length),rect:M.rect.clone()};
x.U7(o.buffer,c.buffer);gM.ly(w,c,k[U],b,D,o,Z)}}}if(w=="Adobe Camera Raw Filter"){var l=M.rect,q=l.e,d=l.n,V=q*d,L=V*4,e=V*3,H=new Float32Array(q*d*3),j=M.buffer;
for(var U=0;U<V;U++){var g=U*3,K=U*4;H[g]=j[K]*(1/255);H[g+1]=j[K+1]*(1/255);H[g+2]=j[K+2]*(1/255)}var a=JSON.parse(JSON.stringify(O));
delete a.Upri;delete a.GuUr;var T=H.slice(0);dG(H,q,d,T,a);H=T;j=o.buffer;for(var U=0;U<V;U++){var g=U*3,K=U*4;
j[K]=255*Math.max(0,Math.min(1,H[g]));j[K+1]=255*Math.max(0,Math.min(1,H[g+1]));j[K+2]=255*Math.max(0,Math.min(1,H[g+2]))}}if(w=="Fct "){var l=M.rect,q=l.e,d=l.n,V=q*d,L=V*4;
function C(dK){var ic=dK.slice(0);for(var I=0;I<3;I++)for(var f=0;f<3;f++)ic[I*3+f]=dK[(2-f)*3+I];return ic}function F(eo,bK,hA,bk){var hc=0;
for(var I=0;I<3;I++)for(var f=0;f<3;f++)hc+=bK[I*3+f]*eo[(bk-1+I)*q+hA-1+f];return hc}var m=[8,5,2,5,2,-1,2,-1,-4],N=[5,5,5,2,2,2,-1,-1,-1],v=[2,2,2,2,2,2,2,2,2],h=[];
h.push(m);for(var U=0;U<3;U++)h.push(C(h[h.length-1]));h.push(N);for(var U=0;U<3;U++)h.push(C(h[h.length-1]));
h.push(v);for(var U=0;U<9;U++)h[U]=x.FJ.VI(h[U]);var P=[-q-1,-q,-q+1,-1,0,1,q-1,q,q+1],J=[-1,-1,0,-1,1,-1,-1,0,0,0,1,0,-1,1,0,1,1,1],Y=x.$(V),B=new Float32Array(V),T=x.$(V);
for(var S=0;S<3;S++){x.Oj(M.buffer,Y,S);for(var r=0;r<1;r++){for(var I=1;I<d-1;I++)for(var f=1;f<q-1;
f++){var s=I*q+f,W=Y[s];B[s]=1e9;for(var U=0;U<9;U++){var i=F(Y,h[U],f,I),u=(i-W)*(i-W);if(u<B[s])B[s]=u}}for(var I=1;
I<d-1;I++)for(var f=1;f<q-1;f++){var z=0,G=1e9;for(var U=0;U<9;U++){var g_=I*q+f+P[U],u=B[g_];if(u<G){G=u;
z=Y[g_]}}T[I*q+f]=z}Y.set(T)}x.Jm(T,o.buffer,S)}}if(w=="adaptCorrect"){var l=M.rect,q=l.e,d=l.n,V=q*d,L=V*4,cl=O.sdwM.v,p=cl.Amnt.v.val/100,b2=cl.Wdth.v.val/100,jz=cl.Rds.v,aT=O.hglM.v,fZ=aT.Amnt.v.val/100,ft=aT.Wdth.v.val/100,cc=aT.Rds.v;
x.xn.a75(M.buffer,o.buffer,q,d,p,b2,jz,fZ,ft,cc,O.ClrC.v/100,O.Cntr.v/100)}if(w=="denoise"){var l=M.rect,q=l.e,d=l.n,kr=O.channelDenoise.v[0].v;
x.Im.arQ(M.buffer,q,d,o.buffer,kr.Amnt.v/10,kr.EdgF.v/100)}if(w=="HsbP"){var hG=O.Inpt.v.ClrS,hi=O.Otpt.v.ClrS,l=M.rect,q=l.e,d=l.n,V=q*d;
for(var U=0;U<V;U++){var K=U*4,r=M.buffer[K]*(1/255),bU=M.buffer[K+1]*(1/255),ic=M.buffer[K+2]*(1/255);
if(hG=="RGBC"){}else if(hG=="HSLC"){var T=x.du(r,bU,ic);r=T.o;bU=T.w;ic=T.L}else if(hG=="HSBl"){var T=x.adm(r,bU,ic);
r=T.o;bU=T.w;ic=T.L}var iQ=r,bx=bU,aR=ic;if(hi=="RGBC"){}else if(hi=="HSLC"){var T=x.HZ(r,bU,ic);iQ=T.e3;
bx=T.h7;aR=T.dI}else if(hi=="HSBl"){var T=x.apF(r,bU,ic);iQ=T.e3;bx=T.h7;aR=T.L}o.buffer[K]=~~(255*iQ);
o.buffer[K+1]=~~(255*bx);o.buffer[K+2]=~~(255*aR)}}if(w=="Fbrs"){var l=M.rect,q=l.e,d=l.n;x.Y.$j(M.buffer,q,d,o.buffer,[O.Vrnc.v,O.Strg.v,$]);
var gs=x.$(q*d);x.Oj(o.buffer,gs,0);x.ZW(gs);gM.aP(gs,o.buffer,b,D)}if(w=="Frgm"){var l=M.rect,q=l.e,d=l.n,k7=M.buffer.slice(0);
x.UL(k7);x.Y.a7z(k7,q,d,o.buffer);x.Ii(o.buffer)}if(w=="Flam"){var l=M.rect,q=l.e,d=l.n,fT=O.Clr.v,aH={type:O.Type.v+1,length:O.Leng.v,ayf:O.RndL.v,Dr:O.Widt.v,aii:O.Angl.v,aez:O.Intr.v,aoI:O.Adpt.v,color:{o:fT.Rd.v,w:fT.Grn.v,L:fT.Bl.v},bq:O.Qual.v+1,_l:O.Turb.v,f7:O.Jag.v,opacity:O.Opct.v.val,Y5:O.Lins.v,a6P:O.Botm.v,style:O.Styl.v+1,shape:O.Shap.v+1,a2U:O.RnSh.v,akp:O.Arng.v,a6O:!1},dB=Z[3],ia=dB[0],d7=dB[1],hf=ia[d7.length!=0?d7[0]:0];
if(hf==null){alert("Make a path first");return}var gv=hf.add.vmsk.j,hN=x.O.wW(gv),hP=[];for(var gP=0;
gP<hN;gP++){var aB=x.O.r$(gv,gP),i7=gv[aB];if(i7.length<2)continue;var dI=[];hP.push(dI);var gh=i7.length-(i7.type==3?1:0);
for(var s=0;s<gh;s++){var b9=gv[aB+1+s],ij=s==i7.length-1?gv[aB+1]:gv[aB+1+s+1],ax=b9.I,iX=b9.YJ,m=ij.vA,am=ij.I,jf=Math.round(at.we(ax,am)/5);
for(var eJ=0;eJ<jf;eJ++){var hZ=eJ/jf,hC=1-hZ,f=hC*hC*hC*ax.x+3*hC*hC*hZ*iX.x+3*hC*hZ*hZ*m.x+hZ*hZ*hZ*am.x,I=hC*hC*hC*ax.y+3*hC*hC*hZ*iX.y+3*hC*hZ*hZ*m.y+hZ*hZ*hZ*am.y;
dI.push(f,I)}}}var ds=[hP,aH],hV=Date.now(),bv=fb(ds);a9(M.buffer,q,d,o.buffer,bv,ds)}if(w=="Dfs "){var l=M.rect,q=l.e,d=l.n,hl=["Nrml","DrkO","LghO","anisotropic"].indexOf(O.Md.v.DfsM);
if(hl<3)x.Y.a8A(M.buffer,q,d,o.buffer,[hl]);else{var ds=[1.4,1.6,1,4,!1,2,[0,0,.001]],l=M.rect.clone();
l.x=l.y=0;x.dt.filter(M.buffer,l,o.buffer,ds)}}if(w=="TrcC"){var l=M.rect,q=l.e,jQ=q<<2,d=l.n,a$=O.Lvl.v,jB=O.Edg.v.CntE=="Lwr",jL=M.buffer,c1=o.buffer;
x.TZ(c1,16777215,4278190080);function fd(cO,eP){ed(cO,eP);ed(cO+1,eP+1);ed(cO+2,eP+2)}function g2(cO,eP){ip(cO,eP);
ip(cO+1,eP+1);ip(cO+2,eP+2)}function ed(cO,eP){var iQ=jL[cO],bx=jL[eP];if(iQ>=a$&&bx<a$)c1[cO]=0;if(iQ<a$&&bx>=a$)c1[eP]=0}function ip(cO,eP){var iQ=jL[cO],bx=jL[eP];
if(iQ>a$&&bx<=a$)c1[eP]=0;if(iQ<=a$&&bx>a$)c1[cO]=0}if(jB)for(var I=1;I<d;I++)for(var f=1;f<q;f++){var K=I*q+f<<2;
fd(K,K-4);fd(K,K-jQ)}else for(var I=1;I<d;I++)for(var f=1;f<q;f++){var K=I*q+f<<2;g2(K,K-4);g2(K,K-jQ)}}if(w=="Embs"){var l=M.rect,q=l.e,d=l.n,bS=-O.Angl.v*Math.PI/180,hg=O.Hght.v,dZ=O.Amnt.v/100;
hg/=2;var cA=Math.cos(bS)*hg,j$=Math.sin(bS)*hg,jL=M.buffer,c1=o.buffer;c1.fill(0);var iK=new Uint32Array(jL.buffer),T=new Uint8Array(4),hJ=new Uint32Array(T.buffer);
for(var I=0;I<d;I++)for(var f=0;f<q;f++){var ag=0,ii=0,hr=0;if(0<=f+cA&&f+cA<q&&0<=I+j$&&I+j$<d){x.N.PU(f+cA+.5,I+j$+.5,iK,q,d,hJ,0,0);
ag+=T[0]-128;ii+=T[1]-128;hr+=T[2]-128}if(0<=f-cA&&f-cA<q&&0<=I-j$&&I-j$<d){x.N.PU(f-cA+.5,I-j$+.5,iK,q,d,hJ,0,0);
ag-=T[0]-128;ii-=T[1]-128;hr-=T[2]-128}var K=I*q+f<<2;c1[K]=Math.max(0,Math.min(255,ag*dZ+128));c1[K+1]=Math.max(0,Math.min(255,ii*dZ+128));
c1[K+2]=Math.max(0,Math.min(255,hr*dZ+128));c1[K+3]=jL[K+3]}}if(w=="ShrE"){var l=M.rect,q=l.e,d=l.n;
x.Y.anS(M.buffer,q,d,o.buffer)}if(w=="Dspc"){var l=M.rect,q=l.e,d=l.n;x.Y.aa6(M.buffer,q,d,o.buffer)}if(w=="Slrz"){var dN=o.buffer,dm=128;
for(var U=0;U<dN.length;U+=4){if(dN[U]>dm)dN[U]=255-dN[U];if(dN[U+1]>dm)dN[U+1]=255-dN[U+1];if(dN[U+2]>dm)dN[U+2]=255-dN[U+2]}}if(w=="Wnd "){var l=M.rect,q=l.e,d=l.n,j_=["Wnd","Blst","Stgr"],ae=O.WndM.v.WndM;
x.Y.IP(M.buffer,q,d,o.buffer,[j_.indexOf(ae),O.Drct.v.Drct!="Left"])}if(w=="Bokh"){var l=M.rect,q=l.e,d=l.n,V=q*d,L=V*4,c6=M.buffer.slice(0),cg=O.BkDi.v.BtDi,ei=O.BkDc,a5=O.BkDs.v,gy=O.BkDp.v/255;
if(cg=="BeIn")gy=0;var bL=57*(.3+.7*((q+d)/2)/1750)*(O.BkIb.v/100)*(1+.2*Math.pow(gy,.1)),aq=parseInt(O.BkIs.v.BtIs.slice(3)),gf=-O.BkIr.v*Math.PI/180,fx=[];
for(var U=0;U<8;U++){var dH=gf+U*(Math.PI*2/aq),fz=gf+(U+1)*(Math.PI*2/aq),ke=Math.cos(dH),gH=Math.sin(dH),iF=Math.cos(fz),g0=Math.sin(fz),jJ=[0,0,0];
x.S3.zA([[ke,gH,1,0],[iF,g0,1,0],[1,1,1,1]],jJ);if(jJ[2]>0){jJ[0]*=-1;jJ[1]*=-1;jJ[2]*=-1}fx.push(jJ[0],jJ[1],jJ[2],0)}if(cg=="BeIn"){x.TZ(c6,0,16777215);
gy=1}else if(cg=="BeIt"&&ei.v.BtDc=="BeCt"){}else{var iG;if(cg=="BeIt"&&ei.v.BtDc=="BeCm")iG=Z[1];else if(cg=="BeIa")iG=Z[2][ei.v];
if(iG==null){x.TZ(c6,0,16777215)}else{var Y;if(iG.rect.M5(l))Y=iG.channel;else Y=iG.xQ(l);x.Jm(Y,c6,3)}}if(a5)for(var U=0;
U<L;U+=4)c6[U+3]=255-c6[U+3];if(X.Nu){var j2=c6,gE=q,fi=d,cJ=1,eh=(O.BkSb.v==0||O.BkSt.v==255)&&cg=="BeIn";
if(!eh){var jd=0;for(var U=0;U<L;U+=4)jd+=Math.abs(gy-c6[U+3]*(1/255));jd=jd/V*bL;var cI=3.14*jd*jd*q*d/3e6;
if(cI>2e3){alert("too large radius");return}}while(eh&&3*(bL/cJ)*(bL/cJ)*q*d>500*2e3*2e3){var df=x.h9(c6,new cn(0,0,gE,fi));
c6=df.AJ;gE=df.rect.e;fi=df.rect.n;cJ*=2}var hV=Date.now(),iv=X.Bv(0,gE,fi);iv.set(c6);var bV=X.Bv(1,q,d);
X.IF(bV);X.filter.AO({type:X.filter.ace,Af:new Float32Array([1/gE,1/fi]),ald:gy,uv:bL/cJ,a0P:new Float32Array([O.BkSb.v/100,O.BkSt.v/255]),anH:new Float32Array([O.BkNa.v/100,O.BkNt.v.BtNt=="BeNu"?0:1,O.BkNm.v?1:0]),akg:new Float32Array(fx.slice(0,16)),ajB:new Float32Array(fx.slice(16))},iv.p3);
bV.get(o.buffer);var hm=o.buffer;for(var U=0;U<L;U+=4)hm[U+3]=M.buffer[U+3]}}if(w=="rigidTransform"){var hV=Date.now(),kn=ek.ade,iv=M.buffer.slice(0),iJ=0,bA=0;
x.UL(iv);x.TZ(o.buffer,0);var q=M.rect.e,d=M.rect.n,f4=O.puppetShapeList.v,hM=[],aC=[],aA=[],gJ=[];for(var s=0;
s<f4.length;s++){var k4=f4[s].v,bp=iJ*2,g=bA*3,it=k4.originalVertexArray.v.length>>>2,eS=k4.indexArray.v.length>>>2,jW=new Float32Array(kn(k4.originalVertexArray.v));
for(var U=0;U<it;U++)hM[bp+U]=jW[U];var hI=new Float32Array(kn(k4.deformedVertexArray.v));for(var U=0;
U<it;U++)aC[bp+U]=hI[U];var a8=new Uint32Array(kn(k4.indexArray.v));for(var U=0;U<eS;U++)aA[g+U]=iJ+a8[U];
var ct=[],bn=[],gc=k4.PnDp.v;for(var U=0;U<gc.length;U++){ct.push(k4.pinVertexIndices.v[U].v);bn.push(gc[U].v)}var hu=x.pX.aci(jW,a8,ct,bn);
for(var U=0;U<hu.length;U++)gJ[iJ+U]=hu[U];iJ+=it>>>1;bA+=~~(eS/3)}var r=M.rect,q=r.e,d=r.n;x.pX.sr(iv,q,d,o.buffer,q,d,hM,aC,gJ,aA);
x.Ii(o.buffer)}if(w=="lightFilterGradient"){function ks(ax){var bK=1/Math.sqrt(ax[0]*ax[0]+ax[1]*ax[1]+ax[2]*ax[2]);
ax[0]*=bK;ax[1]*=bK;ax[2]*=bK}var q=M.rect.e,d=M.rect.n,V=q*d,hV=Date.now(),a7=x.$(V),bx=.3,aR=.7;x.C3(o.buffer,a7);
var jm=x.$(V);x.m8.f5(a7,jm,o.rect,16);var h9=x.$(V);x.m8.f5(a7,h9,o.rect,8);var h1=a7,cB=new Float32Array(V),he=O.Dtl.v,jK=he[2].v,jF=he[1].v,bd=he[0].v,hc=O.Scl.v*40*O.textureScale.v/(jK+jF+bd);
jK*=hc;jF*=hc;bd*=hc;for(var U=0;U<V;U++){var bt=jm[U]*(1/255),fo=h9[U]*(1/255),hO=h1[U]*(1/255);hO=hO*hO;
cB[U]=jK*bt+jF*fo+bd*hO}var eu=O.blur.v;if(eu!=0){var aw=cB.slice(0);x.m8.N9(aw,cB,o.rect,eu)}var g$=q-1,cv=d-1;
for(var I=0;I<d;I++)for(var f=0;f<q;f++){var U=I*q+f,K=U*4,cQ=cB[U],cA=bx*(cB[U+(f==g$?0:1)]-cQ)+aR*(cQ-cB[U-(f==0?0:1)]),j$=bx*(cB[U+(I==cv?0:q)]-cQ)+aR*(cQ-cB[U-(I==0?0:q)]),ax=[1,0,cA],iX=[0,1,j$];
ks(ax);ks(iX);var fz=ax[0],el=ax[2],j4=iX[1],e4=iX[2],gd=-el*j4,eb=-fz*e4,fC=fz*j4;o.buffer[K]=~~(127.5+gd*127.5);
o.buffer[K+1]=~~(127.5+eb*127.5);o.buffer[K+2]=~~(127.5+fC*127.5)}}if(w=="defr"){var q=M.rect.e,d=M.rect.n;
bF(M.buffer,q,d,o.buffer)}if(w=="dDFT"||w=="iDFT"){function eU(aq){if(aq==0)return 1;aq--;aq|=aq>>1;
aq|=aq>>2;aq|=aq>>4;aq|=aq>>8;aq|=aq>>16;return aq+1}var q=M.rect.e,d=M.rect.n,jO=eU(Math.max(q,d)),jP=jO>>>1,fm=new cn(0,0,jO,jO),hj=new cn(0,0,q,d);
hj.y=jO-d>>>1;var cP=q>>>1,bh=new cn(0,hj.y,cP,d),fe=new x.ka(q*d);x.tb(M.buffer,fe);var kq=new Float64Array(jO*jO),a_=new Float64Array(jO*jO),Y=x.$(jO*jO);
FFT.init(jO);var gl=[fe.o,fe.w,fe.L];for(var U=0;U<3;U++){var cW=gl[U];Y.fill(0);if(w=="dDFT"){x.CV(cW,hj,Y,fm);
ek.a1T(Y,jO,kq,a_);x.CV(Y,fm,cW,hj,bh);bh.x+=cP;fm.x-=jP-cP;x.CV(Y,fm,cW,hj,bh);bh.x-=cP;fm.x+=jP-cP}else{x.CV(cW,hj,Y,fm,bh);
bh.x+=jP;hj.x+=jP-cP;x.CV(cW,hj,Y,fm,bh);bh.x-=jP;hj.x-=jP-cP;ek.abR(Y,jO,kq,a_);x.CV(Y,fm,cW,hj)}}x.RB(fe,o.buffer)}if(w=="Avrg"){var c7=0,eg=0,br=0,gj=0,e5=1;
for(var U=0;U<M.buffer.length;U+=4){var gg=M.buffer[U+3];br+=M.buffer[U]*gg;eg+=M.buffer[U+1]*gg;c7+=M.buffer[U+2]*gg;
gj+=gg}var hw=1/gj;c7=Math.round(e5*(c7*hw)+(1-e5)*255);eg=Math.round(e5*(eg*hw)+(1-e5)*255);br=Math.round(e5*(br*hw)+(1-e5)*255);
x.TZ(o.buffer,c7<<16|eg<<8|br,4278190080)}if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(w)!=-1){var f1=O.Rds?O.Rds.v.val:1,e2=w=="boxblur"?x.m8.oy:x.m8.Xy;
ek.yn(f1,e2,o.buffer,o.rect);if(w=="UnsM"||w=="smartSharpen"){var dZ=(O.Amnt?O.Amnt.v.val:200)/100,a4=0;
if(w=="UnsM")a4=O.Thsh.v;else dZ*=.75;for(var U=0;U<M.buffer.length;U++){if((U&3)==3){o.buffer[U]=M.buffer[U];
continue}var W=M.buffer[U],i=o.buffer[U],fu=dZ*(W-i);if(fu>0)fu=Math.max(0,fu-a4);else fu=Math.min(0,fu+a4);
o.buffer[U]=Math.max(0,Math.min(255,W+fu))}}if(w=="HghP")for(var U=0;U<M.buffer.length;U++){if((U&3)==3){o.buffer[U]=M.buffer[U];
continue}var W=M.buffer[U],i=o.buffer[U];o.buffer[U]=Math.max(0,Math.min(255,128+W-i))}}if(w=="AdNs"){var h7=new Uint8ClampedArray(o.buffer.buffer),bG=255*O.Nose.v.val/100,d2;
if(O.Dstr.v.Dstr=="Gsn")d2=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2};
else d2=function(){return Math.random()*2-1};for(var U=0;U<h7.length;U+=4){var r=h7[U],bU=h7[U+1],ic=h7[U+2],dD,ja,gW;
if(O.Mnch.v){dD=ja=gW=d2()}else{dD=d2();ja=d2();gW=d2()}r+=bG*dD;bU+=bG*ja;ic+=bG*gW;h7[U]=r;h7[U+1]=bU;
h7[U+2]=ic}}var hV=Date.now();if(w=="Mdn "||w=="DstS"||w=="Mxm "||w=="Mnm "||w=="surfaceBlur"){var r=0,kc=O.Thsh,k4=0;
if(kc)kc=kc.v;else kc=0;if(w=="Mdn "||w=="Mxm "||w=="Mnm "||w=="surfaceBlur")r=O.Rds.v.val;else r=O.Rds.v;
var im=O.preserveShape;if(im&&im.v.preserveShape=="Rndn")k4=1;var q=M.rect.e,d=M.rect.n,eI=["Mnm ","Mxm ","surfaceBlur"].indexOf(w),dd=(k4==0?1:.75)*[.73,.73,1][eI]*(q*d*r*r)/1722387,i2=[.73,.9,1.4][eI]*(q*d*Math.sqrt(r))/6500;
if(X.Nu&&eI!=-1&&(dd<i2||k4==1)&&dd<1500){var iv=X.Bv(0,q,d);iv.set(M.buffer);var c=X.Bv(1,q,d);X.IF(c);
X.filter.AO({type:X.filter.a7D,Af:new Float32Array([1/q,1/d]),uv:r,agj:kc/255,Mx:[k4,eI,10*Math.ceil(r/10)]},iv.p3);
c.get(o.buffer)}else{r=Math.round(r);x.Zy.iZ=.5;var e2=x.Zy.Rs;if(w=="Mxm ")e2=x.Zy.Qr;if(w=="Mnm ")e2=x.Zy.Ce;
if(w=="surfaceBlur")e2=x.Zy.Ln;x.Zy.We(M.buffer,o.buffer,q,d,r,e2,[kc]);if(w=="DstS")for(var U=0;U<q*d*4;
U++){var de=Math.abs(M.buffer[U]-o.buffer[U]);if(de<=kc)o.buffer[U]=M.buffer[U]}}}if(w=="ClrH"){var bh=M.rect.clone();
bh.x=bh.y=0;var r=O.Rds.v;r=Math.round(r*Math.sqrt(2));var q=bh.e,d=bh.n,fe=new x.ka(q*d);x.tb(M.buffer,fe);
x.ZW(fe.o);x.ZW(fe.w);x.ZW(fe.L);var e9=x.$B(q,d),hm=x.$(q*d*4);for(var eo=0;eo<3;eo++){var Y=eo==0?fe.o:eo==1?fe.w:fe.L,bS=Math.PI*O["Ang"+(eo+1)].v/180,cH=new f$(1/r,0,0,1/r,0,0);
cH.rotate(bS);x.Jm(Y,hm,3);var T=y.u.UA([hm,bh],cH,!0),hj=T.rect;e9.clearRect(0,0,q,d);var et=Math.sin(bS),aI=Math.cos(bS);
for(var U=0;U<hj.n;U++)for(var eJ=0;eJ<hj.e;eJ++){var f=(eJ+hj.x+.5)*r,I=(U+hj.y+.5)*r,bl=f,iS=I;f=aI*bl-et*iS;
I=et*bl+aI*iS;var V=T.buffer[(U*hj.e+eJ<<2)+3]*(1/255),f1=r*Math.sqrt(V*(1/Math.PI));e9.beginPath();
e9.arc(f,I,f1,0,2*Math.PI);e9.fill()}var cb=e9.getImageData(0,0,q,d);x.Oj(cb.data,Y,3)}x.ZW(fe.o);x.ZW(fe.w);
x.ZW(fe.L);x.RB(fe,o.buffer)}if(w=="Crst"||w=="Pntl"){var q=M.rect.e,d=M.rect.n,e2=w=="Crst"?x.sZ.amd:x.sZ.ams;
e2(M.buffer,q,d,o.buffer,O.ClSz.v,[Math.round(D.o),Math.round(D.w),Math.round(D.L)])}if(w=="Mztn"){var q=M.rect.e,d=M.rect.n,V=q*d,fe=new x.ka(V),jA=[fe.o,fe.w,fe.L];
x.tb(M.buffer,fe);var ae=O.MztT.v.MztT,j6={FnDt:[.1,0,.3,1.4],MdmD:[.9,0,.1,1.4],GrnD:[3,0,.2,1.4],CrsD:[7,0,.1,1.4],ShrL:[0,10,.16,3],MdmL:[0,22,.06,3],LngL:[0,25,.01,4.5],ShSt:[3,10,.05,4.4],MdmS:[4,25,.15,4],LngS:[4,30,.05,4]}[ae],hV=Date.now(),eL=[];
for(var U=0;U<V;U++){eL[U]=Math.random()}var V=q*d,aQ=Math.round(V*j6[0]),ci=V-q-1;for(var U=0;U<aQ;
U++){var jS=Math.random(),j7=1;if(jS<.5){j7=q;jS*=2}else jS=2*(jS-.5);var cO=Math.floor(jS*ci),eP=cO+j7;
eL[cO]=eL[eP]}var gZ=Math.round(q*j6[1]);for(var I=0;I<d;I++)for(var U=0;U<gZ;U++){var jS=x.a.Tr(I*V+U),cO=I*q+Math.floor(jS*(q-1));
eL[cO]=eL[cO+1]}var iV=new Float64Array(256);for(var U=0;U<256;U++){var gt=U/255,jG=2*(gt<.5?gt:1-gt);
jG=j6[2]+Math.pow(jG,j6[3])*(1-j6[2]);gt=gt<.5?jG*.5:1-jG*.5;iV[U]=gt}for(var S=0;S<3;S++){var Y=jA[S];
for(var I=0;I<d;I++){for(var f=0;f<q;f++){var U=I*q+f,ef=Y[U],gt=iV[ef],jS=eL[U];Y[U]=jS>gt?0:255}}}x.RB(fe,o.buffer)}if(w=="Msc "){var hN=O.ClSz.v.val,q=M.rect.e,d=M.rect.n,ca=Math.ceil(q/hN),iz=Math.ceil(d/hN),ho=x.$(ca*iz*4);
x.scale.$A(M.buffer,q,d,ho,ca,iz,1/hN);x.scale.$A(ho,ca,iz,o.buffer,q,d,hN)}if(w=="Clds"||w=="DfrC"){var q=o.rect.e,d=o.rect.n,V=q*d,kg=x.$(V);
if(w=="Clds")x.TZ(o.buffer,4278190080);var dV=x.$(256*4);for(var U=0;U<256;U++){var K=U<<2,dK=U/255,a8=1-dK;
dV[K]=Math.round(dK*b.o+a8*D.o);dV[K+1]=Math.round(dK*b.w+a8*D.w);dV[K+2]=Math.round(dK*b.L+a8*D.L)}x.Y.aqG(M.buffer,q,d,kg);
var hB=o.buffer;for(var U=0;U<V;U++){var K=U<<2,S=kg[U]<<2,r=dV[S],bU=dV[S+1],ic=dV[S+2];if(w=="Clds"){hB[K]=r;
hB[K+1]=bU;hB[K+2]=ic}else{hB[K]=Math.abs(hB[4*U]-r);hB[K+1]=Math.abs(hB[4*U+1]-bU);hB[K+2]=Math.abs(hB[4*U+2]-ic)}}}if(w=="LnsF"){var q=M.rect.e,d=M.rect.n,ae=["Zm","Nkn","Nkn1","PnVs"].indexOf(O.Lns.v.Lns),aU=O.FlrC.v,ko=[Math.min(ae,2),O.Brgh.v/100,aU.Hrzn.v,aU.Vrtc.v],hV=Date.now();
x.a2O(M.buffer,q,d,o.buffer,ko)}var e$=["Blr ","BlrM","Shrp","ShrM"].indexOf(w);if(e$!=-1){var d5=e$>1,q=M.rect.e,d=M.rect.n,fI=x.FJ.rd[e$],ff=M.buffer.slice(0);
if(!d5)x.UL(ff);x.FJ.jM(ff,o.buffer,q,d,fI,255,!1,d5);if(!d5)x.Ii(o.buffer)}if(w=="MtnB"){var ak=-O.Angl.v*Math.PI/180,fS=O.Dstn.v.val/2,hV=Date.now(),q=M.rect.e,d=M.rect.n,l=M.rect.clone();
l.x=l.y=0;if(X.Nu){var hV=Date.now(),cX=o.buffer;cX.set(M.buffer);x.UL(cX);var jl=X.Bv(0,q,d);jl.set(cX);
var jL=x.$(4);jL[0]=Math.round(128+127*Math.cos(ak));jL[1]=Math.round(128+127*Math.sin(ak));new Uint32Array(cX.buffer).fill(new Uint32Array(jL.buffer)[0]);
var dS=X.Bv(1,q,d);dS.set(cX);X.IF(jl,l);jl.nB(l);X.filter.AO({type:X.filter.Sy,jn:dS.p3,Af:new Float32Array([1/q,1/d]),atB:fS/2,atQ:1},jl.sf);
jl.get(cX);x.Ii(cX)}else{var cH=new f$;cH.rotate(ak);var T=y.u.UA([M.buffer,M.rect],cH,!1,null,!0);ek.yn(fS,x.m8.pC,T.buffer,T.rect);
cH.ZW();T=y.u.UA([T.buffer,T.rect],cH,!1,o.buffer.buffer,!0,o.rect)}console.log(Date.now()-hV)}if(w=="RdlB"){var q=M.rect.e,d=M.rect.n,dZ=O.Amnt.v,aj=O.BlrM.v.BlrM=="Zm",eo=O.Cntr.v,hA=eo.Hrzn.v,bk=eo.Vrtc.v,cA=Math.max(hA,1-hA)*q,j$=Math.max(bk,1-bk)*d,f1=Math.sqrt(cA*cA+j$*j$),ep=2*Math.PI*f1*1.5,g5=Math.round(ep),hT=Math.round(f1),bh=new cn(0,0,g5,hT),f_=x.$(g5*hT*4),c$=aj?4:1,bD=aj?.6:8*((q+d)/2)/1400,gO=.1,cJ=1,f6=1;
x.N.gY(M.buffer,q,d,f_,g5,hT,hA,bk,c$,gO,cJ,f6);var ir=aj?x.$(g5*hT*4):null;if(aj){x.N.lj(f_,ir,g5,hT);
var hZ=ir;ir=f_;f_=hZ;bh.e=hT;bh.n=g5}ek.yn(bD*dZ,x.m8.pC,f_,bh);if(aj){x.N.lj(f_,ir,hT,g5);var hZ=ir;
ir=f_;f_=hZ;bh.e=g5;bh.n=hT}x.N.kX(f_,g5,hT,o.buffer,q,d,hA,bk,c$,gO,cJ,f6)}if(w=="Plr "){var q=M.rect.e,d=M.rect.n;
if(O.Cnvr.v.Cnvr=="RctP")x.N.kX(M.buffer,q,d,o.buffer,q,d,.5,.5,1,0,2,q/d);else x.N.gY(M.buffer,q,d,o.buffer,q,d,.5,.5,1,0,2,q/d)}if(w=="FndE"){var q=M.rect.e,d=M.rect.n;
x.FJ.Z6(M.buffer,o.buffer,q,d)}if(w=="oilPaint"){var bS=O.LghD.v*Math.PI/180,fc=[Math.cos(bS),Math.sin(bS),.001],ds=[O.stylization.v,O.cleanliness.v,O.brushScale.v,O.microBrush.v,O.lightingOn.v,O.specularity.v,fc],l=M.rect.clone();
l.x=l.y=0;x.dt.filter(M.buffer,l,o.buffer,ds)}if(w=="Ofst"){var q=M.rect.e,d=M.rect.n,eZ=new Uint32Array(M.buffer.buffer),ac=new Uint32Array(o.buffer.buffer),bl=O.Hrzn.v,iS=O.Vrtc.v,dg=O.Fl.v.FlMd;
x.TZ(ac,0);if(dg=="Bckg"||dg=="Rpt"){var bh=M.rect.clone();bh.offset(bl,iS);x.xu(eZ,bh,ac,o.rect)}if(dg=="Rpt"){var ke,gH,iF,g0,fA;
bl=Math.max(-q,Math.min(q,bl));iS=Math.max(-d,Math.min(d,iS));ke=bl>0?bl:0;iF=bl>0?q:q+bl;gH=iS>0?0:iS+d;
g0=iS>0?iS:d;fA=iS>0?0:q*(d-1);for(var I=gH;I<g0;I++)for(var f=ke;f<iF;f++)ac[I*q+f]=eZ[fA+f-bl];ke=bl>0?0:q+bl;
iF=bl>0?bl:q;gH=iS>0?iS:0;g0=iS>0?d:d+iS;fA=bl>0?0:q-1;for(var I=gH;I<g0;I++)for(var f=ke;f<iF;f++)ac[I*q+f]=eZ[fA+q*(I-iS)];
if(bl>=0&&iS>=0){ke=0;iF=bl;gH=0;g0=iS;fA=0}if(bl>=0&&iS<0){ke=0;iF=bl;gH=d+iS;g0=d;fA=q*(d-1)}if(bl<0&&iS>=0){ke=q+bl;
iF=q;gH=0;g0=iS;fA=q-1}if(bl<0&&iS<0){ke=q+bl;iF=q;gH=d+iS;g0=d;fA=q*d-1}for(var I=gH;I<g0;I++)for(var f=ke;
f<iF;f++)ac[I*q+f]=eZ[fA]}if(dg=="Wrp"){bl=(bl+100*q)%q;iS=(iS+100*d)%d;var bh=new cn(bl-q,iS-d,q,d);
x.xu(eZ,bh,ac,o.rect);bh.offset(q,0);x.xu(eZ,bh,ac,o.rect);bh.offset(0,d);x.xu(eZ,bh,ac,o.rect);bh.offset(-q,0);
x.xu(eZ,bh,ac,o.rect)}}if(w=="Rept"){var cT=O.Rsft.v.val/100,d$=O.SpcX.v.val/100;d$=Math.max(d$,-.99);
var eF=O.SpcY.v.val/100;eF=Math.max(eF,-.99);var cJ=O.Scl.v.val/100,cH=new f$;cH.rotate(O.Angl.v*Math.PI/180);
cH.scale(cJ,cJ);var cL={buffer:M.buffer,rect:M.rect};x.Su(cL);if(cL.rect.S9()){cL.buffer=M.buffer;cL.rect=M.rect}var hB=cL.buffer,bh=cL.rect,jj=x.TO(hB,bh,0),fY=new Uint32Array(hB.buffer)[0];
if(!jj.S9()&&!jj.M5(bh)){var jX=x.$(jj.v()*4);x.xu(hB,bh,jX,jj);hB=jX;bh=jj}bh.x=bh.y=0;fY=d$==0&&eF==0||O.SpcC.v?fY:0;
function jq(f){return f<0?Math.ceil(f):Math.floor(f)}var hH=cH.xU(new at(bh.e,0));hH.x=jq(hH.x);hH.y=jq(hH.y);
var ap=cH.xU(new at(0,bh.n));ap.x=jq(ap.x);ap.y=jq(ap.y);var T=y.u.UA([hB,bh],cH,!1),hj=T.rect,c1=T.buffer,dy=Math.round(hj.x),jv=Math.round(hj.y),je=Math.max(o.rect.e,o.rect.n)/Math.min(bh.e*cJ*(1+d$),bh.n*cJ*(1+eF));
je=Math.ceil(je*1.7);x.TZ(o.buffer,fY);for(var I=-je;I<je;I++){for(var f=-je;f<je;f++){var k9=(f+I*cT)*(1+d$),h3=I*(1+eF);
hj.x=dy+Math.round(k9*hH.x+h3*ap.x);hj.y=jv+Math.round(k9*hH.y+h3*ap.y);if(hj.Yt(o.rect))x.a.DP("norm",c1,hj,o.buffer,o.rect,hj,1)}}}if(w=="Ctoa"){var D=x.M.FL(O.Clr.v),kc=O.Trsp.v.val/100,cx=O.Opct.v.val/100;
kc=cx==0?0:kc/cx;var q=M.rect.e,d=M.rect.n,jx=~~D.o,dJ=~~D.w,cU=~~D.L,fA=M.buffer,g_=o.buffer;for(var I=0;
I<d;I++)for(var f=0;f<q;f++){var U=I*q+f,K=U<<2,bh=fA[K],ck=fA[K+1],hB=fA[K+2],kf=Math.abs(jx-bh),cd=Math.abs(dJ-ck),gb=Math.abs(cU-hB),b4=Math.max(kf,cd,gb)*(1/255);
b4=Math.max(0,Math.min(1,b4/cx));var gT=b4==0?0:1/b4,ib=kc==1?1:Math.max(0,Math.min(1,(b4-kc)/(1-kc)));
g_[K]=Math.max(0,Math.min(255,(bh-jx*(1-b4))*gT));g_[K+1]=Math.max(0,Math.min(255,(ck-dJ*(1-b4))*gT));
g_[K+2]=Math.max(0,Math.min(255,(hB-cU*(1-b4))*gT));g_[K+3]=~~(.5+ib*255)}}if(w=="Dthr"){function c9(f){return~~(.5+255*x.dm(f/255))}var s=O.Plte.v,h4;
if(s==0)h4=[4278190080,4294967295];else{var jn=[[1,1,1],[2,2,2],[3,3,2]][s-1],cF=[1<<jn[0],1<<jn[1],1<<jn[2]],cz=[~~(255/(cF[0]-1)),~~(255/(cF[1]-1)),~~(255/(cF[2]-1))];
h4=[];for(var r=0;r<cF[0];r++)for(var bU=0;bU<cF[1];bU++)for(var ic=0;ic<cF[2];ic++)h4.push(255<<24|c9(ic*cz[2])<<16|c9(bU*cz[1])<<8|c9(r*cz[0]))}var q=M.rect.e,d=M.rect.n,V=q*d,jk=V*4,hr=M.buffer.slice(0),k5=o.buffer;
for(var U=0;U<jk;U++)hr[U]=~~(.5+255*x.dm(hr[U]/255));var f9=x.$(q*d);UPNG.encode.dither(hr,q,d,h4,k5,f9);
for(var U=0;U<jk;U++)k5[U]=~~(.5+255*x.I6(k5[U]/255))}if(w=="Part"){var i5=[O.RndS.v,O.Cont.v/100,O.Size.v,O.Dpth.v/100,O.Brgh.v/100,x.M.FL(O.Clr.v),O.Time.v,O.Blnk.v,O.Fall.v,O.Turb.v/100];
x.AQ.$Q(o.buffer,M.rect.e,M.rect.n,i5)}if("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr,ZgZg,Kale".split(",").indexOf(w)!=-1){var c0=Z[0],q=M.rect.e,d=M.rect.n,iV,eQ=0;
if(w=="LqFy")iV=iU.TC(new Uint8Array(O.LqMe.v).buffer);else{var k8=3;iV={jy:Math.floor(q/k8),e3:Math.floor(d/k8)};
iV.map=new Float32Array(iV.jy*iV.e3*2);if(w=="LnCr"){var hA=.5*(iV.jy-1),bk=.5*(iV.e3-1),fk=Math.max(Math.abs(0-hA),Math.abs(1-hA)),ay=Math.max(Math.abs(0-bk),Math.abs(1-bk)),cf=Math.sqrt(fk*fk+ay*ay),ej=0,eG=0,h8=-1,iB=2,cJ=O.LnSi.v/100,aj=1/cJ,hp=O.LnIa.v/100,dP=hp==0?1e-6:hp*4.6,b$=aj/cf;
for(var I=0;I<iV.e3;I++){for(var f=0;f<iV.jy;f++){var cA=(f-hA)*b$,j$=(I-bk)*b$,r=Math.sqrt(cA*cA+j$*j$)*dP,gI=Math.atan(r),gR=hp>0?gI/r:r/gI,f6=hA+cf*gR*cA,e_=bk+cf*gR*j$,U=I*iV.jy+f<<1;
iV.map[U]=f6-f;iV.map[U+1]=e_-I}}}else if(w=="Kale"){var ca=iV.jy,iz=iV.e3,fP=(ca-1)*.5,cv=(iz-1)*.5,cu=O.MRot.v*Math.PI/180+Math.PI/2+4*Math.PI,b8=O.Mirr.v,g4=Math.PI*2/b8,jY=.5*g4;
for(var I=0;I<iz;I++)for(var f=0;f<ca;f++){var cA=f-fP,j$=I-cv,aK=Math.sqrt(cA*cA+j$*j$),bS=Math.atan2(j$,cA)+cu;
bS=bS%g4;if(bS>jY)bS=g4-bS;var f6=fP+Math.cos(bS-cu)*aK,e_=cv+Math.sin(bS-cu)*aK,U=(I*ca+f)*2;iV.map[U]=f6-f;
iV.map[U+1]=e_-I}}else if(w=="Dspl"&&c0.length!=0){eQ=O.UndA.v.UndA=="WrpA"?2:1;var jZ=O.DspF.v.pth,jo;
for(var U=0;U<c0.length;U++)if(c0[U].QV==jZ)jo=c0[U];if(jo==null)jo=c0[0];jo.Hp();var kf=jo.vN[1],eW=x.$(kf.v());
x.C3(jo.vN[0],eW);var fw=kf.e,iZ=kf.n;iV={jy:fw,e3:iZ};iV.map=new Float32Array(iV.jy*iV.e3*2);var az=2.54*O.HrzS.v*fw/q,cY=2.54*O.VrtS.v*iZ/d;
for(var I=0;I<iV.e3;I++){for(var f=0;f<iV.jy;f++){var de=-.5+eW[I*fw+f]*(1/255),U=I*iV.jy+f<<1;iV.map[U]=de*az;
iV.map[U+1]=de*cY}}}else if(w=="Pnch"||w=="Twrl"||w=="Sphr"||w=="ZgZg"){var dZ=1,ak=Math.PI,af=0,bo=1,jM=0,eo=3,hN=1.53,gR=1;
if(w=="Pnch"||w=="Sphr"||w=="ZgZg")dZ=O.Amnt.v/100;if(w=="ZgZg"){bo=O.NmbR.v;jM=["ArnC","OtFr","PndR"].indexOf(O.ZZTy.v.ZZTy)}if(w=="Twrl")ak=O.Angl.v*Math.PI/180;
if(w=="Sphr")af=["Nrml","HrzO","VrtO"].indexOf(O.SphM.v.SphM);function e2(f){f=Math.pow(f,1-f*.3-f*f*(f*f)*.5);
return-.225*Math.sin(f*Math.PI)}function aL(d,bK,r,ke,gH,iF,g0,gR){var cA=iF-ke,j$=g0-gH,d3=ke-d,iw=gH-bK,dK=cA*cA+j$*j$,ic=2*(cA*d3+j$*iw),eo=d3*d3+iw*iw-r*r,i3=Math.sqrt(ic*ic-4*dK*eo),db=gR/(2*dK),i4=(-ic+i3)*db,fh=(-ic-i3)*db;
return gR*Math.min(i4,fh)}var ca=iV.jy,iz=iV.e3,fP=iV.jy/2,cv=iV.e3/2,gD=1/fP,r=Math.sqrt(eo*eo+1)/eo,cW=eo+Math.sqrt(1/(eo*eo));
if(dZ<0){eo=1.72;r=1;cW=eo;hN=-1;gR=-1}for(var I=0;I<iz;I++){var j$=(I-cv)/cv;for(var f=0;f<ca;f++){var cA=(f-fP)*gD;
if(af==1)j$=0;else if(af==2)cA=0;var hv=Math.sqrt(cA*cA+j$*j$);if(hv<1&&hv!=0){var U=I*iV.jy+f<<1;if(w=="Pnch"){var bB=-dZ*e2(hv)/hv;
iV.map[U]=cA*bB*fP;iV.map[U+1]=j$*bB*cv}else if(w=="Sphr"){var hZ=aL(0,cW,r,0,0,hv,eo,gR),cC=hN*dZ*(hZ-1);
iV.map[U]=cA*cC*fP;iV.map[U+1]=j$*cC*cv}else if(w=="Twrl"){var bS=Math.atan2(j$,cA)-ak*(1-hv)*(1-hv),i6=Math.cos(bS),bY=Math.sin(bS);
iV.map[U]=(hv*i6-cA)*fP;iV.map[U+1]=(hv*bY-j$)*cv}else if(w=="ZgZg"){var i6=0,bY=0,bj=dZ*(.5-.5*Math.cos(hv*bo*2*Math.PI))*(1-hv);
if(jM==0){var bS=Math.atan2(j$,cA)-3.5*bj;i6=hv*Math.cos(bS);bY=hv*Math.sin(bS)}if(jM==1){bj=100/q*bj/hv;
i6=(1-bj)*cA;bY=(1-bj)*j$}if(jM==2){var v=512/q*bj*Math.PI/4;i6=v+cA;bY=v+j$}iV.map[U]=(i6-cA)*fP;iV.map[U+1]=(bY-j$)*cv}}}}}else if(w=="Shr "){var gv=JSON.parse(JSON.stringify(O.ShrP.v));
x.kE.F(gv,new f$(0,255/127,255/127,0,-2,0));var d_=x.kE.sl(gv,iV.e3,!0);eQ=O.UndA.v.UndA=="WrpA"?2:1;
for(var I=0;I<iV.e3;I++){var cA=-d_[I]*iV.jy;for(var f=0;f<iV.jy;f++){var U=I*iV.jy+f<<1;iV.map[U]=cA}}}else if(w=="Wave"){var d0=O.NmbG.v,fg=O.WLMn.v,jR=O.WLMx.v,iT=O.AmMn.v*(Math.PI/4),du=O.AmMx.v*(Math.PI/4),av=O.SclH.v/100,jg=O.SclV.v/100,ae=O.Wvtp.v.Wvtp,bj=Math.sin;
if(ae=="WvTr")bj=function(f){f*=2/Math.PI;return-.5+Math.abs(f%2-1)};if(ae=="WvSq")bj=function(f){f*=2/Math.PI;
return 1+2*Math.floor(f%2-1)};var jh=[],eY=new x.a.hz(O.RndS.v);for(var U=0;U<d0;U++){jh.push(eY.get()*10);
jh.push(Math.PI*k8/(fg+eY.get()*(jR-fg)));jh.push(av*(iT+eY.get()*(du-iT))/k8);jh.push(eY.get()*10);
jh.push(Math.PI*k8/(fg+eY.get()*(jR-fg)));jh.push(jg*(iT+eY.get()*(du-iT))/k8)}var f7=[],dx=[],go=Math.max(iV.jy,iV.e3);
for(var U=0;U<go;U++){var cA=0,j$=0;for(var eJ=0;eJ<d0;eJ++){var gY=eJ*6;cA+=jh[gY+2]*bj(jh[gY]+U*jh[gY+1]);
j$+=jh[gY+5]*bj(jh[gY+3]+U*jh[gY+4])}f7[U]=j$;dx[U]=cA}for(var I=0;I<iV.e3;I++){for(var f=0;f<iV.jy;
f++){var U=I*iV.jy+f<<1;iV.map[U]=dx[I];iV.map[U+1]=f7[f]}}eQ=O.UndA.v.UndA=="WrpA"?2:1}else if(w=="Rple"){eQ=1;
var dZ=O.Amnt.v/100,jp=4,g6=[0,-.19,-.29,-.32,.92,.37,.93,.54,-.54,.42,-.29,-.58,-.67,.85,0,.64],gV=1,fU=1,d3=0,bR=["Sml","Mdm","Lrg"].indexOf(O.RplS.v.RplS);
if(bR==0){gV=1;fU=.2;d3=3}if(bR==2){gV=1;fU=2;d3=-1;g6=g6.reverse()}var iu=function(f,I){var eo=Math.cos,hc=0;
for(var U=0;U<jp;U++)for(var eJ=0;eJ<jp;eJ++)hc+=g6[U*jp+eJ]*eo(f*(U+d3)-I*(eJ+d3));return hc},hR=Math.floor(50/k8),au=new Float32Array(hR*hR*2),h5=fU*dZ*.5/k8;
for(var I=0;I<hR;I++)for(var f=0;f<hR;f++){var hA=gV*f*2*Math.PI/hR,bk=gV*I*2*Math.PI/hR,eq=iu(hA,bk),cA=(iu(hA+.01,bk)-eq)*100,j$=(iu(hA,bk+.01)-eq)*100,U=(I*hR+f)*2;
au[U]=cA*h5;au[U+1]=j$*h5}for(var I=0;I<iV.e3;I++)for(var f=0;f<iV.jy;f++){var bY=I%hR,i6=f%hR,U=I*iV.jy+f<<1,d9=bY*hR+i6<<1;
iV.map[U]=au[d9];iV.map[U+1]=au[d9+1]}}}x.gO.uz(M.buffer,o.buffer,q,d,null,iV.map,iV.jy,iV.e3,eQ)}return o};
var gM={};gM.ady="BrSm BrsL BrDR BrsW BrbW BrSp".split(" ");gM.OU="LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" ");
gM.x1=["ScrC","ScrD","ScrL"];gM.Cq=["SDRD","SDHz","SDLD","SDVt"];gM.vY="TxBl TxCa TxFr TxTL TxBr TxBu TxSt".split(" ");
gM.af="LPBt LPBL LPLf LPTL LPTp LPTR LPRg LPBR".split(" ");gM.Yu="GrnR GrSf GrSr GrnC GrCn GrnE GrSt GrnH GrnV GrSp".split(" ");
gM.hg=[[24,19,0],[24,19,1],[24,4],[24,19,2],[24,14],[12,67]];gM.names={ClrP:[0,[24,20,0]],Ct:[0,[24,20,1]],DryB:[0,[24,20,2]],FlmG:[0,[24,20,3]],Frsc:[0,[24,20,4]],NGlw:[0,[24,20,5]],PntD:[0,[24,20,6]],PltK:[0,[24,20,7]],PlsW:[0,[24,20,8]],PstE:[0,[24,20,9]],RghP:[0,[24,20,10]],SmdS:[0,[24,20,11]],Spng:[0,[24,20,12]],Undr:[0,[24,20,13]],Wtrc:[0,[24,20,14]],AccE:[1,[24,20,15]],AngS:[1,[24,20,16]],Crsh:[1,[24,20,17]],DrkS:[1,[24,20,18]],InkO:[1,[24,20,19]],Spt:[1,[24,20,20]],SprS:[1,[24,20,21]],Smie:[1,[24,20,22]],DfsG:[2,[24,20,23]],Gls:[2,[24,20,24]],OcnR:[2,[24,20,25]],BsRl:[3,[24,20,26]],ChlC:[3,[24,20,27]],Chrc:[3,[24,20,28]],Chrm:[3,[24,20,29]],CntC:[3,[24,20,30]],GraP:[3,[24,20,31]],HlfS:[3,[24,20,32]],NtPr:[3,[24,20,33]],Phtc:[3,[24,20,34]],Plst:[3,[24,20,35]],Rtcl:[3,[24,20,36]],Stmp:[3,[24,20,37]],TrnE:[3,[24,20,38]],WtrP:[3,[24,20,39]],GlwE:[4,[24,20,40]],Crql:[5,[24,20,41]],Grn:[5,[24,20,42]],MscT:[5,[24,20,43]],Ptch:[5,[24,20,44]],StnG:[5,[24,20,45]],Txtz:[5,[24,20,46]]};
gM.pp=function(w){var M;if(w=="ClrP")M={Pncl:{t:"long",v:4},StrP:{t:"long",v:8},PprB:{t:"long",v:25}};
if(w=="Ct")M={NmbL:{t:"long",v:4},EdgS:{t:"long",v:3},EdgF:{t:"long",v:1}};if(w=="DryB")M={BrsS:{t:"long",v:4},BrsD:{t:"long",v:4},Txtr:{t:"long",v:2}};
if(w=="FlmG")M={Grn:{t:"long",v:4},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:23068185}};
if(w=="Frsc")M={BrsS:{t:"long",v:2},BrsD:{t:"long",v:8},Txtr:{t:"long",v:1}};if(w=="NGlw")M={Sz:{t:"long",v:5},Brgh:{t:"long",v:15},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:255}}}};
if(w=="PntD")M={Sz:{t:"long",v:10},Shrp:{t:"long",v:10},BrsT:{t:"enum",v:{BrsT:"BrSm"}}};if(w=="PltK")M={StrS:{t:"long",v:25},StDt:{t:"long",v:3},Sftn:{t:"long",v:2}};
if(w=="PlsW")M={HghS:{t:"long",v:20},Dtl:{t:"long",v:4},Smth:{t:"long",v:5}};if(w=="PstE")M={EdgT:{t:"long",v:2},EdgI:{t:"long",v:1},Pstr:{t:"long",v:2}};
if(w=="RghP")M={StrL:{t:"long",v:6},StDt:{t:"long",v:4},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:20},LghD:{t:"enum",v:{LghD:"LDBt"}},InvT:{t:"bool",v:!1}};
if(w=="SmdS")M={StrL:{t:"long",v:2},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:6399750}};
if(w=="Spng")M={BrsS:{t:"long",v:2},Dfnt:{t:"long",v:12},Smth:{t:"long",v:5},FlRs:{t:"long",v:218877241}};
if(w=="Undr")M={BrsS:{t:"long",v:6},TxtC:{t:"long",v:16},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(w=="Wtrc")M={BrsD:{t:"long",v:9},ShdI:{t:"long",v:1},Txtr:{t:"long",v:3}};if(w=="AccE")M={EdgW:{t:"long",v:2},EdgB:{t:"long",v:38},Smth:{t:"long",v:5}};
if(w=="AngS")M={DrcB:{t:"long",v:50},StrL:{t:"long",v:15},Shrp:{t:"long",v:3}};if(w=="Crsh")M={StrL:{t:"long",v:9},Shrp:{t:"long",v:6},Strg:{t:"long",v:1}};
if(w=="DrkS")M={Blnc:{t:"long",v:5},BlcI:{t:"long",v:6},WhtI:{t:"long",v:2}};if(w=="InkO")M={StrL:{t:"long",v:4},DrkI:{t:"long",v:20},LghI:{t:"long",v:10}};
if(w=="Smie")M={StrW:{t:"long",v:10},StrP:{t:"long",v:5},Cntr:{t:"long",v:16}};if(w=="Spt")M={SprR:{t:"long",v:10},Smth:{t:"long",v:5},FlRs:{t:"long",v:10738420}};
if(w=="SprS")M={StrL:{t:"long",v:12},SprR:{t:"long",v:7},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:893120664}};
if(w=="DfsG")M={Grns:{t:"long",v:6},GlwA:{t:"long",v:10},ClrA:{t:"long",v:15},FlRs:{t:"long",v:325892160}};
if(w=="Gls")M={Dstr:{t:"long",v:3},Smth:{t:"long",v:1},TxtT:{t:"enum",v:{TxtT:"TxTL"}},Scln:{t:"long",v:100},InvT:{t:"bool",v:!1}};
if(w=="OcnR")M={RplS:{t:"long",v:5},RplM:{t:"long",v:15},FlRs:{t:"long",v:64008840}};if(w=="BsRl")M={Dtl:{t:"long",v:11},Smth:{t:"long",v:7},LghD:{t:"enum",v:{LghD:"LDBt"}}};
if(w=="ChlC")M={ChrA:{t:"long",v:6},ChlA:{t:"long",v:6},StrP:{t:"long",v:1},FlRs:{t:"long",v:314004633}};
if(w=="Chrc")M={ChAm:{t:"long",v:1},Dtl:{t:"long",v:5},LgDr:{t:"long",v:50},GELv:{t:"bool",v:!0}};if(w=="Chrm")M={Dtl:{t:"long",v:4},Smth:{t:"long",v:4}};
if(w=="CntC")M={FrgL:{t:"long",v:11},BckL:{t:"long",v:7},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(w=="GraP")M={StrL:{t:"long",v:7},LgDr:{t:"long",v:50},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:55993248}};
if(w=="HlfS")M={HlSz:{t:"long",v:1},Cntr:{t:"long",v:5},ScrT:{t:"enum",v:{ScrT:"ScrD"}}};if(w=="NtPr")M={ImgB:{t:"long",v:25},Grns:{t:"long",v:10},Rlf:{t:"long",v:11},FlRs:{t:"long",v:52642770}};
if(w=="Phtc")M={Dtl:{t:"long",v:10},Drkn:{t:"long",v:4}};if(w=="Plst")M={ImgB:{t:"long",v:20},Smth:{t:"long",v:2},LghP:{t:"enum",v:{LghP:"LPTp"}}};
if(w=="Rtcl")M={Dnst:{t:"long",v:12},BlcL:{t:"long",v:40},WhtL:{t:"long",v:5},FlRs:{t:"long",v:301835400}};
if(w=="Stmp")M={LgDr:{t:"long",v:25},Smth:{t:"long",v:4}};if(w=="TrnE")M={ImgB:{t:"long",v:25},Smth:{t:"long",v:11},Cntr:{t:"long",v:17},FlRs:{t:"long",v:461109340}};
if(w=="WtrP")M={FbrL:{t:"long",v:15},Brgh:{t:"long",v:60},Cntr:{t:"long",v:80},FlRs:{t:"long",v:83852682}};
if(w=="GlwE")M={EdgW:{t:"long",v:1},EdgB:{t:"long",v:10},Smth:{t:"long",v:1}};if(w=="Crql")M={CrcS:{t:"long",v:15},CrcD:{t:"long",v:6},CrcB:{t:"long",v:9},FlRs:{t:"long",v:495615720}};
if(w=="Grn")M={Intn:{t:"long",v:40},Cntr:{t:"long",v:50},Grnt:{t:"enum",v:{Grnt:"GrnR"}},FlRs:{t:"long",v:217582197}};
if(w=="MscT")M={TlSz:{t:"long",v:12},GrtW:{t:"long",v:3},LghG:{t:"long",v:9},FlRs:{t:"long",v:25445584}};
if(w=="Ptch")M={SqrS:{t:"long",v:4},Rlf:{t:"long",v:8},FlRs:{t:"long",v:383529723}};if(w=="StnG")M={ClSz:{t:"long",v:10},BrdT:{t:"long",v:4},LghI:{t:"long",v:0},FlRs:{t:"long",v:319935998}};
if(w=="Txtz")M={TxtT:{t:"enum",v:{TxtT:"TxBr"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:10},LghD:{t:"enum",v:{LghD:"LDBL"}},InvT:{t:"bool",v:!1}};
M.__name="Filter Gallery";M.classID="GEfc";M.GEfk={t:"enum",v:{GEft:w}};M.GELv={t:"bool",v:!0};return M};
gM.VU=function(w,M){for(var U=0;U<M.length;U++)~~(M[U]=(w[4*U]+w[4*U+1]+w[4*U+2])*(1/3))};gM.apm=function(w,M,O,b){var D=UPNG.quantize(w,M);
D={vC:D.inds,yD:D.plte};var o=Math.floor((O+b)*.015);if(o!=0)x.ze.aeh(D.vC,O,b,o);return D};gM.ly=function(w,M,O,b,D,o,Z){w=O.GEfk.v.GEft;
var $=M.rect,k=$.e,E=$.n,t=k*E,c=O.FlRs?O.FlRs.v>>>1:0;function l(K){return K.o<<24|K.w<<16|K.L<<8|255}if(w=="ClrP")x.Y.a5y(M.buffer,k,E,o.buffer,[O.Pncl.v,O.StrP.v,O.PprB.v]);
if(w=="Ct"){var q=O.NmbL.v,d=O.EdgS.v,V=gM.apm(M.buffer.buffer,q*2,k,E);for(var U=0;U<V.vC.length;U++)V.vC[U]++;
var L=new Uint8Array((k+2)*(E+2));x.CV(V.vC,new cn(1,1,k,E),L,new cn(0,0,k+2,E+2));var e=x.p.Sh(L,k+2,E+2,d,!1),H=new f$(1,0,0,1,-1,-1);
for(var U=0;U<e.length;U++)x.p.F(e[U].path.C,H,e[U].path.C);var j=[],g=V.yD;for(var U=0;U<g.length;U++){var K=g[U].est.q;
j.push({o:Math.round(255*K[0]),w:Math.round(255*K[1]),L:Math.round(255*K[2]),ip:Math.round(255*K[3])})}var a=x.$B(k,E);
for(var U=0;U<e.length;U++){var T=e[U],K=j[T.color-1];if(K.ip==0)continue;a.fillStyle="rgba("+K.o+","+K.w+","+K.L+","+K.ip/255+")";
a.beginPath();Typr.U.pathToContext({crds:T.path.C,cmds:T.path.H},a);a.fill()}if(!$.S9()){var C=a.getImageData(0,0,k,E);
x.U7(C.data,o.buffer)}}if(w=="DryB")x.Y.awT(M.buffer,k,E,o.buffer,[O.BrsS.v,O.BrsD.v,O.Txtr.v]);if(w=="FlmG")x.Y.af5(M.buffer,k,E,o.buffer,[O.Grn.v,O.HghA.v,O.Intn.v,c]);
if(w=="Frsc")x.Y.a9o(M.buffer,k,E,o.buffer,[O.BrsS.v,O.BrsD.v,O.Txtr.v]);if(w=="NGlw")x.Y.an_(M.buffer,k,E,o.buffer,[O.Sz.v,O.Brgh.v,l(x.M.FL(O.Clr.v)),l(b),l(D)]);
if(w=="PltK")x.Y.awE(M.buffer,k,E,o.buffer,[O.StrS.v,O.StDt.v,O.Sftn.v]);if(w=="PstE")x.Y.aor(M.buffer,k,E,o.buffer,[O.EdgT.v,O.EdgI.v,O.Pstr.v]);
if(w=="RghP")x.Y.awg(M.buffer,k,E,o.buffer,[O.StrL.v,O.StDt.v,gM.vY.indexOf(O.TxtT.v.TxtT),O.Scln.v,O.Rlf.v,gM.OU.indexOf(O.LghD.v.LghD),O.InvT.v]);
if(w=="SmdS")x.Y.abl(M.buffer,k,E,o.buffer,[O.StrL.v,O.HghA.v,O.Intn.v,O.FlRs.v,c]);if(w=="Spng")x.Y.auw(M.buffer,k,E,o.buffer,[O.BrsS.v,O.Dfnt.v,O.Smth.v,O.FlRs.v,c]);
if(w=="Undr")x.Y.a2A(M.buffer,k,E,o.buffer,[O.BrsS.v,O.TxtC.v,gM.vY.indexOf(O.TxtT.v.TxtT),O.Scln.v,O.Rlf.v,gM.OU.indexOf(O.LghD.v.LghD),O.InvT.v]);
if(w=="Wtrc")x.Y.a55(M.buffer,k,E,o.buffer,[O.BrsD.v,O.ShdI.v,O.Txtr.v]);if(w=="AccE")x.Y.a3A(M.buffer,k,E,o.buffer,[O.EdgW.v,O.EdgB.v,O.Smth.v]);
if(w=="AngS")x.Y.apH(M.buffer,k,E,o.buffer,[O.DrcB.v,O.StrL.v,O.Shrp.v]);if(w=="Crsh")x.Y.as4(M.buffer,k,E,o.buffer,[O.StrL.v,O.Shrp.v,O.Strg.v]);
if(w=="DrkS")x.Y.a59(M.buffer,k,E,o.buffer,[O.Blnc.v,O.BlcI.v,O.WhtI.v]);if(w=="InkO")x.Y.acu(M.buffer,k,E,o.buffer,[O.StrL.v,O.DrkI.v,O.LghI.v]);
if(w=="Smie")x.Y.atO(M.buffer,k,E,o.buffer,[O.StrW.v,O.StrP.v,O.Cntr.v]);if(w=="DfsG")x.Y.agH(M.buffer,k,E,o.buffer,[O.Grns.v,O.GlwA.v,O.ClrA.v,l(D),c]);
if(w=="CntC")x.Y.abE(M.buffer,k,E,o.buffer,[O.FrgL.v,O.BckL.v,gM.vY.indexOf(O.TxtT.v.TxtT),O.Scln.v,O.Rlf.v,gM.OU.indexOf(O.LghD.v.LghD),O.InvT.v,l(D),l(b)]);
if(w=="ChlC")x.Y.ar8(M.buffer,k,E,o.buffer,[O.ChrA.v,O.ChlA.v,O.StrP.v,c,l(D),l(b)]);var F=w=="GraP"||w=="Chrc"||w=="Plst"||w=="Rtcl"||w=="Stmp"||w=="TrnE";
if(F){var m=x.$(k*E);if(w=="GraP")x.Y.a6w(M.buffer,k,E,o.buffer,[O.StrL.v,O.LgDr.v,gM.Cq.indexOf(O.SDir.v.StrD),c]);
if(w=="Chrc")x.Y.a4y(M.buffer,k,E,o.buffer,[O.ChAm.v,O.Dtl.v,O.LgDr.v]);if(w=="Plst")x.Y.a8S(M.buffer,k,E,o.buffer,[O.ImgB.v,gM.af.indexOf(O.LghP.v.LghP),O.Smth.v]);
if(w=="Rtcl")x.Y.adf(M.buffer,k,E,o.buffer,[O.Dnst.v,O.BlcL.v,O.WhtL.v,c]);if(w=="Stmp")x.Y.agh(M.buffer,k,E,o.buffer,[O.LgDr.v,O.Smth.v]);
if(w=="TrnE")x.Y.am9(M.buffer,k,E,o.buffer,[O.ImgB.v,O.Smth.v,O.Cntr.v,c]);x.Oj(o.buffer,m,0);gM.aP(m,o.buffer,b,D)}if(w=="NtPr")x.Y.aoZ(M.buffer,k,E,o.buffer,[O.ImgB.v,O.Grns.v,O.Rlf.v,l(b),l(D),c]);
if(w=="WtrP")x.Y.ath(M.buffer,k,E,o.buffer,[O.FbrL.v,O.Brgh.v,O.Cntr.v,c>>>1]);if(w=="Crql")x.Y.aq9(M.buffer,k,E,o.buffer,[O.CrcS.v,O.CrcD.v,O.CrcB.v,c]);
if(w=="Grn")x.Y.aj0(M.buffer,k,E,o.buffer,[O.Intn.v,gM.Yu.indexOf(O.Grnt.v.Grnt),O.Cntr.v,l(b),l(D),c]);
if(w=="MscT")x.Y.aaY(M.buffer,k,E,o.buffer,[O.TlSz.v,O.GrtW.v,O.LghG.v,c]);if(w=="Ptch")x.Y.aeW(M.buffer,k,E,o.buffer,[O.SqrS.v,O.Rlf.v,c]);
if(w=="Phtc"){function N(iX,am,$,dN){x.m8.r7(iX,am,$,dN);for(var U=0;U<t;U++)am[U]=Math.max(0,Math.min(255,128+iX[U]-am[U]))}var v=O.Dtl.v,h=O.Drkn.v,P=x.$(t);
x.C3(M.buffer,P);var J=x.$(t);N(P,J,$,1);if(v==1){v=2;h=Math.round(h/4)}var Y=x.$(t);N(P,Y,$,v);for(var U=0;
U<t;U++)P[U]=Math.max(0,Math.min(255,255-(J[U]-Y[U])*h));gM.aP(P,o.buffer,b,D)}if(w=="Spt"||w=="SprS"){var B,S=1,r=1;
B={jy:Math.floor(k/r),e3:Math.floor(E/r)};B.map=new Float32Array(B.jy*B.e3*2);var I=new x.a.hz(O.FlRs.v),f=new Float32Array(8192),s=O.SprR.v,W=s<20?.018*s:.36+(s-20)*.128;
if(w=="SprS"){W=.07+[0,.02,.04,.06,.08,.1,.12,.14,.16,.18,.2,.22,.24,.26,.28,.3,.34,.38,.5,.65,.75,.85,1,1.5,2.2,3][s]}for(var U=0;
U<8192;U++)f[U]=(-1+2*I.get())*W*70;for(var i=0;i<E;i++)for(var u=0;u<k;u++){var z=i*k+u<<1;B.map[z]=f[z%7919];
B.map[z+1]=f[(z+1)%7919]}var G=B.map.slice(0),g_=w=="Spt"?O.Smth.v-1:1;if(w=="Spt"&&g_!=0){gM.aic(B.map,G,k,E,g_);
gM.aiy(G,B.map,k,E,g_)}if(w=="SprS"){var cl=O.StrL.v>>>1,p=cl==0?2:1;gM.aic(B.map,G,k,E,p);gM.aiy(G,B.map,k,E,p);
if(cl!=0){var b2=gM.Cq.indexOf(O.SDir.v.StrD),jz=[1,1,1,0][b2],aT=[-1,0,1,1][b2],fZ=2*cl+1,ft=1/fZ;for(var i=0;
i<E;i++)for(var u=0;u<k;u++){var z=i*k+u<<1,cc=0,kr=0;for(var U=0;U<fZ;U++){var hG=Math.max(0,Math.min(k-1,u-(cl+U)*jz)),hi=Math.max(0,Math.min(E-1,i-(cl+U)*aT)),bU=hi*k+hG<<1;
cc+=B.map[bU];kr+=B.map[bU+1]}G[z]=cc*ft;G[z+1]=kr*ft}B.map=G}}x.gO.uz(M.buffer,o.buffer,k,E,null,B.map,B.jy,B.e3,S)}if(w=="BsRl"||w=="PlsW"||w=="Chrm"){var ic=Date.now(),iQ=x.$(t),bx=iQ.slice(0);
x.C3(M.buffer,iQ);var v=O.Dtl.v,aR=O.Smth.v;if(v!=15){x.m8.f5(iQ,bx,$,Math.round((15-v)*.5));x.U7(bx,iQ)}var gs=1.4/k,k7=1.4/E,fT=new Float32Array(t),aH=new Float32Array(t),dB=new Float32Array(o.buffer.buffer);
for(var i=0;i<E;i++)for(var u=0;u<k;u++){var U=i*k+u,jz=u==k-1?iQ[U]-iQ[U-1]:iQ[U+1]-iQ[U],aT=i==E-1?iQ[U]-iQ[U-k]:iQ[U+k]-iQ[U],ia=u*gs-.7,d7=i*k7-.7;
fT[U]=jz==0?ia:jz*.4;aH[U]=aT==0?d7:aT*.4}if(w=="BsRl"){var hf=(2+gM.OU.indexOf(O.LghD.v.LghD))*Math.PI*.25,cc=Math.cos(hf);
if(Math.abs(cc)<.1)cc=0;cc=Math.sign(cc);var kr=Math.sin(hf);if(Math.abs(kr)<.1)kr=0;kr=Math.sign(kr);
var gv=1/(cc*cc+kr*kr);for(var i=0;i<E;i++)for(var u=0;u<k;u++){var U=i*k+u,hN=Math.max(-1,Math.min(1,cc*fT[U])),hP=Math.max(-1,Math.min(1,kr*aH[U]));
bx[U]=128+127*(hN+hP)*gv}if(aR!=1){x.m8.f5(bx,iQ,$,Math.round((aR-1)*.5));x.U7(iQ,bx)}gM.aP(bx,o.buffer,b,D)}else{if(w=="Chrm")aR=5+aR;
if(aR>1)gM.yn(fT,aH,dB,$,aR-1);if(w=="PlsW"){var gP=new Uint8Array(fT.buffer);for(var U=0;U<t;U++){var aB=U<<2,jz=fT[U],aT=aH[U],i7=1/(Math.sqrt(1+jz*jz)*Math.sqrt(1+aT*aT)),dI=i7*i7,gh=dI*dI,K=~~(255*(gh*gh*dI));
gP[aB+0]=K;gP[aB+1]=K;gP[aB+2]=K;gP[aB+3]=K}o.buffer.set(M.buffer);x.a.DP("norm",gP,$,o.buffer,$,$,O.HghS.v/20)}else if(w=="Chrm"){var b9=o.buffer,ij=k>>>1,ax=E>>>1;
for(var U=0;U<t;U++){var aB=U<<2,jz=fT[U],aT=aH[U],iX={x:1,y:0,_M:jz};eR.hW(iX);var am={x:0,y:1,_M:aT};
eR.hW(am);var jf=eR.aho(iX,am),eJ=1/jf._M,hZ=~~Math.max(0,Math.min(k-1,ij-jf.x*eJ*ij)),hC=~~Math.max(0,Math.min(E-1,ax-jf.y*eJ*ax)),K=iQ[hC*k+hZ];
b9[aB+0]=K;b9[aB+1]=K;b9[aB+2]=K}}}}if(w=="Gls"||w=="OcnR"||w=="Txtz"){var ds=w=="OcnR"?2:gM.vY.indexOf(O.TxtT.v.TxtT),hV=gM.o4(ds),bv=hV[0],iQ=hV[1],hl=bv.e,jQ=bv.n,fZ=24,bS=0,hg,dZ;
function a$(df,iv,bV){return~~(jB*(df+iv)+8192)&127}var fT=new Float32Array(t),aH=new Float32Array(t),dB=new Float32Array(o.buffer.buffer),jB=w=="OcnR"?1/(1+(O.RplS.v-1)*.1):100/O.Scln.v;
if(ds==3)jB*=32/22.2;var ic=Date.now(),jL=jB,gs=1.4/k,k7=1.4/E;if(w=="Txtz"){jL*=1/255;fZ=256}for(var i=0;
i<E;i++){var c1=a$(i,$.y,jQ),hi=c1+1&127;for(var u=0;u<k;u++){var U=i*k+u,fd=a$(u,$.x,hl),hG=fd+1&127,g2=0,ed=0,ip=0;
if(w=="Txtz"){g2=x.N.hh(jB*u,jB*i,iQ,128,128);ed=x.N.hh(jB*u,jB*i+1,iQ,128,128);ip=x.N.hh(jB*u+1,jB*i,iQ,128,128)}else{g2=iQ[c1*hl+fd];
ed=iQ[hi*hl+fd];ip=iQ[c1*hl+hG]}fT[U]=Math.max(-fZ,Math.min((ip-g2)*jL,fZ));aH[U]=Math.max(-fZ,Math.min((ed-g2)*jL,fZ))}}if(w=="Txtz")gM.a9n(fT,aH,dB,$,6);
else gM.yn(fT,aH,dB,$,w=="Txtz"?1:w=="OcnR"?3.5/jB:O.Smth.v);if(w=="Txtz")bS=O.InvT.v?-1:1;else if(w=="Gls"){bS=[1,.4,.5,.5][ds]*(Math.exp(O.Dstr.v*.155)-1);
if(O.InvT.v)bS=-bS}else{bS=.5*(Math.exp(O.RplM.v*.155)-1)}var b9=o.buffer;if(w=="Txtz"){var hf=(2+gM.OU.indexOf(O.LghD.v.LghD))*Math.PI*.25,cc=Math.cos(hf),kr=Math.sin(hf);
hg={x:cc,y:kr,_M:0};eR.hW(hg);dZ=O.Rlf.v;dZ=dZ/4+Math.max(0,(dZ-35)*2)}function cA(iX,am,iK){var a5=x.a.overF(am,iX,1),df=(1-iK)*iX+iK*(iK*am+(1-iK)*a5);
return df*255}for(var i=0;i<E;i++)for(var u=0;u<k;u++){var U=i*k+u,aB=U<<2,jz=fT[U],aT=aH[U],iX={x:1,y:0,_M:jz};
eR.hW(iX);var am={x:0,y:1,_M:aT};eR.hW(am);var jf=eR.aho(iX,am);if(w=="Txtz"){var j$=eR.a3i(jf,hg)*bS,iK=1,K=1;
if(j$<0){K=0;j$=-j$}iK=Math.min(1,j$*dZ);b9[aB+0]=~~cA(M.buffer[aB]*(1/255),K,iK);b9[aB+1]=~~cA(M.buffer[aB+1]*(1/255),K,iK);
b9[aB+2]=~~cA(M.buffer[aB+2]*(1/255),K,iK)}else{var eJ=bS/jf._M,hZ=~~Math.max(0,Math.min(k-1,u-jf.x*eJ)),hC=~~Math.max(0,Math.min(E-1,i-jf.y*eJ)),hJ=hC*k+hZ<<2;
b9[aB+0]=M.buffer[hJ];b9[aB+1]=M.buffer[hJ+1];b9[aB+2]=M.buffer[hJ+2]}}}if(w=="PntD"){var ag=O.Shrp.v*.4,ii=O.BrsT.v.BrsT,hr={BrSm:[.75],BrsL:[.85],BrDR:[.68],BrsW:[.75],BrbW:[.78],BrSp:[.62]}[ii],dN=Math.round(O.Sz.v*.5);
x.Zy.iZ=hr[0];var dm=x.Zy.Rs;x.Zy.We(M.buffer,o.buffer,k,E,dN,dm,[]);var j_=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];
j_=x.FJ.VI(j_);var ae=o.buffer.slice(0);x.FJ.jM(ae,o.buffer,k,E,j_,0);for(var U=0;U<M.buffer.length;
U++){var c6=o.buffer[U]-ae[U];o.buffer[U]=Math.max(0,Math.min(255,ae[U]+ag*c6))}}if(w=="GlwE"){var cg=o.buffer.slice(0);
x.Zy.iZ=.5;var dm=x.Zy.Rs;x.Zy.We(M.buffer,cg,k,E,O.Smth.v>>>1,dm,[]);x.FJ.Z6(cg,o.buffer,k,E);x.U7(o.buffer,cg);
x.ZW(cg);x.TZ(cg,4278190080,16777215);x.Zy.We(cg,o.buffer,k,E,O.EdgW.v>>>1,x.Zy.Qr,[]);var ei=O.EdgB.v/10;
for(var U=0;U<cg.length;U++){if((U&3)==3)continue;var a5=o.buffer[U];o.buffer[U]=Math.max(0,Math.min(255,a5*ei))}}if(w=="StnG"){x.sZ.apC(M.buffer,k,E,o.buffer,O.ClSz.v,[Math.round(b.o),Math.round(b.w),Math.round(b.L)],O.BrdT.v)}if(w=="HlfS"){var gy=O.HlSz.v,bL=gy*2+1,gf=O.Cntr.v,fx=gM.x1.indexOf(O.ScrT.v.ScrT),t=k*E,dH=t*4,fz=x.$(t),ke=M.buffer,iG=0,j2=0;
gM.VU(ke,fz);var gH=fz.slice(0);x.m8.Av(gH,fz,$,gy);var iF=Math.PI/bL,g0=new Float64Array(k),cc=new Float64Array(k),jJ=new Float64Array(2*k);
for(var u=0;u<k;u++){var fd=(u-(k>>>1))*iF;g0[u]=fd*fd;cc[u]=Math.cos(fd);var jz=u<<1;jJ[jz]=Math.sin(jz*(1/4.5));
jJ[jz+1]=Math.sin((jz+1)*(1/4.5))}for(var i=0;i<E;i++){var c1=(i-(E>>>1))*iF,kr=Math.cos(c1),gE=c1*c1;
for(var u=0;u<k;u++){var K=kr;if(fx==0){var fi=.5+Math.sqrt(g0[u]+gE)*4.5;K=jJ[~~fi]}else if(fx==1){K=cc[u]*kr}var U=i*k+u,cJ=fz[U]*(.75+.25*K),iK=ke[(U<<2)+3]*(1/255),eh=Math.max(0,Math.min(255,~~cJ));
iG+=eh*iK,j2+=iK;fz[U]=eh}}iG/=j2;var jd=128+1.26*(iG-128),ei=.08+.25*Math.abs((128-iG)/128),cI=1+ei*gf;
for(var U=0;U<t;U++){var cJ=jd+(fz[U]-jd)*cI;fz[U]=Math.max(0,Math.min(255,~~cJ))}if(gf>46)x.round(fz);
gM.aP(fz,o.buffer,b,D)}for(var U=0;U<M.buffer.length;U+=4)o.buffer[U+3]=M.buffer[U+3]};gM.aP=function(w,M,O,b){var D=w.length,o=O.o,Z=O.w,$=O.L,k=b.o,E=b.w,t=b.L;
for(var U=0;U<D;U++){var c=w[U]*(1/255),l=1-c,q=U<<2;M[q]=~~(o*l+k*c);M[q+1]=~~(Z*l+E*c);M[q+2]=~~($*l+t*c)}};
gM.o4=function(w){if(w==6)w=2;var M="blocks canvas frosted tinylens brick burlap".split(" ")[w];if(gM.ol==null)gM.ol=[];
if(gM.ol[w]==null){var O,b;if(w==2){b=new cn(0,0,128,128);var D=ek.pp("AdNs");D.Mnch.v=!0;D.Dstr.v.Dstr="Gsn";
D.Nose.v.val=50;var O=x.$(b.v()*4),o=O.slice(0);new Uint32Array(o.buffer).fill(4286611584);ek.ly("AdNs",{buffer:o,rect:b},D,0,0,{buffer:O,rect:b})}else{var Z=ce.kQ.get("tex/"+M,!0)[0];
b=Z.fJ;O=new Uint8Array(Z.data)}var $=x.$(b.v());x.Oj(O,$,0);gM.ol[w]=[b,$]}return gM.ol[w]};gM.yn=function(w,M,O,b,D){if(D<=1){D=Math.round(D);
gM.a9n(w,M,O,b,[1,16,4][D]);return}var o=D*.42;if(w){x.m8.N9(w,O,b,o,3);w.set(O)}if(M){x.m8.N9(M,O,b,o,3);
M.set(O)}};gM.a9n=function(w,M,O,b,D){var o=x.FJ.VI([1,2,1,2,D,2,1,2,1]);if(w){O.set(w);x.FJ.ap(w,O,b.e,b.n,o);
w.set(O)}if(M){O.set(M);x.FJ.ap(M,O,b.e,b.n,o);M.set(O)}};gM.zb=function(w){if(w==null)return new at(0,0);
var M=0,O=w.GEfs?w.GEfs.v:[{v:w}];for(var U=0;U<O.length;U++){var b=O[U].v,o=1e4;if(b.GELv&&!b.GELv.v)continue;
var D=b.GEfk.v.GEft;if(D=="GlwE"||D=="Phtc"||D=="BsRl"||D=="PlsW"||D=="Chrm"||D=="Gls"||D=="OcnR")o=0;
M=Math.max(M,o)}return new at(M,M)};gM.aqd=function(w){var M=[0,0,0,0,0,0,0,0,0,0,0,0,0],O=[0,.6,.7,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.6,3,4,5][w];
for(var U=0;U<13;U++){var b=U-6;M[U]=1/(O*Math.sqrt(2*Math.PI))*Math.exp(-.5*(b/O)*(b/O))}return M};
gM.aic=function(w,M,O,b,D){var o=gM.aqd(D),Z=6,$=13;for(var k=0;k<b;k++)for(var E=0;E<O;E++){var t=k*O+E<<1,c=0,l=0;
for(var U=0;U<$;U++){var q=E+U-Z,d=q<0?0:q>=O?O-1:q,V=(k*O+d)*2,L=o[U];c+=L*w[V];l+=L*w[V+1]}M[t]=c;
M[t+1]=l}};gM.aiy=function(w,M,O,b,D){var o=gM.aqd(D),Z=6,$=13;for(var k=0;k<b;k++)for(var E=0;E<O;E++){var t=k*O+E<<1,c=0,l=0;
for(var U=0;U<$;U++){var q=k+U-Z,d=q<0?0:q>=b?b-1:q,V=(d*O+E)*2,L=o[U];c+=L*w[V];l+=L*w[V+1]}M[t]=c;
M[t+1]=l}};function gA(){}gA.Ch=[2,5,5,7,4,4];gA.J5="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
gA.vs="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
gA.Is=[[15,10,0],[15,10,1],[15,10,2],[15,10,3],[15,10,4],[15,10,5],[15,10,6],[15,10,7],[15,10,8],[15,10,9],[15,10,10],[15,10,11],[15,10,12],[15,10,13],[15,10,14],[15,10,15],[15,10,16],[15,10,17],[15,10,18],[15,10,19],[15,10,20],[15,10,21],[15,10,22],[15,10,23],[15,10,24],[15,10,25],[15,10,26]];
gA.a9$=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"];
gA.QI=function(w){if(w=="passThrough")return"pass";return gA.J5[gA.vs.indexOf(w)]};gA.VK=function(w){if(w=="pass")return"passThrough";
return gA.vs[gA.J5.indexOf(w)]};gA.getName=function(w){return gA.Is[gA.J5.indexOf(w)]};function Q(){this.rect=null;
this.buffer=null;this.eI="norm";this.opacity=255;this.fG=!1;this.N7=0;this.nT=0;this.q_=!0;this.CQ=[];
for(var U=0;U<10;U++)this.CQ.push(0,0,255,255);this.name=null;this.add={};this.Rv=null;this.Fx=null;
this.D=null;this.u$=null;this.ajZ=30;this.Gn=null;this.tX=null;this.An=null;this.c6=null;this.cn=0;this.aB=!1;
this.PR=null;this.Kn=new Q.BJ}Q.BJ=function(){this.Nn=!0;this.Aa=!0;this.fg=x.$(0);this.ak7=x.$(0);this.B7=null;
this.CB={};this.afd=null;this.ds=null;this.ku=null;this.dK=null;this.C6=null;this.ed=null;this.wn=null;
this.w6=null;this.E0=null;this.BO=null;this.UI=null;this.mW=null;this.Ij=!1};Q.BJ.prototype.aso=function(){this.Nn=null;
this.Aa=!1;this.B7=null;this.Ij=X.Nu};Q.BJ.prototype.av_=function(){eR.a3w(this.CB);this.fg=x.$(0);this.ak7=x.$(0);
if(this.dK)this.dK.delete();if(this.C6)this.C6.delete();this.dK=null;this.C6=null;var w=[this.ed,this.wn,this.w6,this.E0,this.BO,this.UI];
for(var U=0;U<6;U++)if(w[U]!=null&&w[U]instanceof X.ka)w[U].delete();this.ed=null;this.wn=null;this.w6=null;
this.E0=null;this.BO=null;this.UI=null};Q.prototype.K=function(w){if(w==null)w=this.rect.clone();if(this.Kn.B7==null)this.Kn.B7=w;
else this.Kn.B7=this.Kn.B7.MK(w)};Q.prototype._N=function(){return this.add.lsct==ht.cx||this.add.lsct==ht.xe};
Q.prototype.XS=function(){var w=this.add;return w.SoCo!=null||w.GdFl!=null||w.PtFl!=null};Q.prototype.alR=function(){var w=this.add.lmfx;
if(w==null)return;var M=["GrFl","patternFill"];for(var U=0;U<M.length;U++){var O=aN.IU[aN.order.indexOf(M[U])],b=w[O].v;
if(b.length==0)continue;for(var D=0;D<b.length;D++){var o=b[D].v;if(o.enab.v&&(o.Algn==null||!o.Algn.v))this.Kn.Aa=!0}}};
Q.prototype.aut=function(){var w=this.D,M=this.Kn.Nn;if(this.XS())w=this.yo();if(!X.Nu)return w.GZ();
if(this.Kn.C6==null||M||X.Nu!=this.Kn.Ij){var O=w.HW(),b=this.Kn.C6,D=null;if(M!=!0&&M!=null){D=M.clone();
D.offset(-O.x,-O.y)}if(b==null||b.e!=O.e||b.n!=O.n){b=this.Kn.C6=new X.ht(O.e,O.n);D=null}b.set(w.GZ(),D)}return this.Kn.C6};
Q.prototype.afY=function(w){var M=this.rect,O=this.buffer;if(!X.Nu){var b=this.g8(w,O,M);if(b){O=b.AJ;
M=b.rect}return O}if(this.Kn.B7!=null||X.Nu!=this.Kn.Ij){var b=this.g8(w,O,M);if(b){O=b.AJ;M=b.rect}var D=M;
if(X.Nu!=this.Kn.Ij||this.Kn.dK==null||this.Kn.dK.e!=D.e||this.Kn.dK.n!=D.n){if(this.Kn.dK)this.Kn.dK.delete();
this.Kn.dK=new X.ka(D.e,D.n);this.Kn.dK.set(O)}else{var o=this.Kn.B7.clone();o.offset(-M.x,-M.y);this.Kn.dK.set(O,o)}}return this.Kn.dK};
Q.prototype.Xn=function(){var w=this.D;if(this.XS())w=this.yo();return w!=null&&w.isEnabled&&(!w.rect.S9()||w.FL()!=255)};
Q.prototype.g8=function(w,M,O){if(this.Kf()){var b=this.k1(w);if(b.D&&b.D.isEnabled&&(!b.D.rect.S9()||b.D.color==0)){var D=this.add.SoLd.filterFX.v;
b.D.lq=D.filterMaskDensity?D.filterMaskDensity.v:255;b.D.Yo=D.filterMaskFeather?D.filterMaskFeather.v:0;
var o=b.buffer,Z=b.rect;if(Z.v()<O.v()){Z=O;o=x.$(Z.v()*4);x.xu(b.buffer,b.rect,o,Z)}var $=b.D.xQ(O);
x.ZW($);M=M.slice(0);x.a.LU(o,Z,M,O,$,O,0,O,1);return{AJ:M,rect:O}}}};Q.prototype.aoX=function(){var w={xE:!1,bH:!1,k5:0,gK:0};
if(this.add.vmsk&&this.add.vmsk.isEnabled)w.bH=!0;if(this.yo()&&this.yo().isEnabled)w.xE=!0;if(w.xE&&w.bH){w.k5=this.yo().rect.x-this.add.vmsk.yo().rect.x;
w.gK=this.yo().rect.y-this.add.vmsk.yo().rect.y}return w};Q.prototype.h1=function(w,M){if(M&&this.yo().Yo!=0){M=M.clone();
var O=Math.round(this.yo().Yo*2.4);M.M0(O,O)}var b=!1;if(this.add.lsct==ht.z5)return;var D=this,o=this.yo()!=null&&this.yo().iD,Z=this.add.vmsk!=null&&this.add.vmsk.iD,$=this.aoX(),k=JSON.stringify($)!=this.Kn.afd||$.xE&&o||$.bH&&Z;
if(k){if($.bH){var E=this.add.vmsk.yo();if($.xE){this.D=this.yo().H9(E);this.Kn.ds=new at(this.D.rect.x-this.yo().rect.x,this.D.rect.y-this.yo().rect.y)}else this.D=E}if(this.D)b=!0;
if(this.D)this.Kn.ku=new at(this.rect.x-this.D.rect.x,this.rect.y-this.D.rect.y);if($.xE)this.yo().iD=!1;
if($.bH)this.add.vmsk.iD=!1;this.K(M)}else{if($.xE&&$.bH){this.D.rect.x=this.yo().rect.x+this.Kn.ds.x;
this.D.rect.y=this.yo().rect.y+this.Kn.ds.y}}if(D.XS()){this.v4(w)}if(D.Ux()){var t;if(this.D)t=new at(this.rect.x-this.D.rect.x,this.rect.y-this.D.rect.y);
if(this.D&&this.D.isEnabled&&(this.Kn.ku==null||!t.M5(this.Kn.ku))){this.Kn.ku=t;this.K(M);b=!0}}if(a6.get(D.add)!=null)b=!0;
if(b){var c=this.Kn.Nn;if(M&&c&&c!=!0)c=c.MK(M);else c=M?M:!0;this.Kn.Nn=c}this.Kn.afd=JSON.stringify($)};
Q.prototype.v4=function(w){var M=this,O=M.add.vstk,b=new cn(0,0,w.e,w.n),D,o=M.add.vmsk?this.add.vmsk.yo():null,k=!0,c;
if(o&&o.isEnabled&&o.FL()==0)D=o.HW().clone();else D=b;var Z=M.yo();if(Z&&Z.isEnabled&&Z.FL()==0)D=D.mX(M.D.HW());
var $=o&&O;if(O&&(!O.strokeEnabled.v||O.strokeStyleLineWidth.v.val==0))$=!1;if(O&&!O.fillEnabled.v&&$)k=!1;
var E=x.$(D.v()*4);if(k){if(M.add.SoCo)eR.rG(E,M.add.SoCo.Clr.v);if(M.add.GdFl){var t=o&&o.color==0?x.O.rt(M.add.vmsk.j,null,!0):null;
eR.Yf(M.add.GdFl,E,D,w,null,t)}if(M.add.PtFl)eR.o2(M.add.PtFl,E,D,w.add.Patt,M.add.fxrp)}if($)c=aN.d_.dB.indexOf(O.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(o){var l=o.lq;if($)o.lq=255;var q=x.$(D.v());if(o.FL()!=0)q.fill(Math.round(o.FL()));if(o&&o.isEnabled){var d=o.HW(),V=o.GZ();
if(d.M5(D))x.U7(V,q);else x.CV(V,d,q,D)}if($&&c==2){}else{if(M.add.SoCo&&k){x.Jm(q,E,3)}else x.cK(q,D,E,D)}if($)o.lq=l}M.buffer=E;
M.rect=D;if($){var L=O.strokeStyleContent.v,e=aN.d_.SA.indexOf(L.classID),H=this.add.vmsk.yo(O);if(c!=0&&!M.rect.M5(b))M.extend(M.rect.MK(H.HW()));
var l=H.lq;H.lq=255;var j=H.xQ(M.rect);H.lq=l;if(H.color==255)x.ZW(j);var g=x.$(M.rect.v()*4);if(e==0)eR.rG(g,L.Clr.v);
if(e==1)eR.Yf(L,g,M.rect,w,null,o.color==0?o.rect:null);if(e==2)eR.o2(L,g,M.rect,w.add.Patt,M.add.fxrp);
var K=O.strokeStyleOpacity.v.val/100;if(K!=1)x.Ho(j,K);if(H.color==255)c=2-c;if(c<2){x.a.LU(g,M.rect,M.buffer,M.rect,j,M.rect,255,M.rect,1,!1);
if(c==0)x.Rr(q,M.buffer)}if(c==2){x.Rr(j,g);x.ZW(q);x.a.LU(g,M.rect,M.buffer,M.rect,q,D,255,M.rect,1,!1);
x.ZW(q)}if(H.lq!=255){var a=g.slice(0);x.TZ(a,4278190080,16777215);x.a.DP("norm",a,M.rect,M.buffer,M.rect,M.rect,1-H.lq/255)}l=o.lq;
o.lq=255;this.ak7=o.xQ(M.rect);o.lq=l}this.K()};Q.prototype.Gf=function(w,M,O){var b=this,D=b.add.SoLd.Idnt.v,o=b.add.SoLd,Z=x.p.qe(y.u.xT(o.nonAffineTransform)),$=w.Fd(D,o.Crop?o.Crop.v:null,[Z.e,Z.n],o.Impr.v.classID,O),q=1;
if($==null)return;var k=$.vN;o.Sz.v.Wdth.v=k[1].e;o.Sz.v.Hght.v=k[1].n;var E=$.Z1==null?o.Rslt.v.val:$.Z1,t=o.warp.v,c=y.u.xT(o.nonAffineTransform),l=k[1].clone();
l.e*=q;l.n*=q;l.x=(k[1].e-l.e)/2;l.y=(k[1].n-l.n)/2;var d=x.N.C9(c,l);if(t&&!x.vL.hC(t)){var Z=x.p.qe(x.vL.GS(t)),V=Z.x,L=Z.y,e=1/Z.e,H=1/Z.n;
d=x.N.C9(c);d=x.N.H9(d,[e,0,-V*e,0,H,-L*H,0,0])}var j=y.u.yU(k,M?0:1,d,t,null,null,null,M);if(j==null){b.buffer=x.$();
b.rect=new cn}else if(b.Kf()){var g=b.k1(w);g.buffer=j.buffer;g.rect=j.rect.clone();this.b5(w,M)}else{b.buffer=j.buffer;
b.rect=j.rect}b.h1(w);b.K();w.K()};Q.prototype.b5=function(w,M){if(M==null)M=!1;var O=this.k1(w),b=this.add.SoLd.filterFX.v,D=ek.awb(b),o=new cn(0,0,w.e,w.n),Z=O.rect.MK(o),$=O.rect.clone();
$.M0(D.x,D.y);var k={buffer:null,rect:Z.mX($)};k.buffer=x.$(k.rect.v()*4);x.xu(O.buffer,O.rect,k.buffer,k.rect);
if(b.enab.v&&M==!1){var E=b.filterFXList.v;for(var U=0;U<E.length;U++){var t=E[U].v;if(t.enab.v==!1)continue;
var c=t.blendOptions.v,l=gA.QI(c.Md.v.BlnM),q=c.Opct.v.val/100,d=x.M.FL(t.FrgC.v),V=x.M.FL(t.BckC.v),L=ek.aQ(t),e={buffer:x.$(k.buffer.length),rect:k.rect.clone()},H=t.Fltr?t.Fltr.v:null;
if(a6.wv[L]!=null){var j=a6.wv[L],g=a6.kM(j,H);if(g)a6.ly(g,k.buffer,e.buffer,k.rect)}else ek.ly(L,k,H,d,V,e,[w.add.lnk2?w.add.lnk2:[],this.yo(),w.SN]);
if(l=="norm"&&q==1)k=e;else if(l=="norm"){x.a.LU(e.buffer,e.rect,k.buffer,k.rect,null,null,null,k.rect,q)}else{x.a.DP(l,e.buffer,e.rect,k.buffer,k.rect,k.rect,q)}}}this.rect=k.rect;
this.buffer=k.buffer;this.Sr();this.K();w.K()};Q.prototype.mG=function(w,M,O){this.PR=this.a9g(w,M,O)};
Q.prototype.K4=function(w,M){var O=this.a9g(w,M,!0);if(O==null)return null;var b={uf:O.cn,bg:O.lQ,rect:O.Sf};
if(b.uf==1||b.uf==3){var D=b.rect,o=x.$(D.e*D.n*4);x.Jm(b.bg,o,0);x.Jm(b.bg,o,1);x.Jm(b.bg,o,2);x.H_(w.X.channel,w.X.rect,o,D);
b.bg=o}return b};Q.prototype.a9g=function(w,M,O){var b,D,o,Z,$,k,E;if(this.cn<=0){var t=x.$(this.rect.v());
x.Oj(this.buffer,t,3);b=x.qL.a8(M,{channel:t,rect:this.rect},3);if(b==null)return null;var c=x.Kx(b.channel,b.rect);
Z=b.rect.clone();$=this.rect.clone();D=x.$(Z.v()*4);x.xu(this.buffer,$,D,Z);x.Jm(b.channel,D,3);o=this.buffer.slice(0);
if(!O){var l=M.channel.slice(0);x.ZW(l);x.cK(l,M.rect,o,$)}k=this.buffer.slice(0);E=this.rect.clone()}if(this.cn==1||this.cn==3){var q=this.cn==1?this.yo():this.k1(w).D;
Z=M.rect.clone();$=q.rect.clone();D=q.amv(Z);var o=q.channel.slice(0);if(!O)x.a.po(q.color==255?x.st(Z.v()):x.KS(Z.v()),Z,o,$,M.channel,Z,1);
k=q.channel.slice(0);E=q.rect.clone()}return{cn:this.cn,lQ:D,Sf:Z,Gh:o,zP:$,D0:k,xH:E}};Q.prototype.Oe=function(w,M){var O=this.PR;
if(O.cn==0){this.rect=O.xH;this.buffer=O.D0;this.K()}if(O.cn==1||O.cn==3){var b=O.cn==1?this.yo():this.k1(w).D;
b.channel=O.D0;b.rect=O.xH;if(this.cn==1){b.iD=!0;this.h1(w)}if(this.cn==3)this.K()}this.PR=M};Q.prototype.Us=function(w,M){if(this.cn<=0&&M.rect.M5(this.rect)){var O=x.$(this.rect.v());
x.Oj(this.buffer,O,3);if(x.M5(w.X.channel,O)){var b=this.rect,D=this.buffer;this.PR={cn:this.cn,lQ:D.slice(0),Sf:b.clone(),Gh:x.$(0),zP:new cn,D0:x.$(0),xH:new cn};
return!0}}var o=this.PR;if(o==null)return!1;if(o.cn!=this.cn)return!1;if(!M.rect.M5(o.Sf))return!1;var Z=o.zP.MK(o.Sf);
if(o.cn<=0){if(!Z.M5(this.rect))return!1;var $=x.$(o.lQ.length>>2);x.Oj(o.lQ,$,3);if(!x.M5(M.channel,$))return!1;
var k=x.$(Z.e*Z.n*4);x.xu(o.Gh,o.zP,k,Z);x.a.DP("norm",o.lQ,o.Sf,k,Z,Z,1);return x.M5(k,this.buffer)}if(o.cn==1||o.cn==3){var E=o.cn==1?this.yo():this.k1(w).D;
if(!Z.M5(E.rect))return!1;var t=x.$(Z.v());t.fill(E.color);x.CV(o.Gh,o.zP,t,Z);x.a.po(o.lQ,o.Sf,t,Z,M.channel,Z,1);
return x.M5(t,E.channel)}};Q.prototype._U=function(w,M,O,b){var D=this.PR;D.Sf.offset(M,O);var o=D.zP.MK(D.Sf);
if(D.cn<=0){var Z=x.$(o.v()*4);x.xu(D.Gh,D.zP,Z,o);x.a.DP("norm",D.lQ,D.Sf,Z,o,o,1);this.buffer=Z;this.rect=o;
this.K()}else{var $=this.cn==1?this.yo():this.k1(w).D,k=x.$(o.v());k.fill($.color);x.CV(D.Gh,D.zP,k,o);
x.a.po(D.lQ,D.Sf,k,o,b.channel,o,1);$.channel=k;$.rect=o.clone();if(this.cn==1){$.iD=!0;this.h1(w)}if(this.cn==3)this.K()}};
Q.prototype.amm=function(){var w=[-1,0,1,2];if(this.D)w.push(-2);if(this.u$)w.push(-3);return w};Q.prototype.getName=function(){return this.add.luni?this.add.luni:this.name};
Q.prototype.EJ=function(aq){this.add.luni=this.name=aq};Q.prototype.FO=function(w){var M=this.add.lnsr,O=this.add.TySh;
if(M=="rend"&&O){var b=ah.mb(O.GM);this.EJ(b.slice(0,b.length-1).replace(/(?:\r\n|\r|\n)/g," ").slice(0,32))}};
Q.prototype.Vd=function(){return(this.N7&1<<1)==0};Q.prototype.Ux=function(){return(this.N7&1<<4)==0};
Q.prototype.et=function(){return(this.N7&1<<5)!=0};Q.prototype.ali=function(){var w=this;if(w.add.lnsr!="bgnd"){w.add.lnsr="bgnd";
w.EJ("Background");w.add.lspf=1<<2}};Q.prototype.akN=function(){var w=this;if(w.add.lnsr=="bgnd"){delete w.add.lnsr;
w.EJ("Layer 0");w.add.lspf=0}};Q.prototype.uK=function(w){var M=this.add.lspf;return M==null?!1:(M>>w&1)!=0};
Q.prototype.ah=function(w){if(w&&!this.Vd())this.N7-=2;if(!w&&this.Vd())this.N7+=2};Q.prototype.nP=function(){var w=this.add.lmfx;
if(w==null)return!1;for(var M in w){if(M=="masterFXSwitch")continue;if(M=="Scl")continue;if(M=="classID")continue;
if(w[M].v.length>0)return!0}return!1};Q.prototype.Kf=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null};
Q.prototype.Q9=function(){var w=this.add.lmfx;if(w==null)return!1;if(!w.masterFXSwitch.v)return!1;for(var M in w){if(M=="masterFXSwitch")continue;
if(M=="Scl")continue;if(M=="classID")continue;var O=w[M].v;for(var U=0;U<O.length;U++)if(O[U].v.enab.v)return!0}return!1};
Q.prototype.Op=function(w,M,O,b){var D=new cn,o=this.XW(w,O,b);if(o.indexOf(0)!=-1)D=D.MK(this.rect);
if(o.indexOf(1)!=-1){var Z=this.yo(),$=Z.HW();D=O&&Z.FL()==0?D.S9()?$:D.mX($):D.MK($)}if(o.indexOf(2)!=-1){var k=this.add.vmsk,E=this.add.vstk,t;
if(M){t=x.O.rt(k.j,k.g.length!=0?k.g:null)}else t=x.O.rt(k.j);if(!b&&E&&E.strokeEnabled.v){var c=E.strokeStyleLineAlignment.v.strokeStyleLineAlignment,l=E.strokeStyleLineJoinType.v.strokeStyleLineJoinType;
if(c!="strokeStyleAlignInside"){var q=E.strokeStyleLineWidth.v.val;if(l=="strokeStyleMiterJoin")t=new cn(0,0,w.e,w.n);
else t.M0(q,q)}}D=D.MK(t)}if(o.indexOf(3)!=-1)D=D.MK(this.k1(w).D.HW());if(o.length==0&&this.XS())D=b?new cn(0,0,0,0):new cn(0,0,w.e,w.n);
return D};Q.prototype.Ir=function(){var w=this.add.artb,M=w.artboardBackgroundType.v,O=0;if(M==1)O=4294967295;
else if(M==2)O=4278190080;else if(M==3)O=0;else if(M==4){O=w.Clr.v;O=255<<24|O.Bl.v<<16|O.Grn.v<<8|O.Rd.v}else throw M;
return O};Q.prototype.pU=function(){var w=this.add.artb.artboardRect.v,M=w.Btom.v,O=w.Left.v,b=w.Rght.v,top=w.Top.v;
return new cn(O,top,b-O,M-top)};Q.prototype.Bo=function(w){var M=Q.dY(w);if(this.add.artb==null)this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null},artboardBackgroundType:{t:"long",v:1}};
this.add.artb.artboardRect.v=M};Q.dY=function(w){var M={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};
M.Btom.v=w.y+w.n;M.Left.v=w.x;M.Rght.v=w.x+w.e;M.Top.v=w.y;return M};Q.prototype.XW=function(w,M,O){var b=[],D=this;
if(!M&&D.aB&&O){b.push(2)}else if(D.cn<=0||M){if(D.Ux())if(!this.rect.S9())b.push(0);if(D.yo()&&!D.yo().rect.S9())if(D.yo().Jr||M)b.push(1);
if(D.add.vmsk)if(D.add.vmsk.Jr||M)b.push(2);if(D.Kf()&&D.k1(w).D&&!D.k1(w).D.rect.S9())b.push(3)}else if(D.cn==1){b.push(1);
if(D.yo().Jr&&!D.yo().rect.S9()){if(D.Ux())if(!this.rect.S9())b.push(0);if(D.add.vmsk)if(D.add.vmsk.Jr)b.push(2)}}else if(D.cn==3&&!D.k1(w).D.rect.S9())b.push(3);
if(D.add.artb&&b.indexOf(0)==-1)b.push(0);b.sort();return b};Q.prototype.yo=function(){var w=this;return w.u$?w.u$:w.add.vmsk&&w.add.vmsk.isEnabled?null:w.D};
Q.prototype.k1=function(w){var M=this.add.SoLd.placed.v,O=w.add.FEid;if(O==null)return null;for(var U=0;
U<O.length;U++)if(O[U].id==M)return O[U];return null};Q.prototype.extend=function(w){x.avO(this,w)};
Q.prototype.agJ=function(w,M,O){var b=w.clone();if(this.Q9()){var D=this.add.lmfx,o=M.root.KZ(M.B.indexOf(this)),Z=D.gradientFillMulti.v,$=!1;
for(var U=0;U<Z.length;U++)if(Z[U].v.enab.v&&Z[U].v.Algn.v)$=!0;if($)b=b.MK(o.HW(M,!1));var k=eR.al_(this.add.lmfx,M,O);
b.offset(k.x,k.y);b.e+=k.e;b.n+=k.n}return b};Q.prototype.Sr=function(){if(this.Ux())x.Su(this);var w=this.yo();
if(w)w.Sr()};Q.prototype.clone=function(){var w=new Q;w.rect=this.rect.clone();w.buffer=this.buffer.slice(0);
w.eI=this.eI;w.opacity=this.opacity;w.fG=this.fG;w.N7=this.N7;w.name=this.name;w.CQ=this.CQ.slice(0);
if(this.D)w.D=this.D.clone();if(this.u$)w.u$=this.u$.clone();for(var M in this.add)w.add[M]=jb.clone(M,this.add[M]);
return w};Q.prototype.rv=function(w){var M=this;if(M.add.TySh)delete M.add.TySh;if(M.add.SoLd){var O=this.g8(w,this.buffer,this.rect);
if(O){this.buffer=O.AJ;this.rect=O.rect;this.K()}delete M.add.SoLd}if(M.add.SoCo||M.add.GdFl||M.add.PtFl){if(M.add.vogk)delete M.add.vogk;
if(M.add.SoCo)delete M.add.SoCo;if(M.add.GdFl)delete M.add.GdFl;if(M.add.PtFl)delete M.add.PtFl;if(M.add.vmsk){console.log(M.u$,M.D);
delete M.add.vmsk;if(M.u$==null&&M.D)delete M.D;else if(M.u$!=null&&M.D!=null){M.D=M.u$;delete M.u$}}}if(!M._N()&&a6.get(M.add)==null&&!this.Ux())this.N7-=16};
Q.prototype.u6=function(w){var M=255,O=0;if(w==2){var b=this.add.SoLd.filterFX.v;if(b.filterMaskDensity)M=b.filterMaskDensity.v;
if(b.filterMaskFeather)O=b.filterMaskFeather.v}else{var D=w==0?this.yo():this.add.vmsk;M=D.lq;O=D.Yo}return{q5:w,oW:M,cm:O}};
Q.prototype.a6v=function(w){if(w.q5==2){var M=this.add.SoLd.filterFX.v;if(w.oW==255)delete M.filterMaskDensity;
else M.filterMaskDensity={t:"long",v:w.oW};if(w.cm==0)delete M.filterMaskFeather;else M.filterMaskFeather={t:"doub",v:w.cm};
this.K()}else{var O=w.q5==0?this.yo():this.add.vmsk;O.lq=w.oW;O.Yo=w.cm;O.iD=!0}};Q.prototype.De=function(){var w=this,M=w.add.vmsk;
if(M==null)return;w.add.vogk=x.lK.avu(M.j)};Q.De=function(w){var M=[],O=x.O.wW(w);for(var b=0;b<O;b++)M.push(x.lK.KS());
return M};var ht={FK:0,cx:1,xe:2,z5:3};Q.MX=function(){this.name="Mask";this.Uy=!1;this.RF={o:255,w:0,L:0};
this.s$=50;this.kB=0;this.color=255;this.Jr=!0;this.isEnabled=!0;this.Qb=!1;this.lq=255;this.Yo=0;this.rect=new cn;
this.channel=x.$(0);this.Of=null;this.aek=null;this.iD=!0};Q.MX.prototype.H9=function(w){if(!this.isEnabled)return w;
var M=new Q.MX;M.color=Math.round(this.FL()*w.FL()/255);if(this.FL()==0&&w.FL()==0)M.rect=this.HW().mX(w.HW());
else if(w.FL()==0)M.rect=w.HW().clone();else if(this.FL()==0)M.rect=this.HW().clone();else M.rect=this.HW().MK(w.HW());
M.channel=this.xQ(M.rect);M.lq=255;M.Yo=0;var O=w.xQ(M.rect);x.acw(O,M.rect,M.channel,M.rect);return M};
Q.MX.prototype.HW=function(){if(this.Yo==0)return this.rect;var w=Math.ceil(this.Yo*2.2),M=this.rect.clone();
if(M.y==0){if(M.x==0)M.e+=w;else M.M0(w,0);M.n+=w}else M.M0(w,w);return M};Q.MX.prototype.GZ=function(){if(this.Yo==0&&this.lq==255)return this.channel;
if(this.Yo==0){var w=this.channel.slice(0);x.ZW(w);x.Ho(w,this.lq/255);x.ZW(w);return w}var M=this.HW(),O=this.amv(M),w=x.$(M.v());
x.m8.f5(O,w,M,this.Yo);if(this.lq!=255){x.ZW(w);x.Ho(w,this.lq/255);x.ZW(w)}return w};Q.MX.prototype.FL=function(){return Math.round(255-(255-this.color)*(this.lq/255))};
Q.MX.prototype.extend=function(w){x.extend(this,w,this.color)};Q.MX.prototype.Sr=function(){if(this.color==255)x.ZW(this.channel);
x.Sr(this);if(this.color==255)x.ZW(this.channel)};Q.MX.prototype.clone=function(){var w=new Q.MX;w.name=this.name;
w.Uy=this.Uy;w.RF=this.RF;w.s$=this.s$;w.kB=this.kB;w.color=this.color;w.Jr=this.Jr;w.isEnabled=this.isEnabled;
w.Qb=this.Qb;w.lq=this.lq;w.Yo=this.Yo;w.rect=this.rect.clone();w.channel=this.channel.slice(0);return w};
Q.MX.prototype.amv=function(w,M){if(M==null)M=x.$(w.v());M.fill(this.color);x.CV(this.channel,this.rect,M,w);
return M};Q.MX.prototype.xQ=function(w,M){var O=this.HW(),b=this.GZ();if(M==null)M=x.$(w.v());M.fill(this.FL());
x.CV(b,O,M,w);return M};Q.G6=function(){this.Jr=!0;this.isEnabled=!0;this.lq=255;this.Yo=0;this.j=[{type:6},{type:8,all:0}];
this.QQ=[-3,-3];this.Ao=!1;this.u$=null;this.iD=!0;this.g=[];this.yu=[]};Q.G6.prototype.offset=function(w,M){this.u$=this.yo();
x.O.I0(this.j,new f$(1,0,0,1,w,M));this.u$.rect.offset(w,M)};Q.G6.prototype.yo=function(w){if(!this.iD&&this.u$&&w==null){this.u$.isEnabled=this.isEnabled;
return this.u$}var M=x.O.rt(this.j),O="strokeStyleLineAlignment",b="strokeStyleLineJoinType";if(M.v()>3e4*3e4)M=new cn(0,0,100,100);
if(w&&w[O].v[O]!="strokeStyleAlignInside"){var D=1;if(w[b].v[b]=="strokeStyleMiterJoin"){var o=x.O.aeQ(this.j),Z=o/2,$=Math.sin(Z),k=Math.cos(Z);
k/=$;$=1;var D=Math.sqrt(k*k+$*$);if(isNaN(D)||D<1)D=1}D*=w[O].v[O]=="strokeStyleAlignOutside"?1:.5;
var E=Math.ceil(w.strokeStyleLineWidth.v.val*D);E=Math.min(E,600);M.M0(E,E)}M=x.p.Mf(M);var t=new Q.MX;
t.color=x.O.AW(this.j)?0:255;t.Jr=this.Jr;t.isEnabled=this.isEnabled;t.Qb=!0;t.rect=M;t.lq=this.lq;t.Yo=this.Yo;
t.channel=x.$(t.rect.v());if(!M.S9())x.O.a8h(this.j,t.channel,t.rect,w);if(w==null){this.u$=t;this.iD=!1}return t};
Q.G6.prototype.clone=function(){var w=new Q.G6;w.Jr=this.Jr;w.isEnabled=this.isEnabled;w.lq=this.lq;
w.Yo=this.Yo;w.j=Q.G6.Zc(this.j);w.QQ=this.QQ.slice(0);w.Ao=this.Ao;w.g=this.g.slice(0);w.yu=this.yu.slice(0);
return w};Q.G6.prototype.concat=function(w){var M=w.j.slice(2);if(M.length==0)return;M[0].K$=3;this.j=this.j.concat(M)};
Q.G6.Zc=function(w){var M=[];for(var U=0;U<w.length;U++){var O=w[U];if(O.type>5||O.type==0||O.type==3)M.push(JSON.parse(JSON.stringify(O)));
else M.push({type:O.type,vA:O.vA.clone(),I:O.I.clone(),YJ:O.YJ.clone()})}return M};Q.G6.ac8=function(w,M,O){if(w.length!=M.length)return!1;
for(var U=2;U<w.length;U++){var b=w[U],D=M[U];if(b.type!=D.type)return!1;if(b.type==0||b.type==3){if(b.length!=D.length||!O&&b.K$!=D.K$)return!1}else if(!b.vA.M5(D.vA)||!b.I.M5(D.I)||!b.YJ.M5(D.YJ))return!1}return!0};
Q.G6.prototype.avB=function(){var w=this.j;for(var U=3;U<w.length;U++)if(w[U].type==0||w[U].type==3)w[U].K$=-1};
Q.dG=function(){this.type=null;this.Vu=2;this.QV=null;this.P_="";this.Gw="";this.fL="";this.open=0;this.raw=null;
this.vN=null;this.arg="";this.Tb=!1};Q.dG.prototype.clone=function(){var w=new Q.dG;w.type=this.type;
w.Vu=this.Vu;w.QV=this.QV;w.P_=this.P_;w.Gw=this.Gw;w.fL=this.fL;w.open=this.open;w.raw=new Uint8Array(this.raw.buffer.slice(0));
return w};Q.dG.prototype.Hp=function(w,M,O,b,D){if(O==null)O="none";var o=this,Z=ce.S5(o.raw.buffer),$=Z=="svg"||Z=="pdf";
if(o.vN){var k=M&&$&&Math.max(o.vN[1].e,o.vN[1].n)<Math.max(M[0],M[1]);if(!k&&O==this.arg&&!o.Tb)return}this.arg=O;
if(!$)w=0;if(Z==null){alert("Unsupported format: "+n.TP(o.raw,0,4));return null}var E=ce.ti(Z);if(E.wZ){var t=new fO(name+(Z=="psd"?"":"-"+Z)+".psd"),c;
E.sc(o.raw.buffer,t,M);var l=new cn(0,0,t.e,t.n);if("avrg maxx medn minn rang stdv summ vari".split(" ").indexOf(O)!=-1){var q=[];
for(var U=0;U<t.B.length;U++){var d=t.B[U],V=d.buffer;if(!d.rect.M5(l)){V=x.$(l.v()*4);x.xu(d.buffer,d.rect,V,l);
console.log("resizing")}q.push(V)}c=x.$(l.v()*4);x.stack.stack(q,c,O)}else{for(var U=0;U<t.B.length;
U++)if(t.B[U].XS())t.B[U].h1(t);if(b&&t.Tb){var L=km.arT(t,b,D);o.Tb=!L;if(L)km.apP(t,b,D)}t._v();t.K();
t.Uc();c=t.Hp()}o.vN=[c,l];o.Z1=t.Z1!=null&&t.Z1!=0?t.Z1:72}else if(E){var e=E.sc(o.raw.buffer)[0];o.vN=[new Uint8Array(e.data),e.fJ];
o.Z1=e.Z1!=null&&e.Z1!=0?e.Z1:72}if(o.vN){if(w==1){var V=o.vN[0],H=o.vN[1],j=x.$(H.v());x.Oj(V,j,3);
var g=x.Kx(j,H),K=x.$(g.v()*4);x.xu(V,H,K,g);o.vN=[K,g]}x.aS(o.vN)}};Q.Eb="0";Q.MF="2";Q.ZV="2.5";Q.OR="2.6";
Q.u2="3";Q.Dq="4";Q.Aw="4.5";Q.axo="4.6";Q.a8D="5";Q.lT="5.5";Q.a8L="6";Q.P9="7";Q.aj$="8";Q.WL="9";
Q.Fy="9.3";Q.as2="9.5";Q.ne="9.6";Q.ky="10";Q.O5="11";Q._o="12";Q.oT="13";Q.RG="13.1";Q.a6s="13.2";Q.xw="13.3";
Q.U3="13.4";Q.rQ="14";Q.B8="14.1";Q.Tu="14.2";Q.V_="14.3";Q.h8="17";Q.Bg="18";Q.aks="19";Q.ER="19.5";
Q.IC="19.6";Q.wM="19.7";Q.Hg="19.8";Q.jO="20";Q.d4="21";Q.d1="21.5";Q.Pa="22";Q.By="22.5";Q.sb="23";
Q.ayb="24";Q.y6="25";Q.a8o="26";Q.aaz="27";Q.K3="28";Q.sk="29";Q.DQ="30";Q.SR="31";Q.Nv="32";Q.ta="33";
Q.Q0="34";Q.NF="35";Q.x7="36";Q.TM="36.5";Q.LQ="37";Q.Vz="37.5";Q.aki="37.6";Q.CS="38";Q.t$="38.5";Q.aO="38.6";
Q.cw="39";Q.re="40";Q.a27="41";Q.aco="42";Q.ag="50";Q.ZO="51";Q.UE="52";Q.mZ="53";Q.Pk="54";Q.apN="54.5";
Q.SO="54.6";Q.avb="54.7";Q.OY="54.8";Q.dH="55";Q.B1="56";Q.ej="57";Q.KP="58";Q.GX="59";Q.Gu="60";function fQ(){this.depth=0;
this.index=-1;this.q=null;this.an1=null;this.hD=-1;this.children=null;this.parent=null;this.EZ=null}fQ.prototype.arh=function(w,M){if(this.depth!=0)w.push(this.q.getName());
if(this.children)for(var U=0;U<this.children.length;U++)this.children[U].arh(w,M);if(w.length>M.X$.length)M.X$=w.slice(0);
if(this.depth!=0)w.pop()};fQ.prototype.alG=function(){var w=0;if(this.q._N()){for(var U=0;U<this.children.length;
U++)w+=this.children[U].alG()}else if(this.q.buffer)w+=this.q.buffer.length;return w};fQ.prototype.KZ=function(w){var M=this.EZ[w];
return this.EZ[w]};fQ.prototype.a1D=function(w,M){var O=this.q;if(!O.Vd()||O.uK(2)||O.uK(31))return null;
if(O.Xn()){var b=O.D.rect.Yt(w);if(!b&&O.D.color==0)return}if(O._N()){for(var U=0;U<this.children.length;
U++){var aq=this.children[U];aq.a1D(w,M)}}else if(O.rect.Yt(w))M.push(this.index)};fQ.prototype.BE=function(w,M){var O=this.q;
if(!O.Vd()||O.uK(2)||O.uK(31))return null;if(O.Xn()){if(O.D.rect.MS(w)){if(!x.BE(w,O.D.channel,O.D.rect))return null}else if(O.D.color==0)return null}if(O._N()){if(O.add.artb&&!O.pU().MS(w))return null;
for(var U=this.children.length-1;U>=0;U--){var aq=this.children[U],b=aq.BE(w,M);if(b&&M==null)return b}return null}else if(O.add.TySh&&O.rect.MS(w)||x.ar4(w,O.buffer,O.rect)){if(M==null)return this;
else M.push(this.index)}return null};fQ.prototype.ava=function(w){var M=this.q;if(!M.Vd()||M.uK(2)||M.uK(31))return null;
var O=M.add.vmsk;if(O&&O.isEnabled){var b=x.O.BE(O.j,w).zS;if(b!=-1)return{auQ:this,a0I:b}}if(M._N()){if(M.add.artb&&!M.pU().MS(w))return null;
for(var U=this.children.length-1;U>=0;U--){var aq=this.children[U],D=aq.ava(w);if(D)return D}return null}return null};
fQ.prototype.a7N=function(w,M){w.push(this.index);if(this.q._N()){w.push(this.hD);if(M)if(this.q.cn==1&&this.q.yo().Jr==!1)return;
for(var U=0;U<this.children.length;U++)this.children[U].a7N(w)}};fQ.Ac=function(){var w=document.createElement("canvas");
return w.getContext("2d")};fQ.rf=32;fQ.prototype.Td=function(w,M,O){var b=this.q,o,Z;if(b._N()&&b.add.artb!=null)M=b.pU();
var D=fQ.rf*y.V();if(M.e>M.n){o=D;Z=Math.floor(D*(M.n/M.e))}else{o=Math.floor(D*(M.e/M.n));Z=D}if(b.XS()&&b.add.vmsk==null||b.add.TySh)o=Z=Math.max(Z,16);
else{o=Math.max(o,6);Z=Math.max(Z,6)}var $=Z;if(O&&b.Gn==null){b.Gn=fQ.Ac();b.tX=fQ.Ac();b.An=fQ.Ac();
b.c6=fQ.Ac()}var k=b.XS()&&b.add.vmsk;if(k){var E=b.rect.clone(),l,q;if(E.S9())E=new cn(0,0,20,20);var t=E.e,c=E.n;
if(t>c){l=D;q=Math.floor(D*(c/t))}else{l=Math.floor(D*(t/c));q=D}if(l*q==0)l=q=16;if(O)x._K.pP(b.Gn,l,q,E,b.buffer,b.rect,!1);
if(O)x._K.a8T(b.Gn,l,q);$=q}else if(b.add.TySh){if(O)x._K.atz(b.Gn,$,$,b.add.TySh)}else if(b.add.SoCo){$=Math.max(16,Math.min(o,Z));
if(O)x._K.ah0(b.Gn,$,$,b.add.SoCo)}else if(b.add.GdFl){if(O)x._K.avW(b.Gn,$,$,b.add.GdFl)}else if(b.add.PtFl){if(O)x._K.agx(b.Gn,$,$,b.add.PtFl,w)}else if(a6.get(b.add)!=null){if(O)x._K.aj3(b.Gn,$,$,b.add)}else if(b.add.SoLd){if(O)x._K.pP(b.Gn,o,Z,M,b.buffer,b.rect,!1);
if(O)x._K.a63(b.Gn,o,Z,b.add.SoLd)}else if(b._N()){$=16}else{if(O){if(b.Ux())x._K.pP(b.Gn,o,Z,M,b.buffer,b.rect,!1);
else{x._K.atN(b.Gn,$,$)}}}var d=b.yo();if(O){if(d)x._K.ll(b.tX,o,Z,M,d);if(b.Kf()&&b.k1(w)&&b.k1(w).D){var V=b.k1(w).D;
x._K.ll(b.c6,o,Z,M,V)}if(!k&&b.add.vmsk){x._K.ll(b.An,o,Z,M,b.add.vmsk.yo(),!0)}}if(b.add.vmsk||d)$=Math.max($,Z);
b.ajZ=Math.max($,16);if(O!=!0&&b._N()&&(b.add.lsct==ht.cx||w.B.length<4e3))for(var U=0;U<this.children.length;
U++)this.children[U].Td(w,M)};fQ.prototype.ai2=function(w,M,O,b){this.depth=O;var D=w[M];if(b==null)b=[];
this.EZ=b;if(D.add.lsct==ht.z5){this.an1=D;this.hD=M-1;this.children=[];var U=M+1;while(!0){var o=w[U];
if(o==null)console.log(U,w.length);if(o.add.lsct==ht.cx||o.add.lsct==ht.xe){if(D.add.lyid==o.add.lyid)D.add.lyid+=16777215;
this.q=o;this.index=U-1;b[this.index]=this;b[M-1]=this;break}var Z=new fQ;Z.parent=this;U=Z.ai2(w,U,O+1,b);
this.children.push(Z)}return U+1}else{this.q=D;this.index=M-1;b[this.index]=this;return M+1}};fQ.prototype.aa=function(w,M,O,b){var D=this.KZ(O),o=w;
while(D.parent!=null){o=D.q.agJ(o,M,b);D=D.parent}return o};fQ.prototype.HW=function(w,M){var O=this.q,b=new cn;
if(!O.Vd())return b;var D=O.yo();if(O._N())for(var U=0;U<this.children.length;U++){var o=this.children[U].HW(w,!0);
b=b.MK(o)}else if(a6.get(O.add)!=null)b=O.Xn()&&O.D.color==0?O.D.HW().clone():new cn(0,0,w.e,w.n);else if(O.XS()&&O.add.vmsk&&O.add.vmsk.isEnabled&&O.add.vstk){b=O.rect.clone()}else if(O.XS()&&D&&D.isEnabled&&D.FL()!=0)b=new cn(0,0,w.e,w.n);
else{b=O.Op(w,!1,!0);if(O.add.vmsk)b=x.p.Mf(b)}return M?O.agJ(b,w):b};fQ.CO={delete:function(w){if(w&&w.e)w.delete()},$:function(w,M){return X.Nu?new X.ka(w,M):x.$(w*M*4)},QY:function(w,M,O){if(X.Nu){if(w==null||w.e!=M||w.n!=O){fQ.CO.delete(w);
return new X.ka(M,O)}}else{if(w==null||!(w instanceof Uint8Array)||w.length!=M*O*4){fQ.CO.delete(w);
return x.$(M*O*4)}}return w},CV:function(w,M,O,b,D){(X.Nu?X.ld:x.xu)(w,M,O,b,D)},LU:function(w,M,O,b,D,o,Z,$,U,k,E){(X.Nu?X.a.lv:x.a.LU)(w,M,O,b,D,o,Z,$,U,k,E)},anc:function(w,M,O,b,D,o,Z,$){var k=O.clone(),E=D.e,t=D.n,c=k.x,l=k.y,q=k.x+k.e>E?-1:0,d=k.x<0?2:1,V=k.y+k.n>t?-1:0,L=k.y<0?2:1;
for(var e=V;e<L;e++)for(var H=q;H<d;H++){k.x=c+H*E;k.y=l+e*t;fQ.CO.DP(w,M,k,b,D,o,Z,$)}},DP:function(w,M,O,b,D,o,Z,$){if(X.Nu)X.a.bG(w,M,O,b,D,o,Z,$);
else x.a.DP(w,M,O,b,D,o,Z,$)},TZ:function(w,M,O){if(X.Nu){X.IF(w);X.mi(M,O)}else x.TZ(w,M,O)},a2_:function(w,M,O,b,D){if(X.Nu){X.a.lv(null,null,b,D,w,M,O,D,1,!1)}else{if(O==255)x.cK(w,M,b,D);
else{var o=x.$(M.v());x.Xz(b,D,o,M);x.Kl(w,o);x.TZ(b,0,16777215);x.H_(o,M,b,D)}}},bi:function(w,M,O,b){if(X.Nu)X.a.lv(null,null,O,b,w,M,0,b,1,!1);
else x.bi(w,M,O,b)}};fQ.prototype.wR=function(w,M,O,b,D,o){var Z=typeof o=="number";if(!this.q._N()&&(Z&&this.index>o||!Z&&o.indexOf(this.index)==-1)){return}var $=this.q,k=eR.vB($),E=fQ.CO,t=$.XS()?$.yo():$.D;
if(!$.Vd())return;if($.Xn()&&t.rect.S9()&&t.FL()==0){return}if($.add.vstk==null&&this.HW(b,!1).S9()){return}var c=this.HW(b,!0).mX(O);
if(!M.M5(O)&&!O.Yt(c))return;if($._N()&&$.add.artb){var l=$.pU();O=O.mX(l)}var q=fQ.aeO($,D,k);if(!q){this.a4L(w,M,O,b,D,o);
return}$.Kn.ed=E.QY($.Kn.ed,c.e,c.n);E.CV(w,M,$.Kn.ed,c,O);this.a4L($.Kn.ed,c,O,b,D,o);E.LU($.Kn.ed,c,w,M,null,null,0,O,$.opacity/255,$.eI=="diss",k.Yn)};
fQ.aeO=function(w,M,O){if(O.Yn[0]*O.Yn[1]*O.Yn[2]==0)return!0;return w.opacity!=255&&(M.length!=0||w._N()||w.Q9())};
fQ.aj6={Kn:{}};fQ.prototype.a4L=function(w,M,O,b,D,o){var Z=this.q,$=eR.vB(Z),k=a6.get(Z.add)!=null,E=fQ.CO,t=fQ.aeO(Z,D,$),c=t?1:Z.opacity/255,l=Z.XS()?Z.yo():Z.D,q=Z._N()&&$.dj==null&&(Z.eI=="pass"||Z.add.artb)&&!(D.length>0||$.fill!=1||Z.Q9()),d=!Z._N()&&!k&&!Z.Q9()&&D.length==0,V=k&&!Z.Q9()&&D.length==0,K=null,a=null,T=null,v;
if(q||d||V){var L=w,e=M;if(Z.Xn()){e=this.HW(b,!1);L=Z.Kn.E0=E.QY(Z.Kn.E0,e.e,e.n);E.CV(w,M,Z.Kn.E0,e)}if(q)this.Z0(L,e,O,b,o);
if(d)E.DP(Z.eI,Z.afY(b),Z.rect,L,e,O,c,$);if(V){var H=Z.Xn()&&l.FL()==0?l.HW().clone():e.clone(),j=Z.Kn;
if(H.M5(new cn(0,0,b.e,b.n)))j=fQ.aj6;j.w6=this.a41(L,e,j.w6,H,Z.add);$.WU=!0;E.DP(Z.eI,j.w6,H,L,e,O,c,$)}if(Z.Xn())E.LU(L,e,w,M,Z.aut(),l.HW(),l.FL(),O,1,Z.eI=="diss");
Z.Kn.aso();return}var g=Z._N()&&Z.eI=="pass"&&(D.length>0||$.fill!=1||Z.Q9()),H=Z.rect;if(Z._N()){H=this.HW(b,!1);
T=Z.Kn.w6=E.QY(Z.Kn.w6,H.e,H.n);E.TZ(T,0);this.Z0(T,H,H,b,o);a=E.QY(Z.Kn.wn,H.e,H.n);E.CV(T,H,a,H)}else if(k){H=Z.Xn()&&l.FL()==0?l.HW().clone():M.clone();
a=E.QY(Z.Kn.wn,H.e,H.n);E.TZ(a,4294967295)}else{H=Z.rect;K=Z.afY(b);a=E.QY(Z.Kn.wn,H.e,H.n);E.CV(K,H,a,H)}Z.Kn.wn=a;
if(Z.Xn())E.a2_(Z.aut(),l.HW(),l.FL(),a,H);if(Z.Q9())if(Z.Kn.B7||Z.Kn.Aa||Z.Kn.Ij!=X.Nu||Z.Kn.Nn||Z._N()){var C=Z.add.vmsk,F=x.$(H.v());
if(eR.a58(Z.add.lmfx)){if(X.Nu){if(!Z._N()&&Z.yo()==null&&Z.rect.M5(H)&&C==null)x.Oj(Z.buffer,F,3);else{var m=x.$(H.v()*4);
a.get(m);x.Oj(m,F,3)}}else x.Oj(a,F,3)}if(Z.Kn.Aa||Z.Kn.Ij!=X.Nu||!x.M5(F,Z.Kn.fg)){var N=null;if(Z.XS()&&C&&C.isEnabled&&C.yo().color==0)N=C.yo().rect;
eR.a3w(Z.Kn.CB);Z.Kn.CB=eR.ars(F,H,Z.add.lmfx,Z.add.fxrp,b,N);Z.Kn.fg=F;Z.Kn.al$=H}}if(Z.Q9())eR.awn(Z.add.lmfx,Z.Kn.CB,H,w,M,O);
if(Z._N()){K=E.QY(Z.Kn.E0,H.e,H.n);E.TZ(K,0);if(Z.eI=="pass")E.CV(w,M,K,H);if(g)E.bi(T,H,K,H);this.Z0(K,H,O,b,o);
Z.Kn.E0=K}if(k){K=Z.Kn.E0=this.a41(w,M,Z.Kn.E0,H,Z.add)}if(Z._N()||k)v=K;else{v=E.QY(Z.Kn.E0,H.e,H.n);
E.CV(K,H,v,H,O);Z.Kn.E0=v}E.TZ(v,4278190080,16777215);for(var U=0;U<D.length;U++)D[U].wR(v,H,O,b,[],o);
var h=Z.Kn.BO=E.QY(Z.Kn.BO,H.e,H.n);E.CV(w,M,h,H,O);if(k)$.WU=!0;E.DP(Z.eI=="pass"?"norm":Z.eI,v,H,h,H,O,1,$);
if(Z.Q9()){var P=Z.Kn.CB.type.FrFX,J=null;if(P.length!=0){J=P[0];for(var U=0;U<P.length;U++)if(P[U].pO.e>J.pO.e)J=P[U];
Z.Kn.UI=E.QY(Z.Kn.UI,J.pO.e,J.pO.n);E.CV(w,M,Z.Kn.UI,J.pO,O);Z.Kn.mW=E.QY(Z.Kn.mW,J.pO.e,J.pO.n)}eR.aty(Z.add.lmfx,Z.Kn.CB,H,w,M,O,h,Z.Kn.UI,Z.Kn.mW,J?J.pO:null)}if(!X.Nu){var Y=x.$(H.v());
x.Oj(a,Y,3);a=Y}E.LU(h,H,w,M,a,H,0,O,1,Z.eI=="diss");Z.Kn.aso()};fQ.prototype.a41=function(w,M,O,b,D){var o=a6.get(D),Z;
if(o)Z=a6.kM(o,D[o]);var $=fQ.CO;O=$.QY(O,b.e,b.n);if(!(X.Nu&&M.M5(b)))$.CV(w,M,O,b);if(Z){if(X.Nu){var k=b.clone();
k.x=k.y=0;if(M.M5(b)){X.IF(O,k);a6.AO(Z,w.p3,k)}else{X.IF(O,b);O.nB(b);a6.AO(Z,O.sf,k)}}else a6.ly(Z,O,O,b)}return O};
fQ.prototype.Z0=function(w,M,O,b,D){var o=M,Z=o.e,$=o.n,k=o.x,E=o.y,aq=O,t=aq.x,c=aq.y,l=-1,q=-1,d=2,V=2;
if(!b.i7){l=q=0;d=V=1}var L=this.children;for(var U=0;U<L.length;U++){var e=[];for(var H=U+1;H<L.length;
H++)if(L[H].q.fG)e.push(L[H]);else break;for(var j=q;j<V;j++)for(var g=l;g<d;g++){o.x=k+g*Z;o.y=E+j*$;
aq.x=t+g*Z;aq.y=c+j*$;L[U].wR(w,o,aq,b,e,D)}U+=e.length}o.x=k;o.y=E;aq.x=t;aq.y=c};function fO(w){this.Iu="psd";
this.QD=!1;this.name=w;this.Mt=-1;this.i7=!1;this.jS=null;this.tm=null;this.VP=null;this.ME=null;this.e=0;
this.n=0;this.buffer=null;this.B=[];this.A3={};this.add={};this.sB=4;this.HS=null;this.Z1=72;this.At={};
this.g=[];this.lX=[];this.rs=!1;this.iW=[];this.t5=[];this.IB=[fO.aq("Work Path")];this.xF=[];this.C5=null;
this.en={classID:"CompList",list:{t:"VlLs",v:[]}};this.cU=[];this.nX=[];this.root=null;this.yO=null;
this.Tb=!1;this.ahd=!1;this.atU=!1;this.y5=!1;this.wK=!1;this.uP=!1;this.bN=!1;this.Er=!1;this.NP=!1;
this.Bd=!1;this.B7=null;this.Ly=null;this.X=null;this.SN=[];this.m7=[];this.J={ki:{},BK:[],a6a:[],TL:[],jT:[],F0:null,ic:null,MB:null,BY:null,m4:[],jd:[],IZ:null};
this.history=[new gN([1,0],null)];this.gX=0;this.ef=0;this.FW=0;this.P=new g1(this);this.s3=null;this.Ur=null}fO.Q1=function(){var w=8,M=[0,0,0,.145,.051,.051,.263,.071,.067,.416,.051,.055,.573,.102,.11,.71,.122,.141,.851,.122,.149,.929,.122,.141,.075,.149,.078,.153,.153,.078,.275,.153,.055,.424,.157,.071,.569,.153,.114,.706,.165,.141,.855,.161,.153,.933,.196,.141,.118,.282,.133,.18,.29,.129,.286,.29,.122,.427,.294,.114,.573,.298,.129,.71,.294,.149,.855,.298,.153,.941,.306,.133,.035,.431,.224,.157,.427,.212,.294,.431,.204,.427,.435,.18,.569,.431,.165,.71,.435,.161,.851,.431,.153,.953,.435,.133,.012,.576,.278,.145,.569,.271,.29,.576,.259,.427,.576,.239,.569,.576,.212,.706,.573,.184,.855,.576,.157,.969,.569,.118,.114,.698,.294,.165,.702,.29,.29,.714,.286,.424,.714,.271,.573,.718,.243,.71,.714,.204,.855,.714,.153,.988,.714,.078,.314,.722,.282,.329,.722,.278,.392,.737,.275,.478,.757,.259,.584,.788,.239,.714,.827,.2,.859,.859,.125,.996,.855,0,.412,.741,.271,.427,.745,.267,.471,.753,.259,.533,.773,.251,.624,.8,.227,.725,.835,.2,.843,.875,.137,.973,.925,.075,.055,.059,.137,.141,.059,.141,.271,.059,.149,.424,.043,.149,.576,.098,.157,.714,.122,.153,.859,.122,.153,.929,.114,.176,.02,.145,.141,.137,.137,.137,.282,.141,.137,.431,.141,.145,.576,.145,.141,.714,.149,.145,.859,.141,.153,.933,.192,.184,.012,.286,.145,.145,.286,.141,.286,.286,.141,.431,.29,.141,.576,.286,.141,.714,.286,.149,.855,.286,.153,.941,.302,.176,.027,.427,.22,.153,.431,.216,.29,.427,.2,.427,.431,.18,.576,.431,.165,.714,.427,.161,.859,.431,.153,.949,.427,.165,.039,.576,.278,.153,.573,.271,.282,.573,.259,.431,.576,.239,.569,.573,.212,.71,.573,.184,.859,.576,.153,.969,.569,.165,.114,.698,.294,.165,.702,.29,.286,.718,.286,.424,.714,.267,.576,.722,.243,.714,.714,.204,.855,.714,.153,.988,.71,.137,.314,.722,.282,.341,.725,.278,.396,.737,.275,.486,.761,.259,.588,.788,.239,.714,.831,.2,.859,.855,.145,.996,.859,.129,.416,.741,.271,.439,.749,.271,.482,.757,.263,.537,.776,.251,.631,.804,.231,.725,.831,.196,.851,.878,.133,.969,.925,.18,.075,.075,.278,.145,.063,.29,.282,.067,.286,.424,.082,.294,.573,.102,.298,.714,.118,.298,.855,.11,.298,.933,.11,.306,.063,.141,.278,.137,.141,.286,.286,.137,.282,.427,.145,.286,.573,.141,.286,.714,.141,.29,.863,.149,.294,.937,.188,.302,0,.29,.29,.141,.286,.286,.29,.286,.286,.427,.29,.29,.573,.29,.29,.718,.29,.286,.859,.282,.286,.941,.302,.302,0,.427,.286,.145,.431,.29,.286,.427,.29,.424,.427,.286,.573,.427,.29,.718,.427,.286,.859,.427,.282,.953,.431,.302,0,.573,.282,.145,.576,.282,.286,.573,.282,.427,.573,.282,.576,.573,.282,.71,.569,.282,.859,.573,.278,.969,.569,.306,.114,.698,.294,.176,.702,.29,.286,.718,.286,.427,.718,.282,.576,.714,.278,.718,.722,.294,.855,.71,.278,.988,.71,.286,.329,.725,.282,.349,.729,.278,.4,.737,.278,.486,.761,.29,.592,.792,.298,.714,.835,.306,.859,.859,.278,1,.855,.286,.431,.745,.267,.451,.749,.267,.482,.757,.259,.549,.776,.247,.639,.804,.224,.733,.839,.224,.855,.882,.275,.973,.929,.306,.141,.133,.392,.165,.133,.408,.29,.141,.42,.416,.141,.424,.561,.133,.431,.71,.122,.439,.859,.082,.435,.929,.098,.431,.137,.184,.408,.176,.169,.424,.282,.157,.431,.424,.145,.424,.573,.141,.427,.714,.145,.427,.859,.137,.427,.929,.173,.427,0,.286,.427,.141,.29,.431,.29,.29,.431,.427,.29,.427,.576,.286,.427,.718,.29,.431,.859,.286,.427,.941,.298,.431,0,.427,.424,.145,.427,.427,.286,.427,.427,.427,.427,.427,.569,.427,.424,.718,.431,.431,.863,.427,.427,.949,.424,.431,0,.573,.427,.125,.573,.427,.282,.573,.427,.431,.576,.431,.569,.573,.427,.714,.573,.424,.851,.569,.424,.965,.569,.431,.082,.706,.427,.133,.71,.427,.282,.71,.424,.424,.714,.424,.576,.718,.427,.714,.714,.424,.863,.718,.427,.984,.71,.427,.322,.729,.404,.345,.733,.408,.404,.745,.412,.478,.765,.42,.588,.796,.424,.718,.843,.431,.863,.863,.435,1,.863,.435,.439,.749,.341,.455,.753,.341,.494,.765,.345,.557,.784,.349,.643,.812,.373,.733,.843,.388,.851,.89,.424,.976,.941,.451,.169,.184,.51,.176,.176,.522,.298,.176,.537,.416,.169,.541,.553,.153,.557,.698,.118,.553,.847,.094,.557,.929,.133,.565,.161,.212,.529,.18,.184,.541,.294,.184,.553,.427,.173,.561,.565,.153,.561,.718,.157,.565,.851,.157,.565,.933,.196,.565,.075,.29,.561,.141,.286,.573,.286,.29,.576,.424,.286,.573,.576,.29,.576,.718,.29,.576,.859,.286,.573,.933,.298,.569,0,.427,.573,.141,.427,.573,.286,.427,.573,.427,.427,.569,.573,.427,.573,.718,.431,.576,.859,.427,.573,.945,.424,.569,0,.573,.573,.149,.576,.576,.286,.573,.576,.427,.573,.573,.573,.573,.573,.718,.576,.576,.859,.573,.573,.961,.565,.573,0,.714,.573,.133,.714,.573,.278,.71,.573,.427,.714,.576,.573,.718,.573,.718,.714,.573,.859,.714,.576,.98,.71,.576,.325,.741,.537,.345,.745,.537,.404,.757,.545,.482,.78,.553,.588,.808,.565,.718,.851,.573,.859,.859,.569,1,.863,.573,.439,.761,.49,.451,.761,.486,.49,.776,.498,.557,.796,.51,.635,.82,.518,.737,.855,.537,.863,.906,.561,.976,.953,.588,.165,.231,.588,.227,.231,.592,.31,.235,.592,.408,.227,.588,.525,.227,.588,.635,.227,.584,.761,.239,.588,.878,.243,.588,.173,.255,.608,.216,.255,.604,.314,.255,.604,.408,.255,.6,.525,.255,.6,.643,.255,.596,.761,.267,.6,.882,.267,.596,.141,.314,.639,.208,.318,.639,.306,.318,.639,.42,.314,.631,.541,.318,.631,.659,.318,.624,.784,.325,.62,.91,.337,.624,.012,.431,.718,.149,.431,.714,.294,.431,.71,.431,.431,.702,.573,.427,.69,.71,.431,.678,.835,.435,.671,.945,.435,.667,0,.573,.714,.145,.573,.718,.29,.576,.718,.427,.573,.714,.576,.573,.714,.71,.569,.71,.859,.573,.714,.957,.569,.71,0,.71,.71,.129,.714,.714,.278,.714,.71,.427,.714,.714,.576,.718,.718,.714,.714,.714,.859,.718,.714,.973,.706,.714,.322,.753,.667,.337,.757,.667,.4,.769,.671,.482,.792,.686,.588,.824,.698,.714,.867,.718,.859,.863,.714,.996,.855,.714,.435,.773,.62,.459,.78,.627,.49,.788,.631,.557,.808,.643,.647,.835,.659,.749,.875,.675,.867,.918,.702,.988,.969,.725,.212,.29,.624,.243,.29,.62,.318,.29,.62,.396,.286,.62,.486,.286,.616,.58,.282,.608,.686,.282,.608,.788,.29,.608,.216,.306,.631,.251,.306,.631,.314,.306,.627,.392,.306,.627,.49,.302,.624,.58,.302,.62,.686,.302,.616,.796,.314,.616,.224,.345,.655,.255,.345,.659,.318,.345,.651,.396,.345,.651,.494,.345,.643,.592,.345,.639,.702,.353,.635,.816,.373,.643,.212,.424,.71,.247,.424,.706,.318,.424,.702,.412,.42,.694,.525,.431,.694,.635,.447,.698,.749,.459,.69,.859,.467,.69,.133,.569,.816,.2,.565,.812,.31,.569,.808,.443,.569,.792,.576,.569,.78,.694,.569,.765,.812,.58,.761,.914,.584,.753,0,.714,.855,.133,.714,.859,.286,.714,.863,.431,.714,.859,.573,.714,.859,.718,.714,.863,.859,.714,.839,.969,.706,.82,.302,.765,.796,.329,.769,.796,.392,.784,.808,.471,.804,.82,.588,.839,.847,.718,.859,.859,.859,.859,.859,.988,.855,.855,.439,.788,.749,.451,.792,.749,.498,.804,.757,.553,.82,.769,.647,.851,.784,.753,.886,.812,.871,.933,.839,.996,.984,.863,.224,.325,.643,.251,.325,.643,.306,.322,.639,.38,.322,.635,.459,.318,.631,.545,.318,.631,.631,.314,.624,.725,.322,.624,.235,.333,.647,.263,.337,.651,.31,.333,.647,.38,.333,.643,.463,.333,.639,.545,.333,.635,.631,.325,.627,.737,.337,.627,.251,.365,.671,.275,.365,.667,.318,.365,.667,.384,.361,.659,.467,.361,.655,.549,.361,.651,.651,.376,.651,.757,.4,.659,.255,.427,.71,.275,.42,.702,.329,.42,.702,.4,.42,.694,.486,.431,.698,.58,.447,.698,.686,.467,.702,.8,.494,.71,.278,.529,.78,.306,.533,.78,.373,.541,.78,.455,.545,.776,.553,.557,.776,.643,.569,.773,.749,.592,.776,.843,.604,.773,.275,.694,.898,.302,.694,.894,.384,.69,.886,.49,.698,.878,.604,.706,.871,.718,.706,.855,.812,.714,.847,.898,.722,.839,.31,.784,.925,.333,.788,.925,.388,.8,.941,.471,.824,.961,.592,.855,.973,.725,.851,.949,.859,.851,.929,.957,.855,.914,.435,.8,.867,.443,.804,.867,.494,.816,.875,.557,.835,.886,.651,.867,.91,.757,.906,.933,.878,.953,.969,1,1,1];
M=iA.Yd(w,M);return[w,M]}();fO.prototype.K5=function(w){if(w){if(w.length==30240){this.K5(null);return}this.A3.r1039=w;
var M=ICC.R(w.buffer),D=null,o=17,k,E;if(M==null){this.K5(null);return}var O=M.header.spaceIn.toLowerCase(),b=JSON.stringify(M.tags.desc).toLowerCase();
try{D=ICC.U.profileName(M)}catch(fr){}if(O!="rgb "||D==null||b.indexOf("srgb")!=-1){this.K5(null);return}console.log("We got an ICC profile!",M,D);
try{var Z=ICC.U.sampleLUT(M,o)}catch(fr){this.K5(null);return}var $=Z.slice(0),t=x.$(4),c=fO.Q1[0],l=fO.Q1[1];
for(var U=0;U<Z.length;U+=3){t[0]=Z[U]*255;t[1]=Z[U+1]*255;t[2]=Z[U+2]*255;ICC.U.applyLUT(l,c,t,t);$[U]=t[0]/255;
$[U+1]=t[1]/255;$[U+2]=t[2]/255}if(X.Nu){k=new X.ka(o,o*o);k.set(ICC.U.rgba8LUT(Z,o));E=new X.ka(o,o*o);
E.set(ICC.U.rgba8LUT($,o))}this.s3=[w,M,o,Z,k,$,E]}else{delete this.A3.r1039;this.s3=null}};fO.prototype.x9=function(){return this.s3};
fO.prototype.bJ=function(){if(this.s3)return this.s3;if(this.add.fcmy==1){if(this.Ur==null){var w=fO.Q1[0],M=fO.Q1[1],O;
if(X.Nu){O=new X.ka(w,w*w);O.set(ICC.U.rgba8LUT(M,w))}this.Ur=[null,null,w,null,null,M,O]}return this.Ur}};
fO.prototype.PB=function(){var w=this;return w.X!=null||w.ff()[1].length!=0||w.g.length>1};fO.prototype.Wp=function(){var w=this.lX,M=[];
for(var U=0;U<w.length;U++)M[U]=-1;var O=this.root.children;for(var U=0;U<O.length;U++){var b=O[U],D=b.q.add.artb;
if(D==null)continue;var o=D.guideIndeces;o=o?o.v:[];for(var Z=0;Z<o.length;Z++)M[o[Z].v]=b.index}return[JSON.parse(JSON.stringify(w)),M]};
fO.prototype.D8=function(w){this.lX=JSON.parse(JSON.stringify(w[0]));var M=w[1],O=this.root.children;
for(var U=0;U<O.length;U++){var b=O[U],D=b.q.add.artb;if(D==null)continue;D.guideIndeces={t:"VlLs",v:[]}}for(var U=0;
U<M.length;U++)if(M[U]!=-1)this.B[M[U]].add.artb.guideIndeces.v.push({t:"long",v:U})};fO.prototype.al3=function(w){var M=this;
if(w[0])M.add.lnk2=w[0];else delete M.add.lnk2;if(w[1])M.add.FEid=w[1];else delete M.add.FEid;if(w[2])M.add.Patt=w[2];
else delete M.add.Patt};fO.prototype.apG=function(w){var M=this,O=[],b=[],D=[],d=null,V=null,L=null;
for(var U=0;U<w.length;U++){var o=w[U];if(o.add.SoLd){O.push(o.add.SoLd.Idnt.v);b.push(o.add.SoLd.placed.v)}if(o.add.PtFl)D.push(o.add.PtFl.Ptrn.v.Idnt.v);
if(o.add.lmfx){for(var Z=0;Z<aN.IU.length;Z++){var $=o.add.lmfx[aN.IU[Z]].v;for(var k=0;k<$.length;k++)if($[k].v.Ptrn){var E=$[k].v;
if(E.classID=="FrFX"&&E.PntT.v.FrFl!="Ptrn")continue;D.push(E.Ptrn.v.Idnt.v)}}}var t=o.add.vstk;if(t&&t.strokeStyleContent.v.classID=="patternLayer"){D.push(t.strokeStyleContent.v.Ptrn.v.Idnt.v)}}var c=M.add.lnk2,l=M.add.FEid,q=M.add.Patt;
if(c){d=[];for(var U=0;U<c.length;U++)if(O.indexOf(c[U].QV)!=-1)d.push(c[U]);if(d.length==0)d=null}if(l){V=[];
for(var U=0;U<l.length;U++)if(b.indexOf(l[U].id)!=-1)V.push(l[U]);if(V.length==0)V=null}if(q){L=[];for(var U=0;
U<q.length;U++)if(D.indexOf(q[U].id)!=-1)L.push(q[U]);if(L.length==0)L=null}return[d,V,L]};fO.prototype.Mu=function(w){var M=this,O=M.root.KZ(w==null?M.g[0]:w),b=!1;
while(O.parent!=null){b=b||O.q.uK(31);O=O.parent}return b};fO.prototype.kD=function(){var w=this.SN,M=this.SN.length;
if(M!=0&&w[M-1].name=="Quick Mask")return w[M-1]};fO.prototype.th=function(){return this.Iu==dA.vO("% |/!)")||this.Iu==dA.au("gP")};
fO.prototype.eN=function(w){var M=this.add.artd;if(w!=0)this.add.artd={classID:"null",Cnt:{t:"long",v:w},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}};
else delete this.add.artd};fO.prototype._T=function(w){if(this.add.FEid==null)this.add.FEid=[];if(this.add.FEid.indexOf(w)==-1)this.add.FEid.push(w)};
fO.prototype.vw=function(w){var M=this.add.FEid.indexOf(w);this.add.FEid.splice(M,1);if(this.add.FEid.length==0)delete this.add.FEid};
fO.prototype.K=function(w){if(w==null)w=new cn(0,0,this.e,this.n);if(this.B7==null)this.B7=w;else this.B7=this.B7.MK(w)};
fO.prototype.a87=function(w){return this.B7!=null};fO.prototype.pJ=function(w){var M=this.B[w],O=this.root.KZ(w);
if(O==null)return!1;if(M._N()||O.parent.children.indexOf(O)==0)return!1;return!0};fO.a22=function(w){if(w.add.lnk2)for(var U=0;
U<w.add.lnk2.length;U++){var M=w.add.lnk2[U].QV;w.add.lnk2[U].QV=fO.ZU()+M.slice(8);for(var O=0;O<w.B.length;
O++){var b=w.B[O].add.SoLd;if(b&&b.Idnt.v==M)b.Idnt.v=w.add.lnk2[U].QV}}};fO.prototype.Wq=function(w,M,O){w.sort(function(c,l){return c-l});
var top=w[w.length-1],b=this.B.slice(0),D=this.g.slice(0),o=[],Z=[];for(var U=0;U<this.B.length;U++){if(w.indexOf(U)!=-1)Z.push(this.B[U]);
else o.push(this.B[U])}this.i2(Z);this.g=[];var $=this.root.HW(this,!0);if(M)$=$.mX(M);if(O)$=$.MK(O);
if($.S9())$=new cn(0,0,100,100);var k=new cn(-$.x,-$.y,this.e,this.n),E=new Uint8Array(ce.ti("PSD").WV(this,0,0,[!0,!1]));
this.i2(b);this.g=D;var t=new fO(this.B[top].getName());ce.ti("PSD").sc(E.buffer,t);delete t.add.artd;
t.iW=[];t.i2(t.B);t.D8([[],[]]);fO.a22(t);y.vz.dr(t,$);t.K();t.Uc();t.Hp();return[t,$,o,top]};fO.prototype.a0M=function(w,M,O){var b=this.Wq(w),D=b[0],o=b[1],Z=b[2],top=b[3],$;
if(O=="jpg")$=new Uint8Array(ce.ti("JPG").WV([[D.Hp().buffer]],D.e,D.n,[80]));else $=new Uint8Array(ce.ti("PSD").WV(D,null,null,[!0,!1]));
if(M)Z=this.B.slice(0);var k=this.Xu($,D.name,o.x,o.y);if(top==this.B.length-1)Z.push(k);else Z.splice(M?top+1:top-w.length+1,0,k);
this.i2(Z);this.g=[Z.indexOf(k)]};fO.ZU=function(w){if(w==null)w="";var M="";while(M==""||M==w){M="";
for(var U=0;U<8;U++)M+=Math.floor(Math.random()*16).toString(16)}return M};fO.prototype.RI=function(w){if(w==null)return;
if(this.add.Patt==null)this.add.Patt=[];var M=this.add.Patt;for(var U=0;U<M.length;U++)if(M[U].id==w.id)return;
M.push(w)};fO.prototype.Xu=function(w,M,O,b,D,o,Z){if(this.add.lnk2==null)this.add.lnk2=[];var $=null,q=!1;
for(var U=0;U<this.add.lnk2.length;U++)if(x.M5(w,this.add.lnk2[U].raw)){$=this.add.lnk2[U].QV;break}if($==null){var k=ce.S5(w.buffer);
$=fO.ZU()+"-d71c-11e5-b1ae-a548a96e5f9f";var E=new Q.dG;E.QV=$;E.fL=k=="psd"?"8BIM":"    ";E.P_=M+"."+k;
E.Gw=k=="psd"?"8BPB":"    ";E.open=0;E.raw=w;E.type="liFD";E.Vu=2;this.add.lnk2.push(E)}var t=this.Fd($,null,null,null,o,Z),c=fO.ZU()+"-d71c-11e5-b1ae-a548a96e5f9f",l=this.uV();
l.EJ(M);if(t!=null){var d=0,V=0,L=this.e,e=this.n;if(D){d=D.x;V=D.y;L=D.e;e=D.n}var H=l.rect=t.vN[1].clone();
H.offset(d+O,V+b);var j=Math.max(H.e/L,H.n/e),q=D!=null&&j>1.0001;if(q){H.e=Math.round(H.e/j);H.n=Math.round(H.n/j);
H.x=Math.round(d+(L-H.e)/2);H.y=Math.round(V+(e-H.n)/2)}else if(D!=null&&ce.S5(w.buffer)=="pdf"&&this.Z1!=144){var j=144/this.Z1;
H.e=Math.round(H.e/j);H.n=Math.round(H.n/j);q=!0}l.buffer=x.$(H.v()*4);if(!q)x.U7(t.vN[0],l.buffer)}l.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:$},Impr:{t:"Objc",v:{__name:"None",classID:"none"}},placed:{t:"TEXT",v:c},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,warp:{t:"Objc",v:x.vL.$(t?t.vN[1]:l.rect)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:l.rect.e},Hght:{t:"doub",v:l.rect.n}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:t?t.Z1:72}}};
var g=x.p.zl(l.rect).C;l.add.SoLd.Trnf=y.u.KT(g);l.add.SoLd.nonAffineTransform=y.u.KT(g);if(q)l.Gf(this,!1);
return l};fO.prototype.Hp=function(w){if(w!=null){this.K();this.Uc(w);var M=this.buffer;if(X.Nu)this.yO.get(M);
else M=M.slice(0);this.K();this.Uc();return M}if(this.B7){this.Uc();this.B7=null}if(X.Nu&&this.Ly){this.yO.get(this.buffer);
this.Ly=null;this.bN=!0}return this.buffer};fO.prototype.awu=function(){for(var U=0;U<this.B.length;
U++)this.B[U].alR();this.K()};fO.prototype.avc=function(){for(var U=0;U<this.B.length;U++)if(this.B[U].add.lmfx)this.B[U].Kn.Aa=!0};
fO.prototype.JS=function(){var w=this.A3.r1044;if(w==null){w=this.A3.r1044=new Uint8Array(4);var M=0;
for(var U=0;U<this.B.length;U++)M=Math.max(M,this.B[U].add.lyid);n.oS(w,0,M)}var O=n.A(w,0);n.oS(w,0,O+1);
return O+1};fO.prototype.D_=function(w,M,O){if(w==null)w=!0;var b=this;if(b.m7.length!=0)return!0;if(b.g.length!=1){if(w)alert(b.g.length==0?"Select a layer first.":"More than one layer selected.");
return!1}return this.qy(w,M,O)};fO.prototype.qy=function(w,M,O){if(w==null)w=!0;if(M==null)M=!1;var b=this;
if(b.m7.length!=0)return!0;for(var U=0;U<b.g.length;U++){var D=b.B[b.g[U]],o=M||D.cn<=0;if(D.add.lsct!=null&&D.add.lsct!=ht.FK&&D.cn!=1){if(w)alert(fr.get([15,7,2]));
return!1}if(o&&!D.Ux()){if(w)alert(fr.get([15,7,2]));return!1}if(o&&D.add.TySh){return this.aeY(w,[15,7,3],O)}if(o&&D.add.SoLd){return this.aeY(w,[15,7,4],O)}if(D.uK(1)||b.Mu(b.g[U])){if(w)alert(fr.get([6,57,0]));
return!1}}return!0};fO.prototype.aeY=function(w,M,O){if(w&&typeof w=="object"){var b=new aX(A.E.Z);b.data={d:A.t.JE,IP:"confirm"};
b.data.G=fr.get(M)+". "+fr.get([6,8])+"?";var D=w;b.data.Wz=function(){var o=new aX(A.E.Lm,!0);o.data={wV:"rasterizeLayer",g0:{classID:"rasterizeLayer",null:fE.xp("Lyr",!0)}};
D.l(o)};w.l(b);return!1}if(w)alert(fr.get(M));return!1};fO.prototype.a6T=function(w){var M=this.root.KZ(w);
if(M.parent)return M.q.Vd()&&this.a6T(M.parent.index);else return M.q.Vd()};fO.prototype.Ft=function(){var w=this;
if(w.add.artd&&w.g.length!=0){var M=w.root.KZ(w.g[0]);while(M.parent.parent)M=M.parent;if(M.q.add.artb)return M.index}return-1};
fO.prototype.aoH=function(){var w=this.B[this.g[0]];if(w.cn<=0&&!w.rect.Yt(this.X.rect)){alert("Selected area is empty.");
return!1}if(this.g.length==1&&this.X){var M=x.$(this.X.channel.length);x.Xz(w.buffer,w.rect,M,this.X.rect);
x.Kl(this.X.channel,M);if(x.ez(M,0)){alert("Selected area is empty.");return!1}}return!0};fO.prototype.OO=function(){if(this.A3["r"+1037]==null)this.qK(30);
return n.$g(this.A3["r"+1037],0)};fO.prototype.qK=function(w){if(this.A3["r"+1037]==null)this.A3["r"+1037]=new Uint8Array(4);
if(n.$g(this.A3["r"+1037],0)==w)return;n.TQ(this.A3["r"+1037],0,w);this.avc()};fO.prototype.zd=function(){if(this.A3["r"+1049]==null)this.JJ(30);
return n.$g(this.A3["r"+1049],0)};fO.prototype.JJ=function(w){if(this.A3["r"+1049]==null)this.A3["r"+1049]=new Uint8Array(4);
if(n.$g(this.A3["r"+1049],0)==w)return;n.TQ(this.A3["r"+1049],0,w);this.avc()};fO.prototype.Se=function(w){if(this.add.lnk2==null)return null;
for(var U=0;U<this.add.lnk2.length;U++)if(this.add.lnk2[U].QV==w)return this.add.lnk2[U];return null};
fO.prototype.aeP=function(w){var M=this.Se(w);if(M==null)return!1;var O=ce.S5(M.raw.buffer);if(O==null)return!1;
if(ce.ti(O)!=null||O=="psd")return!0;return!1};fO.prototype.Fd=function(w,M,O,b,D,o){var Z=this.Se(w);
if(Z==null)return null;Z.Hp(M,O,b,D,o);if(Z.vN)return Z};fO.prototype.awf=function(){var w=this.e,M=this.n;
if(X.Nu&&this.yO==null)this.yO=new X.ka(w,M,!0);if(this.buffer==null||this.buffer.length!=w*M*4||X.Nu&&(this.yO.e!=w||this.yO.n!=M)){this.buffer=x.$(w*M*4);
if(this.yO)this.yO.delete();if(X.Nu)this.yO=new X.ka(w,M,!0)}};fO.prototype.a0Q=function(){this.awf();
if(X.Nu){this.yO.set(this.buffer)}};fO.prototype.Uc=function(w){var M=this.e,O=this.n,b=new cn(0,0,M,O),D=this.i7?b:b.mX(this.B7);
this.awf();if(D.S9())return;if(!D.M5(b)){if(!X.Nu){var o=x.KS(D.v()*4);x.xu(o,D,this.buffer,b)}if(X.Nu){X.IF(this.yO,D);
X.mi(0)}}else{if(X.Nu){this.yO.set(null)}else{this.buffer.fill(0)}}var Z=Date.now(),$=X.Nu?this.yO:this.buffer;
if(w==null)w=1e9;var k=this.root.children;for(var U=0;U<k.length;U++){var E=k[U].q;if(E.Vd()&&E.add.artb&&this.add.artd){var t=E.pU(),c=D.mX(t),l=E.Ir();
if(l!=0){if(X.Nu){X.IF($,c);X.mi(l);X.mi(l)}else x.asv($,b,c,l)}}}this.root.wR($,b,D,this,[],w);this.Ly=this.B7.clone()};
fO.prototype.uV=function(w){var M=new Q;M.rect=new cn(0,0,0,0);M.buffer=x.$(1);M.add.luni=new at(0,0);
if(w!=!0)M.add.lyid=this.JS();M.add.lsct=ht.FK;M.add.lclr=0;M.add.fxrp=new at(0,0);return M};fO.prototype.iB=function(w){var M=this.uV(w);
M.EJ("</Layer group>");M.add.lsct=ht.z5;M.N7=24;return M};fO.prototype.Zh=function(){return this.gX!=this.ef};
fO.prototype.zw=function(w){while(this.history.length>this.gX+1)this.history.pop();if(this.ef>this.gX)this.ef=-1;
if(w.k.id!=y.u3){this.y5=!0;if(this.en.lastAppliedComp){delete this.en.lastAppliedComp;this.bN=!0}}this.history.push(w);
this.gX++;this.bN=!0;var M=fl.yR()?60:30,O=0;for(var U=this.history.length-1;U>=0;U--){var b=this.history[U];
if(b.BH)continue;O++;if(O==M){this.gX-=U;this.history=this.history.slice(U);break}}};fO.prototype.oO=function(){if(this.gX!=this.history.length-1)return null;
return this.history[this.history.length-1]};fO.prototype.qH=function(w,M,O,b){if(w==null)w=!1;var D=M!=null?[M]:this.g.slice(0);
if(b){var o=[];for(var U=0;U<D.length;U++){var Z=this.B[D[U]],$=Z.nT;if(Z.q_&&$!=0&&o.indexOf($)==-1)o.push($)}if(o.length!=0)for(var U=0;
U<this.B.length;U++){var Z=this.B[U],$=Z.nT;if(Z.q_&&$!=0&&o.indexOf($)!=-1&&D.indexOf(U)==-1)D.push(U)}}var k=[];
for(var U=0;U<D.length;U++){var E=this.gR(D[U],w);for(var t=0;t<E.length;t++)if(k.indexOf(E[t])==-1)k.push(E[t]);
if(O){var aq=this.root.KZ(D[U]);while(aq.parent!=null&&aq.parent.parent!=null){aq=aq.parent;if(k.indexOf(aq.index)==-1){k.push(aq.index,aq.hD)}}}}return k};
fO.prototype.Dl=function(w,M,O){var b=this,D=b.qH(!1,w,null,O);D.sort(function(j,g){return j-g});var o={};
for(var Z=0;Z<b.B.length;Z++){var $=b.B[Z].getName();o[$]=!0}var k=[];for(var U=0;U<D.length;U++){var E=b.B[D[U]].clone(),L,e;
E.add.lyid=b.JS();E.add.lspf=0;if(E.Kf()){var t=E.k1(b),c=fO.abj(t);b._T(c);E.add.SoLd.placed.v=c.id}else if(E.add.SoLd){var l=E.add.SoLd.placed.v;
E.add.SoLd.placed.v=fO.ZU(l.slice(0,8))+l.slice(8)}E.h1(b);var q=E.getName(),d=q.length;while(48<=q.charCodeAt(d-1)&&q.charCodeAt(d-1)<=57)d--;
var V=parseInt(q.slice(d));if(isNaN(V)){if(q.endsWith(" copy")){V=1;L=q.slice(0,q.length-5)}else{V=0;
L=q}}else if(q.slice(0,d).endsWith(" copy ")){V=V;L=q.slice(0,d-6)}else{V=0;L=q}V++;while(!0){e=L+" copy"+(V==1?"":" "+V);
if(o[e]==null)break;V++}var H=D.indexOf(this.root.KZ(D[U]).parent.index)!=-1;if(q=="Background"&&b.B.length==1)e="Layer 1";
if(M!=!0&&!H)E.EJ(e);o[e]=!0;k.push(E)}return k};fO.abj=function(w){return{id:fO.ZU(w.id.slice(0,8))+w.id.slice(8),buffer:w.buffer.slice(0),rect:w.rect.clone(),D:w.D?w.D.clone():null}};
fO.amg=function(w){return{id:w,rect:new cn,buffer:x.$(1),D:new Q.MX}};fO.aq=function(w,M){if(M==null)M={vmsk:new Q.G6};
if(M.vogk==null){M.vogk=[];var O=x.O.wW(M.vmsk.j);for(var b=0;b<O;b++)M.vogk.push(x.lK.KS())}return{name:w,zS:0,add:M}};
fO.prototype.ff=function(w){var M=[],O=[],b=this,o=0;for(var U=1;U<b.IB.length;U++){var D=b.IB[U];D.zS=-1-U;
M.push(D);if(b.xF.indexOf(U)!=-1)O.push(M.length-1)}if(b.IB[0].add.vmsk.j.length>2){var D=b.IB[0];D.zS=-1;
M.push(D);if(b.xF.indexOf(0)!=-1)O.push(M.length-1)}var Z=b.C5==null;if(Z)b.C5=[];for(var U=b.g.length-1;
U>=0;U--){var $=b.B[b.g[U]],k=$.add.TySh;if($.add.vmsk!=null&&($.aB||$.XS())){var D=fO.aq("\""+$.getName()+"\" Shape Path",$.add);
D.zS=b.g[U];M.push(D);if(Z)b.C5.push(o);if(b.C5.indexOf(o)!=-1)O.push(M.length-1);o++}if(w!=!0&&k&&k.add&&x.vL.hC(k.TY)){var D=fO.aq("\""+$.getName().slice(0,10)+"..\" Text Path",k.add);
D.zS=1e6+b.g[U];M.push(D);O.push(M.length-1);o++}}if(O.length==0&&w){b.IB[0].zS=-1;b.xF=[0];O.push(M.length);
M.push(b.IB[0])}return[M,O]};fO.prototype.gR=function(U,w){var M=[],aq=this.root.KZ(U);if(aq)aq.a7N(M,w);
return M};fO.prototype.gI=function(){this.root.Td(this,new cn(0,0,this.e,this.n))};fO.prototype.i2=function(w){for(var U=0;
U<this.B.length;U++){var M=this.B[U];if(w.indexOf(M)==-1){M.Kn.av_();M.K()}}var O=0;for(var U=0;U<w.length;
U++)if(w[U].add.artb)O++;this.eN(O);this.B=w.slice(0);this._v()};fO.prototype._v=function(){var w=this.B,M=w.length;
this.root=new fQ;var O=this.uV(!0);O.eI="pass";O.add.lsct=ht.cx;O.EJ("");var b=this.iB(!0),D=[b];for(var U=0;
U<M;U++)D.push(w[U]);D.push(O);this.root.ai2(D,0,0);if(this.g.length==0)this.g=[M-1]};fO.prototype.UQ=function(){if(this.g.length!=1)return;
var w=this.root.KZ(this.g[0]);while(w.parent!=null){var M=w.parent.q;M.add.lsct=ht.cx;w=w.parent}this.uP=this.a6k=!0};
fO.prototype.ahF=function(){this._v();var w=[this.root],bM=0;while(w.length!=0){var top=w.pop();bM++;
if(top.q.add.lsct==ht.cx)for(var U=0;U<top.children.length;U++)w.push(top.children[U])}if(bM>1e3){var M=this.root.children;
for(var U=0;U<M.length;U++)if(M[U].q.add.lsct==ht.cx)M[U].q.add.lsct=ht.xe}};fO.pe=function(w,M,O,b,D,o,Z,$){if($==null)$="sRGB IEC61966-2.1";
var k={__name:"Make",classID:"Mk",Nw:{t:"Objc",v:{classID:"Dcmn",Nm:{t:"TEXT",v:b},artboard:{t:"bool",v:o},Md:{t:"type",v:{classID:"RGBM"}},Wdth:{t:"UntF",v:{type:"#Rlt",val:w}},Hght:{t:"UntF",v:{type:"#Rlt",val:M}},Rslt:{t:"UntF",v:{type:"#Rsl",val:O}},pixelScaleFactor:{t:"doub",v:1},Fl:{t:"enum",v:{Fl:D}},Dpth:{t:"long",v:8},profile:{t:"TEXT",v:$}}}};
if(D=="Clr")k.Nw.v.FlCl={t:"Objc",v:Z};return{wV:"make",g0:k}};fO.adO=function(w,M){var O=0,b=0,D=72,o=M.a8U,Z=w.preset&&w.preset.v=="Clipboard";
if(Z){O=o.e;b=o.n}else{O=w.Wdth.v.val;b=w.Hght.v.val;D=w.Rslt.v.val}var $=new fO((w.Nm?w.Nm.v:fr.get([11,7]))+".psd");
$.e=O;$.n=b;$.Z1=D;var k=w.Fl?w.Fl.v.Fl:"Wht";if(w.artboard&&w.artboard.v){var E=$.uV();E.EJ(fr.get([1,16,0])+" 1");
E.add.lsct=ht.cx;E.Bo(new cn(0,0,O,b));E.add.artb.artboardBackgroundType={t:"long",v:{Wht:1,Blck:2,Trns:3,BckC:1,Clr:4}[k]};
if(k=="Clr")E.add.artb.Clr={t:"Objc",v:x.M.jk(x.M.FL(w.FlCl.v))};E.eI="pass";E.N7=24;var t=$.uV();t.EJ("Layer 1");
$.i2([$.iB(),t,E]);$.eN(1);$.g=[1]}else{var c=$.uV(),l=0;c.EJ("Background");$.i2([c]);c.add.lspf=1<<2;
if(k=="Clr"){l=x.M.FL(w.FlCl.v);l=255<<24|Math.round(l.L)<<16|Math.round(l.w)<<8|Math.round(l.o)}else{var q=M.fj;
q=(q&255)<<16|(q>>>8&255)<<8|q>>>16;l={Trns:0,Wht:4294967295,Blck:4278190080,BckC:255<<24|q}[k]}c.rect=new cn(0,0,O,b);
c.buffer=x.$(O*b*4);x.TZ(c.buffer,l)}$.buffer=x.$(O*b*4);var d=w.profile;if(d){var V={"Adobe RGB (1998)":"icc/adobe","ProPhoto RGB":"icc/prophoto","image P3":"icc/displayp3"}[d.v];
if(V)$.K5(ce.kQ.get(V))}return $};function g1(w){this._t=w;this.T=0;this.JN=1;this.z=new at(0,0);this.KK=new at(0,0);
this.td=0;this.$Y=[1,1,1];this.Ik=0;this.iu=new cn(0,0,1,1);this.aaN=new cn(0,0,w.e,w.n);this.rT=null;
this.J4=null;this.ZJ=new Uint32Array(0);this.MW=null;this.Zk=null;this.rK=x.$(0);this.IJ=null;this.k7=null}g1.prototype.Ec=function(w){var M=new f$,O=this.iu,b=this._t,D=w?this.JN:this.T,o=w?this.KK:this.z,Z=Math.round((O.e-b.e*D)/2+o.x),$=Math.round((O.n-b.n*D)/2+o.y);
M.translate(-Z,-$);M.scale(1/D,1/D);var k=b.e/2,E=b.n/2;M.translate(-k,-E);M.rotate(this.td);M.translate(k,E);
return M};g1.prototype.a7C=function(w){var M=this.iu,O=this._t,b=Math.atan2(-w.L,w.ip),D=O.e/2,o=O.n/2;
w.translate(-D,-o);w.rotate(-b);w.translate(D,o);var Z=1/w.gy();w.scale(Z,Z);var $=-w.hE,k=-w.Qw,E=Math.round($-(M.e-O.e*Z)/2),t=Math.round(k-(M.n-O.n*Z)/2);
if(Math.abs(Z-Math.round(Z))<1e-6)Z=Math.round(Z);this.td=b;this.T=Z;this.z=new at(E,t)};g1.prototype.ep=function(w,M){var O=this.Ec();
return O.xU(new at(w,M))};g1.prototype.hP=function(w,M){var O=this.Ec();O.ZW();return O.xU(new at(w,M))};
function aN(){}aN.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh".split(" ");aN.IU="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti".split(" ");
aN.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0]];aN.aiR=["DrSh","IrSh","SoFi","GrFl","FrFX"];
aN.J1=["Clr"];aN.JK="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");aN.KO=["Ptrn","Angl","Scl","Algn","phase"];
aN.eW={fh:"{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}",axP:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Two Color\"               },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"UsrS\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50},\"Clr\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}]},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}",and:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Foreground to Background\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}",auP:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Custom\"                  },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"ClNs\"}},\"ShTr\":{\"t\":\"bool\",\"v\":false},\"VctC\":{\"t\":\"bool\",\"v\":false},\"ClrS\":{\"t\":\"enum\",\"v\":{\"ClrS\":\"RGBC\"}},\"RndS\":{\"t\":\"long\",\"v\":1466092501},\"Smth\":{\"t\":\"long\",\"v\":2048},\"Mnm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0}]},\"Mxm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100}]}}}",zg:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\",\"t\":\"TEXT\"}}}"};
aN.eW.fh="\"Clr\": "+aN.eW.fh;aN.eW.M="\"Grad\":"+aN.eW.axP+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"},\"Dthr\":{\"v\":false,\"t\":\"bool\"}";
aN.eW.zg="\"Ptrn\":"+aN.eW.zg+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 0},\"t\":\"UntF\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
aN.default="{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
aN.hx=["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}","{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"},"+aN.eW.fh+","+aN.eW.M+","+aN.eW.zg+"}","{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 50},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+aN.eW.fh+"}","{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+aN.eW.M+"}","{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+aN.eW.zg+"}","{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 57},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Line\xE1rn\xED\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"}}"];
aN.M={types:"Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),names:[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]]};
aN.stroke={types:["InsF","CtrF","OutF"],names:[[19,5,2],[19,5,1],[19,5,0]],y8:["SClr","GrFl","Ptrn"],awZ:[[13,0],[12,37],[12,62]]};
aN.VR={types:["SfBL","PrBL"],names:[[19,1,0],[19,1,1]],ao$:["SrcC","SrcE"],au2:[[19,5,1],[12,69]]};aN.XL={types:["OtrB","InrB","Embs","PlEb","strokeEmboss"],style:[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]],auv:["SfBL","PrBL","Slmt"],a6E:[[19,3,0],[19,3,1],[19,3,2]],dir:[[19,4,0],[19,4,1]]};
aN.d_={nH:["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"],dB:["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"],join:["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"],SA:["solidColorLayer","gradientLayer","patternLayer"],default:{classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!1},fillEnabled:{t:"bool",v:!0},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pnt",val:1}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse("{\"classID\":\"solidColorLayer\","+aN.eW.fh+"}")},strokeStyleResolution:{t:"doub",v:72}}};
aN.bK=[{classID:"null",Clr:JSON.parse(aN.hx[5]).Clr},{classID:"null",Grad:JSON.parse(aN.hx[6]).Grad,Dthr:{t:"bool",v:!1},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}}},{classID:"null",Ptrn:JSON.parse(aN.hx[7]).Ptrn,Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},Angl:{v:{type:"#Ang",val:0},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];
var eR={};eR.Fg=function(w,M){function O(w,l){if(w==null)return null;var q=w[l].v,d;if(q.length!=0){d=q[0].v;
if(!d.enab.v)d=null}return d}var b=M.SoCo,D=M.GdFl,o=O(w,"solidFillMulti"),Z=O(w,"gradientFillMulti");
if(o==null&&Z==null)return[b,D];var $=eR.a3s;if(b&&o&&Z==null){var k=JSON.parse(JSON.stringify(b));k.Clr.v=$(o.Clr.v,b.Clr.v,o);
return[k,null]}if(D&&o&&Z==null){var E=JSON.parse(JSON.stringify(D)),t=E.Grad.v.Clrs.v;for(var U=0;U<t.length;
U++){var c=t[U].v.Clr;c.v=$(o.Clr.v,c.v,o)}return[null,E]}if(b&&Z){var E=JSON.parse(JSON.stringify(Z)),t=E.Grad.v.Clrs.v;
for(var U=0;U<t.length;U++){var c=t[U].v.Clr;c.v=$(c.v,b.Clr.v,Z)}return[null,E]}return[o,Z]};eR.ax8={q$:x.$(4),Un:x.$(4),o:new cn(0,0,1,1)};
eR.a3s=function(w,M,O){var b=gA.QI(O.Md.v.BlnM),D=O.Opct.v.val/100,o=eR.ax8;w=x.M.FL(w);M=x.M.FL(M);
o.q$[0]=w.o;o.q$[1]=w.w;o.q$[2]=w.L;o.q$[3]=255;o.Un[0]=M.o;o.Un[1]=M.w;o.Un[2]=M.L;o.Un[3]=255;x.a.DP(b,o.q$,o.o,o.Un,o.o,o.o,D);
return{classID:"RGBC",Rd:{t:"doub",v:o.Un[0]},Grn:{t:"doub",v:o.Un[1]},Bl:{t:"doub",v:o.Un[2]}}};eR.acg=function(w,M,O){var b=w;
w=w.slice(0);var D=gA.J5[gA.vs.indexOf(M.Md.v.BlnM)],o=x.M.FL(M.Clr.v),Z=4278190080|Math.round(o.L)<<16|Math.round(o.w)<<8|Math.round(o.o),$=x.$(O.v()*4);
x.TZ($,Z);x.a.DP(D,$,O,w,O,O,M.Opct.v.val/100);for(var U=0;U<w.length;U+=4)w[U+3]=b[U+3];return w};eR.$_=function(w,M){var O=["Sz","blur","Sftn","Dstn"];
for(var U=0;U<aN.order.length;U++){var b=aN.order[U],D=w[aN.IU[U]].v;for(var o=0;o<D.length;o++){var Z=D[o].v;
for(var $=0;$<O.length;$++){var k=Z[O[$]];if(k){var E=k.v.val,t=E;t=Math.max(E==0?0:1,t*M);if(b=="ChFX")t=Math.min(t,250);
if(b=="ebbl"){if(O[$]=="blur")t=Math.min(t,250);if(O[$]=="Sftn")t=Math.min(t,16)}k.v.val=Math.round(t)}}if(b=="ebbl"||b=="patternFill"||b=="FrFX")if(Z.Ptrn&&Z.Scl)Z.Scl.v.val=Math.max(1,Math.min(1e3,Z.Scl.v.val*M))}}};
eR.al_=function(w,M,O){var b=new cn(-.5,-.5,1,1);for(var U=0;U<aN.order.length;U++){var D=aN.order[U],o=w[aN.IU[U]].v;
for(var Z=0;Z<o.length;Z++){var $=o[Z].v,c;if(!$.enab.v)continue;var k=$.blur?$.blur.v.val+1:0,E=$.Ckmt?$.Ckmt.v.val/100:0,t=Math.round(k*E);
if(D=="DrSh"||D=="IrSh"&&O){c=new cn(-.5,-.5,1,1);c.M0(k,k);eR.su(c,$,M,0)}if(D=="OrGl"||D=="IrGl"&&O){c=new cn(-.5,-.5,1,1);
c.M0(k,k)}if(D=="FrFX"){var l=eR.g6($),q=l[1];if(O)q=Math.max(l[0],q);c=new cn(-.5,-.5,1,1);c.M0(Math.ceil(q),Math.ceil(q))}if(D=="ebbl"){var k=$.blur.v.val,d=$.bvlS.v.BESl;
if(d=="Embs"||d=="PlEb")k/=2;var V=["OtrB","InrB","Embs","PlEb","strokeEmboss"],L=["SfBL","PrBL","Slmt"],e=["In","Out"],H=$.bvlT.v.bvlT!="SfBL"?k:k*.43,j=Math.round(k);
c=new cn(-j-1,-j-1,2*j+2,2*j+2)}if(O&&D=="ChFX"){c=new cn(-.5,-.5,1,1);c.M0(k,k);var g=c.clone();eR.su(c,$,M,0);
eR.su(g,$,M,Math.PI);c=c.MK(g)}if(c)b=b.MK(c)}}if(b.x!=Math.ceil(b.x)){b.x=Math.ceil(b.x);b.e-=1}if(b.y!=Math.ceil(b.y)){b.y=Math.ceil(b.y);
b.n-=1}b.e=Math.floor(b.e);b.n=Math.floor(b.n);return b};eR.g6=function(w){var M=0,O=0,b=w.Styl.v.FStl,D=w.Sz.v.val;
if(b=="OutF")O=D;if(b=="InsF")M=D;if(b=="CtrF")M=O=D/2;return[M,O]};eR.arb=function(w){if(X.Nu&&w.Gm==null){w.Gm=new X.ka(w.Py.e,w.Py.n);
w.Gm.set(w.AJ);delete w.AJ;if(w.hF){w.Mc=new X.ht(w.Py.e,w.Py.n);w.Mc.set(w.hF);delete w.hF}if(w.IX){w.ko=new X.ht(w.Py.e,w.Py.n);
w.ko.set(w.IX);delete w.IX}}};eR.aaZ=function(w){if(w.Gm)w.Gm.delete();if(w.Mc)w.Mc.delete();if(w.ko)w.ko.delete()};
eR.a3w=function(w){if(w.all==null)return;for(var U=0;U<w.all.length;U++){eR.aaZ(w.all[U])}};eR.ars=function(w,M,O,b,D,o){var Z=eR.qu(O,b,w,M,D,o);
for(var U=0;U<Z.all.length;U++)eR.arb(Z.all[U]);return Z};eR.a58=function(w){for(var U=0;U<aN.order.length;
U++){var M=aN.order[U],O=aN.IU[U],b=w[O].v;for(var D=0;D<b.length;D++){var o=b[D].v;if(o.enab.v&&["patternFill","GrFl","SoFi"].indexOf(M)==-1)return!0}}return!1};
eR.qu=function(w,M,O,b,D,o){if(o==null)o=b;var Z=0,$=0;for(var U=0;U<aN.order.length;U++){var k=aN.order[U],E=aN.IU[U],t=w[E].v;
for(var c=0;c<t.length;c++){var l=t[c].v;if(k=="DrSh"&&l.enab.v&&l.Ckmt.v.val>0&&l.blur.v.val>0)Z=Math.max(Z,Math.ceil(l.Ckmt.v.val*l.blur.v.val/100));
if(k=="OrGl"&&l.enab.v&&l.Ckmt.v.val>0&&l.blur.v.val>0&&l.GlwT.v.BETE=="SfBL")Z=Math.max(Z,Math.ceil(l.Ckmt.v.val*l.blur.v.val/100));
if(k=="OrGl"&&l.enab.v&&l.blur.v.val>0&&l.GlwT.v.BETE=="PrBL")Z=Math.max(Z,l.blur.v.val);if(k=="FrFX"&&l.enab.v&&l.Sz.v.val>0){if(l.Styl.v.FStl=="OutF")Z=Math.max(Z,l.Sz.v.val);
if(l.Styl.v.FStl=="CtrF")Z=Math.max(Z,Math.ceil(l.Sz.v.val/2));$=Math.max($,eR.g6(l)[1])}}}var q=new eR.dn(O,b,Z,eR.a58(w)),d=-b.x,V=-b.y,L={type:{},all:[]};
for(var e=0;e<aN.order.length;e++){var k=aN.order[e],E=aN.IU[e];L.type[k]=[];for(var H=w[E].v.length-1;
H>=0;H--){var j=w[E].v[H].v,T;if(!j.enab.v)continue;var g=j.blur?j.blur.v.val:0,K=j.Ckmt?j.Ckmt.v.val/100:0,a=g*K;
if(k=="DrSh"){var C=q.$h(a,g-a,!0),F=C.gp,m=C.xr;m.offset(d,V);eR.Jo(F,j,!1);eR.su(m,j,D,0);var N=x.$(m.v()*4);
eR.rG(N,j.Clr.v);x.Jm(F,N,3);T={AJ:N,Py:m,aw6:j.layerConceals.v}}else if(k=="IrSh"){var C=q.$h(a,g-a,!1);
eR.su(C.xr,j,D,0);var m=q.rect().clone(),F=x.$(m.v());F.fill(255);x.CV(C.gp,C.xr,F,m);eR.Jo(F,j,!0,!0);
var N=x.$(m.v()*4);eR.rG(N,j.Clr.v);x.Jm(F,N,3);m.offset(d,V);T={AJ:N,Py:m}}else if(k=="GrFl"){var N=x.$(q.rect().v()*4);
eR.Yf(j,N,q.rect(),D,null,o);var m=q.rect().clone();m.offset(d,V);T={AJ:N,Py:m}}else if(k=="SoFi"){var N=x.$(q.gp().length*4);
eR.rG(N,j.Clr.v);var m=q.rect().clone();m.offset(d,V);T={AJ:N,Py:m}}else if(k=="ebbl"){var v=!1;if(v)console.log(j);
var h=Date.now(),P=j.bvlS.v.BESl;if(P=="strokeEmboss"){var J=w.frameFXMulti.v;if(J.length==0)continue;
J=J[0].v;if(!J.enab.v)continue;var Y=J.Styl.v.FStl;if(Y=="OutF")P="OtrB";if(Y=="CtrF")P="Embs";if(Y=="InsF")P="InrB"}var g=j.blur.v.val;
if(g==0)g=.7;if(P=="Embs"||P=="PlEb")g/=2;var B=["OtrB","InrB","Embs","PlEb","strokeEmboss"],S=["SfBL","PrBL","Slmt"],r=["In","Out"],I=j.bvlT.v.bvlT!="SfBL"?g:g*.45,f=Math.round(g),s=q.rect().clone(),W=s.clone();
W.M0(f,f);var i=W.e,u=W.n,z=i*u,G=x.$(z);x.CV(q.gp(),s,G,W);var g_=new Float64Array(z),cl=new Float64Array(z);
x.style.A$(G,g_,i,u);x.ZW(G);x.style.A$(G,cl,i,u);if(v)console.log("distTransform computed",Date.now()-h);
for(var U=0;U<z;U++)cl[U]=cl[U]-g_[U];for(var U=0;U<z;U++){var p=cl[U];if(p<-I)cl[U]=-I;else if(p>I)cl[U]=I}if(v)console.log("summing + cropping",Date.now()-h);
if(j.bvlT.v.bvlT=="SfBL"){var b2=Math.pow(g*.21,1.22);if(!0)b2=Math.max(b2,2);var jz=x.m8.n_(b2,2);x.m8.ZL(cl,g_,W,jz[0]>>>1);
x.m8.ZL(g_,cl,W,jz[1]>>>1)}if(v)console.log("blurring",Date.now()-h);var aT=cl,fZ=aT.slice(0);if(j.useShape.v){var ft=Math.min(100,j.Inpr.v.val+1)/100;
if(P!="OtrB"&&P!="InrB")ft=1;var cc=x.kE.sl(j.MpgS.v.Crv.v,2e3),kr=Math.round(2e3/ft);cc=x.kE.aow(cc,kr,P=="InrB");
var hG=.5/I;for(var U=0;U<z;U++){var hi=aT[U],bU=.99999*(hi+I)*hG;aT[U]=-I+2*I*cc[~~(bU*(kr-1))]}if(v)console.log("applying shape",Date.now()-h)}if(j.useTexture.v){var ic=x.$(i*u*4);
eR.o2(j,ic,W,D.add.Patt,M);var iQ=x.$(i*u);x.C3(ic,iQ);var bx=x.$(i*u);x.m8.Av(iQ,bx,W,1);iQ=bx;var aR=g*j.textureDepth.v.val*(1/100)*(1/255);
if(j.InvT.v)aR=-aR;for(var U=0;U<z;U++)aT[U]+=-aR*iQ[U];if(v)console.log("applying texture",Date.now()-h)}var gs=(j.bvlT.v.bvlT=="SfBL"?1:.5)*(j.bvlD.v.BESs=="In"?1:-1)*j.srgR.v.val/100;
for(var U=0;U<z;U++)aT[U]*=gs;if(v)console.log("scaling",Date.now()-h);var k7=j.uglg&&j.uglg.v?D.OO():j.lagl.v.val;
k7=k7*(Math.PI/180);var fT=j.uglg&&j.uglg.v?D.zd():j.Lald.v.val;fT=fT*(Math.PI/180);var aH=Math.cos(k7)*Math.cos(fT),e7=-Math.sin(k7)*Math.cos(fT),dB=Math.sin(fT),ia=new Float64Array(z),d7=new Float64Array(z),hf=P=="PlEb";
for(var gv=0;gv<u;gv++)for(var hN=0;hN<i;hN++){var U=gv*i+hN,hP=0,gP=0,aB=1;if(gv!=0&&gv!=u-1&&hN!=0&&hN!=i-1){var i7=aT[U-i-1],dI=aT[U-i+1],gh=aT[U+i-1],b9=aT[U+i+1];
hP=-.125*(dI+2*aT[U+1]+b9-(i7+2*aT[U-1]+gh));gP=-.125*(gh+2*aT[U+i]+b9-(i7+2*aT[U-i]+dI))}else{var ij=aT[U];
gP=-(gv==0?aT[U+i]-ij:gv==u-1?ij-aT[U-i]:.5*(aT[U+i]-aT[U-i]));hP=-(hN==0?aT[U+1]-ij:hN==i-1?ij-aT[U-1]:.5*(aT[U+1]-aT[U-1]))}var ax=1/Math.sqrt(hP*hP+gP*gP+1);
hP*=ax;gP*=ax;aB*=ax;var iX=hP*aH+gP*e7+aB*dB,am=iX;if(hf)am=-hP*aH-gP*e7+aB*dB;if(iX>0)ia[U]=iX;if(am>0)d7[U]=am}if(v)console.log("raycasting",Date.now()-h);
if(j.Sftn.v.val!=0){x.m8.N9(ia,g_,W,j.Sftn.v.val*.43);var jf=g_,g_=ia,ia=jf;if(hf){x.m8.N9(d7,g_,W,j.Sftn.v.val*.43);
var jf=g_,g_=d7,d7=jf}else x.U7(ia,d7)}if(v)console.log("softening",Date.now()-h);var cc=x.kE.sl(j.TrnS.v.Crv.v,1024);
for(var U=0;U<z;U++){ia[U]=cc[~~(ia[U]*1024)];d7[U]=cc[~~(d7[U]*1024)]}if(v)console.log("contour remap",Date.now()-h);
i=Math.round(i);u=Math.round(u);var eJ=x.$(i*u*4);eR.rG(eJ,j.hglC.v);var hZ=x.$(i*u*4);eR.rG(hZ,j.sdwC.v);
var hC=x.$(i*u*4);eR.rG(hC,j.hglC.v);var ds=x.$(i*u*4);eR.rG(ds,j.sdwC.v);var hV=1/dB,bv=1/(1-dB),hG=1/I,hl=new Float64Array(1e3);
for(var U=0;U<1e3;U++)hl[U]=Math.pow(U*.001,.2);for(var gv=0;gv<u;gv++)for(var hN=0;hN<i;hN++){var U=gv*i+hN,jQ=4*U+3,a$=0,jB=0;
a$=ia[U];jB=d7[U];var jL=Math.max(0,Math.min(.9999,(fZ[U]+I*.993)*hG));jL=hl[Math.floor(jL*1e3)];var c1=jL*(1-Math.min(1,a$*hV)),fd=jL*(1-Math.min(1,(1-a$)*bv)),g2=jL*(1-Math.min(1,jB*hV)),ed=jL*(1-Math.min(1,(1-jB)*bv));
hZ[jQ]=Math.round(255*c1);eJ[jQ]=Math.round(255*fd);ds[jQ]=Math.round(255*g2);hC[jQ]=Math.round(255*ed)}if(v)console.log("baking textures",Date.now()-h);
W=q.rect().clone();W.M0(f,f);W.offset(d,V);T={a3G:j.bvlS.v.BESl=="strokeEmboss"};var ip=gA.QI(j.hglM.v.BlnM),bS=j.hglO.v.val/100,hg=gA.QI(j.sdwM.v.BlnM),dZ=j.sdwO.v.val/100;
if(["InrB","Embs","PlEb"].indexOf(P)!=-1){T.ur={AJ:eJ,Py:W,_V:ip,VB:bS};T.VO={AJ:hZ,Py:W,_V:hg,VB:dZ}}if(["OtrB","Embs","PlEb"].indexOf(P)!=-1){T.ax={AJ:hC,Py:W,_V:ip,VB:bS};
T.wq={AJ:ds,Py:W,_V:hg,VB:dZ}}if(v)console.log(Date.now()-h)}else if(k=="patternFill"){var cA=q.rect(),N=x.$(cA.v()*4);
eR.o2(j,N,cA,D.add.Patt,M);var m=cA.clone();m.offset(d,V);T={AJ:N,Py:m}}else if(k=="ChFX"){var N=x.$(q.gp().length*4);
eR.rG(N,j.Clr.v);var g=j.blur.v.val,j$=q.rect().clone();j$.M0(g,g);var iK=x.$(j$.v()),hJ=x.$(j$.v());
x.CV(q.gp(),q.rect(),hJ,j$);x.m8.f5(hJ,iK,j$,g*.43);var ag=x.kE.iT(j.MpgS.v.Crv.v,256,!0);x.fn(iK,ag);
var ii=x.$(q.gp().length),hr=x.$(q.gp().length),dN=q.rect().clone();eR.su(dN,j,D,0);x.CV(iK,j$,ii,dN);
dN=q.rect().clone();eR.su(dN,j,D,Math.PI);x.CV(iK,j$,hr,dN);var dm=ii.length;for(var U=0;U<dm;U++)N[4*U+3]=Math.abs(ii[U]-hr[U]);
if(j.Invr.v)for(var U=0;U<dm;U++)N[4*U+3]=255-N[4*U+3];var m=q.rect().clone();m.offset(d,V);T={AJ:N,Py:m}}else if(k=="OrGl"){var C;
if(j.GlwT.v.BETE=="SfBL")C=q.$h(a,g-a,!0);else C=q.alj(g,K,!0);var F=C.gp,m=C.xr,j_=F.slice(0);eR.ae5(F,j);
var N=x.$(m.v()*4);if(j.Grad==null){eR.rG(N,j.Clr.v);eR.Jo(F,j,!1)}else{eR.Jo(F,j,null);var ae={yC:F,j4:255,GB:0,qo:m};
eR.Yf(j,N,m,D,ae);var c6=j.Nose.v.val/100,cg=m.e;for(var U=0;U<j_.length;U++){var ei=255,a5=j_[U];if(a5<32){var gy=(a5+j_[U-1]+j_[U+1]+j_[U-cg]+j_[U+cg])*.2-1;
ei=Math.min(255,Math.round(Math.max(0,gy)*8))}F[U]=ei}eR.abn(F,j)}x.Jm(F,N,3);m.offset(d,V);T={AJ:N,Py:m}}else if(k=="IrGl"){var C;
if(j.GlwT.v.BETE=="SfBL")C=q.$h(a,g-a,!1);else C=q.alj(g,K,!1);var F=C.gp,m=C.xr;eR.ae5(F,j);if(j.glwS.v.IGSr=="SrcC")x.ZW(F);
var N=x.$(m.v()*4);if(j.Grad==null){eR.rG(N,j.Clr.v);eR.Jo(F,j,!0)}else{eR.Jo(F,j,null);var ae={yC:F,j4:255,GB:0,qo:m};
eR.Yf(j,N,m,D,ae);F.fill(255);eR.abn(F,j)}x.Jm(F,N,3);m.offset(d,V);T={AJ:N,Py:m}}else if(k=="FrFX"){var bL=eR.g6(j),gf=bL[0],fx=bL[1],m=q.rect().clone(),dH=null,fz=null;
m.M0(Math.ceil($),Math.ceil($));if(fx>0){var C=q.$h(fx,0,!0);fz=C.gp;if(fz.length<m.v()){fz=x.$(m.v());
x.CV(C.gp,C.xr,fz,m)}}if(gf>0){var C=q.$h(gf,0,!1);dH=x.$(m.v());dH.fill(255);x.CV(C.gp,C.xr,dH,m)}m.offset(d,V);
var N=x.$(m.v()*4),ke=j.PntT.v.FrFl;if(ke=="SClr")eR.rG(N,j.Clr.v);if(ke=="GrFl")eR.Yf(j,N,m,D,q.ah4(gf,fx));
if(ke=="Ptrn")eR.o2(j,N,m,D.add.Patt,M);T={AJ:N,Py:m,IX:fz,hF:dH}}L.type[k].push(T);if(k=="ebbl"){if(T.ur)L.all.push(T.ur,T.VO);
if(T.ax)L.all.push(T.ax,T.wq)}else{T._V=gA.QI(j.Md.v.BlnM);T.VB=j.Opct.v.val/100,L.all.push(T)}}}return L};
eR.hW=function(w){var M=1/Math.sqrt(w.x*w.x+w.y*w.y+w._M*w._M);w.x*=M;w.y*=M;w._M*=M};eR.aho=function(w,M){return{x:w.y*M._M-w._M*M.y,y:w._M*M.x-w.x*M._M,_M:w.x*M.y-w.y*M.x}};
eR.a3i=function(w,M){return w.x*M.x+w.y*M.y+w._M*M._M};eR.abn=function(w,M){var O=M.Nose.v.val/100;if(O>0)for(var U=0;
U<w.length;U++){var b=w[U];b=Math.min(510-(1+O)*x.style.Tr(U),b);w[U]=b}};eR.vB=function(w){var M=eR.GP(),O=w.CQ,b=!1;
for(var U=0;U<32;U+=8)if(O[U]+O[U+1]+O[U+4]+O[U+5]!=0||O[U+2]+O[U+3]+O[U+6]+O[U+7]!=1020)b=!0;if(b){O=O.slice(0);
for(var U=0;U<40;U+=4){var D=O[U]/255,o=O[U+1]/255,Z=O[U+2]/255,$=O[U+3]/255;O[U]=D-.001;O[U+1]=D==o?1e6:1/(o-D);
O[U+2]=Z==$?-1e6:1/(Z-$);O[U+3]=$+.001}}var k=w.add.iOpa!=null?w.add.iOpa/255:M.fill,E=w.add.vstk;if(E&&!E.fillEnabled.v&&(!E.strokeEnabled.v||E.strokeStyleLineWidth.v.val==0))k=0;
return{fill:k,dj:b?O:null,Yn:w.add.brst!=null?w.add.brst:M.Yn,acK:w.add.knko!=null?w.add.knko:M.acK,style:!1,WU:!1}};
eR.GP=function(){return{fill:1,dj:null,Yn:[1,1,1],acK:0,style:!1,WU:!1}};eR.as1=function(w,M,O,b,D,o,Z,$){if($==null)$=1;
if(Z==null)Z=new f$;var k=w.f4[1].e,E=w.f4[1].n,t=new f$,c=D<2;if(c)t.translate(-k/2,-E/2);if(D==0){$*=Math.max(O/k,b/E)}else if(D==1){$*=Math.min(O/k,b/E)}else if(D==2){t.scale(1/k,1/E);
t.concat(Z);t.scale(O,b)}else if(D==3){$=$}t.scale($,$);if(c)t.translate(O/2,b/2);t.concat(o);M.Ptrn.v.Idnt.v=w.id;
M.Scl.v.val=Math.round(100*t.gy());M.Angl.v.val=Math.round(180*Math.atan2(-t.L,t.ip)/Math.PI);M.Algn.v=!0;
var l=M.phase.v;l.Hrzn.v=Math.round(t.hE);l.Vrtc.v=Math.round(t.Qw)};eR.BD=function(w,M){if(M==null)return null;
var O=w.Idnt.v,b=w.Nm.v;for(var U=0;U<M.length;U++)if(M[U].id==O)return M[U];for(var U=0;U<M.length;
U++)if(M[U].name==b)return M[U];return null};eR.a6n=function(w,M,O){var b=["patternFillMulti","ebblMulti","frameFXMulti"];
for(var U=0;U<b.length;U++){var D=w.v[b[U]].v;for(var o=0;o<D.length;o++)if(D[o].v.Ptrn)M.RI(eR.BD(D[o].v.Ptrn.v,O))}};
eR.arj=function(w,M,O){var b=["patternFillMulti","ebblMulti","frameFXMulti"];for(var U=0;U<b.length;
U++){var D=w.v[b[U]].v;for(var o=0;o<D.length;o++)if(D[o].v.Ptrn){var Z=D[o].v.Ptrn.v,$=eR.BD(Z,O),k=eR.BD(Z,M.add.Patt);
if($==null&&k)O.push(k)}}};eR.o2=function(w,M,O,b,D){var o=eR.BD(w.Ptrn.v,b);if(o!=null&&!O.S9()){var Z=o.f4,$=Z[0],k=Z[1],E=0;
x.aS(Z);var t=(w.Scl?w.Scl.v.val:100)/100;while((t<.3||t==.5)&&Z[E+2]){t*=k.e/Z[E+3].e;E+=2;$=Z[E];k=Z[E+1]}var c=x.scale.o2($,k.e,k.n),l=w.phase?w.phase.v:{Hrzn:{v:0},Vrtc:{v:0}},q=w.Angl?w.Angl.v.val:0,d=-O.x+l.Hrzn.v-1,V=-O.y+l.Vrtc.v-1;
if(w.Algn!=null&&!w.Algn.v){}else{d+=D.x;V+=D.y}x.scale.kZ(c,M,O.e,O.n,t,t,d+1,V+1,q*Math.PI/180)}};
eR.Yf=function(w,M,O,b,D,o){if(o==null)o=O;var Z=w.Type?w.Type.v.GrdT:"shapeburst",$=w.Algn&&w.Algn.v?o:new cn(0,0,b.e,b.n),k=w.Angl?x.M.os(w,$):[new at(0,0),new at(100,0)],E=k[0].x,t=k[0].y,c=k[1].x-E,l=k[1].y-t,q=Math.sqrt(c*c+l*l);
q=1/(2*q*q);var d=[c*q,l*q,-l*q,c*q],V=w.Rvrs?w.Rvrs.v:!1,L=w.Dthr?w.Dthr.v:!1;x.M.LJ(w.Grad.v,M,O,d,E,t,V,aN.M.types.indexOf(Z),0,0,D,L)};
eR.aq7=function(w,M,O){for(var U=0;U<w.all.length;U++){var b=w.all[U];b.pO=b.Py.clone();b.pO.offset(M,O)}};
eR.awn=function(w,M,O,b,D,o){var Z=X.Nu?eR.ajd:eR.a4U;eR.aq7(M,O.x,O.y);var $=M.type.DrSh;for(var U=0;
U<$.length;U++)if(!$[U].aw6)Z($[U],b,D,o)};eR.aty=function(w,M,O,b,D,o,Z,$,k,E){var t=O,c=X.Nu?eR.ajd:eR.a4U,l=X.Nu?X.a.lv:x.a.LU,q;
q=M.type.DrSh;for(var U=0;U<q.length;U++)if(q[U].aw6)c(q[U],b,D,o);q=M.type.OrGl;for(var U=0;U<q.length;
U++)c(q[U],b,D,o);var d="patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");for(var V=0;V<d.length;V++){var q=M.type[d[V]];
for(var U=0;U<q.length;U++)c(q[U],Z,t,o)}var L=M.type.ebbl[0],e=L!=null&&L.a3G;q=M.type.FrFX;for(var U=0;
U<q.length;U++){var H=q[U];fQ.CO.CV($,E,k,E,o);c(H,k,E,o);if(e&&U==q.length-1){if(L.wq)c(L.wq,k,E,o);
if(L.ax)c(L.ax,k,E,o);if(L.VO)c(L.VO,k,E,o);if(L.ur)c(L.ur,k,E,o)}if(H.hF||H.Mc)l(k,E,Z,t,X.Nu?H.Mc:H.hF,H.pO,0,o,1);
if(H.IX||H.ko)l(k,E,b,D,X.Nu?H.ko:H.IX,H.pO,0,o,1)}if(!e&&L!=null){if(L.wq)c(L.wq,b,D,o);if(L.ax)c(L.ax,b,D,o);
if(L.VO)c(L.VO,Z,t,o);if(L.ur)c(L.ur,Z,t,o)}};eR.a4U=function(w,M,O,b){var D=eR.GP();D.fill=w.VB;D.style=!0;
x.a.DP(w._V,w.AJ,w.pO,M,O,b,1,D)};eR.ajd=function(w,M,O,b){var D=eR.GP();D.fill=w.VB;D.style=!0;X.a.bG(w._V,w.Gm,w.pO,M,O,b,1,D)};
eR.ae5=function(w,M){var O=1-M.Inpr.v.val/100,b=1+Math.tan(O*(Math.PI/2)),D=w.length;for(var U=0;U<D;
U++)w[U]=Math.min(255,Math.round(w[U]*b))};eR.Jo=function(w,M,O,b){var D=M.blur.v.val,o=Math.round(D*(M.Ckmt.v.val/100));
if(D>o){var Z=x.kE.iT(M.TrnS.v.Crv.v,256,b!=!0);x.fn(w,Z)}if(O!=null&&M.Nose.v.val>0)x.style.Ud(w,M.Nose.v.val/100,O)};
eR.rG=function(w,M,O){if(O==null)O=255;var b=x.M.FL(M),D=O<<24|b.L<<16|b.w<<8|b.o,o=new Uint32Array(w.buffer);
o.fill(D)};eR.su=function(w,M,O,b){var D=M.uglg&&M.uglg.v?O.OO():M.lagl.v.val;D=D*Math.PI/180+b;var o=Math.cos(D)*M.Dstn.v.val,Z=Math.sin(D)*M.Dstn.v.val;
w.x-=Math.round(o);w.y+=Math.round(Z)};eR.XC=function(w){if(w==null)return null;var M=w.frameFXMulti.v;
if(M.length==0)return null;M=M[0].v;var O=JSON.parse(JSON.stringify(aN.d_.default));eR.axk(M,O);return O};
eR.axk=function(w,M){var O=aN.stroke.y8.indexOf(w.PntT.v.FrFl),b=[aN.J1,aN.JK,aN.KO][O],D=M.strokeStyleContent.v={classID:aN.d_.SA[O]};
for(var U=0;U<b.length;U++)D[b[U]]=w[b[U]];M.strokeEnabled=w.enab;M.strokeStyleLineWidth=w.Sz;M.strokeStyleLineAlignment.v.strokeStyleLineAlignment=aN.d_.dB[aN.stroke.types.indexOf(w.Styl.v.FStl)];
M.strokeStyleOpacity=w.Opct;M.strokeStyleBlendMode=w.Md;M.strokeStyleLineJoinType.v.strokeStyleLineJoinType="strokeStyleRoundJoin"};
eR.z4=function(w,M){var O=[];for(var U=0;U<w.length;U++)O.push({t:"UntF",v:{type:"#Nne",val:Math.round(w[U]*M)}});
return O};eR.dn=function(w,M,O,b){this.jx=M.clone();this.a8I=M.clone();this.a8I.M0(O,O);if(b){this.jx.M0(1,1);
this.cl=x.$(this.jx.v());x.CV(w,M,this.cl,this.jx)}else this.cl=w;this.fE=null;this.jI=null;this.sK=null};
eR.dn.prototype.gp=function(){return this.cl};eR.dn.prototype.rect=function(){return this.jx};eR.dn.prototype.Jj=function(){return this.a8I};
eR.dn.prototype.Aq=function(){if(this.fE)return this.fE;this.fE=this.gp().slice(0);x.ZW(this.fE);return this.fE};
eR.dn.prototype.mo=function(){if(this.jI)return this.jI;this.jI=new Float64Array(this.rect().v());x.style.A$(this.Aq(),this.jI,this.rect().e,this.rect().n);
return this.jI};eR.dn.prototype.sd=function(){if(this.sK)return this.sK;var w=this.Jj(),M=x.$(w.v());
x.CV(this.gp(),this.rect(),M,w);this.sK=new Float64Array(w.v());x.style.A$(M,this.sK,w.e,w.n);return this.sK};
eR.dn.prototype.ah4=function(w,M){var O={j4:-M,GB:w,qo:null,yC:null};if(M==0){O.qo=this.rect();O.yC=this.mo();
return O}var b=this.sd().slice(0),D=this.Jj();O.qo=D;O.yC=b;for(var U=0;U<b.length;U++)b[U]=-b[U];if(w==0)return O;
var o=this.mo(),Z=this.rect();for(var $=0;$<Z.n;$++)for(var k=0;k<Z.e;k++){var E=$*Z.e+k,t=($+Z.y-D.y)*D.e+k+Z.x-D.x;
b[t]+=o[E]}return O};eR.dn.prototype.$h=function(w,M,O){var b=Math.ceil(w+M),D={xr:this.rect().clone(),gp:null};
D.xr.M0(b,b);D.gp=x.$(D.xr.v());if(w==0&&M==0)x.U7(O?this.gp():this.Aq(),D.gp);else{var o=x.$(D.xr.v());
x.CV(this.gp(),this.rect(),o,D.xr);if(!O)x.ZW(o);if(w!=0){if(O)x.style.W9(o,D.xr,this.sd(),this.Jj(),w);
else x.style.W9(o,D.xr,this.mo(),this.rect(),w)}if(M!=0)x.m8.f5(o,D.gp,D.xr,Math.max(1,M*.43));else D.gp=o}return D};
eR.dn.prototype.alj=function(w,M,O){var b=w*(M-.5),D={xr:this.rect().clone(),gp:null};if(O)D.xr.M0(w,w);
D.gp=x.$(D.xr.v());var o=D.xr.e,Z=D.xr.n,$=O?this.sd():this.mo(),k=O?this.Jj():this.rect(),E=D.xr,t=E.mX(k),o=t.e,Z=t.n,c=t.x-E.x,l=t.y-E.y,q=t.x-k.x,d=t.y-k.y,V=1-M*2;
for(var L=0;L<Z;L++)for(var e=0;e<o;e++){var H=$[(L+d)*k.e+e+q],j=H/w;D.gp[(L+l)*E.e+e+c]=Math.max(0,Math.min(255,255-255*((j+V)/(1+V))))}return D};
eR.a08=function(w,M,O,b){var D=w.Lefx,o=w.blendOptions;if(D){var Z=M.add.lmfx;if(O==null)O=Z?Z.Scl.v.val:100;
M.add.lmfx=JSON.parse(JSON.stringify(D.v));if(M.add.lmfx.Scl==null)M.add.lmfx.Scl={t:"UntF",v:{type:"#Prc",val:100}};
eR.$_(M.add.lmfx,O/M.add.lmfx.Scl.v.val);if(Z)M.add.lmfx.Scl.v.val=Z.Scl.v.val;var $=D.v.gagl;if($&&b)b.qK($.v.val)}else delete M.add.lmfx;
if(o){o=o.v;if(o.Md)M.eI=gA.QI(o.Md.v.BlnM);if(o.Opct)M.opacity=Math.round(o.Opct.v.val*255/100);if(o.fillOpacity)M.add.iOpa=Math.round(o.fillOpacity.v.val*255/100);
if(o.Blnd){var k=[];for(var U=0;U<10;U++)k.push(0,0,255,255);var E=o.Blnd.v,t="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ");
for(var U=0;U<E.length;U++){var c=E[U].v,l=8*["Gry","Rd","Grn","Bl"].indexOf(c.Chnl.v[0].v.enum);for(var q=0;
q<8;q++){k[l+q]=c[t[q]].v}}M.CQ=k}}};eR.aar=function(w){var M="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" "),O=[],b=w.CQ;
for(var U=0;U<4;U++){var D=U*8;if(b[D]+b[D+1]+b[D+4]+b[D+5]==0&&b[D+2]+b[D+3]+b[D+6]+b[D+7]==4*255)continue;
var o={t:"Objc",v:{classID:"Blnd",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Gry","Rd","Grn","Bl"][U]}}]}}};
O.push(o);for(var Z=0;Z<8;Z++)o.v[M[Z]]={t:"long",v:b[U*8+Z]}}var $={classID:"blendOptions"};if(w.eI!="norm")$.Md={t:"enum",v:{BlnM:gA.VK(w.eI)}};
if(w.opacity!=255)$.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(w.opacity*100/255)}};if(w.add.iOpa!=null)$.fillOpacity={t:"UntF",v:{type:"#Prc",val:Math.round(w.add.iOpa*100/255)}};
if(O.length!=0)$.Blnd={t:"VlLs",v:O};var k={hl:{classID:"null",Idnt:{t:"TEXT",v:fO.ZU()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Custom Style"}},Pg:{classID:"Styl",blendOptions:{t:"Objc",v:$}}},E=w.add.lmfx;
if(E)k.Pg.Lefx={t:"Objc",v:E};return k};function b6(){}b6.w8=function(w){return JSON.parse(JSON.stringify(w))};
b6.dd=function(w){var M=b6.w8(b6.acV),O=M.Brsh.v;if(w!=null){delete O.Hrdn;O.classID="sampledBrush";
O.Nm={t:"TEXT",v:"layer.png"},O.sampledData={t:"TEXT",v:w}}return M};b6.acV={classID:"brushPreset",Nm:{t:"TEXT",v:"Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}};
b6.hW={};b6.hW.check=function(w){var M=b6.hW.mp;for(var U=0;U<M.length;U++)if(w[M[U]]==null)w[M[U]]=JSON.parse(b6.hW.oc[M[U]]);
var O=[];for(var U=0;U<M.length;U++)O.push(M[U]);var b=b6.hW.ayj;for(var U=0;U<b.length;U++){var D=b[U][0],o=b[U][1],Z=!0;
for(var $=0;$<D.length;$++)Z=Z&&w[D[$]].v==!0;if(Z)for(var $=0;$<o.length;$++){if(w[o[$]]==null)console.log("Missing conditional parameter "+o[$]);
else O.push(o[$])}}for(var k in w)if(O.indexOf(k)==-1)console.log("Extra parameter "+k);w=w.Brsh.v;M=b6.hW.Vj.mp;
for(var U=0;U<M.length;U++)if(w[M[U]]==null)w[M[U]]=JSON.parse(b6.hW.Vj.oc[M[U]]);O=[];for(var U=0;U<M.length;
U++)if(w[M[U]])O.push(M[U]);else console.log("Missing default parameter "+M[U]);b=b6.hW.Vj.aop[w.classID];
for(var U=0;U<b.length;U++)if(w[b[U]]==null&&b[U]!="dtipsGridSize"&&b[U]!="dtipsErodibleTipHeightMap"&&w.acT!=1)console.log("Missing conditional parameter "+b[U]);
else O.push(b[U]);for(var k in w)if(O.indexOf(k)==-1)console.log("Extra parameter "+k)};b6.hW.ag2=function(w){var M=b6.hW.ayj;
for(var U=0;U<M.length;U++){var O=M[U][0],b=M[U][1],D=!0;for(var o=0;o<O.length;o++)D=D&&w[O[o]]&&w[O[o]].v==!0;
if(D){for(var o=0;o<b.length;o++)if(w[b[o]]==null){w[b[o]]=JSON.parse(b6.hW.oc[b[o]])}}else for(var o=0;
o<b.length;o++)if(w[b[o]]!=null){delete w[b[o]]}}};b6.hW.Vj={};b6.hW.Vj.mp="classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
b6.hW.Vj.oc={flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}"};b6.hW.Vj.aop={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")};
b6.hW.ayj=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]];
b6.hW.mp="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
b6.hW.oc={useBrushSize:"{\"t\":\"bool\",\"v\":false}",useBrushPose:"{\"t\":\"bool\",\"v\":false}",brushGroup:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}",brushProjection:"{\"t\":\"bool\",\"v\":false}",minimumDiameter:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",minimumRoundness:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",tiltScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",szVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\": 1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",angleDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",roundnessDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",prVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",opVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",wtVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",mxVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",overridePoseAngle:"{\"t\":\"bool\",\"v\":false}",overridePoseTiltX:"{\"t\":\"bool\",\"v\":true}",overridePoseTiltY:"{\"t\":\"bool\",\"v\":true}",overridePosePressure:"{\"t\":\"bool\",\"v\":true}",brushPosePressure:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",brushPoseTiltX:"{\"t\":\"long\",\"v\":0}",brushPoseTiltY:"{\"t\":\"long\",\"v\":0}",brushPoseAngle:"{\"t\":\"long\",\"v\":0}",TxtC:"{\"t\":\"bool\",\"v\":false}",interpretation:"{\"t\":\"bool\",\"v\":true}",textureBlendMode:"{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",textureDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",minimumDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",textureDepthDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",Txtr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",textureScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",InvT:"{\"t\":\"bool\",\"v\":false}",textureBrightness:"{\"t\":\"long\",\"v\":14}",textureContrast:"{\"t\":\"long\",\"v\":100}",Cnt:"{\"t\":\"doub\",\"v\":4}",countDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",bothAxes:"{\"t\":\"bool\",\"v\":false}",scatterDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",clVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",H:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Strt:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Brgh:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",purity:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",colorDynamicsPerTip:"{\"t\":\"bool\",\"v\":false}"};
function ec(w,M){this.aaF=w;this.td=M==null?0:M;this.dir=0}ec.prototype.JQ=function(w,M){var O=this.aaF,b=new at(w.x-O.x,w.y-O.y),D=new f$;
D.rotate(-this.td);b=D.xU(b);if(this.dir==0&&!O.M5(w))this.dir=Math.abs(b.x)<Math.abs(b.y)?1:2;if(M.i(i_.Z4)){if(this.dir==1)b.x=0;
if(this.dir==2)b.y=0}D.ZW();b=D.xU(b);var o=new at(O.x+b.x,O.y+b.y);return o};ec.prototype.aev=function(w){if(w.i(i_.Z4))return this.dir;
return 0};var di=function(){function w(){this.asQ={}}w.a2M=function(M,O){var b=M.clone();b.hE-=Math.floor(b.hE);
b.Qw-=Math.floor(b.Qw);var D=new at(O,0),o=new at(0,O),Z=b.xU(D),$=b.xU(o),k=new at(b.hE,b.Qw);return[Z,$,k]};
w.asF=function(M,O){var b=at.we;return b(M[0],O[0])+b(M[1],O[1])+b(M[2],O[2]);return dsum};w.prototype.a2D=function(M){var O=this.asQ,b=O[M];
if(b==null)b=O[M]={dX:[],JU:0,v:0,adh:0,am7:0};b.JU=Date.now();while(Object.keys(O).length>3){var D="",o=Date.now();
for(var Z in O){var $=O[Z].JU;if($<o){o=$;D=Z}}delete O[D]}return b};w.prototype.a4X=function(M,O){var b=M.dX,D,o=1e6;
for(var U=0;U<b.length;U++){var Z=b[U],$=w.asF(Z.Yo,O);if($<o){D=Z;o=$}}return D};w.prototype.amJ=function(M,O){var b=M.dX;
b.push(O);M.v+=O.rect.v();if(b.length>1e3||M.v>100*100*1600){console.log("pruning",M.v,b.length);b.sort(function(o,Z){return Z.JU-o.JU});
while(b.length>500||M.v>100*100*800){var D=b.pop();M.v-=D.rect.v()}}};return w}();function i$(w,M,O,b,D,o,Z,$,k){this.eg=M;
this.ow=O;this.fj=o;this.vt=b;this.LX=null;this.na=null;this.pi=0;this.atX=0;this.a49=0;this.bt=0;this.vy=k==null?Math.floor(Math.random()*16777215):k;
this.amk=k==null?Math.floor(Math.random()*16777215):k;this.fJ=new cn;this.G_=new cn;if($!=null){this.AJ=$}else{var E=i$.a8v;
if(E.length!=Z.v()*4)E=x.$(Z.v()*4);else E.fill(0);this.AJ=i$.a8v=E}this.rect=Z.clone();this.SC=[];this.Mr=[];
this.Aj=null;this.Sw=0;this.L=null;this.a3J="";this.Um=null;this.a1e(w,D)}i$.a8v=x.$(16);i$.prototype.a1e=function(w,M){this.Sw=M;
this.L=w;this.a3J=JSON.stringify(w)+JSON.stringify(this.vt.A0);this.Um=i$.a4Q(this.L,this.eg,this.ow)};
i$.prototype.moveTo=function(w,M,O){O=this.aeN(O);this.pi=O;var b=new at(w,M),D=this.L.Brsh.v.Dmtr.v.val;
this.LX=b.clone();this.na=b.clone();this.Aj=b.clone();this.SC=[w,M];this.Mr=[O];if(this.vt.Xg!=i$.mH){var o=this.L.angleDynamics,Z=o?o.v.bVTy.v==6:!1;
this.Vx(Z?new cn:this.a3L(b,this.a2e(O),O,new at(0,0)))}this.bt=b.clone()};i$.prototype.lineTo=function(w,M,O){O=this.aeN(O);
var b=this.SC,D=b.length,o=b[D-2],Z=b[D-1];if(w==o&&M==Z)return;var $=this.L.Brsh.v.Dmtr.v.val,k=Math.ceil($)+1,E=new cn(Math.round(o),Math.round(Z),0,0);
E.M0(k,k);var t=new cn(Math.round(w),Math.round(M),0,0);t.M0(k,k);this.SC.push(w,M);this.Mr.push(O);
D+=2;if(D>=6)this.Vx(this.amA(D))};i$.prototype.aeN=function(w){if(w==null)w=1;w=Math.max(.05,Math.min(5,w));
if(isNaN(w)){alert("Pressure is not a number");throw"e"}return w};i$.prototype.Vx=function(w){this.fJ=w;
this.G_=this.G_.MK(w)};i$.prototype.finish=function(){var w=this.SC,M=w.length,O;if(M==4)O=this.aa4(w[M-2],w[M-1],this.Mr[(M>>1)-1],!0);
if(M>4)O=this.amA(M+2);if(O)this.Vx(O)};i$.prototype.HW=function(){return this.rect.clone()};i$.prototype.Ny=function(){return this.fJ.mX(this.rect)};
i$.prototype.IH=function(){return this.G_.mX(this.rect)};i$.prototype.Mg=function(){return this.AJ};
i$.prototype.amA=function(w){var M=this.SC,O=this.Mr,b=M[w-6],D=M[w-5],o=M[w-4],Z=M[w-3],$=O[(w>>1)-3],k=O[(w>>1)-2],E=new at(0,0),t=new at(0,0);
if(8<=w)E=i$.awU(M[w-8],M[w-7],b,D,o,Z);if(w<=M.length)t=i$.awU(M[w-2],M[w-1],o,Z,b,D);var c=b+E.x,l=D+E.y,q=o+t.x,d=Z+t.y,V=new cn;
for(var U=0;U<10;U++){var L=(U+1)*.1,e=1-L,H=e*e*e*b+3*L*e*e*c+3*L*L*e*q+L*L*L*o,j=e*e*e*D+3*L*e*e*l+3*L*L*e*d+L*L*L*Z,g=this.aa4(H,j,$+L*(k-$));
V=V.MK(g)}return V};i$.awU=function(w,M,O,b,D,o){var Z=w-O,$=M-b,k=D-O,E=o-b,t=Math.sqrt(Z*Z+$*$),c=Math.sqrt(k*k+E*E),l=Math.acos((Z*k+$*E)/(t*c))/Math.PI,q=.35,d=.1;
l=d+l*(q-d);var V=D-w,L=o-M,e=Math.sqrt(V*V+L*L),H=l*c/e;return new at(V*H,L*H)};i$.prototype.aa4=function(w,M,O,b){var D=new cn,o=this.vt.aum;
if(o==null)o=0;if(o==0||b){D=this.aa3(w,M,O);return D}var Z=this.Aj,$=w-Z.x,k=M-Z.y,E=Math.sqrt($*$+k*k);
$/=E;k/=E;if(E>o){var t=Z.x+$*(E-o),c=Z.y+k*(E-o);D=this.aa3(t,c,O);this.Aj.ZK(t,c)}return D};i$.prototype.aa3=function(w,M,O){var b=new cn,D=new at(w,M),o=this.L.Brsh.v.Dmtr.v.val,Z=this.vt.Xg,$=D._6(this.na);
$.normalize(1);var k=at.we(this.na,D),E=-this.atX,t=this.na.clone();while(!0){var c=this.pi+(O-this.pi)*(Math.max(0,E)/k),l=this.a2e(c),q=this.asu()*(l+this.a49)/2*this.Um.agv;
if(Z==i$.mH)q=1;if(E+q<k){E+=q;var d=new at(this.na.x+$.x*E,this.na.y+$.y*E),e=1;if(Z==i$.mH){var V=t.clone();
V.x+=$.x>0?1:-1;var L=t.clone();L.y+=$.y>0?1:-1;if(at.we(V,d)<at.we(L,d))d=V;else d=L;E=at.we(d,this.na)}if(this.L.useScatter.v==!0){e=this.L.Cnt.v;
var H=this.L.countDynamics.v.jitter.v.val/100,j=H*(-1+2*this.mD());e+=Math.round(e*j)}for(var U=0;U<e;
U++){var g=this.a3L(d,l,O,$);b=b.MK(g)}t=d}else break}this.atX=k-E;this.na=D;this.pi=O;return b};i$.prototype.asu=function(){var w=this.L.Brsh.v,M=w.Spcn.v.val,O=Math.max(5,w.Rndn.v.val);
return O/100*(M/100)};i$.prototype.a2e=function(w){var M=this.L,O=M.Brsh.v.Dmtr.v.val;if(M.useTipDynamics.v){var b=O*(M.minimumDiameter.v.val/100);
O=b+(O-b)*(1-this.mD(this.amk)*(M.szVr.v.jitter.v.val/100));if(M.szVr.v.bVTy.v==2)O*=w}return O};i$.prototype.a3L=function(w,M,O,b){var D=this.vt.uX;
D=Math.min(1,D);var o=this.L,Z=this.L.Brsh.v,$=Z.Dmtr.v.val,k=this.vt,E=k.Xg,t=k.ad2,c=this.Um.f4[1],l=new f$;
l.translate(-c.e/2,-c.n/2);l.scale(1/this.Um.ao8,1/this.Um.ao8);l.scale(M/$,M/$);l.scale(1,Math.max(5,Z.Rndn.v.val)/100);
if(o.usePaintDynamics&&o.usePaintDynamics.v){var q=o.opVr.v.jitter.v.val/100,d=o.prVr.v.jitter.v.val/100;
D*=1-this.mD()*q;D*=1-this.mD()*d;if(o.opVr.v.bVTy.v==2)D*=O;if(o.prVr.v.bVTy.v==2)D*=O}if(o.useTipDynamics.v){var V=o.angleDynamics.v,L=o.minimumRoundness.v.val/100;
l.scale(1,L+(1-L)*Math.round(100-this.mD()*o.roundnessDynamics.v.jitter.v.val)/100);l.rotate((-.5+this.mD())*4*Math.PI*(V.jitter.v.val/100));
if(V.bVTy.v==6)l.rotate(Math.atan2(-b.y,b.x))}l.rotate(Z.Angl.v.val*(Math.PI/180));if(o.useScatter.v){var e=(-1+2*this.mD())*o.scatterDynamics.v.jitter.v.val/100;
l.translate(-e*M*b.y,e*M*b.x)}l.translate(w.x,w.y);var H=this.ajs(l,w,M),j=H.rect.clone();if(E==null){var g=this.fW(o);
x.TZ(H.ES,Math.round(g.L*255)<<16|Math.round(g.w*255)<<8|Math.round(g.o*255)<<0,4278190080);if(this.G_.S9()&&this.rect.M5(H.rect)&&D==1)this.AJ=H.ES.slice(0);
else{var K=-1,a=2,T=-1,C=2;if(!k.i7){K=T=0;a=C=1}for(var F=T;F<C;F++)for(var m=K;m<a;m++){var N=H.rect.clone();
N.x+=m*this.rect.e;N.y+=F*this.rect.n;if(N.Yt(this.rect)){j=j.MK(N);x.a.a88(H.ES,N,this.AJ,this.rect,N,D)}}}}if(E==i$.mH){var v=new at(H.rect.x+H.rect.e/2,H.rect.y+H.rect.n/2),h=Math.round(v.x-this.bt.x),P=Math.round(v.y-this.bt.y),J=H.rect.clone();
J.offset(-h,-P);var Y=J.mX(this.rect);Y.offset(h,P);x.xu(this.AJ,this.rect,H.ES,J);x.a.qQ(H.ES,H.rect,this.AJ,this.rect,H.qj,H.rect,D)}if(E==i$.xG||E==i$.BQ||E==i$.zi){var B=H.rect.mX(this.rect),S;
if(B.M5(H.rect))S=H.qj;else{S=x.$(B.v());x.CV(H.qj,H.rect,S,B)}var r=x.$(B.v()*4);x.xu(this.AJ,this.rect,r,B);
if(E==i$.BQ){var I=r.slice(0),f=x.FJ.VI([-1,-1,-1,-1,25,-1,-1,-1,-1]);x.FJ.jM(r,I,B.e,B.n,f,0);x.U7(I,r)}else if(E==i$.zi){var s=ek.pp("UnsM");
s.Amnt.v.val=15;s.Thsh.v=0;s.Rds.v.val=5;var I=x.$(r.length);ek.ly("UnsM",{buffer:r,rect:B},s,0,0,{buffer:I,rect:B});
x.U7(I,r)}else{ek.yn(1,x.m8.oy,r,B)}x.a.qQ(r,B,this.AJ,this.rect,S,B,D)}this.a49=M;this.bt=v;this.amk++;
return j};i$.prototype.fW=function(w){var M=i$.a0u(this.Sw);if(w.useColorDynamics&&w.useColorDynamics.v){var O=1-this.mD()*w.clVr.v.jitter.v.val/100,b=i$.a0u(this.fj);
M.o=O*M.o+(1-O)*b.o;M.w=O*M.w+(1-O)*b.w;M.L=O*M.L+(1-O)*b.L;var D=(-.5+this.mD())*w.H.v.val/100,o=(-1+2*this.mD())*w.Strt.v.val/100,Z=(-1+2*this.mD())*w.Brgh.v.val/100,$=x.GC(M.o,M.w,M.L);
$.e3=($.e3+D+1)%1;$.h7=$.h7+o;if($.h7<0)$.h7=-$.h7;if($.h7>1)$.h7=1-($.h7-1);$.X$=$.X$+Z;if($.X$<0)$.X$=-$.X$;
if($.X$>1)$.X$=1-($.X$-1);M=x.Ja($.e3,$.h7,$.X$)}return M};i$.prototype.hW=function(w){return Math.max(0,Math.min(1,w))};
i$.prototype.mD=function(w){if(w==null){w=this.vy++}return i$.hash(w)};i$.a0u=function(w){return{o:(w>>16&255)/255,w:(w>>8&255)/255,L:(w>>0&255)/255}};
i$.hash=function(w){w=w^61^w>>16;w=w+(w<<3);w=w^w>>4;w=w*668265261;w=w^w>>15;return(w&16777215)/16777215};
i$.ayc=new di;i$.prototype.ajs=function(w,M,O){var b=Math.sqrt(this.Um.f4[1].v()),D=b*w.gy(),o=D<10?1:D<50?1.5:D<200?3:8;
if(D<30)o=0;var Z=i$.ayc,$=Z.a2D(this.a3J),k=this.vt.A0;if(k){w=w.clone();w.hE=Math.floor(w.hE);w.Qw=Math.floor(w.Qw)}var E=di.a2M(w,b),t=Z.a4X($,E);
if(t&&di.asF(t.Yo,E)>o)t=null;if(t){t.rect.x=Math.round(t.aoz.x+w.hE);t.rect.y=Math.round(t.aoz.y+w.Qw);
if(k){t.rect.x=Math.round(M.x-t.rect.e/2);t.rect.y=Math.round(M.y-t.rect.n/2)}t.JU=Date.now()}else{var c=Math.round(this.L.Brsh.v.Dmtr.v.val),l;
if(k&&c<=3){l={buffer:x.$(c*c*4),rect:new cn(Math.round(M.x-c/2),Math.round(M.y-c/2),c,c)};x.TZ(l.buffer,4278190080)}else if(w.ip==1&&w.L==0&&w.Hv==0&&w.uc==1){l={buffer:this.Um.f4[0],rect:this.Um.f4[1].clone()};
l.rect.x=Math.round(w.hE);l.rect.y=Math.round(w.Qw)}else l=y.u.UA(this.Um.f4,w);if(k){for(var U=0;U<l.buffer.length;
U++)l.buffer[U]=l.buffer[U]>127?255:0}if(l==null)l={buffer:x.$(0),rect:new cn};t={ES:l.buffer,qj:x.$(l.rect.v()),rect:l.rect,aoz:new at(l.rect.x-w.hE,l.rect.y-w.Qw),Yo:E,JU:Date.now()};
x.Oj(t.ES,t.qj,3);if($)Z.amJ($,t)}return t};i$.a4Q=function(w,M,O){var b,D,o,Z=w.Brsh.v.Dmtr.v.val;if(w.Brsh.v.classID=="computedBrush"){var $=w.Brsh.v.Hrdn.v.val/100;
D=Z<100?1.4:1;o=1;b=x.ahg.a4O(Z,$,D)}if(w.Brsh.v.classID=="sampledBrush"){var k;for(var U=0;U<M.length;
U++)if(M[U].id==w.Brsh.v.sampledData.v)k=M[U];b=k.f4;var E=b[1];D=Math.max(E.e,E.n)/Z;o=Math.min(E.e,E.n)/Math.max(E.e,E.n)}return{ao8:D,agv:o,f4:b}};
i$.U=null;i$.Mn=null;i$.Td=function(w,M,O,b,D,o){var Z=i$.U,$=i$.Mn;if(Z==null){i$.U=Z=document.createElement("canvas");
i$.Mn=$=Z.getContext("2d")}if(o==null)o=b;if(Z.width!=o||Z.height!=D){Z.width=o;Z.height=D}else $.clearRect(0,0,o,D);
$.fillStyle="#000000";$.font=Math.floor(10*y.V())+"px sans-serif";var k=w.Brsh.v.Dmtr.v.val,E=""+k,t=w.useBrushSize;
if(t&&t.v)E="---";var c=$.measureText(E);$.fillText(E,(b-c.width)/2,D-2);var l=b,q=D-10*y.V(),d=Math.min(l,q),V=w.Brsh.v.classID;
if(V=="computedBrush"){$.translate(l/2,q/2);$.rotate(-w.Brsh.v.Angl.v.val*Math.PI/180);$.scale(1,.1+.9*w.Brsh.v.Rndn.v.val/100);
var L=Math.min(.95*d/2,k/2)+.5,e=.9*w.Brsh.v.Hrdn.v.val/100,H=$.createRadialGradient(0,0,0,0,0,L);H.addColorStop(e,"rgba(0,0,0,1)");
H.addColorStop((.5+e)/1.5,"rgba(0,0,0,.5)");H.addColorStop(1,"rgba(0,0,0,0)");$.fillStyle=H;$.fillRect(-L,-L,2*L,2*L);
$.setTransform(1,0,0,1,0,0)}else if(V=="sampledBrush"){var j,F=0;for(var U=0;U<M.length;U++)if(M[U].id==w.Brsh.v.sampledData.v)j=M[U];
var g=j.f4;x.aS(g);var a=g[0],T=g[1].e,C=g[1].n;while((T>l||C>q)&&g[F+2]){F+=2;a=g[F];T=g[F+1].e;C=g[F+1].n}if(T*C!=0){var m=new ImageData(new Uint8ClampedArray(a.buffer),T,C);
$.putImageData(m,Math.round((l-T)/2),Math.round((q-C)/2))}}else{}return Z.toDataURL()};i$.pv=function(w,M,O,b){if(O==0)O=1;
var D=w.Brsh.v,o=D.Dmtr.v.val,Z=D.Dmtr.v.val=Math.min(b!=null?Math.round(b*2.6):3e3,o*O),$=D.Hrdn?D.Hrdn.v.val/100:1,k=b!=null?b:Math.round(Z*(1+.55*(1-$)))+4,c;
k=Math.max(15,Math.min(k,3e3));var E=new cn(0,0,k,k),t=new i$(w,M,null,{uX:1},16711712,0,E);D.Dmtr.v.val=o;
t.moveTo(E.e/2,E.n/2);var l=t.Mg(),q=t.HW();if(E.M5(q))c=l;else{c=x.$(E.v()*4);x.xu(l,q,c,E)}return[c,E,Z]};
i$.ao7=function(w,M,O,b){var D=M.e,o=D>>>1;for(var U=0;U<4;U++){var Z=6-U;w[D*(o-Z)+o-1]=b;w[D*(o-Z)+o]=O;
w[D*(o-Z)+o+1]=b;w[D*(o+Z)+o-1]=b;w[D*(o+Z)+o]=O;w[D*(o+Z)+o+1]=b;w[D*(o-1)+o-Z]=b;w[D*o+o-Z]=O;w[D*(o+1)+o-Z]=b;
w[D*(o-1)+o+Z]=b;w[D*o+o+Z]=O;w[D*(o+1)+o+Z]=b}};i$.Rc=function(w,M,O,b){var D=i$.pv(w,M,O),o=D[0].slice(0),Z=D[1],$=D[2],k=Z.v(),E=x.$(k);
x.Oj(o,E,3);var t=x.$(k);x.X.at5(E,t,Z);if($<3||x.ez(t,0)||b&&$>12){i$.ao7(t,Z,255,0)}var c=[3,5,3,4,8,4,3,5,3];
c=x.FJ.VI(c);x.FJ.Qh(t,E,Z.e,Z.n,c);x.TZ(o,4294967295);x.Jm(E,o,3);for(var U=0;U<k;U++)if(t[U]==255){o[U<<2]=o[(U<<2)+1]=o[(U<<2)+2]=0;
o[(U<<2)+3]=255}return{cB:o,xr:Z,Ct:new at(Z.e/2,Z.n/2)}};i$.mH="0";i$.xG="1";i$.BQ="2";i$.zi="3";var km={};
km.sr=function(w,M){var O=w.D5(),Z=0,E;if(O.x==Infinity||O.S9())return{AJ:x.$(0),xr:new cn,AY:new cn};
var b=w.D5(),D=km.z9(w,M),o=x.p.Kc(D.C);for(var U=0;U<w.Qc.length;U++){var $=w.Qc[U].BW;if($.StrokeFlag&&$._LineWidth)Z=Math.max(Z,Math.ceil(M.F.gy()*$._LineWidth/2))}o.M0(Z,Z);
if(o.S9())return{AJ:x.$(0),xr:new cn,AY:new cn};var k=x.$B(o.e,o.n);k.translate(-o.x,-o.y);km.aju(D,k);
if(w.Qc.length!=0){var t=ah.Lv(M),c=k.getImageData(0,0,o.e,o.n);E=new Uint8Array(c.data.buffer);if(t==0)for(var U=0;
U<E.length;U+=4)E[U+3]=E[U+3]>80?255:0;if(t==3)for(var U=0;U<E.length;U+=4)E[U+3]=Math.min(255,E[U+3]*1.5)}else E=x.$(o.v()*4);
k.resetTransform();k.beginPath();return{AJ:E,xr:o,AY:b}};km.z9=function(w,M){var O=M.F,b=M.GM;km.jf=O.gy();
var D=ah.Lv(M),o=Math.max(O.L*O.L,O.Hv*O.Hv)<1e-9?O:null;if(D==3||D==4)o=null;var Z={H:[],C:[]};km.abS(w,Z,o,!0);
km.abS(w,Z,o,!1);Z=km.av(Z,M,w);return Z};km.jf=1;km.av=function(w,M,O){if(w==null)return w;if(O&&O.XA)x.p.F(w.C,O.XA,w.C);
if(O&&!x.vL.hC(M.TY)){var b=ah.HW(M,O);if(!b.S9()){if(w.H){w=x.p.ci(w);var D=Math.min(b.e,b.n)/8;if(D<1)D=1;
w=x.p.SH(w,D)}var o=x.vL.GS(M.TY,b);x.zD.F(o,w.C,b)}}var Z=M.F;x.p.F(w.C,Z,w.C);return w};km.aju=function(w,M){M.save();
M.miterLimit=2;Typr.U.pathToContext({crds:w.C,cmds:w.H},M);M.restore()};km.ao=function(w,M,O){var b=bs.a5j(O),D=w.GM,o=D.ResourceDict.FontSet,Z=D.ResourceDict.StyleSheetSet[0].StyleSheetData,$=D.EngineDict.StyleRun.RunLengthArray,k=D.EngineDict.StyleRun.RunArray,E=ah.mb(D),t=!0,c={},l=0;
for(var U=0;U<k.length;U++){var q=k[U].StyleSheet.StyleSheetData.Font;if(q==null)q=Z.Font;for(var d=0;
d<$[U];d++){var V=E.charCodeAt(l+d),L=q+","+(V>128?V:-1);if(c[L]==null){c[L]=1;if(M.vk(o[q].Name,V)==null)t=!1}}l+=$[U]}return t&&b};
km.arT=function(w,M,O){var b=!0;for(var D=0;D<w.B.length;D++){var o=w.B[D],Z=o.add.TySh;if(Z!=null&&!km.ao(Z,M,O))b=!1}return b};
km.apP=function(w,M,O){for(var b=0;b<w.B.length;b++){var D=w.B[b],o=D.add.TySh;if(o!=null&&km.ao(o,M,O)){var Z=new bs(o.GM,M),$=km.sr(Z,o);
D.rect=$.xr;D.buffer=$.AJ;D.K();w.K()}}};km.abS=function(w,M,O,b){var D=new f$;for(var U=0;U<w.xy.length;
U++)km.adI(w.Qc,w.xy[U],M,D,O,b)};km.adI=function(w,M,O,b,D,o){b.translate(M.Ra.x,M.Ra.y);for(var U=0;
U<M.tO.length;U++){var Z={},$=M.tO[U];if(!$.t6)break;var k=b.clone();k.translate($.Ra.x,$.Ra.y);if(D){var E=D.Qw+k.Qw*D.uc;
k.Qw=(Math.round(E)-D.Qw)/D.uc}for(var t=$.start;t<$.end;t++)km.a5L(w,M.$K[t],M,Z,O,k,o)}b.translate(-M.Ra.x,-M.Ra.y)};
km.a6D="()<>[]{}\xAB\xBB\u0F3A\u0F3B\u0F3C\u0F3D\u169B\u169C\u2039\u203A\u2045\u2046\u207D\u207E\u208D\u208E\u2208\u2209\u220A\u220B\u220C\u220D\u2215\u223C\u223D\u2243\u2252\u2253\u2254\u2255\u2264\u2265\u2266\u2267\u2268\u2269\u226A\u226B\u226E\u226F\u2270\u2271\u2272\u2273\u2274\u2275\u2276\u2277\u2278\u2279\u227A\u227B\u227C\u227D\u227E\u227F\u2280\u2281\u2282\u2283\u2284\u2285\u2286\u2287\u2288\u2289\u228A\u228B\u228F\u2290\u2291\u2292\u2298\u22A2\u22A3\u22A6\u22A8\u22A9\u22AB\u22B0\u22B1\u22B2\u22B3\u22B4\u22B5\u22B6\u22B7\u22C9\u22CA\u22CB\u22CC\u22CD\u22D0\u22D1\u22D6\u22D7\u22D8\u22D9\u22DA\u22DB\u22DC\u22DD\u22DE\u22DF\u22E0\u22E1\u22E2\u22E3\u22E4\u22E5\u22E6\u22E7\u22E8\u22E9\u22EA\u22EB\u22EC\u22ED\u22F0\u22F1\u22F2\u22F3\u22F4\u22F6\u22F7\u22FA\u22FB\u22FC\u22FD\u22FE\u2308\u2309\u230A\u230B\u2329\u232A\u2768\u2769\u276A\u276B\u276C\u276D\u276E\u276F\u2770\u2771\u2772\u2773\u2774\u2775\u27C3\u27C4\u27C5\u27C6\u27C8\u27C9\u27CB\u27CD\u27D5\u27D6\u27DD\u27DE\u27E2\u27E3\u27E4\u27E5\u27E6\u27E7\u27E8\u27E9\u27EA\u27EB\u27EC\u27ED\u27EE\u27EF\u2983\u2984\u2985\u2986\u2987\u2988\u2989\u298A\u298B\u298C\u298D\u298E\u298F\u2990\u2991\u2992\u2993\u2994\u2995\u2996\u2997\u2998\u29B8\u29C0\u29C1\u29C4\u29C5\u29CF\u29D0\u29D1\u29D2\u29D4\u29D5\u29D8\u29D9\u29DA\u29DB\u29F5\u29F8\u29F9\u29FC\u29FD\u2A2B\u2A2C\u2A2D\u2A2E\u2A34\u2A35\u2A3C\u2A3D\u2A64\u2A65\u2A79\u2A7A\u2A7D\u2A7E\u2A7F\u2A80\u2A81\u2A82\u2A83\u2A84\u2A8B\u2A8C\u2A91\u2A92\u2A93\u2A94\u2A95\u2A96\u2A97\u2A98\u2A99\u2A9A\u2A9B\u2A9C\u2AA1\u2AA2\u2AA6\u2AA7\u2AA8\u2AA9\u2AAA\u2AAB\u2AAC\u2AAD\u2AAF\u2AB0\u2AB3\u2AB4\u2ABB\u2ABC\u2ABD\u2ABE\u2ABF\u2AC0\u2AC1\u2AC2\u2AC3\u2AC4\u2AC5\u2AC6\u2ACD\u2ACE\u2ACF\u2AD0\u2AD1\u2AD2\u2AD3\u2AD4\u2AD5\u2AD6\u2ADE\u2AE3\u2AE4\u2AE5\u2AEC\u2AED\u2AF7\u2AF8\u2AF9\u2AFA\u2E02\u2E03\u2E04\u2E05\u2E09\u2E0A\u2E0C\u2E0D\u2E1C\u2E1D\u2E20\u2E21\u2E22\u2E23\u2E24\u2E25\u2E26\u2E27\u2E28\u2E29\u3008\u3009\u300A\u300B\u300C\u300D\u300E\u300F\u3010\u3011\u3014\u3015\u3016\u3017\u3018\u3019\u301A\u301B\uFE59\uFE5A\uFE5B\uFE5C\uFE5D\uFE5E\uFE64\uFE65\uFF08\uFF09\uFF1C\uFF1E\uFF3B\uFF3D\uFF5B\uFF5D\uFF5F\uFF60\uFF62\uFF63";
km.a5L=function(w,M,O,b,D,o,Z){o.translate(M.Ra.x,M.Ra.y);for(var $=M.Od;$<=M.ob;$++){var k=O.H$[$],E=k.xr.e,t=w[O.aom+k.XN],c=t.BW._FillBackgroundFlag;
if(t.Lk=="\n"||Z&&!c)continue;var l=t.BW.FontSize/t.yw.head.unitsPerEm,q=o.clone();q.translate(k.Ra.x+k.k5*l,k.Ra.y-k.gK*l);
var d=new f$;d.scale(l,-l);if(t.H2==1&&km.a6D.indexOf(t.Lk)!=-1)d.concat(new f$(-1,0,0,1,E,0));if(t.BW.FauxItalic)d.concat(new f$(1,0,-Math.tan(.18),1,0,0));
d.translate(0,t.o3);d.scale(t.scale.x,t.scale.y);if(t.BW.BaselineShift!=null)d.translate(0,-t.BW.BaselineShift);
if(k.td!=0){d.rotate(-k.td)}d.concat(q);var V=(t.BW._LineWidth?t.BW._LineWidth:1)*km.jf;if(Z){D.H.push(km.fW(t.BW._FillBackgroundColor));
var L=1.005*k.xr.n/l,e=new cn(-k.k5,-L*.27,1.03*k.xr.e/(l*t.scale.x),L);if(t.BW.StrokeFlag)e.M0(V/l,V/l);
x.p.concat(D,x.p.zl(e),d);D.H.push("X");continue}if(t.BW.FillFlag)D.H.push(km.fW(t.BW.FillColor));if(t.BW.StrokeFlag)D.H.push("O-"+km.fW(t.BW.StrokeColor)+"-"+V);
if(k.path.H.length!=0&&t.Lk!="\t"){if(t.BW.FauxBold){var H=t.BW.FontSize/2048*27*t.scale.x;d.hE+=H;x.p.concat(D,k.path,d);
d.hE-=H+H;x.p.concat(D,k.path,d)}else x.p.concat(D,k.path,d)}if(t.Lk!="\n"){if(t.BW.Underline){if(b.Wy==null)b.Wy=t.yw.post.underlineThickness;
if(b.akX==null)b.akX=t.yw.post.underlinePosition;var j=0,g=b.akX-b.Wy/2,K=k.UD*1.05,a=-b.Wy;x.p.concat(D,{H:["M","L","L","L","Z"],C:[j,g,j+K,g,j+K,g+a,j,g+a]},d)}if(t.BW.Strikethrough){var T=t.yw["OS/2"].yStrikeoutSize,C=t.yw["OS/2"].yStrikeoutPosition,j=0,g=C+T/2,K=k.UD*1.05,a=-T;
x.p.concat(D,{H:["M","L","L","L","Z"],C:[j,g,j+K,g,j+K,g+a,j,g+a]},d)}}if(t.BW.FillFlag)D.H.push("X");
if(t.BW.StrokeFlag)D.H.push("OX")}o.translate(-M.Ra.x,-M.Ra.y)};km.fW=function(w){var M=ah.FL(w),O=(Math.round(M.o)<<16)+(Math.round(M.w)<<8)+Math.round(M.L);
return"#"+x.zZ(O)};function bs(w,M){var b=ah.SJ(w),D,o,Z=ah.g9(w),$=w._LineOrientation==2?new f$:null,c,q;
if(w.Curve)o=bs.Bj(w.Curve);if(b!=0){D=new cn(Z[0],Z[1],Z[2],Z[3]);if($){var k=D.e;D.e=D.n;D.n=k;$.translate(0,-Z[2])}if(b==2){D.e=o[5]-o[4];
D.n=9999}}this.xy=[];this.Qc=[];this.kB=b;this.XA=$;var E=this.ab4=ah.mb(w),t=-1,l=-1;for(var U=0;U<E.length;
U++){var d=c,V=ah.apY(w,U);if(V!=t){t=V;d=c=ah.aq_(w,V)}var L=q,V=ah.agA(w,U);if(V!=l){l=V;L=q=ah.a1F(w,V)}var e={Lk:E.charAt(U),BW:d,yw:null,s6:-1,p$:ah.asn(w,U),o3:0,scale:new at(0,0),pE:0,lineHeight:0,H2:0},H=w.ResourceDict.FontSet[d.Font].Name,j=e.yw=M.vk(H,E.charCodeAt(U));
e.scale.x=d.HorizontalScale==null?1:d.HorizontalScale;e.scale.y=d.VerticalScale==null?1:d.VerticalScale;
var g=j["OS/2"],K=j.hhea;if(d.FontCaps==1&&e.Lk!=e.Lk.toUpperCase()){var a=g.sxHeight?g.sxHeight/g.sTypoAscender:.76;
e.scale.x*=a;e.scale.y*=a}var T=1/j.head.unitsPerEm*d.FontSize;if(d.FontBaseline==1){var a=w.ResourceDict.SuperscriptSize;
e.scale.x*=a;e.scale.y*=a;e.o3-=w.ResourceDict.SuperscriptPosition*d.FontSize}if(d.FontBaseline==2){var a=w.ResourceDict.SubscriptSize;
e.scale.x*=a;e.scale.y*=a;e.o3+=w.ResourceDict.SubscriptPosition*d.FontSize}e.pE=bs.pE(j)*d.FontSize;
var C=L.AutoLeading;e.lineHeight=d.FontSize*(C==null?1.2:C);if(d.AutoLeading==!1)e.lineHeight=d.Leading;
if(e.lineHeight==0)e.lineHeight=.01;this.Qc.push(e)}var F=this.xy,m=[0];for(var U=0;U<w.EngineDict.ParagraphRun.RunLengthArray.length;
U++){var N=new bs.ny(w,M,this.Qc,U,D,m,b==1?o:null);F.push(N)}if($){if(b==0)$.translate(0,F[0].$K[0].pE/2);
$.rotate(-Math.PI/2)}if(b==2){var v=w.Curve.Points,h=o[0],P=o[1],J=o[2],Y=o[3],B=o[4],S=o[5];for(var U=0;
U<F.length;U++)for(var r=0;r<F[U].tO.length;r++)if(!(U==0&&r==0))F[U].tO[r].t6=!1;var N=F[0],I=N.tO[0];
N.Ra.ZK(0,0);I.Ra.ZK(0,0);for(var r=I.start;r<I.end;r++){var f=N.$K[r],s=f.Ra.x;f.Ra.x=0;for(var W=f.Od;
W<=f.ob;W++){var i=N.H$[W],u=i.xr.e/2;i.Ra.x+=s;var z=bs.afy(h,(B+i.Ra.x+u)%Y);i.Ra.x=z[0]-u*z[2];i.Ra.y=z[1]-u*z[3];
i.td=Math.atan2(z[3],z[2])}}}}bs.pE=function(w){var M=w._hh;if(M==null){var O=Typr.U,b=O.codeToGlyph(w,104),D=x.p.qe(Typr.U.glyphToPath(w,b).crds).n;
M=w._hh=D*(1/w.head.unitsPerEm)}return M};bs.prototype.acZ=function(){return!this.afl(0)};bs.prototype.acF=function(){return this.afl(1)};
bs.prototype.afl=function(w){var M=this.xy,O=!0,b=0;for(var U=0;U<M.length;U++){var D=M[U].tO,o=D.length;
b+=o;for(var Z=0;Z<o;Z++)O&=D[Z].t6}return[O,b][w]};bs.Bj=function(w,M){if(M==null)M=.25;var O=w.Points,b=O.length,D=b>>>3,o=w.TextOnPathTRange,Z=w.Reversed,c=0,l=0;
if(Z){var $=O.slice(0);for(var U=0;U<b;U+=2){$[U]=O[b-2-U];$[U+1]=O[b-1-U]}O=$;o=[D-o[1]%D,D-o[0]%D]}var k=[],E=[0],t=[0];
for(var U=0;U<b;U+=8){var q=O[U+6]-O[U+0],d=O[U+7]-O[U+1],V=Math.round(1/M*Math.sqrt(q*q+d*d));for(var L=0;
L<V;L++){var e=L/V,H=1-e,j=H*H*H*O[U+0]+3*H*H*e*O[U+2]+3*H*e*e*O[U+4]+e*e*e*O[U+6],g=H*H*H*O[U+1]+3*H*H*e*O[U+3]+3*H*e*e*O[U+5]+e*e*e*O[U+7];
k.push(j,g);if(U+L!=0){var q=j-c,d=g-l;t.push(t[t.length-1]+Math.sqrt(q*q+d*d));E.push((U>>>3)+e)}c=j;
l=g}}var M=t.length,K=t[M-1],a=bs.bS(o[0]%D,E),T=bs.bS(o[1]%D,E),C=t[a%M],F=t[T%M];if(C>=F)F+=K;return[k,E,t,K,C,F]};
bs.bS=function(w,M){var U=0;while(M[U]<w)U++;return U};bs.afy=function(w,M){var O=0,U=0,b,D,o;while(O<M){b=w[U+2]-w[U];
D=w[U+3]-w[U+1];o=Math.sqrt(b*b+D*D);O+=o;U+=2}return[w[U],w[U+1],b/o,D/o]};bs.prototype.asd=function(w){return this.Qc[w]};
bs.prototype.avC=function(w){for(var M=0;M<this.xy.length;M++){var O=this.xy[M];for(var b=0;b<O.tO.length;
b++){var D=O.tO[b],o=O.$K[D.start].start,Z=O.$K[D.end-1].end;if(o<w&&w<Z)return[o,Z-1]}}return[0,1]};
bs.prototype.a2k=function(w,M){var O=-1,b=this.xy;if(this.kB==2){var D=1e9,o=0,Z=b[0],$=Z.tO[0];for(var k=$.start;
k<$.end;k++){var E=Z.$K[k];for(var t=E.Od;t<=E.ob;t++){var c=Z.H$[t],l=c.xr.e,q=w.x-c.Ra.x,d=w.y-c.Ra.y,V=q*q+d*d;
if(V<D){D=V;o=c.XN}}}if(o!=0&&this.ab4.codePointAt(o-1)>65535)o--;return o}for(var L=0;L<b.length;L++){var Z=b[L];
for(var e=0;e<Z.tO.length;e++){O++;var $=Z.tO[e],H=Z.tO[e+1];if(H==null&&L<b.length-1)H=b[L+1].tO[0];
if(M!=null){if(O!=M)continue}else{if(H!=null&&Z.Ra.y+$.Ra.y<w.y)continue}for(var k=$.start;k<$.end;k++){var E=Z.$K[k];
for(var t=E.Od;t<=E.ob;t++){var c=Z.H$[t],l=c.xr.e,j=Z.Ra.x+$.Ra.x+E.Ra.x,g=j+c.Ra.x,K=j+(t<E.ob?Z.H$[t+1].Ra.x:c.Ra.x+l);
if(w.x<=K||k+1==$.end&&t==E.ob){var a=Z.aom+c.XN,T=this.Qc[a],C=T.H2&1;if(T.Lk!="\n"&&(C==0&&w.x>g+l/2||C==1&&w.x<g+l/2))a+=this.ab4.codePointAt(a)>65535?2:1;
return a}}}}}};bs.prototype.Ob=function(w){var M={xr:new cn,jD:0},O=0;for(var b=0;b<this.xy.length;b++){var D=this.xy[b];
for(var o=0;o<D.tO.length;o++){var Z=D.tO[o];M.jD=O;O++;for(var $=Z.start;$<Z.end;$++){var k=D.$K[$];
for(var E=k.start;E<k.end;E++){if(E==w){var t=this.Qc[E],c=t.s6,l=D.H$[c].XN,q=1;while(D.H$[c]!=null&&D.H$[c].XN==l){var d=D.H$[c],V=D.Ra.x+Z.Ra.x+k.Ra.x+d.Ra.x,L=D.Ra.y+Z.Ra.y+k.Ra.y+d.Ra.y;
M.xr=M.xr.MK(new cn(V,L-t.lineHeight,d.xr.e,t.lineHeight));M.td=d.td;c+=q}return M}}}}}};bs.prototype.D5=function(){var w=Infinity,M=Infinity,O=-Infinity,b=-Infinity;
for(var U=0;U<this.xy.length;U++){var D=this.xy[U];for(var o=0;o<D.tO.length;o++){var Z=D.tO[o];if(!Z.t6)break;
for(var $=Z.start;$<Z.end;$++){var k=D.$K[$];for(var E=k.Od;E<=k.ob;E++){var t=D.H$[E],c=t.xr,l=D.Ra.x+Z.Ra.x+k.Ra.x+t.Ra.x,q=D.Ra.y+Z.Ra.y+k.Ra.y+t.Ra.y;
w=Math.min(w,l+c.x);M=Math.min(M,q+c.y);O=Math.max(O,l+c.x+c.e);b=Math.max(b,q+c.y+c.n)}}}}return new cn(w,M,O-w,b-M)};
bs.Lz=function(w){return 19968<=w&&w<=40959||12288<=w&&w<=12543};bs.agN=function(w,M,b,D,o,Z,$){var k=[Z],E=0;
for(var U=Z;U<$;U++){if(b[U]==null)console.log(U,Z,$,b);var t=b[U].Lk,c=t.charCodeAt(0);if(c==32||c==9){k.push(E,U,1,U+1);
E=0}else if(c==3851){k.push(E+1,U+1);E=0}else if(bs.Lz(c)){k.push(E,U);E=1}else if(U!=Z&&b[U].H2!=b[U-1].H2){k.push(E,U);
E=1}else E++}k.push(E);var l=[];for(var U=0;U<k.length;U+=2){var q=k[U],d=k[U+1];if(d==0)continue;l.push(new bs.a01(w,M,b,D,o,q,d))}return l};
bs.aqC=function(w,M,O,b,D,o,Z){var $=[0,M?M.e:1e9],k=[];if(b){var E=w[o].pE,t=D+(D==0?E:w[o].lineHeight),c=t-E*.9,l=x.p.rR(b[0],c),q=l.length,d=x.p.rR(b[0],t),V=d.length;
if(q!=0&&V!=0){var L=0,e=0,H=[];while(L<q&&e<V){var j=Math.max(l[L],d[e]),g=l[L+1],K=d[e+1],a=Math.min(g,K);
if(j<a)H.push(j,a);if(g<K)L+=2;else e+=2}if(H.length!=0)$=H}}for(var T=0;T<$.length;T+=2){var C=0,F=o,m=M?$[T+1]-$[T]-O.StartIndent-O.EndIndent-(o==0?O.FirstLineIndent:0):Infinity;
while(o!=w.length){var N=w[o],v=C==0||(N.OA||N.xz)||C+N.xr.e<m;if(!v)break;C+=N.xr.e;o++}k.push(o-F)}Z[0]=k;
Z[1]=$;Z[2]=o};bs.an7=function(w,M){var O=w.length,b=new Uint32Array(O),D=new Uint8Array(O),o=0;for(var U=0;
U<O;U++){D[U]=0;var Z=w.charCodeAt(U);b[U]=Z;if(Z>o)o=Z}if(o>1424)D=bs.a4t(b,M);return D};bs.alq=function(w){return w=="\xDF"?w:w.toUpperCase()};
bs.ny=function(w,M,b,D,o,Z,$){this.$K=[];this.tO=[];this.Ra=new at(0,0);this.H$=null;this.$K=null;this.BW=ah.a1F(w,D);
var k=this.BW,l=0,V="",g=0,K=1,i=0;if(D!=0){var E=k.SpaceBefore;if(E!=null)Z[0]+=E}var t=w.EngineDict.ParagraphRun.RunLengthArray,c=t[D];
for(var U=0;U<D;U++)l+=t[U];var q=k._Direction?k._Direction:0;this.aom=l;var d=ah.mb(w).slice(l,l+c);
for(var L=0;L<d.length;L++){var e=d.charAt(L);V+=b[l+L].BW.FontCaps==0?e:bs.alq(e)}d=V;var H=bs.an7(d,q),j=[],a=H[U]&1,T=b[l].yw;
b[l].H2=H[0];for(var U=1;U<d.length;U++){var e=b[l+U],C=H[U];e.H2=C;if(C!=a||e.yw!=T){j.push(g,K);g=U;
K=1;a=C;T=e.yw}else K++}j.push(g,K);var F=this.H$=[];for(var U=0;U<j.length;U+=2){var m=j[U],N=j[U+1],v=(b[l+m].H2&1)==0,h=d.slice(m,m+N),P=Typr.U.shapeHB(b[l+m].yw,h,v),J=[],S=0;
for(var L=0;L<P.length;L++){var Y=P[L];J.push({w:Y.g,XN:Y.cl,UD:Y.ax,EQ:Y.ay,k5:Y.dx,gK:Y.dy})}P=J;var B=P.slice(0);
if(!v)B.reverse();for(var L=0;L<h.length;L++){while(S+1<B.length&&B[S+1].XN<=L){S++}while(S>0&&B[S-1].XN==L)S--;
b[l+m+L].s6=F.length+(v?S:B.length-S-1)}for(var L=0;L<P.length;L++){F.push(P[L]);P[L].XN+=m;var e=b[l+P[L].XN];
if(e.p$!=-1){P[L].w=e.p$;var r=e.yw.hmtx;if(r){var I=Object.keys(r)[0];P[L].UD=r[I][e.p$]}}if(e.Lk=="\n")P[L].UD=0;
if(e.Lk=="\t")P[L].UD=e.yw.head.unitsPerEm*36/e.BW.FontSize}}var f=ah.cp(k),s=this.$K=bs.agN(w,M,b,l,F,l,l+c),W=this.tO,u=-1,V=[null,null,0];
while(i<s.length){bs.aqC(s,o,k,$,Z[0],i,V);u++;var z={start:i,end:0,xr:new cn,Ra:new at(0,0),t6:!0},iQ=0,bx=0;
W.push(z);z.end=V[2];if(z.start==z.end)throw"e";var G=z.end==s.length;function g_(B,m,k7){var fT=k7-m>>>1;
for(var U=0;U<fT;U++){var aH=B[m+U];B[m+U]=B[k7-1-U];B[k7-1-U]=aH}}for(var cl=1;cl<5;cl++){var p=-1;
for(var U=z.start;U<z.end;U++){var C=b[s[U].start].H2;if(p==-1&&C>=cl)p=U;else if(p!=-1&&C<cl){g_(s,p,U);
p=-1}}var b2=z.end;if(q==0&&s[b2-1].OA)b2--;if(p!=-1)g_(s,p,b2)}var jz=V[0],aT=V[1],p=i,fZ=i;for(var ft=0;
ft<jz.length;ft+=2){var cc=o?aT[ft+1]-aT[ft]-k.StartIndent-k.EndIndent-(i==0?k.FirstLineIndent:0):Infinity,kr=0;
p=fZ;fZ+=jz[ft];var hG=this.acE(p,fZ,s,q,o!=null);if(o){if(f==1||G&&f==4)kr=hG[1]+(cc-hG[0]);if(f==2||G&&f==5)kr=hG[1]+(cc-hG[0])/2;
if(fZ-p==1&&s[p].xr.e>cc)kr=0;if(u==0)kr+=k.FirstLineIndent;kr+=k.StartIndent}else{if(f==0)kr=k.StartIndent+k.FirstLineIndent;
if(f==1)kr=-hG[0]-k.EndIndent;if(f==2)kr=-hG[0]/2}kr+=aT[ft];if(o&&f>2&&(f==6||!G))this.agO(p,fZ,s,cc,q,kr);
else{var hi=kr;for(var U=p;U<fZ;U++){var bU=s[U],ic=bU.xr.e;bU.Ra.x=hi;if(bU.g$=="\t")ic=Math.ceil((hi+4)/36)*36-hi;
hi+=ic}}}i=z.end;for(var U=z.start;U<z.end;U++){var aR=s[U].xr.clone();aR.m0(s[U].Ra);z.xr=z.xr.MK(aR);
iQ=Math.max(iQ,s[U].pE);bx=Math.max(bx,s[U].lineHeight)}z.Ra.y=u==0?0:W[u-1].Ra.y+bx;if(u==0){if(D==0&&o)Z[0]+=iQ;
if(D!=0)Z[0]+=bx;this.Ra.y=Z[0]}else Z[0]+=bx;if(o)z.t6=this.Ra.y+z.Ra.y<o.y+o.n||u==0}var gs=k.SpaceAfter;
if(gs!=null)Z[0]+=gs};bs.ny.prototype.acE=function(w,M,O,b,D){var o=0,Z=0;for(var U=w;U<M;U++)o+=O[U].xr.e;
if(D){if(b==0)for(var U=M-1;U>=w;U--)if(O[U].OA||O[U].xz)o-=O[U].xr.e;else break;if(b==1)for(var U=w;
U<M;U++)if(O[U].OA||O[U].xz){var $=O[U].xr.e;o-=$;Z-=$}else break}return[o,Z]};bs.ny.prototype.agO=function(w,M,O,b,D,o){var Z=0,$=0,k=0,E=0;
for(var U=w;U<M;U++)if(O[U].OA)k++;else{Z+=O[U].xr.e;$++}if(D==0)for(var U=M-1;U>=w;U--)if(O[U].OA||O[U].xz){if(O[U].OA){k--}}else break;
if(D==1)for(var U=w;U<M;U++)if(O[U].OA||O[U].xz){if(O[U].OA){k--;E++}}else break;if($<=1||k==0){if($==1)O[w].Ra.x=o;
return}var t=(b-Z)/k,c=-E*t;for(var U=w;U<M;U++){if(O[U].OA)this.H$[O[U].Od].xr.e=O[U].xr.e=t;O[U].Ra.x=o+c;
c+=O[U].xr.e}};bs.a01=function(w,M,b,D,o,Z,$){this.g$="";for(var U=0;U<$;U++)this.g$+=b[Z+U].Lk;this.OA=$==1&&(b[Z].Lk==" "||b[Z].Lk=="\t");
this.xz=$==1&&b[Z].Lk=="\n";this.start=Z;this.end=Z+$;this.xr=new cn;this.Ra=new at(0,0);this.pE=0;this.lineHeight=0;
var k=0,E=0;if($==0){this.lineHeight=b[Z].lineHeight;this.pE=b[Z].pE;this.xr=new cn(0,-b[Z].lineHeight,0,b[Z].lineHeight)}var t=b[Z].s6,c=b[Z+$-1].s6;
if(c<t){var l=t;t=c;c=l}while(c+1<o.length&&o[c].XN==o[c+1].XN){c++}this.Od=t;this.ob=c;for(var q=t;
q<=c;q++){var d=o[q],V=b[D+d.XN],L=w._LineOrientation==2&&(V.BW.BaselineDirection!=2||bs.Lz(V.Lk.charCodeAt(0))),e=Typr.U.glyphToPath(V.yw,d.w),a=0;
d.path={H:e.cmds,C:e.crds};var H=V.BW.FontSize,j=1/V.yw.head.unitsPerEm*H;if(!V.BW.AutoKerning)k+=V.BW.Kerning*2*j*V.scale.x;
d.Ra=new at(k,0);d.td=0;if(L&&d.path.C.length>0){d.td=-Math.PI/2;d.Ra.x+=H*.83;d.Ra.y=-H*.3+d.UD*j/2;
d.UD=H/j}var g=d.UD*j*V.scale.x;d.xr=new cn(0,-V.lineHeight,g,V.lineHeight);var K=d.xr.clone();K.m0(d.Ra);
if(V.BW.Tracking!=null)a=V.BW.Tracking*.001*H;if(V.BW.FauxBold==!0)a+=.027*H;k+=g+a;if($==1&&V.Lk==" ")K.e+=2*a;
else if($==1&&V.Lk!=null&&bs.Lz(V.Lk.charCodeAt(0)))K.e+=a;this.xr=this.xr.MK(K);this.pE=Math.max(this.pE,V.pE);
this.lineHeight=Math.max(this.lineHeight,V.lineHeight)}};bs.kP=0;bs.a5j=function(w){if(bs.kP==2)return!0;
if(bs.kP==1)return!1;bs.kP=1;function M(){fetch("code/ext/fribidi.wasm").then(function(O){return O.arrayBuffer()}).then(function(O){return WebAssembly.instantiate(O)}).then(function(O){var b=O.instance.exports,D=b.memory,o=16,Z=256,$=1,k=o|Z,E=o|Z|$;
bs.a4t=function(c,l){var q=c.length,d=q*4+4+q*4+q*4+q;ce.V0(b,d+q+1e7);var V=new Uint8Array(D.buffer),L=new Uint32Array(D.buffer),e=b.calloc(d,1),H=e+q*4,j=H+4,K=j+q*4,a=K+q*4;
L.set(c,e>>>2);L[H>>>2]=l==0?k:E;b.fribidi_get_bidi_types(e,q,j);b.fribidi_get_bracket_types(e,q,j,K);
b.fribidi_get_par_embedding_levels_ex(j,K,q,H,a);var T=V.slice(a,a+q);b.free(e);return T};bs.kP=2;var t=new aX(A.E.Z,!0);
t.data={d:A.t.pF,jS:"add",I8:eM.NX,zm:null};w.l(t)})}Typr.U.initHB("code/ext/hb.wasm",M);return!1};function ah(){}ah.w8=function(w){return JSON.parse(JSON.stringify(w))};
ah.G4=function(w,M){for(var O in M)w[O]=M[O]};ah.Wm=function(w,M,O,b){var D=ah.a72();if(O)ah.j_(D,0,0,O);
var o=new f$;if(b!=null)o.rotate(b);o.translate(Math.round(w),Math.round(M));var Z={F:o,GM:D};Z.Fq=ah.a4s();
Z.TY=x.vL.$();Z.AY=new cn;return Z};ah.acA=function(w){var M=["CharacterDirection",0];for(var U=0;U<M.length;
U+=2){if(w[M[U]]!=null&&w[M[U]]!=M[U+1]){throw"e";console.log(M[U],w[M[U]])}}if(w instanceof Array)for(var U=0;
U<w.length;U++)ah.acA(w[U]);else if(w instanceof Object)for(var O in w)ah.acA(w[O])};ah.cp=function(w,M){if(M==null)M=w.Justification;
var O=w._Direction?w._Direction:0;if(O==1){if(M==0||M==3)M++;else if(M==1||M==4)M--}return M};ah._W=function(w){if(w.add==null)return;
var M=w.GM,b=M.Curve,D=w.add.vmsk,o=D.j,Z=x.p.EK(o,!0).C,$=w.F.clone();$.ZW();x.p.F(Z,$,Z);var k=Z.slice(0,8);
for(var E=8;E<Z.length;E+=6)k.push(Z[E-2],Z[E-1],Z[E],Z[E+1],Z[E+2],Z[E+3],Z[E+4],Z[E+5]);b.Points=k;
b.TextOnPathTRange=D.QQ.slice(0);b.Reversed=D.Ao;if(ah.SJ(M)==1){var b=bs.Bj(M.Curve),t=x.p.qe(b[0]);
ah.h4(M,[0,0,t.e,t.n].map(Math.round));for(var U=0;U<k.length;U+=2){k[U]-=t.x;k[U+1]-=t.y}var c=new f$(1,0,0,1,t.x,t.y);
c.concat(w.F);w.F=c}};ah.mL=function(w){if(w.add==null)return;var M=w.add.vmsk,O=w.GM.Curve,b=O.Points,D={H:["M"],C:[b[0],b[1]]};
for(var U=0;U<b.length;U+=8){D.H.push("C");D.C.push(b[U+2],b[U+3],b[U+4],b[U+5],b[U+6],b[U+7])}x.p.F(D.C,w.F,D.C);
var o=x.p.aG(D,!0);M.j=o;M.Ao=O.Reversed;M.QQ=O.TextOnPathTRange.slice(0);w.add.vogk=Q.De(o)};ah.FL=function(w){var M={o:0,w:0,L:0};
if(w){var O=w.Values;if(w.Type==1)M={o:O[1]*255,w:O[2]*255,L:O[3]*255};else if(w.Type==2){var b={classID:"CMYC",Cyn:{t:"doub",v:O[1]*100},Mgnt:{t:"doub",v:O[2]*100},Ylw:{t:"doub",v:O[3]*100},Blck:{t:"doub",v:O[4]*100}};
M=x.M.FL(b)}else console.log("Unknown color type")}return M};ah.atr=function(w){for(var U=0;U<w.length;
U++){var M=w[U].StyleSheet.StyleSheetData,O=M.FillColor;if(O&&O.Type==2){var b=ah.FL(O);O.Type=1;O.Values=[1,b.o/255,b.w/255,b.L/255]}}};
ah.HW=function(w,M){var O;if(ah.SJ(w.GM)==1){var b=ah.g9(w.GM);O=new cn(0,0,b[2]-b[0],b[3]-b[1])}else{O=M.D5();
if(M.XA){var D=M.XA.clone(),o=x.p.zl(O);x.p.F(o.C,D,o.C);O=x.p.qe(o.C)}}return O};ah.H9=function(w){var M=w[0];
for(var U=0;U<w.length;U++)M=ah.a3t(M,w[U]);return M};ah.a3t=function(w,M){var O={};for(var b in w)if(JSON.stringify(w[b])==JSON.stringify(M[b]))O[b]=w[b];
return O};ah.Lh=function(w,M){var O=w.ju,b=-1;for(var U=0;U<O.length;U++)if(O[U].Name==M)b=U;if(b==-1){b=O.length;
O.push({FontType:1,Name:M,Script:0,Synthetic:0})}w.Qc.Font=b};ah.mb=function(w){return w.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")};
ah.zX=function(w,M){w.EngineDict.Editor.Text=M.replace(/\n/g,"\r")};ah.SJ=function(w){return w.Curve&&w.Curve.TextOnPathTRange[0]>=0?2:w.EngineDict.Rendered.Shapes.Children[0].ShapeType};
ah.EC=function(w,M){var b=w.EngineDict.Rendered.Shapes.Children[0];b.ShapeType=M;var D=b.Cookie.Photoshop;
D.ShapeType=M;D.Base.ShapeType=M;if(M==0){delete D.BoxBounds;D.PointBase=[0,0]}if(M==1){delete D.PointBase;
D.BoxBounds=[0,0,1,1]}};ah.g9=function(w){return w.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds};
ah.h4=function(w,M){w.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=M};ah.asn=function(w,M){var b=w.EngineDict.AlternateGlyphRun;
if(b==null)return-1;var D=ah.yr(b.RunLengthArray,M).u9,o=b.RunArray[D].Glyph;return o==null?-1:o};ah.a4C=function(w,M,b){var D=w.EngineDict.AlternateGlyphRun;
if(D==null){D=w.EngineDict.AlternateGlyphRun=ah.acP();D.RunArray.push({});D.RunLengthArray.push(ah.mb(w).length)}var o=ah.yr(D.RunLengthArray,M),Z=o.u9,$=M-o.AS,k=D.RunArray[Z],E=JSON.stringify(k),t=D.RunLengthArray[Z];
if($!=0){D.RunArray.splice(Z,0,JSON.parse(E));D.RunLengthArray.splice(Z,0,$);D.RunLengthArray[Z+1]-=$;
Z++;t-=$;$=0}if(t!=1){D.RunArray.splice(Z+1,0,JSON.parse(E));D.RunLengthArray.splice(Z+1,0,t-1);D.RunLengthArray[Z]=1;
t=1}k.Glyph=b};ah.apY=function(w,M){var b=w.EngineDict.StyleRun.RunLengthArray;return ah.yr(b,M).u9};
ah.aq_=function(w,M){var b=w.ResourceDict.StyleSheetSet[0].StyleSheetData,D={};for(var o in b)D[o]=b[o];
var Z=w.EngineDict.StyleRun.RunArray[M].StyleSheet.StyleSheetData;ah.G4(D,Z);return D};ah.agA=function(w,M){var b=w.EngineDict.ParagraphRun.RunLengthArray;
return ah.yr(b,M).u9};ah.a1F=function(w,M){var b=w.ResourceDict.ParagraphSheetSet[0].Properties,D={};
for(var o in b)D[o]=b[o];var Z=w.EngineDict.ParagraphRun.RunArray[M].ParagraphSheet.Properties;ah.G4(D,Z);
var $=["StartIndent","EndIndent","FirstLineIndent"];for(var U=0;U<3;U++)if(D[$[U]]==null)D[$[U]]=0;return D};
ah.nD=function(w,M,b){if(b=="")return;var D=ah.mb(w);ah.zX(w,D.substring(0,M)+b+D.substring(M,D.length));
var o=w.EngineDict.StyleRun,Z=o.RunLengthArray,$=ah.yr(Z,M-1);Z[$.u9]+=b.length;var k=w.EngineDict.AlternateGlyphRun;
if(k){var Z=k.RunLengthArray,$=ah.yr(Z,M-1);Z[$.u9]+=b.length}var E=w.EngineDict.ParagraphRun,Z=E.RunLengthArray,t=ah.yr(Z,M),c=b.split("\n");
if(c.length==1){Z[t.u9]+=b.length;return}Z.splice(t.u9+1,0,Z[t.u9]-(M-t.AS));E.RunArray.splice(t.u9+1,0,ah.w8(E.RunArray[t.u9]));
Z[t.u9]-=Z[t.u9+1];Z[t.u9]+=c[0].length+1;for(var U=1;U<c.length-1;U++){E.RunArray.splice(t.u9+U,0,ah.w8(E.RunArray[t.u9+U-1]));
E.RunLengthArray.splice(t.u9+U,0,c[U].length+1)}Z[t.u9+c.length-1]+=c[c.length-1].length};ah.Rm=function(w,M,b){var D=ah.mb(w);
ah.zX(w,D.substring(0,M)+D.substring(b,D.length));ah.lc(w.EngineDict.ParagraphRun,M,b,!0);ah.lc(w.EngineDict.StyleRun,M,b,!1);
var o=w.EngineDict.AlternateGlyphRun;if(o)ah.lc(o,M,b,!1)};ah.lc=function(w,M,O,b){var D=w.RunLengthArray,o=ah.yr(D,M),Z=ah.yr(D,O),$=[];
for(var U=0;U<D.length;U++)for(var k=0;k<D[U];k++)$.push(U);$.splice(M,O-M);var E=[];for(var U=0;U<D.length;
U++)E.push(0);for(var U=0;U<$.length;U++)E[$[U]]++;for(var U=0;U<D.length;U++){if(E[U]==0){E.splice(U,1);
D.splice(U,1);w.RunArray.splice(U,1);U--}else if(E[U]<D[U])D[U]=E[U]}if(b&&o.u9!=Z.u9&&o.AS!=M){D[o.u9]+=D[o.u9+1];
D.splice(o.u9+1,1);w.RunArray.splice(o.u9+1,1)}};ah.j_=function(w,M,b,D){var o=w.EngineDict.Editor.Text.length;
if(b==o-2)b++;if(D.Qc.Font!=null)w.ResourceDict.FontSet=D.ju.slice(0);if(M<=b)ah.agM(w.EngineDict.StyleRun,D.Qc,M,b,!0);
ah.agM(w.EngineDict.ParagraphRun,D.xy,M,b,!1)};ah._J=function(w,M,b){var D={ju:w.ResourceDict.FontSet.slice(0),Qc:[],xy:[]},o=w.EngineDict.StyleRun.RunLengthArray,Z=ah.yr(o,M).u9,$=ah.yr(o,b).u9;
for(var U=Z;U<=$;U++){var k=ah.w8(w.ResourceDict.StyleSheetSet[0].StyleSheetData),E=w.EngineDict.StyleRun.RunArray;
if(E.length==0)continue;var t=E[U].StyleSheet.StyleSheetData;ah.G4(k,t);D.Qc.push(k)}var c=w.EngineDict.ParagraphRun.RunLengthArray,l=ah.yr(c,M).u9,q=ah.yr(c,b).u9;
for(var U=l;U<=q;U++){var d=w.EngineDict.ParagraphRun.RunArray;if(d.length==0)continue;D.xy.push(ah.w8(d[U].ParagraphSheet.Properties))}D.Qc=D.Qc.length==0?{}:ah.H9(D.Qc);
D.xy=D.xy.length==0?{}:ah.H9(D.xy);return D};ah.agM=function(w,M,O,b,D){var o=w.RunLengthArray;if(D){var Z=ah.yr(o,O);
if(Z.AS!=O){var $=o[Z.u9];o.splice(Z.u9,0,O-Z.AS);o[Z.u9+1]=$-o[Z.u9];w.RunArray.splice(Z.u9+1,0,ah.w8(w.RunArray[Z.u9]))}var k=ah.yr(o,b);
if(k.AS+o[k.u9]-1!=b){var $=o[k.u9];o.splice(k.u9,0,b-k.AS+1);o[k.u9+1]=$-o[k.u9];w.RunArray.splice(k.u9+1,0,ah.w8(w.RunArray[k.u9]))}}var Z=ah.yr(o,O),k=ah.yr(o,b);
if(D)for(var U=Z.u9;U<=k.u9;U++)ah.G4(w.RunArray[U].StyleSheet.StyleSheetData,M);else for(var U=Z.u9;
U<=k.u9;U++)ah.G4(w.RunArray[U].ParagraphSheet.Properties,M)};ah.afi=function(w,M,b){var D=w.EngineDict.StyleRun.RunLengthArray,o=[],Z=0;
for(var U=0;U<D.length;U++){var $=D[U];for(var k=0;k<$;k++)if(M<=Z+k&&Z+k<b)o.push(U);Z+=$}var E=o[0],t=[];
for(var U=0;U<o.length;U++){var c=o[U]-E;if(c==t.length)t.push(0);t[c]++}return t};ah.a7L=function(w){var M=w.EngineDict.StyleRun,b=M.RunArray,D=M.RunLengthArray;
for(var U=0;U<D.length-1;U++){var o=b[U].StyleSheet.StyleSheetData,Z=b[U+1].StyleSheet.StyleSheetData;
if(JSON.stringify(o)==JSON.stringify(Z)){b.splice(U+1,1);D[U]+=D[U+1];D.splice(U+1,1);U--}}};ah.Lv=function(w){var M=w.Fq.AntA.v.Annt;
M=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"].indexOf(M);if(M==-1)M=1;return M};ah.da=function(w,M){w.Fq.AntA.v.Annt=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"][M]};
ah.ns=function(w,M){var O,b;O=["FontSize","Leading","BaselineShift","_LineWidth"];b=w.Qc;for(var U=0;
U<O.length;U++)if(b[O[U]]!=null)b[O[U]]*=M;O=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"];
b=w.xy;for(var U=0;U<O.length;U++)if(b[O[U]]!=null)b[O[U]]*=M};ah.a6A=function(){return ah._J(ah.a6N,0,0)};
ah.a4s=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0}}};
ah.yr=function(w,M){var O=0,U=0;while(O+w[U]<=M){O+=w[U];U++}return{u9:U,AS:O}};ah.a72=function(){var w=ah.w8(this.a6N);
return w};ah.aiv=function(w,M){var O=M.xy};ah.avj=function(w,M){var O=M.Qc,b;b=w.Undl;if(b&&b.v.Undl=="underlineOnLeftInVertical")O.Underline=!0;
b=w.syntheticItalic;if(b)O.FauxItalic=b.v};ah.a7l={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0,_ComposerEngine:1};
ah.awz={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},_FillBackgroundColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,_LineWidth:1,_FillBackgroundFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2};
ah.acP=function(){return{RunArray:[],RunLengthArray:[],IsJoinable:2}};ah.a6N={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(ah.a7l))},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u30FC\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(ah.a7l))}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:JSON.parse(JSON.stringify(ah.awz))}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};
var bO={};bO.a9a=function(w){var M=bO.axz(w._0,w._1);bO.axg(M,w._0);return M};bO.atS=function(w,M,O){var b={};
b._98={_0:"i7"};b._0=bO.akv(w,M,O?O._0:null);b._1=bO.aip(w,M,b._0,O?O._1:null);return b};bO.akv=function(w,M,O){var b={};
b._1=bO.ajv(w,O?O._1:null);b._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};b._3=JSON.parse(JSON.stringify(bO.ap$));
b._4=JSON.parse(JSON.stringify(bO.atZ));b._5=bO.asL(w,b._1._0,O?O._5:null);b._6=bO.ah9(w,O?O._6:null);
b._8=bO.akj(w,M,O?O._8:null);b._9=bO.aqX;return b};bO.axg=function(w,M){bO.ard(w,M._5,M._1._0)};bO.ajv=function(w,M){var O=[],b=[];
for(var U=0;U<w.length;U++){var D=w[U].ResourceDict.FontSet;for(var o=0;o<D.length;o++){var Z=D[o];if(b.indexOf(Z.Name)!=-1)continue;
O.push(Z);b.push(Z.Name)}}var $={_0:[]};for(var U=0;U<O.length;U++){var k=O[U],E={_0:{_99:"/CoolTypeFont",_0:{_0:"s"+k.Name,_1:"i"+k.Script,_2:"i"+k.FontType}}};
if(k.Script==0)delete E._0._0._1;$._0.push(E)}return $};bO.asL=function(w,M,O){var b={_0:[],_1:[]},D={_0:JSON.parse(JSON.stringify(bO.awa))};
bO.a2W(D._0,w[0].ResourceDict.StyleSheetSet[0],M,w[0].ResourceDict.FontSet);b._0.push(D);b._1.push({_0:"i0"});
b._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}});b._1.push({_0:"i1"});return b};bO.ard=function(w,M,O){var b=M._0[0];
for(var U=0;U<w.length;U++)bO.a0U(b._0,w[U].ResourceDict.StyleSheetSet[0],O,w[U].ResourceDict.FontSet)};
bO.ah9=function(w,M){var O={_0:[],_1:[]},b={_0:JSON.parse(JSON.stringify(bO.gM))};bO.HK(b._0,w[0].ResourceDict.ParagraphSheetSet[0]);
O._0.push(b);O._1.push({_0:"i0"});b={_0:JSON.parse(JSON.stringify(bO.gM))};bO.HK(b._0,w[0].ResourceDict.ParagraphSheetSet[0]);
b._0._0="sBasic Paragraph";b._0._6="i0";O._0.push(b);O._1.push({_0:"i1"});return O};bO.akj=function(w,M,O){var b={_0:[]};
for(var U=0;U<w.length;U++){var D=w[U].Curve,o={};b._0.push({_0:o});var Z=ah.SJ(w[U]);o._2={};o._2._0="i"+Z;
if(w[U]._LineOrientation==2)o._2._1="i2";if(Z==0){o._2._6=["f-1","f-1"];o._2._11={_4:"i-1",_7:!1}}else if(Z==1&&D==null){var $=ah.g9(w[U]),k=$[2],E=$[3];
o._1={_0:bO.J_("f",[0,0,0,0,k,0,k,0,k,0,k,0,k,E,k,E,k,E,k,E,0,E,0,E,0,E,0,E,0,0,0,0])};o._2._6=["f-2","f-2"];
o._2._11={_4:"i-2",_7:!1}}else if(Z==1){var $=ah.g9(w[U]),k=$[2],E=$[3];o._1={_0:bO.J_("f",D.Points)};
o._2._6=["f-3","f-3"];o._2._11={_4:"i-3",_7:!1}}else if(Z==2){o._1={_0:bO.J_("f",D.Points)};o._2._6=bO.J_("f",D.TextOnPathTRange);
o._2._11={_0:D.Reversed,_3:"i0",_5:"f0",_7:!1}}}return b};bO.aip=function(w,M,O,b){var D={};D._0=JSON.parse(JSON.stringify(bO.aq0));
D._1=bO.ac9(w,M,O,b?b._1:null);D._2=JSON.parse(JSON.stringify(bO.awa._6));D._3=JSON.parse(JSON.stringify(bO.gM._5));
return D};bO.axz=function(w,M){return bO.afq(w,M._1)};bO.ac9=function(w,M,O,b){var D=[],o=O._1._0;for(var U=0;
U<w.length;U++){var Z=w[U],$={_0:{}};D.push($);$._0._0="s"+Z.EngineDict.Editor.Text;$._0._0=$._0._0;
var k=$._0._5={_0:[]},E=Z.EngineDict.ParagraphRun;for(var t=0;t<E.RunArray.length;t++){var c={_0:{}};
k._0.push(c);c._0._0={_0:"s",_5:{},_6:"i1"};bO.HK(c._0._0,E.RunArray[t].ParagraphSheet);c._1="i"+E.RunLengthArray[t]}var l=$._0._6={_0:[]};
E=Z.EngineDict.StyleRun;for(var t=0;t<E.RunArray.length;t++){var q={_0:{}};l._0.push(q);q._0._0={_0:"s",_5:"i1",_6:{}};
bO.a2W(q._0._0,E.RunArray[t].StyleSheet,o,Z.ResourceDict.FontSet);q._1="i"+E.RunLengthArray[t]}E=Z.EngineDict.AlternateGlyphRun;
if(E){var d=$._0._9={_0:[]};for(var t=0;t<E.RunArray.length;t++){var V={_0:{}};d._0.push(V);var L=E.RunArray[t];
if(L.Glyph!=null){V._0._0={_0:"i"+L.Glyph,_1:"e"}}V._1="i"+E.RunLengthArray[t]}}$._0._10={_0:"i4",_2:!0};
$._1=bO.view.awA(Z,null,U,null)}return D};bO.afq=function(w,M){var O=[],b=w._1._0;for(var U=0;U<M.length;
U++){var D=ah.a72();O.push(D);var o=M[U];D.EngineDict.Editor.Text=o._0._0.slice(1);var Z=D.EngineDict.ParagraphRun.RunArray[0],$=D.EngineDict.ParagraphRun,k=o._0._5;
if(k)for(var E=0;E<k._0.length;E++){var t=k._0[E];$.RunLengthArray[E]=parseInt(t._1.slice(1));$.RunArray[E]=JSON.parse(JSON.stringify(Z));
bO.apM(t._0._0,$.RunArray[E].ParagraphSheet)}else{$.RunLengthArray[0]=ah.mb(D).length}var c=o._0._6;
$=D.EngineDict.StyleRun;if(c)for(var E=0;E<c._0.length;E++){var l=c._0[E];$.RunLengthArray[E]=parseInt(l._1.slice(1));
$.RunArray[E]={StyleSheet:{StyleSheetData:{}}};bO.a0U(l._0._0,$.RunArray[E].StyleSheet,b,D.ResourceDict.FontSet)}else{$.RunLengthArray[0]=ah.mb(D).length;
$.RunArray[0]={StyleSheet:{StyleSheetData:{}}}}}return O};bO.a2W=function(w,M,O,b,D){w._0="s"+(M.Name?M.Name:"");
var o=w._6,Z=D?D._6:null,$=M.StyleSheetData;if($.Font==null)return;var k=b[$.Font].Name,E=-1;for(var U=0;
U<O.length;U++)if("s"+k==O[U]._0._0._0){E=U;break}o._0="i"+E;if($.FontSize!=null)o._1="f"+$.FontSize;
if($.FauxBold!=null)o._2=$.FauxBold;if($.FauxItalic!=null)o._3=$.FauxItalic;if($.AutoLeading!=null)o._4=$.AutoLeading;
if($.Leading!=null)o._5="f"+$.Leading;if($.HorizontalScale!=null)o._6="f"+$.HorizontalScale;if($.VerticalScale!=null)o._7="f"+$.VerticalScale;
if($.Tracking!=null)o._8="i"+$.Tracking;if($.BaselineShift!=null)o._9="f"+$.BaselineShift;if($.AutoKerning!=null)o._11="i"+($.AutoKerning?1:0);
if($.FontCaps!=null)o._12="i"+$.FontCaps;if($.FontBaseline!=null)o._13="i"+$.FontBaseline;if($.Strikethrough!=null)o._15="i"+($.Strikethrough?1:0);
if($.Underline!=null)o._16="i"+($.Underline?2:0);if($.Ligatures!=null)o._18=$.Ligatures;if($.DLigatures!=null)o._19=$.DLigatures;
if($.BaselineDirection!=null)o._35="i"+$.BaselineDirection;if($.Language!=null)o._38="i"+$.Language;
if($.FillColor!=null)o._53=bO.fW($.FillColor);if($.StrokeColor!=null)o._54=bO.fW($.StrokeColor);if($.FillFlag!=null)o._56=$.FillFlag;
if($.StrokeFlag!=null)o._57=$.StrokeFlag;if($._LineWidth!=null)o._63="f"+$._LineWidth;if($._FillBackgroundColor!=null)o._79=bO.fW($._FillBackgroundColor);
if($._FillBackgroundFlag!=null)o._80=$._FillBackgroundFlag};bO.fW=function(w){return{_99:"/SimplePaint",_0:{_0:"i1",_1:bO.J_("f",w.Values)}}};
bO.a0U=function(w,M,O,b){var D=w._6;if(D==null)return;var o=M.StyleSheetData;if(D._0){var Z=parseInt(D._0.slice(1)),$=O[Z]._0._0._0.slice(1);
ah.Lh({Qc:o,ju:b},$)}if(D._1!=null)o.FontSize=parseFloat(D._1.slice(1));if(D._2!=null)o.FauxBold=D._2;
if(D._3!=null)o.FauxItalic=D._3;if(D._4!=null)o.AutoLeading=D._4;if(D._5!=null)o.Leading=parseFloat(D._5.slice(1));
if(D._6!=null)o.HorizontalScale=parseFloat(D._6.slice(1));if(D._7!=null)o.VerticalScale=parseFloat(D._7.slice(1));
if(D._8!=null)o.Tracking=parseFloat(D._8.slice(1));if(D._9!=null)o.BaselineShift=parseFloat(D._9.slice(1));
if(D._11!=null)o.AutoKerning=parseFloat(D._11.slice(1))==1;if(D._12!=null)o.FontCaps=parseFloat(D._12.slice(1));
if(D._13!=null)o.FontBaseline=parseFloat(D._13.slice(1));if(D._15!=null)o.Strikethrough=parseFloat(D._15.slice(1))==1;
if(D._16!=null)o.Underline=parseFloat(D._16.slice(1))==1;if(D._18!=null)o.Ligatures=D._18;if(D._19!=null)o.DLigatures=D._19;
if(D._35!=null)o.BaselineDirection=parseFloat(D._35.slice(1));if(D._38!=null)o.Language=parseFloat(D._38.slice(1));
if(D._53!=null)o.FillColor=bO.k0(D._53);if(D._54!=null)o.StrokeColor=bO.k0(D._54);if(D._56!=null)o.FillFlag=D._56;
if(D._57!=null)o.StrokeFlag=D._57;if(D._63!=null)o._LineWidth=parseFloat(D._63.slice(1));if(D._79!=null)o._FillBackgroundColor=bO.k0(D._79);
if(D._80!=null)o._FillBackgroundFlag=D._80};bO.k0=function(w){var M=w._0._0,O=w._0._1,b=[1,0,0,0],D=[];
for(var U=0;U<O.length;U++)D[U]=parseFloat(O[U].slice(1));if(M=="i0")b[1]=b[2]=b[3]=D[1];else if(M=="i1")b=D;
else if(M=="i2")b=[1].concat(UDOC.C.cmykToRgb(D.slice(1)));else console.log("unknown color type",M,D);
return{Type:1,Values:b}};bO.HK=function(w,M){w._0="s"+(M.Name?M.Name:"");var O=w._5,b=M.Properties;if(b.Justification!=null)O._0="i"+b.Justification;
if(b.FirstLineIndent!=null)O._1="f"+b.FirstLineIndent;if(b.StartIndent!=null)O._2="f"+b.StartIndent;
if(b.EndIndent!=null)O._3="f"+b.EndIndent;if(b.SpaceBefore!=null)O._4="f"+b.SpaceBefore;if(b.SpaceAfter!=null)O._5="f"+b.SpaceAfter;
if(b.AutoLeading!=null)O._7="f"+b.AutoLeading;if(b.AutoHyphenate!=null)O._9=b.AutoHyphenate;if(b._Direction!=null)O._33="i"+b._Direction;
if(b._ComposerEngine!=null)O._35="i"+b._ComposerEngine};bO.apM=function(w,M){var O=w._5;if(O==null)return;
var b=M.Properties;if(O._0)b.Justification=parseInt(O._0.slice(1))};bO.J_=function(w,M){var O=[];for(var U=0;
U<M.length;U++)O.push(w+M[U]);return O};bO.ap$={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]};
bO.atZ={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]};
bO.awa={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}};
bO.gM={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}};
bO.aqX={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]};
bO.aq0={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s\x03",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};
var eN={};eN.ad1=function(w){return eN.JA(w,eN.Vf,0)};eN.amS=function(w){return eN.rC(w,eN.Vf)};eN.JA=function(w,M,O){var b;
if(typeof w=="string")return w;if(w instanceof Array){b=[];for(var U=0;U<w.length;U++)b[U]=eN.JA(w[U],M,O+1)}else{b={};
var D={};for(var o in M){var Z=M[o],$="_"+Z[0];if(w[$]!=null){b[o]=Z[1]?eN.JA(w[$],Z[1],O+1):w[$];D[$]=!0}}for(var o in w){if(D[o]==null){if(o.length>3)continue;
console.log(M,D);console.log(o,w);throw"e"}}}return b};eN.rC=function(w,M){var O;if(typeof w=="string")return w;
else if(w instanceof Array){O=[];for(var U=0;U<w.length;U++)O[U]=eN.rC(w[U],M)}else{O={};var b={};for(var D in M){var o=M[D],Z="_"+o[0];
if(w[D]!=null){O[Z]=o[1]?eN.rC(w[D],o[1]):w[D];b[D]=!0}}for(var D in w){if(b[D]==null){console.log(M,b);
console.log(D,w);throw"e"}}}return O};eN.j1={_Color:[0,{_Type:[0],_Values:[1]}],_CAIKnownStyleID:[5],_StreamTag:[99]};
eN.vs={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,eN.j1],_StrokeColor:[54,eN.j1],_Blend:[55,{_1:[1],_3:[3],_Knockout:[4],_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,eN.j1],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_MarkYDistFromBaseline:[87],_AutoMydfb:[88],_RefFontSize:[89],_FontSizeRefType:[90]};
eN.a3y={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,eN.vs],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_KashidaWidth:[40]};
eN.a1M={_Name:[0],_Features:[5,eN.a3y],_Parent:[6],_UUID:[97]};eN.a3d={_Name:[0],_Parent:[5],_Features:[6,eN.vs],_UUID:[97]};
eN.Vf={_98:[98,{_0:[0]}],_DocumentResources:[0,{_0:[0],_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3],_4:[4],_MMAxis:[5]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_AutoTsume:[1,{_TsumeMappings:[0,{_Before:[0],_After:[1],_Code:[2]}]}],_Table:[2,{_DataArray:[0,{_SparseArray:[0,{_Index:[0],_Elements:[1,{_P:[0],_Data:[1,{_A:[0,{_R:[0],_P:[1]}],_B:[1,{_R:[0],_P:[1]}]}]}]}]}]}],_PredefinedTag:[3]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,eN.a3d]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,eN.a1M]}],_DisplayList:[1,{_Resource:[0]}]}],_7:[7,{_Resources:[0,{_Resource:[0,{_0:[0,{_0:[0],_1:[1,{_0:[0]}]}],_1:[1]}]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_LineOrientation:[1],_FrameMatrix:[2],_4:[4],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_9:[9],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_1:[1],_Reversed:[0],_2:[2],_3:[3],_Spacing:[4],_5:[5],_6:[6],_7:[7],_18:[18]}],_12:[12],_13:[13]}],_3:[3,{_0:[0]}],_UUID:[97]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_LevelStyle:[5,{_IndentUnits:[0],_TextIndent:[1],_LabelIndent:[2],_LabelAlignment:[3],_SequenceGenerator:[5,{_Prefix:[0],_Postfix:[1],_CaseType:[3],_Bullet:[9],_StreamTag:[99]}],_Font:[6]}],_PredefinedTag:[6],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_10:[10],_11:[11],_LinguisticSettings:[15,{_PreferredProvider:[0],_LinguisticProviderInfo:[1]}],_13:[13],_UseSmartLists:[16],_DefaultStoryDir:[17],_18:[18],_GreekingSize:[20]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,eN.a1M]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,eN.a3d]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_AlternateGlyphRun:[9,{_RunArray:[0,{_RunData:[0,{_AlternateGlyphSheet:[0,{_Glyph:[0],_Name:[1],_2:[2]}]}],_Length:[1]}]}],_StorySheet:[10,{_AntiAlias:[0],_1:[1],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}],_KernRun:[15],_HyperlinkRun:[16]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2]}],_OpticalAlignment:[2]}],_OriginalNormalStyleFeatures:[2,eN.vs],_OriginalNormalParagraphFeatures:[3,eN.a3y]}]};
bO.view={};bO.view.awA=function(w,M,b,D){var o={},Z=ah.SJ(w);o._0=[{_0:"i"+b}];return o};function CSS(){}CSS.a6L=function(w,M){var O=w.add,b=O.vmsk,D=O.vstk,o=O.lmfx,Z=O.TySh,$=[],k=CSS.aog(o,O);
if(w.XS()&&b){var E=x.O.rt(b.j);if(!E.S9()){$.push("width: "+Math.round(E.e)+"px");$.push("height: "+Math.round(E.n)+"px")}var t=x.O.am_(b.j);
if(t>0)$.push("border-radius: "+Math.round(t)+"px")}else if(Z){var c=Z.GM;if(ah.SJ(c)==1){var E=ah.g9(c);
$.push("width: "+Math.round(E[2])+"px");$.push("height: "+Math.round(E[3])+"px")}CSS.alm($,ah._J(c,0,0),Z.F,!1,!1,k[0])}var l=[],q=o?o.dropShadowMulti.v:0;
for(var U=0;U<q.length;U++){var d=q[U].v;if(d.enab.v){var V=d.Dstn.v.val,L=d.lagl.v.val*Math.PI/180;
if(d.uglg&&d.uglg.v)L=M.OO()*Math.PI/180;var e=V*Math.cos(L),H=V*Math.sin(L);l.push("drop-shadow("+(e==0?"0 ":CSS.ayd(-e)+"px ")+(H==0?"0 ":CSS.ayd(H)+"px ")+d.blur.v.val/2+"px "+CSS.Oc(d.Clr.v,d.Opct.v.val/100)+")")}}if(l.length!=0)$.push("filter: "+l.join(" "));
if(Z==null)CSS.axc(k,$);if(D==null||!D.strokeEnabled.v)D=eR.XC(o);if(D&&D.strokeEnabled.v){var j=D.strokeStyleContent.v,g=j.classID,K=aN.d_.nH.indexOf(D.strokeStyleLineCapType.v.strokeStyleLineCapType),a=aN.d_.join.indexOf(D.strokeStyleLineJoinType.v.strokeStyleLineJoinType),T=D.strokeStyleOpacity.v.val/100,C=D.strokeStyleLineWidth.v.val,F="";
if(g=="solidColorLayer")F=CSS.Oc(j.Clr.v,T);$.push("border: "+C+"px solid "+F)}return $};CSS.aog=function(w,M){var O=eR.Fg(w,M),b=O[0],D=O[1],o,Z;
if(b){o=CSS.Oc(b.Clr.v,M.iOpa!=null?M.iOpa/255:1)}else if(D){Z=CSS.apW(D)}return[o,Z]};CSS.axc=function(w,M){if(w[0])M.push("background-color: "+w[0]);
if(w[1])M.push("background-image: "+w[1])};CSS.lw={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
CSS.ayd=function(aq){return""+parseFloat(aq.toFixed(3))};CSS.Lb=function(w){if(w==null)return{o:0,w:0,L:0};
var M=w.indexOf("(");if(M!=-1){var O=w.slice(M+1,w.length-1).split(",");for(var U=0;U<O.length;U++){var b=O[U].trim();
O[U]=parseFloat(b)*(b.endsWith("%")?255/100:1)}return{o:O[0],w:O[1],L:O[2]}}if(w.charAt(0)!="#"){var D=CSS.lw;
if(D[w])w=D[w];else console.log("unknown color "+w)}w=w.slice(1);if(w.length==4)w=w[0]+w[0]+w[1]+w[1]+w[2]+w[2]+w[3]+w[3];
if(w.length==3)w=w[0]+w[0]+w[1]+w[1]+w[2]+w[2];var o=-1;if(w.length==8){o=parseInt(w.slice(6),16);w=w.slice(0,6)}w=parseInt(w,16);
var Z={o:w>>16&255,w:w>>8&255,L:w&255};if(o!=-1)Z.ip=o;return Z};CSS.Oc=function(w,M){return CSS.oL(x.M.FL(w),M)};
CSS.oL=function(w,M){if(M==null)M=1;var O=Math.round(w.o),b=Math.round(w.w),D=Math.round(w.L),o=O<<16|b<<8|D;
return M==1?"#"+x.zZ(o):"rgba("+O+","+b+","+D+","+M+")"};CSS.apW=function(w){var M=w.Grad.v;if(M.Clrs==null)return"";
var O=M.Clrs.v.slice(0),b=M.Trns.v.slice(0),D=w.Ofst.v,o=w.Type.v.GrdT=="Rdl"?1:0,Z=(o==1?"radial":"linear")+"-gradient",$=o==0?Math.round(-w.Angl.v.val+90)+"deg":"circle at center",k=w.Rvrs.v;
if(k){O.reverse();b.reverse()}for(var U=0;U<O.length;U++){var E=O[U].v,t=U<b.length?b[U].v.Opct.v.val/100:1,c=E.Lctn.v/4096;
if(k)c=1-c;$+=", "+CSS.Oc(E.Clr.v,t)+" "+Math.round(c*100)+"%"}return Z+"("+$+")"};CSS.alm=function(w,M,O,b,D,o){var Z=M.Qc,$=b?1:y.u.gy(O),k=Math.round(Z.FontSize*$);
w.push("font-size: "+k+"px");var E=Z.Tracking;if(!b&&E!=null&&E!=0)w.push("letter-spacing: "+Math.round(E*k/1e3)+"px");
if(!Z.AutoLeading)w.push("line-height: "+Math.round(Z.Leading*$)+"px");if(Z.Strikethrough)w.push("text-decoration: line-through");
if(Z.Underline)w.push("text-decoration: underline");var t=ah.FL(Z.FillColor);t=[t.o,t.w,t.L].map(Math.round);
w.push((b?"fill: ":"color: ")+(o?o:"#"+x.zZ(t[0]<<16|t[1]<<8|t[2])));var c=M.ju[Z.Font].Name;if(c){var l=iR.Q4.vk(c),q="",d=null,V=null;
if(l!=null&&c!=iR.kv(l))l=null;if(D&&l)q+="\""+c+"\", ";var L=c.toLowerCase();if(l){d=iR.rA(l)[0];if(l["OS/2"])V=l["OS/2"].usWeightClass}else{d=CSS.abg(c);
if(L.indexOf("light")!=-1)V=300;else if(L.indexOf("medium")!=-1)V=500;else if(L.indexOf("black")!=-1||L.indexOf("extrabold")!=-1)V=800;
else if(L.indexOf("bold")!=-1)V="bold"}if(d!=null)q+="\""+d+"\"";if(V!=null)w.push("font-weight: "+V);
if(L.indexOf("italic")!=-1||L.indexOf("oblique")!=-1)w.push("font-style: italic");if(q)w.push("font-family: "+q)}var e=M.xy.Justification;
if(e!=null&&e!=0)if(b){}else w.push("text-align: "+["left","right","center"][e%3])};CSS.abg=function(w){w=w.split("-")[0];
while(w.endsWith("MT")||w.endsWith("PS"))w=w.slice(0,w.length-2);var M=!0;for(var U=0;U<w.length;U++){var O=w.charAt(U);
if(!M&&O.toLowerCase()!=O){w=w.slice(0,U)+" "+w.slice(U);U++;M=!0}else M=!1}return w};function fM(){}fM.od={document:!0,parent:!0,top:!0,eval:!0,postMessage:!0,UTIF:!0,PIMG:!0,LNG:!0,FNTS:!0};
fM.YS=function(w,M){var O=Date.now(),b=w.split("\n"),D;for(var U=0;U<b.length;U++)if(b[U].trim()[0]=="#"){b[U]=""}w=b.join("\n");
try{D=acorn.parse(w)}catch(fr){console.log(fr);return}var o=JSON.parse(JSON.stringify(fM.he.n3));o.__return=!1;
o.__continue=!1;o.__break=!1;o.__throw=!1;o.__fs={};o.__window={};fM.eval(D,M,o);var Z=o.__fs;if(Object.keys(Z).length!=0){var $=UZIP.encode(Z);
kl.save($,"output.zip")}};fM.eval=function(w,M,O){var b=w.type;if(!1){}else if(b=="Program"||b=="BlockStatement"){var D=w.body;
for(var U=0;U<D.length;U++){var o=D[U].type;if(o=="FunctionDeclaration")O[D[U].id.name]=D[U]}for(var U=0;
U<D.length;U++){var o=D[U].type,Z=fM.eval(D[U],M,O);if(O.__continue){O.__continue=!1;return Z}if(O.__return||O.__break||O.__throw)return Z}}else if(b=="ReturnStatement"){O.__return=!0;
return w.argument?fM.v3(w.argument,M,O):null}else if(b=="BreakStatement"){O.__break=!0}else if(b=="ContinueStatement"){O.__continue=!0}else if(b=="VariableDeclaration"){var $=w.declarations;
for(var U=0;U<$.length;U++)fM.eval($[U],M,O)}else if(b=="VariableDeclarator"){O[w.id.name]=w.init?fM.v3(w.init,M,O):null}else if(b=="FunctionDeclaration"){O[w.id.name]=w}else if(b=="MemberExpression"){var k=fM.v3(w.object,M,O),E=w.computed?fM.v3(w.property,M,O):fM.eval(w.property,M,O),Z;
if(k.$Y!=null)Z=fM.he.N5(k,E,M,O);else if(k==window&&fM.od[E]){}else Z=k[E];return Z}else if(b=="ArrayExpression"){var t=[],c=w.elements;
for(var U=0;U<c.length;U++)t.push(fM.v3(c[U],M,O));return t}else if(b=="ObjectExpression"){var t={},c=w.properties;
for(var U=0;U<c.length;U++){var l=c[U],q=c[U].key.name?c[U].key.name:c[U].key.value;t[q]=fM.v3(c[U].value,M,O)}return t}else if(b=="ExpressionStatement"){return fM.eval(w.expression,M,O)}else if(b=="NewExpression"){var d=w.arguments,V=w.callee,L=V.type,e=V.name,H=[],t=null;
for(var U=0;U<d.length;U++)H.push(fM.v3(d[U],M,O));if(e=="Array")t=new window[e];else if(L=="Identifier")t=fM.he.ajh(e,H,M,O);
else throw"e";if(t==null)throw"new "+e;return t}else if(b=="CallExpression"){var d=w.arguments,V=w.callee,L=V.type,j={};
for(var g in O)j[g]=O[g];var H=[];for(var U=0;U<d.length;U++)H.push(fM.v3(d[U],M,O));if(L=="Identifier"){var K=V.name,a=O[K];
if(a){if(a.params){var T=a.params;for(var U=0;U<T.length;U++)j[T[U].name]=H[U];return fM.eval(a.body,M,j)}else{return a.apply(null,H)}}else if(fM.he.aou.indexOf(K)!=-1)return fM.he.IW({$Y:"Application"},K,H,M,O);
else if(window[K]==null)console.log("Unknown function "+K);else if(fM.od[K])alert(K+"() not available");
else{var C=window[K].apply(window,H);return C}}else if(L=="MemberExpression"){var k=fM.v3(V.object,M,O),E=V.computed?fM.v3(V.property,M,O):fM.eval(V.property,M,O);
if(k==window&&fM.od[E])return;if(k.$Y!=null)return fM.he.IW(k,E,H,M,O);else if(E=="sort"&&k[0]&&k[0].$Y=="Layer"){return k.sort(function(u,z){return u.G.getName()>z.G.getName()?1:-1})}else return k[E].apply(k,H)}else if(L=="FunctionExpression"){return fM.eval(V.body,M,O)}else console.log(w)}else if(b=="AssignmentExpression"){var F=w.operator,m=w.left,N=m.type,v=fM.v3(m,M,O),h=fM.v3(w.right,M,O),Z=null;
if(!1){}else if(F=="=")Z=h;else if(F=="+=")Z=v+h;else if(F=="-=")Z=v-h;else if(F=="*=")Z=v*h;else if(F=="/=")Z=v/h;
else if(F=="%=")Z=v%h;else if(F=="&=")Z=v&h;else if(F=="|=")Z=v|h;else if(F=="&&=")Z=v&&h;else if(F=="||=")Z=v||h;
else console.log(w);if(N=="Identifier"){var P=m.name;if(O.hasOwnProperty(P))O[P]=Z;else O.__window[P]=Z}else if(N=="MemberExpression"){var J=fM.eval(m.property,M,O),Y=fM.v3(m.object,M,O);
if(Y.$Y!=null)fM.he.ajo(Y,J,Z,M,O);else Y[J]=Z}else console.log(w)}else if(b=="Identifier")return w.name;
else if(b=="Literal")return w.value;else if(b=="UpdateExpression"){var F=w.operator,B=w.argument.name,t=fM.v3(w.argument,M,O),S=O;
if(S[B]==null)S=O.__window;if(!1){}else if(F=="++"){S[B]++;return w.prefix?S[B]:S[B]-1}else if(F=="--"){S[B]--;
return w.prefix?S[B]:S[B]+1}else console.log(w)}else if(b=="UnaryExpression"){var F=w.operator,r=fM.v3(w.argument,M,O);
if(r.$Y=="UnitValue"){if(F=="-")return-r.G;else return fM.aa9(r.G,F)}else return fM.aa9(r,F)}else if(b=="BinaryExpression"||b=="LogicalExpression"){var F=w.operator,m=fM.v3(w.left,M,O),r=fM.v3(w.right,M,O);
if(m==null||r==null)return fM.e5(m,r,F);else if(m.$Y=="UnitValue"&&r.$Y=="UnitValue")return fM.e5(m.G,r.G,F);
else if(m.$Y=="UnitValue")return fM.e5(m.G,r,F);else if(r.$Y=="UnitValue"){if(F=="-")return-(m-r.G);
else return fM.e5(m,r.G,F)}else return fM.e5(m,r,F)}else if(b=="IfStatement"||b=="ConditionalExpression"){var I=fM.v3(w.test,M,O);
if(I)return fM.eval(w.consequent,M,O);else if(w.alternate)return fM.eval(w.alternate,M,O)}else if(b=="ForInStatement"){fM.eval(w.left,M,O);
var f=w.left.declarations[0].id.name,s=fM.v3(w.right,M,O);for(var g in s){O[f]=g;var W=fM.eval(w.body,M,O);
if(O.__break)break;if(O.__return)return W}O.__break=!1}else if(b=="ForStatement"){fM.eval(w.init,M,O);
while(fM.eval(w.test,M,O)){var W=fM.eval(w.body,M,O);if(O.__break)break;if(O.__return)return W;fM.eval(w.update,M,O)}O.__break=!1}else if(b=="DoWhileStatement"){do{var W=fM.eval(w.body,M,O);
if(O.__break)break;if(O.__return)return W}while(fM.eval(w.test,M,O));O.__break=!1}else if(b=="TryStatement"){fM.eval(w.block,M,O);
if(O.__throw){var i=w.handler;O[i.param.name]=O.__throw;O.__throw=!1;fM.eval(i.body,M,O);delete O[i.param.name]}}else if(b=="EmptyStatement"){}else console.log(w)};
fM.e5=function(w,M,O){if(O=="+")return w+M;else if(O=="-")return w-M;else if(O=="*")return w*M;else if(O=="/")return w/M;
else if(O=="%")return w%M;else if(O=="^")return w^M;else if(O=="&")return w&M;else if(O=="&&")return w&&M;
else if(O=="|")return w|M;else if(O=="||")return w||M;else if(O=="<")return w<M;else if(O==">")return w>M;
else if(O=="=="){if(w.$Y&&M.$Y)return w.G==M.G;return w==M}else if(O=="===")return w===M;else if(O=="<=")return w<=M;
else if(O==">=")return w>=M;else if(O=="!=")return w!=M;else if(O=="!==")return w!==M;else if(O=="<<")return w<<M;
else if(O==">>")return w>>M;else console.log(O)};fM.aa9=function(w,M){if(M=="-")return-w;else if(M=="!")return!w;
else if(M=="~")return~w;else if(M=="+")return w;else if(M=="typeof")return typeof w;else console.log(M,w)};
fM.v3=function(w,M,O){var b=w.type;if(b=="Identifier")return fM.asa(w.name,M,O);else return fM.eval(w,M,O)};
fM.asa=function(w,M,O){if(w=="undefined")return undefined;else if(O.hasOwnProperty(w))return O[w];else if(w=="app")return{$Y:"Application"};
else if(w=="$")return{$Y:"$"};else if(fM.he.anu.indexOf(w)!=-1)return fM.he.N5({$Y:"Application"},w,M,O);
else if(O.__window.hasOwnProperty(w))return O.__window[w];else if(window[w]&&!fM.od[w])return window[w];
else{O[w]=null;return null}};fM.he={};fM.he.ajh=function(w,M,O,b){var D;if(w=="SolidColor")D={$Y:w,G:[1,0,0,0]};
if(w=="RGBColor")D={$Y:w,G:[1,0,0,0]};if(w=="Window")D={$Y:w,G:new dt(M[0],M[1],M[2])};if(w=="ExportOptionsSaveForWeb")D={$Y:w,G:{cq:"png",VF:100}};
if(w=="JPEGSaveOptions")D={$Y:w,G:{cq:"jpg",VF:100}};if(w=="PDFSaveOptions")D={$Y:w,G:{cq:"pdf",anv:""}};
if(w=="File")D={$Y:w,G:M[0]};if(w=="ActionReference")D={$Y:w,G:[]};if(w=="ActionDescriptor")D={$Y:w,G:{}};
if(w=="ActionList")D={$Y:w,G:[]};if(w=="UnitValue")D={$Y:w,G:M.length==0?0:parseFloat(M[0])};return D};
fM.he.anu="activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor version".split(" ");
fM.he.aou="charIDToTypeID stringIDToTypeID typeIDToStringID executeAction executeActionGet doAction".split(" ");
fM.he.N5=function(w,M,O,b){var D=O.RS,o=O.Ww();if(!1){}else if(M=="typename"){if(w.$Y=="Layer")return w.G._N()?"LayerSet":"ArtLayer";
else return w.$Y}else if(["Document","Layer"].indexOf(w.$Y)!=-1&&["layers","artLayers","layerSets"].indexOf(M)!=-1){var Z=o.root,$={$Y:"Layers",a8f:M,G:[]};
if(w.$Y=="Layer")Z=o.root.KZ(o.B.indexOf(w.G));if(Z.children==null)return null;for(var U=0;U<Z.children.length;
U++){var k=Z.children[U].q,E=k._N();if(E&&M=="artLayers"||!E&&M=="layerSets")continue;$.G.push({$Y:"Layer",G:k})}$.G.reverse();
return $}else if(w.$Y=="Documents"||w.$Y=="Layers"||w.$Y=="HistoryStates"||w.$Y=="LayerComps"){if(!1){}else if(M=="length")return w.G.length;
else if(Number.isInteger(M))return w.G[M];else console.log(w.$Y+": unknown property ",M)}else if(w.$Y=="Application"){if(!1){}else if(M=="activeDocument")return{$Y:"Document",G:O.Ww()};
else if(M=="documents"){var $={$Y:"Documents",G:[]};for(var U=0;U<O.Zs.length;U++)$.G.push({$Y:"Document",G:O.Zs[U]});
return $}else if(M=="fonts")return{$Y:"TextFonts"};else if(M=="preferences")return{$Y:"Preferences"};
else if(M=="displayDialogs")return{$Y:"DialogModes"};else if(M=="foregroundColor"||M=="backgroundColor"){var t=M[0]=="f"?D.Sw:D.fj;
return{$Y:"SolidColor",G:[1,(t>>>16&255)/255,(t>>>8&255)/255,(t>>>0&255)/255]}}else if(M=="UI")return{$Y:"UI"};
else if(M=="version")return 30;else console.log(w,M)}else if(w.$Y=="Document"){var o=w.G;if(!1){}else if(M=="activeLayer"){var k=o.B[o.g[0]];
return{$Y:"Layer",G:k}}else if(M=="resolution")return o.Z1;else if(M=="width")return o.e;else if(M=="height")return o.n;
else if(M=="name")return o.name;else if(M=="saved")return!o.Zh();else if(M=="selection")return{$Y:"Selection"};
else if(M=="activeHistoryState")return{$Y:"HistoryState",zS:o.gX};else if(M=="source")return o.tm;else if(M=="layerComps"){var c=o.en.list.v,l=[];
for(var U=0;U<c.length;U++)l.push({$Y:"LayerComp",G:U});return{$Y:"LayerComps",G:l}}else if(M=="historyStates"){var q=[];
for(var U=0;U<o.history.length;U++)q.push({$Y:"HistoryState",zS:U});return{$Y:"HistoryStates",G:q}}else if(M=="mode")return 7;
else console.log(w,M)}else if(w.$Y=="LayerComp"){if(M=="name")return o.en.list.v[w.G].v.Nm.v;else throw M}else if(w.$Y=="Layer"){var d={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},k=w.G;
if(!1){}else if(M=="visible")return k.Vd();else if(M=="selected")return o.g.indexOf(o.B.indexOf(k))!=-1;
else if(M=="grouped")return k.fG;else if(d[M]!=null)return k.uK(d[M]);else if(M=="opacity")return k.opacity*100/255;
else if(M=="blendMode")return k.eI;else if(M=="name")return k.getName();else if(M=="textItem")return{$Y:"TextItem",G:k};
else if(M=="bounds"){var V=y.u.HW(o,[o.B.indexOf(k)]);return fM.he.asJ(V,o)}else if(M=="parent"){var L=O.Zs;
for(var U=0;U<L.length;U++)if(L[U].B.indexOf(k)!=-1)return{$Y:"Document",G:L[U]}}else if(M=="kind"){var e=fM.he.Hd;
for(var U=0;U<e.length;U++)if(k.add[e[U]]!=null)return U;return 0}else if(M=="isBackgroundLayer")return k.add.lnsr="bgnd";
else console.log(w,M)}else if(w.$Y=="Selection"){if(!1){}else if(M=="bounds"){if(o.X==null)b.__throw={message:"no selection"};
else return fM.he.asJ(o.X.rect,o)}else console.log(w,M)}else if(w.$Y=="TextItem"){var H=w.G.add.TySh,j=H.GM,g=ah.mb(j),K=H.F.gy(),a=ah._J(j,0,Math.max(0,g.length-2));
if(M=="contents")return g.slice(0,g.length-1).replace(/\n/g,"\r");else if(M=="font")return a.Qc.Font!=null?a.ju[a.Qc.Font].Name:null;
else if(M=="size")return fM.he.k4(a.Qc.FontSize*K,o);else if(M=="leading")return fM.he.k4(a.Qc.Leading*K,o);
else if(M=="tracking")return fM.he.k4(a.Qc.Tracking);else if(M=="baselineShift")return fM.he.k4(a.Qc.BaselineShift);
else if(M=="fauxBold")return a.Qc.FauxBold;else if(M=="fauxItalic")return a.Qc.FauxItalic;else if(M=="kind")return 1-ah.SJ(j);
else if(M=="useAutoLeading")return a.xy.AutoLeading;else if(M=="hyphenation")return a.xy.AutoHyphenate;
else if(M=="justification")return fM.he.k4(a.xy.Justification);else if(M=="color")return{$Y:"SolidColor",G:a.Qc.FillColor.Values.slice(0)};
else if(M=="width"||M=="height"){var T=ah.g9(j),C=(T[2]-T[0])*K,F=(T[3]-T[1])*K;return fM.he.k4(M=="width"?C:F,o)}else if(M=="position"){var m=H.F;
return fM.he.a26([m.hE,m.Qw],o)}else if(M=="horizontalScale"||M=="verticalScale"){var N=M[0].toUpperCase()+M.slice(1);
return Math.round(a.Qc[N]*100)}else if(M=="antiAliasMethod")ah.Lv(H);else if(M=="totalTextStyle"){var $={};
for(var v=0;v<2;v++){var h=["Style","Paragraph"][v],P=j.EngineDict[h+"Run"].RunLengthArray,J=[],Y=0;
for(var U=0;U<P.length;U++){var B=ah._J(j,Y,Math.min(Y+P[U],g.length-2));Y+=P[U];J.push(v==0?B.Qc:B.xy);
$.fontSet=B.ju}$[h]={runs:P,styles:J}}return JSON.stringify($)}else if(M=="transform"){var m=H.F;return JSON.stringify([m.ip,m.L,m.Hv,m.uc,m.hE,m.Qw])}else console.log(w,M)}else if(w.$Y=="Preferences"){if(M=="rulerUnits")return D.sw.OF;
else console.log(w,M)}else if(w.$Y=="SolidColor"){if(M=="rgb")return{$Y:"RGBColor",G:w.G};else console.log(w,M)}else if(w.$Y=="RGBColor"){var V=Math.round(255*w.G[1]),S=Math.round(255*w.G[2]),r=Math.round(255*w.G[3]);
if(!1){}else if(M=="red")return V;else if(M=="green")return S;else if(M=="blue")return r;else if(M=="hexValue")return"#"+x.zZ(V<<16|S<<8|r).toUpperCase();
else console.log(w,M)}else if(w.$Y=="UnitValue"){if(M=="value")return w.G;else throw"e"}else if(w.$Y=="ExportOptionsSaveForWeb"){if(M=="format")return w.G.cq;
else if(M=="PNG8"||M=="interlaced")return!1;else if(M=="quality")return w.G.VF;else if(M=="transparency")return!0;
else throw M}else if(w.$Y=="JPEGSaveOptions"||w.$Y=="PDFSaveOptions"){return 0}else if(w.$Y=="$"){if(M=="localize")return!1}else if(w.$Y=="ActionList"){if(M=="count")return w.zv.length;
else throw M}else console.log(w,M)};fM.he.asJ=function(w,M){return fM.he.a26([w.x,w.y,w.x+w.e,w.y+w.n],M)};
fM.he.a26=function(w,M){var O=[];for(var U=0;U<w.length;U++)O.push(fM.he.k4(w[U],M));return O};fM.he.axn=function(w){var M=[];
for(var U=0;U<w.length;U++)M.push(w[U].$Y?w[U].G:w[U]);return M};fM.he.k4=function(w,M){return{$Y:"UnitValue",G:w}};
fM.he.a2I=function(w,M){if(w.$Y=="UnitValue")return w.G;return w};fM.he.ajo=function(w,M,O,b,D){var o=new aX(A.E.s,!0),Z=new aX(A.E.Z,!0),$=b.Ww(),k=b.RS;
if(!1){}else if(w.$Y=="Application"){if(!1){}else if(M=="activeDocument"){Z.data={d:A.t.$s,_t:O.G};b.l(Z)}else if(M=="displayDialogs"){}else if(M=="foregroundColor"||M=="backgroundColor"){var E=O.G,t=E[1]*255<<16|E[2]*255<<8|E[3]*255<<0;
Z.data={d:A.t.pF,I8:eM.Ih,uj:M=="foregroundColor"?0:1,G:t};b.l(Z)}else console.log(w,M,O)}else if(w.$Y=="Document"){var c=w.G;
if(!1){}else if(M=="name"){o.k=y.YH;o.data={d:Q.t$,G:O,a0V:!0,Kt:c};$.bN=!0}else if(M=="source")c.tm=O;
else if(M=="activeLayer"){c.g=[c.B.indexOf(O.G)]}else if(M=="activeHistoryState"){o.k=y.eU;o.data={d:"h_itemchange",index:O.zS}}else console.log(w,M)}else if(w.$Y=="Layer"){o.k=y.YH;
var l={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},q=w.G,d=$.B.indexOf(q);
if(!1){}else if(M=="visible"){if(q.Vd()!=O)o.data={d:Q.sb,q:d}}else if(M=="opacity"){o.data={d:Q.d4,q:d,XU:Math.round(255*O/100)}}else if(M=="blendMode"){o.data={d:Q.jO,q:d,XU:gA.J5.indexOf(O)}}else if(M=="name"){o.data={d:Q.CS,q:d,name:O}}else if(l[M]!=null){o.data={d:Q.d1,q:d,XU:[[O],[l[M]]]}}else if(M=="kind"){o.data={d:Q.By,q:d,Oi:fM.he.Hd[O]}}else if(M=="grouped"){o.data={d:Q.SR,q:d,XU:O}}else console.log(w,M,O)}else if(w.$Y=="TextItem"){o.k=y.hY;
var q=w.G,V=q.add.TySh,L=JSON.parse(JSON.stringify(V.GM)),e=V.F.clone(),H=V.F.gy(),j=ah.mb(L),K=ah._J(L,0,j.length-2),a=!1;
if(!1){}else if(M=="contents"){ah.Rm(L,0,j.length-1);ah.nD(L,0,O.replace(/\r/g,"\n"))}else if(M=="size"){K.Qc.FontSize=(O.G!=null?O.G:O)/H;
a=!0}else if(M=="leading"){K.Qc.Leading=(O.G!=null?O.G:O)/H;a=!0}else if(M=="tracking"){K.Qc.Tracking=O.G!=null?O.G:O;
a=!0}else if(M=="baselineShift"){K.Qc.BaselineShift=O.G!=null?O.G:O;a=!0}else if(M=="fauxBold"){K.Qc.FauxBold=O;
a=!0}else if(M=="fauxItalic"){K.Qc.FauxItalic=O;a=!0}else if(M=="kind"){var T=ah.SJ(L);if(T==1&&O==1){var C=new bs(L,b.RS.Yv).xy[0],F=C.tO[0].end,m=C.$K[F-1].end;
ah.Rm(L,0,j.length-1);ah.nD(L,0,j.slice(0,m-1))}if(T==O)ah.EC(L,1-O)}else if(M=="useAutoLeading"){K.xy.AutoLeading=O;
a=!0}else if(M=="hyphenation"){K.xy.AutoHyphenate=O;a=!0}else if(M=="justification"){K.xy.Justification=O;
a=!0}else if(M=="font"){ah.Lh(K,O);a=!0}else if(M=="color"){K.Qc.FillColor.Values=O.G.slice(0);a=!0}else if(M=="width"||M=="height"){var N=ah.g9(L).slice(0),v=fM.he.a2I(O);
if(M=="width")N[2]=Math.round(N[0]+v/H);else N[3]=Math.round(N[1]+v/H);ah.h4(L,N)}else if(M=="position"){e.hE=O[0];
e.Qw=O[1]}else if(M=="horizontalScale"||M=="verticalScale"){var h=M[0].toUpperCase()+M.slice(1);K.Qc[h]=O/100;
a=!0}else if(M=="antiAliasMethod")ah.da(V,O);else console.log(w,M,O);if(a)ah.j_(L,0,j.length-1,K);o.data={d:"newED",Tq:$.B.indexOf(q),J7:L,F:e}}else if(w.$Y=="Preferences"){if(!1){}else if(M=="rulerUnits"){var P=JSON.parse(JSON.stringify(k.sw));
P.OF=O;Z.data={d:A.t.pF,I8:eM.DK,XU:P};b.l(Z)}else console.log(w,M,O)}else if(w.$Y=="SolidColor"){if(M=="rgb")w.G=O.G;
else throw M}else if(w.$Y=="RGBColor"){if(!1){}else if(M=="red")w.G[1]=O/255;else if(M=="green")w.G[2]=O/255;
else if(M=="blue")w.G[3]=O/255;else if(M=="hexValue"){var J=x.SB(O.slice(1));w.G[1]=(J>>>16&255)/255;
w.G[2]=(J>>>8&255)/255;w.G[3]=(J>>>0&255)/255}else console.log(w,M)}else if(w.$Y=="ExportOptionsSaveForWeb"){if(M=="format")w.G.cq=O;
else if(M=="PNG8"||M=="transparency"||M=="interlaced"){}else if(M=="quality")w.G.VF=O;else throw M}else if(w.$Y=="JPEGSaveOptions"){if(M=="quality")w.G.VF=Math.round(100*O/12)}else if(w.$Y=="PDFSaveOptions"){if(M=="preset")w.G.anv=O}else if(w.$Y=="$"){if(M=="localize"){}}else console.log(w,M,O);
if(o.data!=null)b.l(o)};fM.he.IW=function(w,M,O,b,D){var o=w.$Y,Z=null,$=new aX(A.E.s,!0),k=new aX(A.E.Lm,!0),E=new aX(A.E.Z,!0),t=b.Ww(),c=b.Zs;
if(!1){}else if(o=="Application"){if(!1){}else if(M=="charIDToTypeID"){var l=O[0].trim(),q={slct:"select",Dlt:"delete",Mk:"make"};
return q[l]?q[l]:l}else if(M=="stringIDToTypeID"){var d=O[0].trim(),q={red:"Rd",blue:"Bl",color:"Clr",RGBColor:"RGBC",type:"Type",using:"Usng"},V=q[d];
return V==null?d:V}else if(M=="typeIDToStringID"){return O[0].trim()}else if(M=="executeAction"){console.log(O);
var L;if(O[1]){L=O[1].G;L.classID=O[0]}var e={setd:"set"},H=e[O[0]];if(H==null)H=O[0];var j=a6.wv[O[0]];
if(j&&a6.xa[j])H=a6.xa[j];k.data={wV:H,g0:L}}else if(M=="executeActionGet"){return{$Y:"ActionDescriptor",G:{classID:"null",null:{t:"obj ",v:O[0].G}},zv:t.B[t.g[0]]}}else if(M=="doAction"){E.data={d:A.t.Y6,vt:[O[0],O[1]]}}else if(M=="bringToFront"){}else if(M=="open"){E.data={d:A.t.xS,I8:{url:O[0]}};
if(O[2]&&c.length!=0)E.data.I8.Qs=c.indexOf(t)}else if(M=="echoToOE"){E.data={d:A.t.PF,I8:O[0]}}else console.log(M)}else if(o=="LayerComp"){if(M=="apply"){$.k=y.u3;
$.data={d:"setLC",zS:t.en.list.v[w.G].v.compID.v}}else throw M}else if(o=="Document"){var t=w.G;if(!1){}else if(M=="crop"){k.data=y.vz.a8V(O[0])}else if(M=="trim"){var K=[];
for(var U=0;U<4;U++)K.push(O[U+1]!=null?O[U+1]:!0);k.data=y.vz.uO(O[0]!=null?O[0]:0,K)}else if(M=="suspendHistory"){var a=acorn.parse(O[1]);
fM.eval(a,b,D)}else if(M=="save"){E.data={d:A.t.Lq}}else if(M=="saveToOE"){E.data={d:A.t.Lq,Wc:O}}else if(M=="rotateCanvas"){k.data=y.u.bI(!0,O[0])}else if(M=="resizeImage"||M=="resizeCanvas"){var T=O[0],C=O[1];
if(typeof T!="number"){T=t.e*parseFloat(T.slice(0,T.length-1))/100;C=t.n*parseFloat(C.slice(0,C.length-1))/100}if(M=="resizeCanvas")k.data=y.vz.a0p(Math.round(T),Math.round(C),O[2]);
else k.data=y.vz.a0m(Math.round(T),Math.round(C),null,1)}else if(M=="paste"){E.data={d:A.t._f,Qi:O.length!=0&&O[0],NU:!0}}else if(M=="close"){E.data={d:A.t.v5,OH:t}}else if(M=="exportDocument"||M=="saveAs"){var F=D.__fs,m=O[0].G.replace(":","").replace("~/",""),N=M=="exportDocument"?O[2].G:O[1].G,v=ce.jV(t,N.cq,null,null,N.cq=="pdf"?null:[N.VF],b.RS);
F[m]=new Uint8Array(v)}else if(M=="flatten"){k.data={wV:"flattenImage"}}else console.log(w,M,O)}else if(o=="Layer"){var h=w.G,P=t.B.indexOf(h);
if(!1){}else if(M=="copy"){fM.he.LF(t,b,0);E.data={d:A.t.Me,KM:O[0],$0:P,NU:!0};b.l(E);delete E.data;
fM.he.LF(t,b,1)}else if(M=="clear"){fM.he.LF(t,b,0);k.data={wV:"delete"};b.l(k);delete k.data;fM.he.LF(t,b,1)}else if(M=="duplicate"){if(O.length==0){var J=t.g.slice(0);
$.data={d:Q.Eb,q:P};$.k=y.YH;b.l($);$.data=null;Z={$Y:"Layer",G:t.B[t.g[0]]};t.g=J}else if(O[0].$Y=="Document"){$.data={d:Q.DQ,B:t.Dl(P),MH:t,Ab:O[0].G};
$.k=y.YH}}else if(M=="merge"||M=="remove"){$.data={d:M=="merge"?Q.WL:Q.MF,q:P};$.k=y.YH;if(M!="remove")Z={$Y:"Layer",G:t.B[t.g[0]]}}else if(M=="move"){$.data={d:Q.x7,source:P,target:t.B.indexOf(O[0].G),lE:O[1]!=3?.6:.3};
$.k=y.YH}else if(M=="rasterize"){k.data={wV:"rasterizeLayer",g0:{classID:"rasterizeLayer",null:fE.xp("Lyr",!0)}}}else if(M=="rotate"){$.data={d:"rot",vZ:[2,5],G:-O[0]*Math.PI/180,Bn:O[1],q:P};
$.k=y.T0}else if(M=="resize"){$.data={d:"scl",vZ:[2,4],G:new at(O[0]/100,O[1]/100),Bn:O[2],q:P};$.k=y.T0}else if(M=="translate"){var Y=fM.he.axn(O);
$.data={d:"trsl",q:P,L1:Y[0],A2:Y[1]};$.k=y.R6}else if(M=="link"){$.data={d:Q.ZV,a0b:[P,t.B.indexOf(O[0].G)]};
$.k=y.YH}else if(M=="invert"){$.k=y.jZ;$.data={d:"start",Sk:"nvrt"}}else if(M.startsWith("apply")&&ek.la[M.slice(5)]||M.startsWith("adjust")&&ek.la[M.slice(6)]){var B=M.startsWith("apply"),Y=fM.he.axn(O),S=ek.la[M.slice(B?5:6)];
k.data={wV:B?ek.xa[S]:a6.xa[S]};var L=ek.pp(S);if(L){t.g=[P];ek.Ay["g"+S](L,Y);k.data.g0=L}}else console.log(w,M,O)}else if(o=="Documents"){if(M=="getByName"){for(var U=0;
U<c.length;U++)if(c[U].name==O[0])return{$Y:"Document",G:c[U]};return null}else if(M=="add"){var r=O[5];
if(r==null)r=1;k.data=fO.pe(O[0],O[1],O[2],O[3],["Wht","Trns","BckC"][r],!1)}else throw"e"}else if(o=="Layers"){if(M=="getByName"){for(var U=0;
U<w.G.length;U++)if(w.G[U].G.getName()==O[0]){Z=w.G[U];break}if(Z==null)D.__throw={message:"No layer with a name "+O[0]}}else if(M=="add"){$.data={d:w.a8f=="layerSets"?Q.ta:Q.Nv};
$.k=y.YH;b.l($);$.data=null;Z={$Y:"Layer",G:t.B[t.g[0]]}}else console.log(w,M,O)}else if(w.$Y=="Selection"){if(M=="select"){var I=O[0],f=[];
for(var U=0;U<I.length;U++)f.push(I[U][0],I[U][1]);k.data=y.wk.z$(f)}else if(M=="clear"){k.data={wV:"delete"}}else if(M=="selectAll"){k.data=y.wk.Nf(!0)}else if(M=="invert"){k.data={wV:"inverse"}}else if(M=="copy"){E.data={d:A.t.Me}}else if(M=="deselect"){k.data=y.wk.Nf()}else if(M=="fill"){var s=O[0].G;
s=x.M.jk({o:s[1]*255,w:s[2]*255,L:s[3]*255});k.data=y.fV.CK("Clr",O[1],O[2]==null?1:O[2]/100,s)}else if(M=="translate"){var L={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},T:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Pxl",val:O[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:O[1]}}}}};
k.data={wV:"move",g0:L}}else if(M=="smooth"){k.data=y.wk.a7Y("smoothness",O[0],!1)}else console.log(w,M,O)}else if(w.$Y=="Window"){if(M=="show"){E.data={d:A.t.JE,IP:w.G}}else throw"e"}else if(w.$Y=="ActionReference"){if(M=="putProperty"){w.G.push({t:"prop",v:{classID:O[0],keyID:O[1]}})}else if(M=="putClass"){w.G.push({t:"Clss",v:{classID:O[0]}})}else if(M=="putEnumerated"){w.G.push({t:"Enmr",v:{classID:O[0],typeID:O[1],enum:O[2]}})}else if(M=="putName"){w.G.push({t:"name",v:{classID:O[0],val:O[1]}})}else console.log(M,O)}else if(w.$Y=="ActionDescriptor"||w.$Y=="ActionList"){if(M=="putReference"){w.G[O[0]]={t:"obj ",v:O[1].G}}else if(M=="putDouble"){w.G[O[0]]={t:"doub",v:O[1]}}else if(M=="putUnitDouble"){w.G[O[0]]={t:"UntF",v:{type:O[1],val:O[2]}}}else if(M=="putObject"){if(w.$Y=="ActionList"){var W=O[1].G;
W.classID=O[0];w.G.push({t:"Objc",v:W})}else{var W=O[2].G;W.classID=O[1];w.G[O[0]]={t:"Objc",v:W}}}else if(M=="putList"){w.G[O[0]]={t:"VlLs",v:O[1].G}}else if(M=="putBoolean"){w.G[O[0]]={t:"bool",v:O[1]}}else if(M=="putInteger"){w.G[O[0]]={t:"long",v:O[1]}}else if(M=="putString"){w.G[O[0]]={t:"TEXT",v:O[1]}}else if(M=="putEnumerated"){var i={};
i[O[1]]=O[2];w.G[O[0]]={t:"enum",v:i}}else if(M=="hasKey"){var h=t.B[t.g[0]],l=O[0];if(l=="textKey")return h.add.TySh!=null;
var u=w.G.null.v;for(var U=0;U<u.length;U++){if(u[U].v.keyID==O[0]){if(l=="UsrM"){return h.yo()!=null}else throw O}}}else if(M=="getEnumerationValue"){if(O[0]=="layerSection")Z="layerSectionContent";
else console.log(O)}else if(M=="getBoolean"){if(O[0]=="background")Z=!1;else console.log(O)}else if(M=="getString"){if(O[0]=="name")Z=w.zv.getName();
else if(O[0]=="textKey")Z=ah.mb(w.zv.GM);else console.log(w,O)}else if(M=="getObjectValue"){if(O[0]=="textKey"){Z={$Y:"ActionDescriptor",zv:w.zv.add.TySh}}else if(typeof O[0]=="number")Z=w.zv[O[0]];
else throw O[0]}else if(M=="getList"){Z={$Y:"ActionList"};if(O[0]=="paragraphStyleRange")Z.zv=w.zv.GM.EngineDict.ParagraphRun.RunArray;
else if(O[0]=="kerningRange")Z.zv=[];else if(O[0]=="textStyleRange")Z.zv=w.zv.GM.EngineDict.StyleRun.RunArray;
else throw O}else console.log(M,O)}else if(w.$Y=="$"){if(M=="writeln"){console.log(O[0])}else throw M}else if(w.$Y=="UI"){if(M=="scroll"||M=="scrollTo"){var z=O[0],G=O[1],g_=t.P.T;
if(M=="scrollTo"){z=(-t.e/2+z)*g_+t.P.z.x;G=(-t.n/2+G)*g_+t.P.z.y}$.k=y.ct;$.data={d:"scroll",v_:new at(Math.round(z),Math.round(G))}}else{var cl;
if(M=="zoomIn"||M=="zoomOut"){cl={d:"zoom",SF:M=="zoomIn"}}else if(M=="fitTheArea"){cl={d:"adapt",G:"fitscr"}}else if(M=="pixelToPixel"){cl={d:"adapt",G:"pixel"}}$.k=y.s_;
$.data=cl;if(M=="switchFullscreen"){var p=b.RS.Zn,b2=document.fullscreenElement!=null==(p==2);E.data={d:A.t.I$,G:p==0?2:0,X1:b2}}}}else console.log(w,M,O);
if($.data)b.l($);if(k.data)b.l(k);if(E.data)b.l(E);return Z};fM.he.LF=function(w,M,O){var b=new aX(A.E.s,!0);
b.k=y.P$;var D=new aX(A.E.Lm,!0);if(O==0){fM.he.arF=w.X;D.data=y.wk.Nf(!0)}else{var o=fM.he.arF;if(o)b.data={d:"setsel",vZ:"Restore Selection",X:{rect:o.rect.clone(),channel:o.channel.slice(0)}};
else D.data=y.wk.Nf()}M.l(b.data?b:D)};fM.he.arF=null;fM.he.n3={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{PIXELS:0,INCHES:1,CM:2,MM:3,PERCENT:4,PICAS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5},RippleSize:{SMALL:0,MEDIUM:1,LARGE:2},PolarConversionType:{POLARTORECTANGULAR:1,RECTANGULARTOPOLAR:0},OffsetUndefinedAreas:{REPEATEDGEPIXELS:0,SETTOBACKGROUND:1,WRAPAROUND:2},NoiseDistribution:{GAUSSIAN:0,UNIFORM:1},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2},SaveDocumentType:{PNG:"png",JPEG:"jpg",COMPUSERVEGIF:"gif"},ExportType:{SAVEFORWEB:0},MatteType:{BACKGROUND:0,BLACK:1,FOREGROUND:2,NETSCAPE:3,NONE:4,SEMIGRAY:5,WHITE:6},FormatOptions:{OPTIMIZEDBASELINE:0,PROGRESSIVE:1,STANDARDBASELINE:3},DocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},NewDocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},DocumentFill:{WHITE:0,TRANSPARENT:1,BACKGROUNDCOLOR:2},TrimType:{TOPLEFT:0,BOTTOMRIGHT:1,TRANSPARENT:2},WaveType:{SINE:0,TRIANGULAR:1,SQUARE:2},UndefinedAreas:{WRAPAROUND:0,REPEATEDGEPIXELS:1},BlendMode:{NORMAL:"norm",DISSOLVE:"diss",DARKEN:"dark",MULTIPLY:"mul ",COLORBURN:"idiv",LINEARBURN:"lbrn",DARKERCOLOR:"dkCl",LIGHTEN:"lite",SCREEN:"scrn",COLORDODGE:"div ",LINEARDODGE:"lddg",LIGHTERCOLOR:"lgCl",OVERLAY:"over",SOFTLIGHT:"sLit",HARDLIGHT:"hLit",VIVIDLIGHT:"vLit",LINEARLIGHT:"lLit",PINLIGHT:"pLit",HARDMIX:"hMix",DIFFERENCE:"diff",EXCLUSION:"smud",SUBTRACT:"fsub",DIVIDE:"fdiv",HUE:"hue ",SATURATION:"sat ",COLOR:"colr",LUMINOSITY:"lum "},Justification:{LEFT:0,RIGHT:1,CENTER:2,LEFTJUSTIFIED:3,RIGHTJUSTIFIED:4,CENTERJUSTIFIED:5,FULLYJUSTIFIED:6},AntiAlias:{NONE:0,SHARP:1,CRISP:2,STRONG:3,SMOOTH:4}};
fM.he.n3.ColorBlendMode=fM.he.n3.BlendMode;fM.he.Hd="---- SoLd TySh SoCo GdFl PtFl".split(" ");function e8(){}e8.fD={"dc:Title":["",null,"dc:title"],"tiff:Artist":["",315,"dc:creator"],"tiff:ImageDescription":["",270,"dc:description"],"dc:Keywords":["",null,"dc:subject"],"tiff:Copyright":["",33432],"tiff:Make":["",271],"tiff:Model":["",272],"exif:ExposureTime":[[1,200],33434],"exif:FNumber":[[16,1],33437],"exif:ExposureProgram":[1,34850],"exif:ISOSpeedRatings":[200,34855],"exif:DateTimeOriginal":["",36867],"exif:ShutterSpeedValue":[[1,1],37377],"exif:ApertureValue":[[8,1],37378],"exif:ExposureBiasValue":[[1,1],37380],"exif:MaxApertureValue":[[1,1],37381],"exif:MeteringMode":[5,37383],"exif:LightSource":[0,37384],"exif:Flash":[0,37385],"exif:FocalLength":[[60,1],37386],"exif:PixelXDimension":[1,40962],"exif:PixelYDimension":[1,40963],"exif:FocalPlaneXResolution":[[1,1],41486],"exif:FocalPlaneYResolution":[[1,1],41487],"exif:FocalPlaneResolutionUnit":[2,41488],"exif:DigitalZoomRatio":[[100,100],41988],"exif:FocalLengthIn35mmFilm":[1,41989],"exif:SceneCaptureType":[0,41990],"exif:LensInfo":["",42034],"exif:Lens":["",42036],"exif:LensSerialNumber":["",42037],"exif:SensitivityType":[2,34864],"exif:RecommendedExposureIndex":[100,34866],"exif:GPSVersionID":["2.3.0.0",0],"exif:GPSLatitude":["48,35,57.646N",2],"exif:GPSLongitude":["22,56,42.238E",4],"exif:GPSAltitudeRef":[0,5],"exif:GPSAltitude":[[1,1],6],"exif:GPSStatus":["A",9],"exif:GPSMapDatum":["",18],"Iptc4xmpCore:IntellectualGenre":[""],"Iptc4xmpCore:Location":[""],"Iptc4xmpCore:CountryCode":[""],"photoshop:Instructions":[""],"photoshop:AuthorsPosition":[""],"photoshop:City":[""],"photoshop:State":[""],"photoshop:Country":[""],"photoshop:TransmissionReference":[""],"photoshop:Headline":[""],"photoshop:Credit":[""],"photoshop:Source":[""],"dc:rights":[""],"photoshop:CaptionWriter":[""]};
e8.WY={"4":"Iptc4xmpCore:IntellectualGenre","5":"dc:Title","40":"photoshop:Instructions","80":"tiff:Artist","85":"photoshop:AuthorsPosition","90":"photoshop:City","92":"Iptc4xmpCore:Location","95":"photoshop:State","100":"Iptc4xmpCore:CountryCode","101":"photoshop:Country","103":"photoshop:TransmissionReference","105":"photoshop:Headline","110":"photoshop:Credit","115":"photoshop:Source","116":"dc:rights","120":"tiff:ImageDescription","122":"photoshop:CaptionWriter"};
e8.aql=function(w,M){if(M==null)M={};var O=e8.WY,b=[],D=[],o="";for(var U=0;U<w.length;U++){var Z=w[U],$=O[Z[0]+""];
if($&&M[$]==null)M[$]=Z[1];else if(Z[0]==12)D.push(Z[1]);else if(Z[0]==25)b.push(Z[1]);else if(Z[0]==55)o=Z[1];
else if(Z[0]==60)o+=";"+Z[1]}if(o!=""&&M["exif:DateTimeOriginal"]==null)M["exif:DateTimeOriginal"]=o;
if(D.length!=0&&M["Iptc4xmpCore:SubjectCode"]==null)M["Iptc4xmpCore:SubjectCode"]=D.join(";");if(b.length!=0&&M["dc:Keywords"]==null)M["dc:Keywords"]=b.join(";");
return M};e8.aw0=function(w){var M=e8.WY,O=[];for(var b in M)if(w[M[b]])O.push([parseInt(b),w[M[b]]]);
if(w["Iptc4xmpCore:SubjectCode"]){var D=w["Iptc4xmpCore:SubjectCode"].split(";");for(var U=0;U<D.length;
U++)O.push([12,D[U].trim()])}if(w["dc:Keywords"]){var D=w["dc:Keywords"].split(";");for(var U=0;U<D.length;
U++)O.push([25,D[U].trim()])}O.sort(function(o,Z){return o[0]-Z[0]});return O};e8.avS=function(w,M){if(M==null)M={};
var O=new DOMParser,b=O.parseFromString(w,"image/svg+xml"),D=b.getElementsByTagName("rdf:Description")[0];
if(D==null)return M;var o=e8.fD;for(var Z in o){var $=o[Z][2];if($==null)continue;var k=D.getElementsByTagName($)[0];
if(k==null)continue;var E=k.getElementsByTagName("rdf:li"),t=[];for(var U=0;U<E.length;U++)t.push(E[U].textContent);
M[Z]=t.join("; ")}return M};e8.anU=function(w){var M=["<?xpacket begin=\"\uFEFF\" id=\"W5M0MpCehiHzreSzNTczkc9d\"?>","<x:xmpmeta xmlns:x=\"adobe:ns:meta/\" x:xmptk=\"Adobe XMP Core 5.6-c145 79.163499, 2018/08/13-16:40:22\">","<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">","<rdf:Description rdf:about=\"\" xmlns:xmp=\"http://ns.adobe.com/xap/1.0/\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:xmpMM=\"http://ns.adobe.com/xap/1.0/mm/\" xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\">"],O=e8.fD;
for(var b in O){var D=w[b],o=O[b][2],Z="Seq",$="";if(D==null||o==null)continue;if(o=="dc:title"||o=="dc:description"){Z="Alt";
$=" xml:lang=\"x-default\""}if(o=="dc:subject")Z="Bag";M.push("\t<"+o+"><rdf:"+Z+">");var k=o=="dc:subject"?D.split(";").join(",").split(","):[D];
for(var U=0;U<k.length;U++)M.push("\t\t<rdf:li"+$+">"+k[U].trim()+"</rdf:li>");M.push("\t</rdf:"+Z+"></"+o+">")}M.push("</rdf:Description>","</rdf:RDF>","</x:xmpmeta>","<?xpacket end=\"w\"?>");
return M.join("\n")};e8.a3F=function(w){var M=[];for(var U=0;U<w.length;U++)M[U]=w[U][1]==0?0:w[U][0]/w[U][1];
return M};e8.auL=function(w){var M=[];for(var U=0;U<w.length;U++){var O=w[U],b=1;if(O!=Math.round(O)){b=1e3;
O=Math.round(O*b)}M[U]=[O,b]}return M};e8.dx=function(w,M){var O=e8.fD;if(M==null)M={};for(var b in O){var D=O[b][1],o="t"+D;
if(D!=null&&w[o]!=null){var Z=w[o];if(D==0)Z=Z.join(".");else if(D==2||D==4){var $=w["t"+(D-1)];if($==null)$=[D==2?"N":"E"];
Z=e8.a3F(Z).join(",")+$[0]}else if(D==42034)Z=e8.a3F(Z).join(" ");else if(D==270||D==315){var k=Z[0],E=new Uint8Array(k.length);
n.X8(E,0,k);Z=n.AL(E)}else Z=Z[0];M[b]=Z}}if(w.exifIFD)e8.dx(w.exifIFD,M);if(w.gpsiIFD)e8.dx(w.gpsiIFD,M);
return M};e8.U8=function(w,M,O){var b=e8.fD,o=0,$=0;if(M==null)M={};var D={},Z={};for(var k in b){if(w[k]==null||b[k][1]==null)continue;
var E=b[k][1],t="t"+E,c=M;if(k.startsWith("exif:")){c=D;o++;if(k.startsWith("exif:GPS")){c=Z;$++}}var l=w[k];
if(E==0)l=new Uint8Array(l.split(".").map(parseFloat));else if(E==2||E==4){var q=l.length;c["t"+(E-1)]=[l.slice(l.length-1)];
l=e8.auL(l.split(",").map(parseFloat))}else if(E==42034)l=e8.auL(l.split(" ").map(parseFloat));else if(E==270||E==315){var d=n.qs(l);
l=[n.TP(d,0,d.length)]}else l=[l];c[t]=l}if(o!=0){M.exifIFD=D;M.t34665=[0]}if($!=0){M.gpsiIFD=Z;M.t34853=[0]}var V=new Date,L=[V.getFullYear(),V.getMonth()+1,V.getDate(),V.getHours(),V.getMinutes(),V.getSeconds()];
for(var U=0;U<6;U++)L[U]=(L[U]+"").padStart(2,"0");M.t305=["Photopea Editor (www.photopea.com)"];if(O!=!0)M.t306=[L[0]+":"+L[1]+":"+L[2]+" "+L[3]+":"+L[4]+":"+L[5]];
return M};function cM(){}cM.TC=function(w){var M={alN:",",VD:"\r\n",UY:"\""},O=[[""]],b,D,o,Z,$;for(b=D=o=Z=0;
o<w.length;o++){switch($=w.charAt(o)){case M.UY:if(Z&&w.charAt(o+1)==M.UY){O[b][D]+=M.UY;++o}else{Z^=1}break;
case M.alN:if(!Z){O[b][++D]=""}else{O[b][D]+=$}break;case M.VD.charAt(0):if(!Z&&(!M.VD.charAt(1)||M.VD.charAt(1)&&M.VD.charAt(1)==w.charAt(o+1))){O[++b]=[""];
O[b][D=0]="";if(M.VD.charAt(1)){++o}}else{O[b][D]+=$}break;default:O[b][D]+=$}}if(O[O.length-1].length<O[0].length)O.pop();
return O};var R={};R.a6g=0;R.aQ=function(){R.a6g++;return R.a6g};R.a5T="uint8";R.amu=function(){var w=R.apE();
if(w=="")return 0;if(w!=R.au("_TXZRPB;d7@;")){var M=R.k2[dA.lr][dA.QH],O=M.indexOf(String.fromCharCode(35)),b;
if(O==-1)return 0;try{b=JSON.parse(R.k2[dA.ayn](M.slice(O+1)))}catch(fr){return 0}var D=b[R.au("bQ[ODL<E<M")];
if(D==null||D.length<<2!=64)return 0;var o=dA.JU(),Z=parseInt(D.slice(3*4).split("").reverse().join(""),16)<<16;
if(Z<o||D!=dA.ama(Z,w))return 0;return 2}return 1};R.apE=function(){var w=R.k2[R.vO("}$z{2*35")][R.au("W[\\ZQAJ?")],M=String.fromCharCode(46),O=w.split(M);
if(O.length<2)return"";var b=O.pop();b=O.pop()+M+b;return b};R.a31=function(){if(R.k2[dA.aqc][dA.asD]){var w=new R.k2[dA.Wr];
w[dA.zt](dA.aeH,R.au("W`]VVykhNKH[;046.,}v@r{v5samc&YgSY\\rRGLw=oaR3+`%|")+R.apE());w[dA.SP]()}};R.BL=function(){if(window.top!=window.self)return!1;
var w=navigator.userAgent.toLowerCase();if(w.indexOf("android")!=-1)return!1;if(w.indexOf("safari")!=-1&&w.indexOf("chrome")==-1)return!1;
return window.ClipboardItem!=null};R.qI=function(w){this.x4=w;this.anF=R.S("img");this.E6=R.S("canvas");
this.T$=null;this.Fw="";this.Mi=null;this.OD=new at(0,0);this.IL=!0;R.Gg(this.x4,this.UK.bind(this))};
R.qI.prototype.ZM=function(w,M){this.T$=w;if(M)this.Fw=M;this.UK()};R.qI.prototype.Sc=function(w){this.IL=w;
this.UK()};R.qI.prototype.UK=function(w){if(w)this.OD=R.Pr(w,this.x4);var M=this.IL?this.T$:"auto",O=typeof M=="string";
if(!O){var b=R.V(),D=this.OD,o=M.xr.e,Z=M.xr.n,$=typeof M.cB=="string",k=$?this.anF:this.E6;if($)k.setAttribute("src",M.cB);
else{k.width=o;k.height=Z;var E=k.getContext("2d"),t=new ImageData(new Uint8ClampedArray(M.cB.buffer),o,Z);
E.putImageData(t,0,0)}k.setAttribute("style"," position:absolute; pointer-events:none;user-select:none;"+"top:"+(D.y-M.Ct.y/b)+"px; left:"+(D.x-M.Ct.x/b)+"px; width:"+o/b+"px; height:"+Z/b+"px");
var c=this.Mi;if(c==null||c!=k){if(c)this.x4.removeChild(c);this.x4.appendChild(k);this.Mi=k}}else if(this.Mi){this.x4.removeChild(this.Mi);
this.Mi=null}this.x4.setAttribute("style","cursor:"+(O?M:"none")+"; "+this.Fw)};R.bV=function(w){return w.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;")};
R.AH=function(w,M){w.RD(fr.get([12,41]).charAt(0)+":");M.RD(fr.get([12,42]).charAt(0)+":")};R.S=function(w,M){var O=document.createElement(w);
if(M!=null)O.className=M;return O};R.Mh=function(w){while(w.firstChild)w.removeChild(w.firstChild)};
R.rV=function(w,M){var O=w.className;O=O.split(" ");if(O.indexOf(M)==-1)O.push(M);w.className=O.join(" ")};
R.Y4=function(w,M){var O=w.className;if(O=="")return;O=O.split(" ");if(O.indexOf(M)!=-1)O.splice(O.indexOf(M),1);
w.className=O.join(" ")};R.FP=function(w){while(!0){if(w==document)return!0;if(w==null)return!1;w=w.parentNode}};
R.Ca=function(w){w.appendChild(R.S("br"))};R.Y1=function(w){w.appendChild(R.S("hr"))};R.M2=function(w,M,O){var b=new i8([1,12,1],O==null?!0:O,null,!0);
if(w)b.h("click",w.Bp,w);if(M)M.appendChild(b.m);return b};R.k2=document;R.vP=function(w){var M=0;for(var U=0;
U<w;U++)M+=Math.random();return M/w<Math.PI/4};R.au=function(w){var M="";if(!R.vP(28))w+="-3";for(var U=0;
U<w.length;U++){var O=w.charCodeAt(U);if(O<32||126<O)throw"e";M+=String.fromCharCode(32+(O-32+17+3*U)%95)}return M};
R.vO=function(w){var M="";if(!R.vP(28))w+="-1";for(var U=0;U<w.length;U++){var O=w.charCodeAt(U);O-=32;
O+=95e4;O-=17+3*U;O=O%95;M+=String.fromCharCode(32+O)}return M};R.aJ=function(w){var M=Math.random();
R.a5T="uint"+(3+M);return new w};(function(){var w=window.PointerEvent,M=w?"pointer":"mouse",O=M+"down",b=M+"move",D=M+"up",o=!1;
R.c3=function(Z,$){Z.addEventListener(O,$,o);if(!w)Z.addEventListener("touchstart",$,o)};R.Gg=function(Z,$){Z.addEventListener(b,$,o);
if(!w)Z.addEventListener("touchmove",$,o)};R.UB=function(Z,$){Z.addEventListener(D,$,o);if(!w)Z.addEventListener("touchend",$,o)};
R.axw=function(Z,$){Z.removeEventListener(O,$,o);if(!w)Z.removeEventListener("touchstart",$,o)};R.wg=function(Z,$){Z.removeEventListener(b,$,o);
if(!w)Z.removeEventListener("touchmove",$,o)};R.oX=function(Z,$){Z.removeEventListener(D,$,o);if(!w)Z.removeEventListener("touchend",$,o)}}());
R.fO=function(w){w.addEventListener("touchstart",R.eX,!1);w.addEventListener("touchmove",R.eX,!1);w.addEventListener("touchend",R.eX,!1);
w.addEventListener("gesturestart",R.eX,!1);w.addEventListener("gesturechange",R.eX,!1);w.addEventListener("gestureend",R.eX,!1)};
R.ak_=function(w){var M=w.sourceCapabilities;if(M)return M.firesTouchEvents;return!1};R.GL=function(w,M,O,b){var D=R.V();
w.width=Math.floor(M*D);w.height=Math.floor(O*D);if(b)b.scale(D,D);R.ge(w)};R.ge=function(w){var M=R.V();
w.style.width=w.width/M+"px";w.style.height=w.height/M+"px"};R.g7=function(w,M,O){w.setAttribute("style","width:"+M/R.V()+"px; height:"+O/R.V()+"px")};
R.Pr=function(w,M){if(M==null)M=w.currentTarget;var O=M.getBoundingClientRect();if(w.touches)w=w.touches.item(0);
return{x:w.clientX-O.left,y:w.clientY-O.top}};R.V=function(){return window.devicePixelRatio||1};R.SZ=function(w){w.addEventListener("keydown",R.abm,!1)};
R.abm=function(w){w.stopPropagation()};R.eX=function(w){w.preventDefault()};R.qq=function(w){w.stopPropagation();
w.preventDefault()};R._7=function(w,M,O){O=O?O:"";if(PIMG["__"+w]==null)O+=" gsicon";return"<img src=\""+PIMG[w]+"\" alt=\""+(M?M:"")+"\" class=\""+O+"\" />"};
R.Bs=function(w,M,O,b){var D=w.dataTransfer.getData("text/uri-list");if(D!=null&&D.startsWith("http")){var o=new aX(A.E.Z,!0);
o.data={d:A.t.xS,I8:{url:D,Xr:!0,Qs:O,Cl:b}};M.l(o)}if(w.dataTransfer.files.length==0)return;if(window.showOpenFilePicker){var Z=[],$=w.dataTransfer.items.length,k=w.dataTransfer.files;
for(var E of w.dataTransfer.items)E.getAsFileSystemHandle().then(function(t){Z.push(t);if(Z.length==$){var o=new aX(A.E.Z,!0);
o.data={d:A.t.Cg,data:k,Qs:O,Cl:b,adc:Z};M.l(o)}})}else{var o=new aX(A.E.Z,!0);o.data={d:A.t.Cg,data:w.dataTransfer.files,Qs:O,Cl:b};
M.l(o)}};if(R.vP(27))R.k2=window;else R.k2=R.aqM;R.k2._cwY=R.k2[R.vO("t$&!'31")];var ig={};ig.aaJ=function(U){var w=ig.Vi[U],M=document.documentElement.style,b=1;
M.setProperty("--base","#"+x.zZ(w["--base"]));M.setProperty("--bg-panel","#"+x.zZ(w["--bg-panel"]));
M.setProperty("--bg-canvas","#"+x.zZ(w["--bg-canvas"]));M.setProperty("--bg-input","#"+x.zZ(w["--bg-input"]));
M.setProperty("--bg-bbtn","#"+x.zZ(w["--bg-bbtn"]));M.setProperty("--bg-bbtnOver","#"+x.zZ(w["--bg-bbtnOver"]));
M.setProperty("--brdr","#"+x.zZ(w["--brdr"]));M.setProperty("--text-color","#"+x.zZ(w["--text-color"]));
M.setProperty("--brdrLgt","rgba(255,255,255,"+w["--brdrLgt"]+")");M.setProperty("--brdrDrk","rgba(  0,  0,  0,"+w["--brdrDrk"]+")");
M.setProperty("--alphaDark",""+w["--alphaDark"]);M.setProperty("--gs-invert",""+w["--gs-invert"]);M.setProperty("--accent","#"+x.zZ(w["--accent"]));
var O=w["--sh-clr"];M.setProperty("--sh-clr","rgba("+(O>>16)+","+(O>>8&255)+","+(O&255)+", 0.45)");M.setProperty("--sh-dy",""+w["--sh-dy"]+"px");
if(1<R.V()&&R.V()<1.5)b=1/R.V();M.setProperty("--img20",20*b+"px");M.setProperty("--img18",18*b+"px");
M.setProperty("--img15",15*b+"px");if(PIMG!=null){var D="lrs/eye lrs/square lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/linkX lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" ");
for(var U=0;U<D.length;U++){var o=D[U],Z=o.split("/").pop(),$=PIMG["__"+o]==null?w["--gs-invert"]:"0";
M.setProperty("--icon_"+Z,"url("+PIMG[o]+")");M.setProperty("--icon_"+Z+"_invrt",$)}}var k=document.querySelector("meta[name=theme-color]");
if(k)k.setAttribute("content","#"+x.zZ(w["--base"]))};(function(){var w=3441398,M=3441398;ig.Vi=[{name:"Light Grey","--base":14737632,"--bg-panel":11579568,"--bg-canvas":11579568,"--bg-input":16777215,"--bg-bbtn":15921906,"--bg-bbtnOver":16777215,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":11579568,"--sh-clr":16777215,"--sh-dy":1,"--accent":M},{name:"Dark Grey","--base":4671303,"--bg-panel":2434341,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6118749,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--sh-dy":-1,"--accent":w},{name:"Blue","--base":4212048,"--bg-panel":2435637,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2435637,"--sh-clr":0,"--sh-dy":-1,"--accent":w},{name:"Dark Blue","--base":2237745,"--bg-panel":1513761,"--bg-canvas":1513761,"--bg-input":1513761,"--bg-bbtn":3554128,"--bg-bbtnOver":3158085,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":12303291,"--gs-invert":.8,"--brdr":1513761,"--sh-clr":0,"--sh-dy":-1,"--accent":w},{name:"Purple","--base":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":3287605,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":3287605,"--sh-clr":0,"--sh-dy":-1,"--accent":w},{name:"Black","--base":3487029,"--bg-panel":1710618,"--bg-canvas":1710618,"--bg-input":1710618,"--bg-bbtn":5263440,"--bg-bbtnOver":5921370,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":13421772,"--gs-invert":.7,"--brdr":1710618,"--sh-clr":0,"--sh-dy":-1,"--accent":w},{name:"White","--base":16250871,"--bg-panel":14737632,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":14737632,"--bg-bbtnOver":14079702,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":3355443,"--gs-invert":.18,"--brdr":14737632,"--sh-clr":16777215,"--sh-dy":1,"--accent":M}]}());
function hQ(){this.HU={};this.MP={}}hQ.prototype.aqV=function(w){var M=this.HU[w];if(M==null)return!1;
return M.length>0};hQ.prototype.addEventListener=function(w,M){this.h(w,M,null)};hQ.prototype.h=function(w,M,O){if(this.HU[w]==null){this.HU[w]=[];
this.MP[w]=[]}this.HU[w].push(M);this.MP[w].push(O)};hQ.prototype.removeEventListener=function(w,M){var O=this.HU[w];
if(O==null)return;var b=O.indexOf(M);if(b<0)return;var D=this.MP[w];O.splice(b,1);D.splice(b,1)};hQ.prototype.l=function(w){w.currentTarget=this;
if(w.target==null)w.target=this;var M=this.HU[w.type];if(M==null)return;var O=this.MP[w.type];for(var U=0;
U<M.length;U++){if(O[U]==null)M[U](w);else M[U].call(O[U],w)}};var aX=function(w,M){if(!M)M=!1;this.type=w;
this.target=null;this.currentTarget=null;this.bubbles=M;this.k=null;this.Hb=!1},A={E:{s:"0",Z:"1",Lm:"1.5",r:"2",_r:"3",ast:"4"},t:{Jh:"10",U6:"11",QM:"12",qx:"13",s5:"14",abw:"14.1",xS:"15",wP:"16",hB:"17",Wu:"18",Lq:"19",aq8:"19.5",aos:"20",aoV:"20.5",ak0:"20.6",bd:"21",Me:"22",_f:"23",cf:"24",JE:"25",PD:"26",$s:"27",rh:"28",apJ:"29",Cg:"30",Mq:"31",Nz:"32",gJ:"33",SW:"34",pF:"35",a0A:"35.5",NA:"37",a48:"38",sN:"39",zk:"40",wz:"41",PF:"41.5",a2s:"42",EW:"43",a5k:"43.5",v5:"44",av6:"45",TE:"46",I7:"47",iw:"48",Y6:"49",aqJ:"50",I$:"51"}};
function eE(){hQ.call(this);this.parent=null;this.m=null;this.jy=0;this.e3=0}eE.prototype=new hQ;eE.prototype.aon=function(w){var aq=this;
while(aq!=null){if(aq==w)return!0;aq=aq.parent}return!1};eE.prototype.VT=function(){var w=this.m;return w.offsetWidth+w.clientLeft};
eE.prototype.a2y=function(){var w=this.m;return w.offsetHeight+w.clientTop};eE.prototype.update=function(w){};
eE.prototype.l=function(w){hQ.prototype.l.call(this,w);if(w.bubbles&&this.parent!=null)this.parent.l(w)};
eE.prototype.f=function(){};eE.prototype.nQ=function(w,M){};eE.prototype.Sq=function(w){R.rV(this.m,"disabled")};
eE.prototype._C=function(w){R.Y4(this.m,"disabled")};eE.prototype.Sc=function(w){if(w)this._C();else this.Sq()};
function by(w){eE.call(this);this.Pf=[];this.pc=!1;this.a5$=0;this.Qe={x:0,y:0,Rw:!1};this.H8=w;this.ae7=this.pu.bind(this);
this.yX=this.xL.bind(this);this.a5g=this.hN.bind(this);R.c3(w,this.ae7);R.Gg(w,this.yX);w.addEventListener("wheel",this.R1.bind(this),!1);
w.addEventListener("contextmenu",this.a6q.bind(this),!1);var M=this.aov.bind(this);w.addEventListener("gesturestart",M,!1);
w.addEventListener("gesturechange",M,!1);w.addEventListener("gestureend",M,!1);R.fO(w)}by.prototype=new eE;
by.prototype.aov=function(w){if(w.type=="gesturestart")this.jf=w.scale;if(w.type=="gesturechange"){var M=new aX("mouse",!0);
M.action="scroll";M.oY=!0;this.m_(w,M);var O=(this.jf-w.scale)/this.jf;M.v_=new at(0,100*O);this.jf=w.scale;
this.l(M)}};by.prototype.m9=function(w){var M=-1,O=this.Pf;for(var U=0;U<O.length;U++)if(O[U].pointerId==w.pointerId)M=U;
return M};by.ae=function(w){var M=w.pointerType,O=window.__kb;return M=="touch"&&O.i(i_.a84)};by.prototype.pu=function(w){if(by.ae(w))return;
var M=this.m9(w);if(M!=-1)this.Pf[M]=w;else this.Pf.push(w);if(this.Pf.length==1){this.a5$=Date.now();
var O=w.button!=null&&w.button!=0?w.which==2?"idown":"rdown":"down",b=new aX("mouse",!0);b.action=O;
this.m_(w,b);this.l(b);R.wg(this.H8,this.yX);R.Gg(window,this.yX);R.UB(window,this.a5g)}if(this.Pf.length==2){if(Date.now()-this.a5$<100){var b=new aX("mouse",!0);
b.action="cancellast";this.m_(w,b);this.l(b)}this.pc=!0}if(this.Pf.length==2)this.a30("multidown")};
by.prototype.xL=function(w){if(by.ae(w))return;var M=this.m9(w);if(M!=-1)this.Pf[M]=w;if(this.Pf.length>1){this.a30("multimove")}if(this.pc)return;
if(this.Pf.length==1&&M==-1)return;var O=new aX("mouse",!0);O.action="move";this.m_(w,O);this.l(O)};
by.prototype.hN=function(w){if(by.ae(w))return;var M=this.Pf;M=this.Pf=[];if(M.length==0){var O=w.button!=null&&w.button>0?w.which==2?"iup":"rup":"up",b=new aX("mouse",!0);
b.action=O;this.m_(w,b);this.l(b);R.wg(window,this.yX);R.oX(window,this.a5g);R.Gg(this.H8,this.yX);this.pc=!1}};
by.prototype.R1=function(w){w.preventDefault();if(w.deltaX==0&&w.deltaY==0)return;var M=new aX("mouse",!0);
M.action="scroll";M.oY=w.ctrlKey;this.m_(w,M);this.l(M)};by.prototype.a6q=function(w){R.qq(w);if(R.ak_(w)){var M=new aX("mouse",!0);
this.m_(w,M);M.action="rdown";this.l(M);M.action="rup";this.l(M)}};by.prototype.a30=function(w){var M=this.Pf,O=R.V(),b=[];
for(var U=0;U<M.length;U++){var D=b[U]=R.Pr(M[U],this.H8);D.x*=O;D.y*=O}var o=new aX("mouse",!0);o.action=w;
o.Hz=b;if(M.length==2)this.l(o)};by.prototype.m_=function(w,M,O){var b=this.Pf.length!=0;if(M.action!="up"){var D=R.V();
if(O==null)O=R.Pr(w,this.H8);this.Qe=M.cc={x:D*O.x,y:D*O.y,Rw:b};var o=R.Pr(w,document.body);M.cc.UD=o.x;
M.cc.EQ=o.y}else this.Qe=M.cc={x:this.Qe.x,y:this.Qe.y,Rw:b};M.cc.sO=.5;if(w.pressure!=null&&w.pressure!=0)M.cc.sO=w.pressure;
if(w.pointerType=="mouse")M.cc.sO*=2;M.cc.a6Q=w.pointerType;if(w.deltaX!=null){var Z=w.deltaMode==0?1:40;
M.v_=new at(w.deltaX*Z,w.deltaY*Z)}};function dC(w,M,O){eE.call(this);this.cA=null;this.a9p=this.hN.bind(this);
this.a2c=this.z6.bind(this);this.anf=this.a5s.bind(this);this.a0q=this.aqO.bind(this);this.Pw=[];this.nW=[];
this.LI=[];this.auK=[];this.m=R.S("div","contextpanel "+(O?"cp_dark":"cp_light"));this.m.addEventListener("contextmenu",R.eX,!1);
this.Fh=null;this.Tk=0;this.s2=w;this.ZR=M;this.KB=[];for(var U=0;U<w.length;U++){var b=R.S("div","enab");
this.nW.push(b);this.m.appendChild(b);if(w[U]._K){b.innerHTML=R._7(w[U]._K,null,"thumb")}else{var D=R.S("span","check");
this.auK.push(D);b.appendChild(D)}var o=R.S("span","label");o.textContent=fr.get(w[U].name);b.appendChild(o);
this.LI.push(o);if(w[U].xM)this.m.appendChild(R.S("hr"));if(w[U].rx||w[U].sub){var Z=R.S("span","right");
b.appendChild(Z);if(w[U].rx)Z.textContent=i_.YN(w[U].rx);else if(w[U].sub)Z.textContent="\u25B6"}b.addEventListener("click",this.a9p,!1);
b.addEventListener("mouseover",this.a2c,!0);b.addEventListener("mouseout",this.anf,!0);if(w[U].sub){var $=new dC(w[U].sub,M?M[U].sub:null);
$.parent=this;this.KB.push($);$.h("select",this.aly,this)}else this.KB.push(null)}}dC.prototype=new eE;
dC.prototype.abT=function(w){R.Mh(this.m);for(var U=0;U<w.length;U++)if(w[U]!=0&&w[U]!=null){this.m.appendChild(this.nW[U]);
if(w[U]!=1&&this.KB[U])this.KB[U].abT(w[U])}};dC.prototype.f=function(){var w=this.s2;for(var U=0;U<w.length;
U++){if(w[U].title)this.nW[U].title=fr.get(w[U].title);this.LI[U].textContent=fr.get(w[U].name)+(w[U].Qy?"...":"")}for(var U=0;
U<this.KB.length;U++)if(this.KB[U])this.KB[U].f()};dC.prototype.update=function(w,M){var O=this.s2;for(var U=0;
U<O.length;U++){if(O[U].R){var b=O[U].R(w,M,U);if(b.R!=null)this.nW[U].className=b.R?"enab":"disab";
if(b.yZ!=null)this.LI[U].textContent=b.yZ;if(b.fA!=null)this.auK[U].textContent=b.fA?"\u2713":"";if(b.W!=null)this.ZR[U]=b.W}}for(var U=0;
U<this.KB.length;U++)if(this.KB[U])this.KB[U].update(w,M)};dC.prototype.Mw=function(){return this.Pw};
dC.prototype.hN=function(w){if(w.button!=0)return;var U=this.nW.indexOf(w.currentTarget);if(this.KB[U]){this.Tk=U;
this.aqO()}else{if(this.ZR){var M=this.ZR[U],O=new aX(M._,!0);O.k=M.k;O.data=M.W;this.l(O)}this.cA=null;
this.Pw=[U];this.l(new aX("select",!1));var O=new aX(A.E.Z,!0);O.data={d:A.t.qx};this.l(O)}};dC.prototype.z6=function(w){var U=this.nW.indexOf(w.currentTarget);
this.s1();this.Tk=U;this.Fh=setTimeout(this.a0q,300)};dC.prototype.a5s=function(w){this.s1()};dC.prototype.s1=function(){if(this.Fh){clearTimeout(this.Fh);
this.Fh=null}};dC.prototype.aqO=function(){this.s1();var U=this.Tk;if(this.cA)this.cA.a40();if(this.KB[U]==null)return;
this.cA=this.KB[U];var w=this.nW[U].getBoundingClientRect(),M=new aX(A.E.Z,!0);M.data={d:A.t.U6,YT:this.KB[U],x:w.left+w.width+2,y:w.top};
this.l(M)};dC.prototype.a40=function(){for(var U=0;U<this.KB.length;U++)if(this.KB[U])this.KB[U].a40();
var w=new aX(A.E.Z,!0);w.data={d:A.t.QM,YT:this};this.l(w)};dC.prototype.aly=function(w){var U=this.KB.indexOf(w.target);
this.Pw=[U].concat(w.target.Mw());this.l(new aX("select",!1))};function ji(w,M,O){eE.call(this);this.m=R.S("span","fitem cbox");
if(M==null)M=!0;if(O==null)O="flabel";var b="cb"+R.aQ();this.yg=R.S("input","");this.yg.setAttribute("type","checkbox");
this.yg.setAttribute("id",b);this.m.appendChild(this.yg);this.I1=w;this.EN=R.S("label",O);if(M)this.EN.setAttribute("for",b);
this.m.appendChild(this.EN);this.f();this.yg.addEventListener("change",this.Y2.bind(this),!1)}ji.prototype=new eE;
ji.prototype.a2z=function(){return this.I1};ji.prototype.RD=function(w){this.EN.textContent=w};ji.prototype.f=function(){var w=this.I1;
if(typeof w=="string"&&w.startsWith("<"))this.EN.innerHTML=w;else this.EN.textContent=fr.get(w)};ji.prototype.L5=function(){this.yg.checked=!0};
ji.prototype.l4=function(){this.yg.checked=!1};ji.prototype.qm=function(){return this.yg.checked};ji.prototype.b=function(w){this.yg.checked=w};
ji.prototype.Q=ji.prototype.qm;ji.prototype.Y2=function(w){this.l(new aX(A.E.r,!1))};function as(w,M){eE.call(this);
this.I1=w;this.m=R.S("span","labelitem fitem"+(M?" spread":""));this.f()}as.prototype=new eE;as.prototype.b=function(w){this.m.textContent=w};
as.prototype.Q=function(){return this.m.textContent};as.prototype._C=function(){this.m.removeAttribute("disabled")};
as.prototype.Sq=function(){this.m.setAttribute("disabled","")};as.prototype.RD=function(w){this.m.textContent=w};
as.prototype.f=function(){this.m.textContent=fr.get(this.I1)};as.prototype.a2z=function(){return this.I1};
function i8(w,M,O,b,D){eE.call(this);this.v6=!1;this.m=R.S("button","fitem"+(M?" spread":"")+(b?" bbtn":""));
this.I1=w;this.Ev=O;this.f();var o=D&&window.PointerEvent?"pointerup":"click";this.m.addEventListener(o,this.hf.bind(this),!1)}i8.prototype=new eE;
i8.prototype.f=function(){var w=this.m,M=this.I1,O=this.Ev;if(typeof M=="string"&&(M.startsWith("<img")||M.startsWith("<svg")||M.startsWith("<span"))){if(!this.v6){w.innerHTML=M;
w.setAttribute("style","padding:2px");this.v6=!0}}else w.textContent=fr.get(M);if(O){w.setAttribute("title",fr.get(O))}};
i8.prototype.adD=function(w){this.m.setAttribute("title",w)};i8.prototype.hf=function(w){this.l(new aX("click",!1))};
i8.prototype.L5=function(){R.rV(this.m,"bactive")};i8.prototype.l4=function(){R.Y4(this.m,"bactive")};
i8.prototype.RD=function(w,M){if(w&&w!=this.I1){this.I1=w;this.v6=!1}if(M)this.Ev=M;this.f()};i8.prototype.b=function(w){if(w)this.L5();
else this.l4()};i8.prototype.qm=function(){return this.m.getAttribute("class").indexOf("bactive")!=-1};
i8.prototype.Q=function(){return this.qm()};function d8(w,M,O,b,D){eE.call(this);var o=R.aQ();this.m=R.S("span","fitem tinput");
if(w){this.I1=w;this.EN=R.S("label","flabel");this.m.appendChild(this.EN);this.EN.setAttribute("for",o);
this.f()}if(D){this.yg=R.S("span")}else if(b==null){this.yg=R.S("input");this.yg.setAttribute("type","text")}else this.yg=R.S("textarea","scrollable");
this.yg.setAttribute("id",o);if(O)this.yg.setAttribute("style","width:"+O+"em;"+(D?" display:inline-block; margin-left:6px;":""));
if(b)this.yg.setAttribute("rows",b);this.m.appendChild(this.yg);if(M){this.QF=R.S("span");this.QF.textContent=M;
this.QF.style.marginLeft="2px";this.m.appendChild(this.QF)}R.SZ(this.yg);this.yg.addEventListener("change",this.Y2.bind(this),!1);
this.yg.addEventListener("input",this.acd.bind(this),!1)}d8.prototype=new eE;d8.prototype.f=function(){if(this.I1)this.EN.textContent=fr.get(this.I1)+":"};
d8.prototype.RD=function(w){this.EN.textContent=w};d8.prototype.b=function(w){var M=this.yg,O=w==null?"":w,b=M.tagName=="SPAN";
if(b){M.textContent=" "+O;if(this.QF)M.appendChild(this.QF)}else M.value=O};d8.prototype.au_=function(w){this.QF.textContent=w};
d8.prototype.Q=function(){return this.yg.value};d8.prototype.Fb=function(){this.yg.select();this.yg.focus()};
d8.prototype.Y2=function(w){this.l(new aX(A.E.r,!1))};d8.prototype.acd=function(w){this.l(new aX("input",!1))};
function kb(w,M,O,b,D,o,Z,$,k){eE.call(this);if(D==null)D=0;this.m=R.S("span","fitem");var E=R.aQ();
this.I1=w;this.Ev=$;this.T$=0;this.$l=k;this.j4=M;this.GB=O;this.Ee=null;if(b instanceof Array){this.Ee=b;
b=b[0]}this.HO=b;this.it=D;this.a11=o;this.N_=Z;this.FT=0;this.EN=R.S("label","flabel");this.EN.setAttribute("style","cursor:col-resize;");
this.WS=R.S("input");this.WS.setAttribute("type","range");if(Z){this.WS.min=0;this.WS.max=400}else{this.WS.min=M;
this.WS.max=O;if(D!=0)this.WS.step=(O-M)/200}this.yg=R.S("input");this.yg.setAttribute("type","text");
this.yg.setAttribute("id",E);this.QF=R.S("span");this.QF.textContent=b;R.SZ(this.yg);this.yg.addEventListener("change",this.Y2.bind(this),!1);
this.yg.addEventListener("keydown",this.Ol.bind(this),!1);this.yg.addEventListener("keyup",this.D3.bind(this),!1);
this.yg.addEventListener("wheel",this.R1.bind(this),!1);this.WS.addEventListener("input",this.Y2.bind(this),!1);
if(k)this.WS.addEventListener("change",this.Y2.bind(this),!1);this.WS.addEventListener("click",this.atM.bind(this),!1);
this.asZ=this.arB.bind(this);this.aaa=this.av5.bind(this);this.apK=this.a1q.bind(this);this.LM=0;this.oi=0;
this.q4=!1;R.c3(this.EN,this.asZ);R.fO(this.EN)}kb.prototype=new eE;kb.prototype.dh=function(w){this.it=w};
kb.prototype.RD=function(w){this.EN.style.display=w?"inherit":"none";if(w)this.EN.textContent=fr.get(w)};
kb.prototype.f=function(){var aq=this.I1,w=this.Ev;if(aq){if(typeof aq=="string"&&aq.startsWith("<"))this.EN.innerHTML=aq;
else this.EN.textContent=fr.get(aq)+":"}if(w){w=fr.get(w);if(aq)this.EN.setAttribute("title",w);this.yg.setAttribute("title",w)}};
kb.prototype.b=function(w,M){var O=this.j4==this.GB,D;if(!O&&this.j4>=0)w=Math.max(this.j4,w);if(this.it==0)w=Math.round(w);
var b=this.HO;this.T$=w;this.yg.value=(this.it!=0?w.toFixed(this.it):w)+(this.a11&&b?(b.toLowerCase()==b.toUpperCase()?"":" ")+b:"");
if(-this.j4==this.GB)D=200+Math.sign(w)*200*Math.pow(Math.abs(w)/this.GB,1/2.7);else D=400*Math.pow((w-this.j4)/(this.GB-this.j4),1/2.7);
this.WS.value=this.N_?D:w;if(M)this._D()};kb.prototype.Q=function(){var w=this.T$;if(isNaN(w))w=0;return w};
kb.prototype.kg=function(){return this.HO};kb.prototype.Y2=function(w){var M=0;if(w.currentTarget==this.yg){var O=w.target.value,b=0;
M=O==""?0:this.HO?parseFloat(O):eval(O);if(isNaN(M))M=0;while(b<O.length&&(O.charAt(b)=="."||48<=O.charCodeAt(b)&&O.charCodeAt(b)<=57))b++;
var D=O.slice(b).trim();if(this.Ee&&this.Ee.indexOf(D)!=-1)this.HO=D}else{if(Date.now()-this.FT<10)return;
M=parseFloat(w.target.value);if(this.N_){if(-this.j4==this.GB)M=Math.sign(M-200)*Math.pow(Math.abs(M-200)/200,2.7)*this.GB;
else M=this.j4+Math.pow(M/400,2.7)*(this.GB-this.j4);M=this.a4V(M)}}this.b(M);if(w.type=="input"&&this.$l)return;
this._D()};kb.prototype._D=function(){this.l(new aX(A.E.r))};kb.prototype.a4V=function(w){if(this.GB-this.j4>50&&w>10)w=Math.round(w);
return w};kb.prototype.Ol=function(w){var M=0;if(i_.fI(w.code,i_.AB))M=1;if(i_.fI(w.code,i_.mC))M=-1;
if(M!=0)this.ae_(M,w.shiftKey)};kb.prototype.D3=function(w){var M=i_.fI(w.code,i_.gH),O=i_.fI(w.code,i_.sW);
if(M)this.b(this.Q());if(O||M)this.yg.blur()};kb.prototype.R1=function(w){this.ae_(w.deltaY>0?-1:1,w.shiftKey)};
kb.prototype.ae_=function(w,M){var O=this.Q(),b=this.it,D=w*(b==null||b==0||O>5?1:.1);if(M)D*=10;var o=O+D;
if(!this.N_&&this.GB!=this.j4)o=Math.min(this.GB,o);this.b(o);this._D()};kb.prototype.atM=function(w){var M=Date.now()-this.FT;
this.FT=Date.now();if(M>200)return;var O=this.j4,b=this.GB,D=(O+b)/2;if(O<1&&b>1&&b<10)D=1;else if(O<90&&b>110)D=100;
else if(O<0&&b>0)D=0;this.b(D);this._D()};kb.prototype.arB=function(w){R.Gg(document,this.aaa);R.UB(document,this.apK);
this.LM=R.Pr(w,document.body).x;this.oi=this.Q()};kb.prototype.av5=function(w){R.qq(w);var M=this.j4==this.GB,O=R.Pr(w,document.body).x,b=(O-this.LM)*(M?1:1/120*(this.GB-this.j4)),D=this.oi+b;
if(M)D=Math.round(D);if(!M){if(!0){D=Math.max(this.j4,D);if(D==this.j4){this.LM=O;this.oi=this.j4}}if(!this.N_){D=Math.min(this.GB,D);
if(D==this.GB){this.LM=O;this.oi=this.GB}}D=this.a4V(D)}this.q4=!0;this.b(D);if(!this.$l)this._D()};
kb.prototype.a1q=function(w){if(!this.q4)this.yg.focus();this.q4=!1;if(this.$l)this._D();R.wg(document,this.aaa);
R.oX(document,this.apK)};kb.prototype.Fb=function(){this.yg.select();this.yg.focus()};function gL(w,M,O,b,D,o,Z,$,k,E){kb.call(this,w,M,O,b,D,!0,o,k,E);
R.rV(this.m,"rangedropinput");this.m.appendChild(this.EN);this.yg.setAttribute("style","width:"+($?$:3.3)+"em");
this.m.appendChild(this.yg);this.aas=R.S("span","rangecontFloat");this.aas.appendChild(this.WS);this.jR=R.S("button");
this.jR.textContent="\u25BC";R.c3(this.jR,this.a9E.bind(this));if(Z!=!0)this.m.appendChild(this.jR);
this.ST=new eE;this.ST.m=this.aas}gL.prototype=new kb;gL.prototype.a9E=function(w){if(R.FP(this.ST.m))return;
w.stopPropagation();var M=this.m.getBoundingClientRect();this.WS.setAttribute("style","width:"+M.width+"px;");
var O=new aX(A.E.Z,!0);O.data={d:A.t.U6,YT:this.ST,x:M.left-10,y:M.top+M.height};this.l(O)};function cq(w,M,O,b,D,o){kb.call(this,w,M,O,b,D,!1,o);
this.m.appendChild(this.EN);var Z=R.S("span");this.m.appendChild(Z);Z.appendChild(this.WS);this.m.appendChild(this.yg);
this.yg.setAttribute("style","width:3.3em");if(this.HO)this.m.appendChild(this.QF)}cq.prototype=new kb;
function hy(w,M,O,b,D,o,Z,$){kb.call(this,w,M,O,b,D,!0,o,null,Z);R.rV(this.m,"trangeinput");this.m.appendChild(this.EN);
this.m.appendChild(this.yg);var k=R.S("span");if($!=!0)this.m.appendChild(k);k.appendChild(this.WS);
this.WS.setAttribute("style","width:97%;")}hy.prototype=new kb;function ao(w,M,O,b){eE.call(this);if(!M)return;
if(O==null)O=!1;this.Lr=0;this.a3K=O;this.I1=w;this.WY=null;this.a9_=b;this.O1=[];var D="dd"+R.aQ();
this.m=R.S("span","fitem ddmenu");if(w&&!O){this.EN=R.S("label","flabel");this.m.appendChild(this.EN);
this.EN.setAttribute("for",D)}this.kc=R.S("select");this.kc.setAttribute("id",D);this.m.appendChild(this.kc);
this.kc.addEventListener("change",this.Y2.bind(this),!1);function o(Z){var $=0;if(i_.fI(Z.code,i_.AB))$=1;
if(i_.fI(Z.code,i_.mC))$=-1;if($!=0)Z.stopPropagation()}this.kc.addEventListener("keydown",o,!1);this.kc.addEventListener("keyup",o,!1);
this.eP=[];this.RZ=null;this.N8(M,b);this.f()}ao.prototype=new eE;ao.prototype.RD=function(w){this.I1=w;
this.f()};ao.prototype.f=function(){if(this.I1!=null){var w=fr.get(this.I1);if(this.a3K)this.kc.setAttribute("title",w);
else this.EN.textContent=w+":"}if(this.RZ)this.N8(this.RZ,this.a9_);this.b(this.Lr)};ao.prototype.Q=function(){return this.Lr};
ao.prototype.N8=function(w,M){R.Mh(this.kc);var O=[],b=0;if(M){O.push(M[0]);for(var U=1;U<M.length;U++)O.push(O[U-1]+M[U])}this.RZ=w;
this.WY=[];this.a9_=M;for(var U=0;U<w.length;U++){var D=R.S("option");if(this.O1.indexOf(U)!=-1)D.setAttribute("disabled","");
D.textContent=fr.get(w[U]);D.setAttribute("value",U);this.kc.appendChild(D);this.eP.push(D);this.WY.push(U+b);
if(O.indexOf(U+1)!=-1&&U!=w.length-1){var o=R.S("option");o.setAttribute("disabled","");o.textContent="";
this.kc.appendChild(o);b++}}};ao.prototype.a3B=function(U){var w=this.O1,M=w.indexOf(U);if(M==-1)w.push(U);
this.f()};ao.prototype.arS=function(U){var w=this.O1,M=w.indexOf(U);if(M!=-1)w.splice(M,1);this.f()};
ao.prototype.b=function(w){this.Lr=w;this.kc.selectedIndex=this.WY[w]};ao.prototype.Y2=function(w){this.Lr=this.WY.indexOf(this.kc.selectedIndex);
this.l(new aX(A.E.r,!1))};ao.prototype.Fb=function(){this.kc.focus()};function il(w,M,O,b){eE.call(this);
if(!M)return;this.Lr=0;this.agG=b;this.m=R.S("span","fitem bbmenu");this.EN=R.S("label","flabel");if(w){this.I1=w;
this.EN.textContent=w+":";this.m.appendChild(this.EN)}this.eP=[];this.tS=R.S("span");this.m.appendChild(this.tS);
this.RZ=null;this.N8(M,O);this.b(0)}il.prototype=new eE;il.prototype.RD=function(w){this.I1=w;this.f()};
il.prototype.f=function(){var w=this.EN.parentNode!=null,M=this.m;if(this.I1!=null){if(!w){M.appendChild(this.EN);
M.appendChild(this.tS)}this.EN.textContent=fr.get(this.I1)+": "}else if(w)M.removeChild(this.EN);for(var U=0;
U<this.eP.length;U++)this.eP[U].f()};il.prototype.Q=function(){return this.Lr};il.prototype.N8=function(w,M){R.Mh(this.tS);
this.eP=[];this.RZ=w;for(var U=0;U<w.length;U++){var O=new i8(w[U],!1,M?M[U]:null,this.agG);O.h("click",this.Y2,this);
this.tS.appendChild(O.m);this.eP.push(O)}this.f()};il.prototype.b=function(w){this.Lr=w;for(var U=0;
U<this.eP.length;U++)this.eP[U].l4();this.eP[w].L5()};il.prototype.Y2=function(w){var U=this.eP.indexOf(w.target);
this.b(U);this.l(new aX(A.E.r,!1))};il.hM=function(w,M,O){if(M==null)M=16;var b=il.E6,D=b.getContext("2d"),o=M>>>1;
b.width=b.height=M;var Z=[];for(var U=0;U<w.length;U++){if(w[U][0]=="-")Z.push(w[U].slice(1));else if(w[U]=="checker"||w[U].startsWith("#")){if(w[U]=="checker"){D.fillStyle="white";
D.fillRect(0,0,M,M);D.fillStyle="#bbbbbb";D.fillRect(o,0,o,o);D.fillRect(0,o,o,o)}else if(w[U].startsWith("#")){D.fillStyle=w[U];
D.fillRect(0,0,M,M)}Z.push("<img src=\""+b.toDataURL()+"\" />")}else Z.push(R._7(w[U],null,O?O:"autoscale"))}return Z};
il.E6=R.S("canvas");function cE(w,M,O,b,D,o){eE.call(this);this.m=R.S("span","fitem mbox");this.awO=O;
this.a2T=D;if(w){this.I1=w;this.EN=R.S("label","flabel");this.m.appendChild(this.EN)}this.lF=M;this.iJ=[];
for(var U=0;U<M.length;U++){var Z=O?new i8(M[U],!1,b?b[U]:null,!1,o):new ji(M[U],!0,"");Z.h(O?"click":A.E.r,this.Y2,this);
this.iJ.push(Z);this.m.appendChild(Z.m)}this.f()}cE.prototype=new eE;cE.prototype.b=function(w){for(var M=0;
M<this.lF.length;M++)this.iJ[M].b(w[M])};cE.prototype.Q=function(){var w=[];for(var M=0;M<this.lF.length;
M++)w[M]=this.iJ[M].Q();return w};cE.prototype.f=function(){if(this.I1)this.EN.innerHTML=fr.get(this.I1)+": ";
var w=this.iJ;for(var M=0;M<w.length;M++){w[M].f();if(M==w.length-1)w[M].m.style.marginRight="0px"}};
cE.prototype.Y2=function(w){var U=this.iJ.indexOf(w.currentTarget),M=this.iJ[U];if(this.awO)M.b(!M.Q());
if(this.a2T){var O=M.Q();for(var U=0;U<this.iJ.length;U++)this.iJ[U].b(!1);M.b(O)}this.l(new aX(A.E.r,!1))};
function fL(w,M){eE.call(this);this.v0=[];this.g=[];this.agp=w;this.sC=M;this.Qt=0;this.ha=null;this.OD=new at(0,0);
if(M!=null){this.pt=new dC([{name:[6,37]},{name:[5,4]}]);this.pt.parent=this;this.pt.h("select",this.ho,this)}this.m=R.S("div","imageset scrollable");
this.m.addEventListener("contextmenu",R.eX,!1)}fL.prototype=new eE;fL.prototype.f=function(){if(this.pt)this.pt.f()};
fL.prototype.ho=function(w){var U=this.pt.Mw()[0],M=new aX(A.E.Z,!0),O={d:A.t.pF,I8:this.sC,vC:this.g.slice(0)};
if(U==0){var b=this.ha[1][this.g[0]];O.jS="rnm";M.data={d:A.t.JE,IP:"namewindow",hR:b,TA:{_:A.E.Z,W:O}}}else{M.data=O;
O.jS="del"}this.l(M)};fL.prototype.ag3=function(){return this.Qt};fL.prototype.C1=function(w){this.Qt=w;
if(this.ha)this.Yk()};fL.prototype.Uw=function(w,M,O,b){this.ha=[w,M,O,b];this.Yk()};fL.prototype.Yk=function(){var w=this.ha,M=w[0],O=w[1],b=w[2],D=w[3];
this.v0=[];this.m.innerHTML="";var o=this.hf.bind(this),Z=this.Qt;if(Z==0)R.rV(this.m,"imageset");else R.Y4(this.m,"imageset");
for(var U=0;U<M.length;U++){var $=M[U],k=null;if($==null){this.v0.push(null);continue}if(typeof $=="string"){k=R.S("img","image");
k.setAttribute("src",$)}else k=$;if(b)R.g7(k,b,D);if(this.agp)R.rV(k,"gsicon");if(Z==0){}else{var E=R.S("div","listitem");
E.appendChild(k);var t=R.S("span");t.textContent=O?O[U]:"Item "+(U+1);t.setAttribute("style","margin-left:4px;");
E.appendChild(t);k=E}if(O)k.setAttribute("title",O[U]);k.addEventListener("mousedown",o,!1);this.v0.push(k);
this.m.appendChild(k)}};fL.prototype.hf=function(w){if(this.sC==null)w.preventDefault();var M=this.v0.indexOf(w.currentTarget),O=window.__kb,b=this.g,D=b.length;
if(O.i(i_.Z4)){var o=Math.min(b[0],b[b.length-1],M),Z=Math.max(b[0],b[b.length-1],M);b=[];for(var U=o;
U<=Z;U++)b.push(U)}else if(O.i(i_.v9)){var $=b.indexOf(M);if($==-1)b.push(M);else b.splice($,1)}else b=[M];
b.sort(function(c,l){return c-l});if(w.button==0||D==1)this.b(b);this.OD=R.Pr(w,w.currentTarget);if(w.button==0)this.l(new aX(A.E.r));
if(w.button==2&&this.pt){var k=this.pt;k.update(null);var E=R.Pr(w,document.body),t=new aX(A.E.Z,!0);
t.data={d:A.t.U6,YT:k,x:E.x,y:E.y+2};this.l(t)}};fL.prototype.Q=function(){return this.g.slice(0)};fL.prototype.amQ=function(){var w=this.OD;
return new at(w.x,w.y)};fL.prototype.b=function(w){this.g=w.slice(0);for(var U=0;U<this.v0.length;U++){var M=this.v0[U];
if(M==null)continue;if(w.indexOf(U)!=-1)R.rV(M,"selected");else R.Y4(M,"selected")}};function cK(w,M,O,b,D,o,Z){eE.call(this);
this.m=R.S("span","fitem "+O);this.sV=new eE;this.sV.m=R.S("div","floatcont");this.sV.m.setAttribute("style","width: "+(b+1.5)+"em;");
this.sV.parent=this;this.awd=R.S("div");this.sV.m.appendChild(this.awd);this.V8=R.S("div");this.sV.m.appendChild(this.V8);
if(w){this.I1=w;this.EN=R.S("label","flabel");this.m.appendChild(this.EN)}this.d=R.S("button",Z?"nopadding":"");
this.d.setAttribute("style","position:relative;");var $=this.kk.bind(this),k=this.YG.bind(this);R.c3(this.d,M?k:$);
this.m.appendChild(this.d);this.HY=R.S("img",Z?"gsicon":"");this.d.appendChild(this.HY);if(M){var E=R.S("button");
E.textContent="\u25BC";R.c3(E,$);this.m.appendChild(E)}else{var t=R.S("span");t.textContent="\u25BC";
t.setAttribute("style","position:absolute;  bottom:2px;  right:4px;");this.d.appendChild(t)}var c=R.S("span");
this.V8.appendChild(c);c.setAttribute("style","display:inline-block;  vertical-align:top; width:"+b+"em;");
this.sG=new fL(Z,o);c.appendChild(this.sG.m);this.sG.parent=this.sV;this.sG.h(A.E.r,this.XO,this);this.sG.m.style.height=D+"em";
this.un=R.S("button");this.un.textContent="\u25BC";this.un.setAttribute("style","padding:3px");R.c3(this.un,this.Dh.bind(this));
this.V8.appendChild(this.un);var l=this.zz(),q=o!=eM.$i&&o!=eM.AX?o:null,d=o==null?"":eM.Ru[o][0].toUpperCase(),V=q?[{name:[12,87]}]:[];
V=V.concat([{name:["VAR0 / VAR1",[25,3,0],[25,3,1]],xM:!0},{name:[[23,6],"."+(d=="ICC"?"icc .cube .look .3dl":d)]},{name:["VAR0 ."+d,[1,8]]},{name:[6,37]},{name:[5,4],xM:l.length!=0}]);
for(var U=0;U<l.length;U++)V.push({name:l[U].split("/").pop()});this.ats=V;this.sC=o;this.a8j=q;this.Xj=null;
this.a4=!0;this.cv=null}cK.prototype=new eE;cK.prototype.zz=function(){return[]};cK.prototype.YG=function(){};
cK.prototype.f=function(){this.sG.f();var w=this.I1;if(w)this.EN.textContent=fr.get(w)+":"};cK.prototype.RD=function(w){this.EN.textContent=w};
cK.prototype.jX=function(w){var M=this.sC,O=0;if(M==eM.xZ){O=this.Xj?this.Xj.length:0;w=w.slice(0)}this.Xj=w;
this.a4=!0;if(R.FP(this.sG.m)||M==eM.aV)this.WI();if(M==eM.xZ&&w.length-O==1&&R.FP(this.m)){this.b(w[O]);
this.a4=!0;this.WI();this.sG.b([O]);this.l(new aX(A.E.r))}};cK.prototype.ho=function(w){var M=w.target.Mw()[0];
if(this.a8j==null)M++;var O=new aX(A.E.Z,!0);if(M==0){var b=this.X_();if(this.sC==eM.xZ&&b[0].profile==null)return;
O.data={d:A.t.pF,jS:"add",I8:this.a8j,zm:b}}else if(M==1)this.sG.C1(1-this.sG.ag3());else if(M<=5)this.s0(M-2);
else{var D=this.zz();O.data={d:A.t.xS,I8:{url:"rsrc/"+D[M-6]}}}if(O.data)this.l(O)};cK.prototype.s0=function(w){var M=new aX(A.E.Z,!0),O=this.sG.Q(),b={d:A.t.pF,I8:this.sC,vC:O};
if(w>1&&O.length==0){alert("No items selected");return}if(w==0)M.data={d:A.t.wP};else if(w==1)M.data={d:A.t.TE,a1X:this.sC,vC:O.length==0?null:O};
else if(w==2){var D=this.sG.ha[1][O[0]];b.jS="rnm";M.data={d:A.t.JE,IP:"namewindow",hR:D,TA:{_:A.E.Z,W:b}}}else if(w==3){M.data=b;
b.jS="del"}this.l(M)};cK.prototype.X_=function(){return[this.Q()]};cK.prototype.Dh=function(w){if(this.pt==null){this.pt=new dC(this.ats);
this.pt.parent=this.sV;this.pt.h("select",this.ho,this)}if(R.FP(this.pt.m))return;w.stopPropagation();
var M=this.pt;M.f();M.update(null);var O=w.currentTarget.getBoundingClientRect(),b=new aX(A.E.Z,!0);
b.data={d:A.t.U6,YT:M,x:O.left,y:O.top+O.height};this.l(b)};cK.prototype.kk=function(w,M,O){if(R.FP(this.sV.m))return;
if(w)w.stopPropagation();this.WI();if(M==null){var b=this.d.getBoundingClientRect(),M=b.left,O=b.top+b.height}var D=new aX(A.E.Z,!0);
D.data={d:A.t.U6,YT:this.sV,x:M,y:O,uo:!0};this.l(D)};cK.prototype.a05=function(w,M){this.kk(null,w,M)};
function cr(){eE.call(this);this.m=R.S("div");this.T$=!1;this.Uu=[new ao([12,19,1],[[13,1,7]].concat(a6.q0)),new ew([17,1]),new ew([12,46])];
for(var U=0;U<3;U++){var w=this.Uu[U];this.m.appendChild(w.m);w.h(A.E.r,this.gL,this)}this.f()}cr.prototype=new eE;
cr.prototype.f=function(){for(var U=0;U<3;U++)this.Uu[U].f()};cr.prototype.Q=function(){return this.T$.slice(0)};
cr.prototype.b=function(w){this.T$=w.slice(0);var M=this.Uu,O=M[0].Q();M[1].b(w.slice(O*8,O*8+4),O);
M[2].b(w.slice(O*8+4,O*8+8),O)};cr.prototype.gL=function(w){var M=this.Uu,O=M.indexOf(w.currentTarget);
if(O==0)this.b(this.T$);else{var b=M[0].Q()*8+(O==1?0:4),D=M[O].Q();for(var U=0;U<4;U++)this.T$[b+U]=D[U];
this.l(new aX(A.E.r,!1))}};function ew(w){eE.call(this);this.m=R.S("div");this.U=R.S("canvas");this.LH=w;
this.T$=[0,20,200,255];this.eC=0;this.L0=-1;this.adi=[];for(var U=0;U<5;U++){var M=R.S("span");M.setAttribute("style","display:inline-block;width:"+(U==0?8:U==2?7:2)+"em");
this.adi.push(M);this.m.appendChild(M)}this.vF=this.pu.bind(this);this.j6=this.xL.bind(this);this.pN=this.hN.bind(this);
R.fO(this.U);R.c3(this.U,this.vF);this.m.appendChild(this.U);this.Yk()}ew.prototype=new eE;ew.prototype.f=function(){this.Yk()};
ew.prototype.b=function(w,M){this.T$=w;this.eC=M;this.Yk()};ew.prototype.Q=function(){return this.T$.slice(0)};
ew.prototype.pu=function(w){var M=this.T$,O=R.Pr(w,this.U),b=O.x-8,D=-1,o=1e9;for(var U=0;U<4;U++){var Z=b-M[U],$=Math.abs(Z);
if($<8&&$<o&&((U&1)==0&&Z<0||(U&1)==1&&Z>0)){o=Z;D=U}}if(D==-1)return;this.L0=D;this.$D=window.__kb.i(i_.PY)||M[(D>>>1)*2]!=M[(D>>>1)*2+1];
R.Gg(window,this.j6);R.UB(window,this.pN)};ew.prototype.xL=function(w){var M=this.T$,O=this.L0,b=(O>>>1)*2,D=b+1,o=R.Pr(w,this.U),Z=Math.round(Math.max(0,Math.min(255,o.x-8)));
M[O]=Z;if(this.$D&&M[b]>=M[D])this.$D=!1;if(!this.$D)M[b]=M[D]=Z;this.Yk();this.l(new aX(A.E.r,!1))};
ew.prototype.hN=function(w){R.wg(window,this.j6);R.oX(window,this.pN)};ew.prototype.Yk=function(){var w=this.U;
R.GL(w,255+16,16);var M=w.getContext("2d"),O=w.width,b=w.height,D=Math.round(255*R.V()),o=Math.round(8*R.V());
M.translate(o,0);var Z=M.createLinearGradient(0,0,D,0);Z.addColorStop(0,"black");Z.addColorStop(1,"#"+["ffffff","ff0000","00ff00","0000ff"][this.eC]);
M.fillStyle=Z;M.fillRect(0,0,D,o);var $=this.adi,k=fr.get(this.LH)+":";$[0].textContent=k;for(var U=0;
U<4;U++){var E=this.T$[U];$[1+U].textContent=E;var t=Math.round(E*R.V());M.beginPath();M.moveTo(t,o);
M.lineTo(t,o+o);M.lineTo(t+((U&1)==0?-1:1)*o,o+o);M.closePath();M.fillStyle=U<2?"#666666":"#cccccc";
M.fill();M.strokeStyle="black";M.stroke()}};function jr(w,M,O){eE.call(this);if(O==null)O=!1;this.G=[0,0,1];
this.agi=M;this.a4l=O;this.ah$=0;var b="ai"+R.aQ();this.m=R.S("span","fitem angleinput");if(w){this.EN=R.S("label","flabel");
this.I1=w;this.m.appendChild(this.EN);this.EN.setAttribute("for",b)}this.Qj=O?44:20;this.U=R.S("canvas","gsicon");
this.Mn=this.U.getContext("2d");R.fO(this.U);R.GL(this.U,this.Qj*2+1,this.Qj*2+1);this.Mn.scale(R.V(),R.V());
this.m.appendChild(this.U);R.c3(this.U,this.JV.bind(this));this.d6=this.M9.bind(this);this.A_=this.Ye.bind(this);
var D=this.Y2.bind(this),o=R.S("div");o.setAttribute("style","display:inline-block;  vertical-align:middle;");
if(!O)this.m.appendChild(o);this.Yz=[];for(var U=0;U<2;U++){var Z=R.S("input");this.Yz.push(Z);Z.setAttribute("type","text");
R.SZ(Z);if(U==0)Z.setAttribute("id",b);Z.addEventListener("change",D,!1);var $=R.S("span");$.textContent="\xB0";
if(U==0||M){o.appendChild(Z);o.appendChild($);R.Ca(o)}}this.b(this.G)}jr.prototype=new eE;jr.prototype.f=function(){if(this.I1)this.EN.textContent=fr.get(this.I1)+":"};
jr.prototype.RD=function(w){this.EN.textContent=w};jr.prototype.Q=function(){return this.G.slice(0)};
jr.prototype.b=function(w,M){var O=this.G;w=w.slice(0);if(w[0]==null)w[0]=O[0];if(w[1]==null)w[1]=O[1];
if(w[2]==null)w[2]=O[2];this.G=w;var b=w[0],D=w[1],o=w[2],Z=this.agi,$=this.a4l,k=this.Qj*.85;if(!Z)D=0;
this.Yz[0].value=b;this.Yz[1].value=D;var E=this.Mn;E.clearRect(0,0,100,100);b=Math.PI*b/180;D=k*(90-D)/90;
var t=this.Qj+.5;E.save();E.translate(t,t);E.rotate(-b);E.strokeStyle="rgba(0,0,0,0.5)";E.beginPath();
E.ellipse(0,0,k,k*o,0,0,2*Math.PI);if($){E.moveTo(0,-k*o);E.lineTo(0,k*o);E.moveTo(-D,0)}else E.moveTo(0,0);
E.lineTo(D,0);E.stroke();var c=this.Qj*.15;E.fillStyle="black";E.beginPath();if($){E.arc(0,-k*o,c*.66,0,2*Math.PI);
E.arc(0,k*o,c*.66,0,2*Math.PI)}if(Z){E.arc(D,0,c*.4,0,2*Math.PI)}else{E.moveTo(t-c,-c*.66);E.lineTo(t,0);
E.lineTo(t-c,c*.66)}E.fill();E.restore();if(M)this.Y2()};jr.prototype.Y2=function(w){var M=parseInt(this.Yz[0].value);
if(isNaN(M))M=0;var O=parseInt(this.Yz[1].value);if(isNaN(O))O=0;M=M%360;O=O%360;this.b([M,O]);this.l(new aX(A.E.r,!1))};
jr.prototype.JV=function(w){R.Gg(window,this.d6);R.UB(window,this.A_);var M=R.Pr(w,this.U),t=0,c=1e9;
M.x-=this.Qj;M.y-=this.Qj;var O=this.G,b=O[0]*Math.PI/180,D=(90-O[1])/90,o=O[2],Z=this.Qj*.85,$=Math.sin(-b),k=Math.cos(-b),E=[new at(k*Z,$*Z)];
if(this.a4l)E.push(new at(-$*Z*o,k*Z*o),new at($*Z*o,-k*Z*o));for(var U=0;U<E.length;U++){var l=at.we(M,E[U]);
if(l<c){c=l;t=U}}this.ah$=t;if(t==0)this.M9(w)};jr.prototype.M9=function(w){var M=R.Pr(w,this.U),O=this.ah$,b=[],D=M.x-this.Qj,o=M.y-this.Qj,Z=this.Qj*.85;
if(O==0){var $=180*Math.atan2(-o,D)/Math.PI,k=90-90*Math.min(1,Math.sqrt(D*D+o*o)/Z);if(w.shiftKey)$=Math.round($/15)*15;
b=[Math.round($),Math.round(k)]}else b=[null,null,Math.max(.01,Math.min(1,Math.sqrt(D*D+o*o)/Z))];this.b(b);
this.l(new aX(A.E.r,!1))};jr.prototype.Ye=function(w){this.l(new aX(A.E.r,!1));R.wg(window,this.d6);
R.oX(window,this.A_)};function kk(w,M){eE.call(this);this.T$=0;this.BM=M;this.m=R.S("span","fitem angleinput");
if(w){this.EN=R.S("label","flabel");this.I1=w;this.m.appendChild(this.EN)}this.U=R.S("canvas","gsicon");
this.Mn=this.U.getContext("2d");R.GL(this.U,M,M);this.m.appendChild(this.U);R.fO(this.U);R.c3(this.U,this.JV.bind(this));
this.d6=this.M9.bind(this);this.A_=this.Ye.bind(this);this.b(0)}kk.prototype=new eE;kk.prototype.f=function(){if(this.I1)this.EN.textContent=fr.get(this.I1)+":"};
kk.prototype.RD=function(w){this.EN.textContent=w};kk.prototype.Q=function(){return this.T$};kk.prototype.aa0=function(w){var M=this.T$,O=Math.floor(M/3),b=M-O*3;
b=Math.max(0,Math.min(2,b+w.x));O=Math.max(0,Math.min(2,O+w.y));this.b(O*3+b)};kk.prototype.b=function(w){this.T$=w;
var M=this.U.width,O=Math.floor(w/3),b=w-3*O,D=(b+.5)*M/3,o=(O+.5)*M/3,Z=this.Mn,$=[.5,Math.round(M/3)+.5,Math.round(2*M/3)+.5,M-.5];
Z.clearRect(0,0,M,M);var k=this.BM<30;Z.setLineDash([]);Z.strokeStyle=k?"rgba(0,0,0,0.5)":"#000000";
Z.beginPath();for(var U=0;U<4;U++){var E=$[U];Z.moveTo(E,0);Z.lineTo(E,M);Z.moveTo(0,E);Z.lineTo(M,E)}Z.stroke();
if(w==9)return;if(!k){Z.setLineDash([1,2]);var t=M*.53,c=Math.max(0,Math.min(M-t,D-t/2)),l=Math.max(0,Math.min(M-t,o-t/2));
Z.strokeRect(Math.round(c)+.5,Math.round(l)+.5,Math.round(t),Math.round(t))}Z.fillStyle="#000000";Z.beginPath();
Z.arc(D,o,M/8,0,Math.PI*2);Z.fill()};kk.prototype.JV=function(w){R.Gg(document.body,this.d6);R.UB(document.body,this.A_);
this.M9(w)};kk.prototype.M9=function(w){var M=R.Pr(w,this.U),O=Math.max(0,Math.min(2,Math.floor(M.x/(this.BM/3)))),b=Math.max(0,Math.min(2,Math.floor(M.y/(this.BM/3))));
this.b(b*3+O)};kk.prototype.Ye=function(w){this.l(new aX(A.E.r,!1));R.wg(document.body,this.d6);R.oX(document.body,this.A_)};
function hF(aq){eE.call(this);this.m=R.S("span","fitem cswatch");this.a95=0;this.gW=[];this.no=[];var w=this.a91.bind(this);
for(var U=0;U<aq;U++){this.gW.push(0);var M=R.S("span","colorsample");M.addEventListener("click",w,!1);
this.no.push(M);this.m.appendChild(M)}var O=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],b=Math.min(aq,O.length);
for(var U=0;U<b;U++)this.gW[U]=O[U];this.rU()}hF.prototype=new eE;hF.prototype.a91=function(w){this.a95=this.no.indexOf(w.currentTarget);
this.l(new aX(A.E.r))};hF.prototype.Q=function(){return this.gW[this.a95]};hF.prototype.b=function(w){var M=this.gW,O=M.indexOf(w);
if(O!=-1)M.splice(O,1);else M.pop();M.unshift(w);this.rU()};hF.prototype.rU=function(){for(var U=0;U<this.gW.length;
U++){this.no[U].setAttribute("style","background-color:#"+x.zZ(this.gW[U]))}};function bQ(w){eE.call(this);
this.j1={o:0,w:0,L:0};this.KX=w;this.m=R.S("span","fitem colorsample");this.m.addEventListener("click",this.VQ.bind(this),!1)}bQ.prototype=new eE;
bQ.prototype.f=function(){};bQ.prototype.VQ=function(w){var M=this.j1;this.l(new aX("click"));var O=new aX(A.E.Z,!0);
O.data={d:A.t.JE,IP:"colorpicker",RF:M.o<<16|M.w<<8|M.L,at:this.kp.bind(this),xt:this.KX};this.l(O)};
bQ.prototype.kp=function(w){this.Ji(w);this.l(new aX(A.E.r))};bQ.prototype.Ky=function(){this.VQ(null)};
bQ.prototype.aiT=function(){var w=this.j1;return w.o<<16|w.w<<8|w.L};bQ.prototype.Q=function(){return x.M.jk(this.j1)};
bQ.prototype.Ji=function(w){this.j1={o:w>>16&255,w:w>>8&255,L:w&255};this.aes()};bQ.prototype.b=function(w){this.j1=x.M.FL(w);
this.aes()};bQ.prototype.aes=function(){var w=this.j1,M=w.o,O=w.w,b=w.L,D=M<<16|O<<8|b;this.m.setAttribute("style","background-color:#"+x.zZ(D))};
function hK(){eE.call(this);this.zL=!1;this.QB=20;this.a3E=10;this.DA=0;this.zL=!1;this.HA={o:255,w:0,L:0};
this.JD={o:0,w:0,L:0};this.m=R.S("canvas");this.Yk();R.fO(this.m);R.c3(this.m,this.vF.bind(this))}hK.prototype=new eE;
hK.prototype.ahw=function(w){if(this.zL==w)return;this.zL=w;this.Yk()};hK.prototype.f=function(){};hK.prototype.aa7=function(w,M){function O(b){return{o:b>>16&255,w:b>>8&255,L:b&255}}if(w!=null)this.HA=O(w);
if(M!=null)this.JD=O(M);this.Yk()};hK.prototype.vF=function(w){var M=R.Pr(w,this.m),O=M.x*R.V(),b=M.y*R.V(),D=this.QB,o=this.a3E,Z=0;
if(O<o&&b<o){Z=0}else if(O>D-o&&b>D-o){Z=1}else if(O<o){Z=2}else{Z=3}this.Ky(Z)};hK.prototype.Ky=function(w){var M=new aX(A.E.Z,!0);
if(w>1)M.data={d:A.t.pF,I8:eM.Ih,uj:w};else{this.DA=w;var O=w==0?this.HA:this.JD;M.data={d:A.t.JE,IP:"colorpicker",RF:O.o<<16|O.w<<8|O.L,at:this.kp.bind(this)}}this.l(M)};
hK.prototype.kp=function(w){var M=new aX(A.E.Z,!0);M.data={d:A.t.pF,I8:eM.Ih,uj:this.DA,G:w};this.l(M)};
hK.prototype.Yk=function(){var w=this.m,M=w.getContext("2d"),O=R.V(),D="#aaaaaa",o=.62;R.GL(w,34,34);
w.setAttribute("style",w.getAttribute("style")+";cursor:pointer");var b=this.QB=w.width,Z=this.a3E=Math.round(b*o);
function $(d,V){var L=d.o,e=d.w,H=d.L;if(V)L=e=H=Math.round(x.nJ(L,e,H));var j=L<<16|e<<8|H;return"#"+x.zZ(j)}function k(M,d,V,L,e,H){M.beginPath();
if(L>=H*2&&e>=H*2){M.moveTo(d+H,V);M.lineTo(d+L-H,V);M.quadraticCurveTo(d+L,V,d+L,V+H);M.lineTo(d+L,V+e-H);
M.quadraticCurveTo(d+L,V+e,d+L-H,V+e);M.lineTo(d+H,V+e);M.quadraticCurveTo(d,V+e,d,V+e-H);M.lineTo(d,V+H);
M.quadraticCurveTo(d,V,d+H,V)}M.closePath()}function E(d,V,Z,L,e){M.strokeStyle=e?e:"black";M.fillStyle=L;
k(M,d+.5,V+.5,Z-1,Z-1,Z*.2);M.fill();M.stroke()}E(b-Z,b-Z,Z,$(this.JD,this.zL));E(0,0,Z,$(this.HA,this.zL));
var t=b-Z,c=Math.round(t*o);E(b-c,t-c,c,"white",D);E(b-t,0,c,"black",D);M.save();M.fillStyle=D;M.translate(0,b);
M.rotate(-Math.PI/2);t=b-Z;var l=Math.round(t*.28),q=Math.round(t*.25);for(var U=0;U<2;U++){M.fillRect(l,l,t-l,1);
M.beginPath();M.moveTo(t-q,l+.5-q);M.lineTo(t,l+.5);M.lineTo(t-q,l+.5+q);M.closePath();M.fill();M.transform(0,1,1,0,0,0)}M.restore()};
function jc(w){cK.call(this,w,!1,"brushbutton nopadding",19,10,eM.rq,!0);var M=this.awd;R.rV(M,"flexrow");
var O=R.S("div");M.appendChild(O);var b=R.S("div");M.appendChild(b);b.setAttribute("style","margin-left:8px");
this.kK=new jr(null,null,!0);this.kK.h(A.E.r,this.Gq,this);O.appendChild(this.kK.m);this.dS=new hy([12,14,0],1,1e3," px",0,!0);
this.dS.h(A.E.r,this.Gq,this);b.appendChild(this.dS.m);this.aM=new hy([12,17],0,100,"%");this.aM.h(A.E.r,this.Gq,this);
b.appendChild(this.aM.m);this.lb=new cE(null,["<img src=\""+PIMG.prsO+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.prsS+"\" class=\"autoscale gsicon\" />"],!0,[[15,9,0],[15,9,1]]);
this.lb.h(A.E.r,this.Gq,this);b.appendChild(this.lb.m)}jc.prototype=new cK;jc.prototype.zz=function(){var w=["pencil","trees"];
for(var U=0;U<w.length;U++)w[U]="brushes/"+w[U]+".abr";return w};jc.prototype.b=function(w,M,O){this.cv=JSON.parse(JSON.stringify(w));
var b=Math.floor(20*R.V()),D=Math.floor(36*R.V()),o=Math.floor(24*R.V()),Z=i$.Td(w,M,O,b,o,D);this.HY.setAttribute("src",Z);
R.g7(this.HY,D,o);var $=w.Brsh.v;this.dS.b($.Dmtr.v.val);if($.Hrdn!=null){this.aM._C();this.aM.b($.Hrdn.v.val)}else this.aM.Sq();
if($.Angl!=null)this.kK.b([$.Angl.v.val]);if($.Rndn!=null)this.kK.b([null,null,$.Rndn.v.val/100]);var k=[!1,!1];
if(w.opVr)k[0]=w.opVr.v.bVTy.v==2;if(w.szVr)k[1]=w.szVr.v.bVTy.v==2;this.lb.b(k)};jc.prototype.X_=function(){return{list:[{t:"Objc",v:this.Q()}],eg:[],ow:[]}};
jc.prototype.Q=function(){return this.cv};jc.prototype.WI=function(){if(!this.a4)return;var w=[],M=[],O=this.Xj,b=Math.floor(33*R.V()),D=Math.floor(40*R.V());
for(var U=0;U<O.list.length;U++){var o=O.list[U].v,Z=i$.Td(o,O.eg,O.ow,b,D);w.push(Z);M.push(o.Nm.v.split("=").pop())}this.sG.Uw(w,M,b,D);
this.a4=!1};jc.prototype.XO=function(w){var M=this.Xj;this.b(M.list[this.sG.Q()[0]].v,M.eg,M.ow);this.l(new aX(A.E.r))};
jc.prototype.f=function(){cK.prototype.f.call(this);this.kK.f();this.dS.f();this.aM.f()};jc.prototype.Gq=function(w){var M=this.Xj,O=this.cv,b=O.Brsh.v;
b.Dmtr.v.val=this.dS.Q();if(b.Hrdn!=null)b.Hrdn.v.val=this.aM.Q();if(b.Angl!=null)b.Angl.v.val=this.kK.Q()[0];
if(b.Rndn!=null)b.Rndn.v.val=Math.round(this.kK.Q()[2]*100);if(w.target==this.lb){var D=this.lb.Q(),o=["opVr","szVr"],Z=["usePaintDynamics","useTipDynamics"];
for(var U=0;U<2;U++){var $=o[U];if(O[$]==null)O[$]=JSON.parse(b6.hW.oc[$]);O[$].v.bVTy.v=D[U]?2:0;if(D[U])O[Z[U]].v=!0}b6.hW.ag2(O)}this.b(O,M.eg,M.ow);
this.l(new aX(A.E.r))};function fX(w){cK.call(this,w,!0,"contourbutton",17,10.5,eM.dZ)}fX.prototype=new cK;
fX.prototype.XO=function(w){this.b(this.Xj[w.target.Q()]);this.l(new aX(A.E.r))};fX.prototype.YG=function(w){var M=new aX(A.E.Z,!0);
M.data={d:A.t.JE,IP:"contoureditor",iu:this.cv,response:this.abp.bind(this)};this.l(M)};fX.prototype.abp=function(w){this.b(w);
this.l(new aX(A.E.r))};fX.prototype.WI=function(){if(!this.a4)return;var w=Math.floor(38*R.V()),M=Math.floor(38*R.V()),O=[],b=[],D=this.Xj;
for(var U=0;U<D.length;U++){b.push(D[U].Nm?D[U].Nm.v:"");O.push(x.kE.Td(D[U].Crv.v,w,M))}this.sG.Uw(O,b,w,M);
this.a4=!1};fX.prototype.b=function(w){this.cv=JSON.parse(JSON.stringify(w));var M=this.cv.Crv.v;for(var U=0;
U<M.length;U++)if(M[U].v.Cnty==null)M[U].v.Cnty={t:"bool",v:!0};this.E_()};fX.prototype.E_=function(){var w=Math.floor(30*R.V()),M=Math.floor(30*R.V()),O=x.kE.Td(this.cv.Crv.v,w,M);
this.HY.setAttribute("src",O);R.g7(this.HY,w,M)};fX.prototype.Q=function(){return JSON.parse(JSON.stringify(this.cv))};
function iD(w){eE.call(this);this.di=null;this.P4=null;this.if=null;this.wy=null;this.a6_=[];this.a3I=[];
this.m=R.S("span","fitem fillbutton");this.sV=new eE;this.sV.m=R.S("div","floatcont form");this.sV.m.setAttribute("style","width: 21em;");
this.sV.parent=this;this.JT=w;this.EN=this.EN=R.S("label","flabel");this.m.appendChild(this.EN);this.U=R.S("canvas");
this.Mn=this.U.getContext("2d");this.avG=null;this.m.appendChild(this.U);R.c3(this.U,this.kk.bind(this));
this.FF=new il([12,66],["","Color","Grad","Patt"]);this.sV.m.appendChild(this.FF.m);this.FF.h(A.E.r,this.gL,this);
this.sV.m.appendChild(R.S("hr"));this.ary=R.S("span");this.Vy=new bQ(!1);this.Vy.parent=this.sV;this.Vy.h(A.E.r,this.gL,this);
this.xK=new hF(10);this.xK.h(A.E.r,this.gL,this);this.QW=R.S("div","marged hiline");this.QW.appendChild(this.Vy.m);
R.Ca(this.QW);this.QW.appendChild(this.xK.m);this.J3=new dY("GrFl",!0);this.J3.parent=this.sV;this.J3.h(A.E.r,this.gL,this);
this.Al=R.S("div","marged hiline");var M="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");for(var U=0;
U<M.length;U++){var O=this.J3.MT[M[U]].m;this.Al.appendChild(O)}this.wU=new dY("patternFill",!0);this.wU.parent=this.sV;
this.wU.h(A.E.r,this.gL,this);this.xJ=R.S("div","marged hiline");var M=["Ptrn","Angl","Scl","Algn","phase"];
for(var U=0;U<M.length;U++){var O=this.wU.MT[M[U]].m;this.xJ.appendChild(O)}}iD.prototype=new eE;iD.prototype.o9=function(w,M){var O=eK.XT(w,M);
if(O!=null)this.xK.b(O);if(M==eM.ab){this.a6_=[];this.a3I=[];if(this.di)this.b(this.if,this.Q(),this.di)}this.P4=w;
this.J3.o9(w,M);this.wU.o9(w,M)};iD.prototype.f=function(){this.EN.textContent=fr.get(this.JT)+": ";
this.FF.f();this.Vy.f();this.J3.f();this.wU.f()};iD.prototype.gL=function(w){var M=w.currentTarget;if(M==this.FF){var O=this.FF.Q(),b={Gw:O,MJ:this.di[O]};
if(O>0&&b.MJ==null)b.MJ=JSON.parse(JSON.stringify(aN.bK[O-1]));if(this.di)this.b(this.if,b,this.di)}if(M==this.xK)this.Vy.Ji(M.Q());
this.l(new aX(A.E.r,!1))};iD.prototype.kk=function(w){if(R.FP(this.sV.m))return;w.stopPropagation();
var M=this.U.getBoundingClientRect(),O=new aX(A.E.Z,!0);O.data={d:A.t.U6,YT:this.sV,x:M.left,y:M.top+M.height+4};
this.l(O)};iD.prototype.b=function(w,M,O){this.di=O;this.if=w;var b=[[13,1,0],[13,0],[12,37],[12,62]],D=this.a6_,o=this.a3I,Z=!1,t;
for(var U=0;U<4;U++){var $={Gw:U,MJ:O[U]},k=iD.a2L($);if(o[U]==k)continue;Z=!0;var E=iD.a7h(null,$,this.P4,this.if,22,22,!1);
D[U]="<img width=\"22\" height=\"22\" src=\""+E+"\" />";o[U]=k}if(Z)this.FF.N8(D,b);this.FF.b(M.Gw);
var k=iD.a2L(M);if(k!=this.avG)iD.a7h(this.Mn,M,this.P4,this.if,30,23,!0);this.avG=k;var c=M.Gw;if(c==0){t=this.ary}if(c==1){this.Vy.b(M.MJ.Clr.v);
t=this.QW}if(c==2){this.J3.update(w,M.MJ);t=this.Al}if(c==3){this.wU.update(w,M.MJ);t=this.xJ}if(t!=this.wy){if(this.wy!=null){this.sV.m.removeChild(this.wy)}this.sV.m.appendChild(t);
this.wy=t}};iD.prototype.Q=function(){var w={Gw:this.FF.Q()};if(w.Gw==1){w.MJ=JSON.parse(JSON.stringify(aN.bK[0]));
w.MJ.Clr.v=this.Vy.Q()}if(w.Gw==2){w.MJ=this.J3.Q()}if(w.Gw==3){w.MJ=this.wU.Q()}return w};iD.a2L=function(w){var M=w.Gw,O=w.MJ,b="empty";
if(M==1){b=x.M.FL(O.Clr.v);b=b.o+","+b.w+","+b.L}if(M==2)b=JSON.stringify(O.Grad.v);if(M==3)b=O.Ptrn.v.Idnt.v;
return b};iD.a7h=function(w,M,O,b,D,o,Z){if(w==null)w=iD.Mn;var $=Math.floor(D*R.V()),k=Math.floor(o*R.V()),E=w.canvas,t;
E.width=$;E.height=k;R.g7(E,$,k);var c=M.Gw;if(c==0){w.fillStyle="#ffffff";w.fillRect(0,0,$,k);w.strokeStyle="#ff0000";
w.lineWidth=2;w.moveTo(0,0);w.lineTo($,k);w.moveTo(0,k);w.lineTo($,0);w.stroke()}if(c==1){var l=M.MJ.Clr.v;
l=x.M.FL(l);w.fillStyle="#"+x.zZ(l.o<<16|l.w<<8|l.L);w.fillRect(0,0,$,k)}if(c==2){y.Cw.Td(M.MJ.Grad.v,$,k,0,O.Sw,O.fj,E)}if(c==3){var q=M.MJ.Ptrn.v,d;
if(b!=null)d=eR.BD(q,b.add.Patt);if(d==null)d=eR.BD(q,O.SQ);g9.Td(d,$,k,E)}if(Z){w.beginPath();w.strokeStyle="#000000";
w.fillStyle="#ffffff";w.lineWidth=2;var V=$*.7,L=Math.floor(k*.7),e=7*R.V();w.moveTo(V,L);w.lineTo(V+e,L);
w.lineTo(V+e/2,L+e/2);w.closePath();w.stroke();w.fill()}if(w==iD.Mn)return E.toDataURL()};iD.Mn=R.S("canvas").getContext("2d");
function g9(w){cK.call(this,w,!1,"patternbutton",18,10,eM.ab);this.Ah=null}g9.prototype=new cK;g9.prototype.XO=function(w){var M=this.Xj[this.sG.Q()];
this.cv={classID:"Ptrn",Nm:{t:"TEXT",v:M.name},Idnt:{t:"TEXT",v:M.id}};this.l(new aX(A.E.r));this.E_()};
g9.prototype.WI=function(){if(!this.a4)return;var w=this.Xj,M=Math.floor(34*R.V()),O=Math.floor(34*R.V()),b=[],D=[];
for(var U=0;U<w.length;U++){b.push(g9.Td(w[U],M,O));D.push(w[U].name)}this.sG.Uw(b,D,M,O);this.a4=!1};
g9.prototype.b=function(w,M){if(this.cv&&w.Idnt.v==this.cv.Idnt.v)return;this.cv=JSON.parse(JSON.stringify(w));
this.E_(M)};g9.prototype.Q=function(){return JSON.parse(JSON.stringify(this.cv))};g9.prototype.X_=function(){return this.Ah?[this.Ah]:[]};
g9.prototype.E_=function(w){var M=Math.floor(50*R.V()),O=Math.floor(50*R.V()),b;if(w!=null)b=eR.BD(this.cv,w.add.Patt);
if(b==null)b=eR.BD(this.cv,this.Xj);this.Ah=b;var D=g9.Td(b,M,O);this.HY.setAttribute("src",D);R.g7(this.HY,M,O)};
g9.U=R.S("canvas","");g9.Td=function(w,M,O,b){if(b==null)b=g9.U;var D=b.getContext("2d");b.width=M;b.height=O;
if(w){var o=w.f4[1],Z=o.e,$=o.n,k=w.f4[0],E=Math.min(M/Z,O/$),t=E;if(t*Z<2)t=2/Z;var c=E;if(c*$<2)c=2/$;
var l=y.u.UA([k,o],new f$(t,0,0,c,0,0),t>2),q=l.rect.e,d=l.rect.n,V=D.createImageData(q,d);x.U7(l.buffer,V.data);
D.putImageData(V,Math.floor((M-q)/2),Math.floor((O-d)/2))}return b.toDataURL()};function a2(w,M,O){if(M==null)M=24.2;
if(O==null)O=17;cK.call(this,w,!1,"patternbutton",M,O,eM.$i);this.FI=""}a2.prototype=new cK;a2.prototype.XO=function(w){this.cv=JSON.parse(JSON.stringify(this.Xj[0][this.sG.Q()[0]]));
this.l(new aX(A.E.r))};a2.prototype.WI=function(){var w=this.Xj;if(w==null||!this.a4)return;var M=Math.floor(50*R.V()),O=Math.floor(50*R.V()),b=[],D=[];
for(var U=0;U<w[0].length;U++){b.push(a2.Td(this.Xj[0][U].Pg,M,O,this.Xj[1]));D.push(w[0][U].hl.Nm.v.split("=").pop())}this.sG.Uw(b,D,M,O);
this.a4=!1};a2.prototype.b=function(w,M,O,b){var D=JSON.stringify(w.Pg)+","+O+","+b;if(this.FI!=D){this.FI=D;
this.cv=JSON.parse(JSON.stringify(w));this.E_(M,O,b)}};a2.prototype.Q=function(){return JSON.parse(JSON.stringify(this.cv))};
a2.prototype.E_=function(w,M,O){var b=Math.floor(68*R.V()),D=Math.floor(68*R.V()),o=a2.Td(this.cv.Pg,b,D,w?w:this.Xj[1],M,O);
this.HY.setAttribute("src",o);R.g7(this.HY,b,D)};a2.Td=function(w,M,O,b,D,o){var Z=new fO;Z.e=M;Z.n=O;
Z.buffer=x.$(M*O*4);Z.add.Patt=b;Z.qK(D==null?90:D);Z.JJ(o==null?30:o);var $=new cn(0,0,Math.round(M*.5),Math.round(O*.5));
$.x=Math.round((M-$.e)/2);$.y=Math.round((O-$.n)/2);var k=Z.uV();k.rect=$;k.buffer=x.$($.v()*4);x.TZ(k.buffer,4284045657);
eR.a08(w,k,.5*100);Z.B.push(k);Z._v();Z.K();var E=X.Nu;X.Nu=!1;Z.Uc();var t=Z.Hp();X.Nu=E;var c=ce.Xb(t.buffer,Z.e,Z.n);
return c};function ev(w){cK.call(this,null,!1,"tpresetbutton",18,24,eM.gZ,!0);R.Y4(this.m,"fitem");this.sG.C1(1);
this.id=w;this.E_();this.d.style.overflow="hidden";this.dE=new ji([15,7,9]);this.dE.b(!0);this.dE.h(A.E.r,this.ahz,this);
this.V8.appendChild(this.dE.m)}ev.prototype=new cK;ev.prototype.ak6=function(w){if(this.id==w)return;
this.id=w;this.jX(this.Xj)};ev.prototype.XO=function(w){var M=this.Xj[this.sG.Q()],O=new aX(A.E.Z,!0);
O.data={d:A.t.pF,jS:"set",I8:eM.gZ,zm:M};this.l(O)};ev.prototype.f=function(){cK.prototype.f.call(this);
this.dE.f()};ev.prototype.ahz=function(){this.a4=!0;this.WI()};ev.prototype.WI=function(){if(!this.a4)return;
var w=Math.floor(16*R.V()),M=Math.floor(16*R.V()),O=[],b=[],D=this.Xj,o=this.dE.Q();for(var U=0;U<D.length;
U++){var Z=y.a8d(D[U]);if(!o||Z==this.id){b.push(D[U][0]?D[U][0].split("=").pop():"");O.push(Z==-1?"":PIMG[y.S2[Z][0]])}else{O.push(null);
b.push(null)}}this.sG.Uw(O,b,w,M);this.a4=!1};ev.prototype.E_=function(){var w=this.HY;w.setAttribute("src",PIMG[y.S2[this.id][0]]);
R.rV(w,"toolicon")};ev.prototype.X_=function(){return null};ev.Vf={};ev.Td=function(w,M,O){var b=ev.Mn,D=ev.Vf,o=x.zZ(w.o<<16|w.w<<8|w.L);
if(D[o])return D[o];if(b==null){var Z=R.S("canvas");b=ev.Mn=Z.getContext("2d")}var Z=b.canvas;Z.width=M;
Z.height=O;b.fillStyle="#"+o;b.fillRect(0,0,M,O);var $=D[o]=Z.toDataURL();return $};function fW(w,M,O){eE.call(this);
this.m=R.S("span","fitem curveeditor");this.Ot=null;this.a6l=0;this.eC="";this.mode=0;this.G5=w;this.apr=M;
this.aej=O;this.LD=null;this.sU=null;this.avi=0;this.ah7=0;this.na=new at;this.SM=this.M9.bind(this);
this.dM=this.Ye.bind(this);this.BM=256;this.U=R.S("canvas");this.Mn=this.U.getContext("2d");R.fO(this.U);
this.m.appendChild(this.U);this.nQ(256,256);R.c3(this.U,this.JV.bind(this));this.coords=R.S("div");this.coords.setAttribute("style","width:250px");
this.m.appendChild(this.coords);var b=this.GB=O?100:255,D=null;this.TD=new gL("X (in)",0,b,D,0,!1,!0);
this.YV=new gL("Y (out)",0,b,D,0,!1,!0);this.rO=new ji([19,3,0]);this.TD.h(A.E.r,this.mU,this);this.YV.h(A.E.r,this.mU,this);
this.rO.h(A.E.r,this.mU,this);this.coords.appendChild(this.TD.m);if(O)this.coords.appendChild(this.rO.m);
this.coords.appendChild(this.YV.m)}fW.prototype=new eE;fW.prototype.f=function(){this.rO.f();this.TD.f();
this.YV.f()};fW.prototype.nQ=function(w,M){this.BM=Math.round(w);this.Mn.resetTransform();R.GL(this.U,this.BM,this.BM,this.Mn);
this.Mn.scale(this.BM/256,this.BM/256);if(this.LD)this.My()};fW.prototype.mU=function(w){var U=this.a03(),M=this.LD[U],O=255/this.GB;
M.v.Hrzn.v=this.TD.Q()*O;M.v.Vrtc.v=this.YV.Q()*O;if(this.aej)M.v.Cnty.v=this.rO.Q();this.LD.sort(function(b,D){return b.v.Hrzn.v-D.v.Hrzn.v});
this.My();this.l(new aX(A.E.r))};fW.prototype.b=function(w,U){var M=JSON.stringify(w);if(M==JSON.stringify(this.LD))return;
this.mode=w.length==256?1:0;this.LD=JSON.parse(M);if(U!=null)this.sU=this.LD[U];this.My()};fW.prototype.RY=function(w,M,O){this.Ot=w;
this.a6l=M;this.eC=O;this.My()};fW.prototype.Q=function(){return JSON.parse(JSON.stringify(this.LD))};
fW.prototype.a03=function(){return this.LD.indexOf(this.sU)};fW.prototype.JV=function(w){var M=256/this.BM,O=R.Pr(w,this.U);
O.x*=M;O.y*=M;var b=O.x,D=256-O.y;if(this.G5){var o=b;b=256-D;D=o}this.na.ZK(b,D);if(this.mode==0){var Z=0,$=1e9,l;
for(var U=0;U<this.LD.length;U++){var k=this.LD[U].v,E=k.Hrzn.v-b,t=k.Vrtc.v-D,c=Math.sqrt(E*E+t*t);
if(c<$){$=c;Z=U}}if($<15)l=this.LD[Z];else{l=x.kE.pT(b,D,!0);this.LD.push(l);this.LD.sort(function(q,d){return q.v.Hrzn.v-d.v.Hrzn.v})}this.sU=l;
this.ah7=this.LD.slice(0)}R.Gg(document.body,this.SM);R.UB(document.body,this.dM);this.M9(w)};fW.prototype.M9=function(w){var M=256/this.BM,O=R.Pr(w,this.U);
O.x*=M;O.y*=M;var b=O.x,D=256-O.y;if(this.G5){var o=b;b=256-D;D=o}if(this.mode==0){var Z=this.LD,$=this.sU,k=this.ah7,E=k.indexOf($),t=Z.indexOf($)!=-1,c=k.length-1,l=b;
if(E==0){l=Math.max(0,Math.min(k[1].v.Hrzn.v-1,b))}else if(E==c){l=Math.min(255,Math.max(k[c-1].v.Hrzn.v+1,b))}else{var q=b<0||b>255||D<0||D>255;
if(b<=k[E-1].v.Hrzn.v||b>=k[E+1].v.Hrzn.v)q=!0;if(!q&&!t)Z.splice(E,0,$);if(q&&t)Z.splice(E,1)}if(this.apr&&(E==0||E==k.length-1)){}else $.v.Hrzn.v=Math.round(l);
$.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(D)))}else{b=Math.round(b);D=Math.round(D);b=Math.max(0,Math.min(255,b));
D=Math.max(0,Math.min(255,D));var d=this.na.x,V=b,L=this.na.y,e=D;if(b<this.na.x){V=d;d=b;e=L;L=D}this.LD[b]=D;
if(d!=V)for(var H=d;H<=V;H++)this.LD[H]=Math.round(L+(H-d)*(e-L)/(V-d))}this.na.ZK(b,D);this.My();this.l(new aX(A.E.r))};
fW.prototype.Ye=function(w){R.wg(document.body,this.SM);R.oX(document.body,this.dM);this.l(new aX(A.E.r))};
fW.prototype.My=function(){var w=this.Mn,M=this.U;w.fillStyle="#ffffff";w.fillRect(0,0,256,256);var O=256/M.width;
if(this.Ot){w.save();w.translate(0,256);w.scale(1,-1);dp.apZ(w,this.Ot,5700/this.a6l,this.eC);w.restore()}w.strokeStyle="#aaaaaa";
w.lineWidth=1*O;w.beginPath();for(var U=1;U<4;U++){var b=(Math.floor(64*U/O)+.5)*O;w.moveTo(0,b);w.lineTo(255,b);
w.moveTo(b,0);w.lineTo(b,255)}w.stroke();if(this.G5){w.save();w.transform(0,1,-1,0,256,0)}if(this.mode==0){var D=this.LD,o=x.kE.iT(D,256);
w.strokeStyle="#000000";w.beginPath();w.moveTo(0,255.5-o[0]);for(var U=0;U<256;U++)w.lineTo(U,255.5-o[U]);
w.stroke();w.lineWidth=2*O;for(var U=0;U<D.length;U++){var Z=D[U].v;w.fillStyle=this.sU==D[U]?"#333":"#fff";
w.beginPath();w.moveTo(Z.Hrzn.v,255.5-Z.Vrtc.v);w.arc(Z.Hrzn.v,255.5-Z.Vrtc.v,5*O,0,2*Math.PI);w.stroke();
w.fill()}}else{var o=this.LD;w.strokeStyle="#000000";w.beginPath();w.moveTo(0,255.5-o[0]);for(var U=0;
U<256;U++)w.lineTo(U,255.5-o[U]);w.stroke()}if(this.G5)w.restore();var U=this.a03();this.coords.className=U==-1?"disabled":"";
if(U==-1)return;var Z=this.LD[U].v,$=255/this.GB;this.TD.b(Math.round(Z.Hrzn.v/$));this.YV.b(Math.round(Z.Vrtc.v/$));
if(Z.Cnty)this.rO.b(Z.Cnty.v)};function dp(w,M){eE.call(this);this.m=R.S("span","");this.tR=new ao([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5],[12,82]]);
this.tR.h(A.E.r,this.Yk,this);this.m.appendChild(this.tR.m);R.Ca(this.m);var O=R.S("div");this.m.appendChild(O);
O.setAttribute("style","background-color: var(--bg-canvas); margin:6px 0;");this.U=R.S("canvas");var b=this.U;
O.appendChild(b);b.width=Math.round(w*R.V());b.height=Math.round(100*R.V());R.g7(b,b.width,b.height);
b.style.display="block";this.Mn=b.getContext("2d");this.Ot=null;this.nl=0;this.aft=null;this.amC=[];
this.W3=[];var D=["Mean:","Pixels:"],o=this.m;for(var U=0;U<D.length;U++){var Z=new as(D[U]);this.amC.push(Z);
if(M)o.appendChild(Z.m);var $=new as("hi");this.W3.push($);if(M)o.appendChild($.m);R.Ca(o)}}dp.prototype=new eE;
dp.prototype.f=function(){this.tR.f()};dp.prototype.C1=function(w){this.tR.b(w);this.Yk()};dp.prototype.b=function(w,M){this.Ot=w;
this.aft=M;this.Yk()};dp.prototype.Ji=function(w){if(w==this.nl)return;this.nl=w;this.Yk()};dp.prototype.Yk=function(){if(this.Ot==null)return;
var w=this.U,M=this.Mn,O=this.Ot,b=this.aft,D=this.tR.Q(),o=6e3/O[4],Z="#"+x.zZ(this.nl),$=dp.apZ;w.width=w.width;
M.setTransform(w.width/256,0,0,-w.height/100,0,w.height);M.globalCompositeOperation="lighter";if(D==0)$(M,O[0],o/3,Z);
else if(D<4)$(M,O[D],o,Z);else{$(M,O[1],o,"#ff0000");$(M,O[2],o,"#00ff00");$(M,O[3],o,"#0000ff")}M.setTransform(1,0,0,1,0,0);
if(b!=null){if(D==4)D=0;var k=0;for(var U=0;U<256;U++)k+=U*O[D][U];if(D==0)k/=3;this.W3[0].b((k/b).toFixed(1)+"");
this.W3[1].b(b+"")}};dp.apZ=function(w,M,O,b){w.beginPath();w.moveTo(0,0);for(var D=0;D<256;D++)w.lineTo(D,M[D]*O);
w.lineTo(256,0);w.closePath();w.fillStyle=b;w.fill()};function fD(w,M){eE.call(this);this.aj={o:0,w:0,L:0};
if(Math.abs(w-256/R.V())<10)w=256/R.V();var O=this.m=R.S("div","flexrow"),b=this.afH=R.S("div");O.appendChild(b);
this.tx=new at;this.YD=new at;this.d6=this.a04.bind(this);this.A_=this.aeA.bind(this);this.U=R.S("canvas","");
this.Mn=this.U.getContext("2d");this.U.width=this.U.height=256;this.apg=this.Mn.getImageData(0,0,256,256);
this.avV=-1;this.aaW="";R.fO(this.U);R.c3(this.U,this.a44.bind(this));b.appendChild(this.U);this.aoW=this.abb.bind(this);
this.ak4=this.ai1.bind(this);this.Ia=R.S("canvas","");this.Xs=this.Ia.getContext("2d");this.Ia.width=20;
this.Ia.height=256;this.a7y=this.Xs.getImageData(0,0,20,256);fD.afU(this.a7y.data,20,256);R.fO(this.Ia);
R.c3(this.Ia,this.afc.bind(this));O.appendChild(this.Ia);this.U.setAttribute("style","width:"+w+"px; height:"+w+"px");
this.Ia.setAttribute("style","width:16px; height:"+w+"px");this.JB=new ji("Web Colors\u2001");this.JB.h(A.E.r,this.update,this);
this.RT=new ji("CMYK gamut");this.RT.h(A.E.r,this.update,this);if(M){R.Ca(b);b.appendChild(this.JB.m);
b.appendChild(this.RT.m)}}fD.prototype=new eE;fD.prototype.nQ=function(w,M){this.U.style.width=this.afH.style.width=w-16+"px"};
fD.prototype.b=function(w){if(this.JB.Q()){var M=JSON.parse(JSON.stringify(w));fD.hZ(M);var O=this.Q();
if(M.o==O.o&&M.w==O.w&&M.L==O.L)w=this.aj}this.aj=w;this.update()};fD.prototype.Q=function(){var w=JSON.parse(JSON.stringify(this.aj));
if(this.JB.Q())fD.hZ(w);return w};fD.prototype.update=function(){var w=this.aj,M=x.GC(w.o,w.w,w.L);if(M.X$==0)M.h7=this.tx.x/255;
if(M.h7==0||M.X$==0)M.e3=(255-this.hW(this.YD.y))/255;if(M.X$!=0)this.tx.x=M.h7*255;this.tx.y=(1-M.X$)*255;
this.YD.y=(1-M.e3)*255;var O=this.apg,b=this.JB.Q(),D=this.RT.Q(),o=b+","+D;if(Math.abs(M.e3-this.avV)>.002||this.aaW!=o){this.atD(O.data,256,256,M.e3,b,D);
this.avV=M.e3;this.aaW=o}var Z=this.Mn;Z.putImageData(O,0,0);Z.strokeStyle="#000000";Z.beginPath();Z.arc(this.tx.x+1,this.tx.y+1,5,0,2*Math.PI);
Z.stroke();Z.strokeStyle="#ffffff";Z.beginPath();Z.arc(this.tx.x,this.tx.y,5,0,2*Math.PI);Z.stroke();
O=this.a7y;Z=this.Xs;Z.putImageData(O,0,0);Z.strokeStyle="#ffffff";Z.beginPath();Z.moveTo(0,this.YD.y);
Z.lineTo(20,this.YD.y);Z.lineWidth=2;Z.stroke()};fD.hZ=function(w){w.o=~~(.5+w.o*5)*.2;w.w=~~(.5+w.w*5)*.2;
w.L=~~(.5+w.L*5)*.2};fD.prototype.atD=function(w,M,O,b,D,o){var Z=1/M,$=1/O;for(var k=0;k<O;k++)for(var E=0;
E<M;E++){var t=x.Ja(b,E*Z,(O-k-1)*$);if(D)fD.hZ(t);var U=k*M+E<<2;w[U+0]=~~(t.o*255);w[U+1]=~~(t.w*255);
w[U+2]=~~(t.L*255);w[U+3]=255}if(o){var c=w.slice(0),l=fO.Q1[0],q=fO.Q1[1];ICC.U.applyLUT(q,l,c,c);for(var U=0;
U<w.length;U+=4){var d=w[U]-c[U],V=w[U+1]-c[U+1],L=w[U+2]-c[U+2],e=d*d+V*V+L*L;if(e>300)w[U]=w[U+1]=w[U+2]=200}}};
fD.afU=function(w,M,O,b,D){if(b==null)b=1;if(D==null)D=0;var o=new Uint32Array(w.buffer);for(var Z=0;
Z<O;Z++){var $=x.Ja((1+b*(1-Z/O)+D)%1,1,1),k=255<<24|$.L*255<<16|$.w*255<<8|$.o*255;for(var E=0;E<M;
E++)o[Z*M+E]=k}};fD.prototype.a44=function(w){R.Gg(window,this.d6);R.UB(window,this.A_);this.a04(w)};
fD.prototype.aeA=function(w){R.wg(window,this.d6);R.oX(window,this.A_)};fD.prototype.a04=function(w){var M=R.Pr(w,this.U);
M.x=M.x*(256/parseFloat(this.U.style.width));M.y=M.y*(256/parseFloat(this.U.style.height));this.tx.ZK(this.hW(M.x),this.hW(M.y));
this._D()};fD.prototype._D=function(){this.aj=this.ax_();this.l(new aX(A.E.r))};fD.prototype.ax_=function(){var w=x.Ja((255-this.hW(this.YD.y))/255,this.oK(this.tx.x/255),this.oK(1-this.tx.y/255));
return{o:w.o,w:w.w,L:w.L}};fD.prototype.afc=function(w){R.Gg(window,this.aoW);R.UB(window,this.ak4);
this.abb(w)};fD.prototype.ai1=function(w){R.wg(window,this.aoW);R.oX(window,this.ak4)};fD.prototype.abb=function(w){var M=R.Pr(w,this.Ia);
M.y=M.y*(256/parseFloat(this.Ia.style.height));this.YD.ZK(this.hW(M.x),this.hW(M.y));this._D()};fD.prototype.hW=function(w){return Math.max(0,Math.min(255,w))};
fD.prototype.oK=function(w){return Math.max(0,Math.min(1,w))};function hz(w,M,O,b){var D=il.hM(M,b);
il.call(this,w,D,O)}hz.prototype=new il;function aa(){eE.call(this);this.ND=null;this.ix=new fy;this.ix.h(A.E.r,this.aoy,this);
this.ix.parent=this;this.vr=new gL([12,14,0],1,150,"px",0,!0);this.vr.h(A.E.r,this.h5,this);this.vr.parent=this;
this.mn=new gL([16,0],.01,100,"px",2,!0,null,5);this.mn.h(A.E.r,this.h5,this);this.mn.parent=this;this.Qm=new ji("Auto");
this.Qm.h(A.E.r,this.h5,this);this.az=new gL([16,1],-500,5e3,"%",0,!0);this.az.h(A.E.r,this.h5,this);
this.az.parent=this;this.WD=new gL("\u2B0D",1,300,"%",null,null,null,null,[[2,7],[22,4,3]]);this.WD.h(A.E.r,this.h5,this);
this.WD.parent=this;this.YW=new gL("\u2B0C",1,300,"%",null,null,null,null,[[2,7],[22,4,2]]);this.YW.h(A.E.r,this.h5,this);
this.YW.parent=this;this.P3=new gL([16,2],-10,10,"px");this.P3.h(A.E.r,this.h5,this);this.P3.parent=this;
this.TG=new bQ(!0);this.TG.h(A.E.r,this.n7,this);this.TG.parent=this;this.i1=new bQ(!0);this.i1.h(A.E.r,this.n7,this);
this.i1.parent=this;this.hG=new bQ(!0);this.hG.h(A.E.r,this.n7,this);this.hG.parent=this;this.yf=new bQ(!0);
this.yf.h(A.E.r,this.n7,this);this.yf.parent=this;this.gv=new ji([2,3]);this.gv.h(A.E.r,this.h5,this);
this.ph=new ji([14,9]);this.ph.h(A.E.r,this.h5,this);this.Ag=new ji([12,46]);this.Ag.h(A.E.r,this.h5,this);
this.bM=new i8("...",null,null,!0);this.bM.m.style.marginLeft="-8px";R.c3(this.bM.m,this.a3P.bind(this));
this.sV=new eE;var w=this.sV.m=R.S("div","floatcont form"),D=100;this.sV.parent=this;this.KH=new gL([12,41],1,20,"px",0,!0,!0);
this.KH.m.style.marginLeft="16px";this.KH.h(A.E.r,this.h5,this);this.KH.parent=this.sV;w.appendChild(this.i1.m);
w.appendChild(this.gv.m);R.Ca(this.sV.m);w.appendChild(this.hG.m);w.appendChild(this.ph.m);w.appendChild(this.KH.m);
R.Ca(this.sV.m);w.appendChild(this.yf.m);w.appendChild(this.Ag.m);this.j$=new i8("<img src=\""+PIMG["type/bold"]+"\" class=\"autoscale gsicon\" />");
this.Jk=new i8("<img src=\""+PIMG["type/italic"]+"\" class=\"autoscale gsicon\" />");this.kY=new i8("<img src=\""+PIMG["type/caps"]+"\" class=\"autoscale gsicon\" />");
this.Fu=new i8("<img src=\""+PIMG["type/scaps"]+"\" class=\"autoscale gsicon\" />");this.ZB=new i8("<img src=\""+PIMG["type/sub"]+"\" class=\"autoscale gsicon\" />");
this.$R=new i8("<img src=\""+PIMG["type/sup"]+"\" class=\"autoscale gsicon\" />");this.qO=new i8("<img src=\""+PIMG["type/under"]+"\" class=\"autoscale gsicon\" />");
this.lZ=new i8("<img src=\""+PIMG["type/strike"]+"\" class=\"autoscale gsicon\" />");var M=[this.j$,this.Jk,this.kY,this.Fu,this.ZB,this.$R,this.qO,this.lZ];
for(var U=0;U<M.length;U++)M[U].h("click",this.afB,this);this.dq=new i8("<img src=\""+PIMG["par/left"]+"\" class=\"autoscale gsicon\" />");
this.X7=new i8("<img src=\""+PIMG["par/right"]+"\" class=\"autoscale gsicon\" />");this.Re=new i8("<img src=\""+PIMG["par/center"]+"\" class=\"autoscale gsicon\" />");
this.a6e=new i8("<img src=\""+PIMG["par/jleft"]+"\" class=\"autoscale gsicon\" />");this.arE=new i8("<img src=\""+PIMG["par/jright"]+"\" class=\"autoscale gsicon\" />");
this.amb=new i8("<img src=\""+PIMG["par/jcenter"]+"\" class=\"autoscale gsicon\" />");this.aaR=new i8("<img src=\""+PIMG["par/jall"]+"\" class=\"autoscale gsicon\" />");
this.PO=[this.dq,this.X7,this.Re,this.a6e,this.arE,this.amb,this.aaR];for(var U=0;U<this.PO.length;U++)this.PO[U].h("click",this.h5,this);
var O=["lind","rind","flind","bind","aind"],b=[];for(var U=0;U<5;U++)b.push("<img src=\""+PIMG["par/"+O[U]]+"\" class=\"autoscale gsicon\" /> ");
this.Np=new gL(b[0],-D,D,"px");this.v7=new gL(b[1],-D,D,"px");this.uL=new gL(b[2],-D,D,"px");this._F=new gL(b[3],-D,D,"px");
this.qS=new gL(b[4],-D,D,"px");this.mE=new il([12,33],["Abc ...","... \u0623\u064A \u0628\u064A"]);this.jq=new gL(["Auto VAR0",[16,0]],0,500,"%");
this.bj=[this.Np,this.v7,this.uL,this._F,this.qS,this.mE,this.jq];for(var U=0;U<this.bj.length;U++){var o=this.bj[U];
o.h(A.E.r,this.h5,this);o.parent=this}}aa.prototype=new eE;aa.prototype.a3P=function(w){if(R.FP(this.sV.m))return;
w.stopPropagation();var M=this.bM.m.getBoundingClientRect(),O=new aX(A.E.Z,!0);O.data={d:A.t.U6,YT:this.sV,x:M.left,y:M.top+M.height+4};
this.l(O)};aa.prototype.f=function(){this.ix.f();this.vr.f();this.mn.f();this.az.f();this.P3.f();this.WD.f();
this.YW.f();this.gv.f();this.ph.f();this.Ag.f();this.KH.f();for(var U=0;U<this.bj.length;U++)this.bj[U].f()};
aa.prototype.b=function(w,M,O){this.ib=JSON.parse(JSON.stringify(w));var b=this.ib,D=b.Qc,o=b.xy;this.j$.b(D.FauxBold!=null?D.FauxBold:!1);
this.Jk.b(D.FauxItalic!=null?D.FauxItalic:!1);this.kY.b(D.FontCaps==2);this.Fu.b(D.FontCaps==1);this.$R.b(D.FontBaseline==1);
this.ZB.b(D.FontBaseline==2);this.qO.b(D.Underline);this.lZ.b(D.Strikethrough);this.ix.b(D.Font==null?null:b.ju[D.Font].Name,M,O);
var Z=D.FontSize==null?20:D.FontSize;this.vr.b(Z);var $=D.Tracking;this.az.b($==null?0:$);this.KH.b(D._LineWidth!=null?D._LineWidth:1);
this.mn.b(D.Leading!=null&&D.Leading!=0?D.Leading:Z);this.Qm.b(D.AutoLeading);this.WD.b((D.VerticalScale!=null?D.VerticalScale:0)*100);
this.YW.b((D.HorizontalScale!=null?D.HorizontalScale:0)*100);this.P3.b(D.BaselineShift!=null?D.BaselineShift:0);
this.gv.b(D.FillFlag!=null?D.FillFlag:!1);this.ph.b(D.StrokeFlag!=null?D.StrokeFlag:!1);this.Ag.b(D._FillBackgroundFlag!=null?D._FillBackgroundFlag:!1);
this.kW(D.FillColor,this.TG);this.kW(D.FillColor,this.i1);this.kW(D.StrokeColor,this.hG);this.kW(D._FillBackgroundColor,this.yf);
var k=o._Direction!=null?o._Direction:0,E=ah.cp(o);for(var U=0;U<this.PO.length;U++)this.PO[U].b(E==U);
this.mE.b(k);this.jq.b((o.AutoLeading!=null?o.AutoLeading:1.2)*100);this.Np.b(o.StartIndent!=null?o.StartIndent:0);
this.v7.b(o.EndIndent!=null?o.EndIndent:0);this.uL.b(o.FirstLineIndent!=null?o.FirstLineIndent:0);this._F.b(o.SpaceBefore!=null?o.SpaceBefore:0);
this.qS.b(o.SpaceAfter!=null?o.SpaceAfter:0)};aa.prototype.kW=function(w,M){if(w){var O=ah.FL(w);M.Ji(Math.round(O.o)<<16|Math.round(O.w)<<8|Math.round(O.L))}else M.Ji(0)};
aa.prototype.LR=function(){var w=new aX(A.E.Z,!0);w.data={d:A.t.pF,I8:eM.Xo,ib:this.ib};this.l(w);var w=new aX(A.E.s,!0);
w.k=y.hY;w.data={d:"updateStyles"};this.l(w)};aa.prototype.afB=function(w){var M=this.ib.Qc,O=w.target,b=!O.qm();
if(O==this.j$)M.FauxBold=b;if(O==this.Jk)M.FauxItalic=b;if(O==this.kY)M.FontCaps=b?2:0;if(O==this.Fu)M.FontCaps=b?1:0;
if(O==this.$R)M.FontBaseline=b?1:0;if(O==this.ZB)M.FontBaseline=b?2:0;if(O==this.qO)M.Underline=b;if(O==this.lZ)M.Strikethrough=b;
this.LR()};aa.prototype.h5=function(w){var M=this.ib.Qc,O=this.ib.xy,b=w.target;if(b==this.az){var D=this.az.Q();
M.Tracking=D}if(b==this.mn){M.AutoLeading=!1;M.Leading=this.mn.Q()}if(b==this.Qm){M.AutoLeading=this.Qm.Q()}if(b==this.KH)M._LineWidth=b.Q();
if(b==this.vr)M.FontSize=b.Q();if(b==this.WD)M.VerticalScale=b.Q()/100;if(b==this.YW)M.HorizontalScale=b.Q()/100;
if(b==this.P3)M.BaselineShift=b.Q();if(b==this.gv)M.FillFlag=b.Q();if(b==this.ph)M.StrokeFlag=b.Q();
if(b==this.Ag)M._FillBackgroundFlag=b.Q();if(this.PO.indexOf(b)!=-1){O.Justification=ah.cp(O,this.PO.indexOf(b))}if(b==this.Np)O.StartIndent=b.Q();
if(b==this.v7)O.EndIndent=b.Q();if(b==this.uL)O.FirstLineIndent=b.Q();if(b==this._F)O.SpaceBefore=b.Q();
if(b==this.qS)O.SpaceAfter=b.Q();if(b==this.mE)O._Direction=b.Q();if(b==this.jq)O.AutoLeading=b.Q()/100;
this.LR()};aa.prototype.aoy=function(w){var M=this.ib,O=this.ix.Q(),b=-1;for(var U=0;U<M.ju.length;U++)if(M.ju[U].Name==O)b=U;
if(b==-1){b=M.ju.length;var D=JSON.parse(JSON.stringify(M.ju[0]));D.Name=O;M.ju.splice(b,0,D)}M.Qc.Font=b;
this.LR()};aa.prototype.n7=function(w){var M=w.target,O=M.aiT(),b={Type:1,Values:[1,(O>>16&255)/255,(O>>8&255)/255,(O>>0&255)/255]};
for(var U=0;U<4;U++)b.Values[U]=Math.round(b.Values[U]*1e3)/1e3;var D=M==this.TG||M==this.i1?0:M==this.hG?1:2;
this.ib.Qc[["FillColor","StrokeColor","_FillBackgroundColor"][D]]=b;this.LR()};function fy(){eE.call(this);
this.m=R.S("span","fontinput");this.W7=null;this.Ai=null;this.hX=null;this.sM="";this.v0={};this.vq=[];
this.U2={};this.a6z={};this.ie=!1;this.W0=R.S("button","fitem");this.W0.setAttribute("style","width:9em;");
this.W0.textContent="Family Name \u25BC";this.m.appendChild(this.W0);R.c3(this.W0,this.agd.bind(this));
this.uh=new eE;this.uh.parent=this;this.uh.m=R.S("div","floatcont");this.X4=new fv(6.8);this.uh.m.appendChild(this.X4.aku());
this.X4.parent=this.uh;this.X4.h(A.E.r,this.MY,this);var w=R.S("div","form");this.uh.m.appendChild(w);
this.EI=new i8(R._7("tools/cshape",null,"autoscale"),!1,"Show Favorites Only");this.EI.h("click",this.arH,this);
w.appendChild(this.EI.m);this.ua=new d8([12,86],null,8.4);this.ua.h("input",this.sa,this);w.appendChild(this.ua.m);
var M=this.a4F=new i8([[23,6],[22,6,0]],!1,"Load OTF / TTF file from your computer",!0);M.h("click",this.a2G,this);
M.m.style.marginLeft="1.5em";M.m.style.marginRight="0";w.appendChild(M.m);this.xi=R.S("span","fitem imageset scrollable");
this.xi.style.height="30em";this.uh.m.appendChild(this.xi);this.xi.addEventListener("scroll",this.arA.bind(this),!1);
this.mt=R.S("button","fitem");this.mt.setAttribute("style","width:7em;");this.mt.textContent="SubFamily Name \u25BC";
this.m.appendChild(this.mt);R.c3(this.mt,this.agd.bind(this));this.eO=new eE;this.eO.parent=this;this.eO.m=R.S("div","floatcont");
this.eL=R.S("span","fitem imageset scrollable marged");this.eO.m.appendChild(this.eL);this.ar6=this.auM.bind(this);
this.awB=this.afh.bind(this)}fy.prototype=new eE;fy.prototype.arA=function(w){var M=this.xi.scrollTop,O=this.vq,b=Math.floor(M/27),D=Math.min(b+20,O.length);
for(var U=b;U<D;U++)this.axX(O[U])};fy.prototype.a2G=function(){var w=new aX(A.E.Z,!0);w.data={d:A.t.wP,akB:".otf,.ttf,.ttc"};
this.l(w)};fy.prototype.f=function(){this.X4.f();this.a4F.f();this.EI.RD(R._7("tools/cshape",null,"autoscale"))};
fy.prototype.arH=function(w){this.EI.b(!this.EI.qm());this.MY()};fy.prototype.sa=function(w){this.sM=this.ua.Q().toLowerCase();
this.MY()};fy.prototype.agd=function(w){R.qq(w);var M=w.currentTarget,O=M.getBoundingClientRect(),b=M==this.W0,D=b?this.uh:this.eO;
if(R.FP(D.m)){this.a8K(D);return}if(!b&&this.W7.Tz()[this.hX]==null)return;var o=new aX(A.E.Z,!0);o.data={d:A.t.U6,YT:D,x:O.left,y:O.top+O.height};
this.l(o);if(b){this.MY(null,!0)}};fy.prototype.auM=function(w){var M=w.currentTarget.firstChild.nextSibling.textContent;
if(w.target.tagName.toLowerCase()=="button"){var O=this.Ai.slice(0),b=O.indexOf(M);if(b==-1){O=O.slice(Math.max(0,O.length-29));
O.push(M)}else O.splice(b,1);var D=new aX(A.E.Z,!0);D.data={d:A.t.pF,I8:eM.lt,XU:O};this.l(D);this.ie=!0;
this.MY()}else{this.a9K(M,null)}};fy.prototype.afh=function(w){this.a9K(null,w.currentTarget.firstChild.textContent)};
fy.prototype.a9K=function(w,M){var O=w==null?this.eO:this.uh,b=this.W7;if(w==null)w=b.Tz()[this.hX][0];
else{var D=b.Cp(w),o=b.Tz()[this.hX];M=iR.HD(D,o?o[1]:"regular")}var Z=b.XR(w,M)[2];this.b(Z,b);this.l(new aX(A.E.r,!1));
this.a8K(O);this.MY()};fy.prototype.a8K=function(w){var M=new aX(A.E.Z,!0);M.data={d:A.t.QM,YT:w};this.l(M)};
fy.prototype.Q=function(){return this.hX};fy.prototype.b=function(w,M,O){var b=this.W7;if(w!=null)this.hX=w;
else w=this.hX;this.W7=M;this.Ai=O;if(w!=null){var D=M.Tz()[w],o,Z;if(D==null){o="- "+w;Z="-------"}else{o=D[0];
Z=D[1];var $=M.Cp(o);$.sort(iR.ad8);this.eL.textContent="";for(var U=0;U<$.length;U++){var D=M.XR(o,$[U]);
if(!this.X4.n5(D))continue;var k=this.a21(D,!1);this.eL.appendChild(k)}}this.W0.textContent=o.substring(0,15)+" \u25BC";
this.W0.setAttribute("title",o+", \""+w+"\"");this.mt.textContent=Z.substring(0,10)+" \u25BC";this.mt.setAttribute("title",Z)}};
fy.prototype.MY=function(w,M){var O=this.W7.Tz()[this.hX],b=this.Ai,D=this.W7.Qf();this.vq=[];for(var o in D){var Z=b.indexOf(o)!=-1,$=this.W7.Cp(o),k=!1;
for(var U=0;U<$.length;U++){var E=this.W7.XR(o,$[U]),t=!0;if(this.sM.length>0&&E[0].toLowerCase().indexOf(this.sM)==-1)t=!1;
else if(!this.X4.n5(E))t=!1;else if(this.EI.qm()&&!Z)t=!1;if(t)k=!0}var c=this.v0[o];if(c==null){var l=iR.HD(D[o],"regular"),q=this.W7.XR(o,l),c=this.a21(q,!0);
this.v0[o]=c;this.xi.appendChild(c);this.U2[o]="[true,false,false]"}if(k)this.vq.push(o);var d=O!=null&&O[0]==o;
this.a6z[o]="["+k+","+d+","+Z+"]";if(!M)this.axX(o)}if(O&&!this.ie){var V=this.v0[O[0]];this.xi.scrollTop=V.offsetTop-210}this.arA();
this.ie=!1};fy.prototype.axX=function(w){var M=this.v0[w];if(M.firstChild==null){var O=this.W7.Qf(),b=iR.HD(O[w],"regular"),D=this.W7.XR(w,b);
this.anP(M,D,!0)}var o=this.U2[w],Z=this.a6z[w];if(o==Z)return;var $=JSON.parse(o),k=JSON.parse(Z);if($[0]!=k[0]||$[1]!=k[1]){var E=k[0]?"":"display:none; ";
if(k[1])E+="background-color:rgba(0,0,0,0.13);";M.setAttribute("style",E)}if($[2]!=k[2])M.firstChild.setAttribute("style","opacity: "+(k[2]?"1":"0.2"));
this.U2[w]=Z};fy.prototype.a21=function(w,M){var O=R.S("div","fontitem");if(!M)this.anP(O,w,M);return O};
fy.prototype.anP=function(w,M,O){var b=M[O?0:1],D=O?this.ar6:this.awB,k="";w.addEventListener("click",D,!1);
if(O)w.appendChild(R.S("button","star"));var o=R.S("span","label");o.setAttribute("title",b);o.textContent=b;
w.appendChild(o);var Z=R.V(),$=1/Z,E=iR.dl*$,t=iR.Gz*$;if(1<Z&&Z<1.5)k="width:"+E+"px; height:"+t+"px;";
var c=R.S("span","thumb gsicon");if(M.akR){k+="background: url("+M.akR+");";if(1<Z&&Z<1.5)k+="background-size: "+E+"px "+t+"px;"}else{var l=Math.ceil(FNTS.list.length/iR.cols),q=Math.floor(M.zS/l),d=M.zS%l,V=q*iR.dl,L=d*iR.Gz;
if(1<Z&&Z<1.5){k+="background-size: "+iR.cols*E+"px "+l*t+"px;";V*=$;L*=$}k+="background-position:-"+V+"px -"+L+"px;"}c.setAttribute("style",k);
w.appendChild(c)};function fv(w){eE.call(this);this.m=R.S("button","fitem bbtn");this.m.addEventListener("click",this.a4k.bind(this),!1);
this.sV=new eE;this.sV.m=R.S("div","floatcont");this.sV.parent=this;this.Mp=R.S("div","flexrow");this.sV.m.appendChild(this.Mp);
this.N4=[];this.Ow=[];var M=this.Mp,O=R.S("div",""),b=R.S("div","");M.appendChild(O);M.appendChild(b);
this.hg=[];for(var U=0;U<FNTS.cats.length;U++)this.hg.push({name:FNTS.cats[U],index:U,r6:0});this.Xk=new ji([7,0]);
this.Xk.b(!0);this.Xk.h(A.E.r,this.aqj,this);O.appendChild(this.Xk.m);this.rN=R.S("div","vlist marged scrollable");
this.rN.setAttribute("style","width:10.3em; height:"+w+"em; ");O.appendChild(this.rN);this.SS=[];for(var U=0;
U<this.hg.length;U++){var D=this.hg[U],o=new ji(D.name);this.SS.push(o);o.h(A.E.r,this.ae1,this);o.b(!0);
this.rN.appendChild(o.m);this.N4.push(1)}this.a2$=new ji([7,0]);this.a2$.h(A.E.r,this.aqu,this);this.dN=R.S("div","vlist marged scrollable");
this.dN.setAttribute("style","width:8.6em; height:"+(w+1.5)+"em; ");b.appendChild(this.dN);this.UR=[];
for(var U=0;U<FNTS.subsetNames.length;U++){var o=new ji(FNTS.subsetNames[U]);this.UR.push(o);o.h(A.E.r,this.a7E,this);
o.b(!1);this.dN.appendChild(o.m);this.Ow.push(o.Q()?1:0)}}fv.prototype=new eE;fv.prototype.afb=function(w){var M=this.UR;
for(var U=0;U<M.length;U++){var O=(w>>>U&1)==1;this.Ow[U]=O;M[U].b(O)}};fv.prototype.aku=function(){return this.Mp};
fv.prototype.f=function(){this.m.textContent=fr.get([25,1,0])+" \u25BC";this.Xk.f();this.a2$.f()};fv.prototype.a4k=function(w){var M=this.m.getBoundingClientRect(),O=new aX(A.E.Z,!0);
O.data={d:A.t.U6,YT:this.sV,x:M.left,y:M.top+M.height,uo:!1};this.l(O)};fv.prototype.n5=function(w){if(this.N4[w[4]]==0)return!1;
else for(var M=0;M<this.Ow.length;M++)if(this.Ow[M]==1&&(w[3]>>>M&1)==0)return!1;return!0};fv.prototype.aqj=function(w){var M=w.target.Q(),O=this.SS,b=this.N4;
for(var U=0;U<O.length;U++){O[U].b(M);b[U]=M?1:0}this.l(new aX(A.E.r,!1))};fv.prototype.aqu=function(w){var M=w.target.Q(),O=this.UR,b=this.Ow;
for(var U=0;U<O.length;U++){O[U].b(M);b[U]=M?1:0}this.l(new aX(A.E.r,!1))};fv.prototype.ae1=function(w){var U=this.SS.indexOf(w.target),M=this.hg[U].index;
this.N4[M]=1-this.N4[M];this.l(new aX(A.E.r,!1));this.avl(this.SS,this.Xk)};fv.prototype.a7E=function(w){var U=this.UR.indexOf(w.target);
this.Ow[U]=1-this.Ow[U];this.l(new aX(A.E.r,!1))};fv.prototype.avl=function(w,M){var O=!0;for(var U=0;
U<w.length;U++)O=O&&w[U].Q();M.b(O)};function be(w,M,O){cK.call(this,M,!0,"gradientbutton",18,10,eM.pB);
this.Sw=-1;this.fj=-1;this.apo=null;this.a7f=w;this.KX=O}be.prototype=new cK;be.prototype.XO=function(w){var M=this.Xj;
this.b(M[this.sG.Q()]);this.l(new aX(A.E.r))};be.prototype.YG=function(w){var M=new aX(A.E.Z,!0);M.data={d:A.t.JE,IP:"gradienteditor",M:this.cv,at:this.a4b.bind(this),xt:this.KX};
this.l(M)};be.prototype.a4b=function(w){this.b(w);this.l(new aX(A.E.r))};be.prototype.WI=function(){if(!this.a4)return;
var w=Math.floor(36*R.V()),M=Math.floor(36*R.V()),O=[],b=[],D=this.Xj;for(var U=0;U<D.length;U++){var o=D[U];
b.push(o.Nm?o.Nm.v.split("=").pop():"");var Z=y.Cw.Td(o,w,M,Math.PI/4,this.Sw,this.fj);O.push(Z)}this.sG.Uw(O,b,w,M);
this.a4=!1};be.prototype.sx=function(w,M){this.aap(this.cv,w,M)};be.prototype.b=function(w){this.aap(w,this.Sw,this.fj)};
be.prototype.aap=function(w,M,O){this.Sw=M;this.fj=O;if(w==null)return;var b=JSON.stringify(w),D=b+M+","+O;
if(D==this.apo)return;this.apo=D;this.cv=JSON.parse(b);var o=Math.floor(80*R.V()),Z=Math.floor(16*R.V()),$=y.Cw.Td(this.cv,o,Z,0,this.Sw,this.fj);
this.HY.setAttribute("src",$);R.g7(this.HY,o,Z)};be.prototype.Q=function(){var w;if(this.a7f)w=y.Cw.asA(this.cv,this.Sw,this.fj);
else w=JSON.parse(JSON.stringify(this.cv));return w};function ih(w){cK.call(this,w,!1,"swatchbutton",16,8.75,eM.aV)}ih.prototype=new cK;
ih.prototype.XO=function(w){this.b(this.Xj[w.target.Q()]);this.l(new aX(A.E.r))};ih.prototype.WI=function(){if(!this.a4)return;
var w=Date.now(),M=Math.floor(10*R.V()),O=Math.floor(10*R.V()),b=[],D=[],o=this.Xj;for(var U=0;U<o.length;
U++){D.push(o[U].tf?o[U].tf.split("=").pop():"");b.push(ih.Td(o[U],M,O))}this.sG.Uw(b,D,M,O);this.a4=!1};
ih.prototype.b=function(w){this.cv=JSON.parse(JSON.stringify(w));this.E_()};ih.prototype.E_=function(){var w=Math.floor(24*R.V()),M=Math.floor(20*R.V()),O=ih.Td(this.cv,w,M);
this.HY.setAttribute("src",O);R.g7(this.HY,w,M)};ih.prototype.Q=function(){return JSON.parse(JSON.stringify(this.cv))};
ih.Vf={};ih.Td=function(w,M,O){var b=ih.Mn,D=ih.Vf,o=x.zZ(w.o<<16|w.w<<8|w.L);if(D[o])return D[o];if(b==null){var Z=R.S("canvas");
b=ih.Mn=Z.getContext("2d")}var Z=b.canvas;Z.width=M;Z.height=O;b.fillStyle="#"+o;b.fillRect(0,0,M,O);
var $=D[o]=Z.toDataURL();return $};function bb(w,M,O){eE.call(this);this.m=R.S(O?"div":"span");var b=this.RM=R.S("input");
this.RM.setAttribute("type","file");if(M)b.setAttribute("multiple","");this.RM.addEventListener("change",this.ahY.bind(this),!1);
this.a14=this.abM.bind(this);this.dF={};this.hQ=0;var D=new i8(w,null,null,!0);this.m.appendChild(D.m);
D.addEventListener("click",function(o){b.click()});if(O){this.MZ=R.S("div","scrollable");this.MZ.setAttribute("style","height:120px; width:100%; line-height:1.5em;");
this.m.appendChild(this.MZ);this.Yk()}}bb.prototype=new eE;bb.prototype.b=function(w){};bb.prototype.Q=function(w){return this.dF};
bb.prototype.ahY=function(w){var M=w.target.files;this.hQ=M.length;this.dF={};for(var U=0;U<M.length;
U++){var O=M[U],b=new FileReader;b.onload=this.a14;b.I1=O.name;b.readAsArrayBuffer(O)}};bb.prototype.abM=function(w){var M=this.dF[w.target.I1]=new Uint8Array(w.target.result);
this.hQ--;if(this.hQ==0){if(this.MZ)this.Yk();this.l(new aX(A.E.r))}};bb.prototype.Yk=function(){var w=this.MZ;
R.Mh(w);for(var M in this.dF){var O=R.S("div");O.textContent=M;w.appendChild(O)}};function kp(w,M,O,b,D){if(w==null)w=!1;
if(M==null)M=!1;if(O==null)O=!1;eE.call(this);this.ri=new at;this.ra=new at;this.de=72;this.o1=72;this.P5=!0;
this.g5=!1;this.m=R.S("span");this.Kq=new gL([12,41],0,0,null,0,!1,!0);this.m.appendChild(this.Kq.m);
this.Kq.h(A.E.r,this.gL,this);var o=["px","%"];if(w)o=o.concat(["mm","in"]);if(D){o=[[12,76,2],[12,76,6]];
if(w)o=o.concat([[12,76,5],[12,76,3]])}this.Bm=new ao(null,o);this.m.appendChild(this.Bm.m);R.Ca(this.m);
this.Bm.h(A.E.r,this.gL,this);this.p9=new gL([12,42],0,0,null,0,!1,!0);this.m.appendChild(this.p9.m);
this.p9.h(A.E.r,this.gL,this);var Z=new i8("\u21F5",!1,null,!0);Z.h("click",this.aje,this);this.Cn=new i8("<img src=\""+PIMG["lrs/chain"]+"\" class=\"autoscale gsicon\" />",!1,[12,51]);
this.Cn.h("click",this.gL,this);this.RR=new as("");this.RR.m.style.margin="0";this.RR.m.style.padding="0";
if(M){this.m.appendChild(this.Cn.m);this.m.appendChild(this.RR.m);this.Cn.L5()}else this.m.appendChild(Z.m);
this.X6=new gL("DPI",0,0,null,3,!1,!0,4);if(w&&b==null){R.Ca(this.m);this.m.appendChild(this.X6.m)}this.X6.h(A.E.r,this.gL,this);
this.MD=new ji([12,23,1]);this.MD.h(A.E.r,this.gL,this);if(O){R.Ca(this.m);this.m.appendChild(this.MD.m)}R.Ca(this.m)}kp.prototype=new eE;
kp.prototype.Fb=function(){this.Kq.Fb()};kp.prototype.aq2=function(w,M){this.P5=w;if(M!=null)this.g5=M;
if(!this.P5&&!this.g5&&this.Bm.Q()==0){this.Bm.b(3);this.Ks()}};kp.prototype.am8=function(w){this.Cn.b(w)};
kp.prototype.f=function(){this.Kq.f();this.p9.f();this.X6.f();this.Cn.f();this.MD.f();this.Bm.f()};kp.prototype.aje=function(w){var M=this.ra.x;
this.ra.x=this.ra.y;this.ra.y=M;this.Ks();this.l(new aX(A.E.r,!1))};kp.prototype.gL=function(w){if(w.target==this.Bm&&!this.P5&&!this.g5&&this.Bm.Q()==0)this.Bm.b(3);
if(w.target==this.Bm||w.target==this.MD){this.Ks();return}if(w.target==this.Cn)w.target.b(!w.target.Q());
var M=this.ri,O=parseFloat(this.Kq.Q());if(isNaN(O))O=1;var b=parseFloat(this.p9.Q());if(isNaN(b))b=1;
var D=this.Bm.Q();if(this.P5){var o=this.o1;if(D==1){O=this.ri.x*(O/100);b=this.ri.y*(b/100)}var Z=[1,1,25.4/o,1/o][D];
O/=Z;b/=Z;if(this.MD.Q()){O+=this.ri.x;b+=this.ri.y}if(w.target==this.X6){var $=this.X6.Q();if(!this.g5){var k=$/o;
O*=k;b*=k}o=$}if(this.Cn.Q()){if(w.target==this.Kq)b=O*(M.y/M.x);else O=b*(M.x/M.y)}O=Math.max(Math.abs(O),1);
b=Math.max(Math.abs(b),1)}else{var o=this.de;if(w.target==this.X6)o=this.X6.Q();else{if(this.Cn.Q()){if(w.target==this.Kq)b=O*(M.y/M.x);
else O=b*(M.x/M.y)}var Z=[1,1,25.4/o,1/o][D],E=O/(D==1?100:M.x*Z);o=o/E}O=M.x;b=M.y}this.ra=new at(Math.round(O),Math.round(b));
this.o1=o;this.Ks();this.l(new aX(A.E.r,!1))};kp.prototype.alp=function(U){this.Bm.b(U);this.Ks()};kp.prototype.b=function(w,M,O){if(O!=!0)this.ri=w.clone();
this.ra=w.clone();if(M!=null){this.de=M;this.o1=M}this.Ks()};kp.prototype.Ks=function(){var w=this.ra.x,M=this.ra.y,O=this.o1,b=(w/M).toFixed(3);
while(b.charAt(b.length-1)=="0")b=b.substring(0,b.length-1);if(b.charAt(b.length-1)==".")b=b.substring(0,b.length-1);
var D="  "+b+" : 1",o=function(t,c){while(c!=0){var l=c;c=t%c;t=l}return t},Z=o(w,M);if(Math.min(w,M)/Z<10)D="  "+Math.round(w/Z)+" : "+Math.round(M/Z);
this.RR.b(D);if(this.MD.Q()){w-=this.ri.x;M-=this.ri.y}var $=this.Bm.Q();if($==1){if(this.P5){w=100*w/this.ri.x;
M=100*M/this.ri.y}else{w=M=100*this.de/this.o1}}else{w=Math.round(w);M=Math.round(M)}var k=[1,1,25.4/O,1/O][$];
w*=k;M*=k;var E=$==1||$==3?2:0;this.Kq.dh(E);this.p9.dh(E);this.Kq.b(w);this.p9.b(M);this.X6.b(O)};kp.prototype.Q=function(){return this.ra.clone()};
kp.prototype.RL=function(){return this.o1};function h6(w,M,O){eE.call(this);var b=w==0?["W","X","H","Y"]:["\u250F","\u2513","\u2517","\u251B"];
this.fv=w;this.alE=M;this.U4=1;this.UH=[1,1,0];var D=this.m=R.S("div","numlist"),o=this.Zb=[];for(var U=0;
U<4;U++){var Z=new gL(b[U],0,0,null,2,!1,!0,4,null,O&&(U==0||U==2));Z.h(A.E.r,this.gL,this);D.appendChild(Z.m);
o[U]=Z;if(U==1||U==3)R.Ca(D)}o[4]=new ji(w==0?[12,51]:[12,91,2]);o[4].b(!0);D.appendChild(o[4].m)}h6.prototype=new eE;
h6.prototype.f=function(){var w=this.Zb;for(var U=0;U<5;U++)w[U].f();if(this.fv==0)R.AH(w[0],w[2])};
h6.prototype.b=function(w,M,O){if(M)this.UH=M;M=this.UH;var b=O?w:this.fv==0?[w[2],w[0],w[3],w[1]]:[w[0],w[1],w[3],w[2]];
this.U4=b[0]/b[2];for(var U=0;U<4;U++){var D=this.Zb[U];D.dh(M[2]==0&&this.alE?0:2);D.b(x.Rk.a7P(b[U],M[0],M[1],M[2]))}};
h6.prototype.Q=function(w){var M=[],O=this.UH;for(var U=0;U<4;U++){var b=x.Rk.pw(this.Zb[U].Q(),O[0],O[1],O[2]);
M[U]=this.alE?Math.round(b):b}return w?M:this.fv==0?[M[1],M[3],M[0],M[2]]:[M[0],M[1],M[3],M[2]]};h6.prototype.gL=function(w){var M=this.fv,O=this.Zb.indexOf(w.currentTarget),b=this.Q(!0),D=this.Zb[4].Q();
if(M==0){b[0]=Math.max(1,b[0]);b[2]=Math.max(1,b[2]);if(D&&O==0)b[2]=b[0]/this.U4;if(D&&O==2)b[0]=b[2]*this.U4}if(M==1){b[O]=Math.max(0,b[O]);
if(D)for(var U=0;U<4;U++)b[U]=b[O]}this.b(b,null,!0);this.l(new aX(A.E.r,!1))};function hW(){eE.call(this);
this.Pb=0;this.W3=[0,0,1,1,100,100];this.m=R.S("span","fitem");this.Or=new ao(null,[[12,89,0],[12,89,1],[12,89,2]]);
this.m.appendChild(this.Or.m);this.Or.h(A.E.r,this.gL,this);this.Kq=new gL("W",0,0,null,0,!1,!0);this.m.appendChild(this.Kq.m);
this.Kq.h(A.E.r,this.gL,this);this.p9=new gL("H",0,0,null,0,!1,!0);this.m.appendChild(this.p9.m);this.p9.h(A.E.r,this.gL,this);
this.b({GG:0,x:0,y:0})}hW.prototype=new eE;hW.prototype.f=function(){R.AH(this.Kq,this.p9);this.Or.f()};
hW.prototype.gL=function(w){if(w.target==this.Or){var M=this.Q(),O=this.W3;O[this.Pb*2]=M.x;O[this.Pb*2+1]=M.y;
this.Pb=M.GG;this.b({GG:M.GG,x:O[M.GG*2],y:O[M.GG*2+1]})}if(this.Kq.Q()<1)this.Kq.b(1);if(this.p9.Q()<1)this.p9.b(1);
this.l(new aX(A.E.r,!1))};hW.prototype.b=function(w){this.Or.b(w.GG);this.Kq.b(w.x);this.p9.b(w.y);if(w.GG==0){this.Kq.Sq();
this.p9.Sq()}else{this.Kq._C();this.p9._C()}};hW.prototype.Q=function(){return{GG:this.Or.Q(),x:this.Kq.Q(),y:this.p9.Q()}};
function is(w){eE.call(this);this.m=R.S("span","");this.ato=w;this.Tp=new cq("Off X",-100,100,w?"%":"px",0,!1);
this.yB=new cq("Off Y",-100,100,w?"%":"px",0,!1);this.Tp.h(A.E.r,this.gL,this);this.yB.h(A.E.r,this.gL,this);
this.m.appendChild(this.Tp.m);this.m.appendChild(this.yB.m)}is.prototype=new eE;is.prototype.f=function(){this.Tp.f();
this.yB.f()};is.prototype.gL=function(w){this.l(new aX(A.E.r,!1))};is.prototype.an$=function(w){this.Tp.b(w.x);
this.yB.b(w.y)};is.prototype.acQ=function(){return new at(this.Tp.Q(),this.yB.Q())};is.prototype.b=function(w,M){var O=w.Hrzn.v,b=w.Vrtc.v;
if(this.ato){O=O.val;b=b.val}this.Tp.b(O);this.yB.b(b);if(M==!0)this.gL()};is.prototype.Q=function(){var w=this.Tp.Q(),M=this.yB.Q();
if(this.ato)return{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:w}},Vrtc:{t:"UntF",v:{type:"#Prc",val:M}}};
else return{classID:"Pnt",Hrzn:{v:w,t:"doub"},Vrtc:{v:M,t:"doub"}}};function e3(){eE.call(this);this.m=R.S("span","fitem strokebutton");
this.Ed=[[null,null,null,""],[null,0,null,"4 2"],[1,1,null,"0 2"]];this.Zi=JSON.parse(JSON.stringify(aN.d_.default));
this.Zr=R.S("button");this.m.appendChild(this.Zr);R.c3(this.m,this.kk.bind(this));var w=R.S("canvas","gsicon");
this.Mn=w.getContext("2d");this.Zr.appendChild(w);var M=R.S("span");M.textContent=" \u25BC";this.Zr.appendChild(M);
this.sV=new eE;this.sV.parent=this;this.sV.m=R.S("div","floatcont form");var O=this.sV.m;O.setAttribute("style","width: 14em;");
this.v0=[new ao([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new il([19,9,0],["<img src=\""+PIMG["caps/butt"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/square"]+"\" class=\"autoscale gsicon\" />"]),new il([19,9,1],["<img src=\""+PIMG["joins/miter"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/bevel"]+"\" class=\"autoscale gsicon\" />"]),new d8([19,9,2])];
for(var U=0;U<this.v0.length;U++){var b=this.v0[U];O.appendChild(b.m);var D=U<4?A.E.r:"click";b.h(D,this.gL,this)}R.Ca(O);
this.no=[];var o=this.Nx.bind(this);this.Zi.strokeStyleLineWidth.v.val=3;for(var U=0;U<this.Ed.length;
U++){var Z=R.S("button","fitem");this.no.push(Z);O.appendChild(Z);Z.addEventListener("click",o,!1);var w=R.S("canvas","gsicon"),$=w.getContext("2d");
Z.appendChild(w);this.a3r($,40,20,this.Ed[U])}this.Zi.strokeStyleLineWidth.v.val=1}e3.prototype=new eE;
e3.prototype.kk=function(w){if(R.FP(this.sV.m))return;w.stopPropagation();var M=this.Zr.getBoundingClientRect(),O=new aX(A.E.Z,!0);
O.data={d:A.t.U6,YT:this.sV,x:M.left,y:M.top+M.height+4};this.l(O)};e3.prototype.gL=function(w){var M=this.v0,O=M.indexOf(w.target),b=[];
for(var U=0;U<4;U++)b.push(M[U].Q());this.Zi=this.av8(b);this.l(new aX(A.E.r,!1))};e3.prototype.Nx=function(w){var M=this.no.indexOf(w.currentTarget);
this.b(this.av8(this.Ed[M]));this.l(new aX(A.E.r,!1))};e3.prototype.av8=function(w){var M=JSON.parse(JSON.stringify(this.Zi)),O=w[0],b=w[1],D=w[2],o=w[3];
if(O!=null)M.strokeStyleLineAlignment.v.strokeStyleLineAlignment=aN.d_.dB[O];if(b!=null)M.strokeStyleLineCapType.v.strokeStyleLineCapType=aN.d_.nH[b];
if(D!=null)M.strokeStyleLineJoinType.v.strokeStyleLineJoinType=aN.d_.join[D];var Z=M.strokeStyleLineDashSet.v=[];
o=o.split(" ");while((o.length&1)!=0)o.pop();for(var U=0;U<o.length;U++)Z.push({t:"UntF",v:{type:"#Nne",val:parseInt(o[U])}});
return M};e3.prototype.f=function(){for(var U=0;U<this.v0.length;U++)this.v0[U].f()};e3.prototype.b=function(w){this.Zi=JSON.parse(JSON.stringify(w));
var M=aN.d_.dB.indexOf(w.strokeStyleLineAlignment.v.strokeStyleLineAlignment),O=aN.d_.nH.indexOf(w.strokeStyleLineCapType.v.strokeStyleLineCapType),b=aN.d_.join.indexOf(w.strokeStyleLineJoinType.v.strokeStyleLineJoinType),D=[],o=w.strokeStyleLineDashSet.v;
for(var Z=0;Z<o.length;Z++)D.push(o[Z].v.val);var $=this.v0;$[0].b(M);$[1].b(O);$[2].b(b);$[3].b(D.join(" "));
var k=[];for(var U=0;U<4;U++)k.push($[U].Q());this.a3r(this.Mn,40,16,k)};e3.prototype.Q=function(){return JSON.parse(JSON.stringify(this.Zi))};
e3.prototype.a3r=function(w,M,O,b){var D=b[0],o=b[1],Z=b[2],$=b[3].split(" ").map(parseFloat);R.GL(w.canvas,M,O);
var k=Math.min(5,this.Zi.strokeStyleLineWidth.v.val);for(var U=0;U<$.length;U++)$[U]*=k;w.clearRect(0,0,M,O);
w.setLineDash($);w.lineCap=["butt","round","square"][o];w.lineJoin=["miter","round","bevel"][Z];w.lineWidth=k;
w.beginPath();w.moveTo(0,O/2);w.lineTo(M*2,O/2);w.stroke()};function dX(w){cK.call(this,w,!1,"contourbutton",34,16,eM.AX,!0);
this.ua=new d8([12,86],null,16);this.ua.h("input",this.sa,this);this.sV.m.appendChild(this.ua.m);this.Sl=null;
this.sM="";this.L6=null;this.b(dL.pp())}dX.prototype=new cK;dX.prototype.f=function(){cK.prototype.f.call(this);
this.ua.f()};dX.prototype.XO=function(w){this.b(this.Sl[w.target.Q()[0]]);this.l(new aX(A.E.r))};dX.prototype.sa=function(w){this.sM=this.ua.Q().toLowerCase();
this.a8b()};dX.ajD=!1;dX.prototype.WI=function(){if(!this.a4)return;var w=this.Xj;if(w==null||!dX.ajD){var M=new aX(A.E.Z,!0);
M.data={d:A.t.xS,I8:{url:"rsrc/basic/fa_basic.csh"}};this.l(M);dX.ajD=!0}else{var O=Math.floor(38*R.V()),b=Math.floor(38*R.V());
this.L6=[];for(var U=0;U<w.length;U++)this.L6.push(dX.ab6(w[U],O,b));this.a8b();this.a4=!1}};dX.prototype.a8b=function(){var w=Math.floor(38*R.V()),M=Math.floor(38*R.V());
this.Sl=[];var O=[],b=[],D=this.Xj;for(var U=0;U<D.length;U++){if(D[U].Xp.toLowerCase().indexOf(this.sM)==-1)continue;
this.Sl.push(D[U]);O.push(this.L6[U]);b.push(D[U].Xp)}this.sG.Uw(O,b,w,M)};dX.prototype.b=function(w){this.cv=dX.clone(w);
this.E_()};dX.prototype.E_=function(){var w=Math.floor(23*R.V()),M=Math.floor(23*R.V()),O=dX.ab6(this.cv,w,M);
this.HY.setAttribute("src",O);R.g7(this.HY,w,M)};dX.prototype.Q=function(){return dX.clone(this.cv)};
dX.clone=function(w){return{Xp:w.Xp,hl:w.hl,j:Q.G6.Zc(w.j),Gh:w.Gh.clone()}};dX.U=null;dX.Vp=null;dX.ab6=function(w,M,O){var b=Q.G6.Zc(w.j),D=w.Gh,o=Math.min(M/D.e,O/D.n)*.9,Z=new f$;
Z.translate(-.5,-.5);Z.scale(.95,.95);Z.translate(.5,.5);Z.scale(o*D.e,o*D.n);x.O.I0(b,Z);var $=new Q.G6;
$.j=b;var k=$.yo();k.rect.x=Math.floor((M-k.rect.e)/2);k.rect.y=Math.floor((O-k.rect.n)/2);var E=x.$(k.rect.v()*4);
x.Jm(k.channel,E,3);var t=dX;if(t.U==null)t.U=R.S("canvas");var c=t.U,l=c.getContext("2d");if(c.width!=M||c.height!=O||t.Vp==null){c.width=M;
c.height=O;t.Vp=l.createImageData(M,O)}var q=t.Vp;q.data.fill(0);x.xu(E,k.rect,q.data,new cn(0,0,M,O));
l.putImageData(q,0,0);return c.toDataURL()};function gp(w){cK.call(this,w,!1,"ICCButton",16,12,eM.xZ,!0);
this.sG.C1(1)}gp.prototype=new cK;gp.prototype.zz=function(){var w="Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(",");
for(var U=0;U<w.length;U++)w[U]="luts/"+w[U]+".CUBE";return w};gp.prototype.XO=function(w){this.b(this.Xj[w.target.Q()]);
this.l(new aX(A.E.r))};gp.prototype.WI=function(){if(!this.a4)return;var w=Math.floor(1*R.V()),M=Math.floor(1*R.V()),O=[],b=[],D=this.Xj;
for(var U=0;U<D.length;U++){var o=D[U].Nm.v.split("\\").pop().split("/").pop();b.push(o);O.push(gp.Td(D[U],w,M))}this.sG.Uw(O,b,w,M);
this.a4=!1};gp.prototype.b=function(w){this.cv=JSON.parse(JSON.stringify(w));this.E_()};gp.Td=function(w,M,O){var b=R.S("canvas"),Z="ICC / 3DL / look / cube";
b.width=M;b.height=O;var D=b.getContext("2d"),o=Math.floor(14*R.V());D.font=o+"px sans-serif";if(w.Nm)Z=w.Nm.v.split("\\").pop().split("/").pop();
D.fillText(Z,10,o);return b.toDataURL()};gp.prototype.E_=function(){var w=Math.floor(120*R.V()),M=Math.floor(20*R.V());
this.HY.setAttribute("src",gp.Td(this.cv,w,M));R.g7(this.HY,w,M)};gp.prototype.Q=function(){return JSON.parse(JSON.stringify(this.cv))};
function h0(){eE.call(this);this.aj=null;this.m=R.S("span","fitem");this.ja=new iD([14,9]);this.Io=new gL(null,0,150,"px",1,!0,null,null,[19,2,5]);
this.$M=new e3;this.Ss=[this.ja,this.Io,this.$M];for(var U=0;U<this.Ss.length;U++){var w=this.Ss[U];
this.m.appendChild(w.m);w.parent=this;w.h(A.E.r,this.gL,this)}}h0.prototype=new eE;h0.prototype.f=function(){for(var U=0;
U<this.Ss.length;U++)this.Ss[U].f()};h0.prototype.o9=function(w,M){this.ja.o9(w,M)};h0.prototype.gL=function(w){var M=this.aj,O=this.ja.Q(),b=O.Gw;
M.strokeEnabled.v=b!=0;if(b!=0){M.strokeStyleContent.v=O.MJ;O.MJ.classID=aN.d_.SA[b-1]}M.strokeStyleLineWidth.v.val=this.Io.Q();
if(w.target==this.$M)M=this.$M.Q();this.aj=M;this.l(new aX(A.E.r,!1))};h0.prototype.b=function(w,M,O){this.aj=JSON.parse(JSON.stringify(M));
var b=M.strokeEnabled.v,D=M.strokeStyleContent.v,o=b?{Gw:1+aN.d_.SA.indexOf(D.classID),MJ:D}:{Gw:0};
this.ja.b(w,o,O);this.Io.b(M.strokeStyleLineWidth.v.val);this.$M.b(M)};h0.prototype.Q=function(){return JSON.parse(JSON.stringify(this.aj))};
function e6(w){var M=[[18,0],[18,1],[18,2],[18,3]],O=il.hM(["set/front","set/union","set/difference","set/intersection"]);
il.call(this,w?[12,36]:null,O,M)}e6.prototype=new il;function cR(){eE.call(this);this.m=R.S("button","fitem bbtn");
R.c3(this.m,this.kk.bind(this));this.sV=new eE;this.sV.m=R.S("div","floatcont form");this.sV.m.setAttribute("style","max-width: 200px;");
this.sV.parent=this;var w=hy;this.z7=[new ji("Start"),new ji("End"),new w([12,41],0,100,"px",null,!0,null,!0),new w([12,80,0],0,100,"px",null,!0,null,!0),new w("Concavity",-50,50,"%",null,null,null,!0)];
for(var U=0;U<this.z7.length;U++){var M=this.z7[U];M.parent=this;M.h(A.E.r,this._D,this);this.sV.m.appendChild(M.m)}this.abN=R.S("div");
this.sV.m.appendChild(this.abN)}cR.prototype=new eE;cR.prototype.b=function(w){for(var U=0;U<5;U++)this.z7[U].b(w[U]);
this.Yk()};cR.prototype.Q=function(w){var M=[];for(var U=0;U<5;U++)M[U]=this.z7[U].Q();return M};cR.prototype.f=function(){this.m.textContent=fr.get([12,93,4]);
for(var U=0;U<this.z7.length;U++)this.z7[U].f()};cR.prototype._D=function(w){this.l(new aX(A.E.r,!1));
this.Yk()};cR.prototype.Yk=function(w){var M=this.Q(),O=200,b=60;M[2]/=R.V();M[3]/=R.V();var D=x.O.U_.xO(0,b/2,O,b/2,5,M),o=x.O.FQ(D);
this.abN.innerHTML="<svg width=\""+O+"\" height=\""+b+"\" class=\"gsicon\">\t\t\t<path d=\""+o.cG+"\" />\t\t\t</svg>"};
cR.prototype.kk=function(w){if(R.FP(this.sV.m))return;w.stopPropagation();var M=this.m.getBoundingClientRect(),O=new aX(A.E.Z,!0);
O.data={d:A.t.U6,YT:this.sV,x:M.left,y:M.top+M.height,uo:!0};this.l(O)};function iE(){eE.call(this);
this.m=R.S("div");this.Zb=[];this.adH=[];var w=this.Q4=R.S("div"),M=R.S("h2");M.textContent="Create Teams";
w.appendChild(M);M.style.margin="26px 0 16px 0";var O=new i8("More about Teams",!1,null,!0);M.appendChild(O.m);
O.m.style.float="right";O.h("click",this.au1,this);this.Ne=R.S("div");w.appendChild(this.Ne);this.apx=new d8("Team Name",null,10);
w.appendChild(this.apx.m);var b=this.ahH=new i8("Create Team",null,null,!0);w.appendChild(b.m);b.h("click",this.alv,this);
var M=R.S("h2");M.textContent="Join Teams";w.appendChild(M);M.style.margin="26px 0 16px 0";this.XH=R.S("div");
w.appendChild(this.XH);this.a0N=new d8("Team ID",null,10);w.appendChild(this.a0N.m);var b=new i8("Join Team",null,null,!0);
w.appendChild(b.m);b.h("click",this.alv,this);this.axH;this.au3=this.ZM.bind(this);this.aew=this.amx.bind(this);
this.t1=!1;this.hI();this.T2=null;this.aiz=""}iE.prototype=new eE;iE.prototype.au1=function(w){var M=new aX(A.E.Z,!0);
M.data={d:A.t.NA,link:"https://www.photopea.com/api/accounts#teams"};this.l(M)};iE.prototype.hI=function(){clearTimeout(this.ase);
this.ase=setTimeout(this.aew,this.T2?10:3e3)};iE.prototype.amx=function(){var w=fl.fS();if(document.hidden||!R.FP(this.m)||w==null){this.hI();
return}var M=fl.lW();if(this.T2==null&&M==null)return;fl.fy(this.T2?this.T2:M,this.au3);this.t1=!0;this.T2=null};
iE.prototype.adb=function(w){w.acc.update=!0;this.m.style.pointerEvents="none";this.m.style.opacity="0.5";
if(this.t1)this.T2=w;else{clearTimeout(this.ase);fl.fy(w,this.au3)}};iE.prototype.K_=function(w){var M=typeof w=="string"?this.axH:this.Zb.indexOf(w.target),O=this.adH[M],b=O[0],D=fl.lW();
if(D==null)D={};var o=D.acc,Z=o.tjoin,k=o.tstart;if(b=="leave"){Z.splice(Z.indexOf(O[1]),1)}if(b=="add"||b=="remove"||b=="delTeam"||b=="showRename"||b=="rename"){var E=-1,t=0;
for(var U=0;U<k.length;U++){t+=k[U][1].length;if(k[U][2]==O[1])E=U}var c=k[E];if(b=="add"){var l=fl.yR();
if(l[0]==0&&l[1][2]<=t){alert("You can have at most "+l[1][2]+" members in your Premium.");return}c[1].push(O[2])}if(b=="remove")c[1].splice(c[1].indexOf(O[2]),1);
if(b=="delTeam"){if(c[1].length!=0){alert("Remove members first.");return}k.splice(E,1)}if(b=="showRename"){var q=new aX(A.E.Z,!0);
q.data={d:A.t.JE,IP:"namewindow",hR:c[0],Wz:this.K_.bind(this)};this.l(q);this.axH=M;O[0]="rename";return}if(b=="rename")c[0]=w}this.adb(D)};
iE.prototype.alv=function(w){var M=this.ahH==w.target,O=(M?this.apx:this.a0N).Q().trim();if(O==""){alert("The Team "+(M?"Name":"ID")+" is empty.");
return}if(!M){O=parseInt(O);if(isNaN(O)){alert("The ID must be a number");return}}var b=fl.lW();if(b==null)b={};
var D=b.acc;if(D==null)D=b.acc={};var o=D.tstart,Z=D.tjoin;if(M){if(o==null)o=D.tstart=[];if(o.length>5){alert("You can have at most 5 teams");
return}o.push([O,[]])}else{if(o)for(var U=0;U<o.length;U++)if(o[U][2]==O){alert("You are the owner of this team");
return}if(Z==null)Z=D.tjoin=[];if(Z.indexOf(O)!=-1){alert("You already asked to join this team.");return}D.tjoin.push(O)}D.update=!0;
this.adb(b)};iE.prototype.ZM=function(){this.t1=!1;var w=fl.fS(),M=w!=null,O=this.Q4.parentNode!=null;
if(M!=O){R.Mh(this.m);if(M)this.m.appendChild(this.Q4);else this.m.textContent="Log In to access Team Settings."}if(!M)return;
var b=fl.lW();if(b==null)b={};var D=b.acc;if(D==null)D={};var o=JSON.stringify(D)+"===="+JSON.stringify(w);
if(o!=this.aiz){this.aiz=o;var Z=this.Ne,$=this.XH;R.Mh(Z);R.Mh($);var k=this.Zb=[],E=this.adH=[],t=this.K_.bind(this);
function c(P,J){P.addEventListener("click",t);k.push(P);E.push(J)}function l(g,P){var T=R.S("div"),J="rgba(255,255,255,0.15)";
T.appendChild(d("ID: "+g[2],44,J));T.appendChild(d(g[0],160,null,!0));if(P){T.appendChild(d(g[1].length+" members",80,null,!0))}else{T.appendChild(d(g[1]==-1?"... not accepted yet":"Accepted",160));
if(Date.now()<g[1]*1e3)T.appendChild(d("Premium",80,"rgba(0,140,0,1)"))}var Y=d("",120);T.appendChild(Y);
Y.setAttribute("style","float:right;text-align:right");if(P){var B=new i8("Rename",null,null,!0);c(B,["showRename",g[2]]);
Y.appendChild(B.m)}var B=new i8(P?"Delete":"Leave",null,null,!0);c(B,[P?"delTeam":"leave",g[2]]);Y.appendChild(B.m);
return T}function q(P,J,h){var T=R.S("div");T.style.paddingLeft="36px";T.appendChild(d(J?"\u2713":"...",8,J?"#229922":"#aa7700"));
T.appendChild(d(P[1],200));T.appendChild(d(P[2],240));var Y=d("",120);T.appendChild(Y);Y.setAttribute("style","float:right;text-align:right");
var B=new i8(J?"Remove":"Add",null,null,!0);c(B,[J?"remove":"add",h,P[0]]);Y.appendChild(B.m);return T}function d(P,J,Y,B){var S=R.S("span");
S.textContent=P;S.setAttribute("style","display:inline-block;  padding:0 10px;  border-radius:4px;  overflow:hidden;  width:"+J+"px;  "+(Y!=null?"background-color:"+Y+";":"")+(B?"font-weight:bold;":""));
return S}var V=D.tstart,L=D.tjoin,e=w.wantToJoin,H=w.inTeams;if(V)for(var j=0;j<V.length;j++){var g=V[j],K=e["t"+g[2]];
if(K==null)K=[];var a={};for(var U=0;U<K.length;U++)a["u"+K[U][0]]=K[U];var T=l(g,!0);Z.appendChild(T);
T.style.marginTop="10px";for(var U=0;U<g[1].length;U++){var C=g[1][U],F=a["u"+C];if(F==null)F=[C,"========","... user has left your team"];
delete a["u"+C];var m=q(F,!0,g[2]);Z.appendChild(m)}for(var N in a){var F=a[N],m=q(F,!1,g[2]);Z.appendChild(m)}}if(L){var v={};
for(var U=0;U<H.length;U++)v["t"+H[U][2]]=H[U];for(var j=0;j<L.length;j++){var h=L[j],g=v["t"+h],T=l(g?g:["==========",-1,h],!1);
$.appendChild(T)}}this.l(new aX(A.E.r))}if(this.T2==null){this.m.style.pointerEvents="auto";this.m.style.opacity="1"}this.hI()};
function b5(){eE.call(this);this.ha=[16,!0,!0];this.m=R.S("span","");this.Uu=[new gL([12,24],0,255),new ji([12,25,1]),new ji([12,25,0])];
for(var U=0;U<3;U++){var w=this.Uu[U];w.parent=this;w.b(this.ha[U]);this.m.appendChild(w.m);w.h(A.E.r,this.gL,this)}}b5.prototype=new eE;
b5.prototype.gL=function(){for(var U=0;U<3;U++)this.ha[U]=this.Uu[U].Q();this.l(new aX(A.E.r,!1))};b5.prototype.b=function(w){this.ha=w.slice(0);
for(var U=0;U<3;U++)this.Uu[U].b(w[U])};b5.prototype.Q=function(){return this.ha.slice(0)};b5.prototype.f=function(){for(var U=0;
U<3;U++)this.Uu[U].f()};function eT(w,M){eE.call(this);if(M==null)M=!1;this.L6=[];this.Ys=Math.floor(120*R.V());
this.ajE=Math.floor(23*R.V());this.kU=0;this.tU=[];this.Is=[];for(var O in x.vL.type){if(O=="warpCustom"&&!M)continue;
this.tU.push(O);this.Is.push(x.vL.type[O])}this.m=R.S("span","fitem warpbutton");this.sV=new eE;this.sV.m=R.S("div","floatcont");
if(w){this.$L=w;this.EN=R.S("label","flabel");this.m.appendChild(this.EN)}this.d=R.S("button");this.m.appendChild(this.d);
R.c3(this.d,this.kk.bind(this));this.Ib=new fL(!0);this.sV.m.appendChild(this.Ib.m);this.Ib.h(A.E.r,this.adu,this);
this.sV.m.setAttribute("style","width:"+Math.floor(8+this.Ys/R.V())+"px;");this.f()}eT.prototype=new eE;
eT.prototype.RD=function(w){this.EN.textContent=w};eT.prototype.f=function(){if(this.$L)this.EN.innerHTML=fr.get(this.$L)+":";
this.E_()};eT.aw8={};eT.apD=function(w,M,O){var b=fr.get(x.vL.type[w]),D=b+"-"+w+"-"+M+"-"+O,o=eT.aw8[D];
if(o)return o;var Z=eT.Mn;if($==null){var $=R.S("canvas");Z=eT.Mn=$.getContext("2d")}var $=Z.canvas;
if($.width!=M||$.height!=O){$.width=M;$.height=O}Z.font=Math.floor(13*R.V())+"px sans-serif";Z.lineWidth=1;
Z.strokeStyle="#000000";var k=Math.floor(16*R.V()),E=new cn(0,0,k,k);Z.clearRect(0,0,$.width,$.height);
var t=x.vL.vL(E,w,!0,.3,0,0),c=x.p.zl(E);c.H.push("M","L","M","L");c.C.push(0,k/2,k,k/2);c.C.push(k/2,0,k/2,k);
c=x.p.ci(c);c=x.p.SH(c,k/5);x.zD.F(t,c.C,E);x.p.F(c.C,new f$(1,0,0,1,Math.floor(8*R.V())+.5,Math.floor(3*R.V())+.5),c.C);
Z.beginPath();Typr.U.pathToContext({cmds:c.H,crds:c.C},Z);Z.stroke();Z.fillText(b,Math.floor(40*R.V()),Math.floor(16*R.V()));
o=eT.aw8[D]=$.toDataURL();return o};eT.prototype.kk=function(w){if(R.FP(this.sV.m))return;w.stopPropagation();
var M=this.Ys,O=this.ajE;for(var U=0;U<this.tU.length;U++)this.L6[U]=eT.apD(this.tU[U],M,O);this.Ib.Uw(this.L6,null,M,O);
var b=this.d.getBoundingClientRect(),D=new aX(A.E.Z,!0);D.data={d:A.t.U6,YT:this.sV,x:b.left,y:b.top+b.height+4};
this.l(D)};eT.prototype.adu=function(w){var M=new aX(A.E.Z,!0);M.data={d:A.t.QM,YT:this.sV};this.l(M);
this.kU=w.target.Q()[0];this.E_();this.l(new aX(A.E.r))};eT.prototype.E_=function(){var w=this.Ys,M=this.ajE;
this.Ib.b([this.kU]);this.d.innerHTML="<img src=\""+eT.apD(this.tU[this.kU],w,M)+"\" class=\"gsicon\" />";
R.g7(this.d.firstChild,w,M)};eT.prototype.Q=function(){return this.tU[this.kU]};eT.prototype.b=function(w){this.kU=this.tU.indexOf(w);
this.E_()};function gx(w,M,O){eE.call(this);if(w==null)w=!1;if(M==null)M=!1;if(O==null)O=!1;this.a6S=M;
this.vL=null;this.lm=new eT([12,22],O);this.lm.parent=this;this.lm.h(A.E.r,this.LR,this);this.wX=new ao([22,0],[[22,4,0],[22,4,1]]);
this.wX.h(A.E.r,this.LR,this);var b=w?gL:hy;this.im=new b([22,1],-100,100,"%");this.GF=new b("Horizontal Distortion:",-100,100,"%");
this.Nw=new b("Vertical Distortion:",-100,100,"%");this.im.parent=this.GF.parent=this.Nw.parent=this;
this.im.h(A.E.r,this.LR,this);this.GF.h(A.E.r,this.LR,this);this.Nw.h(A.E.r,this.LR,this)}gx.prototype=new eE;
gx.prototype.f=function(){this.lm.f();this.wX.f();this.im.f();var w=this.a6S?1:100;this.GF.RD(fr.get([22,2]).substring(0,w)+":");
this.Nw.RD(fr.get([22,3]).substring(0,w)+":")};gx.prototype.LR=function(){var w=this.vL,M=this.lm.Q(),O=w.warpStyle.v.warpStyle;
if(M=="warpCustom")x.vL.Sa(x.vL.GS(w),w);else delete w.customEnvelopeWarp;w.warpStyle.v.warpStyle=this.lm.Q();
w.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.wX.Q()];w.warpValue.v=this.im.Q();w.warpPerspective.v=this.GF.Q();
w.warpPerspectiveOther.v=this.Nw.Q();if(M=="warpNone"||M=="warpCustom"){w.warpValue.v=0;w.warpPerspective.v=0;
w.warpPerspectiveOther.v=0}else if(O=="warpNone"||O=="warpCustom")w.warpValue.v=50;this.l(new aX(A.E.r,!1));
this.b(w)};gx.prototype.Q=function(w){return JSON.parse(JSON.stringify(this.vL))};gx.prototype.b=function(w){this.vL=JSON.parse(JSON.stringify(w));
this.lm.b(w.warpStyle.v.warpStyle);this.wX.b(w.warpRotate.v.Ornt=="Hrzn"?0:1);this.im.b(w.warpValue.v);
this.GF.b(w.warpPerspective.v);this.Nw.b(w.warpPerspectiveOther.v);var M=w.warpStyle.v.warpStyle,O=M=="warpNone"||M=="warpCustom",b=[this.wX,this.im,this.GF,this.Nw];
for(var U=0;U<b.length;U++)if(O)b[U].Sq();else b[U]._C()};function jw(w,M){eE.call(this);this.m=R.S("div");
this.i_=w;this.E5=null;this.OD=new at(0,0);this.Fw="position:relative;overflow:hidden;background-color:var(--bg-canvas);";
this.YU=null;this.mS=new R.qI(this.m);this.adB=M;this.up("grab");this.U=R.S("canvas","canv");this.m.appendChild(this.U);
this.Mn=this.U.getContext("2d");this.a0K=null;this.Mm=null;this.Ku=null;this.__=0;this.oM=0;this.p4=0;
this.axh=this.aeu.bind(this);this.aeR=null;this.P=new g1({e:1,n:1});this.gj=null;this.Y7=null;this.Pf=[];
this.a3V=0;this.aI=0;this.arq=this.pu.bind(this);this.ayk=this.xL.bind(this);this.auJ=this.hN.bind(this);
this.amV=this.R1.bind(this);this.a9h=0;this.d0=null;this.ado(this.U);this.uR(this)}jw.prototype=new eE;
jw.aao=function(w){var M=new i_(!0);if(w>=0)M.NZ("Space");if(w>=1){M.NZ("ControlLeft");if(w==2)M.NZ("AltLeft")}return M};
jw.prototype.$m=function(w){var M=this.YU,O=null;if(w.i(i_.NT)){O="grab";if(w.i(i_.v9)){O="zoom-in";
if(w.i(i_.PY))O="zoom-out"}}this.E5=O;if(O)M=O;this.mS.ZM(M,this.Fw);if(w.i(i_.v9)){var b=0;if(w.i(i_.Wn))b=1;
if(w.i(i_.Oz))b=-1;if(b!=0){this.JW(new at(this.U.width/2,this.U.height/2),b==1)}}};jw.prototype.up=function(w){this.YU=w;
if(this.E5)return;this.mS.ZM(w,this.Fw)};jw.prototype.ado=function(w){R.c3(w,this.arq);R.fO(w);w.addEventListener("wheel",this.amV,!1)};
jw.prototype.uR=function(w){w.h("viewchange",this.atq,this)};jw.prototype.atq=function(w){var M=this.P.T,O=w.currentTarget.yx();
this.P.T=O.T;this.P.z=O.z.clone();if(M!=O.T)this.gd();this.My()};jw.prototype.yx=function(){return{T:this.P.T,z:this.P.z}};
jw.prototype.b=function(w,M){var O=w[0].fJ;if(this.Mm!=null&&this.Mm[0].fJ.M5(O)){}else{this.P._t={e:O.e,n:O.n};
this.P.z=new at(0,0);this.P.T=1}this.Mm=w;this.gd();this.t_();this.__=0;this.oM=0;this.p4=M==null?0:M;
this.aeu()};jw.prototype.R1=function(w){w.preventDefault();if(w.deltaY==0||Date.now()-this.a9h<100)return;
var M=R.Pr(w);M.x=R.V()*M.x;M.y=R.V()*M.y;this.a9h=Date.now();this.JW(M,w.deltaY<0)};jw.prototype.JW=function(w,M){y.T5.gz(this.P,w,M);
this.a99()};jw.prototype.ss=function(){var w=this.P,M=w._t;this.P.T=y.T5.ae9(M.e,M.n,w.iu.e,w.iu.n);
this.a99()};jw.prototype.a99=function(){this.gd();this.l(new aX("viewchange"));this.l(new aX("zoom"))};
jw.prototype.gd=function(){this.Ku=[];var w=this.P.T;if(this.Mm==null)return;for(var U=0;U<this.Mm.length;
U++){var M=this.Mm[U],O=new Uint8Array(M.data),b;if(w>=1)b={AJ:O,rect:M.fJ};else b=x.a4E(O,M.fJ,w);this.Ku.push(b)}};
jw.prototype.t_=function(){clearTimeout(this.aeR)};jw.prototype.My=function(){if(this.Mm==null||!R.FP(this.U))return;
var w=this.a0K,M=this.U.width,O=this.U.height,d,V;if(w==null||w.width!=M||w.height!=O){w=this.a0K=this.Mn.createImageData(M,O);
console.log("creating image data")}var b=this.Mm[this.__],D=this.Ku[this.__],o=this.P,Z=o._t,$=o.iu,k=$.e,E=$.n,t=Z.e*o.T,c=Z.n*o.T,l=Math.round((k-t)/2+o.z.x),q=Math.round((E-c)/2+o.z.y);
if(o.T<=1){V=D.rect.clone();V.x=l;V.y=q;t=V.e;c=V.n;d=D.AJ}else{var L=1/o.T,e=new cn(Math.floor(($.x-l)*L),Math.floor(($.y-q)*L),Math.ceil($.e*L)+1,Math.ceil($.n*L)+1),H=new cn(0,0,e.e*o.T,e.n*o.T);
H.x=e.x*o.T+l;H.y=e.y*o.T+q;if(o.ZJ==null||o.ZJ.length!=e.v()*4){o.ZJ=x.$(e.v()*4)}if(o.J4==null||o.J4.length!=H.v()*4){o.J4=x.$(H.v()*4)}x.TZ(o.ZJ,0);
x.xu(D.AJ,D.rect,o.ZJ,e);x.scale.$A(o.ZJ,e.e,e.n,o.J4,H.e,H.n,o.T);d=o.J4;V=H}var j=new Uint8Array(w.data.buffer);
x.zp(j,k,E,8,-l,-q);x.a.DP("norm",d,V,j,$,$,1);var g=this.Mn;g.setTransform(1,0,0,1,0,0);g.putImageData(w,0,0);
g.clearRect(l-1e3,q,1e3,c);g.clearRect(l+t,q,1e3,c);g.clearRect(l-1e3,q-1e3,t+2e3,1e3);g.clearRect(l-1e3,q+c,t+2e3,1e3);
var K=jw.alo(o.T,"#ffffff",this.adB);g.putImageData(K,0,o.iu.n-K.height)};jw.a7q={};jw.alo=function(w,M,O){if(O==null)O=!1;
var b="z"+w+","+M+","+O,D=jw.a7q[b];if(D)return D;var o=Math.round(50*R.V()),Z=Math.round(18*R.V()),$=O?2*Z:0,k=R.S("canvas"),E=k.getContext("2d");
k.width=o+$;k.height=Z;E.fillStyle="rgba(1,1,1,1)";E.fillRect(0,0,o+$,Z);E.font=Math.round(11*R.V())+"px monospace";
E.fillStyle=M;var t=w*100;if(t<100)t=t.toFixed(2);else t=Math.round(t);t=t+"%";var c=E.measureText(t).width;
E.fillText(t,$+(o-c)/2,Math.round(Z*.7));D=jw.a7q[b]=E.getImageData(0,0,o+$,Z);return D};jw.prototype.aeu=function(){var w=this.Mm,M=w.length,O=this.__,b=this.Mm[O],D=(O+1)%M;
this.My();if(M!=1&&w[D].fJ.M5(b.fJ)){var o=b.FS?parseInt(b.FS.split(",").pop()):30;if(o==0)o=16;if(D==0)this.oM++;
if(this.p4==0||this.oM<this.p4)this.aeR=setTimeout(this.axh,o)}this.__=D};jw.prototype.nQ=function(w,M){if(w<=0||M<=0)return;
var O=Math.floor(w*R.V()),b=Math.floor(M*R.V());this.P.iu=new cn(0,0,O,b);this.U.width=O;this.U.height=b;
this.U.setAttribute("style","width:"+O/R.V()+"px; height:"+b/R.V()+"px; display:block;");this.My()};
jw.prototype.m9=function(w){var M=-1,O=this.Pf;for(var U=0;U<O.length;U++)if(O[U].pointerId==w.pointerId)M=U;
return M};jw.prototype.pu=function(w){var M=this.m9(w),O=this.Pf;if(M!=-1)O[M]=w;else O.push(w);if(O.length==1){this.d0=w.target;
R.Gg(window,this.ayk);R.UB(window,this.auJ);this.gj=R.Pr(w,this.U);this.gj.x*=R.V();this.gj.y*=R.V();
this.OD=this.gj;this.Y7=this.P.z.clone();if(this.i_&&this.d0==this.U&&!this.E5)this.l(new aX("mousedown"))}else this.a3V=this.aI=at.we(R.Pr(O[0],this.U),R.Pr(O[1],this.U))};
jw.prototype.xL=function(w){var M=this.m9(w),O=this.Pf;if(M!=-1)O[M]=w;var b=this.P,D=this.E5,o=this.Mm[this.__].fJ.clone();
o.e*=b.T;o.n*=b.T;var Z=R.Pr(w,this.U);Z.x*=R.V();Z.y*=R.V();this.OD=Z;if(this.i_&&this.d0==this.U&&!D)this.l(new aX("mousemove"));
else if((D=="grab"||D==null)&&(O.length>1||!b.iu.Ar(o))){if(O.length>1){var k=R.Pr(O[0],this.U),E=R.Pr(O[1],this.U),t=new at(R.V()*(k.x+E.x)/2,R.V()*(k.y+E.y)/2),c=at.we(k,E),l=null;
if(c>this.aI+50){this.aI+=50;l=!0}if(c<this.aI-50){this.aI-=50;l=!1}if(l!=null)this.JW(t,l);return}else{var q=Z.x-this.gj.x,d=Z.y-this.gj.y;
b.z.x=this.Y7.x+Math.round(q);b.z.y=this.Y7.y+Math.round(d)}this.l(new aX("viewchange"))}};jw.prototype.hN=function(w){var M=this.m9(w),O=this.Pf;
O.splice(M,1);if(O.length==0){R.wg(window,this.ayk);R.oX(window,this.auJ);var b=this.E5;if(w.detail>1){this.P.T=1;
this.P.z.ZK(0,0);this.My()}if(this.i_&&this.d0==this.U&&!this.E5)this.l(new aX("mouseup"));else{if(b=="zoom-in"||b=="zoom-out")this.JW(this.OD,b=="zoom-in")}}else{var D=this.gj=R.Pr(O[0],this.U);
D.x*=R.V();D.y*=R.V()}};jw.prototype.o8=function(){return this.P.ep(this.OD.x,this.OD.y)};function bP(){eE.call(this);
this.G1=null;this.QB=null;this.Ws=null;this.ex=null;this.agu="";this.gP=[];this.JC=0;this.Lx=[];this.NI=0;
this.P4=null;var w=this.m=R.S("div",""),M=this.axj=R.S("div","form");M.setAttribute("style","line-height:0; margin-bottom:0.5em;");
w.appendChild(M);var O=this.$L=R.S("span");M.appendChild(O);O.setAttribute("style","font-size:1.2em; font-weight:bold; margin-right:3em;");
var b=this.ano=new ji([25,2,0]);b.b(!0);M.appendChild(b.m);b.h(A.E.r,this.rU,this);var D=this.NE=new ji([25,2,1]);
D.b(!0);M.appendChild(D.m);D.h(A.E.r,this.rU,this);var o=new as(" ");M.appendChild(o.m);var Z=this._n=new d8([25,1,1]);
M.appendChild(Z.m);Z.h(A.E.r,this.rU,this);this.X4=new fv(14);this.X4.afb(3);M.appendChild(this.X4.m);
this.X4.parent=this;this.X4.h(A.E.r,this.aqn,this);var $=this.a6c=new i8([25,1,2],null,null,!0);M.appendChild($.m);
$.h("click",this.R_,this);var k=new i8("?",null,null,!0);M.appendChild(k.m);k.addEventListener("click",function(){alert("All our images come from Pixabay.com and are free to use for commercial purposes.")});
this.a9j=this.ami.bind(this);this.q8=R.S("div","svggallery scrollable");w.appendChild(this.q8);this.q8.addEventListener("scroll",this.ad7.bind(this))}bP.prototype=new eE;
bP.prototype.o9=function(w){this.a07=w};bP.prototype.f=function(){this.$L.textContent=fr.get([25,0]);
this.X4.f();this.ano.f();this.NE.f();this._n.f();this.a6c.f()};bP.prototype.nQ=function(w,M){this.G1=new at(w,M);
this.axj.setAttribute("style","width:"+w+"px");var O=this.axj.getBoundingClientRect();M-=O.height;this.q8.setAttribute("style","width:"+w+"px; height:"+M+"px");
if(R.FP(this.m))this.rU()};bP.prototype.b=function(w){this.QB=w;this.rU()};bP.prototype.ad7=function(w){var M=this.q8;
if(M.scrollTop+M.clientHeight+10>=M.scrollHeight){this.rU(!0)}};bP.prototype.aqn=function(w){this.Ws=null;
this.rU()};bP.prototype.ami=function(w){if(Date.now()-this.NI<2e3)return;this.NI=Date.now();this.JC=this.Lx.indexOf(w.currentTarget);
var M=this.$N(this.QB.x,this.QB.y);if(M[1]){var O=M[1].largeImageURL,b=new XMLHttpRequest;b.responseType="arraybuffer";
b.open("GET",O,!0);b.onload=this.agt.bind(this);b.send();return}this.abd(M)};bP.prototype.agt=function(w){var M=w.target.response,O=ce.S5(M),b=ce.ti(O),D=b.sc(M),o=this.$N(this.QB.x,this.QB.y,[M,D[0].fJ.e,D[0].fJ.n]);
this.abd(o)};bP.prototype.abd=function(w){var M=w[0],O=ce.S5(M),b=ce.ti(O),D=new fO("template.psd");
b.sc(M,D);var o=new aX("tempready",!0);o.data={_t:D};this.l(o)};bP.prototype.R_=function(w){var M=w.target;
this.gP=[];this.Ws=null;this.rU()};bP.prototype.a9d=function(w){var M=JSON.parse(w.target.response),O=this.ex=M.hits;
for(var U=0;U<O.length;U++)if(O[U].user_id==6314823)O.splice(U,1);this.rU()};bP.prototype.rU=function(w){if(this.QB==null||this.G1==null||this.a07==null)return;
if(this.G1.x<=0)return;var M=this.QB.x,O=this.QB.y;if(Math.min(M,O)<50)return;if(w!=!0){this.Lx=[];R.Mh(this.q8);
this.q8.scrollTop=0}if(this.Lx.length>300)return;var b=Math.min(1,300/Math.max(M,O)),D=this.G1.clone();
D.x-=20;var o=Math.max(1,Math.floor(D.x/(M*b))),Z=Math.max(1,Math.ceil(D.y/(O*b)));b=D.x/o/M;var $=o*Z;
if(this.Ws==null){var k=this.a07.Yv.Tz(),E=[];for(var t in k){var c=k[t],l=c[3];if(!this.X4.n5(c))continue;
if(c[5]==null||c[5].slice(0,2)=="gf")continue;E.push(c)}if(E.length==0)E.push(k.DejaVuSans);var q=E.length;
for(var U=0;U<q*10;U++){var d=Math.floor(Math.random()*q),V=Math.floor(Math.random()*q),L=E[d];E[d]=E[V];
E[V]=L}E=E.slice(0,10);this.Ws=E}var e=this.NE.Q(),H=this._n.Q().trim();this._n.Sc(e);if(e&&(this.ex==null||H!=this.agu)){var j=new XMLHttpRequest,g="https://pixabay.com/api/?image_type=photo"+(H==""?"":"&q="+encodeURIComponent(H))+"&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88&safesearch=true";
if(H=="")g="plugins/gallery.json";j.open("GET",g,!0);j.onload=this.a9d.bind(this);j.onerror=function(m){console.log(m.target.response)};
j.send();this.agu=H;return}b*=(M*b-5)/(M*b);var K=this.Lx.length;for(var U=0;U<$;U++){var a=this.JC=K+U;
if(this.gP[a]==null)this.gP[a]=Math.floor(Math.random()*4294967295);var T=this.$N(Math.round(M*b),Math.round(O*b)),C=T[0];
C=n.AL(new Uint8Array(C));var F=R.S("span");F.innerHTML=C;this.Lx.push(F);this.q8.appendChild(F);F.addEventListener("click",this.a9j,!1)}};
bP.prototype.$N=function(w,M,O){var b=this.NE.Q(),D=this.ano.Q(),o=b&&this.ex.length!=0?this.ex:null;
if(D&&!b)o=null;if(D&&b&&(this.JC&1)==0)o=null;return f0.U_(w,M,this.gP[this.JC],this.Ws,O?O:o)};function b0(){eE.call(this);
this.m=R.S("div");this.Q4=null;this.a2B=null;this.Tg=-1;this.$I={JPG:[{ks:new hy([12,52,0],0,100,"%",null,null,!0),lA:70},{ks:new ji("attach metadata"),lA:!1}],TIFF:[{ks:new ji("attach metadata"),lA:!1}],WEBP:[{ks:new hy([12,52,0],0,100,"%",null,null,!0),lA:70}],GIF:[{ks:new hy([12,52,0],0,100,"%",null,null,!0),lA:100},{ks:new ji([12,23,3]),lA:!1}],PNG:[{ks:new hy([12,52,0],0,100,"%",null,null,!0),lA:100},{ks:new ji("don't use palettes"),lA:!1}],PDF:[{ks:new d8([12,52,1]),lA:""},{ks:new hy([12,52,0],0,100,"%",null,null,!0),lA:100},{ks:new ji("reverse pages"),lA:!1},{ks:new ji("rasterize all"),lA:!1},{ks:new ji("vectorize text"),lA:!1},{ks:new hy("Add Margin",0,5,"in",2),lA:0}],EMF:[{ks:new d8([12,52,1]),lA:""},{ks:new hy([12,52,0],0,100,"%",null,null,!0),lA:100},{ks:new ji("reverse pages"),lA:!1},{ks:new ji("rasterize all"),lA:!1},{ks:new ji("vectorize text"),lA:!1},{ks:new hy("Add Margin",0,5,"in",2),lA:0}],SVG:[{ks:new ji("add raster graphics"),lA:!0},{ks:new ji("add hidden layers"),lA:!1},{ks:new ji("vectorize text"),lA:!1},{ks:new ji("rasterize text"),lA:!1},{ks:new ji("minify"),lA:!1}],RAW:[{ks:new il([12,72],["1","3","4"]),lA:2},{ks:new il([12,34],["8 Bits","16 Bits"]),lA:0},{ks:new il("Byte Order",["12-34","34-12"]),lA:0}],DDS:[{ks:new ji("Add Mipmaps"),lA:!0},{ks:new ji("Compression"),lA:!0}],anim:[{ks:new hy("Speed",10,800,"%",null,!0,!0),lA:100},{ks:new gL("Repeat (0 = Forever)",0,10," \xD7",0,!1,!0),lA:0},{ks:new ji("reverse frames"),lA:!1},{ks:new ji("boomerang"),lA:!1}],slcs:[{ks:new ji([8,11,0]),lA:!0}],artb:[{ks:new ji([1,16,1]),lA:!0}],hicc:[{ks:new ji("convert to sRGB"),lA:!0}]};
for(var w in this.$I){var M=this.$I[w];for(var U=0;U<M.length;U++){M[U].ks.b(M[U].lA);M[U].ks.h(A.E.r,this.Vk,this)}}}b0.prototype=new eE;
b0.prototype.adJ=function(){this.Tg=-1};b0.prototype.f=function(){for(var w in this.$I)for(var U=0;U<this.$I[w].length;
U++)this.$I[w][U].ks.f()};b0.prototype.Vk=function(){this.rU();this.l(new aX(A.E.r,!1))};b0.prototype.rU=function(){var w=this.Q4,M=w[0],O=w[1],b=w[2],D=w[3],o=w[4],Z=this.$I[M];
if(Z==null)Z=[];else Z=Z.slice(0);if(O)Z=Z.concat(this.$I.anim);if(["GIF","PNG","JPG"].indexOf(M)!=-1&&b)Z=Z.concat(this.$I.slcs);
else if(["GIF","PNG","JPG"].indexOf(M)!=-1&&D)Z=Z.concat(this.$I.artb);if(o)Z=Z.concat(this.$I.hicc);
var $=w.join(",");if($!=this.Tg){this.Tg=$;R.Mh(this.m);for(var U=0;U<Z.length;U++){if(M=="PDF"&&!D&&(U==0||U==2))continue;
this.m.appendChild(Z[U].ks.m);R.Ca(this.m)}}var k=this.a2B=[];for(var U=0;U<Z.length;U++)k.push(Z[U].ks.Q())};
b0.prototype.ao4=function(w,M,O,b,D){this.Q4=[w,M,O,b,D];this.rU()};b0.prototype.Q=function(){return this.a2B.slice(0)};
function bC(){eE.call(this);this.m=R.S("span","fitem");this.T$=!1;this.s4=new i8("No",!1,"Cancel");this.Rl=new i8("Yes",!1,"Confirm");
this.m.appendChild(this.s4.m);this.m.appendChild(this.Rl.m);this.s4.h("click",this.jH,this);this.Rl.h("click",this.jH,this);
this.f()}bC.prototype=new eE;bC.prototype.f=function(){this.s4.RD(R._7("cross",null,"autoscale"));this.Rl.RD(R._7("checkmark",null,"autoscale"))};
bC.prototype.jH=function(w){this.T$=w.target==this.Rl;this.l(new UIEvent("click"))};bC.prototype.Q=function(){return this.T$};
function bN(w){eE.call(this);this.m=R.S("span","fitem");this.QZ=new i8("\u25BC",null,"Auto Options",!0);
R.c3(this.QZ.m,this.aj5.bind(this));this.m.appendChild(this.QZ.m);this.w9=new i8("Auto",null,null,!0);
this.w9.h("click",this._D,this);this.m.appendChild(this.w9.m);this.fm=new cE("Algorithms",["Enhance Monochromatic Contrast","Enhance Per Channel Contrast","Find Dark & Light Colors","Enhance Brightness And Contrast"],null,null,!0);
this.fm.h(A.E.r,this._D,this);this.fm.b([!1,!1,!1,!0]);this.sV=new eE;var M=this.sV.m=R.S("div","floatcont form");
M.setAttribute("style","width: 250px;");this.sV.parent=this;M.appendChild(this.fm.m);this._u=[];for(var U=0;
U<2;U++){var O=new gL((U==0?"Shadows":"Highlights")+" Clip",0,9.99,"%",2,!1,!0);O.b(.1);O.h(A.E.r,this._D,this);
this._u.push(O);M.appendChild(O.m)}}bN.prototype=new eE;bN.prototype._D=function(w){this.l(new aX(A.E.r,!1))};
bN.prototype.f=function(){};bN.prototype.Q=function(){return[this.fm.Q().indexOf(!0),this._u[0].Q(),this._u[1].Q()]};
bN.prototype.aj5=function(w){if(R.FP(this.sV.m))return;w.stopPropagation();var M=this.QZ.m.getBoundingClientRect(),O=new aX(A.E.Z,!0);
O.data={d:A.t.U6,YT:this.sV,x:M.left,y:M.top+M.height+4};this.l(O)};function bi(){eE.call(this);var w=this.m=R.S("div","fitem");
this.mK=new ao([12,46],[[13,1,8],[13,1,10],[13,1,9],[12,47]]);this.mK.h(A.E.r,this.gL,this);w.appendChild(this.mK.m);
this.WX=new bQ(!1);this.WX.parent=this;this.WX.Ji(16777215);this.WX.h(A.E.r,this.gL,this);w.appendChild(this.WX.m)}bi.prototype=new eE;
bi.prototype.f=function(){this.mK.f();this.WX.f()};bi.prototype.avr=function(w){var M=[w.artboardBackgroundType.v-1];
if(w.Clr)M.push(w.Clr.v);this.b(M)};bi.prototype.axO=function(){var w=this.Q();return{classID:"artboard",Clr:{t:"Objc",v:w[1]},artboardBackgroundType:{t:"long",v:w[0]+1}}};
bi.prototype.b=function(w){this.mK.b(w[0]);if(w[1])this.WX.b(w[1])};bi.prototype.Q=function(){return[this.mK.Q(),this.WX.Q()]};
bi.prototype.gL=function(w){if(w.target==this.WX)this.mK.b(3);this.l(new aX(A.E.r,!1))};function gU(w){eE.call(this);
this.qZ=w;this.Dn=0;this.a9m=!1;this.O8=w?new gU.o_:null;this.m=R.S("div","flexrow storageset");this.m.style.background="var(--bg-panel)";
this.ui=R.S("div");this.m.appendChild(this.ui);this.iY=R.S("div");this.m.appendChild(this.iY);this.no=[];
var M=Storage.list.length;if(w)M++;var O=this.L9.bind(this);for(var U=0;U<M;U++){var b=R.S("div");this.no.push(b);
this.ui.appendChild(b);b.addEventListener("click",O,!1)}this.L9(null,0)}gU.prototype=new eE;gU.MZ=[];
gU.br=function(w){gU.MZ.push(w);w.Yk()};gU.c1=function(){var w=gU.MZ;w.pop();w[w.length-1].Yk()};gU.prototype.Yk=function(){console.log(this.Dn);
this.L9(null,this.Dn)};gU.prototype.o9=function(w,M){if(!w.H7&&!this.a9m){var O=this.qZ?2:1;for(var U=O;
U<this.no.length;U++)this.ui.removeChild(this.no[U]);this.a9m=!0;if(this.qZ)this.O8.o9(w,M)}};gU.prototype.f=function(){if(this.qZ)this.O8.f();
if(this.Xi)this.Xi.f()};gU.prototype.L9=function(w,M){var O=this.no,b;if(M==null)M=O.indexOf(w.currentTarget);
this.Dn=M;for(var U=0;U<O.length;U++)R.Y4(O[U],"active");R.rV(O[M],"active");if(this.qZ)M--;R.Mh(this.iY);
if(M==-1)b=this.O8;else b=Storage.fP(M);this.Xi=b;b.parent=this;this.iY.appendChild(b.m);this.nQ(this.jy,this.e3);
this.f()};gU.prototype.nQ=function(w,M){this.jy=w;this.e3=M;var O=w<850,b=O?50:200,D=Storage.list;if(this.qZ)D=[["Home",null,"strg/home"]].concat(D);
for(var U=0;U<D.length;U++){var o=this.no[U],Z="padding: 8px "+(O?13:36)+"px; cursor:pointer;";o.setAttribute("style",Z);
o.innerHTML="<img style=\"margin:0 10px -6px 0; width:22px;\" class=\"gsicon\" src=\""+PIMG[D[U][2]]+"\" /> "+(O?"":D[U][0])}this.m.style.width=w+"px";
this.m.style.height=M+"px";this.ui.style.width=b+"px";this.ui.style.paddingTop="32px";if(this.Xi)this.Xi.nQ(w-b,M)};
gU.o_=function(){var w=this.m=R.S("div");w.style.background="var(--bg-canvas)";var M=this.hT=R.S("div");
w.appendChild(M);var O=R.S("style");w.appendChild(O);O.textContent=" .bhover       { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0   );} "+" .bhover:hover { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0.05);}";
for(var U=0;U<2;U++){var b=R.S("div"),O="filter: drop-shadow(4px 6px 4px rgba(0,0,0,0.25)); ";M.appendChild(b);
if(U==0)O+="padding: 12px 0px";if(U==1)O+="position:absolute;  bottom:0;";b.setAttribute("style",O);
var D=R.S("img");b.appendChild(D);D.setAttribute("src",PIMG[U==0?"l"+"o"+"g"+"o":"b"+"o"+"t"+"t"+"o"+"m"]);
if(U==0)this.gF=D;else this.a7W=D;if(U==0)this.aaC=b;else this.a9Q=b}this.no=[];O="display:inline-block;  font-size:1.25em; border:1px solid #aaa;  border-radius:6px;  margin:20px 0 0 20px;";
var o=this.KU.bind(this);for(var U=0;U<3;U++){var Z=R.S("span","bhover");this.no.push(Z);Z.setAttribute("style",O+"cursor:pointer; padding:12px;");
Z.addEventListener("click",o,!1);M.appendChild(Z)}R.Ca(M);R.Ca(M);var Z=R.S("div");Z.setAttribute("style",O+"width:min(80%,556px);  padding:60px 0;  text-align:center; opacity:0.3;");
Z.textContent="Drop any files here";M.appendChild(Z);this.U=R.S("canvas");this.U.setAttribute("style","position:absolute;top:0;pointer-events:none; mix-blend-mode: screen;");
this.Mn=this.U.getContext("2d");this.avI=x.$(4);w.appendChild(this.U);var $=new Date().getDate(),k=new Date().getMonth();
if(k==11&&$>20||k==0&&$<10){var E=Math.random()<.5,t={o:255,w:255,L:255};if(!E){t=x.Ja(Math.random(),Math.random()*.7,1);
t.o*=255;t.w*=255;t.L*=255}this.tK=[Math.round(1048575*Math.random()),E?.05:.02,Math.round(4+Math.random()*8),1,E?3:15,t,0,!0,E,E?1:.2,3];
this.anI=E?.1:.2;this.kd=this.rw.bind(this);window.requestAnimationFrame(this.kd)}};gU.o_.prototype=new eE;
gU.o_.prototype.rw=function(){window.requestAnimationFrame(this.kd);if(!R.FP(this.m))return;var w=this.avI,M=this.U,O=this.Mn,b=M.width,D=M.height;
this.tK[6]=Date.now()*.001*this.anI;x.AQ.$Q(w,b,D,this.tK,!0);O.putImageData(new ImageData(new Uint8ClampedArray(w.buffer),b,D),0,0)};
gU.o_.prototype.KU=function(w){var U=this.no.indexOf(w.currentTarget),M=new aX(A.E.Z,!0);if(U==0)M.data={d:A.t.JE,IP:"newproject"};
if(U==1)M.data={d:A.t.wP};if(U==2)M.data={d:A.t.JE,IP:"templates"};this.l(M)};gU.o_.prototype.f=function(){var w=this.no,M=[[11,7],[1,6],["PSD VAR0",[25,0]]],O=["\u2605","\uD83E\uDC7F","\u25A3"];
for(var U=0;U<w.length;U++)w[U].textContent=O[U]+"\u2000"+fr.get(M[U]);var b="l"+"o"+"g"+"o",D=new Date;
if(D.getMonth()==3&&D.getDate()==1)b="lo"+"go_cuc"+"umber";this.gF.setAttribute("src",PIMG[b]);this.a7W.setAttribute("src",PIMG["b"+"o"+"t"+"t"+"o"+"m"])};
gU.o_.prototype.nQ=function(w,M){var O=Math.min(M*1.5,Math.min(w,600));R.GL(this.U,w,O*.26);var b=this.U.width,D=this.U.height;
this.avI=x.$(b*D*4);this.m.style.width=w+"px";this.m.style.height=M+"px";this.a9Q.style.width=w+"px";
this.hT.style.marginLeft=Math.max(0,Math.round((w+200-600)/2)-200)+"px";this.gF.style.width=O+"px";this.a7W.style.width=O+"px"};
gU.o_.prototype.o9=function(w,M){if(!w.H7)this.hT.removeChild(this.no[2])};function Storage(w){eE.call(this);
var M=this.m=R.S("div","storage");R.SZ(M);var O=this.aw$=R.S("style");M.appendChild(O);M.setAttribute("tabindex","0");
M.style.outline="none";M.addEventListener("keydown",this.aga.bind(this),!1);this.h_=this.anZ.bind(this);
var b=R.S("div");M.appendChild(b);var D=this.a34.bind(this);this.Qp=R.S("div","bar");b.appendChild(this.Qp);
this.lz=R.S("div","fls scrollable");b.appendChild(this.lz);this.aR=R.S("div");b.appendChild(this.aR);
this.aR.setAttribute("style","position:absolute; bottom:0;  background-color:white; padding: 2px 8px 0px 8px;");
this.oe=R.S("div","bar");this.oe.textContent="Name: ";var o=this.aw=R.S("input");o.setAttribute("type","text");
this.oe.appendChild(o);var Z=this.Y$=R.S("div","btn");Z.textContent="Save";this.oe.appendChild(Z);R.UB(Z,D);
R.c3(this.lz,this.h_);this.eq=0;this.Sp=w;this.Cb=R.S("div","btn");R.UB(this.Cb,this.zE.bind(this));
this.nA=new dC([{name:[6,20]}]);this.nA.parent=this;this.rj=new dC([{name:[5,4]},{name:[6,37]}]);this.rj.parent=this;
this.nA.h("select",this.kc,this);this.rj.h("select",this.kc,this);this.lz.addEventListener("contextmenu",this.h_);
this.a1V=R.S("span");this.IQ=R.S("span");this.IQ.setAttribute("style","position:absolute; right:0; top:5px;");
this.cs=[];this.IO=[];for(var U=0;U<3;U++){var $=R.S("div","btn");this.cs.push($);this.a1V.appendChild($);
R.UB($,D);$.textContent=["\u2B9C","\u2B9E","\uD83E\uDC09"][U]}for(var U=0;U<4;U++){var $=R.S("div","btn");
this.IO.push($);this.IQ.appendChild($);R.UB($,D)}window.addEventListener("message",this.axx.bind(this),!1);
this.akW=!1;setInterval(this.aaw.bind(this),300);this.v6()}Storage.prototype=new eE;Storage.prototype.aaw=function(){var w=R.FP(this.m),M=this.akW;
if(w&&!M){history.pushState(null,null,location.href);window.onpopstate=function(){history.go(1)}}if(!w&&M){window.onpopstate=function(){};
history.go(-1)}this.akW=w};Storage.prototype.v6=function(){if(this.c8)document.body.removeChild(this.c8);
this.uZ=[[]];this.lP=0;this.akz={"/":[]};this.AG="";this.OE=null;this.Uu=[];this.D9=[];var w="code/storages/"+Storage.list[this.Sp][1],M=this.c8=R.S("iframe");
M.setAttribute("src",w);M.setAttribute("style","display:none");document.body.appendChild(M)};Storage.prototype.aE=function(){return this.akz[this.eF()]};
Storage.prototype.np=function(w){this.akz[this.eF()]=w};Storage.fP=function(U){var w=Storage.vX[U];if(w==null)w=Storage.vX[U]=new Storage(U);
return w};Storage.vX=[];Storage.fv=0;Storage.abD="";Storage.C1=function(w,M){Storage.fv=w;Storage.abD=M;
var O=Storage.vX;for(var U=0;U<O.length;U++)if(O[U])O[U].Yk()};Storage.bn=0;Storage.Lg=2;Storage.A8=0;
Storage.list=[["This Device","deviceStorage.html","strg/tdevice"],["Google Drive","googledriveStorage.html","strg/gdrive"],["Shared Drives","googledriveStorage.html?sharedDrive=true","strg/gdrive"],["Dropbox","dropboxStorage.html","strg/dropbox"]];
Storage.an5=function(w){for(var U=0;U<Storage.vX.length;U++){if(Storage.vX[U]&&Storage.vX[U].c8.contentWindow==w)return!0}return!1};
Storage.prototype.aga=function(w){if(w.target.tagName=="INPUT")return;var M=i_;if(M.fI(w.code,M.wu)&&this.eF().length!=0)this.agS();
else if(w.ctrlKey){if(M.fI(w.code,M.t)){var O=[];this.np(O);for(var U=0;U<this.OE.length;U++)O.push(U);
this.MI()}if(M.fI(w.code,M.u8)){}if(M.fI(w.code,M.d9)){}}else if(M.fI(w.code,M.sW)){var b=this.aE();
if(b.length!=0)this.a9N(b[0])}else if(M.fI(w.code,M.iF)){this.lP=Math.max(this.lP-1,0);this.zE()}else{var D=0;
for(var U=65;U<=90;U++)if(w.code=="Key"+String.fromCharCode(U))D=U;if(D!=0){var o=String.fromCharCode(D).toLowerCase(),Z=[],$=this.OE,k;
for(var U=0;U<$.length;U++)if($[U][0][0].toLowerCase()==o)Z.push(U);if(Z.length==0)return;var b=this.aE();
if(b.length==0)k=Z[0];else{var E=Z.indexOf(b[0]);if(E==-1){k=Z[0];for(var U=0;U<Z.length;U++)if(Z[U]>b[0]){k=Z[U];
break}}else k=Z[(E+1)%Z.length]}this.np([k]);this.MI(!0)}}};Storage.prototype.nQ=function(w,M){this.jy=w;
this.e3=M;this.m.style.width=w+"px";this.m.style.height=M+"px";var O=w-30,b=Math.floor(O/230),O=Math.floor(O/b)-70;
this.aw$.textContent=".storage .tile .name {  width:"+O+"px;  }";this.aw.style.width=w-140+"px";this.lz.style.width=this.Qp.style.width=w-20+"px";
this.lz.style.height=M-70-(Storage.fv==0?0:45)+"px"};Storage.prototype.zE=function(){this.SP("show",this.eF())};
Storage.prototype.eF=function(w){var M=this.uZ[this.lP],O="/"+M.join("/");if(w&&M.length!=0)O+="/";return O};
Storage.prototype.a34=function(w){var M=w.currentTarget,O=this.lP,b=this.cs.indexOf(M),D=this.IO.indexOf(M);
if(b>=0&&!this.ae2(b))return;if(b==0){this.lP=Math.max(O-1,0);this.zE()}if(b==1){this.lP=Math.min(O+1,this.uZ.length-1);
this.zE()}if(b==2){var o=this.uZ[O+1]=this.uZ[O].slice(0);o.pop();this.lP++;this.uZ=this.uZ.slice(0,this.lP+1);
this.zE()}if(D==0){Storage.bn=(Storage.bn+1)%2;this.Yk()}if(D==1){Storage.Lg=(Storage.Lg+1)%3;this.Yk()}if(D==2){Storage.A8=(Storage.A8+1)%3;
this.Yk()}if(D==3){this.SP("forget","")}if(M==this.Y$){var Z=this.aw.value.trim(),$=this.OE,k=-1;if(!Z.toLowerCase().endsWith("psd")){alert("File Name has to end with \".psd\".");
return}for(var U=0;U<$.length;U++)if($[U][0]==Z)k=U;if(k!=-1){this.abc("Do you really want to replace \""+Z+"\"?",this.a6x.bind(this))}else this.a6x()}};
Storage.prototype.a6x=function(){var w=this.aw.value.trim(),M=[this.Sp,this.eF(!0)+w];this.sD({d:A.t.ak0,eh:M});
this.l(new aX("canclose",!0))};Storage.prototype.kc=function(w){var M=w.target.Mw()[0];if(w.target==this.nA){var O=[fr.get([6,20]),-1,0];
this.OE.push(O);this.Yk();var U=this.OE.indexOf(O),b=this.Uu[U].querySelector(".name");console.log(b);
var D=new dh.cQ(b,function(Z){this.sD({d:A.t.sN,bs:fr.get([1,2])+" ..."});var $=this.eF(!0)+Z+"/";console.log($);
this.SP("save",$)}.bind(this),!0)}else{if(M==0)this.agS();else{var U=this.aE()[0],o=this.OE[U],b=this.Uu[U].querySelector(".name");
console.log(b);b.innerHTML=o[0];var D=new dh.cQ(b,function(Z){Z=Z.trim();var $=this.OE;for(var U=0;U<$.length;
U++)if($[U][0]==Z){alert("Item with such name already exists.");this.Yk();return}var k=this.eF(!0)+o[0]+":"+Z;
console.log(k);this.SP("rename",k)}.bind(this))}}};Storage.prototype.agS=function(){var w=this.aE();
this.abc("Do you really want to delete "+(w.length==1?"\""+this.OE[w[0]][0]+"\"":"these files")+"?",this.E4.bind(this))};
Storage.prototype.abc=function(w,M){var O={d:A.t.JE,IP:"confirm",G:w,Wz:M};this.sD(O)};Storage.prototype.E4=function(){this.sD({d:A.t.sN,bs:fr.get([5,4])+" ..."});
this.D9=this.a9z();this.arx()};Storage.prototype.arx=function(){if(this.D9.length==0){this.sD({d:A.t.zk,bs:fr.get([5,4])+" ..."});
this.np([]);this.zE()}else this.SP("delete",this.D9.pop()[1])};Storage.prototype.a9z=function(){var w=[],M=this.eF(!0),O=this.aE();
for(var U=0;U<O.length;U++){var b=this.OE[O[U]];w.push([this.Sp,M+b[0]])}return w};Storage.prototype.SP=function(w,M){this.AG=w;
this.c8.contentWindow.postMessage("{\"code\": \""+w+"\", \"prm\": "+JSON.stringify(M)+"  }","*")};Storage.prototype.axx=function(w){if(w.source!=this.c8.contentWindow)return;
if(typeof w.data=="string"){var M=JSON.parse(w.data),O=M.code,b=M.prm;if(O=="ready"){if(b)this.zE();
else{R.Mh(this.Qp);R.Mh(this.lz);this.Qp.appendChild(this.Cb)}}else if(O!="0"){alert(b);this.Yk()}else if(this.AG=="show"){this.OE=b;
this.Yk()}else if(this.AG=="save"){this.sD({d:A.t.zk,bs:fr.get([1,2])+" ..."});this.zE()}else if(this.AG=="delete"){this.arx()}else if(this.AG=="forget"){this.v6()}else if(this.AG=="rename"){this.zE()}else throw O}else{this.sD({d:A.t.aoV,eh:this.a9z()[0],bg:w.data});
this.sD({d:A.t.zk,bs:"Opening ..."})}};Storage.prototype.ae2=function(U){if(U==0)return this.lP>0;if(U==1)return this.lP<this.uZ.length-1;
if(U==2)return this.eF()!="/"};Storage.prototype.Yk=function(){var w=this.OE,M=Storage.Lg,O=Storage.bn,b=Storage.A8;
if(w==null)return;w.sort(function(C,F){var m=C[1]==-1?1:5,N=F[1]==-1?1:5,v=0;if(Math.min(m,N)==1&&m!=N)return m-N;
else if(m==1||M==0)v=C[0].toLowerCase()<F[0].toLowerCase()?-1:1;else if(M==1)v=C[1]-F[1];else if(M==2)v=C[2]-F[2];
if(O==1)v=-v;return v});var D=this.lz,o=this.Qp,Z=this.uZ[this.lP];R.Mh(D);R.Mh(o);this.Uu=[];for(var U=0;
U<3;U++)if(this.ae2(U))R.Y4(this.cs[U],"disabled");else R.rV(this.cs[U],"disabled");o.appendChild(this.a1V);
o.appendChild(this.IQ);var $=R.S("span");$.textContent="/";o.appendChild($);for(var U=0;U<Z.length;U++){var $=R.S("span");
$.textContent=Z[U];o.appendChild($);var $=R.S("span");$.textContent="/";o.appendChild($)}var k=["tile","icon","litm"][b];
for(var U=0;U<w.length;U++){var E=w[U],t=E[1]==-1,c=t?"":kh.AE(E[1]),l=R.S("div","cont "+k);D.appendChild(l);
this.Uu.push(l);l.setAttribute("title",E[0]+(t?"":"\nSize: "+c+"\nDate Modified: "+new Date(E[2]*1e3).toLocaleString().replaceAll(". ",".")));
var q=R.S("img");q.setAttribute("src",t?Storage.alZ:E[3]?E[3]:Storage.Ti);if(!t&&E[3])q.setAttribute("style","box-shadow: 1px 1px 2.5px rgba(0,0,0, .4);");
var d=R.S("span","name"),V=E[0];if(k=="icon"&&V.length>30)V=V.slice(0,24)+".."+V.slice(V.length-5);d.textContent=V;
l.appendChild(q);l.appendChild(d);if(k!="icon"&&!t){if(k=="tile")R.Ca(d);var L=R.S("span");L.textContent=c;
L.style.opacity="0.8";(k=="tile"?d:l).appendChild(L)}var e=E[0].split("."),H=(e.length==1?"":e.pop()).toUpperCase();
if(k!="litm"&&!t&&E[3]==null){var j=R.S("span","ext");j.textContent=H;var g=Storage.lw[H];j.style.backgroundColor=g?g:Storage.a7M(H);
l.appendChild(j)}R.c3(l,this.h_);l.addEventListener("contextmenu",this.h_)}this.MI();var K=this.oe.parentNode!=null,a=Storage.fv,T=this.m;
if(K&&a==0)T.removeChild(this.oe);if(!K&&a==1)T.appendChild(this.oe);this.nQ(this.jy,this.e3);this.f()};
Storage.prototype.MI=function(w){var M=this.Uu,O=this.OE,b=this.aE(),D=!1,o=0;for(var U=0;U<M.length;
U++){var Z=O[U],$=Z[1]==-1,k=M[U];if(Storage.fv==1&&!$&&!Z[0].toLowerCase().endsWith(".psd"))k.style.display="none";
else k.style.display="auto";if(b.indexOf(U)==-1)R.Y4(k,"active");else{if($)D=!0;else o+=Z[1];R.rV(k,"active");
if(w)k.scrollIntoView({block:"center",behavior:"smooth"})}}var E=D?"":kh.AE(o);this.aR.textContent=b.length==0?"":b.length+" item"+(b.length==1?"":"s")+" selected\u2001"+E;
this.aw.value=b.length==1&&!D?O[b[0]][0]:Storage.abD};Storage.prototype.a9N=function(U){var w=this.OE[U];
if(w[1]==-1){var M=this.uZ[this.lP].slice(0);M.push(w[0]);this.lP++;this.uZ[this.lP]=M;this.uZ=this.uZ.slice(0,this.lP+1);
this.np([]);this.zE()}else if(Storage.fv==0){this.sD({d:A.t.sN,bs:"Opening ..."});this.l(new aX("canclose",!0));
var O=this.eF(!0)+w[0];this.SP("load",O)}};Storage.prototype.f=function(){var w=Storage.Lg,M=Storage.bn,O=Storage.A8;
this.IO[0].textContent=["\uD83E\uDC0B","\uD83E\uDC09"][M];this.IO[1].textContent=fr.get([[12,48],[12,14,0],"Date"][w]);
this.IO[2].textContent=fr.get(["Tiles","Icons",[25,3,1]][O]);this.IO[3].textContent="\u2716";this.Cb.textContent=fr.get([[23,6],Storage.list[this.Sp][0]])};
Storage.prototype.anZ=function(w){this.sD({d:A.t.qx});if(w.button==3||w.button==4){if(Date.now()-this.an2>50){var M=this.lP;
if(w.button==3)this.lP=Math.max(M-1,0);else this.lP=Math.min(M+1,this.uZ.length-1);this.zE()}this.an2=Date.now();
return}w.stopPropagation();var U=this.Uu.indexOf(w.currentTarget);if(w.type=="contextmenu"){if(this.OE==null)return;
w.preventDefault();var O=U==-1?this.nA:this.rj;O.parent=this;O.f();this.sD({d:A.t.U6,YT:O,x:w.clientX+4,y:w.clientY});
return}var b=this.aE(),D=b.indexOf(U);if(w.button!=0&&D!=-1)return;if(w.target==this.lz)this.np([]);
else{if(w.ctrlKey){if(D==-1)b.push(U);else b.splice(D,1)}else if(w.shiftKey&&b.length!=0){var o=b[0];
if(o<U){var Z=U;U=o;o=Z}b=[];this.np(b);for(var $=U;$<=o;$++)b.push($)}else{this.np([U]);if(Date.now()-this.eq<300&&b.length!=0&&b[0]==U){this.a9N(U);
this.eq=0}}}this.eq=Date.now();this.MI()};Storage.prototype.sD=function(w){var M=new aX(A.E.Z,!0);M.data=w;
this.l(M)};Storage.prototype.akV=function(w,M){this.sD({d:A.t.sN,bs:fr.get([1,2])+" ..."});this.SP("save",w);
this.c8.contentWindow.postMessage(M,"*")};Storage.lw={PDF:"#ff2222",PSD:"#005599",PSB:"#005599"};Storage.a7M=function(w){w=w.toLowerCase();
var M=0;for(var U=0;U<w.length;U++)M+=w.charCodeAt(U)*613<<8*U;return"#"+x.zZ(M&16777215)};Storage.alZ="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0ODggNDEwIiB3aWR0aD0iNDg4IiBoZWlnaHQ9IjQxMCI+PHRpdGxlPmZvbGRlci1zdmc8L3RpdGxlPjxzdHlsZT50c3BhbiB7IHdoaXRlLXNwYWNlOnByZSB9LnNocDAgeyBmaWxsOiAjZGJiMDY1IH0gLnNocDEgeyBmaWxsOiAjOTY3YTQ0IH0gLnNocDIgeyBmaWxsOiAjZjVjZTg1IH0gPC9zdHlsZT48cGF0aCBjbGFzcz0ic2hwMCIgZD0iTTcuMiA0MDMuNEw3LjIgNi42TDEzOC45NSA2LjZMMTc3LjM1IDQ1TDQ4MC44IDQ1TDQ4MC44IDQwMy40TDcuMiA0MDMuNFoiIC8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGFzcz0ic2hwMSIgZD0iTTE0MS42IDAuMkwxODAgMzguNkw0ODcuMiAzOC42TDQ4Ny4yIDQwOS44TDAuOCA0MDkuOEwwLjggMC4yTDE0MS42IDAuMlpNMTMuNiAxM0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxNzQuNyA1MS40TDEzNi4zIDEzTDEzLjYgMTNaIiAvPjxnID48cGF0aCBjbGFzcz0ic2hwMiIgZD0iTTcuMiA0MDMuNEw3LjIgNzAuNkwxNDMuNTMgNzAuNkwxODEuOTMgNDVMNDgwLjggNDVMNDgwLjggNDAzLjRMNy4yIDQwMy40WiIgLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsYXNzPSJzaHAxIiBkPSJNNDg3LjIgMzguNkw0ODcuMiA0MDkuOEwwLjggNDA5LjhMMC44IDY0LjJMMTQxLjYgNjQuMkwxODAgMzguNkw0ODcuMiAzOC42Wk0xODMuODggNTEuNEwxNDUuNDggNzdMMTMuNiA3N0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxODMuODggNTEuNFoiIC8+PC9nPjwvc3ZnPg==";
Storage.Ti="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNDggNDI0IiB3aWR0aD0iMzQ4IiBoZWlnaHQ9IjQyNCI+PHRpdGxlPmZpbGUtc3ZnPC90aXRsZT48c3R5bGU+dHNwYW4geyB3aGl0ZS1zcGFjZTpwcmUgfS5zaHAwIHsgZmlsbDogI2ZmZmZmZiB9IC5zaHAxIHsgZmlsbDogI2M3ZDdlMiB9IC5zaHAyIHsgZmlsbDogIzQ1NGI1NCB9IDwvc3R5bGU+PHBhdGggY2xhc3M9InNocDAiIGQ9Ik0yOTYgNDEyTDUyIDQxMkMzMCA0MTIgMTIgMzk0IDEyIDM3MkwxMiA1MkMxMiAzMCAzMCAxMiA1MiAxMkwyOTYgMTJDMzE4IDEyIDMzNiAzMCAzMzYgNTJMMzM2IDM3MkMzMzYgMzk0IDMxOCA0MTIgMjk2IDQxMloiIC8+PHBhdGggY2xhc3M9InNocDEiIGQ9Ik01MiA1MkwyOTYgNTJMMjk2IDExMkw1MiAxMTJMNTIgNTJaTTI3MiAxOTJMNjggMTkyQzYxLjIgMTkyIDU2IDE4Ni44IDU2IDE4MEM1NiAxNzMuMiA2MS4yIDE2OCA2OCAxNjhMMjcyIDE2OEMyNzguOCAxNjggMjg0IDE3My4yIDI4NCAxODBDMjg0IDE4Ni44IDI3OC44IDE5MiAyNzIgMTkyWk0yNzIgMjUyTDY4IDI1MkM2MS4yIDI1MiA1NiAyNDYuOCA1NiAyNDBDNTYgMjMzLjIgNjEuMiAyMjggNjggMjI4TDI3MiAyMjhDMjc4LjggMjI4IDI4NCAyMzMuMiAyODQgMjQwQzI4NCAyNDYuOCAyNzguOCAyNTIgMjcyIDI1MlpNMTc0IDMxMkw2OCAzMTJDNjEuMiAzMTIgNTYgMzA2LjggNTYgMzAwQzU2IDI5My4yIDYxLjIgMjg4IDY4IDI4OEwxNzQgMjg4QzE4MC44IDI4OCAxODYgMjkzLjIgMTg2IDMwMEMxODYgMzA2LjggMTgwLjggMzEyIDE3NCAzMTJaIiAvPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xhc3M9InNocDIiIGQ9Ik0yOTYgNDI0TDUyIDQyNEMyMy4yIDQyNCAwIDQwMC44IDAgMzcyTDAgNTJDMCAyMy4yIDIzLjIgMCA1MiAwTDI5NiAwQzMyNC44IDAgMzQ4IDIzLjIgMzQ4IDUyTDM0OCAzNzJDMzQ4IDQwMC44IDMyNC44IDQyNCAyOTYgNDI0Wk01MiAyNEMzNi40IDI0IDI0IDM2LjQgMjQgNTJMMjQgMzcyQzI0IDM4Ny42IDM2LjQgNDAwIDUyIDQwMEwyOTYgNDAwQzMxMS42IDQwMCAzMjQgMzg3LjYgMzI0IDM3MkwzMjQgNTJDMzI0IDM2LjQgMzExLjYgMjQgMjk2IDI0TDUyIDI0WiIgLz48L3N2Zz4=";
function j3(){eE.call(this);var w=this.m=R.S("div","form scrollable padded label12");this.ra=null;var M=[],O=hD.hg;
this.p2=[];for(var b in O){var D=parseInt(b.slice(1)),o=D%10==0?"":"\u2800\u2800- ";M.push(o+O[b]);this.p2.push(D)}this.tu=[new d8("Name",null,30),new d8("Description",null,30,4),new d8("File"," www.Photopea.com#i...",17),new d8("Thumbnail URL","* Use Imgur.com etc.",17),new ao("Category",M),new ji("Make Public"),new i8("<< Back",null,null,!0),new i8("Save",null,null,!0),new as("Publish your PSD: File - Publish Online - PSD. Use that URL as \"File\"."),new as("Get a Thumbnail URL: File - Publish Online - JPG. At Imgur.com, right-click your image and choose \"Copy Image Address\".")];
for(var U=0;U<this.tu.length;U++){var Z=this.tu[U];w.appendChild(Z.m);Z.parent=this;if(U!=4&&U!=6)R.Ca(w);
if(Z instanceof i8)Z.h("click",this.alS,this)}}j3.prototype=new eE;j3.prototype.alS=function(w){if(w.target==this.tu[6]){this.l(new aX("back"));
return}var M=this.tu[3].Q().trim(),O=M.startsWith("http")&&(M.endsWith(".jpeg")||M.endsWith(".jpg")||M.endsWith(".png")||M.endsWith(".gif"));
if(!O){alert("Thumbnail URL is incorrect.");return}var b=new XMLHttpRequest,D="mirror.php?url="+encodeURIComponent(M);
b.open("GET",D);b.responseType="arraybuffer";b.onload=this.ap0.bind(this);b.send()};j3.prototype.ap0=function(w){var M=w.target.response,O=M.byteLength;
if(O>2e5&&ce.S5(M)!="gif"){alert("Thumbnail is too large ("+kh.AE(O)+"). Make it under 200 kB.");return}var b="name desc file thmb catg publ".split(" "),D=this.ra;
for(var U=0;U<6;U++){var o=this.tu[U].Q();if(U<=3){o=o.trim();if(o.length==0){alert("One of values is empty.");
return}}if(U==2){var Z=o.split("#i");if(Z.length!=2||Z[1].length!=8){alert("File ID is incorrect.");
return}o=Z.pop()}if(U==4)o=this.p2[o];D[b[U]]=o}if(D.utme.length==0)D.utme=""+Math.round(Date.now()/1e3);
this.l(new aX("save"))};j3.prototype.f=function(){};j3.prototype.b=function(w){var M=this.ra=JSON.parse(JSON.stringify(w)),O="name desc file thmb catg publ".split(" ");
for(var U=0;U<6;U++){var b=M[O[U]];if(b!=""&&U==2)b="https://photopea.com#i"+b;if(U==4)b=this.p2.indexOf(b);
if(U==5&&b==null)b=!0;this.tu[U].b(b)}};j3.prototype.Q=function(){return JSON.parse(JSON.stringify(this.ra))};
function _(w){eE.call(this);this.RK=w;this.m=R.S("div","");this.vf=[];this.$b=null;this.a5Q=[]}_.prototype=new eE;
_.prototype.M_=function(w){};_.prototype.tF=function(){return!1};_.prototype.nQ=function(w,M){};_.prototype.o9=function(w,M){};
_.prototype.RY=function(w){};_.prototype.b=function(w,M,O,b,D,o){var Z=[],$=this.vf,k=0,E=ek.Ay["s"+this.RK];
E?E(w,Z,o):this.gw(w,Z,o);for(var U=0;U<$.length;U++)if(!($[U]instanceof as))$[U].b(Z[k++]);if(w.RndS)this.$b=w.RndS.v};
_.prototype.Q=function(){var w=ek.pp(this.RK),M=[],O=this.vf,b=0;for(var U=0;U<O.length;U++)if(!(O[U]instanceof as))M[b++]=O[U].Q();
var D=ek.Ay["g"+this.RK];D?D(w,M):this.l0(w,M);if(w.RndS)w.RndS.v=this.$b;return w};_.prototype.$m=function(w){};
_.prototype.LR=function(w){if(w&&w.target instanceof i8){this.$b=Math.floor(Math.random()*4294967295)}var M=this.a5Q;
for(var U=0;U<M.length;U+=2){var O=this.vf[M[U]],b=this.vf[M[U+1]],D=O.Q(),o=b.Q();if(w.target==O)b.b(Math.max(D,o));
else O.b(Math.min(D,o))}this.l(new aX(A.E.r))};_.prototype.f=function(){for(var U=0;U<this.vf.length;
U++)this.vf[U].f();var w=this.awM;if(w)w.f()};_.prototype.X2=function(w){R.rV(this.m,"form");var M=this.vf;
for(var U=0;U<M.length;U++){var O=M[U];O.parent=this;O.h(A.E.r,this.LR,this);this.m.appendChild(O.m);
if(O instanceof ji&&M[U+1]instanceof bQ)continue;if(w&&w.indexOf(U)!=-1)R.Y1(this.m);else R.Ca(this.m)}var b=ek.pp(this.RK);
if(b.RndS){var D=this.awM=new i8([25,1,2],null,null,!0);this.m.appendChild(D.m);D.h("click",this.LR,this)}};
_.prototype.CY=function(){return!1};_.prototype.kf=function(w,M,O,b,D){};_.prototype.Ha=function(w,M,O,b,D){};
_.prototype.oH=function(w,M,O,b,D){};_.prototype.l0=function(w,M){};_.prototype.gw=function(w,M){};_.prototype.MQ=function(w){var M=w.target.Q().indexOf(!0)!=-1,O=new aX(A.E.Z,!0);
O.Hb=!0;O.data={d:M?A.t.Mq:A.t.Nz,k:y.Gt};this.l(O);O=new aX(A.E.s,!0);O.k=y.Gt;O.Hb=!0;O.data={d:"supertool",k:M?this:null};
this.l(O)};_.avn=function(w){w.CY=function(){return!0};w.kf=function(M,O,b,D,o){this.Lc=!0;this.aeU(M,o)};
w.Ha=function(M,O,b,D,o){if(!this.Lc)return;this.aeU(M,o)};w.oH=function(M,O,b,D,o){this.Lc=!1};w.aeU=function(M,O){var b=new cn(0,0,M.e,M.n);
if(M.X)b=M.X.rect;var D=M.P.ep(O.x,O.y);D.x-=b.x;D.y-=b.y;function o(Z,$){return Math.round(Math.max(0,Math.min(100,100*Z/$)))}this.vf[2].b(o(D.x,b.e));
this.vf[3].b(o(D.y,b.n));this.LR()}};_.Bokh=function(){_.call(this,"Bokh");this.vf=[new ao("Depth Map",["A","b"]),new hy("Focal Distance",0,255),new ji([4,11]),new ao([12,76,1],["Triangle (3)",["VAR0 (4)",[12,93,3]],"Pentagon (5)","Hexagon (6)","Heptagon (7)","Octagon (8)"]),new hy([12,56],0,100),new hy([12,15],0,360),new hy([12,2],0,100),new hy([4,13],0,255),new hy([24,6],0,100),new il([12,58],[[12,59,0],[12,59,1]]),new ji([12,60])];
this.X2([5,7])};_.Bokh.prototype=new _;_.Bokh.prototype.gw=function(w,M,O){var b=[[22,5,0],[6,5,3],[6,2]],D=w.BkDi.v.BtDi,o=w.BkDc,Z=0;
if(D=="BeIn")Z=0;else if(D=="BeIt"&&o.v.BtDc=="BeCt")Z=1;else if(D=="BeIt"&&o.v.BtDc=="BeCm")Z=2;else Z=3+o.v;
for(var U=0;U<O[1].length;U++)b.push(O[1][U].name);this.vf[0].N8(b,[3]);M[0]=Z;M[1]=w.BkDp.v;M[2]=w.BkDs.v;
M[3]=parseInt(w.BkIs.v.BtIs.slice(3))-3;M[4]=w.BkIb.v;M[5]=w.BkIr.v;M[6]=w.BkSb.v;M[7]=w.BkSt.v;M[8]=w.BkNa.v;
M[9]=w.BkNt.v.BtNt=="BeNu"?0:1;M[10]=w.BkNm.v};_.Bokh.prototype.l0=function(w,M){var O;if(M[0]==0){O="BeIn";
delete w.BkDc}else if(M[0]<3){O="BeIt";w.BkDc={t:"enum",v:{BtDc:["BeCt","BeCm"][M[0]-1]}}}else{O="BeIa";
w.BkDc={t:"long",v:M[0]-3}}w.BkDi.v.BtDi=O;w.BkDp.v=M[1];w.BkDs.v=M[2];w.BkIs.v.BtIs="BeS"+(3+M[3]);
w.BkIb.v=M[4];w.BkIr.v=M[5];w.BkSb.v=M[6];w.BkSt.v=M[7];w.BkNa.v=M[8];w.BkNt.v.BtNt=["BeNu","BeNg"][M[9]];
w.BkNm.v=M[10]};_.oilPaint=function(){_.call(this,"oilPaint");this.vf=[new hy([12,56],.1,10,"px",!0),new hy("Cleanliness",0,10,"px",!0),new hy([12,38],.1,10,null,!0),new hy("Bristle Detail",0,10,null,!0),new ji("Lighting"),new hy("Shine",0,10,null,!0),new jr([12,15])];
this.X2()};_.oilPaint.prototype=new _;_.oilPaint.prototype.gw=function(w,M){var O="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var U=0;U<O.length;U++)M[U]=w[O[U]].v;M[6]=[w.LghD.v]};_.oilPaint.prototype.l0=function(w,M){var O="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var U=0;U<O.length;U++)w[O[U]].v=M[U];w.LghD.v=M[6][0]};_.TrcC=function(){_.call(this,"TrcC");this.vf=[new hy("Level",0,255),new il([12,69],[[19,4,1],[19,4,0]])];
this.X2()};_.TrcC.prototype=new _;_.TrcC.prototype.gw=function(w,M){M[0]=w.Lvl.v;M[1]=["Lwr","Upr"].indexOf(w.Edg.v.CntE)};
_.TrcC.prototype.l0=function(w,M){w.Lvl.v=M[0];w.Edg.v.CntE=["Lwr","Upr"][M[1]]};_["Dfs "]=function(){_.call(this,"Dfs ");
this.vf=[new il([12,36],[[15,10,0],[15,10,6],[15,10,11],"Anisotropic"])];this.X2()};_["Dfs "].prototype=new _;
_["Dfs "].prototype.gw=function(w,M){M[0]=["Nrml","DrkO","LghO","anisotropic"].indexOf(w.Md.v.DfsM)};
_["Dfs "].prototype.l0=function(w,M){w.Md.v.DfsM=["Nrml","DrkO","LghO","anisotropic"][M[0]]};_.Embs=function(){_.call(this,"Embs");
this.vf=[new jr([12,15]),new hy([12,42],1,100,"px"),new hy([12,57],1,500,"%")];this.X2()};_.Embs.prototype=new _;
_.Embs.prototype.gw=function(w,M){M[0]=[w.Angl.v];M[1]=w.Hght.v;M[2]=w.Amnt.v};_.Embs.prototype.l0=function(w,M){w.Angl.v=M[0][0];
w.Hght.v=M[1];w.Amnt.v=M[2]};_["Wnd "]=function(){_.call(this,"Wnd ");this.vf=[new il([12,32],["Wind","Blast","Stagger"]),new il([12,33],["From the Right","From the Left"])];
this.X2()};_["Wnd "].prototype=new _;_["Wnd "].prototype.gw=function(w,M){M[0]=["Wnd","Blst","Stgr"].indexOf(w.WndM.v.WndM);
M[1]=["Left","Rght"].indexOf(w.Drct.v.Drct)};_["Wnd "].prototype.l0=function(w,M){w.WndM.v.WndM=["Wnd","Blst","Stgr"][M[0]];
w.Drct.v.Drct=["Left","Rght"][M[1]]};_.denoise=function(){_.call(this,"denoise");this.vf=[new hy([12,64],0,10),new hy([12,65],0,100,"%")];
this.X2()};_.denoise.prototype=new _;_.denoise.prototype.gw=function(w,M){var O=w.channelDenoise.v[0].v;
M[0]=O.Amnt.v;M[1]=O.EdgF.v};_.denoise.prototype.l0=function(w,M){var O=w.channelDenoise.v[0].v;O.Amnt.v=M[0];
O.EdgF.v=M[1]};_.lightFilterGradient=function(){_.call(this,"lightFilterGradient");this.vf=[new hy([24,3,1],0,100,"px",1,!0),new hy([12,38],0,200,"%"),new ji([4,11]),new hy("High",0,100,"%"),new hy("Medium",0,100,"%"),new hy("Low",0,100,"%")];
this.X2()};_.lightFilterGradient.prototype=new _;_.lightFilterGradient.prototype.gw=function(w,M){M[0]=w.blur.v;
M[1]=w.textureScale.v*100;M[2]=w.Scl.v==-1;var O=w.Dtl.v;M[3]=O[0].v*100;M[4]=O[1].v*100;M[5]=O[2].v*100};
_.lightFilterGradient.prototype.l0=function(w,M){w.blur.v=M[0];w.textureScale.v=M[1]/100;w.Scl.v=M[2]?-1:1;
var O=w.Dtl.v;O[0].v=M[3]/100;O[1].v=M[4]/100;O[2].v=M[5]/100};_.Fbrs=function(){_.call(this,"Fbrs");
this.vf=[new hy("Variance",1,64),new hy([12,64],1,64)];this.X2()};_.Fbrs.prototype=new _;_.Fbrs.prototype.gw=function(w,M){M[0]=w.Vrnc.v;
M[1]=w.Strg.v};_.Fbrs.prototype.l0=function(w,M){w.Vrnc.v=M[0];w.Strg.v=M[1]};_.LnsF=function(){_.call(this,"LnsF");
this.vf=[new hy([12,2],10,300,"%"),new il([12,44],["Lens 1","Lens 2","Lens 3","Lens 4"]),new hy("Position X",0,100,"%"),new hy("Position Y",0,100,"%")];
this.X2()};_.LnsF.prototype=new _;_.LnsF.prototype.gw=function(w,M){M[0]=w.Brgh.v;M[1]=["Zm","Nkn","Nkn1","PnVs"].indexOf(w.Lns.v.Lns);
var O=w.FlrC.v;M[2]=Math.round(O.Hrzn.v*100);M[3]=Math.round(O.Vrtc.v*100)};_.LnsF.prototype.l0=function(w,M){w.Brgh.v=M[0];
w.Lns.v.Lns=["Zm","Nkn","Nkn1","PnVs"][M[1]];var O=w.FlrC.v;O.Hrzn.v=M[2]/100;O.Vrtc.v=M[3]/100};_.avn(_.LnsF.prototype);
_.blendOptions=function(){_.call(this,"blendOptions");this.vf.push(new ao([12,19,0],gA.Is,!1,gA.Ch));
this.vf.push(new hy([12,0],0,100,"%"));this.X2()};_.blendOptions.prototype=new _;_.blendOptions.prototype.gw=function(w,M){M[0]=gA.vs.indexOf(w.Md.v.BlnM);
M[1]=w.Opct.v.val};_.blendOptions.prototype.l0=function(w,M){w.Md.v.BlnM=gA.vs[M[0]];w.Opct.v.val=M[1]};
_.LnCr=function(){_.call(this,"LnCr");this.vf=[new hy([12,57],-100,100),new hy([12,38],10,150,"%")];
this.X2()};_.LnCr.prototype=new _;_.LnCr.prototype.gw=function(w,M){M[0]=w.LnIa.v;M[1]=w.LnSi.v};_.LnCr.prototype.l0=function(w,M){w.LnIa.v=M[0];
w.LnSi.v=M[1]};_.adaptCorrect=function(){_.call(this,"adaptCorrect");var w=cq;this.vf=[new as([19,6,0]),new w([12,57],0,100,"%"),new w("Tone",0,100,"%"),new w([12,56],0,200,"px"),new as([19,6,2]),new w([12,57],0,100,"%"),new w("Tone",0,100,"%"),new w([12,56],0,200,"px"),new as([3]),new w([13,0],-100,100)];
this.X2([3,7])};_.adaptCorrect.prototype=new _;_.adaptCorrect.prototype.gw=function(w,M){var O=w.sdwM.v;
M[0]=O.Amnt.v.val;M[1]=O.Wdth.v.val;M[2]=O.Rds.v;var O=w.hglM.v;M[3]=O.Amnt.v.val;M[4]=O.Wdth.v.val;
M[5]=O.Rds.v;M[6]=w.ClrC.v};_.adaptCorrect.prototype.l0=function(w,M){var O=w.sdwM.v;O.Amnt.v.val=M[0];
O.Wdth.v.val=M[1];O.Rds.v=M[2];var O=w.hglM.v;O.Amnt.v.val=M[3];O.Wdth.v.val=M[4];O.Rds.v=M[5];w.ClrC.v=M[6]};
_.Flam=function(){_.call(this,"Flam");var w=this.vf=[new ao([12,44],"One Flame Along Path,Multiple Flames Along Path,Multiple Flames One Direction,Multiple Flames Path Directed,Multiple Flames Various Angle,Candle Light".split(",")),new hy([12,80,0],20,1e3,"px"),new ji("Randomize Length"),new hy([12,41],5,600,"px"),new hy([12,15],0,360,"\xB0"),new hy("Interval",10,200,"px"),new ji("Adapt Interval for Loops"),new bQ(!1),new ao([12,52,0],["1: Draft","2: Low","3: Medium","4: High","5: Fine"]),new hy("Turbulent",0,100),new hy("Jag",0,100),new hy([12,0],0,100),new hy("Lines",2,30),new hy("Bottom",0,100),new ao([12,22],["Normal","Violent","Flat"]),new ao([12,76,1],["Parallel","To the center","Spread","Oval","Pointing"]),new ji("Randomize Shape"),new hy("Random Seed",0,100)];
this.X2();var M=this.m;R.Mh(M);var O=new il(null,["Basic","Advanced"]);O.h(A.E.r,this.akF,this);M.appendChild(O.m);
R.Y1(M);var b=R.S("div"),D=R.S("div");this.aiB=[b,D];M.appendChild(b);for(var U=0;U<w.length;U++){(U<9?b:D).appendChild(w[U].m);
if(U==6)R.Ca(b)}w[0].h(A.E.r,this.ahh,this);this.ahh()};_.Flam.prototype=new _;_.Flam.prototype.ahh=function(w){var M=this.vf,U=M[0].Q();
M[1].Sc(U!=0&&U!=5);M[2].Sc(U!=0&&U!=5);M[4].Sc(U!=0&&U!=5&&U!=1);M[5].Sc(U!=0&&U!=5);M[6].Sc(U!=0&&U!=5)};
_.Flam.prototype.akF=function(w){var U=w.target.Q(),M=this.aiB,O=this.m;O.removeChild(M[1-U]);O.appendChild(M[U])};
_.boxblur=function(){_.call(this,"boxblur");this.vf=[new hy([12,56],1,200," px")];this.X2()};_.boxblur.prototype=new _;
_.boxblur.prototype.gw=function(w,M){M[0]=w.Rds.v.val};_.boxblur.prototype.l0=function(w,M){w.Rds.v.val=M[0]};
_.GsnB=function(){_.call(this,"GsnB");this.vf=[new hy([12,56],.1,400,"px",1,!0)];this.X2()};_.GsnB.prototype=new _;
_.MtnB=function(){_.call(this,"MtnB");this.vf=[new jr([12,15]),new hy([12,28],1,100," px")];this.X2()};
_.MtnB.prototype=new _;_.RdlB=function(){_.call(this,"RdlB");this.vf=[new hy([12,57],1,100),new il([12,36],["Spin","Zoom"]),new hy("Position X",0,100,"%"),new hy("Position Y",0,100,"%")];
this.X2()};_.RdlB.prototype=new _;_.RdlB.prototype.gw=function(w,M){M[0]=w.Amnt.v;M[1]=["Spn","Zm"].indexOf(w.BlrM.v.BlrM);
M[2]=w.Cntr.v.Hrzn.v*100;M[3]=w.Cntr.v.Vrtc.v*100};_.RdlB.prototype.l0=function(w,M){w.Amnt.v=M[0];w.BlrM.v.BlrM=["Spn","Zm"][M[1]];
w.Cntr.v.Hrzn.v=M[2]/100;w.Cntr.v.Vrtc.v=M[3]/100};_.avn(_.RdlB.prototype);_.Dspl=function(){_.call(this,"Dspl");
this.vf=[new ao([6,36,3],["a","b"]),new hy([22,4,0],-100,100,"px"),new hy([22,4,1],-100,100,"px"),new ao([24,18,0],[[24,18,3],[24,18,2]])];
this.X2()};_.Dspl.prototype=new _;_.Dspl.prototype.gw=function(w,M,O){this.a38=[];this.eu=[];var b=-1,D=O?O[0]:null;
if(D==null)D=this.aad;else this.aad=D;if(D)for(var U=0;U<D.length;U++){var o=D[U];this.a38.push(o.P_.trim());
this.eu.push(o.QV);if(o.QV==w.DspF.v.pth)b=U}this.vf[0].N8(this.a38);M[0]=b==-1?0:b;M[1]=w.HrzS.v;M[2]=w.VrtS.v;
M[3]=["WrpA","RptE"].indexOf(w.UndA.v.UndA)};_.Dspl.prototype.l0=function(w,M){if(this.eu.length==0)return;
w.DspF.v.pth=this.eu[M[0]];w.HrzS.v=M[1];w.VrtS.v=M[2];w.UndA.v.UndA=["WrpA","RptE"][M[3]]};_.Pnch=function(){_.call(this,"Pnch");
this.vf=[new hy([12,57],-100,100,"%")];this.X2()};_.Pnch.prototype=new _;_["Plr "]=function(){_.call(this,"Plr ");
this.vf=[new il(null,["Rect to Polar","Polar to Rect"])];this.X2()};_["Plr "].prototype=new _;_.Rple=function(){_.call(this,"Rple");
this.vf=[new hy([12,57],-999,999),new ao([12,14,0],[[19,8,0],[19,8,1],[19,8,2]])];this.X2()};_.Rple.prototype=new _;
_["Shr "]=function(){_.call(this,"Shr ");this.vf=[new fW(!0,!0),new ao([24,18,0],[[24,18,3],[24,18,2]])];
this.X2()};_["Shr "].prototype=new _;_["Shr "].prototype.gw=function(w,M){var O=new f$(0,255/127,255/127,0,-2,128),b=JSON.parse(JSON.stringify(w.ShrP.v));
x.kE.F(b,O);M[0]=b;M[1]=["WrpA","RptE"].indexOf(w.UndA.v.UndA)};_["Shr "].prototype.l0=function(w,M){var O=new f$(0,255/127,255/127,0,-2,128);
O.ZW();x.kE.F(M[0],O);w.ShrP.v=M[0];w.ShrE.v=M[0].length-1;w.UndA.v.UndA=["WrpA","RptE"][M[1]]};_.Sphr=function(){_.call(this,"Sphr");
this.vf=[new hy([12,57],-100,100),new ao([12,36],[[15,10,0],[22,4,0],[22,4,1]])];this.X2()};_.Sphr.prototype=new _;
_.Sphr.prototype.gw=function(w,M){M[0]=w.Amnt.v;M[1]=["Nrml","HrzO","VrtO"].indexOf(w.SphM.v.SphM)};
_.Sphr.prototype.l0=function(w,M){w.Amnt.v=M[0];w.SphM.v.SphM=["Nrml","HrzO","VrtO"][M[1]]};_.Dthr=function(){_.call(this,"Dthr");
this.vf=[new ao("Palette",[[4,7],"RGB 2x2x2","RGB 4x4x4","RGB 8x8x4"])];this.X2()};_.Dthr.prototype=new _;
_.Dthr.prototype.gw=function(w,M){M[0]=w.Plte.v};_.Dthr.prototype.l0=function(w,M){w.Plte.v=M[0]};_.Part=function(){_.call(this,"Part");
this.vf=[new hy([15,5,1],0,100,"%"),new hy([12,14,0],1,50,"px"),new hy([12,34],0,100,"%"),new hy([12,2],10,1e3,"%"),new bQ(!0),new hy("Time",0,1,null,3),new hy("Turbulence",0,100,"%"),new ji("Blink"),new ji("Fall")];
this.X2([4])};_.Part.prototype=new _;_.Part.prototype.gw=function(w,M){M[0]=w.Cont.v;M[1]=w.Size.v;M[2]=w.Dpth.v;
M[3]=w.Brgh.v;M[4]=w.Clr.v;M[5]=w.Time.v;M[6]=w.Turb.v;M[7]=w.Blnk.v;M[8]=w.Fall.v};_.Part.prototype.l0=function(w,M){w.Cont.v=M[0];
w.Size.v=M[1];w.Dpth.v=M[2];w.Brgh.v=M[3];w.Clr.v=M[4];w.Time.v=M[5];w.Turb.v=M[6];w.Blnk.v=M[7];w.Fall.v=M[8]};
_.Twrl=function(){_.call(this,"Twrl");this.vf=[new hy([12,15],-999,999)];this.X2()};_.Twrl.prototype=new _;
_.Wave=function(){_.call(this,"Wave");this.a5Q=[1,2,3,4];this.vf=[new hy("Number of Generators",1,100),new cq("Min Length",1,999),new cq("Max Length",1,999),new cq("Min Ampl.",1,999),new cq("Max Ampl.",1,999),new cq("Scale X",1,100,"%"),new cq("Scale Y",1,100,"%"),new il([12,44],["Sine","Triangle",[12,93,3]]),new ao([24,18,0],[[24,18,3],[24,18,2]])];
this.X2()};_.Wave.prototype=new _;_.ZgZg=function(){_.call(this,"ZgZg");this.vf=[new hy([12,57],-100,100),new hy("Ridges",0,20),new ao([12,22],["Around Center","Out From Center","Pond Ripples"])];
this.X2()};_.ZgZg.prototype=new _;_.surfaceBlur=function(){_.call(this,"surfaceBlur");this.vf=[new hy([12,56],1,200," px"),new hy([4,13],1,255," px")];
this.X2()};_.surfaceBlur.prototype=new _;_.surfaceBlur.prototype.gw=function(w,M){M[0]=w.Rds.v.val;M[1]=w.Thsh.v};
_.surfaceBlur.prototype.l0=function(w,M){w.Rds.v.val=M[0];w.Thsh.v=M[1]};_.AdNs=function(){_.call(this,"AdNs");
this.vf=[new hy([12,57],0,200," %"),new ao([12,58],[[12,59,1],[12,59,0]]),new ji([12,60])];this.X2()};
_.AdNs.prototype=new _;_.DstS=function(){_.call(this,"DstS");this.vf=[new hy([12,56],1,200," px"),new hy([4,13],1,255," px")];
this.X2()};_.DstS.prototype=new _;_["Mdn "]=function(){_.call(this,"Mdn ");this.vf=[new hy([12,56],1,200," px")];
this.X2()};_["Mdn "].prototype=new _;_["Mdn "].prototype.gw=function(w,M){M[0]=w.Rds.v.val};_["Mdn "].prototype.l0=function(w,M){w.Rds.v.val=M[0]};
_.ClrH=function(){_.call(this,"ClrH");this.vf=[new hy([12,56],4,100," px")];for(var U=1;U<4;U++)this.vf.push(new hy("Angle "+U,0,90," \xB0"));
this.X2()};_.ClrH.prototype=new _;_.ClrH.prototype.gw=function(w,M){M[0]=w.Rds.v;for(var U=1;U<4;U++)M[U]=w["Ang"+U].v};
_.ClrH.prototype.l0=function(w,M){w.Rds.v=M[0];for(var U=1;U<4;U++)w["Ang"+U].v=M[U]};_.ClrH.prototype.f=function(){var w=this.vf;
w[0].f();for(var U=1;U<4;U++)w[U].RD(fr.get([12,15])+" "+U)};_.Crst=function(){_.call(this,"Crst");this.vf=[new hy([12,61],3,100," px")];
this.X2()};_.Crst.prototype=new _;_.Crst.prototype.gw=function(w,M){M[0]=w.ClSz.v};_.Crst.prototype.l0=function(w,M){w.ClSz.v=M[0]};
_.Mztn=function(){_.call(this,"Mztn");this.vf.push(new ao([12,44],"Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","),null,[4,3,3]));
this.eu="FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" ");this.X2()};_.Mztn.prototype=new _;
_.Mztn.prototype.gw=function(w,M){M[0]=this.eu.indexOf(w.MztT.v.MztT)};_.Mztn.prototype.l0=function(w,M){w.MztT.v.MztT=this.eu[M[0]]};
_["Msc "]=function(){_.call(this,"Msc ");this.vf=[new hy([12,61],2,200," px")];this.X2()};_["Msc "].prototype=new _;
_["Msc "].prototype.gw=function(w,M){M[0]=w.ClSz.v.val};_["Msc "].prototype.l0=function(w,M){w.ClSz.v.val=M[0]};
_.Pntl=function(){_.call(this,"Pntl");this.vf=[new hy([12,61],3,100," px")];this.X2()};_.Pntl.prototype=new _;
_.Pntl.prototype.gw=function(w,M){M[0]=w.ClSz.v};_.Pntl.prototype.l0=function(w,M){w.ClSz.v=M[0]};_.smartSharpen=function(){_.call(this,"smartSharpen");
this.vf=[new hy([12,57],1,200,"%"),new hy([12,56],0,200,"px",1,!0)];this.X2()};_.smartSharpen.prototype=new _;
_.smartSharpen.prototype.gw=function(w,M){M[0]=w.Amnt.v.val;M[1]=w.Rds.v.val};_.smartSharpen.prototype.l0=function(w,M){w.Amnt.v.val=M[0];
w.Rds.v.val=M[1]};_.UnsM=function(){_.call(this,"UnsM");this.vf=[new hy([12,57],1,200," %"),new hy([12,56],.1,400,"px",1,!0),new hy([4,13],0,255," ")];
this.X2()};_.UnsM.prototype=new _;_.HghP=function(){_.call(this,"HghP");this.vf=[new hy([12,56],.1,400,"px",1,!0)];
this.X2()};_.HghP.prototype=new _;_.HsbP=function(){_.call(this,"HsbP");this.vf=[new il("Input",["RGB","HSB","HSL"]),new il("Output",["RGB","HSB","HSL"])];
this.X2()};_.HsbP.prototype=new _;_["Mxm "]=function(){_.call(this,"Mxm ");this.vf=[new hy([12,56],.1,200," px",1,!0),new ao([12,76,1],[[12,93,3],"Circle"])];
this.X2()};_["Mxm "].prototype=new _;_["Mnm "]=function(){_.call(this,"Mnm ");this.vf=[new hy([12,56],.1,200," px",1,!0),new ao([12,76,1],[[12,93,3],"Circle"])];
this.X2()};_["Mnm "].prototype=new _;_.Ofst=function(){_.call(this,"Ofst");this.vf=[new hy([22,4,0],-1024,1024," px"),new hy([22,4,1],-1024,1024," px"),new ao([24,18,0],[[24,18,2],[24,18,1],[24,18,3]])];
this.X2()};_.Ofst.prototype=new _;_.Kale=function(){_.call(this,"Kale");this.vf=[new cq("Mirrors",2,20),new cq([12,15],0,360,"\xB0")];
this.X2()};_.Kale.prototype=new _;_.Kale.prototype.gw=function(w,M){M[0]=w.Mirr.v;M[1]=w.MRot.v};_.Kale.prototype.l0=function(w,M){w.Mirr.v=M[0];
w.MRot.v=M[1]};_.Rept=function(){_.call(this,"Rept");this.vf=[new cq([12,38],1,300," %"),new cq("Row Shift",-50,50," %"),new cq("Space X",-99,200," %"),new cq("Space Y",-99,200," %"),new ji([4,16,2]),new jr([12,15])];
this.X2()};_.Rept.prototype=new _;_.Rept.prototype.gw=function(w,M){M[0]=w.Scl.v.val;M[1]=w.Rsft.v.val;
M[2]=w.SpcX.v.val;M[3]=w.SpcY.v.val;M[4]=w.SpcC.v;M[5]=[w.Angl.v]};_.Rept.prototype.l0=function(w,M){w.Scl.v.val=M[0];
w.Rsft.v.val=M[1];w.SpcX.v.val=M[2];w.SpcY.v.val=M[3];w.SpcC.v=M[4];w.Angl.v=M[5][0];return w};_.Ctoa=function(){_.call(this,"Ctoa");
this.vf=[new as([13,0]),new bQ(!0),new hy(["VAR0 VAR1","Transparency",[4,13]],0,100," %"),new hy(["VAR0 VAR1",[12,0],[4,13]],0,100," %")];
this.X2()};_.Ctoa.prototype=new _;_.Ctoa.prototype.gw=function(w,M){M[0]=w.Clr.v;M[1]=w.Trsp.v.val;M[2]=w.Opct.v.val};
_.Ctoa.prototype.l0=function(w,M){w.Clr.v=M[0];w.Trsp.v.val=M[1];w.Opct.v.val=M[2]};_.LqFy=function(){_.call(this,"LqFy");
this.ar=!1;this.x$=!1;this.Qe=null;this.amW=null;this.k=0;this.Tx=-1;this.c={fo:[[{k:{id:0,name:[24,1,0,1,0],O2:"liq/smudge"}}],[{k:{id:1,name:[24,1,0,1,1],O2:"liq/reconstruct"}}],[{k:{id:2,name:[24,1,0,1,2],O2:"liq/smooth"}}],[{k:{id:3,name:[24,1,0,1,3],O2:"liq/twirl"}}],[{k:{id:4,name:[24,1,0,1,4],O2:"liq/shrink"}}],[{k:{id:5,name:[24,1,0,1,5],O2:"liq/blow"}}],[{k:{id:6,name:[24,1,0,1,6],O2:"liq/pleft"}}],[{k:{id:7,name:"Hand",O2:"tools/hand"}}],[{k:{id:8,name:"Zoom In",O2:"zoomIn"}}],[{k:{id:9,name:"Zoom Out",O2:"zoomOut"}}]],keys:[]};
this.Lo=new ha(this.c,!1);this.Lo.$o(0);this.Lo.h(A.E.Z,this.a0L,this);this.vH=b6.dd();this.Vf=null;
this.Ug=[];this.am=-1;this.qo=null;this.a4o=null;this.R$=null;this.uG=null;this.hH=null;var w=R.S("div","flexrow");
this.x4=w;this.m.appendChild(w);w.appendChild(this.Lo.m);this.view=new jw(!0);this.view.nQ(100,100);
this.view.h("mousedown",this.pu,this);this.view.h("mousemove",this.xL,this);this.view.h("mouseup",this.hN,this);
this.view.h("zoom",this.lI,this);w.appendChild(this.view.m);var M=R.S("div","form");w.appendChild(M);
this.qJ=M;M.style.width="230px";this.iJ=[new hy([12,14,0],0,1e3,null,!1,!0),new hy([12,74],0,100,null,!1,!1),new hy([12,84],0,100,null,!1,!1),new ji([12,46]),new hy([12,0],0,100,null,!1,!1),new ji([24,18,5])];
var O=this.vH.Brsh.v;O.Dmtr.v.val=100;var b=[100,50,100,!1,100,!0];for(var U=0;U<this.iJ.length;U++){var D=this.iJ[U];
D.b(b[U]);if(U==4)D.Sq();D.h(A.E.r,this.aqx,this);M.appendChild(D.m)}var o=this.auj=new i8([1,12,2],!0,null,!0);
o.h("click",this.R_,this);M.appendChild(o.m);this.a8N=this.QP.bind(this);this.ke=new eE;this.ke.m=R.S("div","floatcont");
this.ZN=new i8("Menu",!1,null,!0);var Z=this.ZN.m;Z.setAttribute("style","position:absolute; right:13px; top:47px");
R.c3(Z,this.amM.bind(this))};_.LqFy.prototype=new _;_.LqFy.prototype.tF=function(){return!0};_.LqFy.prototype.M_=function(w){this.qJ.appendChild(w)};
_.LqFy.prototype.amM=function(w){if(R.FP(this.ke.m))return;w.stopPropagation();var M=this.ZN.m.getBoundingClientRect();
this.ke.m.appendChild(this.qJ);var O=new aX(A.E.Z,!0);O.data={d:A.t.U6,YT:this.ke,x:M.right+M.width-290,y:M.top+M.height};
this.l(O)};_.LqFy.prototype.$m=function(w){this.ar=w.i(i_.PY);var M=y.fV.V3(this.vH,w);if(M!=null){this.vH=M;
this.lI();this.iJ[0].b(M.Brsh.v.Dmtr.v.val)}else if(w.i(i_.v9)&&w.i(i_.sy)){var O=this.Ug;if(w.i(i_.Z4)){if(this.am+1<O.length)this.am++}else if(this.am>0)this.am--;
this.Vf.map=O[this.am].slice(0);this.Yk(null)}else if(this.k<=6)this.view.$m(w);var b=this.k,D=-1,o=w.i(i_.PY);
if(o&&this.Tx==-1){if(b==0)D=1;if(b==4)D=5;if(b==5)D=4;if(D!=-1)this.Tx=b}if(!o&&this.Tx!=-1){D=this.Tx;
this.Tx=-1}if(D!=-1){this.k=D;this.Lo.$o(this.k)}};_.LqFy.prototype.a0L=function(w){if(w.data.d==A.t.Mq){var M=this.k=w.data.k;
this.Lo.$o(this.k);this.view.$m(M>6?jw.aao(M-7):new i_)}};_.LqFy.prototype.aqx=function(w){var M=w.currentTarget,U=this.iJ.indexOf(M),O=this.vH.Brsh.v;
if(U==0){O.Dmtr.v.val=M.Q();this.lI()}this.iJ[4].Sc(this.iJ[3].Q());if(U>2)this.Yk(null)};_.LqFy.prototype.Yh=function(){var w=this.Ug;
this.am++;w[this.am]=this.Vf.map.slice(0);while(w.length>this.am+1)w.pop();while(w.length>50){w=w.slice(1);
this.am--}};_.LqFy.prototype.pu=function(w){this.Qe=this.view.o8();this.amW=new at(0,0);this.x$=!0;window.requestAnimationFrame(this.a8N)};
_.LqFy.prototype.xL=function(w){var M=this.view.o8(),O=new at(M.x-this.Qe.x,M.y-this.Qe.y);if(this.k==0||this.k==6)this.ax$(O);
this.Qe=M};_.LqFy.prototype.hN=function(w){this.Yh();this.x$=!1};_.LqFy.prototype.QP=function(w){if(this.k!=0&&this.k!=6)this.ax$(new at(0,0));
if(this.x$)window.requestAnimationFrame(this.a8N)};_.LqFy.prototype.ax$=function(w){var M=this.Vf,O=M.jy/this.qo.e,b=this.Qe,D=this.vH.Brsh.v,o=D.Dmtr.v.val,Z=Date.now(),$=M.jy,k=M.e3,E=Math.sqrt(w.x*w.x+w.y*w.y),t=Math.max(1,Math.ceil(E/2)),c=w.x/t,l=w.y/t,q=b.clone(),d=this.k,V=this.iJ[1].Q()/100,L=this.iJ[2].Q()/100,e=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],H=e[d*2],j=e[d*2+1],g=(1-V)*H+V*j,K=o*O/2;
for(var U=0;U<t;U++){var a=[];q.x+=c;q.y+=l;x.gO.apL(M.map,$,k,d,q.x*O,q.y*O,K,V,L,c*O,l*O,a,this.ar);
x.gO.aiZ($,k,M.map,a,2*g*L)}var T=new cn(0,0,$,k),C=new cn(b.x*O,b.y*O,0,0);C.M0(o*O*.5,o*O*.5);var F=C.clone();
F.offset(w.x*O,w.y*O);C=C.MK(F);var m=new cn(C.x/O,C.y/O,C.e/O,C.n/O);m=x.p.Mf(m).mX(this.qo);this.iJ[5].b(!0);
this.Yk(m)};_.LqFy.prototype.lI=function(){var w=i$.Rc(this.vH,null,this.view.yx().T);this.view.up(w)};
_.LqFy.prototype.b=function(w,M,O,b,D){O=O.clone();if(M==null)return;if(!b.M5(O)){var o=O.MK(b),Z=x.$(o.v()*4);
x.xu(M,O,Z,o);M=Z;O=o;var $=x.$(o.v()*4);x.xu(D,b,$,o);D=$}O.x=O.y=0;this.R$=M;this.a4o=D;this.hH=M.slice(0);
this.uG=M.slice(0);this.qo=O;this.Vf=iU.TC(new Uint8Array(w.LqMe.v).buffer);var k=O.e,E=O.n;if(this.Vf.jy/k<.22){this.Vf={jy:Math.floor(k/4),e3:Math.floor(E/4)};
this.Vf.map=new Float32Array(this.Vf.jy*this.Vf.e3*2)}this.Ug=[];this.am=-1;this.Yh();this.Yk(null);
this.view.ss();this.lI()};_.LqFy.prototype.Q=function(){var w=ek.pp("LqFy"),M=new Uint8Array(iU.c5(this.Vf)),O=[];
for(var U=0;U<M.length;U++)O.push(M[U]);w.LqMe.v=O;return w};_.LqFy.prototype.nQ=function(w,M){this.Lo.nQ(w,M);
var O=this.ZN.m,b=this.qJ;this.x4.appendChild(b);this.x4.appendChild(O);if(w>450&&w-M>200){b.style.marginLeft="1em";
this.x4.removeChild(O);this.view.nQ(w-238-45,M)}else{b.style.marginLeft="";this.x4.removeChild(b);this.view.nQ(w-40,M)}};
_.LqFy.prototype.f=function(){this.Lo.f();this.auj.f();for(var U=0;U<this.iJ.length;U++)this.iJ[U].f()};
_.LqFy.prototype.R_=function(){this.Vf.map.fill(0);this.Yh();this.Yk(null)};_.LqFy.prototype.Yk=function(w){var M=this.qo,O=this.R$,b=this.hH,D=this.Vf;
if(this.iJ[5].Q())x.gO.uz(O,this.uG,M.e,M.n,w,D.map,D.jy,D.e3,0);else this.uG.set(O);if(this.iJ[3].qm()){x.xu(this.a4o,M,b,M,w?w:M);
x.a.DP("norm",this.uG,M,b,M,w?w:M,this.iJ[4].Q()/100)}else x.U7(this.uG,b);this.view.b([{fJ:M,data:b.buffer}])};
_.GEfc=function(){_.call(this,"GEfc");this.uY=0;this._P=0;this.R$=null;this.hH=null;this.qo=null;this.P4=null;
this.ra=null;this.GD=0;var w=R.S("div","flexrow");this.x4=w;this.m.appendChild(w);this.view=new jw(null);
this.view.nQ(100,100);w.appendChild(this.view.m);this.Gb="";this.oj=270;var M=this.Df=R.S("div","form scrollable");
w.appendChild(M);M.setAttribute("style","width:"+this.oj+"px;  margin-left:10px");var O=this.IQ=R.S("div","form");
w.appendChild(O);O.setAttribute("style","width:230px;  margin-left:1em");this.cW={};for(var b in gM.names){var D=new _.GEfc.pj(b);
D.parent=this;this.cW[b]=D;D.h(A.E.r,this.a4T,this)}this.Sj=!0;this.ZN=new i8("Menu",null,null,!0);this.ZN.h("click",this.aaG,this);
w.appendChild(this.ZN.m);this.Fm=new i8(">>",null,null,!0);this.Fm.h("click",this.af8,this);O.appendChild(this.Fm.m);
this.tP=R.S("div");this.tP.setAttribute("style","margin-bottom:1.5em;  display:inline-block;  width:calc(100% - 40px);");
O.appendChild(this.tP);this.Iw=R.S("div");this.Iw.style.minHeight="14em";this.Iw.style.marginBottom="1em";
O.appendChild(this.Iw);this.CL=R.S("div","lpbody scrollable");this.ni=R.S("div","lpfoot");O.appendChild(this.CL);
O.appendChild(this.ni);this.h("click",this.apQ,this);this.hS=[];bI.l_([[5,3],[5,4]],this.hS,this.ni,this.l9.bind(this))};
_.GEfc.prototype=new _;_.GEfc.prototype.tF=function(){return!0};_.GEfc.prototype.M_=function(w){this.tP.appendChild(w)};
_.GEfc.prototype.o9=function(w,M){this.P4=w};_.GEfc.prototype.af8=function(w){var M=this.Df.style.display!="none";
this.Df.style.display=M?"none":"";this.Fm.RD(M?"<<":">>");this.nQ()};_.GEfc.prototype.aaG=function(w){this.Sj=!this.Sj;
this.nQ()};_.GEfc.prototype.nQ=function(w,M){var O=this.Df.style.display!="none";if(w!=null){this.uY=w;
this._P=M;if(w<1e3&&O||w>=1e3&&!O){this.af8();O=!O}this.Sj=w>600}else{w=this.uY;M=this._P}var b=this.Sj?240+(O?this.oj+10:0):0;
if(R.FP(this.IQ)&&!this.Sj){this.x4.removeChild(this.Df);this.x4.removeChild(this.IQ)}if(!R.FP(this.IQ)&&this.Sj){this.x4.appendChild(this.Df);
this.x4.appendChild(this.IQ)}this.Df.style.height=M+"px";this.view.nQ(w-b,M);this.CL.style.height=M-this.Iw.getBoundingClientRect().height-96+"px";
this.ZN.m.setAttribute("style","position:absolute; top:46px;  right:"+(b+16)+"px")};_.GEfc.prototype.ajt=function(){var w=ce.kQ.get("img/beach",!0)[0],M=w.fJ,O=this.Df,b=Math.floor(R.V()*(this.oj-40)/3),D=~~(b*.7),o=new cn(0,0,b,D),Z=x.$(b*D*4),$=Z.slice(0),k=Math.round(10*R.V()),E=new ImageData(new Uint8ClampedArray($.buffer),b,D);
x.xu(new Uint8Array(w.data),M,Z,new cn(Math.round((M.e-b)/2),Math.round((M.n-D)/2),b,D));var t=R.S("canvas"),c=t.getContext("2d");
t.width=b;t.height=D+Math.round(k*1.5);c.font=k+"px sans-serif";this.i3={};var l=this.aoR.bind(this);
for(var U=0;U<gM.hg.length;U++){var q=gM.hg[U],d=R.S("div");O.appendChild(d);d.setAttribute("style","background-color:rgba(0,0,0,0.2); padding:0px 8px; margin-bottom:8px");
d.textContent=fr.get(q);for(var V in gM.names){var L=gM.names[V];if(L[0]!=U)continue;gM.ly(V,{rect:o,buffer:Z},gM.pp(V),{o:0,w:0,L:0},{o:255,w:255,L:255},{rect:o,buffer:$},{});
c.fillStyle="black";c.fillRect(0,0,500,500);c.putImageData(E,0,0);var e=fr.get(L[1]);c.fillStyle="white";
c.fillText(e,(b-c.measureText(e).width)/2,D+Math.round(k*1.1));var H=R.S("div");O.appendChild(H);H.setAttribute("style","display:inline-block; cursor:pointer; padding: 5px 5px 0 5px; margin-bottom:5px");
H.addEventListener("click",l,!1);var d=R.S("img");H.appendChild(d);d.setAttribute("src",t.toDataURL());
d.setAttribute("style","width:"+b/R.V()+"px; margin-bottom:0px;");this.i3[V]=H}}};_.GEfc.prototype.aoR=function(w){var M;
for(var O in this.i3)if(this.i3[O]==w.currentTarget)this.Gb=O;this.a4T()};_.GEfc.prototype.l9=function(w){var M=bI.n4(this.hS,w),O=this.ra.GEfs.v,b=O[this.GD].v;
if(M==0){O.push(JSON.parse(JSON.stringify(O[this.GD])));this.GD=O.length-1}else if(O.length>1){O.splice(this.GD,1);
if(this.GD==O.length)this.GD--}this.On();this.Yk()};_.GEfc.prototype.a4T=function(w){var M=this.Gb,O;
if(w==null)O=gM.pp(M);else O=this.cW[M].Q();this.ra.GEfs.v[this.GD].v=O;this.On();this.Yk()};_.GEfc.prototype.b=function(w,M,O,b,D){if(this.i3==null)this.ajt();
w=this.ra=JSON.parse(JSON.stringify(w));if(w.GEfs==null)w=this.ra={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:w}]}};
var o=w.GEfs.v;for(var U=0;U<o.length;U++)if(o[U].v.GELv==null)o[U].v.GELv={t:"bool",v:!0};this.GD=o.length-1;
this.On();O=O.clone();if(M==null)return;if(!b.M5(O)&&gM.zb(w).x!=0){var Z=O.MK(b),$=x.$(Z.v()*4);x.xu(M,O,$,Z);
M=$;O=Z}O.x=O.y=0;this.R$=M;this.hH=M.slice(0);this.qo=O;this.Yk();this.view.ss()};_.GEfc.prototype.apQ=function(w){var M=w.data,U=M.zS,O=this.ra.GEfs.v;
if(M.f1){O[U].v.GELv.v=!O[U].v.GELv.v;this.Yk()}else this.GD=U;this.On()};_.GEfc.prototype.On=function(){var w=this.ra.GEfs.v,M=w[this.GD].v,O=M.GEfk.v.GEft,b=this.Iw;
if(gM.names[O]==null){alert("Unsupported gallery filter");R.Mh(b)}else{this.Gb=O;for(var D in this.i3)R.Y4(this.i3[D],"selected");
R.rV(this.i3[O],"selected");var o=this.cW[O];o.b(M);if(b.firstChild!=o.m){R.Mh(b);b.appendChild(o.m)}}var Z=[];
for(var U=0;U<w.length;U++){var $=w[U].v,k=gM.names[$.GEfk.v.GEft],E=new d4(U,!0,!0,null,k?k[1]:"Filter",U==this.GD,$.GELv.v);
E.parent=this;Z.push(E.m)}R.Mh(this.CL);Z.reverse();for(var U=0;U<Z.length;U++)this.CL.appendChild(Z[U]);
this.nQ()};_.GEfc.prototype.Q=function(){return JSON.parse(JSON.stringify(this.ra))};_.GEfc.prototype.Yk=function(w){var M=this.qo,O=this.R$,b=this.hH,D=this.Gb,o=this.ra,Z=this.P4;
function $(k){return{o:k>>>16,w:k>>>8&255,L:k&255}}ek.ly("GEfc",{rect:this.qo,buffer:this.R$},o,$(Z.Sw),$(Z.fj),{rect:this.qo,buffer:this.hH},null);
this.view.b([{fJ:M,data:b.buffer}])};_.GEfc.prototype.f=function(){for(var w in this.cW)this.cW[w].f();
bI.wY(this.hS,["lrs/newlayer","lrs/bin"])};_.GEfc.pj=function(w){eE.call(this);this.SA=w;this.m=R.S("div");
this.Jg={};var M=gM.pp(w);for(var O in M){var b=null;if(O=="__name"||O=="classID"||O=="GEfk"||O=="GELv"||["FlRs"].indexOf(O)!=-1)continue;
else if(O=="EdgW")b=new hy("Edge Width",1,14);else if(O=="EdgB")b=new hy("Edge Brightness",0,w=="AccE"?50:20);
else if(O=="Smth")b=new hy([19,3,3],1,w=="Stmp"?50:15);else if(O=="ClSz")b=new hy([12,61],3,100);else if(O=="BrdT")b=new hy([7,9],1,20);
else if(O=="HghS")b=new hy([12,64],0,20);else if(O=="HlSz")b=new hy([12,14,0],1,15);else if(O=="Cntr")b=new hy([12,3,0],0,w=="WtrP"?100:50);
else if(O=="Shrp")b=new hy("Sharpness",0,40);else if(O=="SprR")b=new hy("Spray Radius",0,25);else if(O=="LgDr")b=new hy("Light/Dark Balance",0,w=="Stmp"?50:100);
else if(O=="Drkn")b=new hy("Darkness",1,50);else if(O=="Dstr")b=new hy("Distortion",0,20);else if(O=="Scln")b=new hy([12,38],50,200);
else if(O=="Rlf")b=new hy("Relief",0,w=="Ptch"||w=="NtPr"?25:50);else if(O=="ChAm")b=new hy("Thickness",1,7);
else if(O=="Pncl")b=new hy([19,2,5],1,30);else if(O=="StrP")b=new hy("Stroke Pressure",0,15);else if(O=="PprB")b=new hy("Paper Brightness",0,50);
else if(O=="BrsS")b=new hy("Brush Size",0,10);else if(O=="BrsD")b=new hy("Brush Detail",0,10);else if(O=="Txtr")b=new hy([12,67],1,3);
else if(O=="Grn")b=new hy("Grain",0,20);else if(O=="HghA")b=new hy("Highlight Area",0,20);else if(O=="Intn")b=new hy("Intensity",0,10);
else if(O=="Brgh")b=new hy("Glow Brightness",0,w=="WtrP"?100:50);else if(O=="StrS")b=new hy("Stroke Size",1,50);
else if(O=="StDt")b=new hy("Stroke Detail",1,3);else if(O=="Sftn")b=new hy("Softness",0,10);else if(O=="EdgT")b=new hy("Edge Thickness",0,10);
else if(O=="EdgI")b=new hy("Edge Intensity",0,10);else if(O=="Pstr")b=new hy("Posterization",0,6);else if(O=="Dfnt")b=new hy("Definition",0,25);
else if(O=="TxtC")b=new hy("Texture Coverage",0,50);else if(O=="ShdI")b=new hy("Shadow Intensity",0,10);
else if(O=="DrcB")b=new hy("Direction Balance",0,100);else if(O=="Strg")b=new hy([12,64],1,3);else if(O=="Blnc")b=new hy("Balance",0,10);
else if(O=="BlcI")b=new hy("Black Intensity",0,10);else if(O=="WhtI")b=new hy("White Intensity",0,10);
else if(O=="DrkI")b=new hy("Dark Intensity",0,50);else if(O=="LghI")b=new hy("Light Intensity",0,50);
else if(O=="StrW")b=new hy("Stroke Width",3,15);else if(O=="Grns")b=new hy("Graininess",0,w=="NtPr"?20:10);
else if(O=="GlwA")b=new hy("Glow Amount",0,20);else if(O=="ClrA")b=new hy("Clear Amount",0,20);else if(O=="ChrA")b=new hy("Charcoal Area",0,20);
else if(O=="ChlA")b=new hy("Chalk Area",0,20);else if(O=="FrgL")b=new hy("Foreground Level",1,15);else if(O=="BckL")b=new hy("Background Level",1,15);
else if(O=="WhtL")b=new hy("Background Level",0,50);else if(O=="BlcL")b=new hy("Foreground Level",0,50);
else if(O=="ImgB")b=new hy("Image Balance",0,50);else if(O=="Dnst")b=new hy([12,74],0,50);else if(O=="FbrL")b=new hy("Fiber Length",3,50);
else if(O=="CrcS")b=new hy("Crack Sapcing",2,100);else if(O=="CrcD")b=new hy("Crack Depth",0,10);else if(O=="CrcB")b=new hy("Crack Brightness",0,10);
else if(O=="TlSz")b=new hy("Tile Size",2,100);else if(O=="GrtW")b=new hy("Grout Width",1,15);else if(O=="LghG")b=new hy("Lighten Grout",0,10);
else if(O=="SqrS")b=new hy("Square Size",0,10);else if(O=="RplS")b=new hy("Ripple Size",1,15);else if(O=="RplM")b=new hy("Ripple Magnitude",0,20);
else if(O=="NmbL")b=new hy("Number of Levels",2,8);else if(O=="EdgS")b=new hy("Edge Simplicity",0,10);
else if(O=="EdgF")b=new hy("Edge Fidelity",1,3);else if(O=="Sz")b=w=="NGlw"?new hy("Glow Size",-24,24):new hy("Brush Size",1,50);
else if(O=="Dtl")b=w=="Chrc"?new hy("Detail",0,5):new hy("Detail",1,15);else if(O=="StrL")b=w=="InkO"?new hy("Stroke Length",1,50):new hy("Stroke Length",0,20);
else if(O=="TxtT")b=new ao([12,67],"Blocks,Canvas,Frosted,Tiny Lens,Bricks,Burlap,Sandstone".split(","));
else if(O=="BrsT")b=new ao("Brush Type","Simple,Light Rough,Dark Rough,Wide Sharp,Wide Blurry,Sparkle".split(","));
else if(O=="Grnt")b=new ao("Grain Type","Regular Soft Sprinkles Clumped Contrasty Enlarged Stippled Horizontal Vertical Speckle".split(" "));
else if(O=="SDir")b=new ao([12,33],["Right Diagonal","Horizontal","Left Diagonal","Vertical"]);else if(O=="ScrT")b=new ao([12,62],["Circle","Dot",[10,35]]);
else if(O=="LghD"||O=="LghP")b=new ao("Light","Bottom,Bottom Left,Left,Top Left,Top,Top Right,Right,Bottom Right".split(","));
else if(O=="Clr")b=new bQ("Glow Color");else if(O=="InvT")b=new ji([4,11]);else console.log(O);b.h(A.E.r,this._D,this);
b.parent=this;this.Jg[O]=b;this.m.appendChild(b.m)}};_.GEfc.pj.prototype=new eE;_.GEfc.pj.prototype._D=function(w){this.l(new aX(A.E.r,!1))};
_.GEfc.af3="Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL LgDr Drkn Dstr Scln Rlf ChAm InvT RplS RplM Pncl StrP PprB BrsS BrsD Txtr Grn HghA Intn Brgh Clr StrS StDt Sftn EdgT EdgI Pstr Dfnt TxtC ShdI DrcB Strg Blnc BlcI WhtI DrkI LghI StrW Grns GlwA ClrA ChrA ChlA FrgL BckL WhtL BlcL ImgB Dnst FbrL CrcS CrcD CrcB TlSz GrtW LghG SqrS NmbL EdgS EdgF".split(" ");
_.GEfc.pj.prototype.b=function(w){for(var M in this.Jg){var O;if(_.GEfc.af3.indexOf(M)!=-1)O=w[M].v;
else if(M=="TxtT")O=gM.vY.indexOf(w[M].v[M]);else if(M=="BrsT")O=gM.ady.indexOf(w[M].v[M]);else if(M=="LghD")O=gM.OU.indexOf(w[M].v[M]);
else if(M=="LghP")O=gM.af.indexOf(w[M].v[M]);else if(M=="Grnt")O=gM.Yu.indexOf(w[M].v[M]);else if(M=="ScrT")O=gM.x1.indexOf(w[M].v[M]);
else if(M=="SDir")O=gM.Cq.indexOf(w[M].v.StrD);this.Jg[M].b(O)}};_.GEfc.pj.prototype.Q=function(){var w=gM.pp(this.SA);
for(var M in this.Jg){var O=this.Jg[M].Q();if(_.GEfc.af3.indexOf(M)!=-1)w[M].v=O;else if(M=="TxtT")w[M].v[M]=gM.vY[O];
else if(M=="BrsT")w[M].v[M]=gM.ady[O];else if(M=="LghD")w[M].v[M]=gM.OU[O];else if(M=="LghP")w[M].v[M]=gM.af[O];
else if(M=="Grnt")w[M].v[M]=gM.Yu[O];else if(M=="ScrT")w[M].v[M]=gM.x1[O];else if(M=="SDir")w[M].v.StrD=gM.Cq[O]}return w};
_.GEfc.pj.prototype.f=function(){for(var w in this.Jg)this.Jg[w].f()};_["Adobe Camera Raw Filter"]=function(w){_.call(this,"Adobe Camera Raw Filter");
var M=this.m;this.aal=w;this.xq=null;this.G9=null;this.gF=null;R.rV(M,"flexrow");var O=R.S("div"),b=R.S("div","padded");
M.appendChild(O);M.appendChild(b);this.uN=new jw;O.appendChild(this.uN.m);this.Ot=new dp(225);this.Ot.C1(4);
b.appendChild(this.Ot.m);this.QO=R.S("div");this.QO.setAttribute("style","width:18em;");b.appendChild(this.QO);
this.asS=new as("Hi",!0);this.QO.appendChild(this.asS.m);this.Jg=[new hy("Temperature",-100,100),new hy("Tint",-100,100),new hy([4,3],-4,4,null,!0),new hy([12,3,0],-100,100)];
this.WY=["Temp","Tint","Ex12","Cr12"];for(var U=0;U<this.Jg.length;U++){var D=this.Jg[U];D.b(0);D.h(A.E.r,this.Yk,this);
this.QO.appendChild(D.m);if(U==1)this.QO.appendChild(R.S("hr"))}};_["Adobe Camera Raw Filter"].prototype=new _;
_["Adobe Camera Raw Filter"].prototype.tF=function(){return!0};_["Adobe Camera Raw Filter"].prototype.M_=function(w){this.QO.appendChild(w)};
_["Adobe Camera Raw Filter"].prototype.o9=function(w,M){this.Ot.Ji(ig.Vi[w.Dy]["--text-color"])};_["Adobe Camera Raw Filter"].prototype.b=function(w,M,O,b,D){this.ra=w;
var o=O.e,Z=O.n,$=o*Z;this.asS.b(o+" x "+Z+", "+(o*Z/1e6).toFixed(1)+" MPx");this.qo=O;this.G9=new Float32Array(o*Z*3);
this.gF=new Uint8Array(o*Z*4);this.gF.fill(255);if(M instanceof Float32Array)this.xq=M;else{var k=this.xq=new Float32Array(o*Z*3);
for(var U=0;U<$;U++){var E=U*3,t=U*4;k[E+0]=M[t+0]*(1/255);k[E+1]=M[t+1]*(1/255);k[E+2]=M[t+2]*(1/255)}}var c=this.WY;
for(var U=0;U<c.length;U++){var l=c[U];this.Jg[U].b(w[l]?w[l].v:0)}this.Yk(null,!0)};_["Adobe Camera Raw Filter"].prototype.Q=function(w){if(w)return this.gF;
return JSON.parse(JSON.stringify(this.ra))};_["Adobe Camera Raw Filter"].prototype.agB=function(){this.xq=null;
this.G9=null;this.gF=null};_["Adobe Camera Raw Filter"].prototype.Yk=function(w,M){var O=this.WY;for(var U=0;
U<O.length;U++){var b=O[U];this.ra[b]={t:b=="Ex12"?"doub":"long",v:this.Jg[U].Q()}}var D=this.qo,o=D.v();
dG(this.xq,D.e,D.n,this.G9,this.ra,this.aal);var Z=Date.now(),$=this.G9,k=this.gF;for(var U=0;U<o;U++){var E=U*3,t=U*4;
k[t+0]=~~(.5+$[E+0]*255);k[t+1]=~~(.5+$[E+1]*255);k[t+2]=~~(.5+$[E+2]*255)}console.log(Date.now()-Z,"integer conversion");
Z=Date.now();var c=x.mv(k,Math.max(1,Math.floor(o/2e5)));this.Ot.b(c);console.log(Date.now()-Z,"histogram done");
Z=Date.now();this.uN.b([{fJ:D,data:k.buffer}]);if(M)this.uN.ss()};_["Adobe Camera Raw Filter"].prototype.nQ=function(w,M){this.atP=w-248;
this.atn=M;this.uN.nQ(this.atP,this.atn)};_["Adobe Camera Raw Filter"].prototype.f=function(){for(var U=0;
U<this.Jg.length;U++)this.Jg[U].f()};_.blnc=function(){_.call(this);var w=this.m;this.T$=null;this.bk=new ao([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
this.bk.h(A.E.r,this.Yk,this);w.appendChild(this.bk.m);this.Da=[];for(var U=0;U<3;U++){var M=new hy(a6.q0[U],-100,100);
M.h(A.E.r,this.LR,this);this.Da.push(M);w.appendChild(M.m)}this.R8=new ji([13,4]);this.R8.h(A.E.r,this.LR,this);
w.appendChild(this.R8.m)};_.blnc.prototype=new _;_.blnc.prototype.f=function(){this.bk.f();for(var U=0;
U<3;U++)this.Da[U].f();this.R8.f()};_.blnc.prototype.b=function(w){this.T$=JSON.parse(JSON.stringify(w));
this.Yk()};_.blnc.prototype.Q=function(w){var M=["ShdL","MdtL","HghL"],O=this.T$[M[this.bk.Q()]].v;for(var U=0;
U<3;U++)O[U].v=this.Da[U].Q();this.T$.PrsL.v=this.R8.Q();return JSON.parse(JSON.stringify(this.T$))};
_.blnc.prototype.Yk=function(w){var M=["ShdL","MdtL","HghL"],O=this.T$[M[this.bk.Q()]].v;for(var U=0;
U<3;U++)this.Da[U].b(O[U].v);this.R8.b(this.T$.PrsL.v)};_.brit=function(){_.call(this,"brit");this.vf.push(new hy([12,2],-150,150,""));
this.vf.push(new hy([12,3,0],-100,100,""));this.vf.push(new ji([12,3,1]));this.X2()};_.brit.prototype=new _;
_.curv=function(){_.call(this);this.value=null;this.dX=null;this.P4=null;var w=this.m;this.zh=new ao("Preset",["basic","advanced"]);
this.zh.h(A.E.r,this.asp,this);w.appendChild(this.zh.m);R.Ca(w);this.xb=new ao([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.xb.h(A.E.r,this.My,this);w.appendChild(this.xb.m);this.Or=new ao(null,["Spline","Sketch"]);this.Or.h(A.E.r,this.asp,this);
w.appendChild(this.Or.m);this.w9=new bN;this.w9.parent=this;this.w9.h(A.E.r,this.cM,this);w.appendChild(this.w9.m);
R.Ca(w);this.GQ=new fW;this.GQ.h(A.E.r,this.Hi,this);w.appendChild(this.GQ.m);this.WZ=null;this.aqN=0;
this.v1=0;R.Ca(w);this.wJ=new cE("Sample from image",il.hM(["-\u2195","#000000","#888888","#ffffff"]),!0,null,!0);
this.wJ.h(A.E.r,this.MQ,this);this.wJ.m.style.marginRight="0";w.appendChild(this.wJ.m)};_.curv.prototype=new _;
_.curv.prototype.o9=function(w,M){if(M==eM.vI||M==eM.c$){var O=w.LZ,b=["Default"];for(var U=0;U<O.length;
U++)b.push(O[U].presetFileName.v);b.push("Custom");this.zh.N8(b,[1,O.length,1]);this.P4=w}};_.curv.prototype.nQ=function(w,M){this.GQ.nQ(w,M)};
_.curv.prototype.f=function(){this.xb.f();this.GQ.f()};_.curv.prototype.Ub=function(){this.zh.b(this.P4.LZ.length+1)};
_.curv.prototype.asp=function(w){if(w.target==this.zh){var M=this.zh.Q(),O=this.P4.LZ,b;if(M==0)b=ek.pp("curv");
else if(M-1<O.length)b=JSON.parse(JSON.stringify(O[M-1]));else return;this.b(b);this.LR();return}this.Ub();
var D=bW.M4(this.value,0),o=D.length==256?1:0,Z=this.Or.Q();if(o==Z)return;var b=ek.pp("curv");if(Z==1){var $=[];
for(var U=0;U<256;U++)$.push(U);bW.BI(b,0,$)}this.b(b);this.LR()};_.curv.prototype.Hi=function(){this.Ub();
bW.BI(this.value,this.xb.Q(),this.GQ.Q());this.LR()};_.curv.prototype.My=function(){var w=this.xb.Q(),M=bW.M4(this.value,w),O=M.length==256?1:0;
this.Or.b(O);if(this.dX)this.GQ.RY(this.dX[w],this.dX[4]*[1,.33,.33,.33][w],["#ccc","#fcc","#cfc","#ccf"][w]);
this.GQ.b(M)};_.curv.prototype.CY=function(){return!0};_.curv.prototype.kf=function(w,M,O,b,D){var o=this.value;
this.value=ek.pp("curv");this.LR();var Z=y.X0.TT(w,D,1),$=this.WZ=[Z>>>16&255,Z>>>8&255,Z&255];this.aqN=D.y;
var k=this.wJ.Q().indexOf(!0);if(k==0){var E=($[0]+$[1]+$[2])/3,t=this.xb.Q(),c=bW.M4(o,t),l=t==0?E:$[t-1],q=-1;
for(var U=0;U<c.length;U++)if(c[U].v.Hrzn.v==l)q=U;if(q==-1){var d=JSON.parse(JSON.stringify(c[0]));
d.v.Hrzn.v=l;d.v.Vrtc.v=l;c.push(d);c.sort(function(V,L){return V.v.Hrzn.v-L.v.Hrzn.v});bW.BI(o,t,c);
this.v1=c.indexOf(d)}else this.v1=q}this.b(o);this.LR()};_.curv.prototype.Ha=function(w,M,O,b,D){if(this.WZ==null)return;
if(this.wJ.Q().indexOf(!0)==0){var o=this.value,Z=this.xb.Q(),$=bW.M4(o,Z),k=$[this.v1];k.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(k.v.Hrzn.v+(this.aqN-D.y))));
bW.BI(o,Z,$);this.b(o);this.LR()}};_.curv.prototype.oH=function(w,M,O,b,D){var o=this.value,Z=this.WZ,$=(Z[0]+Z[1]+Z[2])/3,k=this.wJ.Q().indexOf(!0)-1;
if(k<=-1){}else for(var U=0;U<3;U++){var E=bW.M4(o,1+U);if(k==0)E[0].v.Hrzn.v=Z[U];if(k==1){var t=Math.log(Z[U]/255)/Math.log($/255),c=Math.min(999,Math.max(10,Math.round(100*t)));
if(E.length==2)E.splice(1,0,JSON.parse(JSON.stringify(E[0])));E[1].v.Hrzn.v=127-Math.log(c/100)*127;
E[1].v.Vrtc.v=127}if(k==2)E[E.length-1].v.Hrzn.v=Z[U];bW.BI(o,1+U,E)}this.b(o);this.LR();this.Ub();this.WZ=null};
_.curv.prototype.b=function(w){this.value=w;this.My()};_.curv.prototype.RY=function(w){this.dX=w;this.My()};
_.curv.prototype.Q=function(w){return JSON.parse(JSON.stringify(this.value))};_.curv.prototype.cM=function(){var w=this.w9.Q(),M=this.dX,O=this.value,b=x.oq(w,M);
for(var U=0;U<4;U++){var D=b[U][0],o=b[U][1],Z=b[U][2],$=[x.kE.pT(D,0,!0),x.kE.pT(o,255,!0)];if(Z!=null)$.splice(1,0,x.kE.pT(128,Z,!0));
bW.BI(O,U,$)}this.My();this.LR()};_.expA=function(){_.call(this,"expA");this.vf.push(new hy([12,5],-20,20,null,2,!0));
this.vf.push(new hy([12,6],-.5,.5,null,2));this.vf.push(new hy([12,7],.01,9.99,null,2,!0));this.X2()};
_.expA.prototype=new _;_.expA.prototype.gw=function(w,M){M[0]=w.Exps.v;M[1]=w.Ofst?w.Ofst.v:0;M[2]=w.gammaCorrection?w.gammaCorrection.v:1};
_.expA.prototype.l0=function(w,M){w.Exps={t:"doub",v:M[0]};w.Ofst={t:"doub",v:M[1]};w.gammaCorrection={t:"doub",v:M[2]}};
_.grdm=function(){_.call(this,"grdm");this.vf.push(new be(!0,null,!0));this.vf.push(new ji([12,23,0]));
this.X2()};_.grdm.prototype=new _;_.grdm.prototype.gw=function(w,M){M[0]=w.Grad.v;M[1]=w.Rvrs?w.Rvrs.v:!1};
_.grdm.prototype.l0=function(w,M){w.Grad.v=M[0];w.Rvrs={t:"bool",v:M[1]}};_.grdm.prototype.o9=function(w,M){this.vf[0].sx(w.Sw,w.fj);
if(M==eM.vI||M==eM.Ih||M==eM.pB)this.vf[0].jX(w.t0)};_.selc=function(){_.call(this);var w=this.m;this.N3=[];
this.d2=null;this.bk=new ao([12,82],a6.Q_.concat([[13,1,8],[13,1,13],[13,1,10]]));this.bk.h(A.E.r,this._D,this);
w.appendChild(this.bk.m);R.Ca(w);for(var U=0;U<4;U++){var M=new hy(a6.arl[U],-100,100,"%");M.h(A.E.r,this._D,this);
this.N3.push(M);w.appendChild(M.m)}this.DD=new ji([13,3]);w.appendChild(this.DD.m);this.DD.h(A.E.r,this._D,this)};
_.selc.prototype=new _;_.selc.prototype.f=function(){this.bk.f();this.DD.f();for(var U=0;U<4;U++)this.N3[U].f()};
_.selc.prototype.b=function(w){this.d2=JSON.parse(JSON.stringify(w));this.Yk()};_.selc.prototype.Q=function(w){return JSON.parse(JSON.stringify(this.d2))};
_.selc.prototype._D=function(w){if(w.target!=this.bk){var M=this.d2,O=[];for(var U=0;U<4;U++)O[U]=this.N3[U].Q();
ge.BI(M,this.bk.Q(),O);M.Mthd={t:"enum",v:{CrcM:this.DD.Q()?"Absl":"Rltv"}}}this.Yk();this.LR()};_.selc.prototype.Yk=function(){var w=this.d2,M=ge.M4(w,this.bk.Q());
for(var U=0;U<4;U++)this.N3[U].b(M[U]);this.DD.b(w.Mthd?w.Mthd.v.CrcM=="Absl":!1)};_.blwh=function(){_.call(this,"blwh");
this.vf.push(new ji([12,11]));this.vf.push(new bQ(!0));for(var U=0;U<6;U++)this.vf.push(new hy(a6.Q_[U],-200,300));
this.X2()};_.blwh.prototype=new _;_.blwh.prototype.gw=function(w,M){M[0]=w.useTint.v;M[1]=w.tintColor.v;
var O="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var U=0;U<6;U++)M[2+U]=w[O[U]].v};_.blwh.prototype.l0=function(w,M){w.useTint.v=M[0];
w.tintColor.v=M[1];var O="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var U=0;U<6;U++)w[O[U]].v=M[2+U]};
_.hue2=function(){_.call(this);this.value=null;this.Tp=null;this.aaA=null;this.$$=[[0,0,0],[0,50,0]];
var w=this.m;this.wJ=new cE(null,["\u2194"],!0,["Click and drag in image to change saturation"],!0);
this.wJ.h(A.E.r,this.auD,this);this.wJ.h(A.E.r,this.MQ,this);w.appendChild(this.wJ.m);var M=this.vf=[new ao([12,12],["Master"].concat(a6.Q_)),new hy([12,8],-180,180),new hy([12,9],-100,100),new hy([12,10],-100,100),new ji([12,11])];
for(var U=0;U<M.length;U++){var O=M[U];O.h(A.E.r,U==0?this.My:this.awH,this);w.appendChild(O.m)}this.bk=M[0];
this.jF=M[1];this.Rh=M[2];this.Zu=M[3];this.Sm=M[4];this.fN=new cE("Sample Hue",["<img src=\""+PIMG["tools/eyedropper"]+"\" class=\"autoscale gsicon\" />","+","-"],!0,null,!0);
this.fN.h(A.E.r,this.auD,this);this.fN.h(A.E.r,this.MQ,this);this.fN.m.style.marginLeft="20px";w.appendChild(this.fN.m);
this.mT=R.S("div");w.appendChild(this.mT);this.SM=this.M9.bind(this);this.dM=this.Ye.bind(this);this.U=R.S("canvas");
this.Mn=this.U.getContext("2d");this.L0=null;R.fO(this.U);R.GL(this.U,282,18);w.appendChild(this.U);
R.c3(this.U,this.JV.bind(this))};_.hue2.prototype=new _;_.hue2.prototype.nQ=function(w,M){R.GL(this.U,Math.round(w),18);
if(this.value)this.My()};_.hue2.prototype.auD=function(w){var M=w.target.Q().indexOf(!0);if(M==-1)return;
if(w.target==this.wJ)this.fN.b([!1,!1,!1]);else this.wJ.b([!1,!1,!1])};_.hue2.prototype.JV=function(w){if(this.bk.Q()==0||this.Sm.Q())return;
var M=R.Pr(w,this.U).x/(this.U.width/R.V()),o=1e6;function O(c,l,q){return c<l&&l<q||q<c&&(c<l||l<q)}var b=this.lf(),D=-1;
for(var U=0;U<4;U++){var Z=Math.abs(M-(b[U]+U*1e-5));if(Z<o){o=Z;D=U}}if(o>.025){D=-1;var $=b[0],k=b[1],E=b[2],t=b[3];
if(O($,M,k))D=4;if(O(k,M,E))D=5;if(O(E,M,t))D=6}if(D==-1)return;this.L0=D;R.Gg(document.body,this.SM);
R.UB(document.body,this.dM)};_.hue2.prototype.M9=function(w){var M=R.Pr(w,this.U).x/(this.U.width/R.V()),O=this.lf(),b=this.L0;
for(var U=1;U<4;U++)if(O[U]<O[U-1]){O[U]+=1}if(b<4){var D=1e6,o=0;for(var U=-20;U<20;U++){var Z=Math.abs(O[b]-(M+U));
if(Z<D){D=Z;o=U}}M+=o;O[b]=M;for(var U=b+1;U<4;U++)if(O[U]<O[U-1]){O[U]=O[U-1]}for(var U=b-1;U>=0;U--)if(O[U]>O[U+1]){O[U]=O[U+1]}}else{var $=M-(O[b-4]+O[b-3])/2;
if($<-.5)$+=1;if(b==4){O[0]+=$;O[1]+=$;O[2]=Math.max(O[1],O[2]);O[3]=Math.max(O[1],O[3])}if(b==5)for(var U=0;
U<4;U++)O[U]+=$;if(b==6){O[2]+=$;O[3]+=$;O[0]=Math.min(O[0],O[2]);O[1]=Math.min(O[1],O[2])}}for(var U=1;
U<4;U++)if(O[U]<O[U-1])throw"e";this.aai(O);this.My();this.LR()};_.hue2.prototype.Ye=function(w){R.wg(document.body,this.SM);
R.oX(document.body,this.dM)};_.hue2.prototype.f=function(){for(var U=0;U<this.vf.length;U++)this.vf[U].f()};
_.hue2.prototype.awH=function(w){var M=this.value.Clrz.v=this.Sm.Q();if(M)this.bk.b(0);if(w&&w.target==this.Sm){var O=M?1:0;
this.$$[1-O]=a1.M4(this.value,0);var b=this.$$[O];a1.BI(this.value,0,b);if(this.bk.Q()==0){this.jF.b(b[0]);
this.Rh.b(b[1]);this.Zu.b(b[2])}}var D=this.bk.Q(),o=a1.M4(this.value,D),b=D==0?o:o.Da;b[0]=this.jF.Q();
var Z=this.Rh.Q();b[1]=M?Math.max(0,Z):Z;b[2]=this.Zu.Q();a1.BI(this.value,D,o);this.My();this.LR()};
_.hue2.prototype.My=function(){var w=this.bk.Q(),M=this.value.Clrz?this.value.Clrz.v:!1;this.Sm.b(M);
this.bk.Sc(!M);this.fN.Sc(!M&&w!=0);var O=a1.M4(this.value,w),b=w==0?O:O.Da;this.jF.b(b[0]);this.Rh.b(b[1]);
this.Zu.b(b[2]);var D=this.U.width,o=this.U.height,Z=this.Mn;Z.clearRect(0,0,D,o);if(M||w==0){this.mT.innerHTML="";
return}var $=O.JR;this.mT.innerHTML=$[0]+"\xB0 / "+$[1]+"\xB0<span style=\"float:right\">"+$[2]+"\xB0 \\ "+$[3]+"\xB0</span>";
var k=x.$(D*4);fD.afU(k,1,D,-1,.5);var E=new ImageData(new Uint8ClampedArray(k.buffer),D,1),t=Math.round(o/4);
for(var U=0;U<t;U++)Z.putImageData(E,0,U);function c(e,H,j){Z.fillStyle=j;var g=t*2;if(e<=H)Z.fillRect(e*D,g,(H-e)*D,t);
else{Z.fillRect(0,g,H*D,t);Z.fillRect(e*D,g,(1-e)*D,t)}}var l=this.lf();c(l[0],l[1],"#888888");c(l[1],l[2],"#cccccc");
c(l[2],l[3],"#888888");Z.fillStyle="#ffffff";Z.lineWidth=1;Z.beginPath();var q=t+.5,d=4*t+.5;for(var U=0;
U<4;U++){var V=Math.floor(D*l[U])+.5,L=(U<2?-1:1)*t*(U==1||U==2?1:2);Z.moveTo(V,q);Z.lineTo(V,d);Z.lineTo(V+L,d);
Z.lineTo(V+L,t+t+.5);Z.closePath()}Z.fill();Z.stroke()};_.hue2.prototype.lf=function(){var w=this.bk.Q(),M=a1.M4(this.value,w).JR;
for(var U=0;U<4;U++)M[U]=(1000.5+M[U]/360)%1;return M};_.hue2.prototype.aai=function(w){var M=this.bk.Q(),O=a1.M4(this.value,M);
for(var U=0;U<4;U++)O.JR[U]=Math.round(36e3+(w[U]-.5)*360)%360;a1.BI(this.value,M,O)};_.hue2.prototype.CY=function(){return!0};
_.hue2.prototype.a86=function(){var w=this.wJ.Q().indexOf(!0),M=this.fN.Q().indexOf(!0);return w!=-1?w:M!=-1?M+1:-1};
_.hue2.prototype.kf=function(w,M,O,b,D){var o=this.a86();if(o==-1)return;var Z=this.value;this.value=ek.pp("hue2");
this.LR();var $=y.X0.TT(w,D,1);this.b(Z);var k=[$>>>16&255,$>>>8&255,$&255],E=x.GC(k[0]/255,k[1]/255,k[2]/255);
if(o==0){this.bk.b(1+Math.round(E.e3*6)%6)}else{var t=this.lf(),c=.5+E.e3,l=1/12,q=t[1],d=t[2];if(d<q){d++;
if(c<q&&c+1-d<q-c)c++}var V=q<=c&&c<=d;if(o==1){q=c-l/2;d=c+l/2}else if(o==2&&!V){q=Math.min(c,q);d=Math.max(c,d)}else if(o==3&&V){if(c-q<d-c)q=c;
else d=c}t=[q-l,q,d,d+l];this.aai(t)}this.LR();this.Tp=D.x;this.aaA=this.Rh.Q()};_.hue2.prototype.Ha=function(w,M,O,b,D){var o=this.a86();
if(o==-1)return;if(o==0){if(this.Tp!=null){var Z=D.x-this.Tp;Z=Math.max(-100,Math.min(100,this.aaA+.5*Z));
this.Rh.b(Z);this.awH()}}};_.hue2.prototype.oH=function(w,M,O,b,D){this.Tp=null};_.hue2.prototype.b=function(w){this.value=JSON.parse(JSON.stringify(w));
var M=this.value.Clrz?this.value.Clrz.v:!1;this.$$[M?1:0]=a1.M4(this.value,0);this.My()};_.hue2.prototype.Q=function(w){return JSON.parse(JSON.stringify(this.value))};
_.levl=function(){function w(){_.call(this);this.value=null;this.dX=null;this.ZQ=[new at(0,0),new at(0,0),new at(0,0),new at(0,0),new at(0,0)];
this.zT=-1;this.SM=this.M9.bind(this);this.dM=this.Ye.bind(this);var M=this.m;this.xb=new ao([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.xb.h(A.E.r,this.My,this);M.appendChild(this.xb.m);this.w9=new bN;this.w9.parent=this;this.w9.h(A.E.r,this.cM,this);
M.appendChild(this.w9.m);var O=R.S("div","");M.appendChild(O);var b=R.S("div","");M.appendChild(b);this.U=R.S("canvas");
O.appendChild(this.U);this.Mn=this.U.getContext("2d");this.zn=new at(256,120);this.U.setAttribute("style","display:block");
R.fO(this.U);R.c3(this.U,this.JV.bind(this));this.Ia=R.S("canvas","");b.appendChild(this.Ia);this.Xs=this.Ia.getContext("2d");
this.C7=new at(this.zn.x,40);this.Ia.setAttribute("style","display:block");R.fO(this.Ia);R.c3(this.Ia,this.a66.bind(this));
var D=this.ey=[];for(var U=0;U<5;U++){var o=new d8(null,null,3);D.push(o);o.h(A.E.r,this.agm,this);(U<2||U==4?O:b).appendChild(o.m)}O.appendChild(D[1].m);
this.wJ=new cE("Sample from image",il.hM(["#000000","#888888","#ffffff"]),!0,null,!0);this.wJ.h(A.E.r,this.MQ,this);
M.appendChild(this.wJ.m);this.nQ(250,100)}w.prototype=new _;w.prototype.cM=function(){var M=this.w9.Q(),O=this.dX,b=this.value,D=x.oq(M,O);
for(var U=0;U<4;U++){var o=D[U][0],Z=D[U][1],$=D[U][2],k=[x.kE.pT(o,0,!0),x.kE.pT(Z,255,!0)];if($!=null)k.splice(1,0,x.kE.pT(128,$,!0));
var E=[~~o,~~Z,0,255,$==null?100:~~(100+.75*100*($-128)/128)];dM.BI(b,U,E)}this.My();this.LR()};w.prototype.nQ=function(M,O){M+=6;
this.zn.x=this.C7.x=M;R.GL(this.U,M,this.zn.y,this.Mn);R.GL(this.Ia,M,this.C7.y,this.Xs);var b=this.ey;
b[3].m.setAttribute("style","margin-left: "+(M-104)+"px");b[4].m.setAttribute("style","margin: 0 "+(M/2-74)+"px");
if(this.value)this.My()};w.prototype.f=function(){this.xb.f()};w.prototype.agm=function(M){var O=[];
for(var U=0;U<5;U++){var b=255,D=1;if(U==4){b=999;D=100}var o=parseFloat(this.ey[U].Q());O[U]=Math.max(0,Math.min(b,o*D))}dM.BI(this.value,this.xb.Q(),O);
this.My();this.LR()};w.prototype.My=function(M){var O=this.zn.x,b=this.zn.y,D=this.xb.Q(),o=this.Mn;
o.clearRect(0,0,O,b);o.fillStyle="#cccccc";o.fillRect(8,8,O-16,b-16-8);if(this.dX){var Z=this.dX[0].slice(0),d=0;
if(D==0){Z.fill(0);var $=JSON.parse(JSON.stringify(this.value));dM.BI($,0,[0,255,0,255,100]);var k=a6.kM("levl",$),E=[k.XA,k.AF,k._V];
for(var t=0;t<3;t++){var c=this.dX[1+t],l=E[t];for(var U=0;U<256;U++)Z[l[U]]+=c[U]}}var q=D==0?Z:this.dX[D];
for(var U=0;U<q.length;U++)d+=q[U];o.fillStyle="#333333";o.beginPath();o.moveTo(8,b-16);for(var U=0;
U<256;U++){var V=55*q[U]/d;o.lineTo(8+U/256*(O-16),Math.max(8,b-16-b*V))}o.lineTo(O-8,b-16);o.closePath();
o.fill()}var L=dM.M4(this.value,D);for(var U=0;U<5;U++)this.ey[U].b(L[U]/(U==4?100:1));this.ZQ[0].ZK(8+L[0]/255*(O-16),b-14);
this.ZQ[1].ZK(8+L[1]/255*(O-16),b-14);var e=Math.log(L[4]/100)/Math.log(9.99);e=.5-e/2;this.ZQ[4].ZK(this.ZQ[0].x+e*(this.ZQ[1].x-this.ZQ[0].x),b-14);
this.uq(o,this.ZQ[0],"#000000");this.uq(o,this.ZQ[1],"#ffffff");this.uq(o,this.ZQ[4],"#777777");var O=this.C7.x,b=this.C7.y;
o=this.Xs;o.clearRect(0,0,O,b);var H=o.createLinearGradient(0,0,O-16,0);H.addColorStop(0,"black");H.addColorStop(1,"white");
o.fillStyle=H;o.fillRect(8,8,O-16,16);this.ZQ[2].ZK(8+L[2]/255*(O-16),b-14);this.ZQ[3].ZK(8+L[3]/255*(O-16),b-14);
this.uq(o,this.ZQ[2],"#000000");this.uq(o,this.ZQ[3],"#ffffff")};w.prototype.uq=function(M,O,b){M.fillStyle=b;
M.fillRect(O.x-5,O.y,10,10)};w.prototype.JV=function(M){var O=R.Pr(M,this.U),b=this.as7([0,1,4],O);if(b!=-1)this.zT=b;
this.a6h()};w.prototype.a66=function(M){var O=R.Pr(M,this.Ia),b=this.as7([2,3],O);if(b!=-1)this.zT=b;
this.a6h()};w.prototype.as7=function(M,O){var b=-1,D=1e9;for(var U=0;U<M.length;U++){var o=Math.abs(this.ZQ[M[U]].x-O.x);
if(o<D){D=o;b=M[U]}}return D<16?b:-1};w.prototype.a6h=function(M){if(this.zT==-1)return;R.Gg(document.body,this.SM);
R.UB(document.body,this.dM)};w.prototype.M9=function(M){var O=dM.M4(this.value,this.xb.Q()),b=R.Pr(M,this.zT==2&&this.zT==3?this.Ia:this.U),D=255*(b.x-8)/(this.zn.x-16);
D=Math.max(0,Math.min(255,D));if(this.zT==0)D=Math.min(D,O[1]-2);if(this.zT==1)D=Math.max(D,O[0]+2);
if(this.zT!=4)O[this.zT]=Math.round(D);else{var o=(D-O[0])/(O[1]-O[0]);o=1-2*o;o=Math.pow(9.99,o);O[4]=Math.min(999,Math.max(10,Math.round(o*100)))}dM.BI(this.value,this.xb.Q(),O);
this.My();this.LR()};w.prototype.Ye=function(M){R.wg(document.body,this.SM);R.oX(document.body,this.dM);
this.zT=-1};w.prototype.CY=function(){return!0};w.prototype.oH=function(M,O,b,D,o){var Z=this.value,$=this.wJ.Q().indexOf(!0);
if($==-1)return;this.value=ek.pp("levl");this.LR();var k=y.X0.TT(M,o,1),E=[k>>>16&255,k>>>8&255,k&255];
for(var U=0;U<3;U++){var t=dM.M4(Z,1+U);if($==0)t[0]=E[U];if($==1){var c=Math.log(E[U]/255)/Math.log((E[0]+E[1]+E[2])*.333/255);
t[4]=Math.min(999,Math.max(10,Math.round(100*c)))}if($==2)t[1]=E[U];dM.BI(Z,1+U,t)}this.b(Z);this.LR()};
w.prototype.b=function(M){this.value=M;this.My()};w.prototype.RY=function(M){this.dX=M;this.My()};w.prototype.Q=function(M){return JSON.parse(JSON.stringify(this.value))};
return w}();_.phfl=function(){_.call(this,"phfl");this.vf.push(new bQ);this.vf.push(new hy([12,74],0,100,"%"));
this.vf.push(new ji([13,4]));this.X2()};_.phfl.prototype=new _;_.phfl.prototype.gw=function(w,M){M[0]=w.Clr.v;
M[1]=w.Dnst.v;M[2]=w.PrsL.v};_.phfl.prototype.l0=function(w,M){var O=x.M.FL(M[0]),b=w.Clr.v,D=x.li(O.o,O.w,O.L);
b.Lmnc.v=D.XZ;b.A.v=D.ip;b.B.v=D.L;w.Dnst.v=M[1];w.PrsL.v=M[2]};_.vibA=function(){_.call(this,"vibA");
this.vf.push(new hy([12,13],-100,100,null));this.vf.push(new hy([12,9],-100,100,null));this.X2()};_.vibA.prototype=new _;
_.vibA.prototype.gw=function(w,M){M[0]=w.vibrance?w.vibrance.v:0;M[1]=w.Strt?w.Strt.v:0};_.vibA.prototype.l0=function(w,M){w.vibrance.v=M[0];
w.Strt.v=M[1]};_.thrs=function(){_.call(this,"thrs");this.vf.push(new hy([4,13],1,255,null));this.X2()};
_.thrs.prototype=new _;_.thrs.prototype.gw=function(w,M){M[0]=w.Lvl.v};_.thrs.prototype.l0=function(w,M){w.Lvl.v=M[0]};
_.mixr=function(){_.call(this);var w=this.m;this.N3=[];this.d2=null;this.bk=new ao([12,4],[[13,1,1],[13,1,4],[13,1,5]]);
this.bk.h(A.E.r,this._D,this);w.appendChild(this.bk.m);R.Ca(w);this.JY=new ji([12,60]);w.appendChild(this.JY.m);
this.JY.h(A.E.r,this._D,this);for(var U=0;U<4;U++){var M=new hy([[13,1,1],[13,1,4],[13,1,5],[13,2]][U],-200,200,"%");
M.h(A.E.r,this._D,this);this.N3.push(M);w.appendChild(M.m)}};_.mixr.prototype=new _;_.mixr.prototype.f=function(){this.bk.f();
this.JY.f();for(var U=0;U<4;U++)this.N3[U].f()};_.mixr.prototype.b=function(w){this.d2=JSON.parse(JSON.stringify(w));
this.Yk()};_.mixr.prototype.Q=function(w){return JSON.parse(JSON.stringify(this.d2))};_.mixr.prototype._D=function(w){if(w.target!=this.bk){var M=a6._Z(this.d2);
if(w.target==this.JY){M.JY=this.JY.Q();if(M.JY)M.G=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else M.G=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}else{var O=(M.JY?0:this.bk.Q())*5,U=this.N3.indexOf(w.target);
M.G[O+(U<3?U:4)]=w.target.Q()}this.d2=a6.arW(M)}this.Yk();this.LR()};_.mixr.prototype.Yk=function(){var w=a6._Z(this.d2);
this.JY.b(w.JY);var M=(w.JY?0:this.bk.Q())*5;for(var U=0;U<4;U++)this.N3[U].b(w.G[M+(U<3?U:4)])};_.post=function(){_.call(this,"post");
this.vf.push(new hy([4,1],2,255,null));this.X2()};_.post.prototype=new _;_.post.prototype.gw=function(w,M){M[0]=w.Lvls.v};
_.post.prototype.l0=function(w,M){w.Lvls.v=M[0]};_.clrL=function(){_.call(this,"clrL");this.vf.push(new gp("LUTs"));
this.X2()};_.clrL.prototype=new _;_.clrL.prototype.gw=function(w,M){M[0]=w};_.clrL.prototype.l0=function(w,M){var O=M[0];
for(var b in O)w[b]=O[b]};_.clrL.prototype.o9=function(w,M){if(M==eM.vI||M==eM.xZ)this.vf[0].jX(w.a29)};
_.rplc=function(){_.call(this,"rplc");this.vf.push(new hy([12,92],0,200));this.vf.push(new bQ);this.vf.push(new hy([12,8],-180,180));
this.vf.push(new hy([12,9],-100,100));this.vf.push(new hy([12,10],-100,100));this.X2()};_.rplc.prototype=new _;
_.rplc.prototype.gw=function(w,M){M[0]=w.Fzns.v;M[1]=w.Mxm.v;M[2]=w.H.v;M[3]=w.Strt.v;M[4]=w.Lght.v};
_.rplc.prototype.l0=function(w,M){function O(D,o){o.Lmnc.v=D.XZ;o.A.v=D.ip;o.B.v=D.L}w.Fzns.v=M[0];w.H.v=M[2];
w.Strt.v=M[3];w.Lght.v=M[4];var b=x.M.FL(M[1]),D=x.li(b.o,b.w,b.L);O(D,w.Mnm.v);O(D,w.Mxm.v)};_.fade=function(){_.call(this,"fade");
this.vf.push(new hy([12,0],0,100,"%"));this.vf.push(new ao([12,19,0],gA.Is,!1,gA.Ch));this.X2()};_.fade.prototype=new _;
_.fade.prototype.gw=function(w,M){M[0]=w.Opct.v.val;M[1]=gA.vs.indexOf(w.Md.v.BlnM)};_.fade.prototype.l0=function(w,M){w.Opct.v.val=M[0];
w.Md.v.BlnM=gA.vs[M[1]]};_.aply=function(){var w=gA.vs.concat(["Add","Sbtr"]);w.splice(21,1);var M=gA.Is.concat([[15,10,28],[15,10,21]]);
M.splice(21,1);var O=gA.Ch.slice(0);O[4]--;function b(){_.call(this,"aply");this.vf.push(new ao([0,3],[]));
this.vf.push(new ao([12,4],["RGB"].concat(a6.q0).concat(["Transparency"])));this.vf.push(new ji([4,11]));
this.vf.push(new ao([12,19,0],M,!1,O));this.vf.push(new hy([12,0],0,100,"%"));this.vf.push(new gL([12,38],1,2,null,2));
this.vf.push(new gL([12,6],-255,255));this.vf.push(new ji([13,5]));this.X2([2]);this.tN=null}b.prototype=new _;
b.prototype.gw=function(D,o,Z){if(Z){var $=Z[2].B,k=this.tN=[];for(var U=0;U<$.length;U++){var E=$[U].getName();
k.push(E.length<30?E:E.slice(0,27)+"...")}k.reverse();this.vf[0].N8([[5,7]].concat(k),[1,k.length])}else var k=this.tN;
D=D.With.v;var t=D.T.v;o[0]=t[1].t=="name"?1+k.indexOf(t[1].v.val):0;o[1]=["RGB","Rd","Grn","Bl","Trsp"].indexOf(t[0].v.enum);
o[2]=D.Invr.v;var c=D.Clcl.v.Clcn;o[3]=w.indexOf(c);o[4]=D.Opct.v.val;o[5]=D.Scl.v;o[6]=D.Ofst.v;o[7]=D.PrsT.v};
b.prototype.l0=function(D,o){D=D.With.v;var Z=D.T.v;if(o[0]==0)Z[1]={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}};
else Z[1]={t:"name",v:{classID:"Lyr",val:this.tN[o[0]-1]}};Z[0].v.enum=["RGB","Rd","Grn","Bl","Trsp"][o[1]];
D.Invr.v=o[2];var $=D.Clcl.v.Clcn=w[o[3]];D.Opct.v.val=o[4];D.Scl.v=o[5];D.Ofst.v=o[6];D.PrsT.v=o[7];
var k=$=="Add"||$=="Sbtr";this.vf[5].Sc(k);this.vf[6].Sc(k)};return b}();_.matc=function(){var w,M,O=0;
function b(){_.call(this,"matc");this.vf.push(new hy("Luminance",1,200));this.vf.push(new hy("Color Intensity",1,200));
this.vf.push(new hy([2,11],0,100,"%"));this.vf.push(new ji("Neutralize"));this.vf.push(new ao([12,70],[]));
this.vf.push(new ao([0,3],[]));this.X2([2])}function D(o,Z){o.vf[5].N8([[5,7]].concat(Z),[1,Z.length])}b.prototype=new _;
b.prototype.gw=function(o,Z,$){O=0;Z[0]=o.Lght.v;Z[1]=o.ClrR.v;Z[2]=o.Fade.v;Z[3]=o.neutralizeColor?o.neutralizeColor.v:!1;
Z[4]=Z[5]=0;var k=o.Srce;if(k)k=k.v;if($){w=[];M=[];var E=$[2],t=$[3];for(var U=0;U<t.length;U++){var c=t[U];
w.push(c.name);var l=c.B,q=[];M.push(q);for(var d=0;d<l.length;d++)q.push(l[d].getName());q.reverse()}this.vf[4].N8([[13,1,0]].concat(w),[1,w.length]);
var V=t.indexOf(E);if(k)V=w.indexOf(k[1].v.val);D(this,M[V])}if(k){var L=w.indexOf(k[1].v.val);Z[3]=O=1+L;
if(k[0].t=="name")Z[4]=1+M[L].indexOf(k[0].v.val)}};b.prototype.l0=function(o,Z){o.Lght.v=Z[0];o.ClrR.v=Z[1];
o.Fade.v=Z[2];o.neutralizeColor.v=Z[3];if(Z[4]==0){o.noReference={t:"bool",v:!0};delete o.Srce}else{if(Z[4]!=O){O=Z[4];
D(this,M[Z[4]-1])}delete o.noReference;var $={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}},k=M[Z[4]-1];
if(Z[5]!=0)$={t:"name",v:{classID:"Lyr",val:k[Z[5]-1]}};o.Srce={t:"obj ",v:[$,{t:"name",v:{classID:"Dcmn",val:w[Z[4]-1]}}]}}};
return b}();function bZ(w,M){eE.call(this);if(w==null)return;this.id=M;this.e6=w;this.t4=null;this.m=R.S("div","window "+M);
this.adS=null;this.SX=R.S("div","whead");this.ajI=R.S("span","wname");this.SX.appendChild(this.ajI);
this.m.appendChild(this.SX);this.vF=this.acH.bind(this);this.j6=this.an8.bind(this);this.pN=this.amN.bind(this);
R.fO(this.SX);R.c3(this.SX,this.vF);this.a5v=R.S("span","cross gsicon");this.SX.appendChild(this.a5v);
bZ.prototype.f.call(this);R.UB(this.a5v,this.awj.bind(this));this.body=R.S("div","body");this.m.appendChild(this.body)}bZ.prototype=new eE;
bZ.prototype.Xc=function(){return!1};bZ.prototype.CY=function(){return!1};bZ.prototype.f=function(){if(this.e6==null)return;
this.ajI.textContent=fr.get(this.e6)};bZ.prototype.kf=function(w,M,O,b,D){};bZ.prototype.YZ=function(w,M,O,b,D){};
bZ.prototype.Ha=function(w,M,O,b,D){};bZ.prototype.oH=function(w,M,O,b,D){};bZ.prototype.B0=function(w,M,O,b,D){};
bZ.prototype.$m=function(w,M,O,b){if(b.i(i_.sW)&&this.Bp)this.Bp();if(b.i(i_.v9)){var D=new aX(A.E.s);
D.Hb=!0;y.T5.atb(b,D);if(D.data)M.l(D)}};bZ.prototype.FX=function(w){return!1};bZ.prototype.bT=function(w,M){return!0};
bZ.prototype.ZM=function(w,M,O,b){};bZ.prototype.o9=function(w,M){};bZ.prototype.xR=function(w,M){return null};
bZ.prototype.a8n=function(w){return this.adS};bZ.prototype.nQ=function(){};bZ.prototype.close=function(){this.l(new aX(A.E._r))};
bZ.prototype.acH=function(w){this.t4=R.Pr(w,this.m);R.Gg(window,this.j6);R.UB(window,this.pN)};bZ.prototype.an8=function(w){var M=this.m.parentNode,O=R.Pr(w,M),b=Math.round(O.x-this.t4.x),D=M.offsetTop+Math.max(0,Math.min(window.innerHeight-36,Math.round(O.y-this.t4.y)));
this.adS=new at(b,D);this.m.style.left=b+"px";this.m.style.top=D+"px"};bZ.prototype.amN=function(w){R.wg(window,this.j6);
R.oX(window,this.pN)};bZ.prototype.awj=function(w){this.l(new aX("closebtn"));this.close()};function gG(){bZ.call(this,"About Photopea","aboutpp");
var w=R.S("div","flexrow");this.body.appendChild(w);var M=this.adM=R.S("img");w.appendChild(M);this.body.setAttribute("style","margin:0; padding:0");
var O=this.a4W=R.S("div");O.innerHTML=gG.hT;w.appendChild(O);var b=this.LH=R.S("span");b.innerHTML="<big style=\"text-shadow: 2px 2px 3px #000000;\">Ivan holding Photopea in Prague</big>";
this.body.appendChild(b)}gG.prototype=new bZ;gG.prototype.xR=function(w,M){return new at(0,0)};gG.prototype.nQ=function(w,M){var O=this.adM,b=this.a4W,D=this.LH,o=(w+M-42-42)/110;
o=Math.sqrt((w-42)*(M-42))/50;O.setAttribute("style","width:"+w/2+"px; height:"+M+"px; display:block; object-fit:cover;");
b.setAttribute("style","width:"+(w/2-42)+"px; height:"+(M-42)+"px; padding:20px; font-size:"+o+"px;");
D.setAttribute("style","position:absolute;  bottom:10px; right:"+(w/2+10)+"px")};gG.prototype.f=function(){};
gG.prototype.ZM=function(w,M,O,b){this.adM.setAttribute("src","promo/ivan_pp.webp")};gG.hT="\t<h1>Hi There!</h1>\t<p>My name is <b>Ivan Kutskir</b> and I'm the creator of Photopea.</p>\t<p>I'm a 30-year-old computer programmer. I was born in Ukraine, but I live in the Czech Republic most of my life (in <b>Prague</b> since 2009).</p>\t<p>I started developing Photopea back in 2012. I intended to call it <b>Photo Hammer</b>, \tbut I didn't register the .com domain right away, and when I tried to do so six months later, it was already taken.</p>\t\t<p>My friends and my family did not know about Photopea during the first four years of development.\tI was spending a lot of time building it, without making any money or learning new skills. So nothing to be proud of, \tbut the project was fun and I enjoyed working on it.\t</p>\t<p>\tNow, it's heartwarming to know that millions around the world use Photopea as their creative medium. \tTo this day I work on Photopea, driven by the positive impact of my creation.\t</p>\t\t<!--<p>You can not be completely sure if something is a good or a bad idea, until you actually try to do it.</p>-->\t\t<p style=\"text-align:right;\"><i><big>Ivan Kutskir</big><br/>support@photopea.com</i></p>\t";
function iH(){bZ.call(this,[0,13,0],"account");this.QO=R.S("div","form scrollable");this.body.appendChild(this.QO);
this.body.style.padding="0";this.yM=[new iH.O3,new iH.V7("::privacy.html"),new iH.V7(iH.amn)];for(var U=0;
U<this.yM.length;U++)this.yM[U].parent=this;this.h("showpage",this.afj,this)}iH.prototype=new bZ;iH.prototype.bT=function(w,M){var O=navigator.onLine;
if(!O)alert("Go online first");return O};iH.prototype.nQ=function(w,M){this.QO.setAttribute("style","width:"+Math.min(w-40,740)+"px;  height:"+(M-38)+"px;  padding:1.5em;");
this.yM[0].nQ(w,M)};iH.prototype.xR=function(w,M){return new at(Math.max(0,Math.min(150,(w-740)/2)),Math.max(0,Math.min(100,(M-500)/2)))};
iH.prototype.afj=function(w){R.Mh(this.QO);this.QO.scrollTop=0;this.QO.appendChild(this.yM[w.data.zS].m)};
iH.prototype.f=function(){bZ.prototype.f.call(this);for(var U=0;U<this.yM.length;U++)this.yM[U].f()};
iH.prototype.ZM=function(w,M,O){if(!navigator.onLine)return;R.Mh(this.QO);var b=this.yM[0];this.QO.appendChild(b.m);
b.ZM();this.f()};iH.prototype.o9=function(w,M){this.ZM(null,null,null)};iH.O3=function(){eE.call(this);
this.m=R.S("div");var w=this.m,$,k,t="font-size:1.25em;",c="text-align:center;",q="style=\"list-style-type: none; padding:0;  margin:0; font-size:1.15em;\"",d="style=\"font-weight:bold; color:#00aa00; padding-right:4px;\"",V="style=\"width:50%; vertical-align:top; padding:10px 20px;\"",e=12;
this.Qx=R.S("div");w.appendChild(this.Qx);this.Ry=new i8([0,11],!1,null,!0);this.Ry.m.setAttribute("style","background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
this.Ry.h("click",this._9,this);w.appendChild(this.Ry.m);this.rg=new i8([0,13,1],!1,null,!0);this.rg.h("click",this.a82,this);
w.appendChild(this.rg.m);this.Ea=new i8("Business Terms",!1,null,!0);this.Ea.h("click",this.a8x,this);
w.appendChild(this.Ea.m);var M=R.S("div");M.style.margin="20px 0";w.appendChild(M);var O=["Account Types","Go Premium","Team Settings","Distributors"],b=this.nW=[],D=this.au6=[],o=this.iu=R.S("div");
w.appendChild(o);for(var U=0;U<O.length;U++){var Z=R.S("span");Z.textContent=O[U];M.appendChild(Z);b.push(Z);
Z.setAttribute("style","font-weight:bold; display:inline-block;  margin-right:2em; font-size:1.1em; cursor:pointer;");
Z.addEventListener("click",this._$.bind(this));D.push(R.S("div"))}this._$(0);var E=this.a6I="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; color:#ffffff; cursor:pointer; margin:4px 0; width:100%;";
w=D[0];var k=R.S("table"),l="style=\" "+c+t+" padding-bottom:20px;\"";k.innerHTML="\t\t\t<tr>\t\t\t\t<th>FREE</th><th>PREMIUM</th>\t\t\t</tr>\t\t\t<tr>\t\t\t\t<td "+V+">\t\t\t\t\t<div "+l+">\t\t\t\t\t\t<sup>$</sup><big><big><b>0</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+d+">\u2713</span> All Features</li>\t\t\t\t\t\t</ul>\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t\t<td "+V+">\t\t\t\t\t<div "+l+">\t\t\t\t\t\tFrom <sup>$</sup><big><big><b>3.33</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+d+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+d+">\u2713</span> No Ads <a href=\"//www.photopea.com/promo/no_ads.png\" target=\"_blank\">\uD83D\uDC41</a></li>\t\t\t\t\t\t\t<li><span "+d+">\u2713</span> 2\xD7 more steps in history</li> \t\t\t\t\t\t\t<li><span "+d+">\u2713</span> quick <a href=\"mailto:support@photopea.com\">email support</a></li> \t\t\t\t\t\t</ul>\t\t\t\t\t\t<span style=\"margin:10px 0 12px 0; font-size:0.75em;\">* No subscription, just one-time payments</span> \t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t</tr>\t\t";
w.appendChild(k);var Z=new i8("Go Premium");Z.m.setAttribute("style",E+"padding:10px 0;");Z.h("click",function(g){this._$(1)},this);
k.children[0].children[1].children[1].appendChild(Z.m);this.qv=R.S("div");w.appendChild(this.qv);w=D[1];
var L=this.a2v=[[9,30,1],[10,90,1],[40,365,1],[15,30,5],[30,90,5],[120,365,5],[50,30,20],[100,90,20],[400,365,20],[100,30,50],[200,90,50],[800,365,50],[40,30,1e3],[80,90,1e3],[300,365,1e3],[100,30,5e3],[200,90,5e3],[700,365,5e3],[200,30,2e4],[400,90,2e4],[1400,365,2e4]];
this.uQ=[];for(var U=0;U<L.length;U++)this.uQ.push(new i8("Buy: $"+L[U][0],!1,null,!0));for(var U=0;
U<this.uQ.length;U++){this.uQ[U].h("click",this.auN,this)}this.mA=new i8("...",!0);this.mA.m.setAttribute("style",E);
w.appendChild(this.mA.m);k=this.awe(4,["Single user",this.uQ[0],this.uQ[1],this.uQ[2],"Team of 5",this.uQ[3],this.uQ[4],this.uQ[5],"Team of 20",this.uQ[6],this.uQ[7],this.uQ[8],"Team of 50",this.uQ[9],this.uQ[10],this.uQ[11]]);
w.appendChild(k);this.asw=new ji("I accept",!0,"");w.appendChild(this.asw.m);this.Th=new i8([0,13,1],!1,null,!0);
this.Th.h("click",this.a82,this);w.appendChild(this.Th.m);this.O4=new i8("I have a key",!1,null,!0);
this.O4.m.setAttribute("style",E+" float:right; width:inherit;");this.O4.h("click",this.auN,this);w.appendChild(this.O4.m);
w=D[2];this.zI=new iE;this.zI.parent=this;this.zI.h(A.E.r,this.pm,this);w.appendChild(this.zI.m);w=D[3];
this.PL=new i8("...",!0);this.PL.m.setAttribute("style",E);w.appendChild(this.PL.m);k=this.awe(3,["1000 views/mo",this.uQ[e++],this.uQ[e++],this.uQ[e++],"5000 views/mo",this.uQ[e++],this.uQ[e++],this.uQ[e++],"20000 views/mo",this.uQ[e++],this.uQ[e++],this.uQ[e++]]);
w.appendChild(k);var H=R.S("p");H.innerHTML="Insert Photopea into your webpage, with no ads, under your own brand \t\t... <a href=\"https://www.photopea.com/api/accounts#distributors\" target=\"_blank\" style=\"color:inherit;\">More</a>";
w.appendChild(H);this.SI=new d8("Domain name (e.g. domain.com)",null,14);w.appendChild(this.SI.m);var j=new i8("Save Domain Settings",!1,null,!0);
j.L5();w.appendChild(j.m);j.h("click",this.a20,this)};iH.O3.prototype=new eE;iH.O3.prototype._$=function(w){var M=typeof w=="number"?w:this.nW.indexOf(w.target);
for(var U=0;U<4;U++)this.nW[U].style.opacity=.6;this.nW[M].style.opacity=1;R.Mh(this.iu);this.iu.appendChild(this.au6[M])};
iH.O3.prototype.nQ=function(w,M){var O=w<600?"d":" days",b=["30 days","90 days","365 days"];if(w<600)b=["30d","90d","365d"];
var D=this.a2v;for(var U=0;U<D.length;U++){this.uQ[U].RD("<span>"+b[U%3]+": <sup>$</sup><big><b>"+D[U][0]+"</b></big>"+"</span>");
this.uQ[U].m.setAttribute("style",this.a6I)}};iH.O3.prototype.a82=function(w){var M=new aX("showpage",!0);
M.data={zS:1};this.l(M)};iH.O3.prototype.a8x=function(w){var M=new aX("showpage",!0);M.data={zS:2};this.l(M)};
iH.O3.prototype.f=function(){this.Ry.RD(fl.iQ()?fr.get([0,11]):fr.get([0,10]));this.Th.f();this.rg.f();
this.Ea.f()};iH.O3.prototype.au1=function(w){var M=new aX(A.E.Z,!0);M.data={d:A.t.NA,link:"https://www.photopea.com/api/accounts#"+(w.target==this.awF?"teams":"distributors")};
this.l(M)};iH.O3.prototype.afw=function(w){var M=w.currentTarget==this.aqL;this.aqL.b(M);this.asH.b(!M)};
iH.O3.prototype.ajR=function(w){var M=this.aqL.Q(),O=this.afT.Q().trim().toLowerCase(),b=this.ah6.value.trim().toLowerCase();
if(O.length>60){alert("Too long email address");return}if(b.length>600){alert("Too many team members");
return}b=b.split(",").join(" ").trim();b=b.replace(/\s+/g," ");if(b=="")b=[];else b=b.split(" ");var D=fl.lW();
if(D==null)D={};if(D.acc==null)D.acc={};D.acc.team={jin:M,ldr:O,mmb:b};fl.fy(D,this.pm.bind(this));alert("Saved!");
this.ZM()};iH.O3.prototype.a20=function(w){var M=this.SI.Q().trim();if(!fl.iQ()){alert("You have to log in first.");
return}if(fl.WE()==0){alert("Order a distributor account first.");return}var O=fl.lW();if(O==null)O={};
if(O.acc==null)O.acc={};if(M=="")delete O.acc.dname;else O.acc.dname=M;fl.fy(O,this.pm.bind(this));alert("Saved!");
this.ZM()};iH.O3.prototype.a0J=function(w){var M=fl.fS(),U=this.Qs,O=fl.lW();if(O==null)O={};if(O.acc==null)O.acc={};
O.acc.bto=w;fl.fy(O,function(){});var b=iH.ahI(w.split("\n"),M.pmnts[U]);kl.save(b,"photopea_invoice.pdf")};
iH.O3.prototype.ajK=function(w){var M=fl.fS(),O=fl.lW(),b=O.acc?O.acc.bto:null;if(b==null)b=M.name+"\n"+M.email;
var U=-1,D=w.target.m.parentNode;while((D=D.previousSibling)!=null)U++;this.Qs=U;var o=new aX(A.E.Z,!0);
o.data={d:A.t.JE,IP:"billto",hR:b,Wz:this.a0J.bind(this)};this.l(o)};iH.O3.prototype.ZM=function(){this.Qx.innerHTML="";
R.Mh(this.qv);if(fl.iQ()){var w=fl.fS(),M=w.pmnts;if(w==null)return;this.Qx.innerHTML="<span style=\"font-size:1.5em; margin-right:0.7em;\">"+w.name+"</span> "+w.email+" <br/>";
if(M){var O="<h2>Payments</h2>";for(var U=0;U<M.length;U++){var b=M[U],D=new Date(b[0]*1e3);O+="<div style=\"font-size:1.2em\">"+D.getDate()+". "+(D.getMonth()+1)+". "+D.getFullYear()+" - "+iH.afp(b)+"</div>"}this.qv.innerHTML=O;
for(var U=0;U<M.length;U++){var o=new i8("Get Invoice",!1,null,!0);o.m.setAttribute("style","float:right");
o.h("click",this.ajK,this);this.qv.children[U+1].appendChild(o.m)}}}else{}var Z=fl.iQ()&&fl.yR();this.mA.m.style.display=Z?"block":"none";
if(Z){var $,k,E=Z;if(E[0]==0){$=fl.EY(E[1])-Date.now()*(1/1e3);k=E[1][2]==1?"Single User":"Team Of "+E[1][2]}else{$=E[1][1]-Date.now()*(1/1e3);
k="Member of \""+E[1][0]+"\""}this.mA.RD("Premium active for "+Math.round($/(60*60*24))+" more days! ("+k+")")}var t=fl.iQ()&&fl.WE()*1e3>Date.now();
this.PL.m.style.display=t?"block":"none";if(t){var $=fl.WE()-Date.now()/1e3;this.PL.RD("Distributor active for "+Math.round($/(60*60*24))+" more days!")}var c=fl.lW();
this.zI.ZM();if(c&&c.acc&&c.acc.dname)this.SI.b(c.acc.dname);else this.SI.b("")};iH.O3.prototype.awe=function(w,M){var O=R.S("table");
if(!0){var b="<table><tr>";for(var U=0;U<w;U++)b+="<th>"+M[U*4]+"</th>";b+="</tr></table>";O.innerHTML=b;
for(var U=0;U<3;U++){var D=R.S("tr"),o;O.appendChild(D);for(var Z=0;Z<w;Z++){o=R.S("td");o.style.width=Math.round(100/w)+"%";
D.appendChild(o);o.appendChild(M[Z*4+1+U].m)}}}return O};iH.O3.prototype.auN=function(w){var M=this.uQ.indexOf(w.currentTarget),b=30,D=1;
if(!fl.iQ()){this._9();return}if(this.asw.Q()==!1&&M<12){alert("You must accept Terms of Service");return}var O=fl.iQ()&&fl.yR();
if(M!=-1){var o=this.a2v[M];b=o[1];D=o[2]}if(O&&D<1e3){alert("You already have premium.");return}console.log(o,b,D);
if(M==-1){var Z=prompt("Please enter your key");if(Z!=null){fl.auT(Z,this.pm.bind(this));this.T_()}return}if(b==30&&D==1){var $=confirm("You can have a 90 days version for $10. Do you still want a 30 days version for $9?");
if(!$)return}fl.order(b,D,this.pm.bind(this));this.T_()};iH.O3.prototype.pm=function(w){this.ZM();this.T_()};
iH.O3.prototype._9=function(w){if(fl.iQ()){fl.a1C();this.T_();this.ZM(null,null,null)}else fl._9(this.auy.bind(this))};
iH.O3.prototype.auy=function(){var w=new aX(A.E.Z,!0);w.data={d:A.t.avK};this.l(w)};iH.O3.prototype.T_=function(){var w=new aX(A.E.Z,!0);
w.data={d:A.t.a48};this.l(w)};iH.V7=function(w){eE.call(this);this.m=R.S("div");var M=this.m,O=this.aqY=new i8([0,13,2],!1,null,!0),b;
O.h("click",this.afW,this);M.appendChild(O.m);if(w.startsWith("::")){b=R.S("iframe");b.setAttribute("style","width:100%;height:1700px; background-color:white;");
b.setAttribute("src",w.slice(2))}else{b=R.S("div");b.innerHTML=w}M.appendChild(b)};iH.V7.prototype=new eE;
iH.V7.prototype.afW=function(w){var M=new aX("showpage",!0);M.data={zS:0};this.l(M)};iH.V7.prototype.f=function(){this.aqY.f()};
iH.amn="\t\t<h1>Contact</h1>\t\t<p>Photopea.com is operated by Ivan Kuckir (I\u010C 04498411, Tax ID CZ9011014309).</p>\t\t<ul>\t\t\t<li><b>Address</b>: H\xE1lkova 483, 517 41 Kostelec nad Orlic\xED, Czech Republic</li>\t\t\t<li><b>E-mail</b>: support@photopea.com, <b>Phone number</b>: +420 604 592 737</li>\t\t</ul>\t\t<h1>Refund Policy</h1>\t\t<p>You can ask for a refund by writing us an email to support@photopea.com and. \t\tWe offer only one kind of service, and if you have been refunded in the past, you can not get another refund.\t\t</p>\t\t<h1>Terms of Delivery</h1>\t\t<p>You can pay with a debit or a credit card. Payments are processed instantly, your Premium account will be activated instantly.</p>\t\t<h1>Payment Provider</h1>\t\t<p>Payments are provided by <a style=\"color:white\" href=\"https://www.comgate.cz/cz/platebni-brana\">ComGate pamyments, a.s</a>.</p>\t\t<ul>\t\t\t<li>ComGate Payments, a.s.</li>\t\t\t<li>Go\u010D\xE1rova t\u0159\xEDda 1754 / 48b, Hradec Kr\xE1lov\xE9</li>\t\t\t<li>E-mail: platby-podpora@comgate.cz, Tel:  +420 228 224 267</li>\t\t</ul>\t\t<img src=\"https://www.comgate.cz/files/platebni-brana-comgate-paticka-e-shopu.png\" />\t";
iH.afp=function(w){return"Photopea "+(w[1]<1e3?"Premium":"Distributor")+" ("+w[1]+" days, "+w[2]+" user"+(w[2]==1?"":"s")+")"};
iH.ahI=function(w,M){w=["Bill To:"].concat(w);var O=new ToPDF,b=595,D=842,o=40,Z=18,$=12,k=500,E=100,t=400,V=0;
function c(m,N,v,h,P){q.font.Tf=P?"Helvetica-Bold":"Helvetica";q.ctm=[1,0,0,1,N,v];q.font.Tfs=h?h:$;
O.PutText(q,m,0)}function l(m,N,v,h){for(var U=0;U<m.length;U++){c(m[U],N,v-U*h,null,U==0)}}var q=UDOC.getState();
O.StartPage(0,0,b,D);c("INVOICE",b-o-140,D-o-30,30,!0);l(["Bill From:","Ivan Kuckir","H\xE1lkova 483, 517 41 Kostelec nad Orlic\xED","Tax ID: CZ9011014309"],o,D-o-40,Z);
var d=new Date(M[0]*1e3);l(["Date: "+d.getDate()+". "+(d.getMonth()+1)+". "+d.getFullYear(),"Transaction ID: "+M[4]],b-o-140,D-o-40-Z*2,Z);
var L=w.join("");for(var U=0;U<L.length;U++)V=Math.max(V,L.charCodeAt(U));if(V>256){var e=4,H=R.S("canvas"),j=H.getContext("2d"),g=0;
j.font=$*e+"px sans-serif";for(var U=0;U<w.length;U++)g=Math.max(g,j.measureText(w[U]).width);var K=Math.round(g)+20,a=w.length*e*Z+20;
H.width=K;H.height=a;j.font=$*e+"px sans-serif";for(var U=0;U<w.length;U++){j.font=(U==0?"bold ":"")+$*e+"px sans-serif";
j.fillText(w[U],10,(U+1)*e*Z)}document.body.appendChild(H);var T=new Uint8Array(j.getImageData(0,0,K,a).data.buffer);
q.ctm=[K/e,0,0,a/e,o-10/e,D-o-40-100-a/e];O.PutImage(q,T,K,a);q.ctm=[1,0,0,1,0,0]}else l(w,o,D-o-40-100,Z);
q.colr=[.8,.8,.8];q.pth={cmds:["M","L","L","L","Z"],crds:[o,k,b-o,k,b-o,k-Z,o,k-Z]};O.Fill(q);q.colr=[0,0,0];
var C=[o,k,b-o,k,o,k-Z,b-o,k-Z,o,k-E,b-o,k-E,o,k,o,k-E,b-o,k,b-o,k-E,t,k,t,k-E],F=[];for(var U=0;U<C.length;
U+=4)F.push("M","L");q.pth={cmds:F,crds:C};O.Stroke(q);c("Order details",o+4,k-14);c(iH.afp(M),o+4,k-Z-14);
c("TOTAL:",o+4,k-E-14,null,!0);c("Price",b-o-50,k-14);c(M[3]+" USD",b-o-60,k-Z-14);c(M[3]+" USD",b-o-60,k-E-14,null,!0);
c("www.Photopea.com",o,o);c("support@photopea.com",b-o-130,o);O.ShowPage();O.Done();return O.buffer};
function ex(){bZ.call(this,[11,14],"addguides");this.sT;this.P4={sw:{OF:0}};this.kt=null;var w=R.S("div","form");
this.body.appendChild(w);this.p9=new d8([22,4,0],null,16);this.p9.h(A.E.r,this.jL,this);this.f2=new d8([22,4,1],null,16);
this.f2.h(A.E.r,this.jL,this);this.DL=new ao(null,x.Rk.pD);this.DL.h(A.E.r,this.jL,this);w.appendChild(this.p9.m);
w.appendChild(this.DL.m);R.Ca(w);w.appendChild(this.f2.m);this.Rl=R.M2(this,w);this.h("closebtn",this.SG,this)}ex.prototype=new bZ;
ex.prototype.bT=function(w,M){return w!=null};ex.prototype.Xc=function(){return!0};ex.prototype.f=function(){bZ.prototype.f.call(this);
this.p9.f();this.f2.f();this.DL.f();this.Rl.f()};ex.prototype.o9=function(w,M){var O=w.sw.OF;this.P4.sw.OF=O;
this.DL.b(O)};ex.prototype.ZM=function(w,M){this.sT=w;this.kt=JSON.stringify(w.Wp());this.rU()};ex.prototype.rU=function(){var w=this.sT,M=w.lX,O=function(b,D,w,o,Z){var $=[];
for(var U=0;U<b.length;U++)if(b[U][0]==D)$.push(x.Rk.Ms(b[U][1],w.Z1,o,Z));$.sort(function(k,E){return k-E});
return $.join(", ")};this.p9.b(O(M,0,w,this.P4,w.e));this.f2.b(O(M,1,w,this.P4,w.n))};ex.prototype.jL=function(w){if(w&&w.currentTarget==this.DL)this.P4.sw.OF=this.DL.Q();
else{var M=this.ajM(),O=this.sT;O.D8(M);O.uP=!0}this.rU()};ex.prototype.ajM=function(){var w=[],M=[];
for(var O=0;O<2;O++){var b=O==0?this.p9:this.f2,D=O==0?this.sT.e:this.sT.n,o=b.Q().replace(/,/g," ").replace(/  +/g," ").trim(),Z=o==""?[]:o.split(" ");
for(var U=0;U<Z.length;U++){w.push([O,x.Rk.asY(Z[U],this.sT.Z1,this.P4,D)]);M.push(-1)}}return[w,M]};
ex.prototype.SG=function(w){var M=this.sT;M.D8(JSON.parse(this.kt));M.uP=!0;this.sT=null};ex.prototype.Bp=function(w){this.jL(w);
var M=new aX(A.E.s,!0);M.k=y.R6;M.data={d:"gids",vb:JSON.parse(this.kt),vM:this.sT.Wp()};this.sT=null;
this.close();this.l(M)};function hn(w){bZ.call(this,{pdfpres:"PDF Presentation"}[w],w);var M=R.S("div","form");
this.body.appendChild(M);M.setAttribute("style","width:300px");this.RM=new bb("Source Images",!0,!0);
M.appendChild(this.RM.m);this.Vq=new ao([12,14,0],["A4 Portrait","A4 Lanscape",[12,93,3],"Adapt to images"]);
M.appendChild(this.Vq.m);this.MR=new ji("Order images by name");this.MR.b(!0);M.appendChild(this.MR.m);
var O=new i8(["VAR0 PDF",[1,8]],!0,null,!0);O.h("click",this.kn,this);M.appendChild(O.m)}hn.prototype=new bZ;
hn.prototype.kn=function(w){var M=this.RM.Q(),O=[],o=595,Z=842,$=40;for(var b in M)O.push(b);if(O.length==0){alert("No images selected");
return}if(this.MR.Q())O.sort();var D=this.Vq.Q(),k=new ToPDF,E=UDOC.getState();for(var U=0;U<O.length;
U++){var b=O[U],t=M[b],c=t[0]==255,l=ce.S5(t.buffer),q=ce.ti(l),d;if(l=="psd")d=b7.aiP(t.buffer)[0];
else if(q.wZ){alert(l.toUpperCase()+" can not be used.");continue}else d=q.sc(t.buffer)[0];var V=d.fJ,L=new Uint8Array(d.data),e=V.e,H=V.n,j=[[595,842],[842,595],[595,595],[595,0]][D];
if(D==3)j[1]=Math.round(j[0]*H/e);var o=j[0],Z=j[1],g=Math.min(o/e,Z/H);k.StartPage(0,0,o,Z);E.ctm=[e*g,0,0,H*g,(o-e*g)/2,(Z-H*g)/2];
k.PutImage(E,c?t:L,e,H);k.ShowPage()}k.Done();kl.save(k.buffer,"file.pdf")};hn.prototype.f=function(){bZ.prototype.f.call(this);
this.RM.f();this.Vq.f();this.MR.f()};function hs(w){var M=ek.names[w];if(M==null)M=a6.names[w];if(w=="aply")M=[2,12];
if(w=="fade")M=[2,11];if(w=="matc")M=[4,18];if(w=="blendOptions")M=[14,10];bZ.call(this,M,"afw_"+w);
this.nC=w;this.ET=null;this.ON=null;this.GQ=new _[w];this.GQ.h(A.E.r,this.LR,this);this.GQ.parent=this;
this.body.appendChild(this.GQ.m);this.Pz=new ji([24,18,5]);this.Pz.b(!0);this.Pz.h(A.E.r,this.LR,this);
this.jK=new i8([1,12,2],!0,null,!0);this.jK.h("click",this.R_,this);this.Rl=R.M2(this);if(this.oR())this.GQ.M_(this.Rl.m);
else{R.rV(this.GQ.m,"form");R.rV(this.body,"flexrow");this.GQ.m.setAttribute("style","width:312px");
var O=R.S("div");this.body.appendChild(O);O.setAttribute("style","width:8em; margin-left:1em; line-height:2.3em");
O.appendChild(this.Rl.m);O.appendChild(this.jK.m);O.appendChild(this.Pz.m)}this.h("closebtn",this.s1,this)}hs.prototype=new bZ;
hs.prototype.Xc=function(){return!0};hs.prototype.oR=function(){return this.GQ!=null&&this.GQ.tF()};
hs.prototype.xR=function(){return this.oR()?new at(0,0):bZ.prototype.xR()};hs.prototype.CY=function(){return this.GQ.CY()};
hs.prototype.kf=function(w,M,O,b,D){this.GQ.kf(w,M,O,b,D)};hs.prototype.Ha=function(w,M,O,b,D){this.GQ.Ha(w,M,O,b,D)};
hs.prototype.oH=function(w,M,O,b,D){this.GQ.oH(w,M,O,b,D)};hs.prototype.bT=function(w,M){if(this.nC=="fade")return hs.avN(w);
return!0};hs.prototype.R_=function(w){this.GQ.b(ek.pp(this.nC));this.LR()};hs.prototype.LR=function(w){this.iO({d:"edit",X$:this.GQ.Q(),b2:!this.Pz.Q()})};
hs.prototype.s1=function(w){this.iO({d:"cancel"})};hs.prototype.Bp=function(w){if(!this.Pz.Q()){this.Pz.b(!0);
this.LR()}this.ON=this.GQ.Q();if(this.oR())this.LR();this.iO({d:"confirm"});this.close()};hs.prototype.f=function(){bZ.prototype.f.call(this);
this.Pz.f();if(this.GQ)this.GQ.f();this.Rl.f()};hs.prototype.o9=function(w,M){if(this.GQ)this.GQ.o9(w,M)};
hs.prototype.$m=function(w,M,O,b){if(this.oR())this.GQ.$m(b);else bZ.prototype.$m.call(this,w,M,O,b)};
hs.prototype.ZM=function(w,M,O,b){this.ET=M.ET;var D=w.add.lnk2?w.add.lnk2:[],o,Z,$=new cn(0,0,w.e,w.n),k=w.B[w.g[0]],E=null;
o=k.buffer;Z=k.rect;if(this.oR())E=w.Hp(w.g[0]-1);var t=ek.pp(this.nC),c=[D,w.SN,w,O];if(M.ET==null){this.GQ.b(t,o,Z,$,E,c);
if(a6.names[this.nC]){if(b.i(i_.PY)&&this.ON)this.GQ.b(this.ON);var l=y.xW.getData(w),q=x.mv(l[0].bg);
this.GQ.RY(q)}}else{var d=!1,k=w.B[this.ET.q];if(k.Kf()){var V=k.k1(w);o=V.buffer;Z=V.rect;var L=k.add.SoLd.filterFX.v.filterFXList.v;
if(L[this.ET.index]){var e=L[this.ET.index].v;this.GQ.b(this.nC=="blendOptions"?e.blendOptions.v:e.Fltr.v,o,Z,$,E,c);
this.GQ.RY(x.mv(o));d=!0}}if(!d){this.GQ.b(t,o,Z,$,E,c);this.GQ.RY(x.mv(o))}}if(!this.oR()){this.LR();
var H=this.GQ;if(H&&H.vf&&H.vf[0]&&H.vf[0].Fb)H.vf[0].Fb()}};hs.prototype.iO=function(w){var M=new aX(A.E.s,!0);
w.nC=this.nC;w.ET=this.ET;M.data=w;M.k=ek.names[this.nC]||this.ET?y.kL:y.jZ;M.Hb=!0;this.l(M)};hs.prototype.nQ=function(w,M){if(!this.GQ.tF()){}else{this.body.style.padding="0";
this.GQ.nQ(w,M)}};hs.avN=function(w){if(w==null)return!1;var M=w.oO();if(M==null||!(M.data instanceof Array)||M.data.length!=w.g.length)return!1;
for(var U=0;U<M.data.length;U++){var O=M.data[U];if(O.q<0&&w.SN[-1-O.q])return!0;if(O.q==null||w.B[O.q]==null||w.B[O.q].cn!=O.O6)return!1;
if(w.g.indexOf(O.q)==-1)return!1}return!0};function jU(){bZ.call(this,[11,0],"camera");this.data=null;
this.wI=new at(1,1);this.a7e=[];var w=R.S("div","form hbar");this.body.appendChild(w);this.abF=new ao(null,[]);
this.LG=new ao([21,0],[[21,2],[21,1]]);w.appendChild(this.LG.m);this.js=new ao(null,[]);this.js.h(A.E.r,this.aeI,this);
w.appendChild(this.js.m);this.wD=new i8([11,0],!1,null,!0);this.wD.h("click",this.alw,this);w.appendChild(this.wD.m);
this.NN=new as("");w.appendChild(this.NN.m);this.stream=null;this.oB=R.S("video","");this.oB.setAttribute("autoplay","true");
this.body.appendChild(this.oB);this.agy=this.aoo.bind(this);this.asb=this.awS.bind(this);this.atd=this.av0.bind(this);
this.h("closebtn",this.ay2,this)}jU.prototype=new bZ;jU.prototype.f=function(){bZ.prototype.f.call(this);
this.LG.f();this.wD.f();this.nQ(this.jy,this.e3)};jU.prototype.Hp=function(){var w=this.oB.videoWidth,M=this.oB.videoHeight,O=R.S("canvas","");
O.width=w;O.height=M;var b=O.getContext("2d");b.drawImage(this.oB,0,0,w,M);var D=b.getImageData(0,0,w,M);
return{fJ:new cn(0,0,w,M),data:D.data.buffer}};jU.prototype.alw=function(w){if(this.LG.Q()==0)this.a2m();
else this.a1g()};jU.prototype.a1g=function(){var w=this.Hp(),M={buffer:new Uint8Array(w.data),rect:w.fJ},O=new aX(A.E.s,!0);
O.Hb=!0;O.k=y.YH;O.data={d:Q.NF,Ge:M};this.l(O);alert(fr.get([21,4]))};jU.prototype.a2m=function(){var w=this.Hp(),M=ce.B2("camera",[w]),O=new aX(A.E.Z,!0);
O.data={d:A.t.$s,_t:M};this.l(O);alert(fr.get([21,5]))};jU.prototype.ZM=function(w,M,O){navigator.mediaDevices.enumerateDevices().then(this.a4Y.bind(this))};
jU.prototype.a4Y=function(w){var M=this.a7e=[],O=[];for(var U=0;U<w.length;U++)if(w[U].kind=="videoinput"){M.push(w[U]);
O.push("Camera "+M.length)}this.js.N8(O);this.js.b(0);this.aeI()};jU.prototype.aeI=function(w){this.ay2();
var M={video:{deviceId:this.a7e[this.js.Q()].deviceId,width:{ideal:8e3},height:{ideal:8e3}}};if(navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(M).then(this.agy).catch(this.asb);
else navigator.webkitGetUserMedia(M,this.agy,this.asb)};jU.prototype.aoo=function(w){this.stream=w;this.oB.srcObject=w;
this.oB.addEventListener("loadedmetadata",this.atd,!1)};jU.prototype.av0=function(w){this.oB.play();
this.nQ(this.jy,this.e3)};jU.prototype.xR=function(w,M){return new at(0,0)};jU.prototype.nQ=function(w,M){var O=this.oB.videoWidth,b=this.oB.videoHeight;
this.NN.b(O+" x "+b+" px");this.NN.m.setAttribute("style","position:absolute;  left:14px; bottom:10px; z-index:1;");
this.wI.ZK(O,b);this.jy=w;this.e3=M;var D=w-28,o=M-28-30,Z=this.wI.x/this.wI.y;if(D/o>Z)D=o*Z;else o=D/Z;
this.oB.setAttribute("style","display: block; width: "+Math.round(D)+"px; height:"+Math.round(o)+"px;")};
jU.prototype.awS=function(w){console.log("error",w);alert(fr.get([21,6]));this.close()};jU.prototype.ay2=function(w){if(this.stream!=null){var M=this.stream.getTracks();
for(var U=0;U<M.length;U++)M[U].stop();this.stream=null}};function hk(){bZ.call(this,[7,8],"crange");
this.sT=null;this.z1={XZ:73,ip:4.45,L:4};this.cu={XZ:73,ip:4.45,L:4};this.body.style.width="20em";this.fv=new ao([0,5],["Sampled Colors",[19,6,0],[19,6,1],[19,6,2]]);
this.fv.h(A.E.r,this.ar0,this);this.body.appendChild(this.fv.m);this.hT=R.S("div","form");this.body.appendChild(this.hT);
var w=this.apy=2,M=this.Uu=[new hy([12,92],0,200),new il([12,36],[[18,0],"\uFF0B","-"]),new hy([12,92],0,100,"%"),new gL("Min",0,255),new gL("Max",0,255)];
M[0].b(40);M[w].b(40);for(var U=0;U<M.length;U++){M[U].h(A.E.r,this.Yk,this);M[U].parent=this}this.U=R.S("canvas");
this.body.appendChild(this.U);this.Rl=R.M2(this,this.body)}hk.prototype=new bZ;hk.prototype.bT=function(w,M){return w!=null};
hk.prototype.CY=function(){return!0};hk.prototype.Xc=function(){return!0};hk.prototype.ar0=function(w){var M=this.fv.Q(),O=this.Uu,b=this.hT,D=0,o=O.length,Z=this.apy;
if(M==0)o=Z;else{D=Z;O[D+1].b([0,100,190][M-1]);O[D+1].Sc(M!=1);O[D+2].b([60,150,255][M-1]);O[D+2].Sc(M!=3)}R.Mh(b);
for(var U=D;U<o;U++){b.appendChild(O[U].m)}this.Yk()};hk.prototype.f=function(){bZ.prototype.f.call(this);
this.Rl.f();this.fv.f();for(var U=0;U<this.Uu.length;U++)this.Uu[U].f()};hk.prototype.kf=function(w,M,O,b,D){var o=w.P.ep(D.x,D.y);
this.aef(o.x,o.y)};hk.prototype.aef=function(w,M){var O=Math.min,b=Math.max,D=this.sT,o=b(0,O(D.e-1,Math.floor(w))),Z=b(0,O(D.n-1,Math.floor(M))),$=D.Hp(),k=(Z*D.e+o)*4,E=$[k],t=$[k+1],c=$[k+2],l=x.li(E,t,c),q=this.Uu[1].Q(),d=this.z1,V=this.cu;
if(q==0){this.z1=JSON.parse(JSON.stringify(l));this.cu=l}else if(q==1){d.XZ=O(d.XZ,l.XZ);d.ip=O(d.ip,l.ip);
d.L=O(d.L,l.L);V.XZ=b(V.XZ,l.XZ);V.ip=b(V.ip,l.ip);V.L=b(V.L,l.L)}else if(q==2){var L=(d.XZ+V.XZ)/2,e=(d.ip+V.ip)/2,H=(d.L+V.L)/2;
if(l.XZ<L)d.XZ=b(d.XZ,l.XZ+10);else V.XZ=O(V.XZ,l.XZ-10);if(l.ip<e)d.ip=b(d.ip,l.ip+1);else V.ip=O(V.ip,l.ip-1);
if(l.L<H)d.L=b(d.L,l.L+1);else V.L=O(V.L,l.L-1)}this.Yk()};hk.prototype.Bp=function(w){var M=this.fv.Q(),O=this.Uu,b={__name:"Color Range",classID:"ClrR",colorModel:{t:"long",v:0}};
if(M==0){var D=this.z1,o=this.cu;b.Mnm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:D.XZ},A:{t:"doub",v:D.ip},B:{t:"doub",v:D.L}}};
b.Mxm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:o.XZ},A:{t:"doub",v:o.ip},B:{t:"doub",v:o.L}}};b.Fzns={t:"long",v:O[0].Q()}}else{M--;
var Z=["shadows","midtones","highlights"][M];b.Clrs={t:"enum",v:{Clrs:["Shdw","Mdtn","Hghl"][M]}};if(0<M)b[Z+"LowerLimit"]={t:"long",v:O[3].Q()};
if(M<2)b[Z+"UpperLimit"]={t:"long",v:O[4].Q()};b[Z+"Fuzziness"]={t:"long",v:O[2].Q()}}this.close();var $=new aX(A.E.Lm,!0);
$.data={wV:"colorRange",g0:b};this.l($)};hk.prototype.ZM=function(w,M){this.sT=w;this.aef(0,0);this.ar0()};
hk.prototype.Yk=function(){var w=this.sT,M=this.fv.Q(),O=this.z1,b=this.cu,D=this.Uu,o=D[0].Q()/200,Z=!1;
if(M>0){O=D[3].Q();b=D[4].Q();if(O>=b)O=b-1;Z=!0;o=D[2].Q()/100}var $=y.wk.oV(w,O,b,o,Z),k=$.rect,E=$.channel,t=this.U,c=t.getContext("2d"),l=Math.floor(230*R.V()),q=Math.floor(l*(k.n/k.e));
t.width=l;t.height=q;R.g7(t,l,q);var d=x.$(E.length*4);x.TZ(d,4294967295);for(var U=0;U<3;U++)x.Jm(E,d,U);
var V=y.u.UA([d,k],new f$(l/k.e,0,0,q/k.n,0,0)),L=V.rect,e=new ImageData(new Uint8ClampedArray(V.buffer.buffer),L.e,L.n);
c.putImageData(e,0,0)};function ix(){bZ.call(this,[12,76,1],"createshape");this.ha=null;var w=R.S("div","form");
w.setAttribute("style","width:20em");this.body.appendChild(w);this.Kq=new gL([12,41],0,0,null,0,!1,!0);
w.appendChild(this.Kq.m);R.Ca(w);this.p9=new gL([12,42],0,0,null,0,!1,!0);w.appendChild(this.p9.m);R.Ca(w);
this.D2=new ji([19,5,3]);w.appendChild(this.D2.m);this.Kq.b(100);this.p9.b(100);this.Rl=R.M2(this,w)}ix.prototype=new bZ;
ix.prototype.Bp=function(w){this.ha.av9(this.ha.a1k,this.Kq.Q(),this.p9.Q(),this.D2.Q());this.close()};
ix.prototype.f=function(){if(this.ha)this.e6=fr.get([5,3])+": "+fr.get(this.ha.a4Z);bZ.prototype.f.call(this);
this.Rl.f();this.Kq.f();this.p9.f();this.D2.f()};ix.prototype.ZM=function(w,M){this.ha=M;this.f();this.Kq.Fb()};
function i9(){bZ.call(this,[11,1],"colorpicker");this.ai=null;this.aj=null;this.uE=null;this.cO=!1;this.KX=!1;
var w=R.S("div","flexrow"),o,Z;this.body.appendChild(w);this.QR=new fD(256,!0);this.QR.h(A.E.r,this.$V,this);
w.appendChild(this.QR.m);var M=R.S("div","form");M.setAttribute("style","width:14.5em; margin-left:1em;");
w.appendChild(M);this.adL=R.S("div","full");M.appendChild(this.adL);this.aww=R.S("div","full");M.appendChild(this.aww);
var O=R.S("div","flexrow");M.appendChild(O);var b=R.S("div"),D=R.S("div");O.appendChild(b);O.appendChild(D);
o=["R","G","B"];Z=b;this.dW=[];for(var U=0;U<3;U++){var $=new gL(o[U],0,255,null,0,!1,!0);this.dW.push($);
$.h(A.E.r,this.aoG,this);Z.appendChild($.m)}o=["H","S","B"];Z=D;this.al=[];for(var U=0;U<3;U++){var k=0,E=360,t="\xB0";
if(U!=0){E=100;t="%"}var $=new gL(o[U],k,E,t,0,!1,!0);this.al.push($);$.h(A.E.r,this.aat,this);Z.appendChild($.m)}this.p9=new d8("Hex",null,6);
this.p9.h(A.E.r,this.$T,this);M.appendChild(this.p9.m);this.Em=R.S("input","fitem");this.Em.setAttribute("type","color");
this.Em.setAttribute("style","width:50px");this.Em.addEventListener("change",this.$T.bind(this),!1);
M.appendChild(this.Em);this.BS=new hF(9);this.BS.h(A.E.r,this.$T,this);M.appendChild(this.BS.m);this.Rl=R.M2(this,M);
this.h("closebtn",this.s1,this);this.H3=!1}i9.prototype=new bZ;i9.prototype.CY=function(){return!0};
i9.prototype.xR=function(w,M){return new at(Math.max(0,Math.min(150,(w-484)/2)),Math.max(0,Math.min(150,(M-316)/2)))};
i9.prototype.nQ=function(w,M){this.QR.nQ(Math.min(256,w-226),M)};i9.prototype.f=function(w,M){bZ.prototype.f.call(this);
for(var U=0;U<3;U++){this.dW[U].f();this.al[U].f()}this.Rl.f()};i9.prototype.$V=function(w){this.aj=this.QR.Q();
this.update()};i9.prototype.kf=function(w,M,O,b,D){this.H3=!0;this.aaP(w,D)};i9.prototype.Ha=function(w,M,O,b,D){if(!this.H3)return;
this.aaP(w,D)};i9.prototype.oH=function(w,M,O,b,D){this.H3=!1};i9.prototype.aaP=function(w,M){var O=y.X0.TT(w,M,1),b=O&255,D=O>>8&255,o=O>>16&255;
this.aj={o:o/255,w:D/255,L:b/255};this.update()};i9.prototype.aoG=function(w){var M=this.dW,O=this.hW(parseInt(M[0].Q())),b=this.hW(parseInt(M[1].Q())),D=this.hW(parseInt(M[2].Q()));
this.aj={o:O/255,w:b/255,L:D/255};this.update()};i9.prototype.aat=function(w){var M=this.al,O=this.oK(parseInt(M[0].Q())/360),b=this.oK(parseInt(M[1].Q())/100),D=this.oK(parseInt(M[2].Q())/100);
this.aj=x.Ja(O,b,D);this.update()};i9.prototype.$T=function(w){var M;if(w.currentTarget==this.BS)M=this.BS.Q();
else{M=w.currentTarget==this.p9?this.p9.Q():this.Em.value;if(M.charAt(0)=="#")M=M.slice(1);if(M.length==3)M=M[0]+M[0]+M[1]+M[1]+M[2]+M[2];
M=x.SB(M)}this.aj={o:(M>>16&255)/255,w:(M>>8&255)/255,L:(M&255)/255};this.update()};i9.prototype.tI=function(w){var M=w.o,O=w.w,b=w.L;
return Math.round(M*255)<<16|Math.round(O*255)<<8|Math.round(b*255)};i9.prototype.Bp=function(w){this.aua();
var M=this.tI(this.aj);this.uE(M);this.close();this.KX=!1;this.aj=null};i9.prototype.s1=function(w){this.aua();
if(this.cO)this.uE(this.tI(this.ai));this.KX=!1;this.aj=null};i9.prototype.aua=function(w){var M=new aX(A.E.Z,!0);
M.data={d:A.t.abw};this.l(M)};i9.prototype.o9=function(w,M){var O=eK.XT(w,M);if(O!=null)this.BS.b(O);
if(M!=eM.Ih)return;if(this.aj!=null){this.aj={o:(O>>16&255)/255,w:(O>>8&255)/255,L:(O>>0&255)/255};this.update()}};
i9.prototype.ZM=function(w,M){var O=M.RF,b={o:(O>>16&255)/255,w:(O>>8&255)/255,L:(O>>0&255)/255};if(this.aj==null){var D=new aX(A.E.Z,!0);
D.data={d:A.t.s5,ue:"crosshair",push:!0};this.l(D);this.H3=!1;this.uE=M.at;this.cO=!1;this.KX=M.xt;this.ai=JSON.parse(JSON.stringify(b));
this.aww.setAttribute("style","height:3em;background-color:#"+x.zZ(O)+";")}this.aj=b;this.update()};
i9.prototype.update=function(){var w=this.aj,M=this.tI(w),O=this.dW;O[0].b(Math.round(w.o*255));O[1].b(Math.round(w.w*255));
O[2].b(Math.round(w.L*255));this.p9.b(x.zZ(M));this.Em.value="#"+x.zZ(M);this.adL.setAttribute("style","height:3em;background-color:#"+x.zZ(M)+";");
var b=x.GC(w.o,w.w,w.L);O=this.al;O[0].b(Math.round(b.e3*360));O[1].b(Math.round(b.h7*100));O[2].b(Math.round(b.X$*100));
this.QR.b(w);if(this.KX){this.uE(this.tI(this.aj));this.cO=!0}};i9.prototype.hW=function(w){return Math.max(0,Math.min(255,w))};
i9.prototype.oK=function(w){return Math.max(0,Math.min(1,w))};function ie(){bZ.call(this,[11,2],"contoureditor");
this.aoj=null;this.nw=null;this.response=null;this.fU=R.S("div","cell");this.body.appendChild(this.fU);
this.LO=R.S("div","cell padded");this.body.appendChild(this.LO);var w=R.S("div","bordered padded vmargin");
this.fU.appendChild(w);this.GQ=new fW(null,null,!0);this.GQ.h(A.E.r,this.Hi,this);w.appendChild(this.GQ.m);
this.Rl=R.M2(this,this.LO);this.h("closebtn",this.qq,this)}ie.prototype=new bZ;ie.prototype.Bp=function(){this.close()};
ie.prototype.f=function(){bZ.prototype.f.call(this);this.Rl.f();this.GQ.f()};ie.prototype.Hi=function(w){this.nw.Crv.v=this.GQ.Q();
this.response(this.nw)};ie.prototype.qq=function(w){this.response(this.aoj)};ie.prototype.ZM=function(w,M){this.aoj=JSON.parse(JSON.stringify(M.iu));
this.nw=M.iu;this.response=M.response;this.GQ.b(this.nw.Crv.v)};function cj(){bZ.call(this,[11,3],"csize");
this.WO=0;this.QO=R.S("div","form");this.QO.setAttribute("style","width:22em; margin-bottom:1em;");this.body.appendChild(this.QO);
this.Wv=new kp(!0,!0,!0,!0,!0);this.Wv.am8(!1);this.QO.appendChild(this.Wv.m);this.gV=new il("Align with",[[8,7],[12,6]]);
this.gV.h(A.E.r,this.aiL,this);this.xo=new kk([12,23,2],41);this.QO.appendChild(this.xo.m);this.xo.b(4);
this.Zm=new is(!1);this.Zm.an$(new at(0,0));this.Rl=R.M2(this,this.body)}cj.prototype=new bZ;cj.prototype.bT=function(w,M){return w!=null};
cj.prototype.Xc=function(){return!0};cj.prototype.FX=function(w){return[i_.Wh,i_.HJ,i_.AB,i_.mC].indexOf(w)!=-1};
cj.prototype.$m=function(w,M,O,b){this.xo.aa0(b.Fn())};cj.prototype.aiL=function(){var w=[this.xo.m,this.Zm.m];
this.QO.removeChild(w[this.WO]);this.WO=this.gV.Q();this.QO.appendChild(w[this.WO])};cj.prototype.f=function(){bZ.prototype.f.call(this);
this.Wv.f();this.gV.f();this.xo.f();this.Zm.f();this.Rl.f()};cj.prototype.Bp=function(w){var M=this.Wv.Q(),O=M.x,b=M.y,D=new aX(A.E.Lm,!0);
D.data=y.vz.a0p(O,b,this.xo.Q());this.close();this.l(D)};cj.prototype.ZM=function(w,M){this.Wv.b(new at(w.e,w.n),w.Z1);
this.Wv.Fb()};function cm(){bZ.call(this,[11,4],"duplinto");this.OH=null;this.jG=null;this.Fs=null;var w=R.S("div","form");
w.setAttribute("style","max-width:26em");this.body.appendChild(w);this.Dg=new ao([12,43],["abc","def"]);
this.Dg.h(A.E.r,this._D,this);w.appendChild(this.Dg.m);R.Ca(w);this.Cu=new ao([1,16,0],["abc","def"]);
this.Cu.h(A.E.r,this._D,this);w.appendChild(this.Cu.m);R.Ca(w);this.He=new d8([12,48],null,14);w.appendChild(this.He.m);
this.Rl=R.M2(this,w)}cm.prototype=new bZ;cm.prototype.Xc=function(){return!0};cm.prototype.f=function(){bZ.prototype.f.call(this);
this.Rl.f();this.Dg.f();this.He.f()};cm.prototype._D=function(w){if(w&&w.target==this.Cu)return;var M=this.Dg.Q(),O=this.jG[M],b=this.OH,D=O!=null&&O.add.artd!=null;
for(var U=0;U<b.g.length;U++)if(b.B[b.g[U]].add.artb)D=!1;this.He.Sc(M==this.jG.length);this.Cu.Sc(D);
if(D){var o=O.root.children,Z=[],$=this.Fs=[];for(var U=0;U<o.length;U++){var k=o[U].q;if(k.add.artb)Z.push(k.getName());
$.push(o[U].index)}this.Cu.N8(Z);this.Cu.b(0)}else this.Fs=null};cm.prototype.ZM=function(w,M,O){this.OH=w;
this.jG=O;this.He.b(w.g.length==0?"Layer":w.B[w.g[0]].getName());var b=[];for(var U=0;U<O.length;U++){var D=O[U].name;
b.push(D.length<30?D:D.slice(0,27)+"...")}b.push([11,7]);this.Dg.N8(b);this.Dg.b(O.indexOf(w));this._D(null)};
cm.prototype.Bp=function(w){var M=this.Dg.Q();if(M==this.jG.length){var O=new fO(this.He.Q()+".psd"),b=this.OH.e,D=this.OH.n,o=this.OH.Ft();
if(o!=-1){var Z=this.OH.B[o].pU();b=Z.e;D=Z.n}O.e=b;O.n=D;O.buffer=x.$(O.e*O.n*4);var $=O.uV();$.EJ("Background");
O.i2([$]);var k=new aX(A.E.Z,!0);k.Hb=!0;k.data={d:A.t.$s,_t:O};this.l(k)}var E=this.OH.Dl(null,this.OH!=this.jG[M]),k=new aX(A.E.s,!0);
k.data={d:Q.DQ,B:E,MH:this.OH,Ab:this.jG[M]};if(this.Fs)k.data.Bb=this.Fs[this.Cu.Q()];k.k=y.YH;k.Hb=!0;
this.l(k);this.close()};function hx(){bZ.call(this,[1,9],"eassets");this.P4=null;this.g3=null;var w=R.S("div","form");
w.setAttribute("style","width:32em");this.body.appendChild(w);this.bs=R.S("span");w.appendChild(this.bs);
R.Ca(w);this.e_=[new ji("Only layers / folders, whose name starts with \"-e-\""),new ji("Remove parts outside the canvas"),new ji("Trim transparent parts")];
for(var U=0;U<3;U++){var M=this.e_[U];M.b(!0);M.h(A.E.r,this.rU,this);w.appendChild(M.m);R.Ca(w)}this.XQ=new cE([12,14,0],["1x","2x","3x","4x"]);
this.XQ.b([!0,!1,!1,!1]);w.appendChild(this.XQ.m);R.Y1(w);this._8=["PNG","JPG","SVG","TIFF","TGA"];this.L_=new ao([12,50],this._8);
this.L_.h(A.E.r,this.abh,this);w.appendChild(this.L_.m);this.qa=new b0;w.appendChild(this.qa.m);this.Rl=new i8([1,9],!0,null,!0);
this.Rl.h("click",this.Bp,this);w.appendChild(this.Rl.m);this.h("closebtn",this.K7,this)}hx.prototype=new bZ;
hx.prototype.abh=function(w){this.qa.ao4(this._8[this.L_.Q()],!1,!1,!1,this.g3.x9()!=null)};hx.prototype.K7=function(w){this.g3=null};
hx.prototype.f=function(){bZ.prototype.f.call(this);this.L_.f();this.XQ.f();this.Rl.f();this.qa.f()};
hx.prototype.ZM=function(w,M,O){this.g3=w;this.rU()};hx.prototype.rU=function(w){var M=this.aoC(),O="- - - "+M.length+" exportable layers";
this.bs.textContent=O;this.abh(null)};hx.prototype.aoC=function(){var w=this.e_[0].Q(),M=[],O=this.g3;
for(var U=0;U<O.B.length;U++){var b=O.B[U],D=b.getName();if(!w&&!b._N()&&!b.rect.S9()||D.startsWith("-e"))M.push(U)}return M};
hx.prototype.o9=function(w,M){this.P4=w};hx.prototype.Bp=function(w){var M=this.g3,O=[this._8[this.L_.Q()]],b=[this.qa.Q()],D=this.XQ.Q(),o={},Z={},$=this.aoC();
if($.length==0){alert("No layers to export.");return}var k=[this.e_[1].Q(),this.e_[2].Q()];for(var U=0;
U<$.length;U++){var E=$[U],t=M.B[E],c=t.getName();if(Z[c]!=null){Z[c]++;c+=" "+Z[c]}else Z[c]=1;var l=t.Vd();
t.ah(!0);for(var q=0;q<D.length;q++){if(!D[q])continue;var V=q+1,L=y.t7.anL(M,O,V,this.P4,E,b,k);for(var e=0;
e<O.length;e++){var H=O[e],j=c.slice(c.startsWith("-e-")?3:0)+(V==1?"":"@"+V+"x")+"."+H.toLowerCase();
if(L[e])o[j]=new Uint8Array(L[e])}}t.ah(l)}var g=UZIP.encode(o),K=new aX(A.E.Z,!0);K.data={d:A.t.PD,data:g,name:"assets.zip"};
this.l(K)};function bu(){bZ.call(this,"Export Color Lookup Tables","exlut");this.P4=null;this.g3=null;
var w=R.S("div","form");w.setAttribute("style","width:20em");this.body.appendChild(w);this.e_=[new gL("Grid Points",1,256),new il([12,50],[".CUBE"])];
var M=[16,0];for(var U=0;U<this.e_.length;U++){var O=this.e_[U];O.b(M[U]);O.parent=this;O.h(A.E.r,this.rU,this);
w.appendChild(O.m);R.Ca(w)}this.Rl=R.M2(this,w);this.h("closebtn",this.K7,this)}bu.prototype=new bZ;
bu.prototype.bT=function(w,M){if(Math.min(w.e,w.n)<16){alert("The document must be at least 16 x 16 pixels.",3200);
return!1}if(w.B.length<2){alert("There must be a background layer and some adjustment layers.",3200);
return!1}return!0};bu.prototype.K7=function(w){this.g3=null};bu.prototype.o9=function(w,M){this.P4=w};
bu.prototype.ZM=function(w,M,O){this.g3=w};bu.prototype.Bp=function(){var w=this.g3,M=this.e_[0].Q(),O=[],b=new cn(0,0,w.e,w.n),D=x.$(M*M*4),o=D.slice(0),Z=new cn(w.e-M>>>1,w.n-M>>>1,M,M),$=w.B[0],k=$.buffer,E=$.rect;
$.rect=Z;$.buffer=D;for(var t=0;t<M;t++){this.avA(M,t,D);$.K(Z);w.K(Z);var c=w.Hp();x.xu(c,b,o,Z);for(var l=0;
l<M;l++)for(var q=0;q<M;q++){var d=l*M+q<<2;O.push(o[d]/255,o[d+1]/255,o[d+2]/255)}}var V=iA.a3O(O,M,w.name);
kl.save(V,w.name.split(".")[0]+".CUBE");$.buffer=k;$.rect=E;$.K();w.K()};bu.prototype.avA=function(w,M,O){var b=255/(w-1),D=Math.round(M*b);
for(var o=0;o<w;o++)for(var Z=0;Z<w;Z++){var $=o*w+Z<<2;O[$]=Math.round(Z*b);O[$+1]=Math.round(o*b);
O[$+2]=D;O[$+3]=255}};bu.prototype.f=function(){bZ.prototype.f.call(this);for(var U=0;U<this.e_.length;
U++)this.e_[U].f();this.Rl.f()};function dW(){bZ.call(this,[1,14],"finfo");this.Tm=null;this.Vf=null;
this.Qd=null;this.QO=R.S("div","form scrollable label12");this.QO.setAttribute("style","width:35em;  height:38em;  margin-bottom:8px");
this.body.appendChild(this.QO);var w=R.S("div","form");this.body.appendChild(w);this.MO=new ao(null,["Hello"]);
w.appendChild(this.MO.m);this.aa1=new i8("Add Parameter",!1,null,!0);w.appendChild(this.aa1.m);this.aa1.h("click",this.mK,this);
this.Y$=new i8("=== S A V E ===",!1,null,!0);w.appendChild(this.Y$.m);this.Y$.h("click",this.T8,this);
this.axd=""}dW.prototype=new bZ;dW.prototype.xR=function(w,M){return w<450||M<450?new at(0,0):new at(150,100)};
dW.prototype.mK=function(w){if(this.Qd.length==0)return;var M=this.Qd[this.MO.Q()],O=this.zK();O[M]=e8.fD[M][0];
this.je(O);this.Vf[M].m.scrollIntoView();this.Vf[M].Fb()};dW.prototype.R0=function(w){var M=this.zK();
delete M[w.currentTarget.a5E];this.je(M)};dW.prototype.T8=function(w){var M=this.zK(),O=this.Tm,b=!0;
for(var D in O)if(JSON.stringify(O[D])!=JSON.stringify(M[D]))b=!1;for(var D in M)if(JSON.stringify(O[D])!=JSON.stringify(M[D]))b=!1;
if(b)return;var o=new aX(A.E.s,!0);o.k=y.YH;o.data={d:Q.aO,mR:M};this.l(o);this.Tm=M;this.je(M)};dW.a8w=function(w){function M(D){var o=D.toLowerCase();
return D==o}var O=w.split(":").pop();for(var b=1;b<O.length-1;b++){if(O[b]==O[b].toUpperCase()&&(M(O[b+1])||M(O[b-1]))){O=O.slice(0,b)+" "+O.slice(b);
b++}}return O};dW.prototype.ZM=function(w,M){this.Tm=w.At;this.je(w.At)};dW.prototype.je=function(w){var M=this.QO,D=0;
R.Mh(M);var O=this.Vf={},b=["tiff","exif","exif:GPS"],o=this.Qd=[],Z=[];for(var $ in e8.fD){var k=dW.a8w($),E=0,t=15,c=null;
if(w[$]==null){if(e8.fD[$].length!=1||$=="photoshop:Credit"||$=="photoshop:Source"){o.push($);Z.push(k)}continue}for(var U=0;
U<b.length;U++)if($.startsWith(b[U]))E=U;if(E!=D){R.Y1(M);D=E}if($=="tiff:ImageDescription"||$=="dc:Keywords"){t=18.5;
c=3}var l=new d8(k,null,t,c);O[$]=l;var q=w[$];if(q instanceof Array)q=q[1]==0?"---":q[0]+"/"+q[1];var d=new i8("\u2716",null,fr.get([5,4]));
M.appendChild(d.m);d.h("click",this.R0,this);d.a5E=$;l.b(q);M.appendChild(l.m);R.Ca(M);if($=="exif:GPSLongitude"&&w["exif:GPSLatitude"]){this.axd=dW.a8z(w["exif:GPSLatitude"])+","+dW.a8z(w["exif:GPSLongitude"]);
var V=new i8("Show on map",!1,null,!0);M.appendChild(V.m);R.Ca(M);V.h("click",this.aqe,this)}}this.MO.N8(Z);
this.MO.b(0)};dW.prototype.zK=function(){var w=this.Vf,M=e8.fD,O={};for(var b in M){var D=M[b][0],o=typeof D;
if(D==null||w[b]==null)continue;var Z=w[b].Q(),$="The value of \""+dW.a8w(b)+"\" must ";if(o=="number"){Z=parseFloat(Z);
if(isNaN(Z)){alert($+"be a number.");Z=D}}else if(D instanceof Array&&D.length==2){if(Z.indexOf("/")==-1){alert($+"be a fraction.");
Z=D.slice(0)}else{Z=Z.split("/").map(parseFloat);if(isNaN(Z[0])||isNaN(Z[1])){Z=D.slice(0)}}}O[b]=Z}return O};
dW.a8z=function(w){var M=w.length,O=w.slice(0,M-1).split(",").map(parseFloat),b=w.slice(M-1),D=O[0]+O[1]/60+O[2]/3600;
if(b!="N"&&b!="E")D=-D;return D};dW.prototype.aqe=function(w){window.open("https://maps.google.com?q="+this.axd,"Map")};
function ee(){bZ.call(this,[11,5],"gradienteditor");this.ai=null;this.aj=null;this.DR=null;this.uE=null;
this.cO=!1;this.KX=!1;this.VM=null;this.n8=null;this.ng=-1;this.Pj=-1;this.FT=0;this.SM=this.M9.bind(this);
this.dM=this.Ye.bind(this);this.U=R.S("canvas");this.Mn=this.U.getContext("2d");this.U.setAttribute("style","display:block");
this.ww=null;R.fO(this.U);R.c3(this.U,this.JV.bind(this));this.G$=R.S("div","form");this.Ne=R.S("div");
this.rI=R.S("div","form");this.XH=R.S("div");this.QA=new ao([12,44],[[15,10,0],[24,6]]);this.QA.h(A.E.r,this.yc,this);
this.body.appendChild(this.QA.m);R.Y1(this.body);var w=this.G$;this.za=new gL([19,3,3],0,100,"%");this.za.h(A.E.r,this.yc,this);
this.za.parent=this;w.appendChild(this.za.m);R.Ca(w);this.ye=new as([12,0]);w.appendChild(this.ye.m);
this.io=R.S("div","bordered padded noalign");w.appendChild(this.io);this.uX=new gL([12,0],0,100,"%");
this.uX.parent=this;this.uX.h(A.E.r,this.yc,this);this.io.appendChild(this.uX.m);this.Zd=new gL([12,40],0,100,"%");
this.Zd.parent=this;this.Zd.h(A.E.r,this.yc,this);this.io.appendChild(this.Zd.m);this.Q$=new i8([5,4],!1,null,!0);
this.Q$.h("click",this.a2R,this);this.io.appendChild(this.Q$.m);w.appendChild(this.Ne);this.amr=new as([13,0]);
w.appendChild(this.amr.m);this.RX=R.S("div","bordered padded noalign");w.appendChild(this.RX);this.pr=new ao([12,44],[[12,45],[12,46],[12,47]]);
this.pr.h(A.E.r,this.yc,this);this.RX.appendChild(this.pr.m);this.Js=new bQ(!0);this.Js.parent=this;
this.Js.h(A.E.r,this.yc,this);this.RX.appendChild(this.Js.m);this.j5=new gL([12,40],0,100,"%");this.j5.parent=this;
this.j5.h(A.E.r,this.yc,this);this.RX.appendChild(this.j5.m);this.rB=new i8([5,4],!1,null,!0);this.rB.h("click",this.arC,this);
this.RX.appendChild(this.rB.m);var w=this.rI;this.iX=new gL("Roughness",0,100,"%");this.iX.h(A.E.r,this.yc,this);
this.iX.parent=this;w.appendChild(this.iX.m);w.appendChild(this.XH);this.mD=new i8([25,1,2],!1,null,!0);
this.mD.h("click",this.yc,this);w.appendChild(this.mD.m);this.Rl=R.M2(this);this.h("closebtn",this.s1,this)}ee.prototype=new bZ;
ee.prototype.s1=function(w){if(this.cO)this.uE(this.ai)};ee.prototype.f=function(){bZ.prototype.f.call(this);
this.Rl.f();this.za.f();this.ye.f();this.amr.f();this.Q$.f();this.rB.f();this.uX.f();this.Zd.f();this.pr.f();
this.j5.f();this.mD.f()};ee.prototype.o9=function(w,M){this.DR=w};ee.prototype.ZM=function(w,M){this.aj=JSON.parse(JSON.stringify(M.M));
this.ai=JSON.parse(JSON.stringify(M.M));this.VM=this.n8=null;this.uE=M.at;this.cO=!1;this.KX=M.xt;this.My();
this.a$()};ee.prototype.Bp=function(w){var M=this.aj;this.uE(M);this.close()};ee.prototype.FX=function(w){return w==i_.wu||w==i_.iF};
ee.prototype.$m=function(w,M,O,b){if(b.i(i_.wu)||b.i(i_.iF)){if(this.n8)this.a2R();if(this.VM)this.arC()}};
ee.prototype.a2R=function(w){var M=this.aj.Trns.v;if(this.n8==null||M.length==1)return;M.splice(M.indexOf(this.n8),1);
this.n8=null;this.My();this.a$()};ee.prototype.arC=function(w){var M=this.aj.Clrs.v;if(this.VM==null||M.length==1)return;
M.splice(M.indexOf(this.VM),1);this.VM=null;this.My();this.a$()};ee.prototype.My=function(){var w=this.U,M=this.Mn,O=R.V();
w.width=Math.floor(410*O);w.height=Math.floor(70*O);R.g7(w,w.width,w.height);w.style.marginTop="8px";
this.ww=new cn(0,0,Math.floor(380*O),Math.floor(32*O));this.ww.x=Math.floor((w.width-this.ww.e)/2);this.ww.y=Math.floor((w.height-this.ww.n)/2);
var b=this.ww,D=b.e,o=b.n,Z=b.x,$=b.y,k=new cn(0,0,D,o),E=M.getImageData(0,0,D,o),t=new Uint8Array(E.data.buffer);
x.zp(t,D,o,8);var c=x.$(D*o*4);x.M.LJ(this.aj,c,k,[1/D,0,0,1/o],D/2,o/2,!1,0,this.DR.Sw,this.DR.fj);
x.a.DP("norm",c,b,t,b,b,1);M.clearRect(0,0,w.width,w.height);M.putImageData(E,Z,$);var l=this.aj;if(l.Clrs){var q=l.Trns.v,d=l.Clrs.v,V=x.M.lO(d,this.DR.Sw,this.DR.fj),L=Math.round(6*R.V()),e=Math.round(14*R.V()),H=this.n8?this.n8.v:null,j=this.VM?this.VM.v:null;
for(var U=0;U<q.length;U++){var g=q[U].v,K=Math.round(255-255*g.Opct.v.val/100);if((g==H||q[U-1]&&q[U-1].v==H||U==this.Pj)&&U!=0){M.fillStyle="#000000";
M.fillRect(Z-3+D*(q[U-1].v.Lctn.v+(g.Lctn.v-q[U-1].v.Lctn.v)*g.Mdpn.v/100)/4096,$-6-2,6,6)}if(g==H){M.fillStyle="#ffffff";
M.fillRect(Z-L+D*(g.Lctn.v/4096)-2,$-2-e-2,2*L+4,e+4)}M.fillStyle="rgb("+K+","+K+","+K+")";M.fillRect(Z-L+D*(g.Lctn.v/4096),$-2-e,2*L,e)}for(var U=0;
U<d.length;U++){var a=d[U].v,T=V[U];if((a==j||d[U-1]&&d[U-1].v==j||U==this.ng)&&U!=0){M.fillStyle="#000000";
M.fillRect(Z-3+D*(d[U-1].v.Lctn.v+(a.Lctn.v-d[U-1].v.Lctn.v)*a.Mdpn.v/100)/4096,$+o+2,6,6)}if(a==j){M.fillStyle="#ffffff";
M.fillRect(Z-L+D*(a.Lctn.v/4096)-2,$+o+2-2,2*L+4,e+4)}M.fillStyle="rgb("+Math.round(T.o)+", "+Math.round(T.w)+","+Math.round(T.L)+")";
M.fillRect(Z-L+D*(a.Lctn.v/4096),$+o+2,2*L,e)}}if(this.KX){this.uE(this.aj);this.cO=!0}};ee.prototype.a$=function(){var w=this.aj,M=w.Clrs?0:1;
this.QA.b(M);if(R.FP(this.G$))this.body.removeChild(this.G$);if(R.FP(this.rI))this.body.removeChild(this.rI);
(M==0?this.Ne:this.XH).appendChild(this.U);if(M==0){this.body.appendChild(this.G$);this.za.b(Math.round(100*w.Intr.v/4096));
var O=w.Trns.v,b=w.Clrs.v,D=this.n8!=null,o=this.Pj!=-1;this.uX.Sc(D);this.Zd.Sc(D||o);this.Q$.Sc(D);
if(D){this.io.setAttribute("style","");var Z=this.n8.v;this.Zd.b(Math.round(100*Z.Lctn.v/4096));this.uX.b(Z.Opct.v.val)}if(o)this.Zd.b(O[this.Pj].v.Mdpn.v);
var D=this.VM!=null,o=this.ng!=-1;this.pr.Sc(D);this.Js.Sc(D);this.j5.Sc(D||o);this.rB.Sc(D);if(D){this.RX.setAttribute("style","");
var $=this.VM.v;this.j5.b(Math.round(100*$.Lctn.v/4096));var k=$.Type.v.Clry;this.pr.b(["FrgC","BckC","UsrS"].indexOf(k));
if(k=="FrgC")this.Js.Ji(this.DR.Sw);if(k=="BckC")this.Js.Ji(this.DR.fj);if(k=="UsrS")this.Js.b($.Clr.v)}if(o)this.j5.b(b[this.ng].v.Mdpn.v)}else{this.body.appendChild(this.rI);
this.iX.b(Math.round(100*w.Smth.v/4096))}this.body.appendChild(this.Rl.m)};ee.prototype.yc=function(w){var M=this.aj,O=M.Clrs?0:1;
if(w.target==this.QA){var b=O==0?JSON.parse(aN.eW.auP).v:ek.pp("grdm").Grad.v;this.aj=b;this.a$();this.My();
return}if(O==0){M.Intr.v=Math.round(4096*this.za.Q()/100);var D=M.Trns.v,o=M.Clrs.v;if(this.n8!=null){var Z=this.n8.v;
Z.Lctn.v=Math.round(4096*(this.Zd.Q()/100));Z.Opct.v.val=this.uX.Q()}if(this.VM!=null){var $=this.VM.v;
$.Lctn.v=Math.round(4096*(this.j5.Q()/100));if(w.target==this.Js)this.pr.b(2);var k=this.pr.Q();$.Type.v.Clry=["FrgC","BckC","UsrS"][k];
if(k==2)$.Clr={t:"Objc",v:this.Js.Q()};else if($.Clr)delete $.Clr}if(this.Pj!=-1)D[this.Pj].v.Mdpn.v=this.Zd.Q();
if(this.ng!=-1)o[this.ng].v.Mdpn.v=this.j5.Q()}else{M.Smth.v=Math.round(4096*this.iX.Q()/100);if(w.target==this.mD)M.RndS.v=Math.floor(Math.random()*4294967295)}this.My()};
ee.prototype.JV=function(w){var M=R.Pr(w,this.U),O=this.ww,b=(M.x*R.V()-O.x)/O.e,D=(M.y*R.V()-O.y)/O.n,o=this.aj.Trns.v,Z=this.aj.Clrs.v,$=null,k=null,E=-1,t=-1;
if(D<1)for(var U=0;U<o.length;U++){var c=o[U].v;if(Math.abs(c.Lctn.v/4096-b)<.02)$=o[U];if(U>0)if(Math.abs((o[U-1].v.Lctn.v+(c.Lctn.v-o[U-1].v.Lctn.v)*c.Mdpn.v/100)/4096-b)<.01)E=U}if(D>0)for(var U=0;
U<Z.length;U++){var l=Z[U].v;if(Math.abs(l.Lctn.v/4096-b)<.02)k=Z[U];if(U>0)if(Math.abs((Z[U-1].v.Lctn.v+(l.Lctn.v-Z[U-1].v.Lctn.v)*l.Mdpn.v/100)/4096-b)<.01)t=U}if(k==null&&$==null&&E==-1&&t==-1){if(D<0){var c={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
c.v.Lctn.v=Math.round(b*4096);o.push(c);o.sort(this.o0);$=c}if(D>1){var Z=this.aj.Clrs.v,q=x.M.lO(Z,this.DR.Sw,this.DR.fj),d=x.M.v3(this.aj,q,b),l={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:x.M.jk({o:d&255,w:d>>8&255,L:d>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
l.v.Lctn.v=Math.round(b*4096);Z.push(l);Z.sort(this.o0);k=l}}if(k!=null)t=-1;if($!=null)E=-1;if(k!=null||$!=null||E>-1||t>-1){this.n8=$;
this.VM=k;this.Pj=E;this.ng=t;this.a$();this.My();R.Gg(window,this.SM);R.UB(window,this.dM)}};ee.prototype.M9=function(w){var M=R.Pr(w,this.U),O=this.ww,b=(M.x*R.V()-O.x)/O.e,D=(M.y*R.V()-O.y)/O.n;
b=Math.max(0,Math.min(1,b));var o=this.aj.Trns.v,Z=this.aj.Clrs.v;if(this.n8!=null){var $=this.n8.v;
$.Lctn.v=Math.round(4096*b);var k=o.indexOf(this.n8);if(k!=-1&&D<-1&&o.length>1)o.splice(k,1);if(k==-1&&D>-1)o.push(this.n8);
o.sort(this.o0)}if(this.VM!=null){var E=this.VM.v;E.Lctn.v=Math.round(4096*b);var t=Z.indexOf(this.VM);
if(t!=-1&&D>2&&Z.length>1)Z.splice(t,1);if(t==-1&&D<2)Z.push(this.VM);Z.sort(this.o0)}if(this.Pj>-1){var $=o[this.Pj].v;
$.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(b*4096-o[this.Pj-1].v.Lctn.v)/($.Lctn.v-o[this.Pj-1].v.Lctn.v))))}if(this.ng>-1){var E=Z[this.ng].v;
E.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(b*4096-Z[this.ng-1].v.Lctn.v)/(E.Lctn.v-Z[this.ng-1].v.Lctn.v))))}if(this.n8!=null||this.VM!=null||this.Pj>-1||this.ng>-1){this.a$();
this.My()}};ee.prototype.Ye=function(w){R.wg(window,this.SM);R.oX(window,this.dM);if(Date.now()-this.FT<300){if(this.ng!=-1||this.Pj!=-1){var M=(this.ng!=-1?this.aj.Clrs.v[this.ng]:this.aj.Trns.v[this.Pj]).v;
M.Mdpn.v=50;this.a$();this.My()}else if(this.VM!=null)this.Js.Ky()}this.FT=Date.now()};ee.prototype.o0=function(w,M){return w.v.Lctn.v-M.v.Lctn.v};
function cs(){bZ.call(this,[11,10],"isize");this.QO=R.S("div","form");this.QO.setAttribute("style","width:20em");
this.body.appendChild(this.QO);this.Wv=new kp(!0,!0,null,null,!0);this.QO.appendChild(this.Wv.m);this.tz=new ji([12,25,3]);
this.tz.b(!0);this.QO.appendChild(this.tz.m);this.tz.h(A.E.r,this.ajG,this);this.Or=new ao([12,14,1],[[12,14,2],[12,14,3],[12,14,4]]);
this.Or.b(1);this.QO.appendChild(this.Or.m);this.Rl=R.M2(this,this.body)}cs.prototype=new bZ;cs.prototype.bT=function(w,M){return w!=null};
cs.prototype.Xc=function(){return!0};cs.prototype.ajG=function(w){var M=this.tz.Q(),O=this.Wv,b=this.Or;
if(M)b._C();else b.Sq();O.aq2(M)};cs.prototype.f=function(){bZ.prototype.f.call(this);this.tz.f();this.Rl.f();
this.Or.f();this.Wv.f()};cs.prototype.Bp=function(w){this.close();var M=this.Wv.Q(),O=M.x,b=M.y,D=this.Or.Q();
if(!this.tz.Q())D=null;var o=new aX(A.E.Lm,!0);o.data=y.vz.a0m(O,b,this.Wv.RL(),D);this.l(o)};cs.prototype.ZM=function(w,M){this.Wv.b(new at(w.e,w.n),w.Z1);
this.Wv.Fb()};function iP(){bZ.call(this,"Import RAW","importraw");var w=R.S("div","flexrow"),M=R.S("div");
M.setAttribute("style","margin-bottom: 1em");this.body.appendChild(w);this.body.appendChild(M);var O=R.S("div","form");
O.setAttribute("style","width:18em");w.appendChild(O);var b=R.S("div","form");b.setAttribute("style","width:15em");
w.appendChild(b);this.ha=null;this.aw=null;this.HY=null;this.IY=null;this.aoi=[];var D=[];for(var U=0;
U<iP.VH.length;U++)D.push(iP.VH[U]+" Bits");var o=this.z7=[new kp(!0,null,null,!0),new gL([12,72],1,8),new ji("Last one is Transparency"),new il([12,34],D),new il("Byte Order",["12-34","34-12"]),new ao("Guesses",[])];
for(var U=0;U<o.length;U++){var Z=o[U];Z.parent=this;Z.h(A.E.r,U==5?this.aj1:this._D,this);var $=U==0?O:U==5?M:b;
$.appendChild(Z.m)}this.U=R.S("canvas");this.Mn=this.U.getContext("2d");this.body.appendChild(this.U);
this.Rl=R.M2(this,this.body)}iP.prototype=new bZ;iP.prototype.f=function(){bZ.prototype.f.call(this);
var w=this.z7;this.Rl.f();for(var U=0;U<w.length;U++)w[U].f()};iP.prototype.Bp=function(w){this.close();
var M=this.z7[0].Q(),O=ce.B2(this.aw,[{data:this.HY,fJ:new cn(0,0,M.x,M.y)}]);if(this.IY)O.SN=this.IY;
var b=new aX(A.E.Z,!0);b.data={d:!0?A.t.$s:A.t.rh,_t:O};this.l(b)};iP.VH=[8,16];iP.prototype.ZM=function(w,M){this.ha=new Uint8Array(M.JX);
this.aw=M.P_;var O=this.ha.length,b=[1,3,4],D=0,o=0,Z=1,$=1,k=this.aoi=[];for(var E=0;E<3;E++){for(var t=0;
t<2;t++){var c=iP.VH[t],l=b[E],q=l*c,d=Math.round(O*8/q);if(d!=O*8/q)continue;for(var V=0;V<=4e3;V++)for(var L=0;
L<=4e3;L++)if(V*L==d){var e=0;if(V==L)e+=64;if(Math.round(V/100)==V/100&&Math.round(L/100)==L/100)e+=32;
if(Math.round(V/10)==V/10&&Math.round(L/10)==L/10)e+=16;if(Math.round(V/2)==V/2&&Math.round(L/2)==L/2)e+=8;
k.push([V,L,l,c,e])}}}var H=function(a,T){if(T[4]!=a[4])return T[4]-a[4];var C=Math.max(a[0],a[1])/Math.min(a[0],a[1]),F=Math.max(T[0],T[1])/Math.min(T[0],T[1]);
if(C!=F)return C-F;return T[0]-a[0]};k.sort(H);var j=this.z7,g=[];for(var U=0;U<k.length;U++){var K=k[U];
g.push(K[0]+" x "+K[1]+", "+K[2]+"ch, "+K[3]+"-bit")}j[5].N8(g);j[5].b(0);this.aj1(null)};iP.prototype.aj1=function(w){var M=this.z7,O=this.aoi[this.z7[5].Q()];
M[0].b(new at(O[0],O[1]),72);M[1].b(O[2]);M[3].b(iP.VH.indexOf(O[3]));this._D()};iP.prototype._D=function(w){var M=this.z7,O=M[0].Q(),b=O.x,D=O.y,o=iP.VH[M[3].Q()],Z=this.ha;
if(o==16&&M[4].Q()==1){Z=Z.slice(0);for(var U=0;U<Z.length;U+=2){var $=Z[U];Z[U]=Z[U+1];Z[U+1]=$}}var k=this.HY=this.sc(Z,b,D,M[1].Q(),o,M[2].Q()),E=this.U,t=this.Mn,c=[k,new cn(0,0,b,D)];
x.aS(c);for(var U=0;U<c.length;U+=2)if(c[U+1].n<300){k=c[U];b=c[U+1].e;D=c[U+1].n;break}E.width=b;E.height=D;
R.g7(E,b,D);var l=new ImageData(new Uint8ClampedArray(k.buffer),b,D);t.putImageData(l,0,0)};iP.prototype.sc=function(w,M,O,b,D,o){this.IY=null;
var Z=[],$=M*O;for(var k=0;k<b;k++){var E=x.$($);Z.push(E);if(D==8)for(var U=0;U<$;U++)E[U]=w[U*b+k];
else if(D==16)for(var U=0;U<$;U++)E[U]=Math.round((w[(U*b+k)*2]<<8|w[(U*b+k)*2+1])*(255/65535))}var t=x.$($*4);
new Uint32Array(t.buffer).fill(4278190080);if(o){x.Jm(Z.pop(),t,3);b--}if(b==0){}else if(b==1)x.CA(Z[0],t);
else{x.Jm(Z[0],t,0);x.Jm(Z[1],t,1);if(b>2){x.Jm(Z[2],t,2);if(b>3){this.IY=[];for(var U=3;U<b;U++){var c=new Q.MX;
c.name="Alpha "+(U-2);c.rect=new cn(0,0,M,O);c.channel=Z[U];this.IY.push(c)}}}}return t};function dY(w,M,O){eE.call(this);
this.m=R.S("div","");this.vs=w;this.MT=null;this.dD=M==null?!1:M;this.Wi=null;this.YO=O;this.qg=[];this._k=[];
this.sg=[];this.v0=[];this.vU=0;this.MT=this.af0(dY.v0[w]);this.X2();this.XB=null;this.arP;this.acX}dY.prototype=new eE;
dY.prototype.kf=function(w,M,O,b,D){this.XB=D;this.arP=JSON.parse(JSON.stringify(this.Wi));if(this.MT.lagl)this.acX=this.MT.lagl.Q()[0]};
dY.prototype.Ha=function(w,M,O,b,D){var o=this.XB,Z=this.vs,$=this.arP;if(o==null)return;var k=(D.x-o.x)/w.P.T,E=(D.y-o.y)/w.P.T;
if(Z=="GrFl"){var t=JSON.parse(JSON.stringify($.Ofst.v));t.Hrzn.v.val+=k*.5;t.Vrtc.v.val+=E*.5;this.MT.Ofst.b(t,!0)}if(Z=="patternFill"){var t=JSON.parse(JSON.stringify($.phase.v));
t.Hrzn.v+=k;t.Vrtc.v+=E;this.MT.phase.b(t,!0)}if(Z=="DrSh"||Z=="IrSh"||Z=="ChFX"){var c=$.Dstn.v.val,l=this.acX*Math.PI/180,q=-Math.cos(l)*c+k,d=Math.sin(l)*c+E;
this.MT.Dstn.b(Math.sqrt(q*q+d*d),!0);this.MT.lagl.b([Math.atan2(d,-q)*180/Math.PI],!0)}};dY.prototype.oH=function(w,M,O,b,D){this.XB=null};
dY.prototype.abz=function(){for(var U=0;U<this.v0.length;U++){R.Y4(this.v0[U],"selected");if(this.sg[U]instanceof ji)this.sg[U].b(!1)}};
dY.prototype.ap_=function(w){var M=this.a1K.bind(this);for(var U=0;U<this.sg.length;U++){var O=R.S("div","listitem");
this.v0.push(O);if(U>0)O.textContent="\u2003";O.appendChild(this.sg[U].m);if(aN.aiR.indexOf(this.vs)!=-1){var b=new i8("+");
b.L5();b.m.style.float="right";O.appendChild(b.m);var D=new i8("\u2B0D");D.L5();D.m.style.float="right";
D.m.style["margin-right"]="2px";O.appendChild(D.m)}O.addEventListener("click",M,!1);w.appendChild(O)}};
dY.yA=function(w,M){var O=M.getBoundingClientRect();return(w.clientY-O.top)/O.height};dY.prototype.a1K=function(w){var M=w.target.tagName.toLowerCase();
if(M=="input"){return}if(M=="button"){var O=new aX(A.E.s,!0),b=w.target.textContent=="+",D=b?0:dY.yA(w,w.target)<.5?-1:1;
if(b)O.data={d:"st_dupsingle",q:this.parent.data.q,QT:this.YO};else O.data={d:"st_movsingle",q:this.parent.data.q,QT:this.YO,ako:D};
O.k=y.GY;O.Hb=!0;this.l(O);O=new aX("redrawall",!0);O.data={ako:D};this.l(O);return}R.qq(w);this.TK();
this.vU=this.v0.indexOf(w.currentTarget);this.l(new aX("showme"))};dY.prototype.TK=function(){if(this.MT.enab&&this.MT.enab.Q()==!1)this.iO({N5:"enab",G:!0})};
dY.prototype.adl=function(){var w=this.v0[this.vU];if(w)R.rV(w,"selected");return this._k[this.vU]};
dY.prototype.af0=function(w){var M={};for(var U=0;U<w.length;U++){var O=w[U],b=null;if(O=="----")b={m:R.S("hr")};
if(O=="\n")b={m:R.S("br")};if(O=="blOptions")b=new as([14,10]);if(O=="brst")b=new cE([12,72],["R","G","B"]);
if(O=="knko")b=new ao("Knockout",[[13,1,0],"Shallow","Deep"]);if(O=="enab")b=new ji(aN.names[aN.order.indexOf(this.vs)]);
if(O=="lrMd"||O=="Md")b=new ao([12,19,0],gA.Is,!1,gA.Ch);if(O=="Opct")b=new cq([12,0],0,100,"%");if(O=="iOpa")b=new cq([12,26],0,100,"%");
if(O=="blIf")b=new cr;if(O=="ShdN")b=new cq([12,68],0,100,"%");if(O=="lagl"||O=="Angl")b=new jr([12,15],this.vs=="ebbl");
if(O=="uglg")b=new ji([12,27]);if(O=="Dstn")b=new cq([12,28],0,200,"px");if(O=="Ckmt")b=new cq([12,29],0,100,"%");
if(O=="blur")b=new cq([12,14,0],0,200,"px");if(O=="TrnS"||O=="MpgS")b=new fX([12,21]);if(O=="Nose")b=new cq([12,30],0,100,"%");
if(O=="layerConceals")b=new ji([12,31]);if(O=="AntA"||O=="antialiasGloss")b=new ji([12,25,1]);if(O=="GlwT")b=new ao([12,32],aN.VR.names);
if(O=="glwS")b=new ao([12,70],aN.VR.au2);if(O=="Inpr")b=new cq([12,12],1,100,"%");if(O=="bvlS")b=new ao([12,22],aN.XL.style);
if(O=="bvlT")b=new ao([12,32],aN.XL.a6E);if(O=="bvlD")b=new ao(null,aN.XL.dir);if(O=="srgR")b=new cq([12,34],0,1e3,"%");
if(O=="Sftn")b=new cq([12,35],0,20,"px");if(O=="Lald")b=M.lagl;if(O=="hglM"||O=="sdwM")b=new ao([12,36],gA.Is,!1,gA.Ch);
if(O=="hglC"||O=="sdwC")b=new bQ;if(O=="hglO"||O=="sdwO")b=new cq([12,0],0,100,"%");if(O=="Invr"||O=="InvT")b=new ji([4,11]);
if(O=="Sz")b=new cq([12,14,0],1,200,"px");if(O=="Styl")b=new ao([12,40],aN.stroke.names);if(O=="PntT")b=new ao([12,66],aN.stroke.awZ);
if(O=="Clr")b=new bQ(!0);if(O=="Grad"){b=new be(!0,[12,37],!0);b.b(JSON.parse(aN.eW.axP).v)}if(O=="Rvrs")b=new ji([12,23,0]);
if(O=="Dthr")b=new ji([12,23,3]);if(O=="Type")b=new ao([12,22],aN.M.names.slice(0,this.vs=="FrFX"?6:5));
if(O=="Ptrn")b=new g9([12,62]);if(O=="Scl")b=new cq([12,38],5,500,"%",0,!0);if(O=="Algn")b=new ji([12,39]);
if(O=="Ofst")b=new is(!0);if(O=="phase")b=new is(!1);if(O=="useShape")b=new ji([12,21]);if(O=="useTexture")b=new ji([12,67]);
if(O=="textureDepth")b=new cq([12,34],-300,300,"%");var D=O=="----"||O=="\n"?O+U:O;if(b!=null)M[D]=b}return M};
dY.prototype.afK=function(w){var M=this._k[this.vU];for(var U=0;U<w.length;U++){var O=this.MT[w[U]];
if(O&&M.contains(O.m))M.removeChild(O.m)}};dY.prototype.als=function(w){var M=this._k[this.vU];for(var U=0;
U<w.length;U++){var O=this.MT[w[U]];if(O&&!M.contains(O.m))M.appendChild(O.m)}};dY.prototype.o9=function(w,M){if(this.MT==null)return;
var O=M==eM.vI;if(this.MT.Grad){this.MT.Grad.sx(w.Sw,w.fj);if(O||M==eM.Ih||M==eM.pB)this.MT.Grad.jX(w.t0)}if(this.MT.Ptrn){if(O||M==eM.ab)this.MT.Ptrn.jX(w.SQ)}if(this.MT.TrnS){if(O||M==eM.dZ)this.MT.TrnS.jX(w.QK)}if(this.MT.MpgS){if(O||M==eM.dZ)this.MT.MpgS.jX(w.QK)}};
dY.prototype.f=function(){for(var U=0;U<this.qg.length;U++)this.qg[U].f();for(var w in this.MT)if(this.MT[w]instanceof eE)this.MT[w].f()};
dY.prototype.X2=function(){for(var w in this.MT){var M=this.MT[w];M.parent=this;if(M instanceof eE)M.h(A.E.r,this.a1I,this);
if(this._k.length==0||w=="useShape"||w=="useTexture"){var O=new as(M.a2z()),b=R.S("div","bordered padded");
if(this.dD==!1){b.appendChild(O.m);b.appendChild(R.S("hr",""))}this.qg.push(O);this._k.push(b);this.sg.push(M)}else this._k[this._k.length-1].appendChild(M.m)}};
dY.prototype.update=function(w,M){if(this.MT==null)return;this.Wi=JSON.parse(JSON.stringify(M));for(var O in M){if("Opct iOpa hglO sdwO Dstn Ckmt blur Nose Scl Sz Inpr srgR Sftn textureDepth ShdN".split(" ").indexOf(O)!=-1)this.MT[O].b(M[O].v.val);
if("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals useShape useTexture Ofst phase blIf".split(" ").indexOf(O)!=-1){this.MT[O].b(M[O].v,w)}if(["Md","hglM","sdwM"].indexOf(O)!=-1)this.MT[O].b(gA.vs.indexOf(M[O].v.BlnM));
if(O=="lrMd"){var b=(M._N?[[15,10,27]]:[]).concat(gA.Is),D=(M._N?[1]:[]).concat(gA.Ch);this.MT[O].N8(b,D);
this.MT[O].b(M[O].v)}if(O=="Angl")this.MT[O].b([M[O].v.val]);if(O=="lagl"){var o=M.uglg&&M.uglg.v?w.OO():M.lagl.v.val;
this.MT[O].b([o])}if(O=="Lald"){var o=M.uglg&&M.uglg.v?w.zd():M.Lald.v.val;this.MT[O].b([null,o])}if(O=="Type")this.MT[O].b(aN.M.types.indexOf(M.Type.v.GrdT));
if(O=="Styl")this.MT[O].b(aN.stroke.types.indexOf(M.Styl.v.FStl));if(O=="PntT"){var Z=aN.stroke.y8.indexOf(M.PntT.v.FrFl);
this.MT[O].b(Z);if(!this.dD){this.afK(aN.J1.concat(aN.JK.concat(aN.KO)));this.als([aN.J1,aN.JK,aN.KO][Z])}}if(O=="GlwT")this.MT[O].b(aN.VR.types.indexOf(M.GlwT.v.BETE));
if(O=="glwS")this.MT[O].b(aN.VR.ao$.indexOf(M.glwS.v.IGSr));if(O=="bvlS")this.MT[O].b(aN.XL.types.indexOf(M.bvlS.v.BESl));
if(O=="bvlT")this.MT[O].b(aN.XL.auv.indexOf(M.bvlT.v.bvlT));if(O=="bvlD")this.MT[O].b(["In","Out"].indexOf(M.bvlD.v.BESs))}};
dY.prototype.a1I=function(w){for(var M in this.MT){if(this.MT[M]!=w.target)continue;var O=null,b=!1;
if("Opct iOpa hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(M)!=-1)O={type:"#Prc",val:w.target.Q()};
if(["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(M)!=-1)O={type:"#Pxl",val:w.target.Q()};if(["Angl","lagl"].indexOf(M)!=-1)O={type:"#Ang",val:w.target.Q()[0]};
if("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf(M)!=-1)O=w.target.Q();
if(["Md","hglM","sdwM"].indexOf(M)!=-1)O={BlnM:gA.vs[w.target.Q()]};if(M=="uglg"){O=w.target.Q();b=!0}if(M=="PntT"){O={FrFl:aN.stroke.y8[w.target.Q()]};
b=!0}if(M=="Lald")O={type:"#Ang",val:w.target.Q()[1]};if(M=="Type")O={GrdT:aN.M.types[w.target.Q()]};
if(M=="Styl")O={FStl:aN.stroke.types[w.target.Q()]};if(M=="GlwT")O={BETE:aN.VR.types[w.target.Q()]};
if(M=="glwS")O={IGSr:aN.VR.ao$[w.target.Q()]};if(M=="bvlS")O={BESl:aN.XL.types[w.target.Q()]};if(M=="bvlT")O={bvlT:aN.XL.auv[w.target.Q()]};
if(M=="bvlD")O={BESs:["In","Out"][w.target.Q()]};this.iO({N5:M,G:O});if(b){if(this.dD)this.update(null,this.Wi);
else{var D=this.parent,o=D._t,Z=this.YO,$=o.B[D.data.q].add.lmfx[aN.IU[Z[0]]].v[Z[1]].v;this.update(o,$)}}}};
dY.prototype.iO=function(w){if(this.Wi&&this.Wi[w.N5])this.Wi[w.N5].v=w.G;if(this.dD){this.l(new aX(A.E.r))}else{w.d="changeprop";
w.q=this.parent.data.q;w.zS=this.YO;var M=new aX(A.E.s,!0);M.data=w;M.k=y.GY;M.Hb=!0;this.l(M);this.l(new aX("afterchange",!0))}};
dY.prototype.Q=function(){return JSON.parse(JSON.stringify(this.Wi))};dY.v0={bops:"blOptions lrMd Opct ---- iOpa brst ---- blIf".split(" "),DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),OrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","Ckmt","blur","TrnS","Inpr","ShdN"],IrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","glwS","Ckmt","blur","TrnS","Inpr","ShdN"],ebbl:["enab","bvlS","bvlT","bvlD","srgR","blur","Sftn","----","lagl","Lald","uglg","TrnS","\n","hglM","hglC","hglO","sdwM","sdwC","sdwO","useShape","MpgS","Inpr","useTexture","Ptrn","Scl","textureDepth","InvT","Algn","phase"],SoFi:["enab","Md","Opct"].concat(aN.J1),GrFl:["enab","Md","Opct"].concat(aN.JK),patternFill:["enab","Md","Opct"].concat(aN.KO),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),FrFX:["enab","Sz","Styl","\n","Md","Opct","PntT","\n"].concat(aN.J1.concat(aN.JK.concat(aN.KO)))};
function io(){bZ.call(this,[11,6],"layerstyle");this.aaQ=-1;this.data={};this._t=null;this.P4=null;this.WK=[];
this.Rd=[];R.rV(this.body,"flexrow");this.fU=R.S("div","bordered");this.fU.setAttribute("style","min-width:13em;");
this.body.appendChild(this.fU);this.Mb=R.S("div","");this.Mb.setAttribute("style","width:25em; padding-left: 1em;");
this.body.appendChild(this.Mb);this.LO=R.S("div","form");this.LO.setAttribute("style","padding-left: 1em; width:7em;");
this.body.appendChild(this.LO);this.Rl=R.M2(this,this.LO);this.sX=new i8([12,87],!0,null,!0);this.sX.h("click",this.aqp,this);
this.LO.appendChild(this.sX.m);this.ve=new a2;this.ve.parent=this;this.ve.h(A.E.r,this.a8l,this);this.LO.appendChild(this.ve.m);
this.h("closebtn",this.s1,this);this.h("redrawall",this.aeZ,this)}io.prototype=new bZ;io.prototype.Xc=function(){return!0};
io.prototype.CY=function(){return!0};io.prototype.kf=function(w,M,O,b,D){var o=this.OI();if(o)o.kf(w,M,O,b,D)};
io.prototype.Ha=function(w,M,O,b,D){var o=this.OI();if(o)o.Ha(w,M,O,b,D)};io.prototype.oH=function(w,M,O,b,D){var o=this.OI();
if(o)o.oH(w,M,O,b,D)};io.prototype.OI=function(w){if(w==null)w=this.data.index;return w==null?null:w==0?this.WK[0]:this.Rd[w[0]][w[1]]};
io.prototype.a8l=function(w){var M=this.ve.Q();this.iO({d:"setstl",G:M.Pg});this.aeZ(null)};io.prototype.aqp=function(w){var M=this._t,O=this.data.q;
if(O==null)O=M.g[0];var b=this._t.B[O],D=eR.aar(b),o=new aX(A.E.Z,!0);o.data={d:A.t.pF,jS:"add",I8:eM.$i,zm:[JSON.parse(JSON.stringify(D))]};
this.l(o)};io.prototype.afI=function(w){this.data.index=w.currentTarget.YO;this.cH(w.currentTarget.YO)};
io.prototype.aeZ=function(w){this.ZM(this._t,this.data)};io.prototype.cH=function(w,M){R.Mh(this.Mb);
for(var U=0;U<this.WK.length;U++)this.WK[U].abz();var O=this.OI(w);this.Mb.appendChild(O.adl());if(M)O.TK();
var b=this._t;if(b){var D=b.B[this.data.q];this.WK[0].update(b,y.rn.vB(b,D));var o=D.add.lmfx;if(o==null)return;
for(var U=0;U<aN.order.length;U++){var Z=o[aN.IU[U]].v;for(var $=0;$<Z.length;$++)this.Rd[U][$].update(b,Z[$].v)}}if(M)O.TK()};
io.prototype.f=function(){bZ.prototype.f.call(this);this.sX.f();this.ve.f();this.Rl.f();for(var U=0;
U<this.WK.length;U++)this.WK[U].f()};io.prototype.ZM=function(w,M){var O=M.q==null;this.data.q=M.q;this.data.index=M.index;
M=this.data;this._t=w;if(O)M.q=w.g.length==0?w.B.length-1:w.g[0];R.Mh(this.fU);var b=w.B[M.q].add.lmfx;
this.xc();this.WK=[new dY("bops",!1,0)];this.Rd=[];for(var U=0;U<aN.order.length;U++){this.Rd.push([]);
var D=b==null?[]:b[aN.IU[U]].v;for(var o=0;o<D.length;o++){var Z=new dY(aN.order[U],!1,[U,o]);this.WK.push(Z);
this.Rd[U].push(Z)}if(D.length==0){var Z=new dY(aN.order[U],!1,[U,0]);this.WK.push(Z);this.Rd[U].push(Z)}}this.f();
this.a2n(this.P4,eM.vI);for(var U=0;U<this.WK.length;U++){this.WK[U].parent=this;this.WK[U].ap_(this.fU);
this.WK[U].h("showme",this.afI,this)}if(M.index==null||M.index==0||!O&&b[aN.IU[M.index[0]]].v.length==0){this.cH(0)}else this.cH(M.index,O);
this.h("afterchange",this.xc,this)};io.prototype.xc=function(w){var M=this._t,O=this.data.q;if(O==null)O=M.g[0];
var b=this._t.B[O],D=eR.aar(b);this.ve.b(D,M.add.Patt?M.add.Patt:[],M.OO(),M.zd())};io.prototype.o9=function(w,M){this.P4=w;
this.a2n(w,M);if(M==eM.$i||M==eM.vI){this.ve.jX([w.CB,w.SQ])}if(M==eM.AX){}};io.prototype.a2n=function(w,M){for(var U=0;
U<this.WK.length;U++)this.WK[U].o9(w,M)};io.prototype.s1=function(w){this.iO({d:"cancel"})};io.prototype.Bp=function(w){this.iO({d:"confirm"});
this.close()};io.prototype.iO=function(w){w.q=this.data.q;var M=new aX(A.E.s,!0);M.data=w;M.k=y.GY;M.Hb=!0;
this.l(M);this.xc()};io.u5=function(w){var M=[{name:[14,10],xM:!0}];for(var U=0;U<aN.names.length;U++)M.push({name:aN.names[U]});
if(w){M[M.length-1].xM=!0;M.push({name:"Scale Effects",R:function(O){return{R:O!=null&&O.g.length!=0&&O.B[O.g[0]].nP()}}});
M.push({name:["VAR0 VAR1",[12,49],[9,1]],R:function(O){return{R:O!=null&&O.g.length!=0&&O.B[O.g[0]].add.lmfx!=null}}})}return M};
io.nV=function(w){var M=[{_:A.E.Z,W:{d:A.t.JE,IP:"layerstyle"}}];for(var U=0;U<aN.names.length;U++)M.push({_:A.E.Z,W:{d:A.t.JE,IP:"layerstyle",index:[U,0]}});
if(w){M.push({_:A.E.Z,W:{d:A.t.JE,IP:"scaleeffects",hR:100,TA:{_:A.E.s,k:y.GY,W:{d:"scaleeffects"}}}});
var O={classID:"Mk",null:fE.xp("Lyr"),Usng:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]}};
M.push({_:A.E.Lm,W:{wV:"make",g0:O}})}return M};io.adC=function(w){var M=[];if(w)M.push({name:[6,48,0,0],Qy:!0},{name:[6,48,0,1],Qy:!0},{name:[6,48,0,2],Qy:!0,xM:!0});
for(var O in a6.names)M.push({name:a6.names[O],xM:a6.auB.indexOf(O)!=-1,Qy:_[O]!=null});return M};io.ID=function(w){var M=[];
if(w){M.push({_:A.E.s,k:y.S7,W:{d:"newfill",kB:0}});for(var U=1;U<3;U++)M.push({_:A.E.Lm,W:y.c9.CK(U)})}for(var O in a6.names){var b=ek.pp(O);
if(b==null)b={};for(var D in a6.mI)if(a6.mI[D]==O)b.classID=D;var o={wV:"make",g0:{classID:"Mk",null:fE.xp("AdjL"),Usng:{t:"Objc",v:{classID:"AdjL",Type:{t:"Objc",v:b}}}}};
M.push({_:A.E.Lm,W:o})}return M};function d6(){bZ.call(this,"Merge Channels","mergechannels");this.sH=null;
var w=R.S("div","form");this.body.appendChild(w);this.z7=[];for(var U=0;U<3;U++){var M=new ao(a6.q0[U],[]);
this.z7.push(M);w.appendChild(M.m);R.Ca(w)}this.Rl=R.M2(this,w)}d6.prototype=new bZ;d6.prototype.f=function(){bZ.prototype.f.call(this);
this.Rl.f();for(var U=0;U<3;U++)this.z7[U].f()};d6.prototype.ZM=function(w,M,O,b){this.sH=O;var D=[];
for(var U=0;U<O.length;U++)D.push(O[U].name);for(var U=0;U<3;U++){var o=this.z7[U];o.N8(D);o.b(Math.min(U,O.length-1))}};
d6.prototype.Bp=function(w){var M=this.sH,O=M[0],b=new aX(A.E.Lm,!0);b.data=fO.pe(O.e,O.n,O.Z1,"Merged Document","Wht",!1);
this.l(b);var D=[];for(var U=0;U<3;U++)D.push(M[this.z7[U].Q()].Hp());var O=M[M.length-1],o=O.B[0],Z=o.buffer;
for(var U=0;U<Z.length;U+=4){Z[U]=D[0][U];Z[U+1]=D[1][U];Z[U+2]=D[2][U]}o.K();O.K();this.close()};function cZ(){bZ.call(this,[1,10],"script");
var w=R.S("div","form");w.setAttribute("style","width:44em");this.body.appendChild(w);this.P4=null;this.no=[];
this.p0=[];this.ak2;var M=this.Y$=new i8([1,2],!1,null,!0);M.h("click",this.T8,this);w.appendChild(M.m);
var O=new i8("JS Reference",!1,null,!0);O.h("click",this.a6X,this);w.appendChild(O.m);w.appendChild(new as("Demos:").m);
this.aya=[];var b=cZ.ws;for(var U=0;U<b.length;U++){var D=new i8(b[U].FE,!1,null,!0);this.aya.push(D);
w.appendChild(D.m);D.h("click",this.asE,this)}this.xP=R.S("textarea");R.SZ(this.xP);this.xP.setAttribute("rows",16);
this.xP.setAttribute("style","display:block;tab-size:4; font-family:monospace;width:100%;");w.appendChild(this.xP);
var o=new i8("Run",!0,null,!0);o.h("click",this.Bp,this);w.appendChild(o.m);this.A9=R.S("div");w.appendChild(this.A9)}cZ.prototype=new bZ;
cZ.prototype.f=function(){this.Y$.f()};cZ.prototype.T8=function(){var w=this.ak2;if(w==null)w="script.jsx";
var M=new aX(A.E.Z,!0);M.data={d:A.t.JE,IP:"namewindow",hR:w.slice(0,w.length-4),Wz:this.apv.bind(this)};
this.l(M)};cZ.prototype.apv=function(w){var M=this.xP.value,O=n.qs(M),b=new aX(A.E.Z,!0);b.data={d:A.t.I7,JX:O.buffer,b1:w+".jsx",a1Z:!0};
this.l(b)};cZ.prototype.a6t=function(w){var U=this.no.indexOf(w.target),M=this.ak2=this.p0[U],O=this.P4.rH.PN[M],b=new Uint8Array(O),D=n.AL(b,0,b.length);
this.xP.value=D};cZ.prototype.ZM=function(w,M,O){this.xP.value=cZ.ws[0].pf;this.a5r()};cZ.prototype.a5r=function(){var w=this.P4.rH,M=this.A9;
R.Mh(M);this.no=[];this.p0=[];M.textContent="Saved scripts: ";for(var O in w.PN){if(O.endsWith(".jsx")){var b=new i8(O,!1,null,!0);
this.no.push(b);this.p0.push(O);b.h("click",this.a6t,this);M.appendChild(b.m)}}};cZ.prototype.o9=function(w,M){this.P4=w;
if(M==eM.tn)this.a5r()};cZ.prototype.a6X=function(w){var M=new aX(A.E.Z,!0);M.data={d:A.t.NA,link:"https://github.com/Adobe-CEP/CEP-Resources/blob/master/Documentation/Product%20specific%20Documentation/Photoshop%20Scripting/photoshop-javascript-ref-2020.pdf"};
this.l(M)};cZ.prototype.Bp=function(w){var M=new aX(A.E.Z,!0);M.data={d:A.t.wz,oQ:this.xP.value};this.l(M)};
cZ.prototype.asE=function(w){var M=this.aya.indexOf(w.currentTarget);this.xP.value=cZ.ws[M].pf};cZ.ws=[{FE:"Hello",pf:"\nalert(\"Hello Photopea!\");\n"},{FE:"Process Layers",pf:"\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n"+"\t//lays[i].visible = false;\n"+"\t//lays[i].opacity = 50;\n"+"\tlays[i].name = \"My Layer \"+i;\n}"},{FE:"Clone Layers",pf:"\nvar orig = app.activeDocument.activeLayer;\n"+"var cnt = 12;\n"+"var angle = Math.floor(360 / cnt);\n"+"\n"+"for(var i=1; i<cnt; i++)\n"+"{\n"+"\tvar nlay = orig.duplicate();\n"+"\t//nlay.translate(30*i, 20*i);\n"+"\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n"+"}"}];
function aP(){bZ.call(this,[11,7],"newproject");this.data=null;this.sH=null;var w=R.S("div","flexrow");
this.hT=w;this.body.appendChild(w);var M=R.S("div","form");this.QO=M;w.appendChild(M);this.He=new d8([12,48],null,10);
M.appendChild(this.He.m);R.Ca(M);this.Wv=new kp(!0,null,null,null,!0);this.Wv.b(new at(1280,720),72);
this.Wv.aq2(!0,!0);this.Wv.h(A.E.r,this.kh,this);M.appendChild(this.Wv.m);this.Ro=new bi;this.Ro.parent=this;
M.appendChild(this.Ro.m);this.kR=new i8("\u02C5",null,[0,14],!0);this.kR.h("click",this.Dh,this);M.appendChild(this.kR.m);
var O=this.a4D=R.S("span");M.appendChild(O);O.style.display="none";this.a8k=new ao([13,6],["sRGB","Adobe RGB","ProPhoto RGB","Display P3"]);
O.appendChild(this.a8k.m);this.YR=new ji([1,16,1]);O.appendChild(this.YR.m);this.Rl=new i8([12,49],!0,null,!0);
this.Rl.h("click",this.Bp,this);M.appendChild(this.Rl.m);var b=aP.ha,D=[];for(var U=0;U<b.length;U++)D.push(b[U].name);
this.YE=new il(null,D);this.YE.h(A.E.r,this.aqz,this);M.appendChild(this.YE.m);this.YE.m.style["margin-top"]="1em";
this.ZP=new fL(!0);this.ZP.h(A.E.r,this.aoD,this);M.appendChild(this.ZP.m);this.aqz();this.UM=new bP;
this.UM.parent=this;this.UM.m.setAttribute("style","margin-left:1em");this.UM.h("tempready",this.acv,this)}aP.prototype=new bZ;
aP.prototype.Dh=function(w){var M=this.a4D,O=M.style.display!="none";M.style.display=O?"none":"";this.kR.RD(O?"\u02C5":"\u02C4");
this.nQ(this.jy,this.e3)};aP.prototype.o9=function(w,M){this.UM.o9(w)};aP.prototype.xR=function(w,M){return new at(Math.max(0,Math.min(70,(w-690)/2)),w>M?Math.max(0,Math.min(50,(M-400)/2)):0)};
aP.prototype.nQ=function(w,M){this.jy=w;this.e3=M;this.QO.setAttribute("style","width:"+Math.min(w-24,338)+"px");
this.ZP.m.style.height=M-248-(this.a4D.style.display=="none"?0:28)+"px";var O=this.UM.m,b=O.parentNode;
if(w<500){if(b!=null)this.hT.removeChild(O)}else{if(b==null)this.hT.appendChild(O);this.UM.nQ(w-378,M-28)}};
aP.prototype.kh=function(){this.UM.b(this.Wv.Q())};aP.prototype.aoD=function(w){var M=this.ZP.Q()[0],O=aP.ha[this.YE.Q()].Da[M],b=O[4];
if(b==0)b=72;var D=O[1],o=O[2],Z=["px","%","mm","in"].indexOf(O[3]),$=[1,1,25.4/b,1/b][Z];D/=$;o/=$;
this.Wv.b(new at(Math.round(D),Math.round(o)),b);this.Wv.alp(Z);this.kh()};aP.prototype.aqz=function(w){var M=aP.ha[this.YE.Q()].Da,O=[],b=[],D=Math.round(106*R.V()),o=Math.round(106*R.V()),Z=0;
for(var U=0;U<M.length;U++)Z=Math.max(Z,M[U][1],M[U][2]);for(var U=0;U<M.length;U++){var $=M[U],k=$[1]+" x "+$[2]+" "+$[3];
if($[3]=="in")k=($[1]*25.4).toFixed(0)+" x "+($[2]*25.4).toFixed(0)+" mm";if($[3]=="mm")k=($[1]/25.4).toFixed(1)+" x "+($[2]/25.4).toFixed(1)+" in";
if($[4])k=k+" @ "+$[4]+" ppi";b.push(k);O.push(aP.Td($,D,o,Z))}this.ZP.Uw(O,b,D,o)};aP.Td=function(w,M,O,b){var D=R.S("canvas",""),o=D.getContext("2d");
D.width=M;D.height=O;var Z=Math.round(M/8),$=Math.floor(11*R.V()),k=w[1],E=w[2];o.fillStyle="#000000";
o.font=Math.round($*.9)+"px \"Open Sans\", Sans-Serif";var t=k+" x "+E+" "+w[3],c=o.measureText(t);o.fillText(t,Math.round((M-c.width)/2),O-Math.round(Z/2));
if(w[0]!=null){o.font="bold "+$+"px \"Open Sans\", Sans-Serif";var t=w[0],c=o.measureText(t);o.fillText(t,Math.round((M-c.width)/2),O-Math.round(Z/2)-Math.round($*1.3))}O-=Math.round(2.5*$);
var l=Math.min((M-Z)/k,(O-Z)/E);l*=.5+.5*(Math.max(k,E)/b);var q=(M-k*l)/2,d=(O-E*l)/2;o.strokeRect(Math.round(q)+.5,Math.round(d)+.5,Math.round(k*l),Math.round(E*l));
return D.toDataURL()};aP.prototype.f=function(){bZ.prototype.f.call(this);this.Wv.f();this.He.f();this.Ro.f();
this.Rl.f();this.He.b(fr.get([11,7]));this.YE.f();this.YR.f();this.kR.f();this.UM.f()};aP.prototype.Bp=function(w){var M=this.Wv.Q(),O=M.x,b=M.y;
this.close();var D=this.Ro.Q(),o=["sRGB IEC61966-2.1","Adobe RGB (1998)","ProPhoto RGB","image P3"][this.a8k.Q()],Z=new aX(A.E.Lm,!0);
Z.data=fO.pe(O,b,this.Wv.RL(),this.He.Q(),["Wht","Blck","Trns","Clr"][D[0]],this.YR.Q(),D[1],o);this.l(Z);
this.ajO()};aP.prototype.acv=function(w){var M=w.data._t;M.Z1=this.Wv.RL();var O=new aX(A.E.Z,!0);O.data={d:A.t.$s,_t:M};
this.l(O);this.close();this.ajO()};aP.prototype.ajO=function(){var w=this.sH[this.sH.length-1],M=this.data.a23;
if(M)ab.Uv(function(){var O=new XMLHttpRequest,b="https://www.googleapis.com/drive/v3/files?"+ab.Fi();
O.open("POST",b,!0);O.setRequestHeader("Content-Type","application/json");O.addEventListener("load",function(D){var o=JSON.parse(D.target.response);
w.ME={file:o,_R:"psd"};alert(w.name+" created in Google Drive")});O.send(JSON.stringify({name:w.name,asX:[M]}))})};
aP.prototype.ZM=function(w,M,O,b){this.sH=O;if(w!=null&&w.X!=null){var D=new cn(0,0,w.e,w.n).mX(w.X.rect);
this.Wv.b(new at(D.e,D.n))}this.data=M;this.kh();if(R.BL())kl.a62(this.ajy.bind(this))};aP.prototype.ajy=function(w){if(w=="granted")kl.Ta(this,this.ahZ.bind(this))};
aP.prototype.ahZ=function(w,M){this.Wv.b(new at(M.e,M.n))};aP.ha=[{name:"Social",Da:[["FB Page Cover",1640,664,"px",0],["FB Shared Image",1200,630,"px",0],["FB Event Image",1920,1080,"px",0],["FB Group Header",1640,856,"px",0],["Instagram",1080,1080,"px",0],["Insta Story",1080,1920,"px",0],["Youtube Profile",800,800,"px",0],["Youtube Cover",2560,1440,"px",0],["Twitter Profile",400,400,"px",0],["Twitter Header",1500,500,"px",0]]},{name:[12,88,4],Da:[["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["Letter",8.5,11,"in",300],["Ledger",11,17,"in",300],["Business Card",3.5,2,"in",300]]},{name:[12,88,0],Da:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300]]},{name:[12,88,1],Da:[["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["UHD",3840,2160,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],Da:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],["iPad Pro 9.7\"",1536,2048,"px",0],["iPad Pro 10.5\"",1668,2224,"px",0],["iPad Pro 12.9\"",2048,2732,"px",0]]},{name:[12,88,3],Da:[["Small Square",200,200,"px",0],["Square",250,250,"px",0],["Medium Rect",300,250,"px",0],["Large Rect",336,280,"px",0],["Mobile Leaderboard",320,50,"px",0],["Large Mobile",320,100,"px",0],["Banner",468,60,"px",0],["Leaderboard",728,90,"px",0],["Large Leaderboard",970,90,"px",0],["Billboard",970,250,"px",0],["Vertical Rect",240,400,"px",0],["Skyscraper",120,600,"px",0],["Wide Skyscraper",160,600,"px",0],["Half Page",300,600,"px",0],["Portrait",300,1050,"px",0]]},{name:"2\u1D3A",Da:[[null,16,16,"px",0],[null,32,32,"px",0],[null,64,64,"px",0],[null,128,128,"px",0],[null,256,256,"px",0],[null,512,512,"px",0],[null,1024,1024,"px",0],[null,2048,2048,"px",0],[null,4096,4096,"px",0]]}];
function f3(w,M,O){bZ.call(this,M,"sel_"+w);this.d=w;var b=R.S("div","form");this.body.appendChild(b);
this.He=new gL(M,0,255,null,0,!1,!0);b.appendChild(this.He.m);this.He.b(1);var D=R.S("span");D.textContent=O;
b.appendChild(D);R.Ca(b);this.ae$=new ji("Apply at canvas bounds");if(w!="border")b.appendChild(this.ae$.m);
this.Rl=R.M2(this,b)}f3.prototype=new bZ;f3.prototype.bT=function(w,M){if(w==null)return;if(w.X==null)alert("No selection!");
return w.X!=null};f3.prototype.Bp=function(w){var M=new aX(A.E.Lm,!0);M.data=y.wk.a7Y(this.d,this.He.Q(),this.ae$.Q());
M.Hb=!0;this.l(M);this.close()};f3.prototype.f=function(){bZ.prototype.f.call(this);this.Rl.f();if(this.He)this.He.f()};
f3.prototype.ZM=function(w,M){};function j9(w,M,O,b,D,o){bZ.call(this,O,M);this.a1u=o;this.KX=D;this.ha=null;
this.QO=R.S("div","form");this.body.appendChild(this.QO);this.He=w==0?new d8(O,null,10):w==1?new cq(O,0,500,b,1):new d8(O,null,24,5);
this.He.h(A.E.r,this.Vk,this);this.QO.appendChild(this.He.m);this.Rl=R.M2(this,this.QO);this.h("closebtn",this.s1,this)}j9.prototype=new bZ;
j9.prototype.xR=function(w,M){return new at(Math.max(0,Math.min(150,(w-250)/2)),Math.max(0,Math.min(150,(M-120)/2)))};
j9.prototype.Xc=function(){return this.a1u};j9.prototype.Vk=function(w){var M=this.He.Q();if(this.KX)this.pZ(M)};
j9.prototype.s1=function(w){if(this.KX)this.pZ("cancel")};j9.prototype.Bp=function(w){if(this.KX)this.pZ("confirm");
else this.pZ(this.He.Q());this.close()};j9.prototype.pZ=function(w){if(this.ha.Wz)this.ha.Wz(w);else if(this.ha.TA){var M=this.ha.TA,O=new aX(M._,!0);
O.k=M.k;O.data=M.W;O.data.G=w;O.Hb=!0;this.l(O)}};j9.prototype.f=function(){bZ.prototype.f.call(this);
this.Rl.f();if(this.He)this.He.f()};j9.prototype.ZM=function(w,M){this.ha=M;this.He.b(M.hR);this.He.Fb();
this.Vk(null)};function j8(){bZ.call(this,[1,5],"open_from_url");this.Qs=null;var w=R.S("div","form");
this.body.appendChild(w);this.wE=new d8("URL",null,22);w.appendChild(this.wE.m);R.Ca(w);this.j8=new il([21,0],[[21,2],[21,1]]);
w.appendChild(this.j8.m);this.Rl=R.M2(this,w)}j8.prototype=new bZ;j8.prototype.f=function(){bZ.prototype.f.call(this);
this.Rl.f();this.j8.f()};j8.prototype.ZM=function(w,M,O){this.wE.Fb();this.Qs=null;if(w&&O.indexOf(w)!=-1)this.Qs=O.indexOf(w)};
j8.prototype.Bp=function(w){var M=new aX(A.E.Z,!0),O=this.wE.Q();M.data={d:A.t.xS,I8:{url:O,Xr:!0,Qs:this.j8.Q()==1?this.Qs:null}};
this.l(M);this.close()};function j0(){bZ.call(this,[12,79],"preferences");this.P4=null;var w=R.S("div","form");
this.body.appendChild(w);this.v0=[new ji([8,2]),new ji([8,4]),new ao([12,80,3],[[12,93,3],[12,80,4]]),new cq([12,80,5],1,100,null,2),new ao(null,x.Rk.pD),new ao([12,80,6],x.Rk.pD),new ji("Remind me to save")];
for(var U=0;U<this.v0.length;U++){var M=this.v0[U];w.appendChild(M.m);if(U!=3)R.Ca(w);M.h(A.E.r,this.jL,this)}}j0.prototype=new bZ;
j0.prototype.f=function(){bZ.prototype.f.call(this);for(var U=0;U<this.v0.length;U++)this.v0[U].f()};
j0.prototype.ZM=function(w,M,O){};j0.prototype.o9=function(w,M){this.P4=w;this.v0[0].b(w.sw.lX);this.v0[1].b(w.sw.LL);
this.v0[2].b(w.sw.Uo);this.v0[3].b(w.sw.K2);this.v0[4].b(w.sw.$H);this.v0[5].b(w.sw.OF);this.v0[6].b(w.IN==1)};
j0.prototype.jL=function(w){var M=this.v0;if(w.target==M[6])this.P4.IN=1-this.P4.IN;var O=JSON.parse(JSON.stringify(this.P4.sw));
O.lX=M[0].Q();O.LL=M[1].Q();O.Uo=M[2].Q();O.K2=M[3].Q();O.$H=M[4].Q();O.OF=M[5].Q();if(O.$H!=4)O.K2=Math.round(O.K2);
var b=new aX(A.E.Z,!0);b.data={d:A.t.pF,I8:eM.DK,XU:O};this.l(b)};function kh(){bZ.call(this,[11,8],"saveforweb");
this.ate="";this.h("closebtn",function(){this.Lt.t_()},this);this._t=null;this.KN=null;this.aq3=null;
this.P4=null;R.rV(this.body,"flexrow");this.body.style.padding="0";var w=R.S("div"),M=R.S("div");this.body.appendChild(w);
this.body.appendChild(M);this.RX=R.S("div","imgcont");w.appendChild(this.RX);this.Lt=new jw;this.Lt.nQ(512,512);
this.ig=R.S("div");this.ig.setAttribute("style","display:inline-box; padding: 3px 0 5px 8px; height:20px;");
w.appendChild(this.ig);var O=this.QO=R.S("div","form cell");O.setAttribute("style","width:195px; padding:9px 13px;");
M.appendChild(O);this.zs=new ao([12,50],ce.qA());O.appendChild(this.zs.m);this.zs.h(A.E.r,this.rU,this);
R.Ca(O);this.I1=new d8([12,48],".www",7.7);O.appendChild(this.I1.m);R.Ca(O);this.Wv=new kp(!0,!0,!1,!0);
this.Wv.h(A.E.r,this.rU,this);O.appendChild(this.Wv.m);this.qa=new b0;this.qa.h(A.E.r,this.rU,this);
O.appendChild(this.qa.m);this.o7=new i8([1,2],!0,null,!0);this.o7.h("click",this.Bp,this);O.appendChild(this.o7.m)}kh.prototype=new bZ;
kh.prototype.bT=function(w,M){return w!=null};kh.prototype.f=function(){bZ.prototype.f.call(this);this.Wv.f();
this.I1.f();this.zs.f();this.qa.f();this.o7.f()};kh.prototype.Bp=function(w){var M=this.I1.Q().trim(),O=ce.qA()[this.zs.Q()],b=O=="JPG"||O=="PNG"||O=="GIF",D=ce.ti(O),o="."+O.toLowerCase(),Z=this.KN,$=M+o,k=this._t,E=k.iW,t=this.qa.Q();
if(k.x9())t.pop();if(E.length!=0&&b&&t.pop()){var c="<!DOCTYPE html>\n<html>\n<style>div {position:absolute;}</style>\n<head></head>\n<body>\n",l=[],q={},d=new cn(0,0,k.e,k.n),V=k.Hp();
for(var U=0;U<E.length;U++)l.push(y.uW.dg(E,U));l.reverse();var L=x.rect.ih([0,0,k.e,k.n],l);for(var U=0;
U<L.length;U++){var e=L[U],H=new cn(e[0],e[1],e[2]-e[0],e[3]-e[1]),j=e.length==5?E[e[4]].v:null,g=x.$(H.v()*4);
x.xu(V,d,g,H);var K="img/img"+(U+1)+o;q[K]=new Uint8Array(D.WV([[g.buffer,0]],H.e,H.n,t));c+="<div style=\"background-image:url('"+K+"'); left:"+H.x+"px; top:"+H.y+"px; width:"+H.e+"px; height:"+H.n+"px\">";
if(j&&j.url.v!="")c+="\n\t<a href=\""+j.url.v+"\" target=\""+j.null.v+"\" style=\"display:block;width:100%;height:100%;\"></a>\n";
c+="</div>\n"}c+="</body>\n</html>\n";var a=x.$(Math.round(c.length*1.5)),T=n.Q5(c,a,0);q["index.html"]=a.slice(0,T);
Z=UZIP.encode(q);$=M+".zip"}else if(k.add.artd&&k.add.artd.Cnt.v>1&&b&&t.pop()){var q={},d=new cn(0,0,k.e,k.n),V=k.Hp(),C=k.root.children;
for(var U=0;U<C.length;U++){var F=C[U].q;if(F.add.artb==null||!F.Vd())continue;var m=F.pU(),N=x.$(m.v()*4);
x.xu(V,d,N,m);q[F.getName()+o]=new Uint8Array(D.WV([[N.buffer,0]],m.e,m.n,t))}Z=UZIP.encode(q);$=M+".zip"}if(k.QD){var v=new XMLHttpRequest;
v.open("GET","/papi/img/update.php?act=1&id="+k.QD+"&rnd="+Math.random());v.send()}var h=new aX(A.E.Z,!0);
h.data={d:A.t.PD,data:Z,name:$};this.l(h);this.Lt.t_();this.close();var P=dA.au("3UMe\\ORYBB@EVG9* 08{\"\",-913-yXs^]Y\\Mm^UHKR3.8F6&+*.y1oo{%qm{m^Xo_SNLU]NA97N-7*B32*'##\"*WlprjhZS.k9XHSPYXt41:=36@;y*2$tn&womykcpZPIWP^IHH8]");
h.data={d:A.t.JE,IP:dA.Ps,G:P,Wz:function(){}};if(this.P4.H7&&!fl.yR()&&Math.random()<.05)this.l(h)};
kh.prototype.ZM=function(w,M){if(M.cq!=null)this.zs.b(M.cq);this._t=w;var O=this._t.name,b=O.lastIndexOf("."),O=b==-1?O:O.slice(0,b);
this.I1.b(O);var D=w.e+","+w.n;if(D!=this.ate){this.ate=D;this.Wv.b(new at(w.e,w.n),w.Z1)}this.qa.adJ();
if(M.awc){this.Wv.alp(3);this.qa.$I.PDF[2].ks.b(!0)}this.rU(null,!0)};kh.prototype.a8E=function(w,M){return w<M&&w<660};
kh.prototype.xR=function(w,M){return this.a8E(w,M)?new at(0,0):new at(Math.max(0,Math.min(150,(w-770)/2)),Math.max(0,Math.min(150,(M-590)/2)))};
kh.prototype.nQ=function(w,M,O){this.jy=w;this.e3=M;if(this._t==null)return;var b=this.o7.m,D=this.a8E(w,M),o,Z,c="<span style=\"width:",l="display:inline-block; text-align:right;\">";
if(D){var $=this.QO.getBoundingClientRect().height;o=w;Z=M-$-27;R.Y4(this.body,"flexrow");R.Y4(b,"spread")}else{o=Math.min(512,w-195-2*13);
Z=Math.min(512,M-24);R.rV(this.body,"flexrow");R.rV(b,"spread")}this.QO.style.width=(D?w:195)+"px";var k=ce.qA()[this.zs.Q()],E=ce.ti(k);
if(E.wZ||E.b2)this.RX.firstChild.setAttribute("style","display:block; width:"+o+"px; height:"+Z+"px;");
else this.Lt.nQ(o,Z);var t=this.KN.byteLength,q=k+":"+c+64+"px;"+l+kh.AE(t)+"</span>";if(o>200)q+=c+90+"px; opacity:"+.5+";"+l+t.toLocaleString()+" B</span>";
this.ig.innerHTML=q;b.style.float=D?"right":"";b.style.marginRight=D?"13px":"";if(D)this.ig.appendChild(b);
else this.QO.appendChild(b);if(O)setTimeout(function(){this.nQ(this.jy,this.e3)}.bind(this),20)};kh.AE=function(w){var M=w.toString(2),O=0;
while(O+10<M.length)O+=10;var b=(w/Math.pow(2,O)).toFixed(1);if(b.endsWith(".0"))b=b.slice(0,-2);var D="B KB MB GB TB PB".split(" ")[Math.floor(O/10)];
return b+" "+D};kh.prototype.o9=function(w,M){this.P4=w};kh.prototype.rU=function(w,M){var O=this._t,b=this.Wv.Q(),D=b.x,o=b.y,Z=this.zs.Q(),$=ce.qA()[Z],L="";
this.I1.au_("."+$.toLowerCase());var k=ce.an(O)[0].length,E=["GIF","PNG","WEBP"].indexOf($)!=-1&&k>1;
if(E&&M&&(k>4&&D*o>1024*1024||D*o*k>800*800*50)){var t=1;while(Math.max(D>>>t,o>>>t)>800)t++;var c=window.confirm("Your animation is large ("+D+" x "+o+" px). Press \"OK\" to scale it to "+(100>>>t)+"%. Press \"Cancel\" to keep the size.");
if(c){this.Wv.b(new at(D>>>t,o>>>t),null,!0);D=D>>>t;o=o>>>t}}var l=O.add.artd,q=l!=null&&l.Cnt.v>1,d=O.x9();
this.qa.ao4($,E,O.iW.length!=0,q,d!=null);var V=this.qa.Q();this.KN=ce.jV(O,$,D,o,V,this.P4);if(this.KN==null){this._t=null;
return}R.Mh(this.RX);this.Lt.t_();var e=ce.ti($);if(e.b2){this.RX.innerHTML="<div></div>";L+="width:0px"}else if(e.wZ){var H=D,j=o,g;
if($=="PDF"){g=URL.createObjectURL(new Blob([this.KN],{type:"application/pdf"}))}else{g=URL.createObjectURL(new Blob([this.KN],{type:"image/svg+xml"}))}this.RX.innerHTML="<iframe src=\""+g+"\"></iframe>"}else{var K=this.aq3=e.sc(this.KN),a=K[0],T=a.fJ,H=T.e,j=T.n;
if(a.fc){var C=ICC.R(a.fc.buffer),F=17,m=ICC.U.sampleLUT(C,F);for(var U=0;U<K.length;U++){var N=new Uint8Array(K[U].data);
ICC.U.applyLUT(m,F,N,N)}}this.Lt.b(K,K.length>1?V[V.length-3]:0);this.RX.appendChild(this.Lt.m);L="background: rgba(0,0,0,0);"}this.RX.setAttribute("style","display:block; background-size:"+16/R.V()+"px;"+L);
this.nQ(this.jy,this.e3,M)};function eH(){bZ.call(this,[11,13],"shortcuts");var w=this.hT=R.S("div","scrollable");
w.setAttribute("style","min-width:700px; max-height:500px; padding:1.5em");this.body.appendChild(w);
this.a24()}eH.prototype=new bZ;eH.prototype.f=function(){bZ.prototype.f.call(this);this.a24()};eH.prototype.a24=function(){var w="<div style=\"line-height:1.4em; column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",M="",O=i_,b=O.v9,D=O.Z4,o=O.PY;
M+="<h2 style=\"margin-top:0;\">Main Menu</h2>";M+=w;M+=this.xD([[0,0],"---",[1,0],[b,O.nk],[1,2],[b,O.mP],[1,3],[D,b,O.mP],[1,8],[o,D,b,O.mP],[0,1],"---",[2,0],[D,b,O.sy],[2,1],[b,O.sy],[5,0],[b,O.gQ],[5,1],[b,O.u8],[5,2],[b,O.d9],[2,2],"Delete",[2,3],[o,O.iF],[10,16],[o,b,O.Kn],[12,79],[b,O.zf],[3],"---",[4,1],[b,O.XZ],[4,2],[b,O.FU],[4,5],[b,O.CO],[4,11],[b,O.tq],[0,3],"---",[6,13],[D,b,O.qd],[6,49,0],[b,O.bQ],[6,6,0],[o,b,O.OC],[6,9],[b,O.OC],[6,10],[b,O.E],[0,5],"---",[7,0],[b,O.t],[7,1],[b,O.Pn],[7,2],[D,b,O.tq],[0,7],"---",[8,0],[b,O.Wn],[8,1],[b,O.Oz],[8,3],[b,O.mJ],[8,2],[b,O.qn],[8,4],[b,O.Bl],[11,13],"?"]);
M+="</div>";M+="<h2 style=\"margin-top:1.5em;\">Navigation</h2>";M+=w;M+=this.xD(["Vertical scroll","Wheel","Horizontal scroll",[b,"Wheel"],"Zooming",[o,"Wheel"]]);
M+="</div>";M+="<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
M+=w;M+=this.xD([[10,11],[b],[10,7],"Space",[10,17],[b,O.NT]]);M+="</div>";M+="<h2 style=\"margin-top:1.5em;\">Tools</h2>";
M+=w;var Z=eH.c,$=[];for(var U=0;U<Z.length;U+=3)if(Z[U+1])$.push(Z[U],Z[U+1]);$=$.concat([[24,16],"---",[22,7,1],"D",[22,7,0],"X",[6,6,1],"Q","Decrease Brush Size","[","Increase Brush Size","]","Decrease Hardness","{","Increase Hardness","}",[12,86],[b,O.gk]]);
M+=this.xD($);M+="</div>";this.hT.innerHTML=M};eH.prototype.xD=function(w){var M="",O=!0;for(var U=0;
U<w.length;U+=2){var b=w[U],D=i_.YN(w[U+1]);if(D==null){O=!1;continue}var o=R.bV(fr.get(b));if(D=="---"){if(!O)M+="<br/>";
M+="<div style=\"font-weight:bold; border-bottom: 1px solid;\">"+o+"</div>"}else M+="<div>"+o+" <span style=\"float:right; font-weight:bold;\">"+D+"</span> </div>";
O=!1}return M};eH.c=[[10,11],"V",0,[10,50],"V",70,[10,15],"M",1,[10,4],"M",2,[10,9],"L",5,[10,14],"L",6,[10,10],"L",7,[10,44],"W",3,[10,37],"W",8,[10,12],"W",9,[10,2],"C",10,[10,39],"C",11,[10,40],"C",12,[10,41],"C",13,[10,5],"I",14,[10,36],"I",16,[10,24],"J",18,[10,25],"J",19,[10,26],"J",20,[10,43],"J",22,[10,0],"B",23,[10,38],"B",24,[10,42],"B",25,[10,1],"S",27,[10,3],"E",31,[10,45],"E",32,[10,6],"G",34,[10,13],"G",35,[10,18],null,36,[10,19],null,37,[10,20],null,38,[10,21],"O",39,[10,22],"O",40,[10,23],"O",41,[10,8],"T",47,[10,29],"P",42,[10,30],"P",43,[10,27],"A",51,[10,28],"A",52,[10,32],"U",54,[10,33],"U",55,[10,35],"U",57,[10,34],"U",56,[10,31],"U",58,[10,7],"H",59,[10,17],"Z",61];
function bz(){bZ.call(this,[8,11,1],"soptions");this.ra=null;var w=R.S("div","form");w.style.width="20em";
this.body.appendChild(w);this.Cs={Nm:[12,48],url:"URL",null:[12,71]};this.v0={};for(var M in this.Cs){var O=new d8(this.Cs[M],null,15);
this.v0[M]=O;w.appendChild(O.m)}this.Rl=R.M2(this,w)}bz.prototype=new bZ;bz.prototype.ZM=function(w,M,O){var b=M.G;
this.ra=JSON.stringify(b);for(var D in this.Cs){if(b[D])this.v0[D].b(b[D].v)}};bz.prototype.Bp=function(w){var M=JSON.parse(this.ra);
for(var O in this.Cs){var b=this.v0[O].Q();M[O]={t:"TEXT",v:b}}var D=new aX(A.E.s,!0);D.k=y.In;D.data=M;
D.Hb=!0;this.l(D);this.close()};bz.prototype.f=function(){bZ.prototype.f.call(this);this.Rl.f()};function iW(){bZ.call(this,[2,3],"fill");
this.P4=null;this.sT=null;var w=R.S("div","form padded");w.style.width="22em";this.body.appendChild(w);
this.Rb="FrgC BckC Clr Blck Gry Wht contentAware Ptrn".split(" ");this.FF=new ao([2,3],[[12,45],[12,46],[12,47],[13,1,10],[13,1,7],[13,1,8],[6,48,0,3],[12,62]],null,[3,3,2]);
this.FF.h(A.E.r,this.akD,this);w.appendChild(this.FF.m);this.RX=R.S("span");w.appendChild(this.RX);this.fh=new bQ;
this.fh.parent=this;this.fh.Ji(0);this.ow=new g9;this.ow.parent=this;this.Xt=new ao([12,19,0],gA.Is,!1,gA.Ch);
w.appendChild(this.Xt.m);this.zN=new cq([12,0],0,100,"%",0,!1);this.zN.b(100);w.appendChild(this.zN.m);
this.bR=new ji([13,5]);this.bR.b(!1);w.appendChild(this.bR.m);this.Rl=R.M2(this,this.body)}iW.prototype=new bZ;
iW.prototype.bT=function(w,M){return w!=null};iW.prototype.Xc=function(){return!0};iW.prototype.akD=function(){var w=this.FF.Q(),M=this.fh.m,O=this.ow.m,b=this.RX;
if(w==2)b.appendChild(M);else if(b.contains(M))b.removeChild(M);if(w==7)b.appendChild(O);else if(b.contains(O))b.removeChild(O)};
iW.prototype.f=function(){bZ.prototype.f.call(this);this.FF.f();this.Xt.f();this.zN.f();this.bR.f();
this.Rl.f()};iW.prototype.Bp=function(w){if(!this.sT.D_())return;var M=new aX(A.E.Lm,!0),O=this.FF.Q();
M.data=y.fV.CK(this.Rb[O],gA.J5[this.Xt.Q()],this.zN.Q()/100,this.fh.Q(),this.bR.Q(),this.ow.Q());this.close();
this.l(M)};iW.prototype.ZM=function(w,M){this.sT=w};iW.prototype.o9=function(w,M){this.P4=w;if(M==eM.vI||M==eM.ab){this.ow.jX(w.SQ);
this.ow.b({classID:"Ptrn",Nm:{v:"orangeslices",t:"TEXT"},Idnt:{v:"c7acb22a-47a6-11de-919a-bf574370eaaf",t:"TEXT"}})}};
function cw(){bZ.call(this,[14,9],"stroke");this.P4=null;this.QO=R.S("div","form");this.QO.setAttribute("style","width:24em");
this.body.appendChild(this.QO);this.$M=new dY("FrFX",!0);this.$M.parent=this;var w=["Sz","Styl","Md","Opct"].concat(aN.J1);
for(var U=0;U<w.length;U++){var M=this.$M.MT[w[U]].m;this.QO.appendChild(M)}this.HF=!1;this.Rl=R.M2(this,this.body)}cw.prototype=new bZ;
cw.prototype.bT=function(w,M){return w!=null};cw.prototype.Xc=function(){return!0};cw.prototype.f=function(){bZ.prototype.f.call(this);
this.Rl.f();this.$M.f()};cw.prototype.Bp=function(w){var M=new aX(A.E.s,!0);M.k=y.aC;M.data={d:"stroke",apw:this.$M.Q()};
this.close();this.l(M)};cw.prototype.ZM=function(w,M){if(!this.HF){var O=aN.hx[aN.order.indexOf("FrFX")];
O=JSON.parse(O);this.$M.update(w,O);this.HF=!0}var O=this.$M.Q(),b=this.P4.Sw;O.Clr.v=x.M.jk({o:b>>16&255,w:b>>8&255,L:b&255});
this.$M.update(w,O)};cw.prototype.o9=function(w,M){this.P4=w};function kd(){bZ.call(this,[11,9],"textwarp");
this.v0=new gx;this.v0.h(A.E.r,this.LR,this);this.v0.parent=this;this.QO=R.S("div","form");this.QO.setAttribute("style","width:20em");
this.body.appendChild(this.QO);this.QO.appendChild(this.v0.lm.m);this.QO.appendChild(this.v0.wX.m);this.QO.appendChild(this.v0.im.m);
this.QO.appendChild(this.v0.GF.m);this.QO.appendChild(this.v0.Nw.m);this.Rl=R.M2(this,this.QO);this.h("closebtn",this.s1,this)}kd.prototype=new bZ;
kd.prototype.Xc=function(){return!0};kd.prototype.f=function(){bZ.prototype.f.call(this);this.Rl.f();
this.v0.f()};kd.prototype.LR=function(w){var M=this.v0.Q();this.pZ({d:"warp",vL:M})};kd.prototype.pZ=function(w){var M=new aX(A.E.s,!0);
M.k=y.hY;M.data=w;M.Hb=!0;this.l(M)};kd.prototype.s1=function(w){this.pZ({d:"warpCancel"})};kd.prototype.Bp=function(w){this.pZ({d:"warpConfirm"});
this.close()};kd.prototype.ZM=function(w,M){var O=w.B[w.g[0]];this.v0.b(O.add.TySh.TY)};function aO(){bZ.call(this,[11,12,0],"trim");
var w=this.QO=R.S("div","form");this.QO.setAttribute("style","width:22em");this.body.appendChild(this.QO);
var M=new as("Color To Trim:");w.appendChild(M.m);this.fv=new cE(null,["Top Left Pixel Color","Bottom Right Pixel Color",[13,1,9]],null,null,!0);
this.fv.b([!0]);this.QO.appendChild(this.fv.m);var M=new as("Sides:");w.appendChild(M.m);this.EB=new cE(null,["Top","Left","Bottom","Right"]);
this.EB.b([!0,!0,!0,!0]);this.QO.appendChild(this.EB.m);this.Rl=R.M2(this,this.body)}aO.prototype=new bZ;
aO.prototype.bT=function(w,M){return w!=null};aO.prototype.Xc=function(){return!0};aO.prototype.f=function(){bZ.prototype.f.call(this);
this.fv.f();this.EB.f();this.Rl.f()};aO.prototype.Bp=function(w){var M=this.fv.Q().indexOf(!0),O=this.EB.Q(),b=new aX(A.E.Lm,!0);
b.data=y.vz.uO(M,O);this.close();this.l(b)};function ea(){bZ.call(this,"Raw Photopea","rawpea");this.HY=null;
this.AN=null;this.body.style.padding="0";var w=this.T4=new _["Adobe Camera Raw Filter"](!0),M="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.body.appendChild(w.m);this.Rl=new i8([1,0],!0,null,!0);this.Rl.h("click",this.Bp,this);this.r4=new i8(M+" JPG",!0,null,!0);
this.r4.h("click",this.asP,this);this.r4.m.style.marginTop="6px";w.M_(this.Rl.m);w.M_(this.r4.m)}ea.prototype=new bZ;
ea.prototype.xR=function(){return new at(0,0)};ea.prototype.nQ=function(w,M){this.T4.nQ(w,M)};ea.prototype.f=function(){bZ.prototype.f.call(this);
this.T4.f()};ea.prototype.asP=function(w){var M=this.HY,O=this.AN,b=ce.ti("JPG").WV([[this.T4.Q(!0).buffer]],O._g,O.XE,[85]),D=new aX(A.E.Z,!0);
D.data={d:A.t.PD,data:b,name:"photo.jpg"};this.l(D)};ea.prototype.Bp=function(w){var M=this.HY,O=this.AN,b=e8.dx(M),M={fJ:new cn(0,0,O._g,O.XE),data:this.T4.Q(!0).buffer,At:b},D=ce.B2("Raw Photo",[M]),o=new aX(A.E.Z,!0);
o.data={d:A.t.$s,_t:D};this.l(o);this.bv();this.close()};ea.prototype.bv=function(){this.HY=null;this.AN=null;
this.T4.agB()};ea.prototype.ZM=function(w,M,O,b){this.HY=M.cB;var D=this.AN=x.raw.awp(this.HY),o=x.raw.acU(M.cB),Z=fK.CM(o);
x.raw.BX(D.AJ,D.AJ,M.cB,[Z.Ph,Z.Ut]);var $=ek.pp("Adobe Camera Raw Filter");this.T4.b($,D.AJ,new cn(0,0,D._g,D.XE))};
function gw(w){bZ.call(this,w?[11,11,0]:[11,11,1],w?"vbitmap":"rcolors");this.ha=null;this.wd=null;this.JH=null;
this.cE=null;this.AP=null;this.aiQ=null;this.g3=null;this.z7="";this.Cd=w;this.bD=this.My.bind(this);
this.rz=!1;this.body.style.padding="0";this.QO=R.S("div","form hbar padded");this.body.appendChild(this.QO);
var M=this.Yz={cnum:new gL([12,82],2,50,null),nois:new ji([12,81]),mode:new ao(null,["Cartoon","Photo"]),segm:new ji("Segmentize"),poly:new ji("Polygon"),merg:new ji("Merge colors"),polE:new gL("Roughness",2,30,null),dthr:new ji([12,23,3]),ok:R.M2(this,null,!1)},o=16;
for(var O in M){var b=M[O];b.parent=this;if(O!="ok")b.h(A.E.r,this.My,this)}var D=this.HQ=R.S("div","flexrow");
this.body.appendChild(D);D.setAttribute("style","background-color:var(--bg-canvas)");this.GH=new jw;
this.GH.h("viewchange",this.ga,this);this.em=new jw;this.U=R.S("canvas");this.U.setAttribute("style","margin:0 0 0 1px; padding:0; cursor:grab;");
this.Mn=this.U.getContext("2d");var Z=x.$(16*16*4);x.zp(Z,o,o,8);this.Il=x.scale.o2(Z,o,o);this.GH.ado(this.U);
this.GH.uR(this.em);this.em.uR(this.GH);D.appendChild(this.GH.m);if(w)D.appendChild(this.U);else D.appendChild(this.em.m)}gw.prototype=new bZ;
gw.prototype.xR=function(){return new at(0,0)};gw.prototype.Xc=function(){return!0};gw.prototype.nQ=function(w,M){this.jy=w;
this.e3=M;M=M-44;if(w<600)M-=29;if(this.ha==null)return;var O=this.ha.fJ,b=cG.anW(w,M,O.e,O.n);if(b==1)M-=3;
if(b==0){w=Math.floor(w/2);R.rV(this.HQ,"flexrow")}else{M=Math.floor(M/2);R.Y4(this.HQ,"flexrow")}R.GL(this.U,w,M);
this.GH.nQ(w,M);if(this.Cd)this.ga();else this.em.nQ(w,M)};gw.prototype.$m=function(w,M,O,b){this.GH.$m(b)};
gw.prototype.f=function(){bZ.prototype.f.call(this);for(var w in this.Yz)this.Yz[w].f()};gw.prototype.ZM=function(w,M){this.g3=w;
this.AP=null;var O=w.B[w.g[0]],b=x.ze.OB(O.buffer.buffer,O.rect.e,O.rect.n).aw_,D=b/((O.rect.e-2)*(O.rect.n-2)),o=this.Yz;
o.cnum.b(20);o.nois.b(D<.75);o.mode.b(D<.75?1:0);o.segm.b(!1);o.poly.b(!1);o.merg.b(!0);o.polE.b(1);
o.dthr.b(!1);var Z=O.rect.clone();Z.x=Z.y=0;this.ha={fJ:Z,data:O.buffer.buffer.slice(0)};this.wd=null;
this.nQ(this.jy,this.e3);this.GH.b([this.ha]);this.GH.ss();this.rz=!0;setTimeout(this.bD,20)};gw.prototype.My=function(){var w=!0,M=Date.now(),O=this.ha,b=this.Yz,D=b.cnum.Q(),o=b.nois.Q(),Z=b.mode.Q(),$=b.segm.Q(),k=b.poly.Q(),E=b.merg.Q(),t=b.polE.Q(),F=null;
if(Z==0)$=k=!1;var c=b.dthr.Q(),l=["cnum","nois","mode"];if(Z==1){l.push("segm");if(this.Cd){l.push("poly");
if(k)l.push("polE")}}if(this.Cd)l.push("merg");else l.push("dthr");l.push("ok");R.Mh(this.QO);for(var U=0;
U<l.length;U++)this.QO.appendChild(b[l[U]].m);if(w)console.log("---------------------------------------");
var q=o||$,d=o+","+$;if(q&&(this.wd==null||this.z7!=d)){this.z7=d;var V=new Uint8Array(O.data),L=O.fJ.e,e=O.fJ.n;
if(o){if(this.AP==null){this.AP=V.slice(0);x.Zy.We(this.AP,this.AP,L,e,15,x.Zy.Ln,[35]);if(w){console.log("denoise",Date.now()-M);
M=Date.now()}}V=this.AP.slice(0)}else V=V.slice(0);if($){var H=x.ze.b6(V,L,e,40,10),j=H.zf,g=new Uint8Array(j*4);
for(var U=0;U<j;U++){var K=U*4,a=U*6,T=1/H.XM[a+5];g[K]=H.XM[a]*T;g[K+1]=H.XM[a+1]*T;g[K+2]=H.XM[a+2]*T}for(var U=0;
U<V.length;U+=4){var C=H.vC[U>>>2]*4;V[U]=g[C];V[U+1]=g[C+1];V[U+2]=g[C+2]}if(w){console.log("segm",Date.now()-M);
M=Date.now()}}this.wd={fJ:O.fJ.clone(),data:V.buffer}}if(q)O=this.wd;var V=new Uint8Array(O.data),L=O.fJ.e,e=O.fJ.n;
for(var U=0;U<V.length;U+=4){if(V[U+3]<10)V[U]=V[U+1]=V[U+2]=V[U+3]=0}if(Z==0){F=x.ze.ab3(V,L,e,D,q?.1:2e-4);
if(w){console.log("quantize",Date.now()-M);M=Date.now()}}if(Z!=0||F&&F.yD.length<2){F=gM.apm(V.buffer,D,L,e)}if(this.Cd){var m=F.vC.slice(0);
for(var U=0;U<m.length;U++)m[U]++;var N=new Uint8Array((L+2)*(e+2));x.CV(m,new cn(1,1,L,e),N,new cn(0,0,L+2,e+2));
if(!k){var v=Math.round((L+2)*(e+2)/1e4),h=iL.Qk(N.slice(0),L+2,e+2,Math.min(12,v)),P=iL.ff(h);if(w){console.log("trace smooth",Date.now()-M);
M=Date.now()}}else{var P=x.p.Sh(N,L+2,e+2,t,w)}var J=P.length,Y=new f$(1,0,0,1,-1,-1);for(var U=0;U<J;
U++)x.p.F(P[U].path.C,Y,P[U].path.C);this.cE=P;this.JH=F;for(var U=0;U<J;U++){var B=P[U];for(var S=U+1;
S<J;S++){var r=P[S];if(r.parent==U&&F.yD[r.color-1].est.q[3]<.05){var I=r.path.H.slice(1);I.reverse();
I=["M"].concat(I);var f=[],h=r.path.C.length;for(var s=0;s<h;s+=2){f[s]=r.path.C[h-2-s];f[s+1]=r.path.C[h-2-s+1]}x.p.concat(B.path,{C:f,H:I})}}}if(w){console.log("finding holes",Date.now()-M);
M=Date.now()}for(var U=0;U<P.length;U++){var W=P[U];if(W.parent!=-1){var i=P[W.parent];W.parent=i;if(i.NO==null)i.NO=[];
i.NO.push(W)}W.depth=W.parent==-1?0:W.parent.depth+1}if(E){function u(iQ,g_){var bx={},aR=0,gs=0;for(var U=0;
U<iQ.length;U++){var p=iQ[U].color,s="c"+p;if(p==g_)throw p;if(bx[s]==null)bx[s]=0;bx[s]++;if(bx[s]>aR){aR=bx[s];
gs=p}}return gs}var z=[],G=[],g_=-1,cl=!0;for(var U=0;U<P.length;U++)if(P[U].parent==-1)G.push(P[U]);
while(G.length!=0){var p=u(G,g_);g_=p;for(var U=0;U<G.length;U++)if(G[U].color==p){var b2=G[U];z.push(b2);
G.splice(U,1);U--;if(b2.NO)for(var S=0;S<b2.NO.length;S++){G.push(b2.NO[S]);if(b2.NO[S].color!=p)cl=!1}}}if(cl)P=z;
else{var jz=[];for(var aT=0;aT<500;aT++){var fZ=[],h=jz[aT-1];jz.push(fZ);for(var U=0;U<P.length;U++){var W=P[U],i=W.parent;
if(aT==0&&i==-1||aT!=0&&h.indexOf(i)!=-1){fZ.push(W);P.splice(U,1);U--}}fZ.sort(function(iQ,bx){return iQ.color-bx.color});
if(P.length==0)break}for(var U=0;U<jz.length;U++)P=P.concat(jz[U])}}else{var z=[],ft=[];while(P.length!=0){ft.push(P.shift());
while(ft.length!=0){var cc=ft.pop();z.push(cc);if(cc.NO)for(var U=0;U<cc.NO.length;U++){var W=cc.NO[U];
P.splice(P.indexOf(W),1);ft.push(W)}}}P=z}this.cE=P;for(var U=0;U<P.length;U++){var B=P[U],kr=F.yD[B.color-1].est.q;
if(kr[3]<=.05){P.splice(U,1);U--;continue}}for(var U=1;U<P.length;U++){var hG=P[U-1],B=P[U];if(hG.color==B.color&&(E||hG.parent==B.parent&&hG.depth>=2)){x.p.concat(hG.path,B.path);
P.splice(U,1);U--;continue}}if(w){console.log("reordering layers",Date.now()-M,J,P.length);M=Date.now()}this.ga()}else{var hi=new Uint32Array(L*e),bU=L*e;
if(c){var ic=[];for(var U=0;U<F.yD.length;U++)ic.push(F.yD[U].est.rgba);var C=x.$(L*e);UPNG.encode.dither(new Uint8Array(O.data),L,e,ic,new Uint8Array(hi.buffer),C)}else{for(var U=0;
U<bU;U++){var p=F.yD[F.vC[U]];hi[U]=p.est.rgba}}this.aiQ=new Uint8Array(hi.buffer);this.em.b([{fJ:O.fJ,data:hi.buffer}]);
if(this.rz){this.em.ss();this.rz=!1}}};gw.prototype.ga=function(w){if(this.cE==null)return;var M=this.ha.fJ.e,O=this.ha.fJ.n,b=this.cE,D=this.JH.yD,o=this.U,Z=this.Mn,$=this.GH.yx();
Z.setTransform(1,0,0,1,0,0);Z.clearRect(0,0,o.width,o.height);Z.translate(o.width/2,o.height/2);Z.scale($.T,$.T);
Z.translate($.z.x/$.T-M/2,$.z.y/$.T-O/2);Z.scale(1/$.T,1/$.T);Z.fillStyle=this.Il;Z.fillRect(0,0,M*$.T,O*$.T);
Z.scale($.T,$.T);var k=[];for(var U=0;U<D.length;U++){var E=D[U].est.q;k.push({o:Math.round(255*E[0]),w:Math.round(255*E[1]),L:Math.round(255*E[2]),ip:Math.round(255*E[3])})}for(var U=0;
U<b.length;U++){var t=b[U],E=k[t.color-1];if(E.ip==0)continue;Z.fillStyle="rgba("+E.o+","+E.w+","+E.L+","+E.ip/255+")";
Z.beginPath();Typr.U.pathToContext({crds:t.path.C,cmds:t.path.H},Z);Z.fill()}};gw.prototype.Bp=function(w){var M=this.g3,O=M.g[0],b=M.B[O],D=new aX(A.E.s,!0);
D.Hb=!0;D.k=y.YH;if(this.Cd){var o=this.cE,Z=o.length==1,$=M.B.slice(0,O);if(!Z)$.push(M.iB());for(var U=0;
U<o.length;U++){var k=o[U],E=this.JH.yD[k.color-1].est.q;x.p.F(k.path.C,new f$(1,0,0,1,b.rect.x,b.rect.y),k.path.C);
var t=M.uV();t.EJ("Path "+U);$.push(t);t.opacity=Math.round(E[3]*255);t.N7|=16;t.add.SoCo={classID:"null",Clr:{t:"Objc",v:x.M.jk({o:255*E[0],w:255*E[1],L:255*E[2]})}};
t.add.vmsk=new Q.G6;t.add.vstk=JSON.parse(JSON.stringify(aN.d_.default));t.add.vmsk.j=x.p.aG(k.path,!1);
t.add.vogk=[];t.De();t.h1(M)}var c=$[$.length-1];if(!Z){var t=M.uV();t.EJ(b.getName());t.add.lsct=ht.cx;
t.eI="pass";t.N7=24;$.push(t);c=t}var l=b.add.lmfx;if(l)c.add.lmfx=JSON.parse(JSON.stringify(l));for(var U=O+1;
U<M.B.length;U++)$.push(M.B[U]);D.data={d:Q.cw,Q6:$,$X:[O+o.length+(Z?-1:1)],vZ:[11,11,0]}}else{var $=M.B.slice(0),t=M.uV();
t.EJ(b.getName());$.splice(M.g[0]+1,0,t);t.rect=b.rect.clone();t.buffer=this.aiQ;t.K();D.data={d:Q.cw,Q6:$,$X:[M.g[0]+1],vZ:[11,11,1]}}this.l(D);
this.close()};function cG(w){bZ.call(this,[[7,11],[7,13]][w],["redge","magiccut"][w]);this.fv=w;this.ha={};
this.a0=null;this.ND=null;this.g3=null;this.If=null;this.ba=null;this.body.style.padding="0";this.Ug=[];
this.am=-1;this.QO=R.S("div","form hbar padded");this.body.appendChild(this.QO);this.jo=new jc;this.jo.parent=this;
this.jo.h(A.E.r,this.lI,this);this.QO.appendChild(this.jo.m);var M=w==0?["#ffffff","#888888","#000000"]:["#00dd00","#888888","#ff0000"];
M=M.concat("tools/hand","zoomIn","zoomOut");var O=w==0?[[12,45],"Unknown",[12,46]]:[[12,45],"Erase",[12,46]];
this.DU=new hz(null,M,O,28);this.DU.h(A.E.r,this.$m,this);this.QO.appendChild(this.DU.m);this.p8=new gL([7,9],0,50,null);
this.p8.parent=this;this.p8.h(A.E.r,[this.aib,this.My][w],this);this.QO.appendChild(this.p8.m);var b=this.adw=new i8([2,2],!1,null,!0);
b.h("click",this.bv,this);this.QO.appendChild(b.m);var D=this.iY=R.S("span","form");this.QO.appendChild(D);
var o=this.avY=new i8([12,90],!1,null,!0);o.h("click",function(k){alert(w==0?fr.get([15,7,1]):"Mark the object with Green, background with Red. Two colors should never touch.",5e3)},this);
D.appendChild(o.m);var Z=new i8("Tutorial",!1,null,!0);Z.h("click",this.ahq,this);D.appendChild(Z.m);
this.iM=new hz([12,46],["checker","#ffffff","#000000"]);this.iM.h(A.E.r,this.a7p,this);D.appendChild(this.iM.m);
this.Jw=new ao(null,[[6,13],[6,2],[17,2]]);D.appendChild(this.Jw.m);this.Rl=R.M2(this,D,!1);var $=this.HQ=R.S("div","flexrow");
this.body.appendChild($);this.Kv=new jw(!0);this.sF=new jw;this.Kv.uR(this.sF);this.sF.uR(this.Kv);this.Kv.h("mousedown",this.pu,this);
this.Kv.h("mousemove",this.xL,this);this.Kv.h("mouseup",this.hN,this);this.Kv.h("zoom",this.lI,this);
this.sF.h("zoom",this.lI,this);$.appendChild(this.Kv.m);$.appendChild(this.sF.m)}cG.prototype=new bZ;
cG.prototype.bT=function(w,M){var O=w!=null&&!w.B[w.g[0]].rect.S9();if(!O)alert("The layer is empty.");
return O};cG.prototype.xR=function(){return new at(0,0)};cG.prototype.Xc=function(){return!0};cG.prototype.nQ=function(w,M){this.jy=w;
this.e3=M;M=M-12-33;if(w<900){this.iY.setAttribute("style","display:block;  text-align:right;");M-=29}else{this.iY.setAttribute("style","position:absolute;  right:0px")}this.iM.RD(w<440?null:[12,46]);
this.p8.RD(w<470?null:[7,9]);var O=this.ha.rect;if(O){var b=cG.anW(w,M,O.e,O.n);if(b==0){w=Math.floor(w/2);
R.rV(this.HQ,"flexrow")}else{M=Math.floor(M/2);R.Y4(this.HQ,"flexrow")}this.Kv.nQ(w,M);this.sF.nQ(w,M)}};
cG.anW=function(w,M,O,b){var D=w/2,o=M/2,Z=Math.min(D/O,M/b),$=Math.min(w/O,o/b);return Z>$?0:1};cG.prototype.f=function(){bZ.prototype.f.call(this);
this.jo.f();this.p8.f();this.Rl.f();this.iM.f();this.Jw.f();this.adw.f();this.avY.f()};cG.prototype.ahq=function(w){window.open("//www.photopea.com/"+["learn/refine-edge","tuts/magic-cut-remove-image-background-online"][this.fv],"_blank")};
cG.prototype.o9=function(w,M){this.ND=w;if(M==eM.rq||M==eM.vI){this.jo.jX(w.BV);this.jo.b(b6.dd(),w.BV.eg,w.BV.ow)}};
cG.prototype.$m=function(w,M,O,b){var D=this.DU.Q();if(b==null){this.Kv.$m(jw.aao(D-3));return}this.If=b;
var o=y.fV.V3(this.jo.Q(),b);if(o!=null){this.jo.b(o);this.lI()}else if(b.i(i_.v9)&&b.i(i_.sy)){var Z=this.Ug,$=0;
if(b.i(i_.Z4)){if(this.am+1<Z.length)$=1}else if(this.am>0)$=-1;if($!=0){this.am+=$;var k=this.am,E=this.ha;
if($==1)x.xu(Z[k][2],Z[k][0],E.Hs,E.rect);else x.xu(Z[k+1][1],Z[k+1][0],E.Hs,E.rect);E.Si=E.rect;this.My()}}else if(D<3)this.Kv.$m(b)};
cG.prototype.Yh=function(w){var M=this.ha,O=this.Ug,b=x.$(w.v()*4);x.xu(M.kT,M.rect,b,w);M.kT=null;var D=x.$(w.v()*4);
x.xu(M.Hs,M.rect,D,w);this.am++;O[this.am]=[w.clone(),b,D];while(O.length>this.am+1)O.pop();while(O.length>50){O=O.slice(1);
this.am--}};cG.prototype.lI=function(){var w=this.ND,M=i$.Rc(this.jo.Q(),w.BV.eg,this.Kv.yx().T);this.Kv.up(M)};
cG.prototype.pu=function(w){var M=this.ND,O=this.ha,b=this.If,D=this.jo.Q(),o=this.Kv.o8(),Z=[16777215,8421504,0][this.DU.Q()];
this.a0=new i$(D,M.BV.eg,M.BV.ow,{uX:1,A0:!0},Z,M.fj,O.rect);O.kT=O.Hs.slice(0);if(b!=null&&b.i(i_.Z4)&&this.ba){this.a0.moveTo(this.ba.x,this.ba.y);
this.a0.lineTo(o.x,o.y)}else this.a0.moveTo(o.x,o.y);this.asN()};cG.prototype.xL=function(w){var M=this.ha,O=this.Kv.o8();
this.a0.lineTo(O.x,O.y);this.asN()};cG.prototype.hN=function(w){this.ba=this.Kv.o8();this.Yh(this.a0.IH());
this.My()};cG.prototype.asN=function(){var w=this.ha,M=this.a0,O=M.Ny();if(O.S9())return;w.Si=O;x.a.DP("norm",M.Mg(),M.HW(),w.Hs,w.rect,O,1);
this.aq5()};cG.prototype.bv=function(w){var M=this.ha;M.kT=M.Hs.slice(0);M.Si=M.rect;x.TZ(M.Hs,[4278190080,4292730333][this.fv]);
this.Yh(M.rect);this.My()};cG.prototype.ZM=function(w,M){this.g3=w;var O=w.B[w.g[0]],b=O.rect.clone(),D=b.e,o=b.n;
this.p8.b(this.fv==0?3:D*o<3e6?3:0);this.DU.b(w.X==null?0:1);this.p8.Sq();if(this.fv==0&&w.X!=null||this.fv==1)this.p8._C();
var Z=this.fv,$=x.$(b.v()),k=new Float32Array(b.v());if(Z==0&&w.X){x.CV(w.X.channel,w.X.rect,$,b);var E=x.$(b.v());
for(var t=0;t<o;t++)for(var c=0;c<D;c++){var U=t*D+c,l=$[U];if(c>0&&$[U-1]!=l||c<D-1&&$[U+1]!=l||t>0&&$[U-D]!=l||t<o-1&&$[U+D]!=l)E[U]=255}x.style.A$(E,k,D,o)}else k.fill(1e9);
b.x=b.y=0;this.ha={rect:b,AJ:O.buffer,jP:$,BY:k,ed:x.$(b.v()*4),wn:x.$(b.v()*4),Hs:x.$(b.v()*4),kT:null,K6:null,Si:b,anD:{}};
if(Z==0)this.aib();else{this.ha.anD=y.a3.avw(w);var q=this.ha.Hs;x.TZ(q,4287137928);var d=x.wo.getSelection(O.buffer,D,o),V=Math.round(D/60),L=Math.round(.7*o);
for(var t=0;t<o;t++)for(var c=0;c<D;c++){var e=(t*D+c)*4,H=d[e>>>2];H=H>128?255:128;if(t<V||t<L&&(c<V||c>D-1-V))H=0;
q[e]=q[e+1]=q[e+2]=H}this.My()}this.Ug=[1];this.am=0;var j=this.jo.Q();j.Brsh.v.Dmtr.v.val=Math.round(b.e/(Z==0?10:20));
this.jo.b(j);this.lI();this.nQ(this.jy,this.e3);this.Kv.ss()};cG.prototype.aib=function(){var w=this.ha,M=w.rect.v(),O=this.p8.Q(),b=w.jP.slice(0);
for(var U=0;U<M;U++)if(w.BY[U]<O)b[U]=128;x.TZ(w.Hs,4294967295);x.Jm(b,w.Hs,0);x.Jm(b,w.Hs,1);x.Jm(b,w.Hs,2);
w.Si=w.rect;this.My()};cG.prototype.My=function(){var w=this.ha,D,$,k=0,E=0,t=0;this.aq5();var M=w.rect,O=M.e,b=M.n,o=x.$(M.v()),Z=w.AJ;
x.Oj(w.Hs,o,0);for(var U=0;U<o.length;U++){if(Z[(U<<2)+3]!=255)continue;var c=o[U];if(c==0)k++;else if(c==255)E++;
else t++}if(k*E*t!=0){if(this.fv==0)$=x._G._G(M,Z,o);else{var l=this.DU.Q();for(var q=1;q<b;q++)for(var d=1;
d<O;d++){var U=q*O+d,V=o[U],L=o[U-1];if(V==0&&L==255||V==255&&L==0){D="The Red and Green should never touch! Erase it with Grey.";
break}}var e=Date.now(),H=this.ha.anD;x.U7(o,H.qj);y.a3.vv(H,!0);var j=Math.ceil(this.p8.Q()/2);if(j==0){$=Z.slice(0);
x.Jm(H.X,$,3)}else{var g=H.X.slice(0),K=H.X.slice(0);for(var a=0;a<j;a++){for(var q=1;q<b-1;q++)for(var d=1;
d<O-1;d++){var U=q*M.e+d,T=g[U];if(g[U-O]!=T||g[U-1]!=T||g[U+1]!=T||g[U+O]!=T)K[U]=128;else K[U]=T}var C=g;
g=K;K=C}$=x._G._G(M,Z,g,20,!1)}}}else{$=Z.slice(0);x.Jm(o,$,3)}for(var U=3;U<$.length;U+=4)if($[U]>Z[U])$[U]=Z[U];
if(M.M5(w.rect))w.K6=$;else x.xu($,M,w.K6,w.rect);this.a7p();if(D)alert(D,4e3)};cG.prototype.aq5=function(w){var M=this.ha,O=M.Si;
x.xu(M.AJ,M.rect,M.ed,M.rect,O,!0);var b=M.Hs;if(this.fv==1){var D=new Uint32Array(256);D[0]=4278190335;
D[255]=4278255360;var o=M.rect.v();b=b.slice(0);var Z=new Uint32Array(b.buffer);for(var U=0;U<o;U+=2){Z[U]=D[Z[U]&255];
Z[U+1]=D[Z[U+1]&255]}}x.a.DP("norm",b,M.rect,M.ed,M.rect,O,.3);this.Kv.b([{fJ:M.rect,data:M.ed.buffer}])};
cG.prototype.a7p=function(w){var M=this.ha;x.TZ(M.wn,[0,4294967295,4278190080][this.iM.Q()]);x.a.DP("norm",M.K6,M.rect,M.wn,M.rect,M.rect,1);
this.sF.b([{fJ:M.rect,data:M.wn.buffer}])};cG.prototype.Bp=function(w){var M=this.g3,O=this.ha,b=this.Jw.Q(),D=M.B[M.g[0]],o=new aX(A.E.s,!0);
o.Hb=!0;var Z=D.rect.clone();if(b==0&&D.Vd()||b!=0&&!D.Vd()){o.k=y.YH;o.data={d:Q.sb,q:M.g[0]};this.l(o)}if(M.X!=null){o.k=y.P$;
o.data={d:"fromAction",Ci:y.wk.Nf()};this.l(o)}if(b==0){var $=M.B.slice(0),k=M.uV();k.EJ(D.getName());
$.splice(M.g[0]+1,0,k);k.rect=Z;k.buffer=O.K6;k.K();o.k=y.YH;o.data={d:Q.cw,Q6:$,$X:[M.g[0]+1],vZ:[7,11]};
this.l(o)}if(b==1){var E=D.yo();o.k=y.YH;o.data={d:Q.oT,a5H:!0};this.l(o);var t=D.yo();t.channel=x.$(Z.v());
t.rect=Z;t.color=0;t.iD=!0;x.Oj(O.K6,t.channel,3);if(E){var c=t.H9(E);t.rect=c.rect;t.channel=c.channel;
t.color=c.color}t.Sr();D.h1()}if(b==2){var l={rect:Z,channel:x.$(Z.v())};x.Oj(O.K6,l.channel,3);o.k=y.P$;
o.data={d:"setsel",X:l,vZ:this.e6};this.l(o)}this.close()};function bX(){bZ.call(this,[1,13],"locstor");
this.P4=null;this.tU=[];var w=this.body,M=R.S("p");M.textContent="These files are loaded every time you start Photopea.";
w.appendChild(M);this.a4g=0;this.wO=R.S("span");w.appendChild(this.wO);this.wO.setAttribute("style","display:inline-block;  width:12em;  font-weight:bold;");
var O=R.S("span","form");w.appendChild(O);this.R0=new i8([5,4],!1,null,!0);this.R0.h("click",this.E4,this);
O.appendChild(this.R0.m);this.a3m=new i8("Get all as ZIP",!1,null,!0);this.a3m.h("click",this.T8,this);
O.appendChild(this.a3m.m);this.lU=new fL(!0);this.lU.parent=this;this.lU.C1(1);w.appendChild(this.lU.m);
this.lU.m.setAttribute("style","width: 40em; height: 25em")}bX.prototype=new bZ;bX.prototype.f=function(){bZ.prototype.f.call(this);
this.wO.textContent=fr.get([13,2])+": "+kh.AE(this.a4g);this.R0.f()};bX.prototype.o9=function(w,M){this.P4=w;
if(M==eM.tn)this.ZM()};bX.prototype.ZM=function(w,M){var O=this.P4.rH.PN,k=0;this.tU=[];for(var b in O)this.tU.push(b);
this.tU.sort(function(t,c){t=t.split(".");c=c.split(".");return t[1]==c[1]?t[0]<c[0]?-1:1:t[1]<c[1]?-1:1});
var D=Math.floor(100*R.V()),o=Math.floor(16*R.V()),Z=[],$=[];for(var U=0;U<this.tU.length;U++){var b=this.tU[U],E=bX.Td(b,O[b],D,o);
Z.push(E);$.push(b);k+=O[b].byteLength}this.lU.Uw(Z,$,D,o);this.a4g=k;this.f()};bX.prototype.E4=function(w){var M=this.lU.Q();
if(M.length==0){alert("Select a file first.");return}this.lU.b([]);var O=this.P4.rH.PN;for(var U=0;U<M.length;
U++)delete O[this.tU[M[U]]];var b=new aX(A.E.Z,!0);b.data={d:A.t.pF,I8:eM.tn};this.l(b)};bX.prototype.T8=function(w){var M=this.P4.rH.PN,O={};
for(var b in M)O[b]=new Uint8Array(M[b]);var D=UZIP.encode(O);kl.save(D,"resources.zip")};bX.Td=function(w,M,O,b){var D=R.S("canvas"),$=0;
D.width=O;D.height=b;var o=D.getContext("2d"),Z=w.split(".").pop().toLowerCase();for(var U=0;U<Z.length;
U++)$+=Z.charCodeAt(U)*613<<8*U;o.fillStyle="#"+x.zZ($&16777215);o.fillRect(0,0,20,b);var k=Math.floor(14*R.V());
o.fillStyle="#000000";o.font="bold "+k+"px sans-serif";var E=(b-k)/2,t=kh.AE(M.byteLength),c=o.measureText(t);
o.fillText(t,O-12-c.width,b-E);return D.toDataURL()};function c2(){bZ.call(this,[1,15],"pmanager");this.P4=null;
this.tR=new ao([12,44],[[9,3],[12,37],[12,62],[11,6],[12,77],[12,21]]);this.tR.h(A.E.r,this.ZM,this);
this.body.appendChild(this.tR.m);var w=R.S("div","flexrow");this.body.appendChild(w);var M=this.aqf=R.S("div");
w.appendChild(M);var O=R.S("div","form");w.appendChild(O);O.setAttribute("style","width:140px; margin-left:12px");
this.are=[eM.rq,eM.pB,eM.ab,eM.$i,eM.AX,eM.dZ];this.no=[new jc,new be,new g9,new a2,new dX,new fX];for(var U=0;
U<this.no.length;U++)this.no[U].parent=this;this.ui=[];for(var U=0;U<4;U++){var b=new i8("Hello",!0,null,!0);
b.h("click",this.K_,this);this.ui.push(b);O.appendChild(b.m)}this.ZM()}c2.prototype=new bZ;c2.prototype.FX=function(w){return w==i_.wu||w==i_.iF};
c2.prototype.K_=function(w){var U=this.ui.indexOf(w.target);this.no[this.tR.Q()].s0(U)};c2.prototype.f=function(){bZ.prototype.f.call(this);
this.tR.f();for(var U=0;U<this.no.length;U++)this.no[U].f();var w=this.ui,M=this.tR.Q(),O=eM.Ru[this.are[M]],b=O[0].toUpperCase();
w[0].RD([[23,6],"."+b]);w[1].RD(["VAR0 ."+b,[1,8]]);w[2].RD([6,37]);w[3].RD([5,4])};c2.prototype.o9=function(w,M){this.P4=w;
this.ZM()};c2.prototype.ZM=function(w,M){if(!R.FP(this.m))return;this.f();R.Mh(this.aqf);this.aqf.appendChild(this.no[this.tR.Q()].V8);
var O=this.no,b=this.P4;if(b==null)return;O[0].jX(b.BV);O[1].sx(b.Sw,b.fj);O[1].jX(b.t0);O[2].jX(b.SQ);
O[3].jX([b.CB,b.SQ]);O[4].jX(b.E9);O[5].jX(b.QK)};function dt(w,M,O){bZ.call(this,M,"cwindow");this.afR=new at(O[0],O[1]-33);
this.QO=R.S("div","form");this.QO.setAttribute("style","width:"+(O[2]-O[0])+"px; height:"+(O[3]-O[1])+"px");
this.body.appendChild(this.QO)}dt.prototype=new bZ;dt.prototype.xR=function(w,M){return this.afR.clone()};
function hD(){bZ.call(this,["PSD VAR0",[25,0]],"templates");var w=this.aak.bind(this);window.addEventListener("message",function(M){if(typeof M.data=="string"&&M.data.startsWith("--et ")){var O=this.apX=M.data.slice(5).split(",");
O[0]=parseFloat(O[0]);fl.CH(O[0],O[1],w)}}.bind(this));this.agW=null;this.q8=null;this.yE=0;this.Nh=null;
this._X=null;this.apX=null;this.body.setAttribute("style","padding:0");this.MN=new i8("Add Templates",null,null,!0);
this.body.appendChild(this.MN.m);this.MN.h("click",this.y$,this);this.MN.m.setAttribute("style","position:absolute; margin-top: -28px;  margin-left:150px");
this.a1j=new i8("New Template",null,null,!0);this.a1j.h("click",this.a8c,this);this.aiH=new i8("Upload Current Document as a Template",null,null,!0);
this.aiH.h("click",this.a6M,this);this.Nl=new d8("Creator / Brand name");this.o7=new i8([1,2],null,null,!0);
this.o7.h("click",this.a0r,this);this.W8=R.S("iframe","scrollable");this.W8.setAttribute("style","border:none; margin:0; padding:0;");
this.g4=R.S("div","form scrollable padded");this.GQ=new j3;this.GQ.h("back",this.bv,this);this.GQ.h("save",this.atx,this);
this.body.appendChild(this.W8)}hD.prototype=new bZ;hD.prototype.aak=function(w){this.y$();this._X=JSON.parse(w.target.response);
this.zW()};hD.prototype.a0r=function(w){var M=fl.lW();if(M.tpl==null)M.tpl={};M.tpl.brnd=this.Nl.Q().trim();
fl.fy(M,function(){alert("Saved.")})};hD.prototype.xR=function(w,M){return new at(0,0)};hD.prototype.nQ=function(w,M){this.jy=w;
this.e3=M;this.sT=null;M=M-4;w=w;var O=this.g4;O.style.width=w-12+"px";O.style.height=M-12+"px";var O=this.GQ.m;
O.style.width=w-12+"px";O.style.height=M-12+"px";var O=this.W8;O.style.width=w+"px";O.style.height=M+"px";
this.y7()};hD.prototype.f=function(){bZ.prototype.f.call(this)};hD.prototype.ZM=function(w,M,O,b){this.sT=w;
this.y$(null,!1)};hD.prototype.y$=function(w,M){var O=M!=null?M:R.FP(this.W8);if(O){if(!fl.iQ()){alert("You need to log in first!");
return}var b=fl.lW();this.q8=b.tpl?b.tpl.list:[];this.Nl.b(b.tpl&&b.tpl.brnd?b.tpl.brnd:fl.fS().name);
this.y7()}else{this.W8.setAttribute("src","");this.W8.setAttribute("src","templates")}this.body.removeChild(this.body.children[this.body.children.length-1]);
this.body.appendChild(O?this.g4:this.W8);this.MN.RD(O?"All Templates":"Add Templates")};hD.prototype.y7=function(){var w=this.q8,o=450;
if(w==null)return;var M=this.g4;R.Mh(M);var O=R.S("h1");M.appendChild(O);O.textContent="Share your PSD templates with the world!";
var b=R.S("ul");M.appendChild(b);var D=R.S("li");b.appendChild(D);D.textContent="By publishing your templates, you agree to let others use them for all kinds of purposes, even commercially.";
var D=R.S("li");b.appendChild(D);D.textContent="Users won't be able to download a PSD, they can only export a JPG or a PNG after editing.";
M.appendChild(this.a1j.m);M.appendChild(this.aiH.m);R.Ca(M);M.appendChild(this.Nl.m);M.appendChild(this.o7.m);
R.Ca(M);o=(this.jy-20)/Math.max(1,Math.floor(this.jy/o))-42;var Z="display:inline-block; width:"+o+"px; height:140px;  overflow:hidden; background-color:rgba(255,255,255,0.2);  margin:10px 20px 0px 0; line-height:1.5em; padding:10px;";
for(var U=w.length-1;U>=0;U--){var $=w[U],k=R.S("div");M.appendChild(k);k.setAttribute("style",Z);var E=R.S("img");
k.appendChild(E);E.setAttribute("src",$.thmb);E.setAttribute("style","float:left; height:10em; width:10em;  object-fit: contain; margin-right: 1em; margin-bottom:1em;");
var t=R.S("h3");k.appendChild(t);t.textContent=$.name;t.setAttribute("style","margin:0 0 10px 0");var c=R.S("p");
k.appendChild(c);c.textContent=$.desc;c.setAttribute("style","height:76px;  overflow:hidden; margin-bottom: 6px;");
for(var l=0;l<2;l++){var q=new i8(l==0?"Edit":"Delete",null,null,!0);q.a65=U;q.zW=l==0;q.h("click",this.a5n,this);
k.appendChild(q.m)}}};hD.prototype.a6M=function(w){if(this.sT==null){alert("No document opened.");return}var M=confirm("Your document will be uploaded to Photopea.com and a preview to Imgur.com. Proceed?");
if(!M)return;var O=new aX(A.E.Z,!0);O.data={d:A.t.Wu,cq:"psd",yV:this.api.bind(this)};this.l(O)};hD.prototype.api=function(w){this.agW=w;
var M=new aX(A.E.Z,!0);M.data={d:A.t.Wu,cq:"jpg",yV:this.afs.bind(this),a7K:1400};this.l(M)};hD.prototype.afs=function(w){this.Nh={catg:0,desc:"",file:this.agW.split("#i").pop(),name:this.sT.name.split(".")[0],thmb:w,publ:!0,utme:""};
this.zW()};hD.prototype.a8c=function(w){this.Nh={catg:0,desc:"",file:"",name:"",thmb:"",publ:!0,utme:""};
this.zW()};hD.prototype.a5n=function(w){this.yE=w.target.a65;if(!w.target.zW){if(!window.confirm("Are you sure you want to delete your template?"))return;
this.q8.splice(this.yE,1);this.T8();this.y7();return}this.zW()};hD.prototype.zW=function(){this.body.removeChild(this.g4);
this.body.appendChild(this.GQ.m);var w=this.Nh?this.Nh:this.q8[this.yE];if(this._X)w=this._X;this.GQ.b(w)};
hD.prototype.atx=function(w){var M=this.GQ.Q();if(this.Nh)this.q8.push(M);else if(this._X){var O=this.apX;
fl.CH(O[0],O[1],this.bv.bind(this),JSON.stringify(M));return}else this.q8[this.yE]=M;this.T8();this.bv()};
hD.prototype.bv=function(){var w=this._X;this.Nh=null;this._X=null;this.body.removeChild(this.GQ.m);
this.body.appendChild(this.g4);this.y7();if(w)this.y$()};hD.prototype.T8=function(){var w=fl.lW();if(this.q8.length==0)delete w.tpl;
else w.tpl={list:JSON.parse(JSON.stringify(this.q8))};fl.fy(w,function(){alert("Saved.")})};hD.hg={c0:"Mockups",c1:"Mobile & Web",c2:"Prints",c3:"Product",c10:"Social Media",c11:"Youtube",c12:"Instagram",c13:"Facebook",c14:"Memes",c15:"Signs",c16:"Animations",c20:"Print",c21:"Cards",c22:"Invitations",c23:"Brochures",c24:"Resumes",c25:"Diploma / Certificate",c30:"Mobile",c40:"Websites",c50:"Presentations",c60:"Other"};
function dQ(){bZ.call(this,"Make Selection","makesel");this.P4=null;var w=R.S("div","form");this.body.appendChild(w);
this.Og=new ji([12,25,1]);this.Og.b(!0);w.appendChild(this.Og.m);R.Ca(w);this.VV=new e6(!0);w.appendChild(this.VV.m);
this.Rl=R.M2(this,this.body)}dQ.prototype=new bZ;dQ.prototype.f=function(){bZ.prototype.f.call(this);
this.VV.f();this.Og.f();this.Rl.f()};dQ.prototype.Bp=function(w){var M=new aX(A.E.s,!0);M.k=y.P$;M.data={d:"frompath",vt:[null,0,this.VV.Q(),!this.Og.Q()]};
this.close();this.l(M)};function hX(){bZ.call(this,["VAR0 PSD/PSB",[1,2]],"savepsb");this.sT=null;this.eW=null;
this._z=null;var w=this.a9x=R.S("div","form");w.setAttribute("style","width:20em");this.body.appendChild(w);
this.dk=new il([12,50],["PSD","PSB"]);this.dk.h(A.E.r,this.rU,this);w.appendChild(this.dk.m);R.Y1(w);
var M=new as("Minify the file");w.appendChild(M.m);R.Ca(w);var O=["Blank preview image","ZIP for pixel data","Remove Smart Object pixels","Put the file into ZIP"];
this.Wl=[];for(var U=0;U<O.length;U++){var b=new ji(O[U]);this.Wl.push(b);w.appendChild(b.m);b.h(A.E.r,this.rU,this)}R.Y1(w);
this.RE=new as("aa.psd");this.kz=new as("10 kB");w.appendChild(this.kz.m);this.a69=new as("1000 B");
w.appendChild(this.a69.m);this.Rl=new i8([1,2],!0,null,!0);this.Rl.h("click",this.Bp,this);w.appendChild(this.Rl.m);
this.u4=new i8(["VAR0 (Google Drive)",[1,2]],!0,null,!0);this.u4.h("click",this.Bp,this);w.appendChild(this.u4.m);
this.h("closebtn",this.s1,this)}hX.prototype=new bZ;hX.prototype.ZM=function(w,M,O,b){var D=R.FP(this.u4.m),o=w.ME!=null&&w.ME._R=="psd";
if(o&&!D)this.a9x.appendChild(this.u4.m);if(!o&&D)this.a9x.removeChild(this.u4.m);for(var U=0;U<this.Wl.length;
U++)this.Wl[U].b(!1);this.sT=w;this.rU()};hX.prototype.Bp=function(w){if(w.target==this.Rl)kl.save(this.eW,this._z);
else{if(this.Wl[3].Q()){alert("You should not save a ZIP as a PSD to Google Drive.");return}aY.ati(this.sT,this.eW)}};
hX.prototype.s1=function(){this.sT=null;this.eW=null};hX.prototype.rU=function(){var w=this.sT,M=[!1,!1,!1,!1];
for(var U=0;U<3;U++)M[U]=this.Wl[U].Q();var O=this.Wl[3].Q(),b=M[3]=this.dk.Q()==1,D=w.name.slice(0,w.name.length-3),o=this.eW=ce.ti("PSD").WV(w,0,0,M),aq=this._z=D+"ps"+(b?"b":"d");
if(O){var Z={};Z[aq]=new Uint8Array(o);o=this.eW=UZIP.encode(Z);aq=this._z=D+"zip"}this.RE.b(aq);this.kz.b(kh.AE(o.byteLength));
this.kz.m.style["font-size"]="2em";this.a69.b(" \u2001 "+o.byteLength+" B");this.Rl.RD(fr.get([1,2])+" \""+aq+"\"")};
hX.prototype.f=function(){bZ.prototype.f.call(this);this.dk.f();this.Rl.f();this.u4.f()};function hL(){bZ.call(this,"Confirm","confirm");
this.Wz=null;var w=R.S("div","form");this.body.appendChild(w);this.He=R.S("div");this.He.textContent="Hello";
w.appendChild(this.He);this.Rl=R.M2(this,w);w.appendChild(this.Rl.m)}hL.prototype=new bZ;hL.prototype.Bp=function(w){this.Wz();
this.close()};hL.prototype.ZM=function(w,M){this.He.textContent=M.G;this.Wz=M.Wz;this.Rl.m.focus()};
hL.prototype.xR=function(w,M){return new at(Math.max(0,(w-500)/2),Math.max(0,Math.min(60,(M-100)/2)))};
hL.prototype.nQ=function(w,M){this.He.style.width=w-30+"px"};function hh(){bZ.call(this,[1,16,2],"newartb");
this.fv=0;this.Q8=null;var w=R.S("div","form");w.style.width="260px";this.body.appendChild(w);this.lU=new kp;
w.appendChild(this.lU.m);this.Rl=R.M2(this,w)}hh.prototype=new bZ;hh.prototype.bT=function(w,M){return w!=null};
hh.prototype.Bp=function(w){var M=this.lU.Q();this.Q8.e=M.x;this.Q8.n=M.y;var O=new aX(A.E.s,!0);O.k=y.zO;
O.data={a4m:this.Q8,zU:this.fv};this.l(O);this.close()};hh.prototype.f=function(){bZ.prototype.f.call(this);
this.lU.f();this.Rl.f()};hh.prototype.ZM=function(w,M){this.fv=M.zU;var O=new cn(0,0,w.e,w.n);if(w.g.length!=0){var b=w.B[w.g[0]];
if(b.add.artb){O=b.pU();O.x+=O.e+100}if(M.zU==1)O=y.u.HW(w)}this.Q8=O;this.lU.b(new at(O.e,O.n))};function k6(){bZ.call(this,"Storage","storwindow");
this.body.setAttribute("style","padding:0");this.EG=null;this.h("closebtn",this.SG,this);this.h("canclose",this.SG,this)}k6.prototype=new bZ;
k6.prototype.o9=function(w,M){if(this.EG)this.EG.o9(w,M)};k6.prototype.xR=function(w,M){return new at(Math.max(0,Math.min(150,(w-980)/2)),Math.max(0,Math.min(150,(M-590)/2)))};
k6.prototype.nQ=function(w,M){this.jy=w;this.e3=M;w=Math.min(w,980);M=Math.min(M,590);if(this.EG)this.EG.nQ(w,M)};
k6.prototype.f=function(){bZ.prototype.f.call(this);if(this.EG)this.EG.f()};k6.prototype.ZM=function(w,M,O,b){this.e6=M.zU==0?"Open from Storage":"Save to Storage";
this.f();if(this.EG==null){this.EG=new gU;this.EG.parent=this;this.body.appendChild(this.EG.m);this.f();
this.nQ(this.jy,this.e3)}Storage.C1(M.zU,w?w.name:"");gU.br(this.EG)};k6.prototype.SG=function(w){Storage.C1(0);
gU.c1();if(w.type=="canclose")this.close()};function fF(){bZ.call(this,"Variables","varsdats");var w=this.QO=R.S("div","form");
w.setAttribute("style","width:300px");this.body.appendChild(w);this.sT=null;this.ia=0;this.aW=new il(null,["Variables","Data Sets"]);
this.aW.h(A.E.r,this.amD,this);this.HR=new fF.qY;this.c_=new fF.Nt;this.c_.h("activate",this.Uf,this);
this.LH=new as([1,8]);var M=this.ni=R.S("div");M.appendChild(this.c_._Q.m);M.appendChild(this.LH.m);
this.gT=new i8("PNGs",!1,null,!0);this.gT.h("click",this.kn,this);M.appendChild(this.gT.m);this.anA=new i8("JPGs",!1,null,!0);
this.anA.h("click",this.kn,this);M.appendChild(this.anA.m);this.Rl=R.M2(this,M)}fF.prototype=new bZ;
fF.prototype.amD=function(w){var M=this.aW.Q(),O=this.QO;R.Mh(O);O.appendChild(this.aW.m);O.appendChild(M==0?this.HR.m:this.c_.m);
O.appendChild(this.ni)};fF.prototype.Bp=function(w){var M=new aX(A.E.s,!0);M.k=y.YH;M.data={d:Q.Hg,G:JSON.stringify([this.HR.Q(),this.c_.Q()])};
this.l(M);this.close()};fF.prototype.f=function(){bZ.prototype.f.call(this);this.Rl.f();this.LH.f()};
fF.prototype.ZM=function(w,M){this.sT=w;if(w==null)return;this.HR.ZM(w,M);this.c_.ZM(w,M);this.aW.b(0);
this.amD();this.ia=0};fF.prototype.kn=function(w){var M=this.HR.Q(),O=this.c_.Q();if(M.length==0){alert("There are no variables.");
return}if(O.length==0){alert("There are no data sets.");return}var b=ce.a80(this.sT,M,O,this.c_.a15(),w.target==this.gT?"PNG":"JPG",this);
if(b!=null)kl.save(b,"images.zip")};fF.prototype.Uf=function(w){var M=this.c_.g,O=this.HR.Q(),b=this.c_.Q();
if(O.length==0){alert("There are no variables.");return}if(b.length==0){alert("There are no data sets.");
return}this.a3n();this.ia+=ce.Xl(this.sT,this,O,b,this.c_.a15(),M)};fF.prototype.a3n=function(){var w=new aX(A.E.s,!0);
w.k=y.eU;w.data={d:"h_stepbck"};while(this.ia>0){this.l(w);this.ia--}};fF.Nt=function(){eE.call(this);
this.ls=null;this.zR=[];this.g=0;var w=this.m=R.S("div","form");this.A9=R.S("div","scrollable");this.A9.setAttribute("style","overflow:scroll;  height:234px;");
w.appendChild(this.A9);this.C$=new bb("Import a CSV file");w.appendChild(this.C$.m);this.C$.h(A.E.r,this.a9w,this);
this._Q=new bb("Source Images",!0);w.appendChild(this._Q.m)};fF.Nt.prototype=new eE;fF.Nt.prototype.a9w=function(w){var M=this.C$.Q();
for(var O in M){M=M[O];break}this.ls=cM.TC(n.AL(M));this.Yk()};fF.Nt.prototype.a15=function(){return this._Q.Q()};
fF.Nt.prototype.ZM=function(w,M){var O=this.ls=JSON.parse(JSON.stringify(w.nX));this.Yk()};fF.Nt.prototype.Q=function(){return this.ls};
fF.Nt.prototype.Yk=function(){var w=this.Nx.bind(this),M=this.ls,b="max-width: 100px; overflow:hidden; white-space: nowrap; border: 1px solid; padding:0px 5px;";
this.zR=[];var O=R.S("table");O.setAttribute("style","border-collapse: collapse;");for(var U=0;U<M.length;
U++){var D=R.S("tr"),o=M[U],Z=U==0?"th":"td";O.appendChild(D);var $=R.S(Z);D.appendChild($);$.setAttribute("style",b+"cursor:pointer;");
if(U!=0)$.textContent="\u2713";this.zR.push($);$.addEventListener("click",w,!1);for(var k=0;k<o.length;
k++){var $=R.S(Z);$.textContent=o[k];D.appendChild($);$.setAttribute("style",b);$.setAttribute("title",o[k])}}R.Mh(this.A9);
this.A9.appendChild(O)};fF.Nt.prototype.Nx=function(w){this.g=this.zR.indexOf(w.currentTarget);this.l(new aX("activate"))};
fF.qY=function(){eE.call(this);var w=this.m=R.S("div","form marged");this.EZ=null;this.dc=[];this.p0=[];
this._Y=null;this.Km=new ao([0,3],[]);this.Km.h(A.E.r,this.ajX,this);w.appendChild(this.Km.m);this.GR=[];
var M=["Visibility","Text Content","Pixel Content"];for(var U=0;U<M.length;U++){R.Y1(w);var O=new ji(M[U]);
O.h(A.E.r,this._D,this);w.appendChild(O.m);R.Ca(w);var b=new d8("Variable Name");b.h(A.E.r,this._D,this);
w.appendChild(b.m);this.GR.push(O,b)}};fF.qY.prototype=new eE;fF.qY.prototype._D=function(w){var M=this.Km.Q(),O=this._Y[M],b=this.dc[M],D=this.EZ["l"+O],o=this.GR;
if(D==null)this.EZ["l"+O]=D=[];while(D.length!=0)D.pop();for(var U=0;U<3;U++){var Z=o[2*U+1].Q();if(!o[2*U].Q())continue;
var $={varName:Z,trait:["visibility","textcontent","fileref"][U]};D.push($);if(U==2){$.align="center";
$.clip="false";$.placementMethod="fit";$.valign="middle"}}if(D.length==0)delete this.EZ["l"+O];this.ZM()};
fF.qY.prototype.ajX=function(w){var M=this.Km.Q(),O=this._Y[M],b=this.dc[M],D=this.EZ["l"+O],o=this.GR;
if(D==null)D=[];for(var U=0;U<3;U++){var Z=U==0||U==1&&b==0||U==2&&b==1;o[2*U].Sc(Z);o[2*U].b(!1);o[2*U+1].Sc(Z);
o[2*U+1].b("")}for(var U=0;U<D.length;U++){var $=D[U],k=$.trait,E=["visibility","textcontent","fileref"].indexOf(k);
o[E*2].b(!0);o[E*2+1].b($.varName)}};fF.qY.prototype.ZM=function(w,M){if(w){var O=JSON.parse(JSON.stringify(w.cU)),b=this.EZ={};
for(var U=0;U<O.length;U++){var D=O[U],o=D.docRef;o="l"+o.slice(4,o.length-2);if(b[o]==null)b[o]=[];
b[o].push(D)}this._Y=[];this.dc=[];this.p0=[];for(var U=w.B.length-1;U>=0;U--){var Z=w.B[U],o=Z.add.lyid;
if(Z.getName()=="</Layer group>")continue;this._Y.push(o);this.dc.push(Z.add.TySh?0:1);this.p0.push(Z.getName())}}var $=[],k=this.p0;
for(var U=0;U<k.length;U++){$.push(k[U]+(this.EZ["l"+this._Y[U]]?" *":""))}var E=this.Km.Q();this.Km.N8($);
this.Km.b(E);this.ajX()};fF.qY.prototype.Q=function(){var w=this.EZ,M=[];for(var O in w){var b=w[O];
for(var D=0;D<b.length;D++){b[D].docRef="id('"+O.slice(1)+"')";M.push(b[D])}}return M};function dh(w,M,O,b){eE.call(this);
this.name=w;this.a5u=O;this.Ll=b;this.o$=R.S("div","");this.o$.setAttribute("draggable","true");this.R2=R.S("div","pbody");
this.As=new i8("",!1,"");this.As.parent=this;this.a1P=R.S("span","cross gsicon");this.JT=R.S("span","label");
var D=this.amO.bind(this);this.o$.addEventListener("mousedown",this.avD.bind(this),!1);this.o$.addEventListener("contextmenu",D,!1);
this.As.m.addEventListener("contextmenu",D,!1);this.a1P.addEventListener("mousedown",this.K7.bind(this),!1);
this.o$.appendChild(this.JT);if(M)this.o$.appendChild(this.a1P);this.Lr=!1;this.JT.textContent=w}dh.prototype=new eE;
dh.prototype.Pi=function(){return null};dh.prototype.f=function(){var w=fr.get(this.name),M=this.jy==0?22:Math.round(2+this.jy/50),O=w.length>M;
this.JT.textContent=O?w.slice(0,M-2):w;if(O)for(var b=0;b<2;b++){var D=R.S("span");D.textContent=w.charAt(M-2+b);
D.setAttribute("style","opacity:"+(.6-b*.4));this.JT.appendChild(D)}var o=w.split(" "),Z=o.length==2?o[0].substring(0,2)+o[1][0]:w.substring(0,3);
if(Z.charCodeAt(0)>=11776)Z=Z.substring(0,1);var $=this.a5u;if($==null)this.As.RD(Z,w);else{var k;if($.startsWith("---"))k="<img src=\""+PIMG[$.slice(3)]+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if($.startsWith("==="))k="<img src=\""+$.slice(3)+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if($.indexOf("\"")==-1)k="<img src=\""+$+"\" alt=\""+R.bV(w).replace(/"/g,"&quot;")+"\" height=\"18\" width=\"18\" loading=\"lazy\" style=\"margin:1px 3px;\" />";
this.As.RD(k,w)}};dh.prototype.enable=function(){this.R2.className="pbody"};dh.prototype.disable=function(){this.R2.className="pbody disabled"};
dh.prototype.o9=function(w,M){};dh.prototype.ZM=function(w,M,O){};dh.prototype.El=function(w){};dh.prototype.nQ=function(w,M){};
dh.prototype.qX=function(w){this.name=w;this.f()};dh.prototype.Pu=function(){};dh.prototype.avD=function(w){if(w.button==0)this.l(new aX("select",!1))};
dh.prototype.amO=function(w){R.qq(w);if(this.Ll!=null&&isNaN(this.Ll))return;var M=R.Pr(w,document.body),O=this.bC;
if(O==null){O=this.bC=new dC([{name:[1,12,0]}]);this.bC.h("select",this.K7,this)}O.update(null);O.f();
O.parent=this;var b=new aX(A.E.Z,!0);b.data={d:A.t.U6,YT:O,x:M.x+1,y:M.y+1};this.l(b)};dh.prototype.Wg=function(){this.K7({})};
dh.prototype.K7=function(w){if(w.stopPropagation)w.stopPropagation();if(this.Ll!=null&&!isNaN(this.Ll)){var M=new aX(A.E.Z,!0);
M.data={d:A.t.QM,YT:this.bC};this.l(M);M.data={d:A.t.pF,I8:eM.H1,G:parseFloat(this.Ll),jS:"del"};this.l(M)}else if(this.ad6())this.l(new aX(A.E._r,!1))};
dh.prototype.ad6=function(w){return!0};dh.prototype.kf=function(w,M,O,b,D){};dh.prototype.Ha=function(w,M,O,b,D){};
dh.prototype.oH=function(w,M,O,b,D){};dh.cQ=function(w,M,O){if(w.childElementCount!=0)return;var b=w.textContent;
this.D3=this.a9I.bind(this);this.a7x=this.ahE.bind(this);this.M8=M;this.aiw=O;this.H8=w;this.afF=b;var D=R.S("input","");
D.setAttribute("type","text");D.setAttribute("size","10");D.setAttribute("value",b);R.Mh(w);w.appendChild(D);
D.select();D.focus();R.SZ(w);w.addEventListener("keyup",this.D3,!1);document.body.addEventListener("mousedown",this.a7x,!1)};
dh.cQ.prototype.a9I=function(w){var M=i_.fI,O=M(w.code,i_.sW);if(M(w.code,i_.gH)||O)this.a8_(O)};dh.cQ.prototype.ahE=function(w){var M=w.target;
if(M.tagName&&M.tagName.toLowerCase()=="input")return;this.a8_(!0)};dh.cQ.prototype.a8_=function(w){var M=this.H8,O=M.firstChild.value;
M.removeEventListener("keyup",this.D3);document.body.removeEventListener("mousedown",this.a7x);if(this.aiw||w&&O!=""&&O!=this.afF){this.M8(O)}else{R.Mh(M);
M.textContent=this.afF}};dh.mJ={eU:"0",a4j:"1",YH:"2",amc:"3",a2o:"4",IT:"5",CSS:"6",rq:"7",ai5:"8",aeF:"9",ay8:"10",apk:"11",ab9:"12",Ih:"13",gZ:"14",adQ:"15",aba:"16",B$:"17",a9e:"18",a7J:"19",apz:"20",$i:"21",amP:"22"};
function aF(){dh.call(this,[9,9],!1,"---panels/actions",dh.mJ.apk);this.P4=null;this.k8=[0,0]}aF.prototype=new dh("");
aF.prototype.v6=function(){if(!R.FP(this.R2)||this.Q4)return;this.Q4=R.S("div","padded scrollable");
this.Q4.setAttribute("style","width:260px;  height:260px");this.R2.appendChild(this.Q4);this.h(A.E.r,this.Vk,this);
this.ni=R.S("div","lpfoot");this.R2.appendChild(this.ni);this.no=[];var w="<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\">",M="</svg>",O=w+"<path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" />"+M,b=w+"<path d=\"M0,0 L15,7.5 L0,15 Z\" />"+M;
this.au4=w+"<circle cx=\"7.5\" cy=\"7.5\" r=\"7.5\" />"+M;this.agP=w+"<path d=\"M1,1 L14,1 L14,14 L1,14 Z\" />"+M;
var D=[this.au4,b,"lrs/folder","lrs/newlayer","lrs/bin",O],o=[[15,8,0],[5,8],[15,8,1],[15,8,2],[5,4],[1,2]];
for(var U=0;U<D.length;U++){var Z=D[U];if(1<U&&U!=D.length-1)Z="<img src=\""+PIMG[D[U]]+"\" class=\"miniscale gsicon\" />";
var $=new i8(Z,!1,o[U]);$.h("click",this.agE,this);this.ni.appendChild($.m);this.no.push($)}this.Yk()};
aF.prototype.f=function(){dh.prototype.f.call(this);if(this.Q4==null)return;for(var U=0;U<this.no.length;
U++)this.no[U].f()};aF.prototype.agE=function(w){var U=this.no.indexOf(w.currentTarget),M=this.k8,O=this.P4,b=O.Po;
if(U==0){var D,o=O.dL;if(b.length==0){alert("Create an Action Set first.");return}if(M.length<2){alert("Select a target action first.");
return}if(o==null){D=this.agP;o=this.k8}else{D=this.au4;o=null}this.no[0].RD(D);O.dL=o}else if(U==1)this.aoe();
else if(U==2||U==3){var Z={vZ:"Action Set "+b.length,iu:[],exp:!0};if(U==2||b.length==0){M=[b.length];
b.push(Z)}if(U==3){var $=b[M[0]].iu;M=[M[0],$.length];$.push({vZ:"Action "+$.length,color:0,iu:[],a1r:!1,shift:!1,exp:!0,zS:$.length})}this.k8=M;
this.Yk()}else if(U==4){var k;if(M.length==1)k=b;else if(M.length==2)k=b[M[0]].iu;else k=b[M[0]].iu[M[1]].iu;
var E=M.length-1;k.splice(M[E],1);if(k.length==0)M.pop();else while(M[E]>=k.length)M[E]--;if(M.length==0)M.push(0);
this.Yk()}else if(U==5){if(b.length==0){alert("No Actions Present.");return}var t=new aX(A.E.Z,!0);t.data={d:A.t.TE,a1X:eM.s,QT:M[0]};
this.l(t)}};aF.prototype.Vk=function(w){var M=this.P4.Po,O=w.data.d,b=w.data.Ax;if(O=="sel")this.k8=b;
if(O=="fold"){if(b.length==1)M[b[0]].exp=!M[b[0]].exp;else M[b[0]].iu[b[1]].exp=!M[b[0]].iu[b[1]].exp}if(O=="enab"){var D=M[b[0]].iu[b[1]].iu[b[2]];
D.R=!D.R}if(O=="nchange"){if(b.length==1)M[b[0]].vZ=w.data.IG;else M[b[0]].iu[b[1]].vZ=w.data.IG}this.Yk()};
aF.prototype.ZM=aF.prototype.Pu=function(){this.v6()};aF.prototype.o9=function(w,M){this.P4=w;if(this.Q4==null)return;
if(M==eM.s||M==eM.vI)this.Yk()};aF.prototype.Yk=function(){if(this.P4==null)return;R.Mh(this.Q4);var w=this.P4.Po;
if(w.length==0)return;var M=JSON.stringify(this.k8);for(var U=0;U<w.length;U++){var O=w[U],b=new aF.Ck([U],M,O.exp,O.vZ.split("=").pop());
b.parent=this;this.Q4.appendChild(b.m);if(!O.exp)continue;for(var D=0;D<O.iu.length;D++){var o=O.iu[D],b=new aF.Ck([U,D],M,o.exp,o.vZ.split("=").pop());
b.parent=this;this.Q4.appendChild(b.m);if(!o.exp)continue;for(var Z=0;Z<o.iu.length;Z++){var $=o.iu[Z],b=new aF.Ck([U,D,Z],M,null,fr.get(fE.a6d($)),$.R);
b.parent=this;this.Q4.appendChild(b.m)}}}};aF.prototype.aoe=function(){var w=this.P4.Po,M=this.k8;if(w.length==0){alert("No Actions Present");
return}if(M.length==1){alert("Select an Action first");return}if(this.P4.dL!=null){alert("You can not apply actions while recording actions");
return}if(M.length==1)M.push(0);var O=w[M[0]],b=O.iu[M[1]],D=new aX(A.E.Z,!0);D.data={d:A.t.Y6,vt:[b.vZ,O.vZ]};
this.l(D)};aF.Ck=function(w,M,O,b,D){eE.call(this);this.Ax=w;var o=this.Ax.length-1;this.m=R.S("div","layeritem"+(JSON.stringify(w)==M?" selected":""));
this.SX=R.S("div","head");this.m.appendChild(this.SX);this.SX.setAttribute("style","height:24px");this.aZ=R.S("div","headL");
this.SX.appendChild(this.aZ);if(o!=0){var Z=R.S("div");Z.style.width=o*20+"px";this.aZ.appendChild(Z)}if(O!=null){var $=this.aul=R.S("div",O?"open":"closed");
this.aZ.appendChild($)}else{var k=this.aca=R.S("div","cmark");k.setAttribute("style","background-size:12px 12px; opacity:"+(D?1:.3));
this.aZ.appendChild(k)}if(o==0){var E=R.S("div","folder");this.aZ.appendChild(E)}var t=this.JT=R.S("div","label");
t.textContent=b;this.aZ.appendChild(t);this.m.addEventListener("mouseup",this.Uf.bind(this),!1)};aF.Ck.prototype=new eE;
aF.Ck.prototype.Uf=function(w){if(w.detail==1&&w.target.tagName.toLowerCase()!="input"){var M="sel";
if(w.target==this.aul)M="fold";if(w.target==this.aca)M="enab";var O=new aX(A.E.r,!0);O.data={d:M,Ax:this.Ax};
this.l(O)}else if(this.Ax.length<3)var b=new dh.cQ(this.JT,this.M8.bind(this))};aF.Ck.prototype.M8=function(w){var M=new aX(A.E.r,!0);
M.data={d:"nchange",IG:w,Ax:this.Ax};this.l(M)};function e1(){dh.call(this,[3],!1,"---lrs/adj",dh.mJ.a9e)}e1.prototype=new dh("");
e1.prototype.v6=function(){if(!R.FP(this.R2)||this.no)return;this.R2.setAttribute("style","text-align:center;  padding:6px; min-width:220px");
this.no=[];var U=0;for(var w in a6.names){var M=new i8("<img src=\""+PIMG["adj/"+w]+"\" class=\"autoscale gsicon\" style=\"margin:4px 4px;\"/>",!1,a6.names[w]);
M.h("click",this.avq,this);this.no.push(M);this.R2.appendChild(M.m);if(U==4||U==10)R.Ca(this.R2);U++}this.f()};
e1.prototype.ZM=function(){this.v6()};e1.prototype.Pu=function(){this.v6()};e1.prototype.f=function(){dh.prototype.f.call(this);
if(this.no==null)return;for(var U=0;U<this.no.length;U++)this.no[U].f()};e1.prototype.avq=function(w){var M=this.no.indexOf(w.target),O=io.ID()[M],b=new aX(O._,!0);
b.data=O.W;this.l(b)};function bm(){dh.call(this,[12,22],!1,null,dh.mJ.$i);this.Q4=R.S("div","padded");
this.R2.appendChild(this.Q4);this.ve=new a2(null,17.7,10);this.ve.parent=this;this.ve.h(A.E.r,this.gL,this);
this.Q4.appendChild(this.ve.V8)}bm.prototype=new dh("");bm.prototype.gL=function(w){var M=this.ve.Q(),O=new aX(A.E.s,!0);
O.data={d:"setstl",G:M.Pg};O.k=y.GY;this.l(O);O.data={d:"confirm"};this.l(O)};bm.prototype.o9=function(w,M){if(M==eM.$i||M==eM.vI){this.ve.jX([w.CB,w.SQ])}};
var a3=function(){function w(){dh.call(this,[9,3],!1,"---panels/brush",dh.mJ.rq);this.Vj=null;this.P4=null}w.prototype=new dh("");
w.prototype.v6=function(){var b=R.S("div","");this.R2.appendChild(b);this.fU=R.S("div","bordered cell");
this.fU.setAttribute("style","width:10em; height:28.5em;");b.appendChild(this.fU);this.v0=[];this.Bc=null;
this.$u=[];var D=this.asy.bind(this);this.WK=[new M("basic"),new M("useTipDynamics"),new M("useScatter"),new M("useColorDynamics"),new M("usePaintDynamics")];
for(var U=0;U<this.WK.length;U++){var o=R.S("div","listitem"),Z=this.WK[U],k=null;Z.parent=this;Z.h("brushchange",this.ajN,this);
var $=Z.Ak;if(U==0){this.Bc=new as($);o.appendChild(this.Bc.m)}else{k=new ji($,!1);k.h(A.E.r,this.akS,this);
o.appendChild(k.m)}this.$u.push(k);this.fU.appendChild(o);this.v0.push(o);o.addEventListener("click",D,!1)}this.Mb=R.S("div","cell padded");
b.appendChild(this.Mb);this.setItem(0);this.U=R.S("canvas");this.U.height=10;b.appendChild(this.U);this.Mn=this.U.getContext("2d");
this.My()};w.prototype.nQ=function(b,D){if(this.jy==b)return;this.jy=b;this.e3=D;this.My()};w.prototype.Pu=function(){if(!R.FP(this.R2))return;
if(this.fU){this.My();return}this.v6();this.f();this.o9(this.P4,eM.vI)};w.prototype.f=function(){dh.prototype.f.call(this);
if(this.fU==null)return;this.Bc.f();for(var U=1;U<this.$u.length;U++)this.$u[U].f();for(var U=0;U<this.WK.length;
U++)this.WK[U].f()};w.prototype.ajN=function(b){var D=this.WK.indexOf(b.currentTarget),o=JSON.parse(JSON.stringify(this.WK[D].Vj)),Z=new aX(A.E.Z,!0);
Z.data={d:A.t.pF,I8:eM.Vh,Vj:o};this.l(Z)};w.prototype.akS=function(b){this.avz(this.$u.indexOf(b.currentTarget),b.currentTarget.qm())};
w.prototype.asy=function(b){var U=this.v0.indexOf(b.currentTarget);if(b.target.tagName.toLowerCase()=="input")return;
if(this.$u[U]&&!this.$u[U].qm()){this.$u[U].L5();this.avz(U,!0)}this.setItem(U)};w.prototype.avz=function(b,D){this.WK[b].a1Y(D)};
w.prototype.setItem=function(b){for(var U=0;U<this.WK.length;U++)this.v0[U].className="listitem";if(this.Mb.firstChild)this.Mb.removeChild(this.Mb.firstChild);
this.v0[b].className="listitem selected";this.Mb.appendChild(this.WK[b].m)};w.prototype.o9=function(b,D){this.P4=b;
if(this.fU==null)return;for(var U=0;U<this.WK.length;U++)this.WK[U].o9(b,D);if(D==eM.Vh||D==eM.vI){this.Vj=b.BV.VG;
this.My()}if(D==eM.Ih)this.My()};w.prototype.My=function(){if(this.Vj)this.enable();else{this.disable();
return}if(!R.FP(this.R2))return;var b=this.P4;for(var U=0;U<this.WK.length;U++){this.WK[U].b(this.Vj);
if(this.$u[U])this.$u[U].b(this.WK[U].qm())}var D=JSON.parse(JSON.stringify(this.Vj));D.Brsh.v.Dmtr.v.val=Math.min(D.Brsh.v.Dmtr.v.val,50);
R.GL(this.U,this.jy,80);var o=new cn(0,0,this.U.width,this.U.height),Z=this.P4.BV,$=new i$(D,Z?Z.eg:null,Z?Z.ow:null,{uX:1},b.Sw,b.fj,o,null,0),k=o.n/2,E=o.e-k*2;
$.moveTo(k,k);for(var U=0;U<=E;U+=10)$.lineTo(k+U,k+20*Math.sin(2*Math.PI*U/E));$.finish();var t=this.Mn.createImageData(o.e,o.n);
x.xu($.Mg(),$.HW(),t.data,o);this.Mn.putImageData(t,0,0)};function M(b){eE.call(this);this.m=R.S("div");
this.Vj=null;var D=["basic","useTipDynamics","useScatter","useColorDynamics","usePaintDynamics"].indexOf(b);
this.Ak=[[15,0],[15,1],[15,2],[15,3],"Transfer"][D];this.fv=b;this.MT={};this.aqm=null;var o=["--br Brsh.Dmtr Brsh.Angl Brsh.Rndn Brsh.Hrdn Brsh.Spcn".split(" "),"szVr.jitter szVr.bVTy minimumDiameter angleDynamics.jitter angleDynamics.bVTy roundnessDynamics.jitter minimumRoundness".split(" "),["scatterDynamics.jitter","Cnt","countDynamics.jitter"],["clVr.jitter","H","Strt","Brgh"],["opVr.jitter","opVr.bVTy","prVr.jitter","prVr.bVTy"]][D];
for(var U=0;U<o.length;U++){var Z=o[U],$;if(Z=="--br"){$=new jc;this.m.appendChild($.V8.firstChild)}else if(Z=="Brsh.Dmtr")$=new hy([12,14,0],1,1e3," px",0,!0);
else if(Z=="Brsh.Angl")$=new hy([12,15],0,359," \xB0");else if(Z=="Brsh.Rndn")$=new hy([12,16],0,100," %");
else if(Z=="Brsh.Hrdn")$=new hy([12,17],0,100," %");else if(Z=="Brsh.Spcn")$=new hy([12,18],1,300," %");
else if(Z=="szVr.jitter")$=new hy([15,4,0],0,100,"%");else if(Z=="minimumDiameter")$=new hy([15,4,1],0,100,"%");
else if(Z=="angleDynamics.jitter")$=new hy([15,4,2],0,100,"%");else if(Z=="angleDynamics.bVTy")$=new ao("Control",["Off","Direction"]);
else if(Z=="szVr.bVTy")$=new ao("Control",["Off","Pen Pressure"]);else if(Z=="opVr.bVTy")$=new ao("Control",["Off","Pen Pressure"]);
else if(Z=="prVr.bVTy")$=new ao("Control",["Off","Pen Pressure"]);else if(Z=="roundnessDynamics.jitter")$=new hy([15,4,3],0,100,"%");
else if(Z=="minimumRoundness")$=new hy([15,4,4],1,100,"%");else if(Z=="scatterDynamics.jitter")$=new hy([15,5,0],0,1e3," %");
else if(Z=="Cnt")$=new hy([15,5,1],1,20);else if(Z=="countDynamics.jitter")$=new hy([15,5,2],0,100," %");
else if(Z=="clVr.jitter")$=new hy([15,6,0],0,100," %");else if(Z=="H")$=new hy([15,6,1],0,100," %");
else if(Z=="Strt")$=new hy([15,6,2],0,100," %");else if(Z=="Brgh")$=new hy([15,6,3],0,100," %");else if(Z=="opVr.jitter")$=new hy("Opacity Jitter",0,100," %");
else if(Z=="prVr.jitter")$=new hy("Flow Jitter",0,100," %");else throw Z;this.MT[Z]=$;$.parent=this;
$.h(A.E.r,this._D,this)}}M.prototype=new eE;M.prototype.alP=function(){this.l(new aX("brushchange"))};
M.prototype.b=function(b){this.Vj=JSON.parse(JSON.stringify(b));this.m.className=this.qm()?"":"disabled";
this.My()};M.prototype.f=function(){for(var b in this.MT)this.MT[b].f()};M.prototype.qm=function(){return!0};
M.prototype.o9=function(b,D){if(D==eM.rq||D==eM.vI){var o=this.MT["--br"];if(o)o.jX(b.BV)}};M.prototype._D=function(b){var D=b.target,o=this.MT,Z;
for(var $ in o)if(o[$]==D)Z=$;if(Z=="--br"){var k=new aX(A.E.Z,!0);k.data={d:A.t.pF,I8:eM.Vh,Vj:D.Q()};
this.l(k)}else{var E=O(this.Vj,Z),c=D.Q();if(E){if(Z.endsWith("bVTy")){E.v=c==0?0:Z.startsWith("angleDynamics")?6:2}else if(Z=="Cnt")E.v=c;
else E.v.val=c;this.alP()}}};M.prototype.My=function(){var b=this.Vj,D=b.Brsh.v.classID,o=this.MT,Z=D!=this.aqm;
this.aqm=D;if(Z){R.Mh(this.m);for(var $ in o){if(D!="computedBrush"&&D!="sampledBrush"&&$=="Brsh.Rndn")continue;
if(D!="computedBrush"&&$=="Brsh.Hrdn")continue;var k=o[$],E=k.m;if($=="--br"){E=k.sG.m;E.style.width="auto"}this.m.appendChild(E)}}for(var $ in o){if($=="--br")continue;
var c=O(b,$),l;if(c){if($.endsWith("bVTy"))l=c.v==0?0:1;else if($=="Cnt")l=c.v;else l=c.v.val;o[$].b(l)}}};
M.prototype.qm=function(){var b=this.fv;return b=="basic"?!0:this.Vj[b].v};M.prototype.a1Y=function(b){var D=this.fv;
if(D=="basic")return;this.Vj[D].v=b;b6.hW.ag2(this.Vj);this.alP()};function O(b,D){var o=D.split(".");
b=b[o[0]];for(var U=1;U<o.length;U++){if(b==null)return b;b=b.v[o[U]]}return b}return w}();function gq(){dh.call(this,[9,0],!1,"---panels/history",dh.mJ.eU);
this.R2.setAttribute("style","min-width:200px;");this.x4=R.S("div","hpbody scrollable");this.x4.style.height="160px";
this.R2.appendChild(this.x4);this.a0f=-1;this.pd=[];this.Tr="";this.OT=new dC([{name:"Clear History"}],[{_:A.E.s,k:y.eU,W:{d:"h_clear"}}])}gq.prototype=new dh("");
gq.prototype.Pi=function(){return this.OT};gq.prototype.ZM=function(w){if(w==null){R.Mh(this.x4);this.Tr="";
return}R.Mh(this.x4);var M=0;for(var U=0;U<w.history.length;U++)if(U<=w.gX&&!w.history[U].BH)M=U;for(var U=0;
U<w.history.length;U++){var O=w.history[U];if(O.BH)continue;var b=new bE(O,U,M);b.parent=this;this.x4.appendChild(b.m);
this.pd.push(b)}if(w.gX==w.history.length-1)this.Pu()};gq.prototype.Pu=function(){this.x4.scrollTop=this.x4.scrollHeight};
gq.prototype.f=function(){dh.prototype.f.call(this);for(var U=0;U<this.pd.length;U++)this.pd[U].f()};
function bE(w,U,M){eE.call(this);this.index=U;this.m=R.S("div",U==M?"listitem selected":"listitem");
this.I1=w.name;this.f();if(U>M)this.m.style.opacity=.4;this.m.addEventListener("click",this.kf.bind(this),!1)}bE.prototype=new eE;
bE.prototype.f=function(){this.m.textContent=fr.get(this.I1)};bE.prototype.kf=function(w){if(this.index==this.parent.a0f)return;
this.iO({d:"h_itemchange",index:this.index})};bE.prototype.iO=function(w){var M=new aX(A.E.s,!0);M.data=w;
M.k=y.eU;this.l(M)};function dr(){dh.call(this,[9,10],!1,"---panels/histogram",dh.mJ.a2o);var w=R.S("div","padded");
this.R2.appendChild(w);this.Ot=new dp(256,!0);w.appendChild(this.Ot.m);this.sT=null}dr.prototype=new dh("");
dr.prototype.ZM=function(w){this.sT=w;this.Yk()};dr.prototype.Yk=function(){var w=this.sT;if(!R.FP(this.R2))return;
if(w==null||w.g.length==0){this.Ot.b(x.mv(x.$(4)));return}var M=w.Hp(),O=new cn(0,0,w.e,w.n),b=O.v();
if(w.X){var D=w.X.rect,o=x.$(D.v()*4);x.xu(M,O,o,D);x.Rr(w.X.channel,o);M=o;O=D;var Z=w.X.channel;b=0;
for(var U=0;U<Z.length;U++)b+=Z[U];b=Math.round(b/255)}var $=x.mv(M);$[0][255]+=3*(b-$[5]);for(var U=1;
U<4;U++)$[U][255]+=b-$[5];this.Ot.b($,b)};dr.prototype.o9=function(w,M){this.Ot.Ji(ig.Vi[w.Dy]["--text-color"])};
dr.prototype.f=function(){dh.prototype.f.call(this);this.Ot.f()};dr.prototype.Pu=function(){this.Yk()};
function eK(){dh.call(this,[9,8],!1,"---adj/clrL",dh.mJ.a4j);this.Q4=R.S("div","padded");this.R2.appendChild(this.Q4);
this.Xf=new hF(10);this.Q4.appendChild(this.Xf.m);this.lN=new ih;this.lN.parent=this;this.Q4.appendChild(this.lN.V8);
this.lN.V8.style.marginTop="6px";this.Xf.h(A.E.r,this.a2g,this);this.lN.h(A.E.r,this.a2g,this)}eK.prototype=new dh("");
eK.prototype.a2g=function(w){var M;if(w.target==this.Xf)M=this.Xf.Q();else{var O=this.lN.Q();M=Math.round(O.o)<<16|Math.round(O.w)<<8|Math.round(O.L)}var b=new aX(A.E.Z,!0);
b.data={d:A.t.pF,I8:eM.Ih,uj:0,G:M};this.l(b)};eK.XT=function(w,M){var O=M==eM.vI,b=w.$p,D=w.w0,o=D.strokeStyleContent.v,Z=null;
if((M==eM.Lp||O)&&b.Gw==1){Z=x.M.FL(b.MJ.Clr.v);Z=Z.o<<16|Z.w<<8|Z.L}if((M==eM.eG||O)&&D.strokeEnabled.v&&o.classID=="solidColorLayer"){Z=x.M.FL(o.Clr.v);
Z=Z.o<<16|Z.w<<8|Z.L}if(M==eM.Ih||O)Z=w.Sw;return Z};eK.prototype.o9=function(w,M){var O=w.Sw,b=M==eM.vI,D=eK.XT(w,M);
if(D!=null){this.Xf.b(D);this.lN.b({o:D>>>16&255,w:D>>>8&255,L:D>>>0&255,tf:"Color #"+x.zZ(D)})}if(M==eM.aV||b){var o=w.asj;
this.lN.jX(o)}};function bI(){dh.call(this,[12,72],!1,"---adj/mixr",dh.mJ.aba);this.yy=null;this.if=null;
this.x4=R.S("div","lpbody scrollable");this.x4.style.marginTop="4px";this.ni=R.S("div","lpfoot");this.R2.appendChild(this.x4);
this.R2.appendChild(this.ni);this.No=[];this.h("click",this.ry,this);this.hS=[];bI.l_([[17,2],"Save Selection as Channel",[5,3],[5,4]],this.hS,this.ni,this.l9.bind(this),this.wr.bind(this));
this.OT=new dC([{name:"Merge Channels",Qy:!0}],[{_:A.E.Z,W:{d:A.t.JE,IP:"mergechannels"}}])}bI.prototype=new dh("");
bI.prototype.Pi=function(){return this.OT};bI.l_=function(w,M,O,b,D){for(var U=0;U<w.length;U++){var o=new i8("W",!1,w[U]);
M.push(o);R.c3(o.m,b);O.appendChild(o.m);var Z=o.m;Z.addEventListener("drop",D,!1);Z.addEventListener("dragover",function($){$.preventDefault()},!1);
Z.addEventListener("dragenter",R.qq,!1)}};bI.n4=function(w,M){for(var U=0;U<w.length;U++)if(w[U].m==M.currentTarget)return U};
bI.prototype.l9=function(w){var M=bI.n4(this.hS,w);if(M==0)this.l(d4.dO(!0,null,w));else{M--;var O=new aX(A.E.Lm,!0),b={classID:"null"};
if(M==0)b.null={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]};else if(M==1)b.Nw={t:"Objc",v:{classID:"Chnl",ClrI:{t:"enum",v:{MskI:"SlcA"}},Opct:{t:"long",v:50}}};
else b.null=fE.xp("Chnl",!0);O.data={wV:["duplicate","make","delete"][M],g0:b};this.l(O)}};bI.prototype.wr=function(w){var M=bI.n4(this.hS,w);
if(M==2){var O=new aX(A.E.Lm,!0),b={classID:"null"};b.null=fE.xp("Chnl",!0);O.data={wV:"duplicate",g0:b};
this.l(O)}else this.l9(w)};bI.prototype.Ac=function(U){var w=this.No,M=w[U];if(M==null){var O=R.S("canvas");
M=O.getContext("2d");w.push(M)}return M};bI.prototype.ry=function(w){var M=this.yy.slice(0),O=w.data.zS,b=M[0]+M[1]+M[2],D=this.if;
if(-5<O&&O<0){var o=-O-1;if(w.data.f1){if(o==0)M=b==3?[0,0,0]:[1,1,1];else{if(M[o-1]==0)M[o-1]=1;else if(!0)M[o-1]=0}}else{if(o==0)M=[1,1,1];
else{M=[0,0,0];M[o-1]=1}D.m7=[]}var Z=new aX(A.E.s,!0);Z.k=y.ct;Z.data={d:"setcls",$Y:M};this.l(Z);return}if(-1<O){var $=D.B[O],k=$.cn==1?$.yo():$.k1(D).D;
if(w.data.f1)k.Uy=!k.Uy;else{for(var U=0;U<D.SN.length;U++)D.SN[U].Uy=!1;D.m7=[]}}else{var E=-O-5,k=D.SN[E];
if(w.data.f1)k.Uy=!k.Uy;else{for(var U=0;U<D.SN.length;U++)D.SN[U].Uy=!1;k.Uy=!0;D.m7=[E]}}D.uP=D.bN=!0};
bI.prototype.Pu=function(){this.rU()};bI.prototype.ZM=function(w){this.if=w;this.rU()};bI.prototype.rU=function(){var w=this.if,M=this.x4,q=4;
R.Mh(M);if(w==null||!R.FP(M))return;var O=w.e,b=w.n,D=new cn(0,0,O,b),o=this.yy=w.P.$Y.slice(0),Z=o[0]+o[1]+o[2],$=Math.round(34*R.V()),k=$;
if(O>b)k=Math.round(k*b/O);else $=Math.round($*O/b);var E=["RGB"].concat(a6.q0);for(var U=0;U<4;U++){var t=this.Ac(U);
x._K.pP(t,$,k,D,w.Hp(),D,!1,U==0?null:U-1);var c=U==0?Z==3:o[U-1]==1,l=new d4(-1-U,!0,!0,t,E[U],c,c);
l.parent=this;M.appendChild(l.m);R.ge(t.canvas)}for(var U=0;U<w.g.length;U++){var d=w.B[w.g[U]],V=d.cn;
if(V!=1&&V!=3)continue;var L=V==1?d.yo():d.k1(w).D,t=this.Ac(q+U);q++;x._K.ll(t,$,k,D,L);var l=new d4(w.g[U],!0,!0,t,d.getName()+(V==1?"":" Filter")+" Mask",!0,L.Uy);
l.parent=this;M.appendChild(l.m);R.ge(t.canvas)}for(var U=0;U<w.SN.length;U++){var L=w.SN[U],t=this.Ac(q+U);
x._K.ll(t,$,k,D,L);var l=new d4(-5-U,!0,L.name=="Quick Mask",t,L.name,w.m7.indexOf(U)!=-1,L.Uy,y.YH,{d:Q.IC,uj:"rnm",zS:U});
l.parent=this;M.appendChild(l.m);R.ge(t.canvas)}};bI.prototype.nQ=function(w,M){this.x4.style.height=M-30-4+"px";
this.x4.style.width=w+"px"};bI.prototype.f=function(){dh.prototype.f.call(this);this.rU();bI.wY(this.hS,["lrs/makesel","lrs/mask","lrs/newlayer","lrs/bin"])};
bI.wY=function(w,M){var M=il.hM(M,null,"miniscale");for(var U=0;U<w.length;U++)w[U].RD(M[U])};function d4(w,M,O,b,D,o,Z,$,k){eE.call(this);
this.m=R.S("div","layeritem");this.aiN=w;this.at1=M;this.Mn=b;this.akM=$;this.a8X=k;this.SX=R.S("div",o?"head selected":"head");
this.SX.setAttribute("style","height: "+40+"px");var E=R.S("div","headL"),t=R.S("div","headR"),c=15;
this.m.appendChild(this.SX);this.SX.appendChild(E);this.SX.appendChild(t);this.rL=R.S("div","eye");if(1<R.V()&&R.V()<1.5)c=c/R.V();
this.rL.setAttribute("style","background-size: "+c+"px "+c+"px;");this.rL.style.opacity=Z?1:.2;if(M)E.appendChild(this.rL);
this.lD=R.S("div","thumb");if(b)this.lD.appendChild(b.canvas);E.appendChild(this.lD);this.gN=R.S("div","label");
if(O)this.gN.style.fontStyle="italic";this.gN.textContent=fr.get(D);E.appendChild(this.gN);var l=this.SX;
l.setAttribute("draggable","true");l.addEventListener("dragstart",function(q){q.dataTransfer.setData("Text","")},!1);
R.c3(this.SX,this.acr.bind(this));if(!O)this.SX.addEventListener("mouseup",this.apR.bind(this),!1)}d4.prototype=new eE;
d4.prototype.M8=function(w){var M=new aX(A.E.s,!0);M.k=this.akM;M.data=this.a8X;M.data.name=w;this.l(M)};
d4.prototype.acr=function(w){var M=w.ctrlKey||w.metaKey,O=this.aiN;if(M&&w.target==this.Mn.canvas){this.l(d4.dO(this.at1,O,w))}else{var b=new aX("click",!0);
b.data={zS:O,f1:w.target==this.rL,oY:M};this.l(b)}};d4.prototype.apR=function(w){if(w.detail==2&&w.target==this.gN){var M=new dh.cQ(this.gN,this.M8.bind(this))}};
d4.dO=function(w,M,O){var b=0;if(O.shiftKey)b++;if(O.altKey)b+=2;var D=new aX(A.E.s,!0);D.k=y.P$;if(w){if(-5<M&&M<0){D=new aX(A.E.Lm,!0);
D.data=y.wk.a02(b,["RGB","Rd","Grn","Bl"][-1-M])}else D.data={d:"fromchannel",vt:[M,0,b]}}else D.data={d:"frompath",vt:[M,0,b]};
return D};function da(){dh.call(this,[8,9],!1,"---panels/paths",dh.mJ.B$);this.yy=null;this.if=null;
this.x4=R.S("div","lpbody scrollable");this.x4.style.marginTop="4px";this.ni=R.S("div","lpfoot");this.R2.appendChild(this.x4);
this.R2.appendChild(this.ni);this.R2.addEventListener("click",this.anB.bind(this),!1);this.No=[];this.h("click",this.ry,this);
this.hS=[];bI.l_(["Fill Path","Stroke Path with Brush",[17,2],"Selection to Path",[5,3],[5,4]],this.hS,this.ni,this.l9.bind(this),this.wr.bind(this))}da.prototype=new dh("");
da.prototype.l9=function(w,M){var O=bI.n4(this.hS,w),b;if(O<2){b=new aX(A.E.Lm,!0);b.data=y.hw.VX(O)}else if(O==2)b=d4.dO(!1,null,w);
else if(O==3){b=new aX(A.E.Lm,!0);b.data={wV:"make",g0:{classID:"null",null:{t:"obj ",v:[{t:"Clss",v:{classID:"Path"}}]},From:{t:"obj ",v:[{t:"prop",v:{classID:"csel",keyID:"fsel"}}]},Tlrn:{t:"UntF",v:{type:"#Pxl",val:2}}}}}else if(O>3){var b=new aX(A.E.s,!0);
b.k=y.uM;b.data={d:"pathedit",uj:["new","del"][O-4],afD:M}}this.l(b)};da.prototype.wr=function(w){this.l9(w,!0)};
da.prototype.Ac=function(U){var w=this.No,M=w[U];if(M==null){var O=R.S("canvas");M=O.getContext("2d");
w.push(M)}return M};da.prototype.anB=function(w){if(w.target==this.x4){var M=this.if;M.xF=[];M.C5=[];
M.bN=!0;M.uP=!0}};da.prototype.ry=function(w){var M=w.data.zS,O=this.if,b=w.data.oY,D=0,o,Z;if(M<0){D=-1-M;
o=O.xF;Z=O.C5}else{var $=O.ff()[0];for(var U=0;U<$.length;U++){var k=$[U].zS;if(k==M)break;if(k>=0)D++}o=O.C5;
Z=O.xF}if(b){var E=o.indexOf(D);if(E==-1)o.push(D);else o.splice(E,1)}else{while(o.length!=0)o.pop();
while(Z.length!=0)Z.pop();o.push(D)}O.bN=!0;O.uP=!0};da.prototype.Pu=function(){this.rU()};da.prototype.ZM=function(w){this.if=w;
this.rU()};da.prototype.rU=function(){var w=this.if,M=this.x4;R.Mh(M);if(w==null||!R.FP(M))return;var O=w.e,b=w.n,D=new cn(0,0,O,b),o=this.yy=w.P.$Y.slice(0),Z=o[0]+o[1]+o[2],$=Math.round(34*R.V()),k=$;
if(O>b)k=Math.round(k*b/O);else $=Math.round($*O/b);var E=w.ff(),t=E[0];for(var U=0;U<t.length;U++){var c=t[U],l=this.Ac(U);
x._K.a5O(l,$,k,D,c.add.vmsk);var q=new d4(c.zS,!1,c.zS>=0,l,c.name,E[1].indexOf(U)!=-1,!1,y.uM,{d:"pathedit",uj:"rnm",zS:c.zS});
q.parent=this;M.appendChild(q.m);R.ge(l.canvas)}};da.prototype.nQ=function(w,M){this.x4.style.height=M-30-4+"px";
this.x4.style.width=w+"px"};da.prototype.f=function(){dh.prototype.f.call(this);this.rU();bI.wY(this.hS,"-\u2B24 -\u25EF lrs/makesel lrs/makepath lrs/newlayer lrs/bin".split(" "))};
function aM(w){dh.call(this,[9,w?4:5],!1,"---panels/"+(w?"character":"paragraph"),w?dh.mJ.aeF:dh.mJ.ay8);
this.R2.setAttribute("style","min-width:240px;");this.a1H=w;this.PX=null;this.P4=null}aM.prototype=new dh("");
aM.prototype.v6=function(){this.PX=new aa;var w=this.PX,M=this.R2;w.parent=this;if(this.a1H){var O=R.S("div","marged");
M.appendChild(O);O.appendChild(w.ix.m);M.appendChild(R.S("hr"));var b=R.S("div","marged");M.appendChild(b);
b.appendChild(w.vr.m);b.appendChild(w.az.m);var D=R.S("div","marged");M.appendChild(D);D.appendChild(w.mn.m);
D.appendChild(w.Qm.m);M.appendChild(R.S("hr"));var o=R.S("div","marged");M.appendChild(o);o.appendChild(w.WD.m);
o.appendChild(w.YW.m);var Z=R.S("div","marged");M.appendChild(Z);Z.appendChild(w.P3.m);Z.appendChild(w.TG.m);
Z.appendChild(w.bM.m);M.appendChild(R.S("hr"));var $=R.S("div","marged");M.appendChild($);$.appendChild(w.j$.m);
$.appendChild(w.Jk.m);$.appendChild(w.kY.m);$.appendChild(w.Fu.m);$.appendChild(w.$R.m);$.appendChild(w.ZB.m);
$.appendChild(w.qO.m);$.appendChild(w.lZ.m)}else{var O=R.S("div","marged");M.appendChild(O);O.appendChild(w.dq.m);
O.appendChild(w.Re.m);O.appendChild(w.X7.m);O.appendChild(w.a6e.m);O.appendChild(w.amb.m);O.appendChild(w.arE.m);
O.appendChild(w.aaR.m);M.appendChild(R.S("hr"));var b=R.S("div","marged");M.appendChild(b);b.appendChild(w.Np.m);
b.appendChild(w.v7.m);b.appendChild(w.uL.m);M.appendChild(R.S("hr"));var D=R.S("div","marged");M.appendChild(D);
D.appendChild(w._F.m);D.appendChild(w.qS.m);D.appendChild(w.jq.m);D.appendChild(w.mE.m)}};aM.prototype.Pu=function(){if(!R.FP(this.R2))return;
if(this.PX==null){this.v6();var w=this.P4;if(w)this.PX.b(w.ib,w.Yv,w.bA);this.PX.f()}};aM.prototype.f=function(){dh.prototype.f.call(this);
if(this.PX)this.PX.f()};aM.prototype.o9=function(w,M){this.P4=w;if(M!=eM.vI&&M!=eM.Xo&&M!=eM.NX&&M!=eM.lt)return;
if(this.PX)this.PX.b(w.ib,w.Yv,w.bA)};function iO(){dh.call(this,[9,13],!1,"---panels/glyphs",dh.mJ.a7J);
this.P4=null}iO.prototype=new dh("");iO.prototype.v6=function(){this.PX=new aa;this.PX.parent=this;this.ay5=null;
this.afQ=null;this.OS=null;this.aaI=null;this.w5=Math.round(290*R.V());this.dz=45;this.ao0=4;this.a7A=this.Yk.bind(this);
this.a47=0;this.g2=new ao(null,["Hi","Hello"]);this.g2.h(A.E.r,this.Yk,this);var w=this.j4=new i8("-",null,null,!0);
w.h("click",this.a56,this);var M=this.a3j=new i8("+",null,null,!0);M.h("click",this.a56,this);this.sG=new fL(!1);
this.sG.h(A.E.r,this.VQ,this);this.sG.m.style.height=250+"px";var O=this.Vb=R.S("div","form padded");
this.R2.appendChild(O);O.appendChild(this.PX.ix.m);R.Ca(O);O.appendChild(this.g2.m);O.appendChild(w.m);
O.appendChild(M.m);this.R2.appendChild(this.sG.m)};iO.prototype.nQ=function(w,M){if(this.jy==w||this.PX==null)return;
this.jy=w;this.w5=Math.floor((w-13)*R.V());this.Vb.setAttribute("style","width:"+this.w5/R.V()+"px;");
this.sG.m.style.height=M-73+"px";this.Yk()};iO.prototype.VQ=function(w){var M=this.axt(),O=Math.round(this.w5/M);
M/=R.V();var b=this.sG.Q()[0]*O*this.ao0,D=this.sG.amQ();b+=Math.floor(D.y/M)*O;b+=Math.floor(D.x/M);
var o=this.OS[this.g2.Q()];if(b>=o.length)return;var Z=o[b],$=this.aaI[Z],k=new aX(A.E.s,!0);k.k=y.hY;
if($.Y3.length==0)k.data={d:"insertGlyph",G:b+1};else k.data={d:"insertText",G:String.fromCodePoint($.Y3[0])};
this.l(k)};iO.prototype.a56=function(w){var M=1.2;if(w.target==this.j4){if(this.dz>20)this.dz/=M}else{if(this.dz<100)this.dz*=M}this.Yk()};
iO.prototype.Pu=function(){this.o9(this.P4)};iO.prototype.o9=function(w,M){this.P4=w;if(!R.FP(this.R2))return;
if(this.PX==null)this.v6();this.PX.b(w.ib,w.Yv,w.bA);var O=w.ib,b=O.Qc.Font,k=0;if(b==null)return;var D=O.ju[b].Name;
if(this.ay5==D)return;var b=w.Yv.vk(D);if(b==null)return;var o=b.maxp.numGlyphs,Z=this.aaI=new Array(o);
for(var U=0;U<o;U++)Z[U]={Y3:[]};var $=Date.now(),E=new Uint8Array(1048575);for(var U=0;U<1048575;U++){var t=Typr.U.codeToGlyph(b,U);
if(t!=0&&t<o){E[U]=1;if(Z[t].Y3.length==0)k++;Z[t].Y3.push(U)}}var c=iO.hg,l=[];for(var U=0;U<c.length;
U++)l.push([]);for(var t=1;t<o;t++){l[0].push(t);var q=Z[t].Y3[0];if(q==null){continue}for(var d=1;d<c.length;
d++){var V=c[d].vd;for(var U=0;U<V.length;U+=2)if(V[U]<=q&&q<=V[U+1]){l[d].push(t);break}}}this.OS=l;
var L=[];for(var U=0;U<c.length;U++)L.push(c[U].FE+" ("+l[U].length+")");var e=this.g2.Q();this.g2.N8(L);
this.g2.b(e);this.ay5=D;this.afQ=b;this.Yk()};iO.prototype.axt=function(w){var M=Math.floor(this.w5/this.dz);
return Math.floor(this.w5/M)};iO.prototype.Yk=function(w){if(!R.FP(this.R2)||this.OS==null)return;var M=this.OS[this.g2.Q()],O=M.length,b=this.afQ,D=Typr.U,o=this.axt(),Z=o,$=Z*.8,k=Z*.8/b.head.unitsPerEm,E=[],t=Math.floor(this.w5/o),c=Math.ceil(O/t),l=this.ao0,q=Date.now();
for(var d=0;d<c;d+=l){var V=R.S("canvas"),L=V.getContext("2d");V.width=o*t;V.height=Z*l;L.strokeStyle="rgba(0,0,0,0.3)";
L.fillStyle="white";L.fillRect(0,0,t*o,Z*l);for(var e=0;e<l;e++){for(var H=0;H<t;H++){var U=M[(d+e)*t+H];
if(U==null)break;var j=D.glyphToPath(b,U),g=x.p.qe(j.crds);if(!g.S9()){L.fillStyle="#252525";L.beginPath();
var K=H*o+(o-g.e*k)*.5-g.x*k,a=e*Z+$;L.translate(K,a);L.scale(k,-k);D.pathToContext(j,L);L.scale(1/k,-1/k);
L.translate(-K,-a);L.fill()}}}L.beginPath();for(var H=0;H<t;H++){var T=H*o+o+.5;L.moveTo(T,0);L.lineTo(T,Z*l)}for(var e=0;
e<l;e++){var C=e*Z+Z+.5;L.moveTo(0,C);L.lineTo(t*o,C)}L.stroke();E.push(V)}this.sG.Uw(E,null,o*t,Z*l)};
iO.hg=[{FE:"All Glyphs"},{FE:"Basic Latin, Latin 1",vd:[0,127,128,143]},{FE:"Latin Extended-A",vd:[256,383]},{FE:"Latin Extended-B",vd:[384,591]},{FE:"Punctuations",vd:[33,35,37,39,42,42,44,44,46,47,58,59,63,63,64,64,92,92,161,161,167,167,182,183,191,191,894,894,903,903,1370,1375,1417,1417,8192,8303,11776,11903]},{FE:"Greek",vd:[880,1023]},{FE:"Cyrillic",vd:[1024,1279]},{FE:"Hebrew",vd:[1424,1535]},{FE:"Arabic",vd:[1536,1791]},{FE:"Emoji",vd:[9728,10095,127744,129535]}];
function h_(){dh.call(this,[13,0],!1,null,dh.mJ.Ih);this.yJ=0;this.atF=0;this.P4=null}h_.prototype=new dh("");
h_.prototype.v6=function(){if(!R.FP(this.R2)||this.vK)return;var w=R.S("div","flexrow padded");this.R2.appendChild(w);
var M=R.S("div");w.appendChild(M);this.vK=[];for(var U=0;U<2;U++){var O=new bQ;this.vK.push(O);O.h("click",this.alg,this);
M.appendChild(O.m)}this.QR=new fD(192);console.log("hsb picker");this.QR.h(A.E.r,this.$V,this);this.V$=new hK;
this.V$.parent=this;w.appendChild(this.QR.m);this.o9(this.P4,eM.vI)};h_.prototype.alg=function(w){var M=w.currentTarget,O=this.vK.indexOf(M);
if(O==this.yJ){this.V$.Ky(O)}else{this.yJ=O;this.Yk()}};h_.prototype.$V=function(w){var M=this.QR.Q();
this.QR.b(M);var O=Math.round(M.o*255)<<16|Math.round(M.w*255)<<8|Math.round(M.L*255),b=new aX(A.E.Z,!0);
b.data={d:A.t.pF,I8:eM.Ih,uj:this.yJ,G:O};this.l(b);this.atF=Date.now()};h_.prototype.Yk=function(){if(this.V$==null)return;
var w=this.P4,M=this.yJ,O=[w.Sw,w.fj];for(var U=0;U<2;U++){var b=this.vK[U],D=b.m.style;b.Ji(O[U]);if(U==M)D.filter="drop-shadow(0 0 1px #000000)"}var o=O[M];
if(Date.now()-this.atF>100)this.QR.b({o:(o>>>16)/255,w:(o>>>8&255)/255,L:(o&255)/255})};h_.prototype.o9=function(w,M){this.P4=w;
if(this.V$==null)return;if(M==eM.vI||M==eM.Ih){this.V$.aa7(w.Sw,w.fj);this.Yk()}};h_.prototype.ZM=function(){this.v6()};
h_.prototype.Pu=function(){this.v6();this.Yk()};function hE(){dh.call(this,"CSS",!1,"---panels/css",dh.mJ.CSS);
this.sT=null;var w=R.S("div","padded");this.R2.appendChild(w);this.xP=R.S("textarea");R.SZ(this.xP);
w.appendChild(this.xP)}hE.prototype=new dh("");hE.prototype.nQ=function(w,M){if(this.jy==w)return;this.jy=w;
this.xP.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(w-10)+"px; height:"+(M-10)+"px")};
hE.prototype.ZM=function(w){this.sT=w;this.Yk()};hE.prototype.o9=function(w,M){if(M==eM.NX)this.Yk()};
hE.prototype.Yk=function(){var w=this.sT;if(w==null||w.g.length==0)return;if(!R.FP(this.R2))return;var M=w.B[w.g[0]],O=CSS.a6L(M,w);
if(O.length!=0)this.xP.value=O.join(";\n")+";";else this.xP.value=""};hE.prototype.Pu=function(){this.Yk()};
function c3(){dh.call(this,[9,6],!1,"---panels/info",dh.mJ.amc);this.R2.setAttribute("style","min-width:240px;");
this.sT=null;this.P4=null;var w=R.S("div","marged row");this.R2.appendChild(w);var M=R.S("div","cell");
M.setAttribute("style","width:10em");w.appendChild(M);var O=R.S("div","cell");O.setAttribute("style","width:10em");
w.appendChild(O);this.a64=[];for(var U=0;U<4;U++){var b=new as("");this.a64.push(b);M.appendChild(b.m);
R.Ca(M)}this.R2.appendChild(R.S("hr",""));var D=R.S("div","marged row");this.R2.appendChild(D);var M=R.S("div","cell");
M.setAttribute("style","width:10em");var O=R.S("div","cell");O.setAttribute("style","width:10em");D.appendChild(M);
D.appendChild(O);this.TD=new as("");M.appendChild(this.TD.m);R.Ca(M);this.YV=new as("");M.appendChild(this.YV.m);
this.Kq=new as("");O.appendChild(this.Kq.m);R.Ca(O);this.p9=new as("");O.appendChild(this.p9.m);this.TD.b("X: 100 px");
this.YV.b("Y: 100 px");this.Kq.b("W: 0");this.p9.b("H: 0")}c3.prototype=new dh("");c3.prototype.Ha=function(w,M,O,b,D){if(!R.FP(this.R2)||w==null)return;
var o=w.P.ep(D.x,D.y),Z=new at(Math.floor(o.x),Math.floor(o.y));if(!D.Rw){var $=0,k=0,E=0,t=0,c=this.a64;
if(!D.Rw&&!w.a87()&&new cn(0,0,w.e-1,w.n-1).MS(Z)){var l=w.Hp(),U=w.e*Z.y+Z.x<<2;$=l[U+0];k=l[U+1];E=l[U+2];
t=l[U+3]}c[0].b("R: "+$);c[1].b("G: "+k);c[2].b("B: "+E);c[3].b("A: "+t)}this.TD.b("X: "+x.Rk.Ms(Z.x,w.Z1,O,w.e));
this.YV.b("Y: "+x.Rk.Ms(Z.y,w.Z1,O,w.n));this.m3()};c3.prototype.m3=function(){var w=this.sT,M=this.P4,O=0,b=0;
if(w&&M){if(w.P.rT){O=w.P.rT.e;b=w.P.rT.n}else if(w.X){O=w.X.rect.e;b=w.X.rect.n}O=x.Rk.Ms(Math.abs(O),w.Z1,M,w.e);
b=x.Rk.Ms(Math.abs(b),w.Z1,M,w.n)}this.Kq.b(fr.get([12,41]).charAt(0)+": "+O);this.p9.b(fr.get([12,42]).charAt(0)+": "+b)};
c3.prototype.f=function(){dh.prototype.f.call(this);this.m3()};c3.prototype.ZM=function(w,M,O){this.sT=w;
this.P4=O;this.m3()};function dz(){dh.call(this,[9,1],!1,"---panels/layers",dh.mJ.YH);this._E=null;this.BN=[];
this._t=null;this.jG=null;this.SX=R.S("div","lphead");this.x4=R.S("div","lpbody scrollable");this.x4.addEventListener("scroll",this.a93.bind(this),!1);
this.ni=R.S("div","lpfoot");var w=this.abX=R.S("span");w.setAttribute("style","display:inline-block; height:26px");
this.SX.appendChild(w);this.z2=new ao(null,gA.Is,!1,gA.Ch);this.z2.h(A.E.r,this.ajC,this);this.SX.appendChild(this.z2.m);
this.jC=new gL([12,0],0,100,"%",0);this.jC.h(A.E.r,this.a5A,this);this.jC.parent=this;this.SX.appendChild(this.jC.m);
this.Pp=new cE([6,57,2],["<img src=\""+PIMG.trsp3+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/brush"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.pos+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/lock"]+"\" class=\"miniscale gsicon\" />"],!0,["Transparency",[12,76,2],[12,40],[7,0]]);
this.Pp.h(A.E.r,this.a8a,this);this.SX.appendChild(this.Pp.m);this.sL=new gL([12,26],0,100,"%",0);this.sL.h(A.E.r,this.a9i,this);
this.sL.parent=this;this.SX.appendChild(this.sL.m);this.hS=[];this.l_();this.R2.appendChild(this.SX);
this.R2.appendChild(this.x4);this.x4.addEventListener("dragover",function(O){O.preventDefault()},!1);
this.x4.addEventListener("dragenter",R.qq,!1);this.x4.addEventListener("drop",this.auW.bind(this),!1);
this.R2.appendChild(this.ni);this.R2.addEventListener("contextmenu",R.qq,!1);this.h("rclick",this.ai6,this);
var M=function(O,b,U){return{fA:this.sQ[U]==1}}.bind(this);this.aaK=new dC([{name:[0,6],R:M},{name:[14,10],R:M},{name:[6,57,2],R:M,xM:!0},{name:"Long-tap as a right click",R:M,xM:!0},{name:"\u2796 Preview Size"},{name:"\u2795 Preview Size"}]);
this.aaK.h("select",this.a6p,this);this.sQ=[0,1,1,0];this.a6p()}dz.prototype=new dh("");dz.prototype.CG=function(){if(this.ab2)return;
var w=io.u5(!0),M=io.nV(!0);this.ab2=new dC(w,M);var w=[{name:[14,10]},{name:[14,11],xM:!0},{name:[6,0]},{name:[11,4]},{name:[5,4],xM:!0},{name:[6,7,0]},{name:"New Smart Obj. via Copy",R:function(O){return{R:O.B[O.g[0]].add.SoLd!=null}},xM:!0},{name:[6,8],R:dz.auZ},{name:[6,34],R:function(O){var b=O.B[O.g[0]];
return{R:b.add.lmfx!=null&&!b._N()}}},{name:[6,40],xM:!0,R:function(O){var b=O.B[O.g[0]];return{R:b.add.TySh!=null}}},{name:"",xM:!0,R:function(O){var b=O.B[O.g[0]],D=b.add.TySh,o=D?D.GM:null;
return{R:D!=null&&o.Curve==null,yZ:fr.get(D&&ah.SJ(o)==0?[16,3,1]:[16,3,0])}}},dz.a8O(!1),{name:[11,6],xM:!0,sub:[{name:[5,1],R:function(O){var b=O.B[O.g[0]];
return{R:b.add.lmfx!=null}}},{name:[5,2]},{name:[2,2],R:function(O){var b=O.B[O.g[0]];return{R:b.add.lmfx!=null}}}]},{name:[6,12,0],R:function(O){var b=O==null?0:O.g.length;
return{R:b!=0&&(b!=1||O.g[0]!=0),yZ:fr.get(b>1||b==1&&O.B[O.g[0]]._N()?[6,12,0]:[6,10])}}},{name:[6,12,1],xM:!0},{name:[13,0],sub:function(){var O=[[13,1,0],[13,1,1],[13,1,2],[13,1,3],[13,1,4],[13,1,5],[13,1,6],[13,1,7]],b=[];
for(var U=0;U<O.length;U++)b.push({name:O[U]});return b}()}],M=[{_:A.E.Z,W:{d:A.t.JE,IP:"layerstyle"}},{_:A.E.s,k:y.P$,W:{d:"fromlayer",vt:[null,0,0]}},{_:A.E.s,k:y.YH,W:{d:Q.Eb}},{_:A.E.Z,W:{d:A.t.JE,IP:"duplinto"}},{_:A.E.s,k:y.YH,W:{d:Q.MF}},{_:A.E.Lm,W:{wV:"newPlacedLayer"}},{_:A.E.s,k:y.YH,W:{d:Q.lT}},{_:A.E.Lm,W:{wV:"rasterizeLayer",g0:{classID:"rasterizeLayer",null:fE.xp("Lyr",!0)}}},{_:A.E.s,k:y.YH,W:{d:Q.P9}},{_:A.E.s,k:y.YH,W:{d:Q.a27}},{_:A.E.s,k:y.hY,W:{d:"switchPntPrgr"}},{_:A.E.s,k:y.YH,W:{d:Q.SR}},{sub:[{_:A.E.s,k:y.GY,W:{d:"st_copy"}},{_:A.E.s,k:y.GY,W:{d:"st_paste"}},{_:A.E.s,k:y.GY,W:{d:"st_clear"}}]},{_:A.E.Lm,W:{wV:"mergeLayersNew",g0:{__name:"Merge Layers",classID:"Mrg2"}}},{_:A.E.Lm,W:{wV:"flattenImage"}},{sub:function(){var O=[];
for(var U=0;U<8;U++)O.push({_:A.E.s,k:y.YH,W:{d:Q.re,a5w:U}});return O}()}];this.Mb=new dC(w,M);var w=[{name:[6,45],R:function(O){var b=O.B[O.g[0]];
return{R:b.k1(O).D==null}}},{name:[6,47]}],M=[{_:A.E.s,k:y.YH,W:{d:Q.UE}},{_:A.E.s,k:y.YH,W:{d:Q.Pk}}];
this.ahJ=new dC(w,M);var w=[{name:"enab/disab",R:function(O){return{yZ:fr.get(O.B[O.g[0]].yo().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[5,8],R:function(O){return{R:O.D_(!1,!0)}}}],M=[{_:A.E.s,k:y.YH,W:{d:Q.ky}},{_:A.E.s,k:y.YH,W:{d:Q.RG}},{_:A.E.s,k:y.YH,W:{d:Q.xw}}];
this.avT=new dC(w,M);var w=[{name:"enab/disab",R:function(O){return{yZ:fr.get(O.B[O.g[0]].k1(O).D.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}],M=[{_:A.E.s,k:y.YH,W:{d:Q._o}},{_:A.E.s,k:y.YH,W:{d:Q.mZ}}];
this.aiE=new dC(w,M);var w=[{name:"enab/disab",R:function(O){return{yZ:fr.get(O.B[O.g[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]},{name:[6,8]}],M=[{_:A.E.s,k:y.YH,W:{d:Q.O5}},{_:A.E.s,k:y.YH,W:{d:Q.B8}},{_:A.E.s,k:y.YH,W:{d:Q.V_}}];
this.auz=new dC(w,M);this.aee=new dC(io.adC(!0),io.ID(!0));this.ac5=new dC(io.u5(),io.nV())};dz.prototype.a93=function(w){var M=this.x4.scrollTop-600;
for(var U=0;U<this.BN.length;U++){var O=this.BN[U],b=O.yB;if(M<O.yB)O.aik();if(O.yB>M+this.e3+600)break}};
dz.prototype.Pi=function(){return this.aaK};dz.prototype.a6p=function(w){var M=this.sQ;if(w){var O=w.target.Mw(),U=O[0];
if(U<4)M[U]=1-M[U];else{if(U==4&&fQ.rf-10>=10)fQ.rf-=10;if(U==5&&fQ.rf+10<=200)fQ.rf+=10;if(this._t)this._t.Er=!0}}if(M[0]==1)this.ahW();
var b=[[{m:this.abX}],[this.z2,this.jC],[this.Pp,this.sL]];for(var U=0;U<3;U++)for(var D=0;D<b[U].length;
D++)b[U][D].m.style.display=M[U]==1?"inline-block":"none";this.nQ(this.jy,this.e3)};dz.prototype.aqT=function(){var w=this.pW;
if(w==null)return!1;if(w.Q()){var M=this.kr.Q(),O=this.hm[M].Q();if(M==0)return O.indexOf(!0)!=-1;if(M==1)return O!=""}return!1};
dz.a8O=function(w){var M=function(b){var D=b!=null&&b.g.length!=0&&b.B[b.g[0]].fG;return{fA:D,R:b!=null&&b.pJ(b.g[0]),W:{_:A.E.Lm,W:{wV:D?"ungroup":"groupEvent",g0:{classID:D?"Ungr":"GrpL",null:fE.xp("Lyr",!0)}}}}},O={name:[6,6,0],xM:!0,R:M};
if(w)O.rx=[i_.PY,i_.v9,i_.OC];return O};dz.auZ=function(w,M){if(w)for(var U=0;U<w.g.length;U++){var O=w.B[w.g[U]];
if(O.add.TySh||O.add.SoLd||O.add.SoCo||O.add.GdFl||O.add.PtFl)return{R:!0}}return{R:!1}};dz.prototype.auW=function(w){R.qq(w);
var M=w.dataTransfer.getData("Text"),O=1,b=0;if(M==""){R.Bs(w,this,this.jG.indexOf(this._t),b+(O>.5?0:1))}else if(M!="--panel"){var M=JSON.parse(M),D=M.kB;
if(D=="l")this.iO({d:Q.x7,source:M.QT,target:b,lE:O})}};dz.prototype.ai6=function(w){var M=this._t,O=w.data,D;
if(M.g.indexOf(O.q)==-1){var b={d:Q.y6,q:w.target.H8.index,uf:O.cn};this.iO(b)}if(M.g.indexOf(O.q)==-1)return;
this.CG();if(O.cn==1){D=this.avT}else if(O.cn==2){D=this.auz}else if(O.cn==3){D=this.aiE}else if(O.cn==4){D=this.ahJ}else if(O.cn==5){D=this.ab2}else{D=this.Mb}D.f();
D.update(M);D.parent=this;var o=new aX(A.E.Z,!0);o.data={d:A.t.U6,YT:D,x:O.zH.x+1,y:O.zH.y+1};this.l(o)};
dz.prototype.f=function(){dh.prototype.f.call(this);this.z2.f();this.jC.f();this.Pp.f();this.sL.f();
if(this.pW){this.pW.f();this.hm[0].f()}if(this._t)this.ZM(this._t);var w="lrs/link lrs/fx lrs/adj lrs/mask lrs/folder lrs/newlayer lrs/bin".split(" ");
for(var U=0;U<this.hS.length;U++){var M=this.hS[U];M.RD(R._7(w[U],null,"miniscale"));if(U==1||U==2){M.m.style.position="relative";
var O=R.S("img","gsicon");O.setAttribute("src",PIMG["tools/corner"]);O.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%;  height:100%;");
M.m.appendChild(O)}}};dz.prototype.ZM=function(w,M){if(w&&!w.Er)return;if(w==null)R.rV(this.R2,"disabled");
else R.Y4(this.R2,"disabled");this._t=w;this.jG=M;if(this._E!=null){R.Mh(this.x4);this._E=null;this.BN=[]}if(w==null)return;
var O=!1;for(var U=0;U<w.SN.length;U++)if(w.SN[U].Uy)O=!0;this._E=new jE(w.root,this,w,{RF:0,YQ:!1},{amF:O,a8W:this.aqT()},this.BN,0,new cn(0,0,w.e,w.n));
if(w.g.length==0||w.B[w.g[0]]==null)R.rV(this.SX,"disabled");else{R.Y4(this.SX,"disabled");if(w.g.length==1&&w.Bd){var b=w.g[0];
for(var U=0;U<this.BN.length;U++){var D=this.BN[U];if(D.H8.index==b&&D.SX.scrollIntoView)D.SX.scrollIntoView({block:"nearest"})}}var o=w.B[w.g[0]];
if(o._N()){this.z2.N8([[15,10,27]].concat(gA.Is),[1].concat(gA.Ch));var Z=gA.J5.indexOf(o.eI);this.z2.b(Z+1)}else{this.z2.N8(gA.Is,gA.Ch);
var Z=gA.J5.indexOf(o.eI);this.z2.b(Z)}this.jC.b(Math.round(100*o.opacity/255));this.Pp.b([o.uK(0),o.uK(1),o.uK(2),o.uK(31)]);
var $=w.Mu();this.z2.Sc(!$);this.sL.Sc(!$);this.jC.Sc(!$);this.Pp.Sc(!($&&!o.uK(31)));this.sL.b(Math.round(100*(o.add.iOpa!=null?o.add.iOpa/255:1)))}this.a93(null)};
dz.prototype.nQ=function(w,M){this.jy=w;this.e3=M;var O=this.SX.getBoundingClientRect().height;if(55<O&&O<56)O=60.2;
var b=M-(O+30);this.x4.style.height=b+"px";this.x4.style.width=w+"px"};dz.prototype.ajC=function(w){this.iO({d:Q.jO,XU:this.z2.Q()})};
dz.prototype.a5A=function(w){this.iO({d:Q.d4,XU:Math.round(255*this.jC.Q()/100)})};dz.prototype.a8a=function(w){this.iO({d:Q.d1,XU:[this.Pp.Q(),[0,1,2,31]]})};
dz.prototype.a9i=function(w){this.iO({d:Q.Pa,XU:Math.round(255*this.sL.Q()/100)})};dz.prototype.bB=function(w){if(w.target==this.kr)this.ahW();
var M=this.pW.Q();if(M)R.Y4(this.Hl,"disabled");else R.rV(this.Hl,"disabled");this.f();this._t.Er=!0;
this.ZM(this._t);this._t.Er=!1};dz.prototype.ahW=function(){var w=this.Hl;if(w==null){var M=this.abX,O=this.pW=new ji([0,6]);
O.h(A.E.r,this.bB,this);M.appendChild(O.m);w=this.Hl=R.S("span","disabled");M.appendChild(w);this.kr=new ao(null,["Kind",[12,48]],!1,[]);
this.kr.h(A.E.r,this.bB,this);var b=this.hm=[new cE(null,["<img src=\""+PIMG.pix_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/adj"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/htype"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.shape_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.so_layer+"\" class=\"miniscale gsicon\" />"],!0,[[12,76,2],[3,0],[12,44],[12,77],[6,7,1]]),new d8(null,null,8)];
b[0].h(A.E.r,this.bB,this);b[1].h("input",this.bB,this)}R.Mh(w);w.appendChild(this.kr.m);w.appendChild(this.hm[this.kr.Q()].m)};
dz.prototype.ah5=function(w){this.CG();this.agr(w,this.aee)};dz.prototype.axY=function(w){this.CG();
this.agr(w,this.ac5)};dz.prototype.agr=function(w,M){var O=w.currentTarget;if(R.FP(M.m))return;w.stopPropagation();
var b=O.getBoundingClientRect();M.f();M.update(this._t);M.parent=this;var D=new aX(A.E.Z,!0);D.data={d:A.t.U6,YT:M,x:b.left,y:b.top,ape:!0};
this.l(D)};dz.prototype.afo=function(w){this.iO({d:Q.aks})};dz.prototype.ajf=function(w){this.iO({d:this._t.g.length>1?Q.LQ:Q.ta})};
dz.prototype.ajT=function(w){this.iO({d:Q.Nv})};dz.prototype.a57=function(w){var M=this._t;if(M.g.length==0)return;
var O=M.B[M.g[0]],b=O.cn;this.iO({d:b<=0?O.aB?Q.B8:Q.MF:b==3?Q.mZ:Q.RG})};dz.prototype.agF=function(w){this.iO({d:Q.ZV})};
dz.prototype.iO=function(w){var M=new aX(A.E.s,!0);M.data=w;M.k=y.YH;this.l(M)};dz.prototype.l_=function(){var w=[[6,54,0],[11,6],[6,1],[6,21],[6,20],[6,13],[5,4]],M=[this.agF,this.axY,this.ah5,this.afo,this.ajf,this.ajT,this.a57],O=this.aeK.bind(this);
for(var U=0;U<w.length;U++){var b=new i8("W",!1,w[U]);this.hS.push(b);R.c3(b.m,M[U].bind(this));this.ni.appendChild(b.m);
if(U>=w.length-3){var D=b.m;D.addEventListener("drop",O,!1);D.addEventListener("dragover",function(o){o.preventDefault()},!1);
D.addEventListener("dragenter",R.qq,!1)}}};dz.prototype.aeK=function(w){R.qq(w);var M=0,O=this.hS;while(O[M].m!=w.currentTarget)M++;
O[M].l4();var b=w.dataTransfer.getData("Text");if(b=="")return;var b=JSON.parse(b);if(b.kB=="l"){var D={d:[Q.LQ,Q.Eb,Q.MF][M-4]};
if(this._t.g.indexOf(b.QT)==-1)D.q=b.QT;this.iO(D)}if(M!=6)return;if(b.kB=="sm"||b.kB=="s"){var o=new aX(A.E.s,!0);
o.k=y.GY;o.data={d:b.kB=="sm"?"st_clear":"st_delsingle",q:b.QT,QT:b.b9};this.l(o)}if(b.kB=="fm"||b.kB=="f"){this.iO({d:b.kB=="fm"?Q.Pk:Q.SO,src:b.QT,b9:b.b9})}if(b.kB=="m"||b.kB=="vm"){this.iO({d:b.kB=="m"?Q.RG:Q.B8,q:b.QT})}};
function jE(w,M,O,b,D,o,Z,$){eE.call(this);this.parent=M;this.yB=Z;this.H8=w;o.push(this);this.g3=O;
this.zx=b;var k=M.x4,E=w.q,t=O.g.indexOf(w.index)!=-1,d=null;this.SX=R.S("div",t?"head selected":"head");
if(E.add.artb!=null){R.rV(this.SX,"artb");$=E.pU()}var c=this.aiY=E._N()?26:Math.floor(10+E.ajZ/R.V()),l="height: "+c+"px;";
if(t&&D.amF)l+="background-color:rgba(255,50,50,0.4);";this.SX.setAttribute("style",l);this.uN=$;var q=this.a7B=this.a1S.bind(this),V=D.a8W&&!this.a4N();
if(!V){if(w.depth!=0){k.appendChild(this.SX);Z+=c}if(E.nP()||E.Kf())if(E.et()){d=this.ao3=R.S("div","lpineck");
k.appendChild(d);if(E.nP()){d.addEventListener("contextmenu",q,!1);var L=new dz.wt(fr.get([12,1]),"sm","layerstyle",w.depth,0,null);
Z+=21;L.parent=this;d.appendChild(L.m);var e=E.add.lmfx,H=e.masterFXSwitch.v;L.ah(H);for(var U=0;U<aN.order.length;
U++){var j=e[aN.IU[U]].v;if(j.length==0)continue;for(var g=0;g<j.length;g++){var L=new dz.wt(fr.get(aN.names[U]),"s","layerstyle",w.depth,1,[U,g]);
Z+=21;L.ah(H&&j[g].v.enab.v);L.parent=this;d.appendChild(L.m)}}}if(E.Kf()){var K=E.k1(O).D;if(K)this.Px=R.S("div","thumb");
var L=new dz.wt(fr.get([12,55]),"fm",null,w.depth,0,-1,K?this.Px:null);L.parent=this;d.appendChild(L.m);
this.ac$=L.m;this.ac$.addEventListener("contextmenu",q,!1);var e=E.add.SoLd.filterFX.v,a=e.filterFXList.v,H=e.enab.v;
L.ah(H);for(var U=a.length-1;U>=0;U--){var T=a[U].v,C=ek.aQ(T);if(a6.wv[C])C=a6.wv[C];var F=T.Nm.v;if(ek.names[C])F=fr.get(ek.names[C]);
if(a6.names[C])F=fr.get(a6.names[C]);var m="afw_"+C,L=new dz.wt(F,"f",m,w.depth,1,U);L.ah(H&&T.enab.v);
L.parent=this;d.appendChild(L.m)}}}}var N=[0,16711680,16748544,16763904,4513024,22015,11141375,7829367],v=E.add.lclr==null?0:N[E.add.lclr];
if(v==0)v=b.RF;this.a1t=v;if(E._N()&&(E.add.lsct==ht.cx||D.a8W)){var h={RF:v,YQ:b.YQ||E.uK(31)};for(var U=w.children.length-1;
U>=0;U--){var P=new jE(w.children[U],M,O,h,D,o,Z,$);Z=P.akn}}this.akn=Z}jE.prototype=new eE;jE.prototype.aik=function(){if(this.XF)return;
var w=this.H8,M=w.q,O=this.g3,b=this.zx,c=!0,v=!1;w.Td(O,this.uN,!0);var D=R.S("div","headL"),o=R.S("div","headR");
this.SX.appendChild(D);this.SX.appendChild(o);var Z=this.SX;Z.setAttribute("draggable","true");Z.addEventListener("dragstart",this.DN.bind(this),!1);
Z.addEventListener("drop",this.ST.bind(this),!1);Z.addEventListener("dragover",this.nU.bind(this),!1);
Z.addEventListener("dragenter",R.qq,!1);Z.addEventListener("dragleave",this.i5.bind(this),!1);var $=[],k=[null,null,null,null],E=M.Vd(),t=w;
while(t.parent){t=t.parent;E=E&&t.q.Vd()}if(M.fG){for(var U=w.index-1;U>=0;U--){var l=O.B[U];if(!l.fG){c=l.Vd();
break}}}var q=M.Vd()?E&&c?2:1:0;this.XF=R.S("div");var d=R.S("div",q==0?"sqr":"eye");this.XF.appendChild(d);
d.style.opacity=[.12,.33,1][q];var V=R.S("div","space");this.gN=R.S("div","label");this.gN.setAttribute("style","max-width:calc(100% - "+(96+w.depth*20)+"px); margin-top:"+(this.aiY-19)/2+"px;");
this.gN.textContent=M.getName();this.t9=R.S("div","lock");this.ach=R.S("div","lrfx");this.uS=R.S("div","arfx");
var L=this.a7B,e=this.aoh.bind(this);this.SX.addEventListener("click",e,!1);this.SX.addEventListener("contextmenu",L,!1);
var H=this.a1t,j=[H>>16,H>>8&255,H&255];for(var U=0;U<3;U++){j[U]=Math.round(.5*j[U]+.5*220)}this.XF.setAttribute("style","background-color:rgba("+j.join(",")+","+(H==0?0:1)+");");
var g=this.agD.bind(this);this.XF.addEventListener("mousedown",g,!1);this.XF.addEventListener("mouseover",g,!1);
this.uS.addEventListener("click",this.a4_.bind(this),!1);$[0]=this.XF;$[1]=V;$[10]=this.gN;if(M._N()){var K=R.S("div","arrow"),a=R.S("div","folder");
this.us(a);K.addEventListener("click",this.avx.bind(this),!1);$[2]=K;$[3]=a;K.className=M.add.lsct==ht.cx?"open":"closed"}else{this.lD=R.S("div","thumb");
$[5]=this.lD;jE.uy(this.lD,M.Gn);this.us(this.lD);if(a6.get(M.add))R.rV(M.Gn.canvas,"gsicon")}var T=M.yo();
if(T){this.Xw=R.S("div","chain");this.kb=R.S("div","thumb");jE.uy(this.kb,M.tX,!0);this.Xw.style.opacity=T.Jr?1:0;
this.Xw.addEventListener("click",this.arX.bind(this),!1)}var C=M.XS()&&M.add.vmsk;if(M.add.vmsk&&!C){this.wc=R.S("div","chain");
this.Pm=R.S("div","thumb");jE.uy(this.Pm,M.An,!0);this.wc.style.opacity=M.add.vmsk.Jr?1:0;this.wc.addEventListener("click",this.amY.bind(this),!1)}if(M.Kf()&&M.et()&&M.k1(O).D){jE.uy(this.Px,M.c6,!1);
this.us(this.Px);this.Px.addEventListener("click",e,!1);this.Px.addEventListener("contextmenu",L,!1)}if(w.index==O.g[0]){var F=M.cn,m;
if(F<=0)m=this.lD;else if(F==1)m=this.kb;else if(F==3)m=this.Px;if(m)m.className="thumb active";if(M.aB&&this.Pm)this.Pm.className="thumb active"}V.setAttribute("style","width:"+Math.max(0,w.depth-1)*18+"px");
var N=M.add.lspf!=null&&M.add.lspf!=0||b.YQ;this.t9.style.opacity=M.uK(31)?1:.5;$[4]=M.fG?R.S("div","clipp"):null;
$[6]=T?this.Xw:null;$[7]=T?this.kb:null;$[8]=M.add.vmsk&&!C?this.wc:null;$[9]=M.add.vmsk&&!C?this.Pm:null;
var h=M.nT,P=O.g;if(h!=0)for(var U=0;U<P.length;U++)if(O.B[P[U]].nT==h){v=!0;break}if(v){k[0]=R.S("div",M.q_?"link":"linkX");
k[0].addEventListener("click",this.aji.bind(this),!1)}k[1]=N?this.t9:null;k[2]=M.nP()?this.ach:null;
k[3]=M.nP()||M.Kf()?this.uS:null;this.uS.className=M.et()?"arfx open  gsicon":"arfx closed  gsicon";
var J=$;for(var U=0;U<J.length;U++)if(J[U])D.appendChild(J[U]);J=k;for(var U=0;U<J.length;U++)if(J[U])o.appendChild(J[U])};
jE.uy=function(w,M,O){var b=M.canvas;R.ge(b);if(O)w.setAttribute("draggable","true");w.appendChild(b);
b.setAttribute("style",b.getAttribute("style")+"; pointer-events:none")};jE.prototype.us=function(w){R.c3(w,function(M){if(this.parent.sQ[3]==0)return;
R.eX(M);R.UB(document.body,function(){clearTimeout(this.anl)}.bind(this));this.anl=setTimeout(function(){var O=new aX("rclick",!0);
O.data={q:this.H8.index,cn:this.cn(M),zH:R.Pr(M,document.body)};this.l(O)}.bind(this),600)}.bind(this))};
jE.yA=function(w,M){var O=M.getBoundingClientRect();return(w.clientY-O.top)/O.height};jE.prototype.DN=function(w){w.stopPropagation();
var M=w.target==this.kb?"m":w.target==this.Pm?"vm":"l";w.dataTransfer.setData("Text",JSON.stringify({kB:M,QT:this.H8.index}))};
jE.prototype.i5=function(w){R.qq(w);this.wh()};jE.prototype.ST=function(w){R.qq(w);this.wh();var M=w.dataTransfer.getData("Text"),O=this.parent._t,b=jE.yA(w,this.SX),D=this.H8.index;
if(b>.8){var o=!0,Z=O.root.KZ(D);while(Z.parent!=null){var $=Z.parent,k=$.children;if(k.indexOf(Z)!=0)o=!1;
Z=Z.parent}if(o){D=0;b=1}}if(M==""){R.Bs(w,this,this.parent.jG.indexOf(O),D+(b>.5?0:1))}else if(M!="--panel"){var M=JSON.parse(M),E=M.kB;
if(E=="l")this.iO({d:Q.x7,source:M.QT,target:D,lE:b});else if(E=="m"||E=="vm")this.iO({d:E=="m"?Q.a6s:Q.Tu,src:M.QT,Kt:D});
else jE.acq(w,M,this)}};jE.acq=function(w,M,O,b){var D=M.kB,o=O.H8.index,Z=M.QT;if(D=="s"||D=="sm")O.iO({d:Q.TM,src:Z,Kt:o,b9:M.b9});
if(D=="f"||D=="fm")O.iO({d:Q.apN,src:Z,Kt:o,b9:M.b9,qW:b==null?0:b})};jE.prototype.nU=function(w){R.qq(w);
var M=jE.yA(w,this.SX),O=this.H8.q._N()&&.5<M&&M<.8;this.wh();var b="inset 0 "+(O?0:M>.5?-3:3)+"px "+(O?"5px black":"0 rgba(0,0,0,0.5)");
this.SX.style.boxShadow=b};jE.prototype.wh=function(w){this.SX.style.boxShadow=""};jE.aa5=-1;jE.bF=!1;
jE.asx=function(w){jE.bF=!1;document.body.removeEventListener("mouseup",jE.asx)};jE.prototype.agD=function(w){if(w.button!=0)return;
if(w.type=="mousedown"){jE.bF=!0;document.body.addEventListener("mouseup",jE.asx,!1)}if(w.type=="mouseover"&&(!jE.bF||jE.aa5==this.H8.index))return;
R.qq(w);this.iO({d:Q.sb,q:this.H8.index});jE.aa5=this.H8.index};jE.prototype.avx=function(w){R.qq(w);
this.iO({d:Q.a8o,q:this.H8.index})};jE.prototype.arX=function(w){this.iO({d:Q.h8,q:this.H8.index})};
jE.prototype.amY=function(w){this.iO({d:Q.Bg,q:this.H8.index})};jE.NI=0;jE.prototype.M8=function(w){this.iO({d:Q.CS,q:this.H8.index,name:w})};
jE.prototype.a4_=function(w){this.iO({d:Q.aaz,q:this.H8.index})};jE.prototype.aji=function(w){this.iO({d:Q.OR,q:this.H8.index})};
jE.prototype.a1S=function(w){if(w.button!=2&&!R.ak_(w))return;var M=this.cn(w);if(M!=3&&w.currentTarget==this.ac$)M=4;
if(w.target==this.ach||w.currentTarget==this.ao3)M=5;var O=new aX("rclick",!0);O.data={q:this.H8.index,cn:M,zH:R.Pr(w,document.body)};
this.l(O)};jE.prototype.cn=function(w){var M=w.target,O=M;return O==this.Pm?2:O==this.kb?1:O==this.lD?0:O==this.Px?3:-1};
jE.prototype.aoh=function(w){var M=w.target,l;if(M==this.XF.firstChild||M==this.uS||M==this.Xw||M==this.wc||M.tagName&&M.tagName.toLowerCase()=="input")return;
var O=this.cn(w),b=this.parent._t,D=this.H8.index,o=b.B[D];if(M==this.t9){this.iO({d:Q.d1,q:D,XU:[[!1,!1,!1,!1,!1],[0,1,2,3,31]]});
return}if(M==this.gN){var Z=jE.NI;jE.NI=Date.now();if(Date.now()-Z<300){this.SX.setAttribute("draggable","false");
var $=new dh.cQ(this.gN,this.M8.bind(this))}else this.iO({d:Q.y6,q:D,uf:O,fz:!0});return}if(w.button==0&&w.detail==2){if(M==this.gN)return;
var k=new aX(A.E.s,!0),E=new aX(A.E.Z,!0),t=new aX(A.E.Lm,!0);if(O==0&&o.add.SoCo){var c=x.M.FL(o.add.SoCo.Clr.v);
E.data={d:A.t.JE,IP:"colorpicker",RF:c.o<<16|c.w<<8|c.L,at:function(V){var L=x.M.jk({L:V&255,w:V>>>8&255,o:V>>16&255});
L={classID:"null",Clr:{t:"Objc",v:L}};var e=new aX(A.E.s,!0);e.k=y.YH;e.data={d:Q.dH,MV:[D],l$:!0,G:{Gw:1,MJ:L}};
this.l(e)}.bind(this),xt:!0}}else if(O==0&&(a6.get(o.add)||o.add.SoCo||o.add.GdFl||o.add.PtFl))E.data={d:A.t.cf,IP:dh.mJ.IT};
else if(O!=0&&O!=-1)E.data={d:A.t.cf,IP:dh.mJ.IT};else if(O==0&&o.add.SoLd)t.data={wV:"placedLayerEditContents",g0:{classID:"placedLayerEditContents"}};
else if(O==0&&o.add.TySh){k.k=y.hY;k.data={d:"editCurr",dp:D}}else E.data={d:A.t.JE,IP:"layerstyle",q:D};
this.l(t.data?t:E.data?E:k);return}if(w.button!=0)return;if(O==1||O==3){var q=O==3?o.k1(b).D:o.yo();
l=q.Uy?b.P.$Y.join("")=="111"?1:2:0}var d={d:Q.y6,q:D,uf:O,ac3:l,fz:!0};this.iO(d)};jE.prototype.iO=function(w){var M=new aX(A.E.s,!0);
M.data=w;M.k=y.YH;this.l(M)};jE.prototype.a4N=function(){var w=this.H8.q,M=w.add,O=this.parent.kr.Q(),b=this.parent.hm[O].Q();
if(O==0){if(b[0]&&M.SoLd==null&&M.TySh==null&&w.Ux())return!0;if(b[1]&&a6.get(M)!=null)return!0;if(b[2]&&M.TySh!=null)return!0;
if(b[3]&&M.vstk!=null)return!0;if(b[4]&&M.SoLd!=null)return!0;return!1}if(O==1)return w.getName().toLowerCase().indexOf(b.toLowerCase())!=-1};
dz.wt=function(w,M,O,b,D,o,Z){eE.call(this);this.ay1=M;this.Jc=O;this.index=o;this.m=R.S("div","styleitem");
this.SX=R.S("div","head");this.a3H=null;if(M=="f"){var $=this.a3H=R.S("div","headR");$.textContent="\u2699";
this.SX.appendChild($)}this.XF=R.S("div","eye gsicon");this.gN=R.S("div","label");this.m.appendChild(this.SX);
this.SX.appendChild(this.XF);if(Z){this.kb=Z;this.SX.appendChild(Z);this.SX.setAttribute("style","height: "+(26/R.V()+10)+"px")}this.gN.innerHTML=w;
this.m.setAttribute("style","margin-left: "+(24+b*16+D*22)+"px");this.SX.appendChild(this.gN);this.XF.addEventListener("click",this.ak9.bind(this),!1);
var k=this.m;k.setAttribute("draggable","true");k.addEventListener("dragstart",this.DN.bind(this),!1);
if(!0){k.addEventListener("drop",this.ST.bind(this),!1);k.addEventListener("dragover",this.nU.bind(this),!1);
k.addEventListener("dragenter",R.qq,!1);k.addEventListener("dragleave",this.i5.bind(this),!1)}this.m.addEventListener("click",this.oH.bind(this),!1)};
dz.wt.prototype=new eE;dz.wt.prototype.DN=function(w){w.stopPropagation();w.dataTransfer.setData("Text",JSON.stringify({kB:this.ay1,QT:this.parent.H8.index,b9:this.index}))};
dz.wt.prototype.i5=function(w){R.qq(w);this.wh()};dz.wt.prototype.ST=function(w){R.qq(w);this.wh();var M=w.dataTransfer.getData("Text");
if(M=="")return;var M=JSON.parse(M);jE.acq(w,M,this.parent,this.index+(jE.yA(w,this.SX)>.5?0:1))};dz.wt.prototype.nU=function(w){R.qq(w);
var M=jE.yA(w,this.SX)>.5;this.wh();var O="border-"+(M?"bottom":"top");this.SX.style[O]="0.2em solid rgba(0,0,0,0.5)"};
dz.wt.prototype.wh=function(w){this.SX.style.border="none"};dz.wt.prototype.ah=function(w){this.XF.style.opacity=w?1:.2};
dz.wt.prototype.oH=function(w){if(w.target==this.XF)return;var M=this.parent.H8.index;if(w.detail!=1&&this.Jc!=null){var M=this.parent.H8.index,O=new aX(A.E.Z,!0);
if(this.Jc.indexOf("afw_")==0){var b=this.Jc.slice(4),D=_[b]||ek.c[b],o=w.target==this.a3H;if(!o&&!D)return;
O.data=y.U0.a9t(o?"blendOptions":b,{q:M,index:this.index})}else O.data={d:A.t.JE,IP:this.Jc,q:M,index:this.index};
this.l(O)}else{if(w.target.className!="thumb")this.parent.iO({d:Q.y6,q:M,uf:0})}};dz.wt.prototype.ak9=function(w){var M={fm:Q.ag,f:Q.ZO,sm:Q.K3,s:Q.sk}[this.ay1];
this.parent.iO({d:M,q:this.parent.H8.index,index:this.index})};function fR(){dh.call(this,"Guide Guy",!1,"---panels/guideguy",dh.mJ.adQ);
this.sT=null;this.tR=new ao(null,x.Rk.pD)}fR.prototype=new dh("");fR.prototype.v6=function(){this.iJ=[];
var w=R.S("div","form padded");this.R2.appendChild(w);w.setAttribute("style","width:200px");this.R2.appendChild(w);
var M=R.S("canvas"),O=M.getContext("2d");M.width=M.height=160;var b=[32,0,16,160,0,32,160,16,0,112,160,16],D="Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(","),o=[0,0,0,0,0,0,0,0,0,0];
w.appendChild(this.tR.m);for(var U=0;U<10;U++){O.clearRect(0,0,160,160);O.setTransform(1,0,0,1,80,80);
O.rotate((U&3)*Math.PI/2);O.translate(-80,-80);O.fillStyle="rgba(0,0,0,0.3)";if(U<4){for(var Z=0;Z<12;
Z+=4){O.fillStyle=Z==0?"#000000":"rgba(0,0,0,0.3)";O.fillRect(b[Z],b[Z+1],b[Z+2],b[Z+3])}}else if(U<6){var $=8*6;
O.fillRect(0,0,$,160);O.fillRect(8*7,0,$,160);O.fillStyle="#000000";O.fillRect(8*14,0,$,160)}else if(U<8){O.fillRect(0,0,16,160);
O.fillRect(160-16,0,16,160);O.fillRect(32,0,160-64,160);O.fillStyle="#000000";O.fillRect(32,80-8,160-64,8*1)}else{O.fillRect(0,0,8*7,160);
O.fillRect(8*13,0,160,160);O.fillStyle="#000000";O.fillRect(8*7,80-8,8*6,8*1)}var k="<img src=\""+M.toDataURL()+"\" class=\"autoscale gsicon\" /> ",E=new gL(k,0,200,null,U==4||U==5?0:2,null,null,4,D[U]);
E.parent=this;E.h(A.E.r,this.a74,this);E.b(o[U]);E.f();this.iJ.push(E);w.appendChild(E.m)}var t=[[11,14],[11,15,0]];
this.no=[];for(var U=0;U<t.length;U++){var c=new i8(t[U],!0,null,!0);this.no.push(c);c.h("click",this.K_,this);
w.appendChild(c.m)}for(var U=0;U<6;U++){O.setTransform(1,0,0,1,80,80);O.rotate(Math.floor(U/3)*Math.PI/2);
O.translate(-80,-80);O.clearRect(0,0,160,160);O.fillStyle="rgba(0,0,0,0.3)";O.fillRect(0,0,160,160);
O.clearRect(16,16,128,128);O.fillStyle="#000000";var l=U%3;O.fillRect([0,9,18][l]*8,0,16,160);var k="<img src=\""+M.toDataURL()+"\" class=\"autoscale gsicon\" /> ",c=new i8(k,!1,null,!1);
this.no.push(c);c.h("click",this.K_,this);w.appendChild(c.m)}};fR.prototype.f=function(){dh.prototype.f.call(this);
this.tR.f();if(this.iJ==null)return;for(var U=0;U<this.no.length;U++)this.no[U].f()};fR.prototype.a74=function(w){var M=this.iJ,O=M.indexOf(w.target),b=Math.floor(O/2),D=O&1,o=[];
for(var U=0;U<4;U++)o.push(M[2*U+D].Q());var Z=-1;if(b==2&&o[2]!=0&&o[3]!=0&&o[4]!=0)Z=4;if(b==3&&o[3]!=0&&o[2]!=0&&o[4]!=0)Z=4;
if(b==4&&o[4]!=0&&o[2]!=0&&o[3]!=0)Z=3;if(Z!=-1)M[2*Z+D].b(0)};fR.prototype.K_=function(w){var M=this.sT,O=this.no.indexOf(w.target),b=[[],[]];
if(M==null)return;var D=M.X?M.X.rect:new cn(0,0,M.e,M.n),o=D.e,Z=D.n;if(O==0){var $=[[],[]],k=this.tR.Q();
for(var U=0;U<this.iJ.length;U++){var E=this.iJ[U].Q();E=x.Rk.pw(E,M.Z1,M.e,k);$[U&1].push(E)}var t=[fR.a3k($[0],D.x,D.x+o),fR.a3k($[1],D.y,D.y+Z)];
b=fR.abr(t);y.t7.PT(b,M.Wp())}else if(O==1){}else{O-=2;var c=Math.floor(O/3),t=[[],[]];t[c].push([D.x,D.x+o/2,D.x+o,D.y,D.y+Z/2,D.y+Z][O]);
b=fR.abr(t);y.t7.PT(b,M.Wp())}this.a0i(b)};fR.abr=function(w){var M=[],O=[];for(var b=0;b<2;b++)for(var U=0;
U<w[b].length;U++){M.push([b,w[b][U]]);O.push(-1)}return[M,O]};fR.prototype.ahp=function(w){var M=this.aja.indexOf(w.target)};
fR.prototype.a0i=function(w){var M=new aX(A.E.s,!0);M.k=y.R6;M.data={d:"gids",vM:w};this.l(M)};fR.a3k=function(w,M,O){var b=[],D=w[2],o=w[3],Z=w[4],$=0;
if(D==0)$++;if(o==0)$++;if(Z==0)$++;if($>1&&D==0&&o==0){if(w[0]!=0)b.push(M+w[0]);if(w[1]!=0)b.push(O-w[1]);
return b}var k=O-M-w[0]-w[1];if(D==0){if(Z==0){D=Math.floor(k/o);Z=(k-D*o)/(D-1)}else{D=1;while(o*D+Z*(D-1)+o+Z<=k)D++}}else if(D!=0&&o!=0){if(D*o>k)D=Math.floor(k/o);
Z=(k-D*o)/(D-1)}b.push(M+w[0],O-w[1]);var o=(k-Z*(D-1))/D;for(var U=1;U<D;U++){if(Z==0)b.push(M+w[0]+U*o);
else b.push(M+w[0]+U*o+(U-1)*Z,M+w[0]+U*o+U*Z)}return b};fR.prototype.ZM=function(w,M,O){this.sT=w};
fR.prototype.Pu=function(){if(R.FP(this.R2)&&this.iJ==null)this.v6();this.f()};fR.prototype.o9=function(w){this.tR.b(w.sw.OF)};
function c5(){dh.call(this,[9,2],!1,"---panels/properties",dh.mJ.IT);this.aqZ=null;this.g3=null;this.P4=null;
this.alW=-1;this.Q4=null}c5.prototype=new dh("");c5.prototype.nQ=function(w,M){this.jy=w;this.e3=M;w=w-16;
M=M-12;var O=this.Q4;if(O){O.style.width=w+"px";O.style.height=M+"px";for(var U=0;U<3;U++)this.wa[U].nQ(w-12,M)}};
c5.prototype.v6=function(){this.Q4=R.S("div","padded scrollable");this.R2.appendChild(this.Q4);var w=R.S("span");
this.Q4.appendChild(w);this.mF=[new i8([0,3]),new i8([12,73]),new i8([12,91,0])];for(var U=0;U<this.mF.length;
U++){var M=this.mF[U];M.h("click",this.a4v,this);w.appendChild(M.m);if(U==2)M.m.style.marginRight="0"}this.Q4.appendChild(R.S("hr"));
this.$w=new c5.Oo;this.$w.parent=this;this.tB=new c5.DY;this.tB.parent=this;this.iU=new c5.o5;this.iU.parent=this;
this.wa=[this.$w,this.tB,this.iU];this.Q4.appendChild(this.$w.m);this.nQ(this.jy,this.e3)};c5.prototype.a4v=function(w){var U=this.mF.indexOf(w.currentTarget);
this.Jb(U);this.a54(U==1?this.tB.iv:-1)};c5.prototype.Jb=function(w){for(var U=0;U<3;U++){this.mF[U].l4();
var M=this.wa[U].m;if(M.parentNode==this.Q4&&U!=w)this.Q4.removeChild(M);if(M.parentNode!=this.Q4&&U==w)this.Q4.appendChild(M)}this.mF[w].L5()};
c5.prototype.a54=function(w){var M=this.g3.g[0],O=this.g3.B[M],b=w+1;if(w==1&&O.aB)return;var D=new aX(A.E.s,!0);
D.k=y.YH;if(w!=1&&O.aB){D.data={d:Q.y6,q:M,uf:2};this.l(D)}D.data={d:Q.y6,q:M,uf:b};this.l(D)};c5.prototype.f=function(){dh.prototype.f.call(this);
if(this.Q4==null)return;this.ZM(this.g3);for(var U=0;U<3;U++){this.mF[U].f();this.wa[U].f()}};c5.prototype.Pu=function(){if(!R.FP(this.R2))return;
if(this.Q4==null){this.v6();this.o9(this.P4,eM.vI);this.ZM(this.aqZ);this.f()}};c5.prototype.ZM=function(w){this.aqZ=w;
if(this.Q4==null)return;this.$w.ZM(w);this.tB.ZM(w);this.iU.ZM(w);if(w==null||w.g.length==0||w.B[w.g[0]]==null){R.rV(this.R2,"disabled");
this.g3=null;return}else R.Y4(this.R2,"disabled");var M=w.g[0],O=w.B[M],b=w.ff(),D=b[0],o=b[1];if(o.length!=0){var Z=D[o[0]],$=Z.add.vogk,k=!1;
if($)for(var U=0;U<$.length;U++){var E=$[U].v;if(!x.lK.HL(E))continue;k=!0;M=Z.zS}}M+=","+k;if(w!=this.g3||this.alW!=M){this.g3=w;
this.alW=M;if(k)this.Jb(2);else if(O.cn<1&&!O.aB||a6.get(O.add))this.Jb(0);else this.Jb(1)}this.mF[1].Sc(this.tB.iv!=-1);
this.mF[2].Sc(k)};c5.prototype.o9=function(w,M){this.P4=w;if(this.$w)this.$w.o9(w,M);if(this.iU)this.iU.o9(w,M)};
c5.Oo=function(){eE.call(this);this.m=R.S("div","form");this.a28=new as("Hello");this.jK=new i8([1,12,2],null,null,!0);
this.jK.m.style.apf="right";this.jK.h("click",this.R_,this);this.m.appendChild(this.a28.m);this.m.appendChild(this.jK.m);
this.c4=null;this.Sb=null;this.g3=null;this.P4=null;this.a7r=-1;this.a5F=null;this.YL=null;this.jo=new h6(0,!0,!0);
this.jo.parent=this;this.jo.h(A.E.r,this.axE,this);this.m.appendChild(this.jo.m);this.Vy=new bQ(!0);
this.Vy.parent=this;this.Vy.h(A.E.r,this.av3,this);this.QW=R.S("div","marged hiline");this.QW.appendChild(this.Vy.m);
this.J3=new dY("GrFl",!0);this.J3.parent=this;this.J3.h(A.E.r,this.arn,this);this.Al=R.S("div","marged hiline");
var w="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");for(var U=0;U<w.length;U++){var M=this.J3.MT[w[U]].m;
this.Al.appendChild(M)}this.wU=new dY("patternFill",!0);this.wU.parent=this;this.wU.h(A.E.r,this.a81,this);
this.xJ=R.S("div","marged hiline");var w=["Ptrn","Angl","Scl","Algn","phase"];for(var U=0;U<w.length;
U++){var M=this.wU.MT[w[U]].m;this.xJ.appendChild(M)}this.dC={};for(var O in a6.names){if(_[O]==null)continue;
this.dC[O]=new _[O];this.dC[O].h(A.E.r,this.asr,this);this.dC[O].parent=this}var b=this.a9L=R.S("div","marged hiline");
this.Z7=new h6(0,!0);b.appendChild(this.Z7.m);this.Z7.h(A.E.r,this.gA,this);this.axy=null;this.WX=new bi;
this.WX.parent=this;this.WX.h(A.E.r,this.gA,this);b.appendChild(this.WX.m)};c5.Oo.prototype=new eE;c5.Oo.prototype.axE=function(w){var M=this.jo.Q(),O=this.YL,b=new cn(M[0],M[1],M[2],M[3]);
if(b.M5(O))return;this.YL=b;var D=new aX(A.E.s,!0);if(O.e==b.e&&O.n==b.n){D.k=y.R6;D.data={d:"trsl",L1:b.x-O.x,A2:b.y-O.y}}else{D.k=y.T0;
D.data={d:"scl",vZ:[2,4],G:new at(b.e/O.e,b.n/O.n),Bn:0}}this.l(D)};c5.Oo.prototype.nQ=function(w,M){var O=this.dC;
for(var b in O)O[b].nQ(w,M)};c5.Oo.prototype.R_=function(w){var M=this.g3,O=M.B[M.g[0]],b=a6.get(O.add);
this.Sb.b(ek.pp(b));this.asr()};c5.Oo.prototype.f=function(){for(var w in this.dC)this.dC[w].f();this.J3.f();
this.wU.f();this.WX.f();this.Z7.f();this.jK.f();this.jo.f()};c5.Oo.prototype.gA=function(w){var M=new aX(A.E.s,!0),O=this.Z7.Q(),b=this.axy;
if(w.target==this.Z7&&O[2]==b[2]&&O[3]==b[3]){M.k=y.R6;M.data={d:"trsl",L1:O[0]-b[0],A2:O[1]-b[1]}}else{var D=Q.dY(new cn(O[0],O[1],O[2],O[3])),o=this.WX.axO();
o.artboardRect={t:"Objc",v:D};M.k=y.YH;M.data={d:Q.wM,so:o}}this.l(M)};c5.Oo.prototype.av3=function(w){var M=this.g3,O=M.g[0];
if(M.B[O].add.SoCo==null)return;var b=JSON.parse(JSON.stringify(M.B[O].add.SoCo));b.Clr.v=this.Vy.Q();
this.v8({Gw:1,MJ:b})};c5.Oo.prototype.arn=function(w){var M=this.g3,O=M.g[0];if(M.B[O].add.GdFl==null)return;
this.v8({Gw:2,MJ:this.J3.Q()})};c5.Oo.prototype.a81=function(w){this.v8({Gw:3,MJ:this.wU.Q()})};c5.Oo.prototype.v8=function(w){this.anw(y.YH,{d:Q.dH,MV:[this.g3.g[0]],l$:!0,G:w})};
c5.Oo.prototype.asr=function(w){this.anw(y.jZ,{d:"edit_layer",G:this.Sb.Q()})};c5.Oo.prototype.anw=function(w,M){var O=new aX(A.E.s,!0);
O.k=w;O.data=M;this.l(O)};c5.Oo.prototype.ZM=function(w,M){var O=fr.get([0,3]),b=!1,D=!1,o=null;this.g3=w;
if(w&&w.B.length>0&&w.g.length!=0&&w.B[w.g[0]]){var Z=w.B[w.g[0]],$=a6.get(Z.add);if($!=null&&this.dC[$]!=null){o=this.dC[$].m;
this.Sb=this.dC[$];this.dC[$].b(JSON.parse(JSON.stringify(Z.add[$])));if(w.g[0]!=this.a7r){var k=w.Hp(w.g[0]-1);
this.a5F=x.mv(k)}this.dC[$].RY(this.a5F);O=fr.get(a6.names[$]);b=!0}if($==null&&Z.add.artb==null){var E=this.YL=x.p.Mf(y.u.HW(w));
D=!E.S9();this.jo.b([E.x,E.y,E.e,E.n],[w.Z1,w.e,this.P4.sw.OF])}if(Z.add.SoCo){o=this.QW;this.Vy.b(Z.add.SoCo.Clr.v);
O=fr.get([6,48,0,0])}if(Z.add.GdFl){o=this.Al;this.J3.update(w,Z.add.GdFl);O=fr.get([6,48,0,1])}if(Z.add.PtFl){o=this.xJ;
this.wU.update(w,Z.add.PtFl);O=fr.get([6,48,0,2])}if(Z.add.artb){var t=Z.add.artb,c=Z.pU();o=this.a9L;
this.WX.avr(t);var l=this.axy=[c.x,c.y,c.e,c.n];this.Z7.b(l,[w.Z1,w.e,this.P4.sw.OF]);O=fr.get([1,16,0])}this.a7r=w.g[0]}if(o!=this.c4){if(this.c4)this.m.removeChild(this.c4);
if(o!=null)this.m.appendChild(o);this.c4=o}this.a28.b(O);this.jK.m.style.display=b?"":"none";this.jo.m.style.display=D?"":"none"};
c5.Oo.prototype.o9=function(w,M){this.P4=w;this.J3.o9(w,M);this.wU.o9(w,M);if(M==eM.DK)this.ZM(this.g3,w);
for(var O in this.dC)this.dC[O].o9(w,M)};c5.DY=function(){eE.call(this);this.m=R.S("div","form");this.g3=null;
this.iv=0;var w=R.S("span","fitem");this.m.appendChild(w);this.mF=[new i8([6,2]),new i8([6,3]),new i8([6,50])];
for(var U=0;U<this.mF.length;U++){var M=this.mF[U];M.h("click",this.a2d,this);w.appendChild(M.m)}this.oW=new hy([12,74],0,255);
this.oW.h(A.E.r,this._D,this);this.m.appendChild(this.oW.m);this.cm=new hy([7,6],0,500,"px",2,!0);this.cm.h(A.E.r,this._D,this);
this.m.appendChild(this.cm.m);this.OJ=new i8([4,11],null,null,!0);this.OJ.h("click",this.a7S,this)};
c5.DY.prototype=new eE;c5.DY.prototype.a7S=function(){var w=new aX(A.E.s,!0);w.k=y.jZ;w.data={d:"start",Sk:"nvrt"};
this.l(w)};c5.DY.prototype._D=function(w){var M=this.oW.Q(),O=this.cm.Q(),b=new aX(A.E.s,!0);b.k=y.YH;
b.data={d:Q.GX,W_:this.g3.g[0],ra:{q5:this.iv,oW:M,cm:O}};this.l(b)};c5.DY.prototype.f=function(){for(var U=0;
U<this.mF.length;U++)this.mF[U].f();this.oW.f();this.cm.f();this.OJ.f()};c5.DY.prototype.ZM=function(w){this.g3=w;
this.rU()};c5.DY.prototype.a2d=function(w){this.rU(this.mF.indexOf(w.currentTarget));this.parent.a54(this.iv)};
c5.DY.prototype.rU=function(w){var M=this.g3,O=this.mF;for(var U=0;U<3;U++){var b=O[U];b.l4();b.Sq()}if(M==null||M.B.length==0||M.g.length==0||M.B[M.g[0]]==null)return;
var D=-1,o=M.B[M.g[0]];if(o.Kf()&&o.k1(M).D!=null){O[2]._C();D=2}if(o.add.vmsk){O[1]._C();D=1}if(o.yo()){O[0]._C();
D=0}if(w!=null)D=w;else if(o.aB)D=1;else if(o.cn==3)D=2;else if(o.cn==1)D=0;this.iv=D;if(D==-1){this.oW.Sq();
this.cm.Sq();return}var Z=o.u6(D);this.oW._C();this.cm._C();this.oW.b(Z.oW);this.cm.b(Z.cm);O[D].L5();
var $=this.OJ.m;if(D==0)this.m.appendChild($);else if($.parentNode==this.m)this.m.removeChild($)};c5.o5=function(){eE.call(this);
this.m=R.S("div","form");this.sT=null;this.P4=null;this.Xf=-1;this.jo=new h6(0,!1);this.E7=new hy([12,15],-180,180,"\xB0",2);
this.Xm=new h6(1,!0);this.ca=new hy([12,94,0],0,100,null,2);this.Sg=new hy([12,78],3,30);this.jo.h(A.E.r,this.pR,this);
this.E7.h(A.E.r,this.pR,this);this.Xm.h(A.E.r,this.pR,this);this.ca.h(A.E.r,this.pR,this);this.Sg.h(A.E.r,this.pR,this)};
c5.o5.prototype=new eE;c5.o5.prototype.f=function(){this.jo.f();this.E7.f();this.Xm.f();this.ca.f();
this.Sg.f()};c5.o5.prototype.pR=function(w){var M=this.sT,O=x.lK.C9(M),b=w.target.Q(),D=[this.jo,this.E7,this.Xm,this.ca,this.Sg].indexOf(w.target);
if(D==0){var o=[];o[0]=b[0];o[1]=b[1];o[2]=o[0]+b[2];o[3]=o[1]+b[3];b=o}if(D==1)b=b*Math.PI/180;var Z={0:1,1:2,2:3,3:3,4:4}[D];
O[Z]=b;var $=new aX(A.E.s,!0);$.k=y.YH;$.data={d:Q.ER,G:O};this.l($)};c5.o5.prototype.ZM=function(w){var M=this.m;
this.sT=w;if(w==null)return;var O=this.P4,b=[w.Z1,w.e,O.sw.OF],D=x.lK.C9(w),o=D[0],Z=D[1];if(Z==null)return;
var $=o!=this.Xf;this.Xf=o;if($)R.Mh(M);if($)M.appendChild(this.jo.m);if($)M.appendChild(this.E7.m);
this.jo.b([Z[0],Z[1],Z[2]-Z[0],Z[3]-Z[1]],b);this.E7.b(D[2]*180/Math.PI);if(o==2){if($)M.appendChild(this.Xm.m);
var k=D[3];this.Xm.b(k,b)}if(o==7||o==8){if($)M.appendChild(this.ca.m);this.ca.b(D[3])}if(o==8){if($)M.appendChild(this.Sg.m);
this.Sg.b(D[4])}};c5.o5.prototype.o9=function(w,M){this.P4=w;this.ZM(this.sT)};function fB(w){dh.call(this,w.name,!0);
this._t=w;this.ND=null;this.or=document.createElement("canvas");this.i$=this.or.getContext("2d");this.s8=document.createElement("canvas");
this.iu=this.s8.getContext("2d");var M=16,O=x.$(16*16*4);x.zp(O,M,M,8);this.Il=x.scale.o2(O,M,M);this.BF=new by(this.R2);
this.BF.parent=this;this.fC=0;this.adt="";this.Ij=4}fB.prototype=new dh;fB.prototype.ad6=function(){if(this._t.Zh())return window.confirm(fr.get([22,6,3])+" "+this._t.name+". "+fr.get([22,6,4]));
return!0};fB.prototype.o9=function(w,M){this.ND=w};fB.prototype.ZM=function(w){this.Pu();this.Yk()};
fB.prototype.nQ=function(w,M){if(w<=0||M<=0)return;this.jy=w;this.e3=M;var O=this._t,b=R.V();O.P.iu.e=Math.floor(w*b);
O.P.iu.n=Math.floor(M*b);R.GL(this.s8,w,M);R.GL(this.or,w,M);R.GL(X.$B(),w,M);if(O.P.T==0)O.P.T=y.T5.ae9(O.e,O.n,w*b,M*b);
this.Yk()};fB.prototype.Pu=function(){var w=this.R2.firstChild;if(!X.Nu&&w==X.$B()||X.Nu&&w==this.s8)this.R2.removeChild(w);
var M=X.Nu?X.$B():this.s8;if(!R.FP(M))this.R2.appendChild(M)};fB.prototype.Yk=function(){if(X.Nu!=this.Ij){this.fC=0;
this.adt=""}this.Ij=X.Nu;if(this.ND==null)return;if(X.Nu)this.axW();else this.bD();var w=this._t;this.fC=w.P.T;
this.adt=JSON.stringify(w.P.$Y)};fB.prototype.axW=function(){if(X.Nu&&fB.bh==null){var w=fB.bh=[],M=[0,2,8,32,128];
for(var U=0;U<5;U++)w[U]=[new fB.Uz(!1,M[U],!1),new fB.Uz(!0,M[U],!1)];w.push([new fB.Uz(!1,0,!0),new fB.Uz(!0,0,!0)])}var O=this._t,c,d=0,K,a;
if(O.yO==null)return;var b=O.P,D=b.iu.e,o=b.iu.n,Z=X.Mn;this.iu.clearRect(0,0,D,o);var $=this.ahf(O);
if(b.k7==null)b.k7=new X.ka(D,o);if($)b.k7.set(this.s8);else{X.IF(b.k7);X.mi(1)}var k=b.hP(0,0),E=new f$;
E.scale(D,o);E.concat(b.Ec(!0));E.scale(1/O.e,1/O.n);var t=[E.ip,E.L,0,E.Hv,E.uc,0,E.hE,E.Qw,1];if(fB.arV==null)fB.arV=new Float32Array(4*1024);
var l=[0,0,0,0],q=fB.arV;if(O.add.artd){q.fill(0);l=fB.Ze(O);var V=O.e,L=O.n,g=0;for(var U=0;U<O.B.length;
U++){var e=O.B[U],H=e.add.artb;if(H==null||!e.Vd())continue;var j=e.pU();q[d]=j.x/V;q[d+1]=j.y/L;q[d+2]=j.e/V;
q[d+3]=j.n/L;d+=4;if(d==q.length)break}if(d>2*4)g++;if(d>8*4)g++;if(d>32*4)g++;c=fB.bh[g+1];q=new Float32Array(q.buffer,0,[2,8,32,128][g]*4)}else c=fB.bh[O.i7?5:0];
var T=O.bJ();if(T==null)c=c[0];else{c=c[1];a=T[O.add.fcmy==1?6:4];K=T[2]}X.Db(D,o);X.mi(0);X.Db(D,o);
c.$x();c.V9(b.k7.p3,O.yO.p3,new Float32Array(t),new Float32Array([D/8,o/8,k.x/D,k.y/o]),O.e,O.n,1/O.P.T,D,o,new Float32Array(l),q,new Float32Array(x.in.lj(x.in.q3(b.$Y))),a,K);
Z.drawArrays(Z.TRIANGLES,0,6)};fB.Ze=function(w){return[0,0,0,0]};fB.ans=function(w){var M=x.M.FL(w.v),O=[M.o/255,M.w/255,M.L/255,1];
for(var U=0;U<4;U++)O[U]=Math.min(1,O[U]);return O};fB.BA=function(w,M){var O=w[2]*255;if(X.Nu)O=M?0:Math.max(1,O);
return"rgba("+w[0]*255+","+w[1]*255+","+O+","+w[3]+")"};fB.X9=function(w){if(X.Nu)for(var U=0;U<w.length;
U+=4){if(w[U+2]==0)w[U+2]=3}};fB.prototype.bD=function(){var w=this._t;if(w.buffer==null)return;var M=w.P,O=M.iu,b=O.e,D=O.n,o=new cn(0,0,w.e,w.n);
this.i$.clearRect(0,0,b,D);this.iu.clearRect(0,0,b,D);var Z=M.Ec(!0),$=Z.clone();$.ZW();if(w.add.artd==null){this.iu.save();
var k=$.xU(new at(0,0));$.translate(-k.x,-k.y);this.iu.translate(Math.round(k.x),Math.round(k.y));this.iu.fillStyle=this.Il;
if(w.i7)this.iu.fillRect(-5e3,-5e3,2e4,2e4);else{this.nn(x.p.zl(o),$,this.iu);this.iu.fill()}this.iu.restore()}else{this.iu.fillStyle=fB.BA(fB.Ze(w));
this.iu.fillRect(0,0,b,D);this.iu.save();this.iu.setTransform($.ip,$.L,$.Hv,$.uc,$.hE,$.Qw);var E=w.root.children;
for(var U=0;U<E.length;U++){var t=E[U].q;if(t.add.artb==null||!t.Vd())continue;var c=t.pU(),l=t.Ir();
if(l!=0)continue;this.iu.fillStyle=this.Il;this.iu.save();this.iu.scale(1/M.T,1/M.T);this.iu.fillRect(M.T*c.x,M.T*c.y,c.e*M.T,c.n*M.T);
this.iu.restore()}this.iu.restore()}if(M.rK.length!=O.v()){M.rK=x.$(O.v());M.IJ=x.$(O.v()*4)}M.IJ.fill(0);
x.scale.e$(w.buffer,o,Z,M.IJ,O,w.i7);var q=w.bJ();if(q)ICC.U.applyLUT(q[w.add.fcmy==1?5:3],q[2],M.IJ,M.IJ);
if(M.$Y[0]+M.$Y[1]+M.$Y[2]!=3)x.in.gc(M.IJ,M.IJ,x.in.q3(M.$Y));this.i$.putImageData(new ImageData(new Uint8ClampedArray(M.IJ.buffer),O.e,O.n),0,0);
this.iu.drawImage(this.or,0,0);this.iu.getImageData(0,0,1,1);this.ahf(w)};fB.prototype.ahf=function(w){var M=w.P,O=M.$Y[0]+M.$Y[1]+M.$Y[2],b=!1,D=[];
for(var U=0;U<w.g.length;U++){var o=w.B[w.g[U]];if(o==null)continue;var Z=o.cn;if(Z!=1&&Z!=3)continue;
var $=Z==1?o.yo():o.k1(w).D;if($.Uy)D.push($)}for(var U=0;U<w.SN.length;U++)if(w.SN[U].Uy)D.push(w.SN[U]);
for(var U=0;U<D.length;U++){var $=D[U];this.adr($,M,D.length==1&&O==0?2:1,$.color,$.RF);b=!0}var k=this.ND;
b=this.ahM(w,this.iu,M)||b;if(w.X&&k.fk&&k.sw.sJ){this.adr(w.X,M,0,0,null);b=!0}return b};fB.prototype.adr=function(w,M,O,b,D){var o=0,l,q;
if(D)o=Math.round(D.L)<<16|Math.round(D.w)<<8|Math.round(D.o);var Z=M.Ec(!0),$=M.iu,k=new cn(0,0,M._t.e,M._t.n);
if(M.rK.length!=$.v()){M.rK=x.$($.v());M.IJ=x.$($.v()*4)}M.rK.fill(b);M.IJ.fill(0);var E=w.channel,t=w.rect;
x.scale.F(E,t,Z,M.rK,$);if(O==0)x.X.ad$(M.rK,M.IJ,$,$);else x.X.asz(M.rK,M.IJ,$,$,O,o);fB.X9(M.IJ);var c=new ImageData(new Uint8ClampedArray(M.IJ.buffer),$.e,$.n);
this.i$.putImageData(c,0,0);this.iu.save();if(O==0){l=$.clone();l.M0(-1,-1);q=new f$}else{l=new cn(0,0,k.e,k.n);
q=Z.clone();q.ZW()}this.nn(x.p.zl(l),q,this.iu);this.iu.clip();this.iu.drawImage(this.or,0,0);this.iu.restore()};
fB.prototype.ahM=function(w,M,O){var b=w.J.ic!=null||w.J.F0!=null||w.J.MB!=null||w.J.m4.length!=0||w.J.jd.length!=0,D=this.ND,o=D.sw,Z=ig.Vi[D.Dy],$=Math.round(12*R.V()),k=$/w.P.T,E=O.Ec(!0);
E.ZW();M.save();M.setTransform(E.ip,E.L,E.Hv,E.uc,E.hE,E.Qw);if(w.add.artd){var t=fB.Ze(w)[0];t=t<.5?t+.5:t-.5;
t=""+Math.round(t*255).toString(16);while(t.length<2)t="0"+t;M.fillStyle="#"+t+t+t;M.font=k+"px sans-serif";
for(var U=0;U<w.B.length;U++){var c=w.B[U];if(c.add.artb==null||!c.Vd())continue;var l=c.pU();M.fillText(c.getName(),l.x+2,l.y-k*.7);
b=!0}}function q(c1){return c1==1||c1==2||c1==4||c1==5}var V=fB.BA([.1,.5,1,1]),L=fB.BA([1,1,1,1]);if(D.fk&&o.IB){M.fillStyle=M.strokeStyle=V;
M.lineWidth=1.5/O.T;var e=w.ff(),H=e[0],j=e[1];for(var g=0;g<j.length;g++){var c=H[j[g]],K=c.add.vmsk,a=K.j,T=x.p.EK(a);
this.nn(T,null,M);M.stroke();b=!0;var C=3*R.V()/O.T,F=a.length-3;for(var U=0;U<K.QQ.length;U++){var m=x.O.pb(a,K.QQ[U]);
if(m==null)continue;var N=m.x,v=m.y;M.beginPath();var h=U==0;if(K.Ao)h=!h;if(h){M.moveTo(N-C,v-C);M.lineTo(N+C,v+C);
M.moveTo(N-C,v+C);M.lineTo(N+C,v-C);M.stroke()}else{M.arc(N,v,C*1,0,2*Math.PI);M.fill()}b=!0}if(w.g.length!=1)continue;
var P=-1;for(var U=0;U<a.length;U++){if(a[U].type>5)continue;if(a[U].type==0||a[U].type==3){if(a[U].K$!=-1)P++;
continue}if(K.g.indexOf(P)!=-1){var N=a[U].I.x,v=a[U].I.y;M.fillRect(N-C*.8,v-C*.8,2*C*.8,2*C*.8)}if(K.yu.indexOf(U)!=-1){var J=a[U],Y=[J.I];
M.beginPath();M.moveTo(J.vA.x,J.vA.y);M.lineTo(J.I.x,J.I.y);M.lineTo(J.YJ.x,J.YJ.y);var B=a[U-1],S=a[U+1];
if(B&&q(B.type)&&K.yu.indexOf(U-1)==-1){M.moveTo(B.I.x,B.I.y);M.lineTo(B.YJ.x,B.YJ.y);Y.push(B.YJ)}if(S&&q(S.type)&&K.yu.indexOf(U+1)==-1){M.moveTo(S.I.x,S.I.y);
M.lineTo(S.vA.x,S.vA.y);Y.push(S.vA)}M.stroke();if(!J.I.M5(J.vA))Y.push(J.vA);if(!J.I.M5(J.YJ))Y.push(J.YJ);
for(var r=0;r<Y.length;r++){var m=Y[r],N=m.x,v=m.y;if(r==0&&(J.type==2||J.type==5))M.fillRect(N-1.2*C,v-1.2*C,2.4*C,2.4*C);
else{M.beginPath();M.arc(N,v,C*1.2,0,2*Math.PI);M.fill();if(r!=0)M.fillStyle=L;M.beginPath();M.arc(N,v,C*.8,0,2*Math.PI);
M.fill();M.fillStyle=V}}}b=!0}}}M.lineWidth=1/O.T;if(w.J.IZ){M.fillStyle=M.strokeStyle=V;var S={C:[],H:[]},I=fB.a1x;
if(I==null){I=fB.a1x={C:[1,0],H:["M"]};for(var U=1;U<30;U++){var f=Math.PI*2*U/30;I.C.push(Math.cos(f),Math.sin(f));
I.H.push("L")}I.H.push("Z","M","L","M","L");I.C.push(-.5,0,.5,0,0,-.5,0,.5)}for(var U=0;U<w.J.IZ.length;
U++){var B=y.x6.a12(w.J.IZ[U],O),s=new f$(B[0],0,0,B[0],B[1],B[2]);x.p.concat(S,I,s)}this.nn(S,null,M);
M.stroke();b=!0}var W=new f$(1,0,0,1,.5/O.T,.5/O.T);if(w.i7){M.fillStyle=M.strokeStyle=V;var S={C:[0,0,w.e,0,w.e,w.n,0,w.n],H:["M","L","L","L","Z"]};
this.nn(S,W,M);M.stroke();b=!0}M.fillStyle=M.strokeStyle=fB.BA([0,0,0,1],!0);if(w.J.ic){this.nn(w.J.ic,null,M);
M.fill()}if(w.J.F0){this.nn(w.J.F0,W,M);M.stroke()}for(var i in w.J.ki)if(w.J.ki[i].F0){this.nn(w.J.ki[i].F0,null,M);
M.stroke();b=!0}M.beginPath();var C=(4*R.V()+.5)/O.T,u=w.J.BK;for(var U=0;U<u.length;U+=2){b=!0;var N=u[U],v=u[U+1];
M.rect(N-C,v-C,2*C,2*C)}M.stroke();var u=w.J.a6a;M.beginPath();var C=4*R.V()/O.T;for(var U=0;U<u.length;
U+=2){b=!0;var N=u[U],v=u[U+1];M.moveTo(N+C,v);M.arc(N,v,C,0,2*Math.PI)}M.fill();var u=w.J.TL;M.fillStyle=fB.BA([1,1,1,1]);
M.beginPath();var C=6*R.V()/O.T;for(var U=0;U<u.length;U+=2){b=!0;var N=u[U],v=u[U+1];M.moveTo(N+C,v);
M.arc(N,v,C,0,2*Math.PI)}M.fill();var C=4*R.V()/O.T;for(var U=0;U<u.length;U+=2){b=!0;var N=u[U],v=u[U+1];
M.fillStyle=fB.BA(w.J.jT.indexOf(U>>>1)!=-1?[0,.6,1,1]:[.7,.7,.7,1]);M.beginPath();M.moveTo(N+C,v);M.arc(N,v,C,0,2*Math.PI);
M.fill()}if(w.J.m4.length!=0){for(var U=0;U<w.J.m4.length;U++){var z=w.J.m4[U],G=z[1];M.putImageData(new ImageData(new Uint8ClampedArray(z[0].buffer),G.e,G.n),G.x,G.y)}}var g_=.5/O.T;
M.lineWidth=1/O.T;if(w.J.BY){b=!0;var cl=w.J.BY,p=cl.Sd,T={H:[],C:[]};for(var U=0;U<cl.nj.length;U++)x.p.concat(T,x.p.zl(cl.nj[U]));
T.C=T.C.concat(p);for(var U=0;U<p.length;U+=4){T.H.push("M","L")}for(var U=0;U<T.C.length;U++){T.C[U]+=g_}M.strokeStyle=fB.BA([.9,.2,.2,1]);
this.nn(T,null,M);M.stroke();var b2=R.V(),jz=2/O.T;M.font=k*.9+"px sans-serif";for(var U=0;U<p.length;
U+=4){var N=p[U],v=p[U+1],aT=p[U+2],fZ=p[U+3],ft=Math.sqrt((fZ-v)*(fZ-v)+(aT-N)*(aT-N));ft=x.Rk.Ms(ft,w.Z1,D,v==fZ?w.e:w.n);
var cc=new at((N+aT)/2,(v+fZ)/2);M.fillStyle=fB.BA([.9,.2,.2,1]);var kr=M.measureText(ft).width;M.fillRect(cc.x-kr/2-jz*b2,cc.y-3.5*jz*b2,kr+2*jz*b2,7*jz*b2);
M.fillStyle=fB.BA([1,1,1,1]);M.save();M.translate(cc.x-kr/2,cc.y+2*jz*b2);M.scale(.1,.1);M.font=k*9+"px sans-serif";
M.fillText(ft,0,0);M.restore()}}if(D.fk){if(o.LL){var hG=x.Rk.pw(o.K2,w.Z1,w.e,o.$H),hi=hG;if(o.$H==4)hi*=w.n/w.e;
this.zp(w,M,hG,hi,1,o.Uo);b=!0}if(o.AM&&w.P.T>7){this.zp(w,M,1,1,.5,o.Uo);b=!0}if(o.lX){var bU=w.Wp(),ic=w.Ft(),iQ=Math.max(w.P.iu.e,w.P.iu.n)/w.P.T;
iQ=Math.max(Math.max(w.e,w.n)*2,iQ);M.beginPath();M.strokeStyle=fB.BA([0,1,1,1]);for(var U=0;U<bU[0].length;
U++){var bx=bU[0][U],aR=bU[1][U];if(aR!=-1&&aR!=ic)continue;var gs=O.hP(bx[1],bx[1]),k7=O.ep(Math.floor(gs.x)+.5,Math.floor(gs.y)+.5);
if(bx[0]==0){var fT=k7.x;M.moveTo(fT,-iQ);M.lineTo(fT,iQ)}else{var aH=k7.x;M.moveTo(-iQ,aH);M.lineTo(iQ,aH)}b=!0}M.stroke()}var e7=w.iW;
if(o.iW&&e7.length!=0){M.font=k*.8+"px sans-serif";var dB=[],ia=[];for(var U=0;U<e7.length;U++){var d7=y.uW.dg(e7,U);
dB.push(d7);if(w.t5.indexOf(U)!=-1)ia.push(d7)}dB.reverse();var hf=Date.now();dB=x.rect.ih([0,0,w.e,w.n],dB);
for(var r=0;r<2;r++)for(var U=0;U<dB.length;U++){var gv=dB[U],P=gv[4],hN=P!=null?e7[P]:null;if(hN&&r==0||hN==null&&r==1)continue;
var N=Math.round(gv[0]),v=Math.round(gv[1]),aT=Math.round(gv[2]),fZ=Math.round(gv[3]);M.strokeStyle=M.fillStyle=fB.BA(hN?[0,.7,.7,1]:[.8,.8,.8,1]);
M.strokeRect(N+g_,v+g_,aT-N,fZ-v);var hP=U+1,gP=M.measureText(hP),kr=gP.width;M.fillRect(N,v,kr+k/2,k);
M.fillStyle=fB.BA([1,1,1,1]);M.fillText(hP,N+k/4,v+k*.8)}var jz=2/w.P.T,aB=2*jz;for(var U=0;U<ia.length;
U++){var gv=ia[U],N=Math.round(gv[0]),v=Math.round(gv[1]),aT=Math.round(gv[2]),fZ=Math.round(gv[3]);
M.strokeStyle=M.fillStyle=fB.BA([1,.6,0,1]);M.strokeRect(N+g_,v+g_,aT-N,fZ-v);var i7=[N,v,aT,v,aT,fZ,N,fZ];
for(var dI=0;dI<i7.length;dI+=2){var fT=i7[dI],aH=i7[dI+1],gh=i7[dI+2&7],b9=i7[dI+3&7];M.fillRect(fT-jz,aH-jz,aB,aB);
M.fillRect(Math.round((fT+gh)/2)-jz,Math.round((aH+b9)/2)-jz,aB,aB)}}b=!0}var ij=w.add.Anno;if(ij&&ij.length!=0)for(var U=0;
U<ij.length;U++){var ax=ij[U],iX=ax[2],fT=ax[0]-g_,aH=ax[1]-g_,aB=30/O.JN,am=.4*aB,jf=.6*aB;M.beginPath();
M.moveTo(fT,aH+jf);M.lineTo(fT,aH);M.lineTo(fT+aB,aH);M.lineTo(fT+aB,aH+aB);M.lineTo(fT+am,aH+aB);M.closePath();
M.lineTo(fT+am,aH+jf);M.lineTo(fT+am,aH+aB);if(U==w.P.Ik){M.lineWidth*=5;M.strokeStyle=fB.BA([0,0,0,.5]);
M.stroke();M.lineWidth/=5}M.fillStyle=fB.BA([iX.o/255,iX.w/255,iX.L/255,1]);M.fill();M.strokeStyle=fB.BA([0,0,0,1]);
M.stroke()}}M.strokeStyle=fB.BA([1,0,0,1]);if(w.J.MB){this.nn(w.J.MB,W,M);M.stroke()}M.restore();if(D.cX){if(w.P.MW==null||w.P.MW.width!=w.P.iu.e||w.P.Zk.height!=w.P.iu.n){w.P.MW=M.createImageData(w.P.iu.e,x.Rk.qC);
w.P.Zk=M.createImageData(x.Rk.qC,w.P.iu.n)}var Z=ig.Vi[D.Dy],eJ=0,hZ=0,hC=w.e,ds=w.n;if(w.Ft()!=-1){var l=w.B[w.Ft()].pU();
eJ=l.x;hZ=l.y;hC=l.e;ds=l.n}eJ*=O.T;hZ*=O.T;var O=w.P,hV=[1,w.Z1,w.Z1/2.54,w.Z1/25.4,hC/100][o.OF],bv=O.T*w.e/2,hl=O.T*w.n/2,jQ=[O.T*hV,new at(O.z.x+(eJ+bv*hV-bv),O.z.y+(hZ+hl*hV-hl))];
if(o.OF==4)hV*=ds/hC;var a$=[O.T*hV,new at(O.z.x+(eJ+bv*hV-bv),O.z.y+(hZ+hl*hV-hl))],jB=this.BF.Qe;x.Rk.atK(O,Z["--text-color"],Z["--bg-input"],Math.floor(jB.x),Math.floor(jB.y),jQ,a$);
var jL=jw.alo(O.T,fB.BA([1,1,1,1]));fB.X9(w.P.Zk.data);fB.X9(w.P.MW.data);M.putImageData(w.P.Zk,0,0);
M.putImageData(w.P.MW,0,0);M.putImageData(jL,0,w.P.iu.n-jL.height)}if(w.J.jd.length!=0){for(var U=0;
U<w.J.jd.length;U++){var z=w.J.jd[U],G=z[1];M.putImageData(new ImageData(new Uint8ClampedArray(z[0].buffer),G.e,G.n),G.x,G.y)}}return b||D.cX};
fB.prototype.zp=function(w,M,O,b,D,o){while(O*w.P.T<4){O*=2;b*=2}var Z=w.e,$=w.n,k=.5/w.P.T;M.strokeStyle=fB.BA([.5,.5,.5,D],!0);
M.save();M.rect(0,0,Z,$);M.clip();M.beginPath();for(var E=0;E<=Z;E+=O){M.moveTo(E+k,0);M.lineTo(E+k,$)}if(o==0){for(var t=0;
t<=$;t+=b){M.moveTo(0,t+k);M.lineTo(Z,t+k)}}else{b*=Math.sqrt(4/3);var c=b*Math.floor(Z/b),l=Z*(b/(2*O));
for(var t=-c;t<=$+c;t+=b){M.moveTo(0,t);M.lineTo(Z,t-l);M.moveTo(0,t);M.lineTo(Z,t+l)}}M.stroke();M.restore()};
fB.prototype.nn=function(w,M,O){O.beginPath();var b=x.p.clone(w);if(M)x.p.F(b.C,M,b.C);Typr.U.pathToContext({cmds:b.H,crds:b.C},O)};
fB.Uz=function(w,M,O){X.dR.call(this);var b=M!=0,D=O?"true":"in01(sCoord)",o="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\t"+(w?"uniform sampler2D lut;  uniform float N;  "+X.er.Y0:"")+"\t\t\tuniform vec3 contSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform mat4 ctrn; \t\t\t"+(b?"uniform vec4 bgClr;  uniform vec4 ars["+M+"]; ":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+X.er.go+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, tCoord); \t\t\t\tvec4 tgt = texture2D(target, sCoord"+(O?"-floor(sCoord)":"")+"); \t\t\t\t"+(w?"tgt.rgb = mapLut(tgt, lut, N).rgb; ":"")+"\t\t\t\ttgt = ctrn * tgt; "+(b?"\t\t\t\t\tbool inr = false; vec4 BG = bgClr; \t\t\t\t\tfor(int i=0; i<"+M+"; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tif( ar.z!=0.0 && in01(nsc/ar.zw) ){\t\t\t\t\t\tinr=true; BG=mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1); }\t\t\t\t\t}\t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),contSizeZoom.xy, sCoord*contSizeZoom.xy+vec2(0.0,-6.0*contSizeZoom.z) , 10.0*contSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = "+D+" ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = "+D+" ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b == 0.0 && src.a >0.5) gl_FragColor = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\telse             gl_FragColor = simpleBlend(src,outc); \t\t\t\t\t\t\t}",Z="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform mat3 tmat;\t\t\tuniform vec4 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (tmat*vec3(verPos,1.0)).xy;\t\t\t\tgCoord = (verPos-gsize.zw) * gsize.xy ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
this.X2(o,Z)};fB.Uz.prototype=new X.dR;fB.Uz.prototype.V9=function(w,M,O,b,D,o,Z,$,k,E,t,c,l,q){this.wC("tmat gsize source target lut N contSizeZoom cnvSize bgClr ars ctrn".split(" "));
var d=X.Mn,V=this.CO;d.uniformMatrix3fv(V.tmat,!1,O);d.uniform4fv(V.gsize,b);d.uniform3f(V.contSizeZoom,D,o,Z);
d.uniform2f(V.cnvSize,$,k);d.uniformMatrix4fv(V.ctrn,!1,c);if(this.anK){d.uniform4fv(V.ars,t);d.uniform4fv(V.bgClr,E)}d.uniform1i(V.source,0);
d.uniform1i(V.target,1);d.activeTexture(d.TEXTURE0);d.bindTexture(d.TEXTURE_2D,w);d.activeTexture(d.TEXTURE1);
d.bindTexture(d.TEXTURE_2D,M);if(l){d.uniform1f(V.N,q);d.uniform1i(V.lut,2);d.activeTexture(d.TEXTURE2);
d.bindTexture(d.TEXTURE_2D,l.p3);var L=d.LINEAR;d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,L);
d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,L)}d.activeTexture(d.TEXTURE0)};function al(){dh.call(this,[9,7],!1,"---panels/layercomps",dh.mJ.ai5);
this.R2.setAttribute("style","min-width:240px;");this.g3=null;this.yH=-1;this.BN=[];this.x4=R.S("div","scrollable");
this.x4.style.height="160px";this.R2.appendChild(this.x4);this.ni=R.S("div","lpfoot");this.R2.appendChild(this.ni);
this.no=[];var w=["<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>","reload","lrs/newlayer","lrs/bin"],M=["Layer Comps to Files",[5,10],[5,3],[5,4]];
for(var U=0;U<w.length;U++){var O=w[U];if(U>0)O="<img src=\""+PIMG[w[U]]+"\" class=\"miniscale gsicon\" />";
var b=new i8(O,!1,M[U]);b.h("click",this.ai7,this);this.ni.appendChild(b.m);this.no.push(b)}}al.prototype=new dh("");
al.prototype.nQ=function(w,M){this.R2.setAttribute("style","width:"+(w-2)+"px;");this.x4.style.height=M-28+"px"};
al.prototype.iO=function(w){var M=new aX(A.E.s,!0);M.data=w;M.k=y.u3;this.l(M)};al.aq4="var opts = new ExportOptionsSaveForWeb(); opts.format = SaveDocumentType.PNG; opts.PNG8 = false; opts.quality = 100; var doc = app.activeDocument;var lc = doc.layerComps;  if(lc.length==0) alert(\"No layer comps.\"); else { \tvar stat = doc.historyStates.length - 1;\t\tfor(var i=0; i<lc.length; i++) {\t\tlc[i].apply();\t\tpngFile = new File(lc[i].name+\".png\");\t\tapp.activeDocument.exportDocument(pngFile, ExportType.SAVEFORWEB, opts);\t}\t\tdoc.activeHistoryState = doc.historyStates[stat];}";
al.prototype.ai7=function(w){var U=this.no.indexOf(w.currentTarget)-1;if(U==-1){var M=new aX(A.E.Z,!0);
M.data={d:A.t.wz,oQ:al.aq4};this.l(M);return}if(U!=1)if(this.yH==-1)return;this.iO({d:["updLC","addLC","delLC"][U],zS:this.yH});
if(U==2)this.yH=-1};al.prototype.f=function(){dh.prototype.f.call(this);for(var U=0;U<this.no.length;
U++)this.no[U].f()};al.prototype.ZM=function(w){if(w==null)R.rV(this.R2,"disabled");else R.Y4(this.R2,"disabled");
this.g3=w;R.Mh(this.x4);if(w==null)return;var M=w.en.lastAppliedComp?w.en.lastAppliedComp.v:0,O=w.en.list.v.slice(0);
O.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var U=0;U<O.length;
U++){var b=O[U].v,D=new bJ(b.Nm.v,b.compID.v,b.capturedInfo.v,M,this.yH);D.h("activate",this.Uf,this);
D.parent=this;this.x4.appendChild(D.m);this.BN.push(D)}};al.prototype.Uf=function(w){this.yH=w.currentTarget.zS;
this.ZM(this.g3)};function bJ(w,U,M,O,b){eE.call(this);this.zS=U;this.m=R.S("div","head listitem"+(U==b?" selected":""));
var D=U==O,o=new i8(D?"\u2713":"\u2014");if(D)o.L5();this.m.appendChild(o.m);o.h("click",this.uB,this);
var Z=this.JT=R.S("span");Z.textContent=w;this.m.appendChild(Z);this.no=[];if(U!=0){this.m.addEventListener("mouseup",this.Uf.bind(this),!1);
this.a9X=R.S("span","headR");this.m.appendChild(this.a9X);var $=["lrs/eye","pos","lrs/fx"],k=["Visibility","Position","Appearance"];
for(var E=0;E<$.length;E++){var t=new i8("<img src=\""+PIMG[$[E]]+"\" class=\"autoscale gsicon\" />",!1,k[E]);
if((M>>E&1)==0)t.m.setAttribute("style","opacity:0.3");t.h("click",this.a9B,this);this.a9X.appendChild(t.m);
this.no.push(t)}}}bJ.prototype=new eE;bJ.prototype.Uf=function(w){if(w.target!=this.JT&&w.target!=this.m)return;
if(w.detail==1)this.l(new aX("activate",!1));else{var M=new dh.cQ(this.JT,this.M8.bind(this))}};bJ.prototype.a9B=function(w){var U=this.no.indexOf(w.currentTarget);
this.iO({d:"editLC",abJ:U,zS:this.zS})};bJ.prototype.M8=function(w){this.iO({d:"editLC",IG:w,zS:this.zS})};
bJ.prototype.uB=function(w){this.iO({d:"setLC",zS:this.zS})};bJ.prototype.iO=function(w){var M=new aX(A.E.s,!0);
M.data=w;M.k=y.u3;this.l(M)};function c8(){dh.call(this,[9,11],!1,"---panels/navigator",dh.mJ.ab9);var w=R.S("div","padded");
w.setAttribute("style","min-width:15em");this.R2.appendChild(w);var M=R.S("div");w.appendChild(M);M.setAttribute("style","cursor:grab;");
this.U=R.S("canvas");this.U.width=100;M.appendChild(this.U);R.fO(this.U);R.c3(this.U,this.vF.bind(this));
this.wN=new cq(null,2,6400,"%",null,!0);this.wN.h(A.E.r,this.aiI,this);w.appendChild(this.wN.m);this.a3Z=this.j6.bind(this);
this.a7t=this.pN.bind(this);this.sT=null;this.Eh=null;this.Lc=!1}c8.prototype=new dh("");c8.prototype.nQ=function(w,M){this.Yk()};
c8.prototype.aiI=function(w){var M=this.wN.Q(),O=this.sT,b=M/100;if(.8<b&&b<1.2)b=1;else if(1.8<b)b=Math.round(b);
var D=new aX(A.E.s,!0);D.k=y.s_;D.data={d:"zoom",T:b};this.l(D)};c8.prototype.vF=function(w){var M=this.sT;
if(M==null)return;this.Lc=!0;R.Gg(window,this.a3Z);R.UB(window,this.a7t)};c8.prototype.j6=function(w){var M=R.Pr(w,this.U),O=this.sT,b=this.U.width,D=this.U.height,o=(M.x*R.V()-b/2)/b,Z=(M.y*R.V()-D/2)/D,$=R.V()*O.P.T,k=Math.round(-O.P.T*O.e*o),E=Math.round(-O.P.T*O.n*Z);
y.qV.aH(O,k,E)};c8.prototype.pN=function(w){R.wg(window,this.a3Z);R.oX(window,this.a7t);this.Lc=!1};
c8.prototype.ZM=function(w){if(w==null&&this.sT!=null)this.U.width=100;this.sT=w;this.Yk()};c8.prototype.ave=function(){var w=300*R.V(),M=0,O=this.sT,b=[O.Hp(),new cn(0,0,O.e,O.n)];
x.aS(b);while(Math.max(b[M+1].e,b[M+1].n)>w){M+=2}this.Eh=b.slice(M)};c8.prototype.Yk=function(){var w=this.sT;
if(w==null||w.P.T==0)return;var M=w.P;if(!R.FP(this.R2))return;this.wN.b(M.T*100);if(!this.Lc)this.ave();
var O=this.Eh[0],b=this.Eh[1],D=b.e,o=b.n,Z=this.U;Z.width=D;Z.height=o;R.g7(Z,D,o);var $=Z.getContext("2d"),k=$.createImageData(D,o);
x.U7(O,k.data);$.putImageData(k,0,0);var E=M.iu,t=M.ep(E.x,E.y),c=M.ep(E.x+E.e,E.y+E.n),l=D/w.e;$.scale(l,l);
$.lineWidth=4/l;$.strokeStyle="#ff0000";$.strokeRect(t.x,t.y,c.x-t.x,c.y-t.y)};c8.prototype.o9=function(w,M){};
c8.prototype.Pu=function(){this.Yk()};function gQ(w,M){dh.call(this,w.name,!1,w.icon,M);this.abG=w}gQ.prototype=new dh("");
gQ.prototype.v6=function(){var w=this.R2,M=this.abG;if(!R.FP(w)||this.bp)return;var O=this.bp=R.S("iframe");
O.setAttribute("src",M.url);this.R2.appendChild(O)};gQ.prototype.Pu=gQ.prototype.ZM=function(){this.v6()};
gQ.prototype.El=function(w){if(R.FP(this.bp))this.bp.contentWindow.postMessage(w,"*")};gQ.prototype.nQ=function(w,M){if(this.bp==null)return;
this.bp.setAttribute("style","width:"+w+"px; height:"+M+"px")};function g8(){dh.call(this,[9,12],!1,"---panels/tpreset",dh.mJ.gZ);
this.P4=null;this.EP=new ev(y.rq);this.EP.parent=this;var w=R.S("div","padded");w.setAttribute("style","width:20em");
this.R2.appendChild(w);w.appendChild(this.EP.V8)}g8.prototype=new dh("");g8.prototype.Pu=function(){this.EP.jX(this.P4.h$)};
g8.prototype.o9=function(w,M){this.P4=w;if(M==eM.vI||M==eM.gZ)this.EP.jX(w.h$)};g8.prototype.nQ=function(w,M){this.EP.ak6(this.P4.yK)};
g8.prototype.f=function(){dh.prototype.f.call(this);this.EP.f()};var bw=function(){var w=[],M=null,O=null,b=null,D=[[100,180,255],[100,255,100],[255,200,100],[200,100,255],[255,100,200]];
function o(){dh.call(this,"Memory",!1,null,dh.mJ.apz);var l=R.S("div","padded");this.R2.appendChild(l);
O=new i8(["<< VAR0",[0,13,2]],!1,null,!0);O.addEventListener("click",function(q){w.pop();$()});l.appendChild(O.m);
M=R.S("div","scrollable");M.setAttribute("style","width:20em;  height:26em; margin-top:8px;");l.appendChild(M)}o.prototype=new dh("");
o.prototype.ZM=function(l,q,d){b=q;this.Pu()};o.prototype.Pu=function(){O.Sc(!1);if(!R.FP(M))return;
var l={b1:"Total:",bl:[]};for(var U=0;U<b.length;U++)l.bl.push(E(b[U]));c(l);w=[l];$()};o.prototype.f=function(){dh.prototype.f.call(this);
O.f()};function Z(l){var q=l.currentTarget,U=0;while((q=q.previousSibling)!=null)U++;w.push(w[w.length-1].bl[U-1]);
$()}function $(){O.Sc(w.length>1);var l=w[w.length-1];R.Mh(M);k(l,M,0);l.bl.sort(function(q,d){return d.Ef[0]-q.Ef[0]});
for(var U=0;U<l.bl.length;U++)k(l.bl[U],M,1)}function k(l,q,d){var V=kh.AE,L=d!=0&&l.bl,e="margin-left:"+d*10+"px; margin-bottom:8px; padding:3px 5px;";
if(L)e+="cursor:pointer;";if(l.kB!=null)e+="background-color:rgba("+D[l.kB].join(",")+",0.2);";var H=R.S("div");
q.appendChild(H);H.setAttribute("style",e);H.innerHTML=R.bV(l.b1)+"<br />"+"RAM: <b>"+V(l.Ef[0])+"</b>\u2001GPU: <b>"+V(l.Ef[1])+"</b>";
if(L)H.addEventListener("click",Z,!1)}function E(l){var q={b1:l.name,bl:[],kB:0},d=X.Nu?1:0,V=1-d,L={b1:"Final Image",Ef:[l.e*l.n*4,d*l.e*l.n*4],kB:2};
q.bl.push(L);for(var U=0;U<l.B.length;U++){var e=t(l.B[U]);if(e.bl.length!=0)q.bl.push(e)}var H=l.add.lnk2;
if(H)for(var U=0;U<H.length;U++){var e=H[U],j={b1:e.P_,bl:[],kB:4},g=0;j.bl.push({b1:"Raw file",Ef:[e.raw.length,0]});
if(e.vN)for(var K=0;K<e.vN.length;K+=2)g+=e.vN[K].length;if(g!=0)j.bl.push({b1:"Decoded pixels",Ef:[g,0]});
c(j);q.bl.push(j)}c(q);return q}function t(l){var q={b1:l.getName(),bl:[],kB:1},d=X.Nu?1:0,V=1-d,L=l.rect.v();
if(L!=0)q.bl.push({b1:"Layer pixels",Ef:[L*4,d*L*4]});if(l.add.lmfx&&l.Kn.CB.type){var e=l.Kn.CB.type,K=0;
for(var H in e){var j=0;for(var g=0;g<e[H].length;g++)if(H=="ebbl"){if(e[H][g].ur)j+=e[H][g].ur.Py.v();
if(e[H][g].VO)j+=e[H][g].VO.Py.v();if(e[H][g].ax)j+=e[H][g].ax.Py.v();if(e[H][g].wq)j+=e[H][g].wq.Py.v()}else j+=e[H][g].Py.v();
if(j!=0)q.bl.push({b1:fr.get(aN.names[aN.order.indexOf(H)]),Ef:[V*j*4,d*j*4],kB:3})}if(l.Kn.ed)K+=L;
if(l.Kn.wn)K+=L;if(l.Kn.w6)K+=L;if(l.Kn.w6)K+=L;if(l.Kn.E0)K+=L;if(l.Kn.BO)K+=L;var a=l.Kn.fg?l.Kn.fg.length:0;
if(K+a!=0)q.bl.push({b1:"Additional Blending Data",Ef:[V*K*4+a,d*K*4]})}var T=l.yo(),C=T?T.rect.v():0;
if(C!=0){q.bl.push({b1:"Raster Mask",Ef:[C,0]})}var T=l.add.vmsk,C=T&&T.u$?T.u$.rect.v():0;if(C!=0){q.bl.push({b1:"Vector Mask",Ef:[C,0]})}c(q);
return q}function c(l){l.Ef=[0,0];for(var U=0;U<l.bl.length;U++){l.Ef[0]+=l.bl[U].Ef[0];l.Ef[1]+=l.bl[U].Ef[1]}}return o}();
function fV(){dh.call(this,[9,14],!1,"---panels/notes",dh.mJ.amP);this.R2.setAttribute("style","min-width:240px;");
var w=R.S("div","padded");this.R2.appendChild(w);this.E1=new d8("Author");w.appendChild(this.E1.m);this.xP=R.S("textarea");
R.SZ(this.xP);w.appendChild(this.xP);var M=new i8("<<",null,null,!0);w.appendChild(M.m);this.a7s=M;var O=new i8(">>",null,null,!0);
w.appendChild(O.m);M.h("click",this.fu,this);O.h("click",this.fu,this);var b=this.a5x=new as("");w.appendChild(b.m)}fV.prototype=new dh("");
fV.prototype.fu=function(w){var M=w.target==this.a7s?-1:1,O=this.sT,b=O.add.Anno;if(b==null)return;var D=b.length,o=O.P.Ik;
O.P.Ik=(o+M+D)%D;O.bN=!0;this.Yk()};fV.prototype.Yk=function(){var w=this.sT;if(w==null)return;var M=w.add.Anno;
if(M==null||M.length==0)return;var O=w.P.Ik,b=M[O];this.xP.value=b[4];this.a5x.b(O+1+" / "+M.length);
this.E1.b(b[3])};fV.prototype.nQ=function(w,M){if(this.jy==w)return;this.jy=w;M=Math.min(M,200);this.xP.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(w-10)+"px; height:"+(M-66)+"px")};
fV.prototype.ZM=function(w,M,O){this.sT=w;this.Yk()};function fp(){eE.call(this);this.k=0;this.O2=null;
this.m=R.S("div","toolconf");this.EP=null;this.tM=null;this.body=new R.S("div","body")}fp.prototype=new eE;
fp.prototype.a6H=function(w,M){this.k=w;this.O2=M;if(y.S2[w]){var O=this.EP=new ev(w);this.m.appendChild(O.m);
O.parent=this}else{this.tM=R.S("div");this.m.appendChild(this.tM)}this.m.appendChild(this.body);this.f()};
fp.prototype.a5I=function(w,M){};fp.prototype.apc=function(w){};fp.prototype.o9=function(w,M){if(M==eM.vI||M==eM.gZ)if(this.EP)this.EP.jX(w.h$)};
fp.prototype.ro=function(w){};fp.prototype.f=function(){if(this.EP)this.EP.f();else this.tM.innerHTML=R._7(this.O2,null,"toolicon");
this.fq()};fp.prototype.fq=function(){};function aG(){fp.call(this);this.WX=new bi;this.WX.h(A.E.r,this.gA,this);
this.body.appendChild(this.WX.m)}aG.prototype=new fp;aG.prototype.fq=function(){this.WX.f()};aG.prototype.gA=function(w){var M=new aX(A.E.Z,!0);
M.data={d:A.t.gJ,k:this.k,I8:this.WX.axO()};this.l(M)};aG.prototype.ro=function(w){this.WX.avr(w.Mx)};
function cD(w){fp.call(this);if(w==null)return;this.P4=null;this.iJ={};if(w.indexOf("brush")!=-1&&w.indexOf("prsr")==-1)w.push("prsr");
for(var U=0;U<w.length;U++){var M=w[U],O=null;if(M=="brush"){O=new jc}if(M=="bmode"){O=new ao([12,19,0],gA.Is,!1,gA.Ch)}if(M=="bmode0"){O=new ao([12,19,0],gA.Is.slice(23),!1)}if(M=="emode"){O=new ao([12,36],[[9,3],[10,38]])}if(M=="opacity"){O=new gL([12,0],0,100,"%");
O.b(100)}if(M=="flow"){O=new gL([12,63],0,100,"%");O.b(100)}if(M=="smth"){O=new gL([19,3,0],0,100,"%");
O.b(0)}if(M=="samp"){O=new ao([12,36],[[12,25,4],[12,25,5],[12,46]])}if(M=="wconf"){O=new b5;O.b([40,!0,!0])}if(M=="sall"){O=new ji([12,25,2])}if(M=="strn"){O=new gL([12,64],1,100,"%");
O.b(50)}if(M=="smode"){O=new ao([12,36],[[19,7,0],[19,7,1]]);O.b(1)}if(M=="pdetail"){O=new ji([12,65]);
O.L5()}if(M=="rng"){O=new ao([12,12],[[19,6,0],[19,6,1],[19,6,2]]);O.b(1)}if(M=="expo"){O=new gL([12,5],0,100,"%");
O.b(50)}if(M=="algnd"){O=new ji([12,75]);O.b(!1)}if(M=="sfrom"){O=new ao([12,70],[[17,1],[17,3],[17,0]])}if(M=="alt"){O=new cE(null,["Alt"],!0,["Select Source"])}if(M=="qsmode"){O=new il([12,36],["<img src=\""+PIMG["set/front"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"],[[5,3],[18,1],[18,2]])}if(M=="redge"){O=new i8([7,11],!1,null,!0)}if(M=="setop"){O=new e6}if(M=="patch"){O=new il(null,[[12,70],[12,71]])}if(M=="prsr"){O=this.iJ.brush.lb}this.body.appendChild(O.m);
if(M=="prsr")continue;O.parent=this;this.iJ[M]=O;if(M=="brush")O.h(A.E.r,this.a77,this);else if(M=="redge")O.h("click",this.VL,this);
else O.h(A.E.r,this.Vv,this)}}cD.prototype=new fp;cD.prototype.a5I=function(w,M){w=w[1];var O=this.iJ;
if(w.Md)O.bmode.b(gA.vs.indexOf(w.Md.v.BlnM));if(w.Opct)O.opacity.b(w.Opct.v);if(w.flow)O.flow.b(w.flow.v);
if(w.Brsh)O.brush.b(w,M.BV.eg,M.BV.ow);if(w.FrgC){var b=x.M.FL(w.FrgC.v),D=new aX(A.E.Z,!0);D.data={d:A.t.pF,I8:eM.Ih,uj:0,G:b.o<<16|b.w<<8|b.L};
this.l(D)}this.a77();this.Vv()};cD.prototype.apc=function(){if(y.S2[this.k]==null)return null;var w=this.iJ,M=JSON.parse(JSON.stringify(w.brush.Q()));
M.classID=y.S2[this.k][1][0];if(w.bmode)M.Md={t:"enum",v:{BlnM:gA.vs[w.bmode.Q()]}};if(w.opacity)M.Opct={t:"long",v:w.opacity.Q()};
if(w.flow)M.flow={t:"long",v:w.flow.Q()};var O=this.P4.Sw;O={o:O>>>16,w:O>>>8&255,L:O&255};M.FrgC={t:"Objc",v:x.M.jk(O)};
return["Brush Preset "+M.Brsh.v.Dmtr.v.val,M]};cD.prototype.VL=function(){var w=new aX(A.E.Z,!0);w.data={d:A.t.JE,IP:"redge"};
this.l(w)};cD.prototype.fq=function(){for(var w in this.iJ)this.iJ[w].f()};cD.prototype.ro=function(w){if(w.agn=="showBrushOpts"){this.iJ.brush.a05(w.zH.x,w.zH.y)}for(var M in w.G2){var O=w.G2[M];
if(M!="qsmode")O*=100;if(this.iJ[M])this.iJ[M].b(O)}};cD.prototype.o9=function(w,M){fp.prototype.o9.call(this,w,M);
this.P4=w;var O=this.iJ.brush;if(O==null)return;if(M==eM.vI||M==eM.rq)O.jX(w.BV);if(M==eM.Vh){O.b(w.BV.VG,w.BV.eg,w.BV.ow)}};
cD.prototype.a77=function(){var w=new aX(A.E.Z,!0);w.data={d:A.t.pF,I8:eM.Vh,Vj:this.iJ.brush.Q()};this.l(w)};
cD.prototype.Vv=function(){var w=new aX(A.E.Z,!0);w.data={d:A.t.gJ,k:this.k};for(var M in this.iJ){if(M=="brush"||M=="redge")continue;
var O=this.iJ[M].Q();if(["opacity","flow","smth","strn","expo"].indexOf(M)!=-1)w.data[M]=O/100;else if(M=="bmode")w.data.bmode=gA.J5[O];
else if(M=="bmode0")w.data.bmode=gA.J5[23+O];else w.data[M]=O}this.l(w)};function cp(w,M){fp.call(this);
if(w)return;this.iJ={};for(var U=0;U<M.length;U++){var O=M[U],b=null;if(O=="binop")b=new e6;if(O=="feat"){b=new gL([7,6],0,100,"px");
b.b(0)}if(O=="redge")b=new i8([7,11],!1,null,!0);if(O=="wconf")b=new b5;if(O=="cstr")b=new hW;if(O=="anta"){b=new ji([12,25,1]);
b.b(!0)}if(O=="sall")b=new ji([12,25,2]);if(O=="redge")b.h("click",this.VL,this);else b.h(A.E.r,this.Vv,this);
b.parent=this;this.body.appendChild(b.m);this.iJ[O]=b}}cp.prototype=new fp;cp.prototype.ro=function(w){if(w.VB!=null)this.iJ.binop.b(w.VB);
else if(w.YA){for(var M in w.YA)if(this.iJ[M])this.iJ[M].b(w.YA[M])}else{var O=cp.zG;if(O==null){var b=hd.a8Y(!0);
O=cp.zG=new dC(b.items,b.gh)}O.f();O.parent=this;O.update(w.zu,w.ND);var D=new aX(A.E.Z,!0);D.data={d:A.t.U6,YT:O,x:w.Vr.UD+2,y:w.Vr.EQ+1};
this.l(D)}};cp.prototype.fq=function(){for(var w in this.iJ)this.iJ[w].f()};cp.prototype.VL=function(){var w=new aX(A.E.Z,!0);
w.data={d:A.t.JE,IP:"redge"};this.l(w)};cp.prototype.Vv=function(){var w=new aX(A.E.Z,!0);w.data={d:A.t.gJ,k:this.k,YA:{}};
for(var M in this.iJ)w.data.YA[M]=this.iJ[M].Q();this.l(w)};function gk(){cD.call(this,["brush","strn"])}gk.prototype=new cD;
function ar(){cD.call(this,"brush bmode opacity flow smth prsr".split(" "))}ar.prototype=new cD;function ba(){cD.call(this,["brush","bmode0","samp","wconf"])}ba.prototype=new cD;
function gB(){cD.call(this,["brush"])}gB.prototype=new cD;function gz(){cD.call(this,["brush","bmode","opacity","smth","prsr"])}gz.prototype=new cD;
function iM(){cD.call(this,["brush","rng","expo"])}iM.prototype=new cD;function bc(){cD.call(this,"brush bmode opacity algnd sfrom alt".split(" "))}bc.prototype=new cD;
function f2(w){fp.call(this);if(w==null)return;var M=R.S("span","fitem");this.body.appendChild(M);var O=[[17,0],[17,1],[11,12,0],[17,2]];
this.mF=[];for(var U=0;U<O.length;U++){var b=new i8(O[U],!1,null,!0);this.mF.push(b);b.h("click",this.aob,this);
if(!w||U==1)M.appendChild(b.m)}this.Yg=new hW;this.Yg.h(A.E.r,this.a6Y,this);if(!w)this.body.appendChild(this.Yg.m);
this.l2=new i8([15,7,6],!1,null,!0);this.l2.h("click",this.aob,this);if(!w)this.body.appendChild(this.l2.m);
this.Gi=new ji([15,7,10]);this.Gi.h(A.E.r,this.a6Y,this);if(!w)this.body.appendChild(this.Gi.m);this.fi=new bC;
this.fi.h("click",this.jH,this)}f2.prototype=new fp;f2.prototype.fq=function(){this.fi.f();for(var U=0;
U<this.mF.length;U++)this.mF[U].f();this.Yg.f();this.Gi.f();this.l2.f()};f2.prototype.ro=function(w){var M=this.fi.m;
if(w.pq)this.body.appendChild(M);else if(this.body.contains(M))this.body.removeChild(M);if(w.Yg)this.Yg.b(w.Yg)};
f2.prototype.jH=function(w){var M={d:A.t.gJ,k:this.k,qh:this.fi.Q()?"commit":"cancel"},O=new aX(A.E.Z,!0);
O.data=M;this.l(O)};f2.prototype.aob=function(w){w.target.m.blur();var M={d:A.t.gJ,k:this.k,qh:"cropby",ai3:this.mF.indexOf(w.target)};
if(w.target==this.l2)M.qh="straighten";var O=new aX(A.E.Z,!0);O.data=M;this.l(O)};f2.prototype.a6Y=function(w){var M={d:A.t.gJ,k:this.k,qh:"config",EX:{FI:this.Yg.Q(),dr:this.Gi.Q()},awk:w.target==this.Yg},O=new aX(A.E.Z,!0);
O.data=M;this.l(O)};function d1(){f2.call(this,!1)}d1.prototype=new f2;function jI(){f2.call(this,!0)}jI.prototype=new f2;
function ey(){cD.call(this,["brush","rng","expo"])}ey.prototype=new cD;function dk(){cD.call(this,"brush emode opacity flow smth prsr".split(" "))}dk.prototype=new cD;
function bf(){cD.call(this,["brush","samp","wconf"])}bf.prototype=new cD;function eV(){cp.call(this,!1,["binop","feat","anta","redge","cstr"])}eV.prototype=new cp(!0);
function ka(){fp.call(this);var w=this.iJ=[new ao([12,20,0],["1x1","3x3","5x5","11x11","31x31"]),new ao([12,70],[[17,1],[17,3],[17,0]]),new ji([12,20,1]),new ji([8,0])];
w[1].b(2);w[2].b(!0);for(var U=0;U<w.length;U++){var M=w[U];M.h(A.E.r,this.Vv,this);this.body.appendChild(M.m)}}ka.prototype=new fp;
ka.prototype.Vv=function(w){var M=this.iJ,O=[];for(var U=0;U<M.length;U++)O[U]=M[U].Q();var b=new aX(A.E.Z,!0);
b.data={d:A.t.gJ,k:this.k,YA:O};this.l(b)};ka.prototype.fq=function(){for(var U=0;U<this.iJ.length;U++)this.iJ[U].f()};
function dn(){fp.call(this);this.Na=new be(!1);this.Na.parent=this;this.Na.h(A.E.r,this._D,this);this.body.appendChild(this.Na.m);
this.Na.b(JSON.parse(aN.eW.and).v);this.Xe=new ao(null,aN.M.names.slice(0,5));this.Xe.h(A.E.r,this._D,this);
this.body.appendChild(this.Xe.m);this.Ui=new ao([12,19,0],gA.Is,null,gA.Ch);this.Ui.h(A.E.r,this._D,this);
this.body.appendChild(this.Ui.m);this.ye=new gL([12,0],0,100,"%");this.ye.parent=this;this.ye.h(A.E.r,this._D,this);
this.body.appendChild(this.ye.m);this.ye.b(100);this.Ve=new ji([12,23,0]);this.Ve.h(A.E.r,this._D,this);
this.body.appendChild(this.Ve.m);this.u1=new ji([12,23,3]);this.u1.h(A.E.r,this._D,this);this.body.appendChild(this.u1.m)}dn.prototype=new fp;
dn.prototype.fq=function(){this.Xe.f();this.Ui.f();this.ye.f();this.Ve.f();this.u1.f()};dn.prototype.o9=function(w,M){fp.prototype.o9.call(this,w,M);
var O=M==eM.Ih;this.Na.sx(w.Sw,w.fj);if(O||M==eM.pB||M==eM.vI)this.Na.jX(w.t0)};dn.prototype._D=function(){var w=new aX(A.E.Z,!0);
w.data={d:A.t.gJ,k:this.k};w.data.I8={M:this.Na.Q(),Pg:aN.M.types[this.Xe.Q()],Ao:this.Ve.qm(),a4q:this.u1.qm(),a2F:gA.J5[this.Ui.Q()],uX:this.ye.Q()/100};
this.l(w)};function es(){fp.call(this)}es.prototype=new fp;function bH(){fp.call(this);var w=R.S("span","fitem");
this.body.appendChild(w);this.mO=[new gL([12,15],-180,180,"\xB0"),new i8([1,12,2],null,null,!0)];for(var U=0;
U<this.mO.length;U++){var M=this.mO[U];M.parent=this;w.appendChild(M.m);M.h(U==1?"click":A.E.r,this.Vk,this)}}bH.prototype=new fp;
bH.prototype.fq=function(){for(var U=0;U<this.mO.length;U++)this.mO[U].f()};bH.prototype.ro=function(w){this.mO[0].b(w.cJ*180/Math.PI)};
bH.prototype.Vk=function(w){var M=this.mO.indexOf(w.target),O=new aX(A.E.Z,!0);O.data={d:A.t.gJ,k:this.k,cJ:M==1?0:w.target.Q()*Math.PI/180};
this.l(O)};function jV(){cD.call(this,["brush","algnd","sfrom","alt"])}jV.prototype=new cD;function eD(){fp.call(this);
this.B3=new aa;this.B3.parent=this;this.body.appendChild(this.B3.ix.m);this.body.appendChild(this.B3.vr.m);
this.body.appendChild(this.B3.TG.m);this.body.appendChild(this.B3.bM.m);var w=R.S("span","fitem");this.body.appendChild(w);
w.appendChild(this.B3.dq.m);w.appendChild(this.B3.Re.m);w.appendChild(this.B3.X7.m);this.U5=new ao("Aa",[[22,5,0],[12,95,0],[12,95,1],[12,95,2],[12,95,3]]);
this.U5.h(A.E.r,this.jH,this);this.body.appendChild(this.U5.m);this.Ql=new i8([11,9],!1,null,!0);this.Ql.h("click",this.a9c,this);
this.body.appendChild(this.Ql.m);this.fi=new bC;this.fi.h("click",this.jH,this)}eD.prototype=new fp;
eD.prototype.fq=function(){this.fi.f();this.B3.f();this.Ql.f()};eD.prototype.a9c=function(w){var M={d:A.t.gJ,k:this.k,qh:"showwarp"},O=new aX(A.E.Z,!0);
O.data=M;this.l(O)};eD.prototype.ro=function(w){if(w.qh=="showactive")this.body.appendChild(this.fi.m);
if(w.qh=="hideactive")this.body.removeChild(this.fi.m);if(w.qh=="changeAA")this.U5.b(w.XU)};eD.prototype.o9=function(w,M){fp.prototype.o9.call(this,w,M);
if(M!=eM.vI&&M!=eM.Xo&&M!=eM.NX&&M!=eM.lt)return;this.B3.b(w.ib,w.Yv,w.bA)};eD.prototype.jH=function(w){var M={d:A.t.gJ,k:this.k,qh:this.fi.Q()?"commit":"cancel"};
if(w.target==this.U5){M.qh="changeAA";M.XU=this.U5.Q()}var O=new aX(A.E.Z,!0);O.data=M;this.l(O)};function co(){cp.call(this,!1,["binop","feat","anta","redge"])}co.prototype=new cp(!0);
function b3(){fp.call(this);var w=[],O="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.qP=new ji([12,85]);this.qP.h(A.E.r,this.Vv,this);w.push(this.qP.m);this.U$=new ji([20,1]);this.U$.h(A.E.r,this.Vv,this);
w.push(this.U$.m);this.Ld=new ji([12,83]);this.Ld.h(A.E.r,this.Vv,this);w.push(this.Ld.m);var M=R.S("span","fitem");
w.push(M);this.a00=new ao("Scale for exported files",["1x","2x","3x","4x"],!0);M.appendChild(this.a00.m);
this.RA=new i8(O+" PNG",!1,"Save selected layers as PNG",!0);M.appendChild(this.RA.m);this.RA.h("click",this.ql,this);
this.alI=new i8(O+" SVG",!1,"Save selected layers as SVG",!0);M.appendChild(this.alI.m);this.alI.h("click",this.ql,this);
var b=R.S("span","fitem");w.push(b);var D=R.S("span","fitem");w.push(D);this.no=[];for(var U=0;U<8;U++){var o=U==3||U==7?[20,4,6]:[20,4,U<3?U:U-1],Z=new i8("Hi",!1,o);
(U<4?b:D).appendChild(Z.m);Z.h("click",this.ql,this);this.no.push(Z)}for(var U=0;U<w.length;U++)this.body.appendChild(w[U]);
this.amK=w}b3.prototype=new fp;b3.prototype.ro=function(w){var M=w.Mx,O=w.a4S;this.qP.b(M.B9);this.U$.b(M.qF);
this.Ld.b(M.BY);if(O){R.Mh(this.body);for(var U=0;U<O.length;U++)if(O[U]==1&&this.amK[U])this.body.appendChild(this.amK[U])}};
b3.prototype.ql=function(w){var M=this.no.indexOf(w.target),O;if(M==-1){O=new aX(A.E.Z,!0);O.data={d:A.t.gJ,k:this.k,uj:w.target==this.RA?"getPNG":"getSVG",h6:this.a00.Q()+1}}else{O=new aX(A.E.s,!0);
O.k=y.R6;O.data={d:"algn",G:M}}this.l(O)};b3.prototype.Vv=function(w){var M=new aX(A.E.Z,!0);M.data={d:A.t.gJ,k:this.k,uj:"prms",B9:this.qP.qm(),qF:this.U$.qm(),BY:this.Ld.qm()};
this.l(M)};b3.prototype.fq=function(){this.qP.f();this.U$.f();this.Ld.f();var w="h0 h1 h2 hG v0 v1 v2 vG".split(" ");
for(var U=0;U<8;U++){this.no[U].RD(R._7("align/"+w[U],null,"autoscale"))}};function fJ(){cp.call(this,!1,["binop","feat","redge","wconf","sall"])}fJ.prototype=new cp(!0);
function ik(){cD.call(this,["setop","patch"])}ik.prototype=new cD;function jD(){cD.call(this,["setop"])}jD.prototype=new cD;
function dv(){cD.call(this,["bmode","opacity","wconf","sall"])}dv.prototype=new cD;function kj(){cp.call(this,!1,["binop","feat","anta","redge"])}kj.prototype=new cp(!0);
function bT(){cp.call(this,!1,["binop","feat","anta","redge"])}bT.prototype=new cp(!0);function fs(){cp.call(this,!1,["binop","feat","redge","cstr"])}fs.prototype=new cp(!0);
function aW(){fp.call(this);this.P4=null;this.zx=null;this.lF=[new d8("X",null,3.2,null,!0),new d8("Y",null,3.2,null,!0),new d8("W",null,3.2,null,!0),new d8("H",null,3.2,null,!0),new d8([12,15],"\xB0",3.7,null,!0),new d8(["VAR0 1",[12,80,0]],null,3.5,null,!0),new d8(["VAR0 2",[12,80,0]],null,3.5,null,!0),new i8([15,7,6],!1,null,!0),new i8([2,2],!1,null,!0)];
for(var U=0;U<this.lF.length;U++){var w=this.lF[U];this.body.appendChild(w.m);if(U>6)w.h("click",this.Cx,this)}this.ak=0}aW.prototype=new fp;
aW.prototype.Cx=function(w){var M=this.lF.indexOf(w.target)==7,O=new aX(A.E.s,!0);if(M){if(this.ak==0)return;
O.k=y.T0;O.data={d:"rot",vZ:[2,5],G:-this.ak}}else{O.k=y.W2;for(var U=0;U<6;U++)this.lF[U].b(null)}this.l(O)};
aW.prototype.ro=function(w){function M($,k,E){var t=Math.sqrt(Math.pow(k.x-$.x,2)+Math.pow(k.y-$.y,2)),c=Math.sqrt(Math.pow(k.x-E.x,2)+Math.pow(k.y-E.y,2)),l=Math.sqrt(Math.pow(E.x-$.x,2)+Math.pow(E.y-$.y,2));
return Math.acos((c*c+t*t-l*l)/(2*c*t))}if(w==null)return;this.zx=w;var O=w.aig,b=w.Cy,D=b.x-O.x,o=b.y-O.y;
this.ak=-Math.atan2(o,D);if(w.UF)this.ak=M(b,O,w.UF);var Z=this.lF;Z[0].b(this.Bz(w,O.x));Z[1].b(this.Bz(w,O.y));
Z[2].b(this.Bz(w,D));Z[3].b(this.Bz(w,o));Z[4].b((this.ak*180/Math.PI).toFixed(2));Z[5].b(this.Bz(w,at.we(O,b)));
if(w.UF){Z[6].b(this.Bz(w,at.we(O,w.UF)))}else Z[6].b("")};aW.prototype.Bz=function(w,M){var O=x.Rk.Ms(M,w.Z1,this.P4,w.a3f,!1);
return parseFloat(O).toFixed(2)};aW.prototype.o9=function(w,M){this.P4=w;this.ro(this.zx)};aW.prototype.fq=function(){var w=this.lF;
for(var U=0;U<w.length;U++)w[U].f();R.AH(w[2],w[3])};function gr(){cD.call(this,["brush","strn","pdetail"])}gr.prototype=new cD;
function fq(){cD.call(this,["brush","sfrom"]);this.a5W=[];var w=[[7,12]];for(var U=0;U<w.length;U++){var M=new i8(w[U],!1,null,!0);
this.a5W.push(M);M.parent=this;this.body.appendChild(M.m);M.h("click",this.a2q,this)}}fq.prototype=new cD;
fq.prototype.a2q=function(w){var M=this.a5W.indexOf(w.currentTarget),O=new aX(A.E.Lm,!0);O.data=y.fV.CK("contentAware");
this.l(O)};function gK(){cD.call(this,["brush","strn"])}gK.prototype=new cD;function ga(){cD.call(this,["brush","flow","smode"])}ga.prototype=new cD;
function hq(){fp.call(this);this.ZW=!1;var w=R.S("span","fitem");this.body.appendChild(w);this.b7=new il(null,["<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"]);
w.appendChild(this.b7.m);this.b7.h(A.E.r,this.Vv,this);this.UO=new i8([20,2]);this.body.appendChild(this.UO.m);
this.UO.h("click",this.a4G,this);this.Va=new i8([20,3]);this.body.appendChild(this.Va.m);this.Va.h("click",this.a4G,this)}hq.prototype=new fp;
hq.prototype.fq=function(){this.UO.f();this.Va.f()};hq.prototype.Vv=function(){var w={d:A.t.gJ,k:this.k,SF:this.b7.Q()==0},M=new aX(A.E.Z,!0);
M.data=w;this.l(M)};hq.prototype.ro=function(w){if(this.ZW!=w.ZW)this.b7.b(1-this.b7.Q());this.ZW=w.ZW};
hq.prototype.a4G=function(w){var M=new aX(A.E.s,!0);M.k=y.s_;M.data={d:"adapt",G:w.target==this.UO?"pixel":"fitscr"};
this.l(M)};function ch(w,M){fp.call(this);if(w==null)return;this.z7=w;this.Yz={};this.abA=M;for(var U=0;
U<w.length;U++){var O=w[U],b=null;if(O=="tmode"){b=new ao(null,[[12,76,1],[12,76,0],[12,76,2]]);b.b(0);
if(M)b.a3B(2)}if(O=="make"){b=new il("Make",[[17,2],[12,76,1]],null,!0)}if(O=="anta"){b=new ji([12,25,1]);
b.b(!0)}if(O=="binop"){b=new ao(null,[[6,13],[18,1],[18,2],[18,3],[18,4]])}if(O=="pshape")b=new ao(null,[[12,93,0],[12,93,1],[12,93,4],[12,93,2]]);
if(O=="shape")b=new dX([12,76,1]);if(O=="crad"){b=new gL([12,94,0],0,50,"px");b.b(0)}if(O=="cstr"){b=new hW}if(O=="irad"){b=new gL([12,94,1],0,100,"%");
b.b(40)}if(O=="length"){b=new gL([12,80,0],4,40);b.b(4)}if(O=="sides"){b=new gL([12,78],3,30);b.b(5)}if(O=="width"){b=new gL([12,41],1,100,"px");
b.b(5)}if(O=="tolr"){b=new gL([12,24],0,100);b.b(5)}if(O=="fstyle"){b=new iD([12,26])}if(O=="sstyle"){b=new h0}if(O=="psnap"){b=new ji([8,10])}if(O=="crnr"){b=new i8("\u2312",!1,[12,94,0],!0)}if(O=="aopts"){b=new cR;
b.b([!1,!1,50,60,0])}b.parent=this;this.body.appendChild(b.m);this.Yz[O]=b;b.h(O=="crnr"?"click":A.E.r,this.Vv,this)}}ch.prototype=new fp;
ch.prototype.ro=function(w){if(w.VB!=null)this.Yz.binop.b(w.VB);else if(w.uj=="vals")for(var M in w.al0)this.Yz[M].b(w.al0[M]);
else{var O=ch.zG;if(O==null)O=ch.zG=new dC([{name:"Remove Anchor Point",R:function(D){var o=D?D.ff():null;
return{R:D&&o[1].length!=0&&o[0][o[1][0]].add.vmsk.yu.length!=0}}},{name:"Remove Path",R:function(D){var o=D?D.ff():null;
return{R:D&&o[1].length!=0&&o[0][o[1][0]].add.vmsk.g.length!=0}},xM:!0},{name:"Make Selection"},{name:[2,3]},{name:[14,9]}],[{_:A.E.s,k:y.bX,W:{d:"remove",It:!0}},{_:A.E.s,k:y.uM,W:{d:"remove"}},{_:A.E.Z,W:{d:A.t.JE,IP:"makesel"}},{_:A.E.Lm,W:y.hw.VX(0)},{_:A.E.Lm,W:y.hw.VX(1)}]);
O.parent=this;O.update(w.zu,w.ND);var b=new aX(A.E.Z,!0);b.data={d:A.t.U6,YT:O,x:w.Vr.UD+2,y:w.Vr.EQ+1};
this.l(b)}};ch.prototype.a32=function(U){return null};ch.prototype.fq=function(){for(var w in this.Yz){this.Yz[w].f()}};
ch.prototype.Vv=function(w){var M=new aX(A.E.Z,!0),O=this.Yz;if(w.target==O.crnr){M=new aX(A.E.s,!0);
M.k=y.bX;M.data={d:"crnr"}}else if(w.target==O.make){var U=w.target.Q();console.log(U);if(U==0)M.data={d:A.t.JE,IP:"makesel"};
else{M=new aX(A.E.s,!0);M.k=y.S7;M.data={d:"newfill",kB:0}}}else if(w.target==O.fstyle){M.data={d:A.t.pF,I8:eM.Lp,G:O.fstyle.Q()}}else if(w.target==O.sstyle){M.data={d:A.t.pF,I8:eM.eG,G:O.sstyle.Q()}}else if(w.target==O.tmode){M.data={d:A.t.pF,I8:eM.nq,G:O.tmode.Q()}}else{if(O.pshape)this.om();
M.data={d:A.t.gJ,k:this.k};for(var b in O)M.data[b]=O[b].Q()}this.l(M)};ch.prototype.om=function(){var w=this.Yz,M=w.tmode.Q(),O=w.pshape?this.a32(w.pshape.Q()):this.z7,b;
if(M==0)b=["anta","make"];if(M==1)b=["anta","fstyle","sstyle"];if(M==2)b=["make","binop","fstyle","sstyle"];
var D=w.binop;if(D){var o=D.Q();if(M==0){D.arS(0)}else{D.a3B(0);if(o==0){D.b(1);this.Vv({target:D})}}}R.Mh(this.body);
for(var U=0;U<O.length;U++){var Z=O[U];if(b.indexOf(Z)!=-1)continue;this.body.appendChild(w[Z].m)}};
ch.prototype.o9=function(w,M){fp.prototype.o9.call(this,w,M);var O=this.Yz.fstyle,b=this.Yz.sstyle,D=this.Yz.tmode;
if(O)O.o9(w,M);if(b)b.o9(w,M);if(M==eM.vI||M==eM.AX)if(w.E9.length!=0&&this.Yz.shape){this.Yz.shape.jX(w.E9)}if(M==eM.vI||M==eM.Lp)if(O)O.b(null,w.$p,w.ax9);
if(M==eM.vI||M==eM.eG)if(b)b.b(null,w.w0,w.a7T);if(M==eM.vI||M==eM.nq){var o=w.A4;if(this.abA&&o==2)o=0;
if(D){D.b(o);this.om()}}};function h2(){ch.call(this,["tmode","make","fstyle","sstyle","binop"],!0)}h2.prototype=new ch;
function aE(){ch.call(this,"tmode make anta fstyle sstyle binop".split(" "))}aE.prototype=new ch;function c4(){ch.call(this,["fstyle","sstyle"]);
this.ao2=null;this.art=null;this.arv=null;this._B=new ao([12,76,0],[[18,1],[18,2],[18,3],[18,4],[18,5]],!1,[4]);
this.Lc=new i8("\u25BC");this.Lc.L5();this.R7=new i8("\u25B2");this.R7.L5();this.r8=[this._B,this.Lc,this.R7];
for(var U=0;U<this.r8.length;U++){var w=this.r8[U];this.body.appendChild(w.m);w.parent=this;w.h(U==0?A.E.r:"click",this.gL,this)}}c4.prototype=new ch;
c4.prototype.ro=function(w){if(w.qh=="main"){var M=this.r8,O=w.dQ;if(O){this.art=O.clone();this.arv=JSON.stringify(w.lK);
var b=O.g.slice(0),D=b.length;for(var U=0;U<b.length;U++)b[U]++;b.sort(function(k,E){return k-E});M[0]._C();
M[1].Sc(D!=0);M[2].Sc(D!=0);M[0].RD(D==0?"No Paths":D==1?"Path "+b[0]:"Paths "+b.slice(0,3).join(",")+(D>3?"..":""));
if(D!=0){var o=O.g[0],Z=x.O.r$(O.j,o),$=O.j[Z];this._B.b([3,0,1,2][$.K$])}}else for(var U=0;U<M.length;
U++)M[U].Sq()}else ch.prototype.ro.call(this,w)};c4.prototype.fq=function(){ch.prototype.fq.call(this);
this._B.f()};c4.prototype.gL=function(w){if(w.target==this._B||w.target==this.Lc||w.target==this.R7){var M={},O=this.art,b=O.j,D=O.g,o=x.O.wW(b),Z=JSON.parse(this.arv);
D.sort(function(H,j){return H-j});if(w.target==this._B){var $=this._B.Q();if($<4)for(var U=0;U<D.length;
U++)b[x.O.r$(b,D[U])].K$=[1,2,3,0][$];else{if(o<=1)return;O.j=x.O.Qa(b);O.g=O.j.length==2?[]:[0];O.yu=[];
Z=[x.lK.KS()]}}else{var k=w.target==this.Lc?-1:1,E=[];for(var U=0;U<o;U++){var t=x.O.r$(b,U),c=t+1+b[t].length;
E.push(b.slice(t,c))}var l=D.slice(0);for(var U=0;U<D.length;U++)l[U]=Math.max(U,Math.min(o-1-(D.length-1-U),l[U]+k));
if(D.join(",")==l.join(","))return;var q=JSON.parse(JSON.stringify(Z));for(var U=0;U<D.length;U++){var d=k==-1?U:D.length-1-U,t=D[d],c=l[d];
if(t!=c){var V=E[t];E[t]=E[c];E[c]=V;V=q[t];q[t]=q[c];q[c]=V}}var L=b.slice(0,2);for(var U=0;U<E.length;
U++)L=L.concat(E[U]);O.j=L;O.g=l;Z=q}M.dQ=O;M.lK=Z;var e=new aX(A.E.Z,!0);e.data={d:A.t.gJ,k:this.k,vt:M};
this.l(e)}};function c_(){ch.call(this,["fstyle","sstyle","crnr","psnap"])}c_.prototype=new ch;function iC(){ch.call(this,"tmode make anta fstyle sstyle binop cstr crad".split(" "))}iC.prototype=new ch;
function iY(){ch.call(this,"tmode make anta fstyle sstyle binop cstr".split(" "))}iY.prototype=new ch;
function dT(){ch.call(this,"tmode make anta fstyle sstyle binop pshape sides irad crad width aopts length".split(" "));
this.Yz.aopts.b([!1,!0,50,60,0])}dT.prototype=new ch;dT.prototype.a32=function(U){var w=[["sides","crad"],["sides","irad","crad"],["width","aopts"],["length"]];
return"tmode make fstyle sstyle binop pshape".split(" ").concat(w[U])};function cN(){ch.call(this,"tmode make anta fstyle sstyle binop width aopts".split(" "))}cN.prototype=new ch;
function js(){ch.call(this,"tmode make anta fstyle sstyle binop cstr shape".split(" "))}js.prototype=new ch;
function iq(){cp.call(this,!1,["binop","feat","redge"])}iq.prototype=new cp(!0);function dF(){cD.call(this,["brush","qsmode","redge"])}dF.prototype=new cD;
function ju(){fp.call(this);var w=this.ahQ=new i8([8,11,3],null,null,!0);w.h("click",this.gL,this);this.body.appendChild(w.m)}ju.prototype=new fp;
ju.prototype.gL=function(w){var M=new aX(A.E.Lm,!0);M.data={wV:"make",g0:{__name:"Make",classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"slice"}}]},Usng:{t:"type",v:{classID:"Gd"}}}};
this.l(M)};ju.prototype.fq=function(w){this.ahQ.f()};function fa(){fp.call(this);var w=this.abk=[new i8("\u25BC",null,null,!0),new i8("\u25B2",null,null,!0),new i8([5,4],null,null,!0)];
for(var U=0;U<3;U++){var M=w[U];this.body.appendChild(M.m);M.h("click",this.gL,this)}}fa.prototype=new fp;
fa.prototype.gL=function(w){var M=this.abk.indexOf(w.target),O=new aX(A.E.s,!0);O.k=y.In;O.data={d:M==2?"delete":"reorder",dir:M==0?-1:1};
this.l(O)};fa.prototype.f=function(){fp.prototype.f.call(this);for(var U=0;U<3;U++)this.abk[U].f()};
function gn(w,M){fp.call(this);if(window.Typr==null||w)return;this.aax=M;this.n9=null;this.aaE=R.S("span","");
this.aoY=R.S("span","");var O=1;this.CT={Bn:new kk(null,24),TD:new gL("X",0,0,"px",0,!1,!0,4),YV:new gL("Y",0,0,"px",0,!1,!0,4),Kq:new gL("W",0,0,["%","px"],2,!1,!0,5),Di:new i8("<img src=\""+PIMG["lrs/link"]+"\" class=\"autoscale gsicon\" />",null,[12,51],null),p9:new gL("H",0,0,["%","px"],2,!1,!0,5),awI:new gL("\u2221",0,0,"\xB0",O,!1,!0),a7c:new gL("\u25B1 H",-85,85,"\xB0",O,!1,!0),a4A:new gL("\u25B1 V",-85,85,"\xB0",O,!1,!0),Or:new ao(null,[[12,14,2],[12,14,3],"Bicubic Sharper"])};
this.CT.Or.b(1);this.CT.Di.b(!0);for(var b in this.CT){var D=this.CT[b];if(M&&(D==this.CT.awI||D==this.CT.a7c||D==this.CT.a4A||D==this.CT.Or)){}else this.aaE.appendChild(D.m);
var o=D==this.CT.Di?"click":A.E.r;D.h(o,this.aaM,this)}this.gu=new gx(!0,!0,!0);this.gu.h(A.E.r,this.aeo,this);
this.gu.parent=this;var Z=this.aoY,$=this.gu;Z.appendChild($.lm.m);Z.appendChild($.wX.m);Z.appendChild($.im.m);
Z.appendChild($.GF.m);Z.appendChild($.Nw.m);this.Ql=new i8([11,9]);this.Ql.h("click",this.afM,this);
this.fi=new bC;this.fi.h("click",this.jH,this)}gn.prototype=new fp;gn.prototype.ro=function(w){if(w.Vr){var M=gn,O=this.zG;
if(O==null)O=this.zG=new dC(M.agI(),M.alF(this.k));O.f();O.parent=this;O.update(w.zu,w.ND);var b=new aX(A.E.Z,!0);
b.data={d:A.t.U6,YT:O,x:w.Vr.UD+2,y:w.Vr.EQ+1};this.l(b);return}R.Mh(this.body);this.n9=w;if(w.CT){var D=w.CT.xr,o=w.CT.S3.clone(),Z=Math.atan2(-o.L,o.ip),$=new f$;
$.rotate(-Z);o.concat($);var k=this.CT;k.Bn.b(w.CT.Dk);k.TD.b(w.CT.Ct.x);k.YV.b(w.CT.Ct.y);k.Kq.b(o.ip*(k.Kq.kg()=="%"?100:D.e));
k.p9.b(o.uc*(k.p9.kg()=="%"?100:D.n));k.awI.b(-Z*180/Math.PI);k.a7c.b(0*180/Math.PI);k.a4A.b(Math.atan(o.Hv)*180/Math.PI);
this.body.appendChild(this.aaE);this.Ql.l4()}if(w.be){this.gu.b(w.be);this.body.appendChild(this.aoY);
this.Ql.L5()}this.body.appendChild(this.fi.m);if(w.ana&&!this.aax)this.body.appendChild(this.Ql.m)};
gn.prototype.aaM=function(w){var M=this.CT,O=this.n9.CT.xr;if(w.target==M.Di)M.Di.b(!M.Di.Q());if(M.Di.qm()){var b=M.p9,D=M.Kq,o=O.n,Z=O.e;
if(w.target==M.Kq){b=M.Kq;D=M.p9;o=O.e;Z=O.n}var $=b.Q()/(b.kg()=="%"?100:o);$*=D.kg()=="%"?100:Z;D.b($)}var k=[];
for(var E in M)if(M[E]!=M.Di&&M[E]!=M.Bn){var $=M[E].Q();if((M[E]==M.Kq||M[E]==M.p9)&&$==0){$=.1;M[E].b($)}if(M[E]==M.Kq&&M[E].kg()=="px")$/=O.e/100;
if(M[E]==M.p9&&M[E].kg()=="px")$/=O.n/100;k.push($)}var t=new at(k[0],k[1]);if(w.target==M.Bn){this.GN({qh:"ctyp",Dk:M.Bn.Q()})}else if(w.target==M.TD||w.target==M.YV){this.GN({qh:"cen",Ct:t})}else{var c=this.n9.CT.S3.clone(),l=c.clone(),q=Math.atan2(-c.L,c.ip);
l.translate(-t.x,-t.y);l.rotate(-q);var d=new f$(l.ip,l.L,l.Hv,l.uc,0,0);d.ZW();l.concat(d);l.concat(new f$(k[2]/100,Math.tan(k[5]*Math.PI/180),Math.tan(k[6]*Math.PI/180),k[3]/100,0,0));
l.rotate(-k[4]*Math.PI/180);l.translate(t.x,t.y);this.n9.CT.S3=l;this.GN({qh:"trn",CT:l,GE:this.CT.Or.Q()})}};
gn.prototype.aeo=function(w){this.GN({qh:"wrp",be:this.gu.Q()})};gn.prototype.afM=function(w){this.GN({qh:"switchWarp"})};
gn.prototype.jH=function(w){this.GN({qh:this.fi.Q()?"commit":"cancel"})};gn.prototype.GN=function(w){w.d=A.t.gJ;
w.k=this.k;var M=new aX(A.E.Z,!0);M.data=w;this.l(M)};gn.prototype.fq=function(){var w=this.CT;for(var M in w)w[M].f();
R.AH(w.Kq,w.p9);this.fi.f();this.gu.f();this.Ql.f()};gn.agI=function(){return[{name:[5,9],rx:"Shift+Alt+Ctrl + T",xM:!0},{name:[12,38]},{name:[2,5]},{name:[24,4]},{name:[2,9]},{name:[11,9],R:function(w){if(w==null||w.g.length!=1)return{R:!1};
var M=w.B[w.g[0]];return{R:M.add.TySh==null&&!M._N()}},xM:!0},{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]};
gn.alF=function(w){if(w==null)w=y.T0;return[{_:A.E.s,k:w,W:{d:"again"}},{_:A.E.Z,W:{d:A.t.Mq,k:w,Mx:{zU:3}}},{_:A.E.Z,W:{d:A.t.Mq,k:w,Mx:{zU:4}}},{_:A.E.Z,W:{d:A.t.Mq,k:w,Mx:{zU:2}}},{_:A.E.Z,W:{d:A.t.Mq,k:w,Mx:{zU:1}}},{_:A.E.Z,W:{d:A.t.Mq,k:w,Mx:{zU:-1}}},{_:A.E.s,k:w,W:{d:"rot",vZ:[2,5],G:-Math.PI/2}},{_:A.E.s,k:w,W:{d:"rot",vZ:[2,5],G:-3*Math.PI/2}},{_:A.E.s,k:w,W:{d:"rot",vZ:[2,5],G:Math.PI}},{_:A.E.s,k:w,W:{d:"scl",vZ:[[2,6],[22,4,2]],G:new at(-1,1)}},{_:A.E.s,k:w,W:{d:"scl",vZ:[[2,6],[22,4,3]],G:new at(1,-1)}}]};
function dU(){gn.call(this)}dU.prototype=new gn(!0);function ez(){gn.call(this)}ez.prototype=new gn(!0);
function fG(){gn.call(this,!1,!0)}fG.prototype=new gn(!0);function f5(){fp.call(this);var w=this.z7=[new ao([12,36],["Rigid",[15,10,0],[24,4]]),new ao([12,74],[[19,8,0],[19,8,1],[19,8,2]]),new gL([7,4],0,100,"px"),new ji("Show Mesh"),new i8("\u25BC",null,null,!0),new i8("\u25B2",null,null,!0)];
for(var U=0;U<w.length;U++){var M=w[U];M.parent=this;this.body.appendChild(M.m);M.h(U<4?A.E.r:"click",this.ay4,this)}this.fi=new bC;
this.fi.h("click",this.jH,this);this.body.appendChild(this.fi.m)}f5.prototype=new fp;f5.prototype.fq=function(){var w=this.z7;
for(var U=0;U<4;U++)w[U].f();this.fi.f()};f5.prototype.ro=function(w){var w=w.I8;for(var U=0;U<4;U++)this.z7[U].b(w[U])};
f5.prototype.ay4=function(w){var M=[];for(var U=0;U<4;U++)M[U]=this.z7[U].Q();var O=this.z7.indexOf(w.target);
if(O<4)this.GN({qh:"prm",I8:M});else this.GN({qh:"moveDepth",aio:O==5})};f5.prototype.jH=function(w){this.GN({qh:this.fi.Q()?"commit":"cancel"})};
f5.prototype.GN=function(w){w.d=A.t.gJ;w.k=this.k;var M=new aX(A.E.Z,!0);M.data=w;this.l(M)};function ad(){eE.call(this);
this.m=R.S("div","cmanager");window.alert=function(b,D){this.aox(b,D);console.log("Alert: "+b)}.bind(this);
window.onblur=function(b){var D=this;D.Br()}.bind(this);this.jy=0;this.e3=0;this.M6=[];this.qi={};this.n$=R.S("div","alertcont");
this.m.appendChild(this.n$);this.aet=R.S("div","alertcont");this.m.appendChild(this.aet);this.l1=R.S("div","alertcont");
this.a4p=0;this.ox=-1;this.arD=null;this.Uu=null;var w=this.acC=R.S("div","alertpanel");w.setAttribute("style","padding:0.7em 1em 0.1em 1em;");
this.l1.appendChild(w);var M=this.yg=R.S("input");M.setAttribute("type","text");R.SZ(M);M.setAttribute("style","background-color:white; color:black; font-size:1.2em; width:100%;  margin:0;");
M.addEventListener("input",this.ahk.bind(this),!1);M.addEventListener("keydown",this.aaj.bind(this),!1);
w.appendChild(M);var O=this.aeC=R.S("div","contextpanel scrollable");O.setAttribute("style","text-align:left; box-shadow:none; margin:0.5em 0 1em 0;color:#888;");
O.addEventListener("click",this.a8J.bind(this),!1);w.appendChild(O);R.c3(document.body,this.acG.bind(this))}ad.prototype=new eE;
ad.prototype.mm=function(){if(R.FP(this.l1))this.m.removeChild(this.l1)};ad.prototype.a2x=function(w,M){var O=this.arD=[],b=M.a9G;
for(var U=0;U<hd.data.length;U++){var D=hd.data[U],o=[fr.get(D.name)],Z=[U];ad.a3C(D.items,o,Z,O,w,M,b==null?null:b[U]==null?0:b[U])}var $=eH.c;
for(var U=0;U<$.length;U+=3){if(M.m6&&M.m6.indexOf($[U+2])==-1)continue;O.push([["Tools",fr.get($[U])],[-1,$[U+2]],$[U+1]])}this.m.appendChild(this.l1);
var k=this.yg;k.focus();k.select();this.Yk()};ad.prototype.ahk=function(w){this.ox=-1;this.Yk()};ad.prototype.Yk=function(){var w=this.yg.value.toLowerCase().trim().replace(/  +/g," "),M=this.arD,O=[],b=[],D=w.split(" ");
if(w!="")for(var U=0;U<M.length;U++){var o=M[U][0],Z=[],$=0;for(var k=0;k<o.length;k++)Z[k]=-1;for(var E=0;
E<D.length;E++)for(var k=0;k<o.length;k++){var t=o[k].toLowerCase().indexOf(D[E]);if(t!=-1){Z[k]=[t,t+D[E].length];
$++;break}}if($==D.length){O.push(M[U]);b.push(Z)}}var c=[],l=this.aeC;R.Mh(l);for(var U=0;U<O.length;
U++){var q=O[U],d=q[0],t=b[U],V="enab",e="";if(U==this.ox)V+=" active";var L=R.S("div",V);c.push(L);
l.appendChild(L);for(var k=0;k<d.length;k++){var H=t[k],j=D[k],g=d[k];if(H!=-1)g=g.slice(0,H[0])+"<span style=\"color:black\">"+g.slice(H[0],H[1])+"</span>"+g.slice(H[1]);
e+=g;if(k<d.length-1)e+=" \uFE65 "}if(q[2]&&(typeof q[2]!="string"||q[2].length==1))e+=" <span style=\"border:1px solid; margin-left:16px; padding:1px 5px; border-radius:5px; background-color:#f4f4f4;\">"+i_.YN(q[2])+"</span>";
L.innerHTML=e}this.Uu=[O,c]};ad.prototype.aaj=function(w){var M=i_.fI,O=w.code;if(M(O,i_.gH))this.mm();
var b=M(O,i_.AB),D=M(O,i_.mC),o=M(O,i_.sW);if(b||D){this.ox=Math.max(0,Math.min(this.Uu[0].length-1,this.ox+(b?-1:1)));
this.Yk()}if(o&&this.ox!=-1)this.ak1(this.ox)};ad.a3C=function(w,M,O,b,D,o,Z){if(typeof Z=="number"){if(Z==0)return;
if(Z==1)Z=null}for(var U=0;U<w.length;U++){if(Z!=null&&(Z[U]==0||Z[U]==null))continue;var $=w[U],k=M.slice(0),E=O.slice(0),t=fr.get($.name);
if($.R){var c=$.R(D,o,U);if(c.yZ)t=c.yZ;if(c.R==!1)continue}k.push(t);E.push(U);if($.sub)ad.a3C($.sub,k,E,b,D,o,Z?Z[U]:null);
else b.push([k,E,$.rx])}};ad.prototype.a8J=function(w){var M=w.target;if(M.tagName.toLowerCase()=="span")M=M.parentNode;
var O=this.Uu[1].indexOf(M);if(O!=-1)this.ak1(O)};ad.prototype.ak1=function(w){var M=this.Uu[0][w][1];
if(M[0]==-1){var O=new aX(A.E.Z,!0);O.data={d:A.t.Mq,k:M[1]};this.l(O)}else{var b=hd.data[M[0]].gh[M[1]];
for(var U=2;U<M.length;U++)b=b.sub[M[U]];var D=new aX(b._,!0);D.k=b.k;D.data=b.W;this.l(D)}this.mm()};
ad.prototype.nQ=function(w,M){this.jy=w;this.e3=M;this.aeC.style["max-height"]=M-120+"px"};ad.prototype.aiq=function(w){var M=R.S("div","alertpanel");
M.textContent=fr.get(w);this.n$.appendChild(M);this.qi[JSON.stringify(w)]=M};ad.prototype.akU=function(w){var M=this.qi[JSON.stringify(w)];
this.n$.removeChild(M);delete this.qi[JSON.stringify(w)]};ad.prototype.aox=function(w,M){var O=this.aet;
for(var U=0;U<O.children.length;U++)if(O.children[U].textContent==w)return;var b=R.S("div","alertpanel tpanel");
b.textContent=w;b.setAttribute("style","opacity:0.5; transform:scale(0.9)\t");O.appendChild(b);if(M==null)M=1500;
var D=M,o=Math.max(Date.now()+D,this.a4p+D);setTimeout(function(){b.setAttribute("style","transform:scale(1); opacity:1;")},10);
setTimeout(function(){O.setAttribute("style","margin-top: -3.6em; transform: translateY(3.6em);")},o-Date.now()-30);
setTimeout(function(){O.removeChild(O.firstChild);O.setAttribute("style","transition: transform 0.7s;  margin-top: 1em;  transform: translateY(0em);")},o-Date.now());
this.a4p=o};ad.prototype.acG=function(w){var M=this.M6;for(var U=M.length-1;U>=0;U--){var O=M[U],b=w.target;
while(b!=null){if(b==O.m){this.Br(O);return}b=b.parentNode}}this.Br();var D=w.target;while(D!=this.l1&&D!=document.body)D=D.parentNode;
if(D!=this.l1)this.mm()};ad.prototype.Br=function(w){var M=this.M6;for(var U=0;U<M.length;U++){if(w&&w.aon(M[U]))continue;
var O=M[U].m;O.style.height="auto";R.Y4(O,"scrollable");this.m.removeChild(O);M.splice(U,1);U--}};ad.prototype.alL=function(w){this.Br(w.YT);
var M=w.YT,O=M.m;if(this.M6.indexOf(M)!=-1)return;this.M6.push(M);this.m.appendChild(M.m);var b=this.jy,D=this.e3,o=w.x,Z=w.y,$=this.m.getBoundingClientRect(),k=M instanceof dC,E=-1,t=D-2;
if(k||w.uo){var c=M.VT(),l=M.a2y();if(k)c=Math.min(c,200);var q=b-c-2,d=D-l-2;if(Z<d)E=2;else if(o<q)E=1;
else if(0<Z-l-2)E=0;else E=3;if(w.ape)E=0;if(w.ahr)E=2;if(E==2){o=Math.min(o,q)}else if(E==1){Z=Math.min(Z,d)}else if(E==0){Z=Z-l-2;
o=Math.min(o,q);t=w.y}else if(E==3){o=o-c-2;Z=Math.min(Z,d)}}Z=Math.max(2,Z);var top=Math.round(Z-$.y+this.m.offsetTop);
O.style.position="absolute";O.style["z-index"]=10;if(Z+M.a2y()>t){O.style.height=t-Z+"px";R.rV(O,"scrollable");
if(E==3)o-=10}O.style.left=Math.round(o)+"px";O.style.top=top+"px"};ad.prototype.a3g=function(w){var M=w.YT,O=this.M6.indexOf(M);
if(O==-1)return;this.M6.splice(O,1);var b=M.m;this.m.removeChild(M.m)};ad.prototype.R9=function(){var w=this.M6;
return w.length==0?null:w[w.length-1]};ad.prototype.ajw=function(){this.a3g({YT:this.R9()})};function e0(){eE.call(this);
this.m=R.S("div","confbar")}e0.prototype=new eE;e0.prototype.acL=function(w){w.parent=this;R.Mh(this.m);
this.m.appendChild(w.m)};function kl(w){eE.call(this);kl.uA=w;this.P4=null;this.ys=R.S("input","");this.ys.setAttribute("type","file");
this.ys.setAttribute("multiple","");this.ys.addEventListener("change",function(M){this.NW(M.target.files,null,this.cZ,null);
this.cZ=null}.bind(this),!1);document.body.appendChild(this.ys);this.ys.setAttribute("style","display:none");
this.afm=[];this.OK=!1;this.a2w=[];this.ZI=!1;this.apu={};this.cZ=null}kl.prototype=new eE;kl.uA=null;
kl.KJ=function(w){try{var M={};M[w.type]=w;navigator.clipboard.write([new ClipboardItem(M)])}catch(fr){console.error(fr,fr.message)}};
kl.Ta=function(w,M){navigator.clipboard.read().then(function(O){for(var U=0;U<O.length;U++){try{var b=O[U],D={},o=0,Z=0;
for(var $=0;$<b.types.length;$++){var k=b.types[$];o++;b.getType(k).then(function(E){var t=k;new Response(E).arrayBuffer().then(function(c){D[this.kB]=c;
Z++;if(Z==o)kl.axv(D,w,M)}.bind({kB:this.kB}))}.bind({kB:k}))}}catch(fr){console.error(fr,fr.message)}}}).catch(function(O){alert("Clipboard error: ("+O.message+")")})};
kl.a62=function(w){navigator.permissions.query({name:"clipboard-read"}).then(function(M){w(M.state)})};
kl.axv=function(w,M,O){var b=["text/plain","image/png","text/html","text/plain"];for(var D in w)console.log(D,D.startsWith("text")?n.AL(new Uint8Array(w[D])).slice(0,100)+"...":w[D]);
for(var o=0;o<b.length;o++){var Z=b[o],$=w[Z];if($==null)continue;if(Z=="image/png"){kl.uA({name:"image.png"},$,M,O);
return}if(Z=="text/plain"){var k=n.AL(new Uint8Array($));if(o==0)if(!k.startsWith("<!--")&&!k.startsWith("<svg"))continue;
var E=new aX(A.E.Z,!0);E.data={d:A.t.aqJ,G:k};M.l(E);return}if(Z=="text/html"){var k=n.AL(new Uint8Array($)),t=k.indexOf("src=\"");
if(t!=-1&&k.slice(t+5,t+9)!="http"){var c=t+10;while(k[c]!="\"")c++;var l=k.slice(t+5,c);kl.uA({name:"chart.png"},ce.v$(l).buffer,M,O);
return}}}};kl.prototype.E$=function(w){if(w==null)w=[23,5];var M=JSON.stringify(w),O=this.apu;if(O[M]==null)O[M]=0;
if(O[M]==0){var b=new aX(A.E.Z,!0);b.data={d:A.t.sN,bs:w};this.l(b)}O[M]++};kl.prototype.rM=function(w){if(w==null)w=[23,5];
var M=JSON.stringify(w),O=this.apu;if(O[M]==null)O[M]=0;O[M]--;if(O[M]==0){var b=new aX(A.E.Z,!0);b.data={d:A.t.zk,bs:w};
this.l(b)}};kl.prototype.ajk=function(w,M){this.cZ=w;var O=window.showOpenFilePicker;if(O&&window.self==window.top){var b=this;
O({multiple:!0}).then(function(Z){var $=[];function k(E){$.push(E);if($.length==Z.length){b.NW($,null,b.cZ,null,Z);
b.cZ=null}else Z[$.length].getFile().then(k)}Z[$.length].getFile().then(k)});return}var D=this.ys;if(M)D.setAttribute("accept",M);
else D.removeAttribute("accept");var o=document.createEvent("MouseEvents");o.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
D.dispatchEvent(o)};kl.prototype.Ym=function(w){if(w.url.indexOf("photopea.com#i")!=-1||w.url.indexOf("photopea.com/#i")!=-1){this.tj(w.url.split("#i").pop());
return}this.afm.push(w);this.aqg()};kl.prototype.aqg=function(){var w=this.afm;if(w.length==0||this.OK)return;
this.OK=!0;var M=w.shift();this.E$();if(M.jS==null)M.jS={};var O=new XMLHttpRequest;O.Ti=M;var b=M.url;
if(M.Xr&&!b.startsWith("data:image"))b="mirror.php?url="+encodeURIComponent(b);O.open("GET",b);if(M.Mk)for(var D in M.Mk)O.setRequestHeader(D,M.Mk[D]);
O.responseType="arraybuffer";O.onload=this.au0.bind(this);O.send()};kl.prototype.NW=function(w,M,O,b,D){for(var U=0;
U<w.length;U++){this.E$();var o=w[U],Z=new FileReader;Z.Ti=o;Z.Ti.Qs=O;Z.Ti.Cl=b;Z.a1A=M;if(D)Z.Ti.N0=D[U];
Z.onload=this.au0.bind(this);Z.onerror=function($){this.rM()}.bind(this);this.a2w.push([Z,o])}this.ys.value=null;
this.a5G()};kl.prototype.a5G=function(){var w=this.a2w;if(w.length==0||this.ZI)return;this.ZI=!0;var M=w.shift();
M[0].readAsArrayBuffer(M[1])};kl.prototype.a9s=function(w,M,O){this.E$("Saving ...");this.P4=M;setTimeout(O.bind({OH:w,caller:this}),50)};
kl.Ig=function(w){var M="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",O=new Uint8Array(w),b=O.length,D=b%3,o=b-D,Z=[],$=0,k=0,E=0;
for(var U=0;U<o;U+=3){$=O[U];k=O[U+1];E=O[U+2];Z.push(M[$>>2]+M[($&3)<<4|k>>4]+M[(k&15)<<2|E>>6]+M[E&63])}if(D==1){$=O[o];
Z.push(M[$>>2]+M[($&3)<<4]+"==")}if(D==2){$=O[o];k=O[o+1];Z.push(M[$>>2]+M[($&3)<<4|k>>4]+M[(k&15)<<2]+"=")}var t=Z.join("");
return t};kl.a19=function(w,M){var O="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b=new Uint8Array(64),$=0,k=0,E=0,c=0;
for(var U=0;U<64;U++)b[U]=O.charCodeAt(U);var D=new Uint8Array(w),o=M%3,Z=M-o,t=new Uint8Array(Math.floor(M/3)*4+(o==0?0:4));
for(var U=0;U<Z;U+=3){$=D[U];k=D[U+1];E=D[U+2];t[c]=b[$>>>2];t[c+1]=b[($&3)<<4|k>>>4];t[c+2]=b[(k&15)<<2|E>>>6];
t[c+3]=b[E&63];c+=4}if(o==1){$=D[Z];t[c]=b[$>>2];t[c+1]=b[($&3)<<4];t[c+2]=61;t[c+3]=61}if(o==2){$=D[Z];
k=D[Z+1];t[c]=b[$>>2];t[c+1]=b[($&3)<<4|k>>4];t[c+2]=b[(k&15)<<2];t[c+3]=61}return t};kl.prototype.au0=function(w){var M,O=w.target.Ti;
if(w.target instanceof XMLHttpRequest)M=w.target.response;else M=w.target.result;kl.uA(O,M,this,w.target.a1A);
this.rM();if(w.target instanceof XMLHttpRequest){this.OK=!1;this.aqg()}else{this.ZI=!1;this.a5G()}};
kl.atv=function(w,M){var O=new XMLHttpRequest;O.open("POST","https://api.imgur.com/3/image",!0);O.yV=M;
O.setRequestHeader("Authorization","Client-ID 3ad80d2d9969219");O.setRequestHeader("Content-type","application/x-www-form-urlencoded");
O.setRequestHeader("Accept","application/json");O.addEventListener("load",kl.as$);O.send("type=base64&image="+encodeURIComponent(kl.Ig(w)));
alert("Saving to Imgur ...",4e3)};kl.as$=function(w){var M=JSON.parse(w.target.response);if(M.success){if(w.target.yV)w.target.yV(M.data.link);
else window.open(M.data.link,"Imgur")}};kl.prototype.tj=function(w,M){this.E$();var O=new XMLHttpRequest;
O.responseType="arraybuffer";O.open("GET","https://f000.backblazeb2.com/file/psdshared/"+w);O.onload=this.a4H.bind(this);
O.send();kl.anq=Date.now();kl.aa8=w;kl.a1N=M?w:null};kl.prototype.a4H=function(w){var M=new Uint8Array(w.target.response);
console.log(M.length,Date.now()-kl.anq);for(var U=0;U<M.length;U++)M[U]=255-M[U];M=pako.inflateRaw(M);
var O=JSON.parse(n.AL(M,0,2e3));kl.uA({name:O.name,QD:kl.a1N},M.slice(2e3).buffer,this);this.rM();var b=new XMLHttpRequest;
b.open("GET","/papi/img/update.php?act=0&id="+kl.aa8+"&rnd="+Math.random());b.send()};kl.prototype.atT=function(w,M,O){if(!(w instanceof ArrayBuffer))throw"e";
w=new Uint8Array(w);var b=new Uint8Array(w.length+2e3),c="";for(var U=0;U<2e3;U++)b[U]=32;n.Q5(JSON.stringify({name:M}),b,0);
b.set(w,2e3);w=b;w=pako.deflateRaw(w);for(var U=0;U<w.length;U++)w[U]=255-w[U];w=w.buffer;var D=w.byteLength,o=kh.AE(D),Z=~~(609e5/2),$=~~(209e5/2);
if(D>Z){confirm("Your file is "+o+". Our limit is "+kh.AE(Z)+". Delete some layers and try again.");
return}if(D>$){var k=confirm("Your file is quite large ("+o+"). Opening it will take a lot of time. Do you still want to proceed?");
if(!k)return}var E=sha1(w),t=[];for(var U=0;U<20;U++){var l=parseInt(E.slice(U*2,U*2+2),16);t.push(l);
c+=String.fromCharCode(l)}var q=btoa(c).replace(/\+/g,"-").replace(/\//g,"_").slice(0,8);if(kl.abQ(q)){console.log("file already exists");
if(O)O("https://www.photopea.com#i"+q);else window.open("https://www.photopea.com#i"+q);return}this.E$("Publishing ...");
var d=new XMLHttpRequest;d.zx=[w,E,q,O];d.open("GET","/papi/img/publish.php?rnd="+Math.random()+"&id="+q+"&size="+D);
d.onload=this.a6F.bind(this);d.send()};kl.abQ=function(w){try{var M=new XMLHttpRequest;M.open("HEAD","https://f000.backblazeb2.com/file/psdshared/"+w,!1);
M.send();if(M.status==200)return!0}catch(fr){return!1}return!1};kl.prototype.a6F=function(w){console.log(w.target.response);
var M=JSON.parse(w.target.response),O=w.target.zx,b=new XMLHttpRequest;b.open("POST",M.uploadUrl);b.setRequestHeader("Authorization",M.authorizationToken);
b.setRequestHeader("X-Bz-File-Name",O[2]);b.setRequestHeader("Content-Type","b2/x-auto");b.setRequestHeader("X-Bz-Content-Sha1",O[1]);
b.send(new Blob([O[0]]));b.onload=this.afk.bind({jA:this,zx:O})};kl.prototype.afk=function(w){this.jA.rM("Publishing ...");
if(this.zx[3])this.zx[3]("https://www.photopea.com#i"+this.zx[2]);else window.open("https://www.photopea.com#i"+this.zx[2]);
var M=new XMLHttpRequest;M.open("GET","/papi/img/update.php?act=2&id="+this.zx[2]+"&fileId="+JSON.parse(w.target.response).fileId+"&rnd="+Math.random());
M.send()};kl.save=function(w,M){var O=new Uint8Array(w),b=document.createElement("a");if(typeof b.download=="string"){var D=new Blob([O]),o=window.URL.createObjectURL(D);
b.href=o;b.download=M;document.body.appendChild(b);b.click();document.body.removeChild(b)}else{var Z="data:application/octet-stream;base64,"+kl.Ig(w);
window.open(Z)}};function id(){this.size=16;this.data=x.$(16)}id.prototype.VN=function(w,M){if(w+M<=this.size)return;
var O=this.size;while(w+M>this.size)this.size*=2;var b=x.$(this.size);for(var U=0;U<O;U++)b[U]=this.data[U];
this.data=b};var aY={};aY.L$=function(w,M,O){var b=M.split(":"),D=b[0],o=null;if(b.length==2){if(D=="jpg")o=[Math.round(100*parseFloat(b[1]))];
if(D=="webp")o=[Math.round(100*parseFloat(b[1])),100,0,!1,!1];if(D=="psd")o=[!0,!0];if(D=="svg")o=b[1].split(",").map(function($){return $=="true"})}var Z=ce.jV(w,D.toUpperCase(),null,null,o,O);
return Z};aY.ao1=function(w,M,O){var b=w.Hp(),D=M[0];return aY.L$(w,D,O)};aY.a5C=function(){var w=this.OH,M=this.caller,O=w.jS.CI,b=O.formats,D,o;
w.Hp();var Z=Date.now();if(O.version==1){var $=[],k=0,t=0;for(var U=0;U<b.length;U++){var E=aY.L$(w,b[U],M.P4);
$.push(E);k+=E.byteLength}D=new Uint8Array(2e3+k);var c="{ \"source\": "+JSON.stringify(w.tm)+", \"versions\": [\n";
for(var U=0;U<b.length;U++){var l=new Uint8Array($[U]);c+="\t{\"format\": \""+b[U].split(":")[0]+"\", \"start\": "+t+", \"size\": "+l.length+" }"+(U+1<b.length?", ":"")+"\n";
D.set(l,2e3+t);t+=$[U].byteLength}c+="] }";var q=n.Q5(c,D,0);for(var U=q;U<2e3;U++)D[U]=32;o="application/octet-stream"}else{var d=new id,V=0,L="",e=encodeURIComponent;
L="p="+e("{ \"source\": "+JSON.stringify(w.tm)+", \"versions\": [");n.CD(d,V,L);V+=L.length;for(var U=0;
U<b.length;U++){L=e(" {\"format\": \""+b[U].split(":")[0]+"\", \"data\": \"");n.CD(d,V,L);V+=L.length;
var E=aY.L$(w,b[U],M.P4),H=kl.a19(E,E.byteLength),q=H.length;d.VN(V,q);for(var j=0;j<q;j++){d.VN(V,3);
var g=H[j];if(g==43){d.data[V]=37;d.data[V+1]=50;d.data[V+2]=66;V+=3}else if(g==47){d.data[V]=37;d.data[V+1]=50;
d.data[V+2]=70;V+=3}else if(g==61){d.data[V]=37;d.data[V+1]=51;d.data[V+2]=68;V+=3}else{d.data[V]=g;
V++}}L=e("\" }"+(U+1<b.length?", ":""));n.CD(d,V,L);V+=L.length}L=e("] }");n.CD(d,V,L);V+=L.length;D=d.data.slice(0,V);
o="application/x-www-form-urlencoded"}var K=new XMLHttpRequest;K.open("POST",O.url,!0);if(o)K.setRequestHeader("Content-Type",o);
K.addEventListener("load",aY.ajb.bind(this));K.send(new Blob([D.buffer]))};aY.ajb=function(w){this.caller.rM("Saving ...");
var M=w.target.response;if(M.charAt(0)=="{"){M=JSON.parse(M);if(M.newSource)this.OH.tm=M.newSource;if(M.message)alert(M.message,2e3);
if(M.script){var O=new aX(A.E.Z,!0);O.data={d:A.t.wz,oQ:M.script};this.caller.l(O)}}else alert("Saved. Response: "+M,1500)};
aY.aw2=function(w){var M=w.eh,O=M[1].split(".").pop(),b=aY.L$(w,O),D=Storage.fP(M[0]);D.akV(M[1],b)};
aY.ati=function(w,M){var O=w.ME._R;if(M==null)M=aY.L$(w,O);ab.Uv(function(){var b=new XMLHttpRequest,D="https://www.googleapis.com/upload/drive/v3/files/"+w.ME.file.id+"?uploadType=media"+"&"+ab.Fi();
b.open("PATCH",D,!0);b.addEventListener("load",function(o){var Z=JSON.parse(o.target.response);alert(Z.name+" updated")});
b.send(M);alert("Saving \""+w.ME.file.name+"\" to Google Drive ...")})};aY.uA=function(w,M,O,b){if(window.location.href.indexOf("photopea.com")==-1||window.top!=window.self)aY.a2h(w,M,O,b);
else{try{aY.a2h(w,M,O,b)}catch(fr){if(fr=="low_ram"){}else{var D="Error. Please, send your file to support@photopea.com and we will solve it.";
if(ce.S5(M)=="eps")D="We support only basic EPS files. Convert your file into PDF (with an online converter) and open the PDF in Photopea.";
alert(D,1e4)}}}};aY.a2h=function(w,M,O,b){var D;if(w.name){var o=w.name.lastIndexOf(".");D=o==-1?o:w.name.slice(0,o)}else{if(w.url.substring(0,5)=="data:"||w.url.indexOf("googleapis")!=-1)D="image";
else D=w.url.substring(w.url.lastIndexOf("/")+1).split(".")[0];D=D.slice(0,50)}var Z=w.name?w.name:w.url,$=new Uint8Array(M),k=ce.S5(M),E=window.gtag;
if(Math.random()<.25&&E&&k!=null&&ce.ti(k))E("event",k,{event_category:"Formats"});if(k==null)k=n.TP($,0,4);
if(Z&&Z.toLowerCase().endsWith(".raw")){var t=new aX(A.E.Z,!0);t.data={d:A.t.JE,IP:"importraw",JX:M,P_:Z.split("/").pop()};
O.l(t);return}else if(k=="json"){var c="";for(var U=0;U<$.length;U++)c+=String.fromCharCode($[U]);c=decodeURIComponent(escape(c));
alert("Unknown JSON file opened. See the content in the console.",5e3);console.log(JSON.parse(c));return}if(k=="html"){var c=n.AL($,0,$.length),l=new DOMParser,q=l.parseFromString(c,"text/html"),d=q.getElementsByTagName("meta");
for(var U=0;U<d.length;U++){var V=d[U],L=V.getAttribute("property"),e=V.getAttribute("content"),H=null;
if(L=="og:image")H=e;if(L==null&&e&&e.startsWith("0;url=/imgres?")){var j=e.slice(14).split("&");for(var K=0;
K<j.length;K++)if(j[K].startsWith("imgurl"))H=decodeURIComponent(j[K].slice(7))}if(H==null)continue;
var t=new aX(A.E.Z,!0);t.data={d:A.t.xS,I8:{url:H,Xr:!0,Qs:w.Qs}};O.l(t)}return}if(ce.ti(k)){var a,T,C=ce.ti(k);
if(w.Qs!=null&&"jpg png gif pdf svg ai psd".split(" ").indexOf(k)!=-1){var t=new aX(A.E.Z,!0);t.data={d:A.t.rh,target:w.Qs,dp:w.Cl,_t:M,Ak:D};
O.l(t);return}var F=[D,C,k,w,O,b,M];if(C.wZ){a=new fO(D+(k=="psd"?"":"-"+k)+".psd");C.sc(M,a,aY.s7,F)}else{T=C.sc(M,null,aY.s7,F,O)}if(C.f3!=!0)aY.s7(a,T,F);
else O.E$();return}var m=new aX(A.E.Z,!0);m.data={d:A.t.I7,JX:M,b1:w.name};var N=w instanceof File&&w.ad4!=!0,t=new aX(A.E.Z,!0);
t.data={d:A.t.pF,jS:"add",I8:null,zm:null,axs:w.ad4};if(k=="zip"){var v=Date.now(),h=UZIP.parse(M),P="xml rels plist iwa db ds_store txt rtf".split(" ");
for(var J in h){var Y=!1;for(var U=0;U<P.length;U++)if(J.toLowerCase().endsWith("."+P[U]))Y=!0;if(J.startsWith("__MACOSX/")||h[J].length==0)Y=!0;
if(Y)continue;var B=J.split("/").pop();aY.uA({name:B},h[J].buffer,O,b)}}else if(k=="jsx"||Z&&Z.toLowerCase().endsWith(".jsx")){var c=n.AL(new Uint8Array(M));
t.data={d:A.t.wz,oQ:c};O.l(t)}else if(k=="otf"){if(N)O.l(m);var S=Typr.parse(M);t.data.I8=eM.NX;for(var U=0;
U<S.length;U++){t.data.zm=S[U];O.l(t)}}else if(k=="asl"){if(N)O.l(m);var S=en.TC(M);t.data.I8=eM.ab;
t.data.zm=S.Kw;O.l(t);t.data.I8=eM.$i;t.data.zm=S.d5;O.l(t)}else if(k=="tpl"){if(N)O.l(m);var S=jT.TC(M);
t.data.I8=eM.rq;t.data.zm={eg:S.eg,ow:S.ow,list:[]};O.l(t);if(S.a1z.length!=0){t.data.I8=eM.AX;t.data.zm=S.a1z;
O.l(t)}if(S.d5.length!=0){t.data.I8=eM.$i;t.data.zm=S.d5;O.l(t)}t.data.I8=eM.gZ;t.data.zm=S.list;O.l(t)}else{var r="";
for(var I in eM.Ru)if(eM.Ru[I][0]==k)r=I;if(r!=""){if(N)O.l(m);t.data.zm=eM.Ru[r][2].TC(M,Z);t.data.I8=r;
O.l(t)}else alert("Unknown file format: "+JSON.stringify(k))}};aY.s7=function(w,M,O){var b=O[0],D=O[1],o=O[2],Z=O[3],$=O[4],k=O[5],E=O[6];
if(D.f3)$.rM();if(!D.wZ){if(M.length==0)return;if(M[0].t33421||M[0].t50706){x.raw.normalize(M[0],E);
console.log(M[0]);var t=new aX(A.E.Z,!0);t.data={d:A.t.JE,IP:"rawpea",cB:M[0]};$.l(t);return}if(k){k(new Uint8Array(M[0].data),M[0].fJ);
return}w=ce.B2(b,M)}w.QD=Z.QD;w.Iu=o;w.jS=Z.jS;w.tm=Z.url;w.VP=Z.VP;w.ME=Z.ME;w.N0=Z.N0;w.eh=Z.eh;if(w.ME)w.ME._R=o;
if(w.B.length!=0){var t=new aX(A.E.Z,!0);t.data={d:Z.Qs==null?A.t.$s:A.t.rh,target:Z.Qs,dp:Z.Cl,_t:w};
$.l(t)}};function hY(w){eE.call(this);this.x_=hY.x_++;this.XP=w;this.aoS=this.a1n.bind(this);this.aoN=this.ahc.bind(this);
this.a5i=this.ke.bind(this);this.adX=this.awi.bind(this);this.aaO=this.a9M.bind(this);this.avh=this.adN.bind(this);
this.fp=0;this.a3a=0;this.am1=0;this.m=R.S("div","panelblock");this.Oy=R.S("div","block");this.$C=R.S("div","collapsed");
this.m.appendChild(this.Oy);this.Lr=-1;this.Sx=!0;this._0=R.S("div","panelhead");this.Oy.appendChild(this._0);
this.Ej(this._0);this.y_=new i8("\u2261");this.y_.m.setAttribute("style","position:absolute; right:0;");
this.y_.h("click",this.aqI,this);this.x4=R.S("div","body");this.Oy.appendChild(this.x4);this.v0=[];this.aF=null;
this.D7=null}hY.x_=0;hY.prototype=new eE;hY.p5=26.1;hY.prototype.aqI=function(w){var M=this.v0[this.Lr].Pi(),O=w.currentTarget.m.getBoundingClientRect();
M.f();M.update();M.parent=this;var b=new aX(A.E.Z,!0);b.data={d:A.t.U6,YT:M,x:O.left,y:O.top+O.height+2};
this.l(b)};hY.prototype.Gp=function(w){var M=this.Oy,O=this._0,b=this.x4;if(R.FP(O))M.removeChild(O);
if(R.FP(b))M.removeChild(b);if(w==0)M.appendChild(O);M.appendChild(b);this.am1=w};hY.qq=function(w){w.stopPropagation();
w.preventDefault()};hY.prototype.a1n=function(w){var M=w.dataTransfer.types;if(M[1]!=null&&M[1]!=this.x_+"")return;
hY.qq(w);var aq=w.currentTarget;if(w.target==aq)R.rV(aq,"highlight")};hY.prototype.ahc=function(w){hY.qq(w);
var aq=w.currentTarget;if(w.target==aq)R.Y4(aq,"highlight")};hY.prototype.Ej=function(w){w.addEventListener("dragenter",this.aoS,!1);
w.addEventListener("dragleave",this.aoN,!1);w.addEventListener("dragover",hY.qq,!1);w.addEventListener("drop",this.a5i,!1);
w.addEventListener("dragstart",function(M){M.dataTransfer.setData("Text","--panel");M.dataTransfer.setData(this.x_+"","")}.bind(this),!1)};
hY.prototype.ke=function(w){this.aoN(w);var M=null,aq=w.currentTarget,O=this.afx(aq);if(aq==this.x4&&this.Lr!=-1)M=this.Lr;
else if(aq==this._0)M=null;else if(O!=-1)M=O;var b=w.dataTransfer.getData("Text");if(b==""||b.startsWith("http"))R.Bs(w,this,M);
else if(b=="--panel"){var D=R.Pr(w,aq),o=this.v0,Z=o.slice(0),U=this.Lr,$=O==-1?o.length:D.x<aq.getBoundingClientRect().width/2?O:O+1;
if(U==$||U+1==$||aq==this.x4)return;var k=U<$?$-1:$,E=o[U];o.splice(U,1);o.splice(k,0,E);R.Mh(this._0);
for(var t=0;t<o.length;t++)this._0.appendChild(o[t].o$);this.hq(k);var c=[];for(var U=0;U<o.length;U++)c[U]=Z.indexOf(o[U]);
var l=new aX("shuffleItems",!1);l.data={a5P:c};this.l(l)}else if(M!=null&&this instanceof j5){var l=new aX(A.E.Z,!0);
l.data={d:A.t.av6,adG:M};this.l(l)}};hY.prototype.lY=function(){return null};hY.prototype.a1v=function(){if(this.lY()){this._0.style.padding="0px";
this.D7=this.lY();this.x4.appendChild(this.D7);this.mS.Sc(!1);var w=new aX(A.E.Z,!0);w.data={d:A.t.I$,G:1};
this.l(w)}};hY.prototype.al1=function(){if(this.D7){this._0.style.padding="";this.x4.removeChild(this.D7);
this.D7=null;this.mS.Sc(!0);var w=new aX(A.E.Z,!0);w.data={d:A.t.I$,G:0};this.l(w)}};hY.prototype.afx=function(w){var M=this.v0;
for(var U=0;U<M.length;U++)if(M[U].o$==w)return U;return-1};hY.prototype.Wa=function(){for(var U=0;U<this.v0.length;
U++)this.v0[U].As.l4()};hY.prototype.iR=function(){return this.Lr};hY.prototype.vR=function(){if(this.Sx)return;
this.Sx=!0;this.m.removeChild(this.$C);this.m.appendChild(this.Oy)};hY.prototype.collapse=function(){if(!this.Sx)return;
this.Sx=!1;this.m.appendChild(this.$C);this.m.removeChild(this.Oy)};hY.prototype.aah=function(){return hY.p5+this.x4.getBoundingClientRect().height};
hY.prototype.nQ=function(w,M){this._0.style.maxWidth=w+"px";var O=0;if(this.am1==0){O=this._0.getBoundingClientRect().height+1;
O=Math.max(O,hY.p5)}if(this.Lr!=-1)this.v0[this.Lr].nQ(w,M-O);return M-O};hY.prototype.o9=function(w,M){if(this.Lr!=-1)this.v0[this.Lr].o9(w,M)};
hY.prototype.ZM=function(w,M,O){this.v0[this.Lr].ZM(w,M,O)};hY.prototype.tQ=function(w){this.al1();if(this.v0.indexOf(w)!=-1){this.hq(this.v0.indexOf(w));
return}w.parent=this;this.v0.push(w);this._0.appendChild(w.o$);w.o$.addEventListener("mouseover",this.adX,!1);
this.Ej(w.o$);this.$C.appendChild(w.As.m);w.As.h("click",this.a4f,this);w.h("select",this.alC,this);
w.h(A.E._r,this.aoT,this);this.hq(this.v0.length-1)};hY.prototype.awi=function(w){if(w.buttons==0)return;
var M=w.currentTarget,O=M,U=0;while((O=O.previousSibling)!=null)U++;this.a3a=U;M.addEventListener("mouseout",this.aaO,!1);
this.fp=setTimeout(this.avh,700)};hY.prototype.a9M=function(w){var M=w.currentTarget,O=M,U=0;while((O=O.previousSibling)!=null)U++;
M.removeEventListener("mouseout",this.aaO);clearTimeout(this.fp)};hY.prototype.adN=function(w){this.l(new aX(A.E.ast,!1))};
hY.prototype.aod=function(w){return this.a3a};hY.prototype.bu=function(U){var w=new aX(A.E._r,!1);w.data={$G:U};
this.l(w);var M=this.v0[U];this.v0.splice(U,1);this._0.removeChild(M.o$);this.$C.removeChild(M.As.m);
M.o$.className="";M.As.removeEventListener("click",this.a4f,this);M.As.l4();M.removeEventListener("activate",this.alC);
M.removeEventListener(A.E._r,this.aoT);var O=this.Lr;if(U<O)O--;else if(U==O&&U==this.v0.length)O--;
this.hq(O);if(this.v0.length==0)this.a1v()};hY.prototype.awq=function(){return this.v0.length};hY.prototype.Wg=function(){if(this.v0.length!=0)this.v0[this.Lr].Wg()};
hY.prototype.hq=function(w,M){if(M==null)M=!0;for(var U=0;U<this.v0.length;U++)this.v0[U].o$.className="";
if(this.aF)this.x4.removeChild(this.aF);this.aF=null;this.Lr=w;if(w==-1)return;var O=this.v0[this.Lr];
this.aF=O.R2;this.x4.appendChild(O.R2);O.o$.className="active";if(!this.Sx){this.l(new aX("showFloat"));
this.v0[w].As.L5()}if(M)this.l(new aX(A.E.r,!1));O.Pu();var b=this.y_.m;if(b.parentNode)this._0.removeChild(b);
if(O.Pi())this._0.appendChild(b);var D=new aX(A.E.Z,!0);D.data={d:A.t.Jh};this.l(D)};hY.prototype.alC=function(w){if(this.XP&&!this.XP.avv())return;
var U=this.v0.indexOf(w.currentTarget);this.hq(U)};hY.prototype.aoT=function(w){if(this.XP&&!this.XP.avv())return;
var U=this.v0.indexOf(w.currentTarget);this.bu(U)};hY.prototype.a4f=function(w){var M=this.v0.indexOf(w.currentTarget.parent);
if(this.v0[M].As.qm())this.l(new aX("hideFloat"));else this.hq(M)};hY.prototype.abW=function(w){this.l(w)};
function j5(w){hY.call(this,w);this.jy=0;this.e3=0;R.UB(this._0,this.acS.bind(this));this.rS=0;this.arp=this.aqW.bind(this);
this.Ej(this.x4);this.vc=["default;"];this.mS=new R.qI(this.x4);this.gi=new gU(!0);this.gi.parent=this;
this.VZ=this.gi.m;gU.br(this.gi)}j5.prototype=new hY;j5.prototype.acS=function(w){if(w.target!=this._0)return;
var M=this.rS;this.rS=Date.now();if(Date.now()-M>300)return;var O=new aX(A.E.Z,!0);O.data={d:A.t.JE,IP:"newproject"};
this.l(O)};j5.prototype.up=function(w,M){if(M)this.vc.push(w);else{var O=this.vc.length-1;if(this.vc[O]==w)return;
this.vc[O]=w}this.UK()};j5.prototype.a5Y=function(){this.vc.pop();this.UK()};j5.prototype.UK=function(){var w=this.vc[this.vc.length-1];
this.mS.ZM(w,this.Fw)};j5.prototype.o9=function(w,M){hY.prototype.o9.call(this,w,M);this.gi.o9(w,M);
if(!w.H7){}};j5.prototype.f=function(){hY.prototype.f.call(this);this.gi.f()};j5.prototype.ZM=function(w,M){for(var U=0;
U<M.length;U++){var O=M[U];this.v0[U].qX(O.name+(O.Zh()?" *":""))}hY.prototype.ZM.call(this,w,M)};j5.prototype.lY=function(){return this.VZ};
j5.prototype.nQ=function(w,M){if(this.v0.length==0)M+=hY.p5-1;this.jy=w;this.e3=M;M=hY.prototype.nQ.call(this,w,M);
this.Fw="height:"+M+"px; width:"+w+"px; overflow:hidden; position:relative;";this.UK();this.gi.nQ(w,M)};
j5.prototype.tQ=function(w){hY.prototype.tQ.call(this,w);w.o$.addEventListener("click",this.arp,!1)};
j5.prototype.bu=function(U){var w=this.v0[U];R.oX(w.o$,this.arp);hY.prototype.bu.call(this,U)};j5.prototype.aqW=function(w){var M=this.rS;
this.rS=Date.now();if(Date.now()-M>300)return;var O=this.afx(w.currentTarget),b=this.v0[O]._t.name,D=new aX(A.E.Z,!0),o={_:A.E.s,k:y.YH,W:{d:Q.t$}};
D.data={d:A.t.JE,IP:"namewindow",hR:b.slice(0,b.length-4),TA:o};this.l(D)};function jC(w){eE.call(this);
if(w)return;ig.aaJ(1);this.m=R.S("div","flexrow app");this.LN=R.S("div");this.m.appendChild(this.LN);
setTimeout(function(){var O=window.hideCap;if(O)O()},25e3);this.cC=new i_;window.addEventListener("blur",function(O){this.cC.reset()}.bind(this),!1);
window.addEventListener("resize",this.nF.bind(this),!1);var M=this.LN;this.UC=new hS;this.UC.parent=this;
M.appendChild(this.UC.m);this.pz=new ad;this.pz.parent=this;M.appendChild(this.pz.m);this.ii=new iy(!0);
this.ii.parent=this;M.appendChild(this.ii.m);this.h(A.E.Z,this.LB,this);this.kd=this.rw.bind(this);window.requestAnimationFrame(this.kd)}jC.prototype=new eE;
jC.prototype.rw=function(w){this.QP();window.requestAnimationFrame(this.kd)};jC.prototype.f=function(){};
jC.prototype.nF=function(w){var M=window.innerWidth,O=window.innerHeight;this.nQ(M,O)};jC.prototype.nQ=function(w,M){this.pz.nQ(w,M);
this.UC.nQ(w,M)};jC.prototype.LB=function(w){var M=w.data.d;if(M==A.t.U6)this.pz.alL(w.data);if(M==A.t.QM)this.pz.a3g(w.data);
if(M==A.t.sN)this.pz.aiq(w.data.bs);if(M==A.t.zk)this.pz.akU(w.data.bs);if(M==A.t.qx)this.pz.Br()};function fN(){jC.call(this);
this.Qe={x:0,y:0,Rw:!1};this.L4=!1;this.Gk=!1;this.fM=null;this.at3=0;this.abu=!1;this.kx=0;window.onmessage=function(L){if(Storage.an5(L.source))return;
if(L.data instanceof ArrayBuffer){var e=ce.S5(L.data),H=ce.ti(e);kl.uA({url:"file"},L.data,this);if(H==null)this.V5()}else if(L.data instanceof Object||L.data.startsWith("{")||L.data.startsWith("amp-")||L.data.startsWith("0=goog")||L.data.startsWith("3PCoo")){}else if(L.data.startsWith("--ot ")){this.UC.R9().close();
this.c0.tj(L.data.split(" ").pop(),!0)}else if(L.data.startsWith("--et ")){}else{var j=new aX(A.E.Z,!0);
j.data={d:A.t.wz,oQ:L.data};this.l(j);this.V5()}}.bind(this);window.onbeforeunload=function(L){for(var U=0;
U<this.Zs.length;U++)if(this.Zs[U].Zh())return this.Zs[U].name}.bind(this);window.setInterval(function(){var L=this.Ww();
if(L==null)return;var e=(Date.now()-L.FW)/6e4;if(this.RS.IN==1&&L.gX!=L.ef&&e>60){var H="You haven't saved your work ("+L.name+") for "+Math.round(e)+" minutes. Would you like to save it now? "+"You can disable this message in Edit > Preferences.",j=new aX(A.E.Z);
j.data={d:A.t.JE,IP:"confirm"};j.data.G=H;j.data.Wz=function(){var j=new aX(A.E.Z);j.data={d:A.t.Lq};
this.l(j)}.bind(this);this.l(j)}}.bind(this),30*60*1e3);var w=this,$="",k="";if(window.indexedDB&&(!eX.Cj()||document.hasStorageAccess==null)){var M={VN:window.indexedDB.open("pp",1)};
M.VN.onupgradeneeded=function(L){var e=L.target.result,H=e.createObjectStore("rsrc",{keyPath:"k"})};
M.VN.onsuccess=function(L){var e=w.RS.rH.nI=L.target.result,H=e.transaction(["rsrc"],"readwrite").objectStore("rsrc"),j=H.get("fs0");
j.onsuccess=function(L){if(L.target.result){var g=w.RS.rH.PN=L.target.result.fset;for(var K in g){if(!K.endsWith(".jsx"))kl.uA({url:K,ad4:!0},g[K],w)}}}}}var O=["rwx~#.-(;.]6EF","rx'|#1,6><@87f?NO"],b=R.k2[dA.FZ][dA.W4];
for(var U=0;U<O.length;U++){var D=R.vO(O[U]);if(b.indexOf(D)!=-1){var o=R.k2[dA.FZ][dA.x4],Z=R.vO("M|H:15=3/iQ6EEKQ{\\PTbV/Y[`kjxx\"}vOz( %0b1=?HcMFZH zy#Wby9Sti'~uu3{}&428H-Cm7Ji{X[^w=Xbjhldc3kz{MC K[");
R.Mh(o);o[dA.ajn]=Z;return}}this.c={awo:[{k:y.s_,qE:!1,rx:[i_.asf,i_.NT]},{k:y.ct,qE:!1,rx:[i_.NT]},{k:y.In,qE:!0,rx:[i_.v9],NK:[y.bP]},{k:y.bP,qE:!0,rx:[i_.v9],NK:[y.In]},{k:y.bX,qE:!0,rx:[i_.v9],NK:[y.uM,y.Uh,y.Cz]},{k:y.uM,qE:!0,rx:[i_.v9],NK:[y.bX,y.S7,y.LC,y.hu,y.pM,y.D6]},{k:y.R6,qE:!0,rx:[i_.v9]}],fo:[[{k:new y.t7,KL:b3},{k:new y.x6,KL:aG}],[{k:new y.Jn,KL:fs},{k:new y.GI,KL:eV}],[{k:new y.Qq,KL:co},{k:new y.fe,KL:kj},{k:new y.qG,KL:bT}],[{k:new y.Li,KL:fJ},{k:new y.a3,KL:dF},{k:new y.TF,KL:iq}],[{k:new y.ag1,KL:d1},{k:new y.aa_,KL:jI},{k:new y.uW,KL:ju},{k:new y.zC,KL:fa}],[{k:new y.X0,KL:ka},{k:new y.Vn,KL:aW}],[{k:new y.ud,KL:fq},{k:new y.bb,KL:jV},{k:new y.oU,KL:ik},{k:new y.apS,KL:jD},{k:new y.LK,KL:gB}],[{k:new y.FC,KL:ar},{k:new y.kG,KL:gz},{k:new y.bY,KL:ba}],[{k:new y.fb,KL:bc}],[{k:new y.Rz,KL:dk},{k:new y.K1,KL:bf}],[{k:new y.Cw,KL:dn},{k:new y.jN,KL:dv}],[{k:new y.cr,KL:gk},{k:new y.a_,KL:gr},{k:new y.jU,KL:gK}],[{k:new y.DW,KL:ey},{k:new y.NM,KL:iM},{k:new y.lH,KL:ga}],[{k:new y.YM,KL:eD},{k:new y.abB,KL:eD}],[{k:new y.J$(0),KL:h2},{k:new y.Jy,KL:aE},{k:new y.J$(1),KL:h2}],[{k:new y.Fl,KL:c4},{k:new y.UZ,KL:c_}],[{k:new y.Rect,KL:iC},{k:new y.A1,KL:iY},{k:new y.nY,KL:cN},{k:new y.eZ,KL:dT},{k:new y.R5,KL:js}],[{k:new y.qV,KL:es},{k:new y.Y8,KL:bH}],[{k:new y.T5,KL:hq}]],N$:[],keys:[i_.d9,i_.FU,i_.XZ,i_.jr,i_.u8,i_.tq,i_.bQ,i_.yl,i_.mP,i_.E,i_.OC,null,i_.nk,i_.Kn,i_.lu,i_.t,i_.CO,i_.Au,i_.sy],Ka:[{k:new y.af4,KL:dU},{k:new y.akC,KL:ez},{k:new y.acj,KL:fG},{k:new y.X0(!0),KL:ka},{k:new y.II,KL:f5}],Ds:[{k:new y.yI},{k:new y.History},{k:new y.E8},{k:new y.rn},{k:new y.xW},{k:new y.U0}],map:{},ac:null,La:null,Z9:null};
for(var U=0;U<this.c.fo.length;U++){var E=this.c.fo[U];if(E=="---")continue;var t=this.c.keys[U];for(var c=0;
c<E.length;c++){this.c.map[E[c].k.id]=E[c];E[c].e0=U;E[c].akt=c;var l=fr.get(E[c].k.name);k+="<li>"+E[c].k.id+": "+l+"</li>";
$+="\t"+JSON.stringify(E[c].k.name)+", "+(t?"\""+t.FE+"\"":"null")+", "+E[c].k.id+", // "+l+"\n"}this.c.N$[U]=0}for(var U=0;
U<this.c.Ka.length;U++)this.c.map[this.c.Ka[U].k.id]=this.c.Ka[U];for(var U=0;U<this.c.Ds.length;U++)this.c.map[this.c.Ds[U].k.id]=this.c.Ds[U];
this.RS={apb:!1,yK:null,Zn:0,BV:{ow:[],eg:[],list:[],VG:null},h$:[],a29:[],t0:[],QK:[],LZ:[],SQ:[],asj:[],ab$:[],LZ:[],E9:[dL.pp()],CB:[],Po:[],dL:null,A4:0,$p:{Gw:1,MJ:JSON.parse(JSON.stringify(aN.bK[0]))},w0:JSON.parse(JSON.stringify(aN.d_.default)),ax9:[null].concat(aN.bK),a7T:[null].concat(aN.bK),Yv:new iR(function(L){var e=new aX(A.E.Z,!0);
e.data={d:A.t.xS,I8:{url:"rsrc/fonts/"+L}};this.l(e)}.bind(this)),ib:{ju:[],Qc:null,xy:null},font:null,bA:[],Sw:16711680,fj:0,cX:!1,fk:!0,sw:{lX:!0,LL:!1,sJ:!0,IB:!0,AM:!0,iW:!0,K2:20,$H:0,Uo:0,OF:0},$a:!0,a7:[!0,!0,!1,!0,!0],WK:[0,1,2,3,5,6,7,9,10,16,17,100],Dy:1,aN:!0,pg:{},H7:!0,al4:!1,compact:!1,IN:1,VZ:!0,Z_:null,rH:{arR:!1,a5b:!1,PN:{},nI:null},ark:0,a8U:null,Ge:null,a1y:null,jE:null};
this.a4M={xr:new cn,hL:new at};this.RS.ib=ah.a6A();this.$z=new hd;this.HN=new e0;this.Lo=new ha(this.c,!0);
this.NB=new cy;this.Bi=new j5(this);this.wx=R.S("div");this.Ex=!1;this.WT=this.afe.bind(this);R.rV(this.Bi.m,"mainblock");
this.ii.parent=this.$z.parent=this.HN.parent=this.Lo.parent=this.NB.parent=this.Bi.parent=this;this.Bi.h(A.E.r,this.D$,this);
this.Bi.h(A.E._r,this.av4,this);this.Bi.h("shuffleItems",this.acc,this);this.Bi.h(A.E.ast,this.ab8,this);
this.h("mouse",this.a7H,this);this.h(A.E.s,this.s0,this);this.h(A.E.Lm,this.aqq,this);document.body.addEventListener("keydown",this.Ol.bind(this),!1);
window.addEventListener("keyup",this.D3.bind(this),!1);window.addEventListener("paste",this.ahu.bind(this),!1);
window.addEventListener("copy",this.axA.bind(this),!1);window.addEventListener("wheel",function(L){if(L.ctrlKey)L.preventDefault()},{passive:!1});
window.addEventListener("beforeinstallprompt",function(L){if(window.innerWidth>400)L.preventDefault();
this.RS.Z_=L}.bind(this));if(window.location.href.indexOf("photopea.com")!=-1&&"serviceWorker"in navigator){navigator.serviceWorker.register("sw.js",{scope:"./"}).then(function(L){if(L.a36){console.log("Service worker installing")}else if(L.axq){console.log("Service worker installed")}else if(L.active){console.log("Service worker active")}}).catch(function(L){console.log("Registration failed with "+L)})}this.QU=0;
this.Zs=[];this.c0=new kl(aY.uA);this.c0.parent=this;var q=this.LN,d=this.Qx=R.S("div");d.appendChild(this.$z.m);
d.appendChild(this.HN.m);this.ii.aiO(d);var V=this.adh=R.S("div","flexrow");q.appendChild(V);V.appendChild(this.Lo.m);
V.appendChild(this.Bi.m);V.appendChild(this.NB.m);this.c0.Ym({url:"rsrc/basic/basic.zip"});this.$o(y.R6);
fl.X2(this.ain.bind(this))}fN.prototype=new jC(!0);fN.prototype.V5=function(w){var M=new aX(A.E.Z);M.data={d:A.t.PF,I8:w?w:"done"};
this.l(M)};fN.prototype.ain=function(){R.k2[dA.TU](this.a5o.bind(this),Math.pow(Math.PI,8)+R.k2[dA.awX][dA.an9]()*1e4);
var w=fl.lW();if(w!=null&&w.globals!=null)this.mz(w.globals);else{this.abu=!0;var M=navigator.languages;
if(M&&M.length!=0){var O=M[0];fr.ms(O,this.WT)}}if(!this.eR()){var b=R.amu();if(b==0)this.al4=!0;if(b==2)this.RS.H7=!1;
if(b!=1&&Math.random()<.002)R.a31()}if(!eX.Cj()||!this.RS.H7){this.afL();this.RN()}else{var D=R.aJ(R.k2[dA.Wr]);
D[dA.xX](dA.CP,this.ac6.bind(this));D[dA.zt](R.au("61="),R.au("_MYOqDLGJa;A:6"));D[dA.SP]()}this.L4=!0;
this.V5()};fN.prototype.ac6=function(w){var M=JSON.parse(w.target[dA.uE]),O=R.k2[dA.hr][dA.akh]()/1e3,b=R.k2[dA.FZ][dA.W4],D=!1;
for(var o in M)if(o.indexOf(".")!=-1&&b.indexOf(o)!=-1&&parseInt(M[o])>O)D=!0;if(D)this.RS.H7=!1;this.afL();
this.RN()};fN.prototype.RN=function(w){this.Gk=!0;if(!this.RS.VZ)this.Bi.VZ=null;else if(this.Zs.length==0)this.Bi.a1v();
this.NS(eM.vI);this.f();this.nF();this.NB.ZM(this.Ww(),this.Zs,this.RS)};fN.prototype.mz=function(w){var M=this.RS;
if(w.fcolor!=null)M.Sw=w.fcolor;if(w.bcolor!=null)M.fj=w.bcolor;if(w.rulers!=null)M.cX=w.rulers;if(w.extras!=null)M.fk=w.extras;
if(w.favFam!=null)M.bA=w.favFam;if(w.font!=null)M.ib.ju[0].Name=w.font;if(w.panels!=null)M.WK=w.panels;
if(w.as!=null)M.IN=w.as;if(w.eparams){var O=w.eparams,b=M.sw;if(O.guides!=null)b.lX=O.guides;if(O.grid!=null)b.LL=O.grid;
if(O.gsize!=null)b.K2=O.gsize;if(O.gunits!=null)b.$H=O.gunits;if(O.gtype!=null)b.Uo=O.gtype;if(O.runits!=null)b.OF=O.runits;
if(O.sels!=null)b.sJ=O.sels;if(O.paths!=null)b.IB=O.paths;if(O.pgrid!=null)b.AM=O.pgrid;if(O.slices!=null)b.iW=O.slices}if(w.lang!=null)fr.ms(w.lang,this.WT);
if(w.theme!=null)M.Dy=w.theme;if(w.topt||M.l5){var D=w.topt?w.topt:{},o=M.l5?M.l5:{};for(var Z in this.c.map){if(Z>=100)continue;
var $="t"+Z;if(D[$]||o[$])this.c.map[Z].k.Jl(D[$],o[$],this)}}};fN.prototype.afL=function(){if(this.RS.apb)return;
this.RS.apb=!0;var w=null,M=window.location.href,O=M.indexOf("="),b=M.indexOf("#");if(O!=-1)w=M.substring(M.indexOf("?")+1,O);
if(b!=-1&&b!=M.length-1){w="p";O=b}if(b!=-1&&M[b+1]=="i"){this.c0.tj(M.slice(b+2))}else if(b!=-1&&M[b+1]=="t"){this.c0.tj(M.slice(b+2).split("").reverse().join(""),!0)}else if(w=="p"||w=="state"){var D=M.substring(O+1,M.length);
D=JSON.parse(decodeURI(D));if(w=="p"){if(D.script=="alert(73)")this.RS.H7=!1;if(D.script)bs.a5j(this);
if(D.server)this.fM=D.server;if(D.resources)for(var U=0;U<D.resources.length;U++)this.c0.Ym({url:D.resources[U]});
if(D.files)for(var U=0;U<D.files.length;U++)this.c0.Ym({url:D.files[U],jS:{CI:D.server,atk:D.script}});
var o=D.environment;if(o==null)o={};if(o.plugins!=null)this.NB.ahl(o.plugins);if(o.localsave!=null)this.RS.aN=o.localsave;
if(o.customIO!=null)this.RS.pg=o.customIO;if(o.vmode!=null){var Z=o.vmode;if(Z==1)this.RS.compact=!0;
if(Z==2)this.Gp(1)}if(o.intro!=null)this.RS.VZ=o.intro;if(o.menus!=null)this.RS.a9G=o.menus;if(o.tmnu!=null)this.RS.l5=o.tmnu;
if(o.panels!=null)this.RS.WK=o.panels;if(o.showtools!=null){var $=o.showtools,k=$.indexOf(this.RS.yK);
this.RS.m6=$;if(k==-1)this.$o($[0])}if(o.phrases!=null)fr.amy(o.phrases);if(o.autosave!=null){this.RS.IN=0;
window.setInterval(function(){var c=new aX(A.E.Z);c.data={d:A.t.Lq};this.l(c)}.bind(this),o.autosave*1e3)}if(o.icons!=null){for(var E in o.icons)if(o.icons[E].indexOf("\"")==-1){if((E==dA.ap7||E==dA.atj)&&this.RS.H7)continue;
PIMG[E]=o.icons[E];PIMG["__"+E]=!0}}this.mz(o);if(D.files==null&&D.script){fM.YS(D.script,this);this.V5()}}else if(w=="state"){var t=this.c0;
if(D.action=="create"){var c=new aX(A.E.Z);c.data={d:A.t.JE,IP:"newproject",a23:D.folderId};this.l(c)}if(D.action=="open"){for(var U=0;
U<D.ids.length;U++)ab.Uv(function(){var q="https://www.googleapis.com/drive/v3/files/"+this.akw,d=new XMLHttpRequest;
d.open("GET",q);d.setRequestHeader("Authorization",ab.xA());d.send();d.onload=function(V){var L=JSON.parse(V.target.response);
t.Ym({url:q+"?alt=media",name:L.name,ME:{file:L,_R:""},Mk:{Authorization:ab.xA()}})}}.bind({akw:D.ids[U]}));
alert("Loading files from Google Drive ...")}}}else{var l=window.launchQueue;if(l){var t=this.c0;l.setConsumer(function(q){var d=q.files;
console.log(d);for(var U=0;U<d.length;U++){var V=d[U];V.getFile().then(function(L){t.NW([L],null,null,null,[V])})}})}}};
fN.prototype.f=function(){var w=document.getElementById("cap");if(w){var M=!1,O=w.getElementsByTagName("h1")[0],o=0,$=0,k=0;
O.textContent=M?"Photopea":fr.get([0,17,0]);var b=w.getElementsByTagName("p"),D=R.bV(fr.get([0,17,1])),Z=["PSD","XCF","Sketch","XD","CDR"];
for(var U=0;U<Z.length;U++)D=D.replace(Z[U],"<b>"+Z[U]+"</b>");if(!M)D+=" (<b>Adobe Photoshop</b>, <b>GIMP</b>, <b>Sketch App</b>,  <b>Adobe XD</b>, <b>CorelDRAW</b>).";
b[0].innerHTML=D;D=fr.get([0,17,2])+" "+fr.get([0,17,3]);for(var U=0;U<D.length;U++){var E=D[U];if(E=="<")$++;
if(E==">")k++}if(!M&&$*k==9){var t=["//github.com/photopea/photopea/issues","//www.facebook.com/photopea/","//blog.photopea.com/introduction.html"];
for(var U=0;U<3;U++){var c=D.indexOf("<",o),l=D.indexOf(">",o),q=D.slice(0,c)+"<a href=\""+t[U]+"\" target=\"_blank\">"+D.slice(c+1,l)+"</a>";
o=q.length;D=q+D.slice(l+1)}b[1].innerHTML=D}else b[1].innerHTML=fr.get([0,17,2])}var d=document.getElementById("sponsors");
if(d)d.textContent=fr.get([0,17,4]);this.ii.f();this.$z.f();this.NB.f();this.Lo.f();this.UC.f();this.Bi.f();
for(var V in this.c.map)if(this.c.map[V].DR)this.c.map[V].DR.f()};fN.prototype.eR=function(){return 4<R.k2[dA.lr][dA.QH][dA.a4K](dA.au("'$!|"))};
fN.prototype.nQ=function(w,M){w=Math.floor(w);M=Math.floor(M);var O=R.au("WUMK&AM"),b=dA.vs,D=R.k2[dA.FZ],o=Math.max(w,window.screen.width),Z=Math.max(M,window.screen.height),c=0;
if(this.M3==null)this.M3=Math.min(o,Z)<500||o<750?0:o<1600?1:2;var $=this.M3,k=!this.Gk||this.eR()||!this.RS.H7||fl.yR()||$==0;
if(!k&&eX.Cj()){if(this.ag$==null)this.ag$=Math.random()<.5;k=this.ag$}if(k){if($!=0&&R.k2[O]&&this.Gk)R.k2[O]()}else{if($==0)M-=60;
else w-=$==1?180:320}jC.prototype.nQ.call(this,w,M);if(k&&this.Ex){this.m[dA.NV](this.wx);R.Mh(this.wx);
this.Ex=!1}if(!k&&!this.Ex){var E=function(d){if(Math.random()<.002){fl.event(eX._w()?"gota_0":"gota_1")}this.ass(w,M);
var V=$==0?D[dA.x4]:this.m;V.appendChild(this.wx);this.wx[dA.oJ](b,R.au("_MMJLNDfKCAg")+($==0?10:10)+R.au("_d$ebOS?I:==Ba-+# }$M"));
this.wx[b][R.au("_MMJLND&<:E")]=($==0?0:19)+R.au("_d");this.wx[b][R.au("i5WJHX")]=$==0?0:1}.bind(this);
function t(){eX.a1R(E)}setTimeout(t,2300);this.Ex=!0}if(R.FP(this.$z.m))c+=31;if(R.FP(this.HN.m))c+=32;
this.ii.acB=this.RS.H7&&this.Gk;this.ii.nQ(w,c);var l=M-c,q=R.au("_d");this.wx[b][dA.a8Z]=($==0?100>>>1:M-11)+q;
this.wx[b][dA.Qu]=($==0?w:6*Math.pow(10,2))+q;if(R.FP(this.Lo.m))this.Lo.nQ(w,l);this.NB.nQ(w,l);this.Bi.nQ(w-this.Lo.VT()-this.NB.VT(),l)};
fN.prototype.ass=function(w,M){var O=function(){var b=new aX(A.E.Z);b.data={d:A.t.JE,IP:"account"};this.l(b)}.bind(this);
eX.ap2(w,M,this.wx,O,this.M3)};fN.prototype.axA=function(w){console.log("systemCopy")};fN.prototype.ahu=function(w){if(R.BL())return;
console.log("systemPaste");if(!w.clipboardData)return;var M=w.target.tagName.toLowerCase(),O=w.clipboardData.items;
if(O==null)return;var b=this.adE.bind(this);for(var U=0;U<O.length;U++){var D=O[U],o=D.getAsFile();if(D.type.indexOf("text")!=-1){D.getAsString(this.a9P.bind(this))}if(D.type.indexOf("image")!=-1){if(o.size==this.RS.ark)return;
this.RS.ark=o.size;if(o){o.name="image.png";this.c0.NW([o],b)}}}};fN.prototype.a9P=function(w){if(w.startsWith("http")){if(w==this.RS.alf)return;
this.RS.alf=w;var M=new aX(A.E.Z,!0);M.data={d:A.t.xS,I8:{url:w,Xr:!0}};this.l(M)}};fN.prototype.adE=function(w,M){var O={buffer:w,rect:M},b=this.RS;
if(R.BL()){var D=this.a4M,o=D.xr;if(o.e==M.e&&o.n==M.n){O.rect=o;O.hL=D.hL}}else{if(b.Ge){var Z=new aX(A.E.s,!0);
Z.k=y.eU;Z.data={d:"h_stepbck"};this.l(Z)}}b.Ge=O;var Z=new aX(A.E.Z,!0);Z.data={d:A.t._f,arN:!0};this.l(Z)};
fN.prototype.ag5=function(){if(this.UC.R9()!=null)alert(fr.get([15,7,8]));else alert("Escape or Confirm the current action (in the top menu).")};
fN.prototype.s0=function(w){var M=this.Ww();if(M==null){alert(fr.get([15,7,7]));return}var O=w.k==y.ct||w.k==y.s_;
if(this.UC.Xc()&&w.Hb!=!0&&!O){this.ag5();return}var b=this.c,D=this.RS.yK,o=w.k;if(o==y.hY&&D==y.Qn)o=y.Qn;
if(D!=o&&b.map[D].k.Xc()&&!O&&!(D==y.bW&&o==y.kL)){console.log("disabling",D);b.map[D].k.disable(M,this,this.RS,this.cC)}var Z=this.c.map[o].k;
Z.s0(w.data,this,M,this.cC,this.RS)};fN.prototype.aqq=function(w){var M=this.RS;if(w.data.e2!=!0)fE.a2r({wV:w.data.wV,g0:w.data.g0},this,M,this.Ww());
var O=M.dL,b=M.Po;if(O==null)return;var D={a7X:!1,mN:"Step",aqS:0,R:!0,exp:!1,wV:w.data.wV};if(O[2]==null)O[2]=b[O[0]].iu[O[1]].iu.length-1;
if(w.data.g0)D.g0=w.data.g0;b[O[0]].iu[O[1]].iu.splice(O[2]+1,0,D);O[2]++;this.NS(eM.s)};fN.prototype.LB=function(w){if(this.al4){w.data=0;
return w.type}jC.prototype.LB.call(this,w);var M=w.data.d;if(M==A.t.Y6)fE.asW(this.Ww(),this.RS.Po,w.data.vt[0],w.data.vt[1],this);
if(M==A.t.av6){this.anx(w.data.adG)}if(M==A.t.a48){this.f();this.nF()}if(M==A.t.Jh)this.nF();if(M==A.t.a2s)if(this.RS.Z_){this.RS.Z_.prompt();
this.RS.Z_=null}if(M==A.t.s5)this.Bi.up(w.data.ue,w.data.push);if(M==A.t.abw)this.Bi.a5Y();if(M==A.t.a5k)this.D$(null,w.data.dir);
if(M==A.t.v5)this.Bi.bu(this.Zs.indexOf(w.data.OH));if(M==A.t.I$){if(w.data.X1&&document.fullscreenEnabled){if(document.fullscreenElement)document.exitFullscreen();
else document.body.requestFullscreen()}if(w.data.G!=null)this.Gp(w.data.G)}if(M==A.t.a0A){if(w.data.Rw)this.cC.NZ(w.data.aiX);
else this.cC.bo(w.data.aiX);this.$m(w.data.Rw?"down":"up")}if(M==A.t.EW){var O=this.Ww(),b=O.Hp().slice(0),D=O.B[O.g[0]],o=new cn(0,0,O.e,O.n),Z=fO.ZU()+"-d71c-11e5-b1ae-a548a96e5f9f",$=new aX(A.E.Z,!0);
if(w.data.I8==0){var k={name:O.name.split(".")[0],id:Z,f4:[b,o]};$.data={d:A.t.pF,jS:"add",I8:eM.ab,zm:[k]};
this.l($)}if(w.data.I8==1){var E=x.$(o.v()*4);x.TZ(E,4294967295);x.a.DP("norm",b,o,E,o,o,1);var t=x.$(o.v());
x.C3(E,t);x.ZW(t);var c=x.Kx(t,o);if(c.S9())c=o;var l=x.$(c.v());x.CV(t,o,l,c);var q=x.$(c.v()*4);x.Jm(l,q,3);
var d={xr:c,id:Z,f4:[q,c]},V=b6.dd(Z),L=V.Brsh.v;L.Dmtr.v.val=c.e;L.Spcn.v.val=10;$.data={d:A.t.pF,jS:"add",I8:eM.rq,zm:{list:[{t:"Objc",v:V}],eg:[d],ow:[]}};
this.l($);$.data={d:A.t.pF,I8:eM.Vh,Vj:V};this.l($)}if(w.data.I8==2){var e=O.ff(),H=e[0][e[1][0]],j={Xp:D.getName(),hl:Z,j:H.add.vmsk.clone().j},K=x.O.rt(j.j),a=new f$(K.e,0,0,K.n,K.x,K.y);
a.ZW();x.O.I0(j.j,a);K.x=K.y=0;j.Gh=K.clone();$.data={d:A.t.pF,jS:"add",I8:eM.AX,zm:[j]};this.l($)}}if(M==A.t.xS)this.c0.Ym(w.data.I8);
if(M==A.t.wP){var T=w.data.amB;if(T!=!0&&this.pY("open"))return;this.c0.ajk(T?this.Bi.iR():null,w.data.akB)}if(M==A.t.TE){var C=w.data.a1X,F=w.data.vC,m=this.KQ(C);
if(F){var N=C==eM.rq,v=[];for(var U=0;U<F.length;U++)v.push((N?m.list:m)[F[U]]);m=N?{ow:m.ow,eg:m.eg,list:v}:v}if(C==eM.$i){var o=new fO;
for(var U=0;U<m.length;U++){var h=m[U].Pg.Lefx;if(h)eR.a6n(h,o,this.RS.SQ)}m={Kw:o.add.Patt?o.add.Patt:[],d5:m}}if(C==eM.gZ){var P=this.RS.BV;
m={eg:[],ow:[],list:m};console.log(m)}if(C==eM.s)m=m[w.data.QT];var J=eM.Ru[C],b=J[2].qf(m);kl.save(b,J[1]+"."+J[0])}if(M==A.t.I7){var Y=this.RS.rH,B=w.data.a1Z;
if(Y.nI&&!Y.arR&&!B){Y.a5b=window.confirm("Load \""+w.data.b1+"\" also next time you use the editor?\nManage it in Edit - Local Storage.");
Y.arR=!0}if((Y.a5b||B)&&Y.nI){Y.PN[w.data.b1]=w.data.JX;var $=new aX(A.E.Z);$.data={d:A.t.pF,I8:eM.tn};
this.l($)}}if(M==A.t.aq8){var O=this.Ww(),I="<!DOCTYPE HTML>";if(O==null)return;var S=ce.Xb(O.Hp().buffer,O.e,O.n),r=window.open();
I+="<head><script>setTimeout(function() {window.print();}, 10);</script></head>";I+="<body><img src=\""+S+"\" /></body>";
I+="</html>";r.document.write(I)}if(M==A.t.Wu){if(this.pY("publishOnline"))return;var f=w.data.cq!="psd",O=this.Ww();
if(O==null)return;if(!f&&O.QD)return;var s="Your picture will be published at "+(f?"Imgur":"Photopea")+".com under a public URL (known only to you). Proceed?";
if(!f)s+=" We guarantee 6 months of storage (or more, if your file is opened often).";var W=w.data.yV?!0:confirm(s);
if(W){if(!f){var $=new aX(A.E.s,!0);$.k=y.YH;$.data={d:Q.Gu};this.l($);var i=new cn(0,0,O.e,O.n);for(var U=0;
U<O.B.length;U++){var D=O.B[U];if(D.rect.S9()||D._N()||D.yo()||D.Q9()||D.XS()||D.add.TySh||D.add.vmsk||D.add.SoLd)continue;
var u=i.mX(D.rect);if(!u.M5(D.rect)&&!u.S9()){var z=x.$(u.v()*4);x.xu(D.buffer,D.rect,z,u);D.buffer=z;
D.rect=u}if(!x.$Z(D.buffer,D.rect.e,D.rect.n))continue;var G=D.Vd(),g_=D.opacity,cl=D.eI,p=D.fG;D.ah(!0);
D.opacity=255;D.eI="norm";O.g=[U];$.data={d:Q.u2,cq:"jpg"};this.l($);var b2=O.B[U];D.ah(G);b2.ah(G);
D.opacity=b2.opacity=g_;D.eI=b2.eI=cl,D.fG=b2.fG=p}}if(O.B7){O.Uc()}var jz=O.e,aT=O.n,fZ=w.data.a7K,ft;
if(fZ)while(Math.max(jz,aT)>fZ){jz=jz>>>1;aT=aT>>>1}console.log(jz,aT);if(w.data.cq=="psd")ft=ce.jV(O,"psd",0,0,[!0,!0,!0]);
else if(w.data.cq=="png")ft=ce.jV(O,"png",jz,aT);else{var cc=ce.jV(O,"png",jz,aT),kr=ce.jV(O,"jpg",jz,aT);
ft=cc.byteLength<kr.byteLength?cc:kr}if(f)kl.atv(ft,w.data.yV);else this.c0.atT(ft,O.name,w.data.yV)}}if(M==A.t.Lq){var O=this.Ww(),hG=!1;
if(O==null)return;if(O.B7){O.Uc()}if(w.data.Wc){if(!this.Z8(O,w.data.Wc))return;var b=aY.ao1(O,w.data.Wc,this.RS);
this.V5(b);hG=!0}else if(O.VP){if(this.Zs.indexOf(O.VP.MH)!=-1){var b=new Uint8Array(ce.ti("PSD").WV(O,null,null,[!0,!1])),$=new aX(A.E.s,!0);
$.data={d:Q.Dq,_t:O.VP.MH,data:b,id:O.VP.atA,P_:O.name};$.k=y.YH;this.l($);alert("Smart Object updated")}hG=!0}else if(this.pY("save")){hG=!0}else if(O.ME){aY.ati(O);
hG=!0}else if(O.eh){aY.aw2(O);hG=!0}else if(O.jS&&O.jS.CI){if(!this.Z8(O,O.jS.CI.formats))return;this.c0.a9s(O,this.RS,aY.a5C);
hG=!0}else if(O.N0&&"psd jpg png gif webp svg bmp".split(" ").indexOf(O.Iu)!=-1){this.arM();return}if(hG){O.ef=O.gX;
O.FW=Date.now();O.uP=!0}else{var $=new aX(A.E.Z,!0);$.data={d:A.t.hB};this.l($)}}if(M==A.t.hB){if(!this.RS.aN){alert("function is disabled");
return}if(this.pY("saveAsPSD"))return;var O=this.Ww();if(O==null||O.QD)return;if(!this.Z8(O))return;
var $=new aX(A.E.s,!0);$.data={d:Q.Gu};$.k=y.YH;this.l($);if(O.B.length>8e3&&!confirm("Your document has "+O.B.length+" layers."+" Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;
var hi={X$:[]};O.root.arh([],hi);var bU=hi.X$;if(bU.length>11&&!confirm("One layer is nested "+(bU.length-1)+" times."+" Adobe Photoshop crashes, when a layer in a PSD is nested more than 10 times. Do you want to proceed?\n\nLongest nesting: "+bU.join(" \uD83E\uDC1A ")+"."))return;
var ic=window.showSaveFilePicker;if(window.parent!=window)ic=null;if(ic&&!w.data.a2j){var iQ={suggestedName:O.name,types:[{description:"PSD Files",accept:{"image/psd":[".psd"]}}]};
ic(iQ).then(function(w){O.N0=w;O.name=w.name;O.bN=!0;O.Iu="psd";this.arM()}.bind(this));return}var bx=window.gtag;
if(O.th()&&bx)bx("event",O.Iu+":"+R.vO(fl.yR()?"\"'|('61":"w'| "),{event_category:"Formats"});if(O.B7){O.Uc()}if(w.data.a2j){var b=O.Iu=="psd"?ce.ti("PSD").WV(O):aY.L$(O,O.Iu,this.RS);
this.a1d(b,O,this)}else{var b=ce.ti("PSD").WV(O);kl.save(b,O.name);O.ef=O.gX;O.FW=Date.now();O.uP=!0}}if(M==A.t.NA)window.open(w.data.link,"_blank");
if(M==A.t.aos){if(this.UC.Xc()){this.ag5();return}var O=this.Ww(),D=O.B[O.g[0]],aR=O.Se(D.add.SoLd.Idnt.v);
for(var U=0;U<this.Zs.length;U++){var gs=this.Zs[U].VP;if(gs!=null&&gs.atA==aR.QV&&gs.MH==O){this.Bi.hq(U);
return}}kl.uA({name:aR.P_,VP:{atA:D.add.SoLd.Idnt.v,MH:O}},aR.raw.buffer,this)}if(M==A.t.aoV){console.log(w.data);
kl.uA({name:w.data.eh[1].split("/").pop(),eh:w.data.eh},w.data.bg,this)}if(M==A.t.ak0){var O=this.Ww();
O.eh=w.data.eh;O.name=O.eh[1].split("/").pop();var $=new aX(A.E.Z);$.data={d:A.t.Lq};this.l($)}if(M==A.t.bd){this.ahR()}if(M==A.t.Me){this.a9S(w.data.KM,w.data.$0,w.data.NU)}if(M==A.t._f){this.amq(w.data.arN,w.data.Qi,w.data.NU)}if(M==A.t.aqJ){var k7=w.data.G;
if(k7.startsWith("vcb;")){var fT=JSON.parse(k7.slice(4));fT[0]=dL.q9(fT[0]);var $=new aX(A.E.s,!0);$.k=y.uM;
$.data={d:"append",vZ:"Paste Paths",alB:fT};this.l($)}else if(k7.startsWith("lrs;")){var aH=k7.split(";"),e7=this.Zs[parseInt(aH[1])];
if(e7==null)return;var dB=this.Ww(),ia=e7.g;e7.g=JSON.parse(aH[2]);var d7=e7.Dl(null,e7!=dB),$=new aX(A.E.s,!0);
$.data={d:Q.DQ,B:d7,MH:e7,Ab:dB};$.k=y.YH;this.l($);e7.g=ia}else if(k7.startsWith("<!--")||k7.startsWith("<svg")){var hf=n.qs(k7),gv=ce.ti("svg"),o=new fO("image.psd");
gv.sc(hf.buffer,o);if(this.Zs.length!=0){var hN=o.B;if(hN.length==3&&hN[0].getName()=="</Layer group>"&&hN[2]._N())hN=[hN[1]];
var $=new aX(A.E.s,!0);$.k=y.YH;$.data={d:Q.DQ,B:hN,MH:o,Ab:this.Ww()};this.l($)}else this.aqo(o)}}if(M==A.t.wz){fM.YS(w.data.oQ,this)}if(M==A.t.PF){if(window.parent!=window)window.parent.postMessage(w.data.I8,"*");
this.NB.El(w.data.I8)}if(M==A.t.cf){var hP=parseFloat(w.data.IP);if(this.RS.WK.indexOf(hP)==-1){var $=new aX(A.E.Z,!0);
$.data={d:A.t.pF,I8:eM.H1,G:hP,jS:"add"};this.l($)}this.NB.aht(w.data.IP)}if(M==A.t.iw){this.pz.a2x(this.Ww(),this.RS)}if(M==A.t.JE){var gP="open_from_url openFromURL camera takePic templates showTemplates newproject new eassets exportLayers".split(" ");
for(var U=0;U<gP.length;U+=2)if(w.data.IP==gP[U]&&this.pY(gP[U+1]))return;if(!this.RS.aN&&w.data.window=="saveforweb"){alert("function is disabled");
return}this.UC.a0j(w.data.IP,this.Ww(),w.data,this.Zs,this.cC)}if(M==A.t.PD)kl.save(w.data.data,w.data.name);
if(M==A.t.$s){if(!this.UC.Xc()||w.Hb)this.aqo(w.data._t)}if(M==A.t.rh){this.Bi.hq(w.data.target);var $=new aX(A.E.s,!0);
$.data={d:Q.a8D,_t:w.data._t,Ak:w.data.Ak,dp:w.data.dp};$.k=y.YH;this.l($);this.$o(y.T0)}if(M==A.t.apJ){X.Nu=!X.Nu;
if(this.Zs.length>0)this.Ww().K()}if(M==A.t.avK){var aB=fl.lW();if(aB!=null&&aB.globals!=null)this.mz(aB.globals);
this.RN()}if(M==A.t.Cg){this.c0.NW(w.data.data,null,w.data.Qs,w.data.Cl,w.data.adc)}if(M==A.t.Mq){var i7=this.jp();
if(!this.UC.R9()!=null)this.$o(w.data.k,w.data.Mx);var dI=this.jp();if(dI!=i7&&w.data.anT)dI.kf(this.Ww(),this,this.RS,this.cC,this.Qe)}if(M==A.t.Nz){if(this.c.ac)this.$o(this.c.ac)}if(M==A.t.gJ){var gh=this.c.map[w.data.k].k,O=this.Ww();
gh.Wb(w.data,this,O,this.cC,this.RS);if(O)O.Er=!0;this.afn()}if(M==A.t.SW){var b9=this.c.map[w.data.k];
this.a0F(b9);b9.DR.ro(w.data)}if(M==A.t.pF){var O=this.Ww(),ij=w.data.I8,ax=w.data.zm,iX=this.RS;if(w.data.jS=="set"){var dI=y.a8d(ax);
if(iX.yK!=dI)this.$o(dI);this.c.map[dI].DR.a5I(ax,iX)}if(w.data.jS=="add"){var J=eM.Ru[ij];if(ij==eM.H1){iX.WK.push(w.data.G);
iX.WK.sort(function(bS,hg){return bS-hg})}else if(J==null){if(ax)iX.Yv.aym(ax,w.data.axs)}else{var am=this.KQ(ij);
if(ij==eM.rq){am.eg=am.eg.concat(ax.eg);am.ow=am.ow.concat(ax.ow);am=am.list;ax=ax.list}if(ij==eM.$i&&O){for(var U=0;
U<ax.length;U++){var h=ax[U].Pg.Lefx;if(h)eR.arj(h,O,iX.SQ)}}if(ij==eM.gZ&&ax==null){var o=this.c.map[iX.yK].DR.apc();
if(o==null)return;ax=[o]}for(var U=0;U<ax.length;U++)am.push(ax[U]);if(ij==eM.AX){var jf={};for(var U=0;
U<am.length;U++){var eJ=am[U].Xp;while(jf[eJ]!=null)eJ=am[U].Xp=eJ+"X";jf[eJ]=!0}}if(w.data.axs!=!0)if(am.length!=ax.length||ij==eM.aV||ij==eM.$i||ij==eM.c$||ij==eM.s)alert(fr.get(J[3])+" "+fr.get([23,1])+".")}}if(w.data.jS=="del"){if(ij==eM.H1){iX.WK.splice(iX.WK.indexOf(w.data.G),1)}else{var J=eM.Ru[ij],F=w.data.vC,am=this.KQ(ij);
if(ij==eM.rq)am=am.list;for(var U=0;U<F.length;U++)am[F[U]]=null;for(var U=0;U<am.length;U++)if(am[U]==null){am.splice(U,1);
U--}alert(fr.get(J[3])+" deleted.")}}if(w.data.jS=="rnm"){var J=eM.Ru[ij],am=this.KQ(ij);if(ij==eM.rq)am=am.list;
if(am[w.data.vC[0]]==null)return;J[2].qX(am[w.data.vC[0]],w.data.G)}if(ij==eM.Lp){var hZ=w.data.G;iX.$p=hZ;
iX.ax9[hZ.Gw]=hZ.MJ}if(ij==eM.eG){var hZ=w.data.G;iX.w0=JSON.parse(JSON.stringify(hZ));var ds=hZ.strokeEnabled.v,hV=hZ.strokeStyleContent.v,bv=ds?{Gw:1+aN.d_.SA.indexOf(hV.classID),MJ:hV}:{Gw:0};
iX.a7T[bv.Gw]=bv.MJ}if(ij==eM.nq){iX.A4=w.data.G}if(ij==eM.Xo){iX.ib=w.data.ib}if(ij==eM.Vh){var z=JSON.parse(JSON.stringify(w.data.Vj)),hl=z.useBrushSize;
if(hl&&hl.v){z.Brsh.v.Dmtr.v.val=iX.BV.VG.Brsh.v.Dmtr.v.val;hl.v=!1}iX.BV.VG=z}if(ij==eM.lt){iX.bA=w.data.XU}if(ij==eM.Ih){var jQ,a$="Clrs";
if(w.data.uj<2){var jB=w.data.G,jL=w.data.uj==0,c1=x.M.jk({o:jB>>>16,w:jB>>>8&255,L:jB&255});if(jL)iX.Sw=jB;
else iX.fj=jB;a$=jL?"FrgC":"BckC";jQ={wV:"set",g0:{__name:"Set",classID:"setd",T:{t:"Objc",v:c1}}}}if(w.data.uj==2){var fd=iX.Sw;
iX.Sw=iX.fj;iX.fj=fd;jQ={wV:"exchange",g0:{__name:"Exchange",classID:"Exch"}}}if(w.data.uj==3){iX.Sw=0;
iX.fj=16777215;if(O!=null&&O.g.length!=0&&O.B[O.g[0]].cn==1){var fd=iX.Sw;iX.Sw=iX.fj;iX.fj=fd}jQ={wV:"reset",g0:{__name:"Reset",classID:"Rset"}}}if(jQ){jQ.g0.null={t:"obj ",v:[{t:"prop",v:{classID:"Clr",keyID:a$}}]};
var b9=this.jp();b9.jA=this;b9.track(jQ)}}if(ij==eM.Nk){iX.cX=!iX.cX;this.nF()}if(ij==eM.Wo){iX.fk=!iX.fk;
this.nF()}var g2=iX.sw;if(ij==eM.sP){g2.sJ=!g2.sJ;this.nF()}if(ij==eM.B$){g2.IB=!g2.IB;this.nF()}if(ij==eM.og){g2.lX=!g2.lX;
this.nF()}if(ij==eM.nL){g2.LL=!g2.LL;this.nF()}if(ij==eM.XK){g2.AM=!g2.AM;this.nF()}if(ij==eM.ts){g2.iW=!g2.iW;
this.nF()}if(ij==eM.DK){iX.sw=w.data.XU;this.nF()}if(ij==eM.awD){iX.$a=!iX.$a;this.nF()}if(ij==eM.tZ){iX.a7[w.data.Dj]=!iX.a7[w.data.Dj];
this.nF()}if(ij==eM.fr){fr.Bt(w.data.lang,this.WT)}if(ij==eM.pL){iX.Dy=w.data.Dy;this.f()}if(ij==eM.tn&&iX.rH.nI){var ed=iX.rH.nI.transaction(["rsrc"],"readwrite").objectStore("rsrc"),ip=ed.put({k:"fs0",fset:iX.rH.PN});
ip.onerror=function(w){console.log(w);alert("Storing failed. Browser says: "+w.target.error.message,7e3)}}this.NS(ij)}};
fN.prototype.arM=function(){var w=new aX(A.E.Z,!0);w.data={d:A.t.sN,bs:"Saving ..."};this.l(w);setTimeout(function(){var w=new aX(A.E.Z,!0);
w.data={d:A.t.hB,a2j:!0};this.l(w)}.bind(this),20)};fN.prototype.a1d=function(w,M){M.N0.createWritable().then(function(O){O.write(w);
return O}).then(function(O){return O.close()}).then(function(O){M.ef=M.gX;M.FW=Date.now();M.uP=!0;var b=new aX(A.E.Z,!0);
b.data={d:A.t.zk,bs:"Saving ..."};this.l(b)}.bind(this)).catch(function(O){var b=new aX(A.E.Z,!0);b.data={d:A.t.zk,bs:"Saving ..."};
this.l(b)}.bind(this))};fN.prototype.afe=function(){this.f();this.nF()};fN.prototype.pY=function(w){var M=this.RS.pg[w];
if(M){var O=new aX(A.E.Z,!0);O.data={d:A.t.wz,oQ:M};this.l(O)}return M!=null};fN.prototype.Z8=function(w,M){var O=!0,Z=15;
if(M){O=!1;for(var U=0;U<M.length;U++)if(M[U].startsWith(R.au("__M")))O=!0}var b=w.th()||w.VP&&w.VP.MH.th();
if(this.eR())b=!1;var D=new R.k2[dA.hr],o=(D[R.vO("xy,b-66:")]()&1)*60+D[R.au("VQ]3LNRN<G")]();if(b&&!fl.yR()&&o>Z&&O){var $=R.k2[R.vO("}$z{2*35")][R.vO("y'|!")],k=R.au("C[hMHT\\GFB6GJ.44>+.(2sq koomg\\beyj;PGS?Ad+sL>6Cpp^7w!|\"mwuhkguVQ[iII`SN=9Q>:5?B$2, \"w-~oi!ddjhfn|}ePIKOK9DM0>*48;--\"/tx{us+");
k+="\n\n"+R.au("6Q]eD_-L<A:C8G&%\"+.$'/4ouu qb\\sf\\WQRKSA=U430/:7II:''1&lqy\"")+(-o+120)+R.au("nYRTXTBMd");
if($.indexOf(R.vO("\"|'/-1)(W0?@"))==-1)k=fr.get([0,11+6,3+2]);R.k2._cwY(k);return!1}return!0};fN.prototype.KQ=function(w){var M=this.RS,O=[eM.rq,eM.pB,eM.dZ,eM.c$,eM.ab,eM.AX,eM.$i,eM.aV,eM.s,eM.gZ,eM.xZ],b=[M.BV,M.t0,M.QK,M.LZ,M.SQ,M.E9,M.CB,M.asj,M.Po,M.h$,M.a29];
return b[O.indexOf(w)]};fN.prototype.ahR=function(){var w=this.a9S(),M=this.Ww();if(M==null||M.g.length==0)return;
var O=M.B[M.g[0]],b=new aX(A.E.s);if(w==1){b.k=y.uM;b.data={d:"remove",vZ:"Cut Paths"}}else{b=new aX(A.E.Lm);
b.data={wV:"delete"}}this.l(b)};fN.prototype.a9S=function(w,M,O){if(w==null)w=!1;var b=this.RS;console.log("doCopy",w,M);
var D=this.Ww();if(D==null||D.g.length==0)return;var o=D.B[M==null?D.g[0]:M],Z=D.ff(),$=Z[0],k=Z[1],E=$[k[0]];
if(!w&&E!=null&&E.add.vmsk.g.length!=0){var t=y.hw.CE(E.add.vmsk,E.add.vogk);if(R.BL()){t[0]=dL.ahP(t[0]);
var c="vcb;"+JSON.stringify(t);kl.KJ(new Blob([c],{type:"text/plain"}))}else b.jE=t;return 1}else if(D.X==null){if(R.BL()){var c="lrs;"+this.Zs.indexOf(D)+";"+JSON.stringify(D.g);
kl.KJ(new Blob([c],{type:"text/plain"}))}}else{var l,q;if(w){var d=new cn(0,0,D.e,D.n);q=d.mX(D.X.rect);
l=x.$(q.v()*4);x.xu(D.Hp(),d,l,q);x.cK(D.X.channel,D.X.rect,l,q)}else if(D.m7.length!=0){q=D.X.rect.clone();
l=x.$(q.v()*4);var V=D.SN[D.m7[0]],L=V.xQ(q);x.CA(L,l);x.Jm(D.X.channel,l,3)}else{var e=o.K4(D,D.X);
if(e==null){alert("Copied area is empty");return}l=e.bg;q=e.rect}var H=D.P.$Y,j=H[0]+H[1]+H[2];if(j==1){var g=H.indexOf(1);
for(var U=0;U<l.length;U+=4)l[U]=l[U+1]=l[U+2]=l[U+g]}var K=new at(D.e,D.n);if(R.BL()&&O!=!0){var a=ce.ti("PNG").a0e(l.buffer,q.e,q.n);
kl.KJ(new Blob([new Uint8Array(a)],{type:"image/png"}));this.a4M={xr:q,hL:K}}else b.Ge={buffer:l,rect:q,hL:K};
b.a8U=q.clone();b.jE=null}};fN.prototype.amq=function(w,M,O){if(M)this.ai9=!0;console.log("doPaste");
var b=this.RS,D=b.Ge,k;if(this.Zs.length==0){if(!w&&R.BL()){kl.Ta(this,null);return}if(D){var o=ce.B2("image.psd",[{data:D.buffer.buffer,fJ:D.rect}]),Z=new aX(A.E.Z);
Z.data={d:A.t.$s,_t:o};this.l(Z)}return}var o=this.Ww(),$=o.B[o.g.length==0?o.B.length-1:o.g[0]];if(b.jE){var E=o.ff(!0),t=E[0],c=E[1];
k=t[c[0]]}var Z=new aX(A.E.s,!0);if(b.jE!=null&&k!=null){Z.k=y.uM;Z.data={d:"append",vZ:"Paste Paths",alB:b.jE}}else if(!w&&R.BL()&&O!=!0){kl.Ta(this,this.adE.bind(this));
return}else{if(D==null)return;if(o.D_(!1)&&(o.P.$Y.join("")!="111"||o.m7.length!=0||$.cn>0||$.rect.S9())){Z.k=y.rq;
Z.data={d:"draw",avX:!0,vZ:[5,2]}}else{Z.k=y.YH;Z.data={d:Q.NF,Qi:this.ai9};this.ai9=!1}Z.data.Ge=D}this.l(Z)};
fN.prototype.agg=function(){var w=this.RS.Yv;if(w.aeX())return;for(var U=0;U<this.Zs.length;U++){var M=this.Zs[U];
if(!km.arT(M,w,this))continue;if(M.Tb)km.apP(M,w,this);var O=M.add.lnk2;if(O)for(var b=0;b<O.length;
b++){var D=O[b];if(D.Tb)y.yI.le(M,D.QV,D.vN[1],D.vN[1],w)}if(M.atU)continue;M.atU=!0;if(M.jS&&M.jS.atk)fM.YS(M.jS.atk,this);
this.V5();var o=new aX(A.E.s);o.k=y.kL;o.data={d:"start",nC:"GEfc"};var Z=new aX(A.E.Z);Z.data={d:A.t.cf,IP:dh.mJ.IT};
Z.data={d:A.t.JE,IP:"isize",cq:0}}};fN.prototype.NS=function(w){var M=this.RS,O=M.yK,Z=!1;if(w==eM.Vh){if(this.c.map[O].DR)this.c.map[O].DR.o9(M,w)}else for(var b in this.c.map)if(this.c.map[b].DR)this.c.map[b].DR.o9(M,w);
if(w==eM.NX){if(O!=y.hY)this.c.map[y.hY].k.o9(M,w);this.agg()}this.Bi.o9(M,w);this.Lo.o9(M,w);this.UC.o9(M,w);
this.jp().o9(M,w);this.NB.o9(M,w);this.$z.o9(M,w);if(w==eM.pL||w==eM.vI){ig.aaJ(M.Dy);this.update(!0)}var D=M.ib,o=D.Qc.Font;
if(w==eM.Xo&&o!=null&&D.ju[o].Name!=M.font){M.font=D.ju[o].Name;Z=!0}if([eM.H1,eM.lt,eM.Ih,eM.Nk,eM.Wo,eM.DK,eM.og,eM.nL,eM.sP,eM.B$,eM.XK,eM.ts,eM.fr,eM.pL].indexOf(w)!=-1||Z)this.afn()};
fN.prototype.afn=function(){if(!this.L4)return;var w={},M=this.c.map;for(var O in M){var b=M[O].k;if(b.oE&&b.oE()!=null)w["t"+O]=b.oE()}var D=this.RS,o=D.sw,Z={fcolor:D.Sw,bcolor:D.fj,rulers:D.cX,extras:D.fk,favFam:D.bA,panels:D.WK,eparams:{guides:o.lX,grid:o.LL,sels:o.sJ,paths:o.IB,pgrid:o.AM,slices:o.iW,gsize:o.K2,gunits:o.$H,gtype:o.Uo,runits:o.OF},lang:fr.vT(),theme:D.Dy,as:D.IN,topt:w};
if(D.font!=null)Z.font=D.font;var $=fl.lW();if($==null)$={};$.globals=Z;fl.fy($)};fN.prototype.mV=function(w){var M=this.cC,O=this.Qe,b=this.RS.yK,D=this.c.map[b].k,o=null,Z=!1;
for(var U=0;U<this.c.awo.length;U++){var $=this.c.awo[U],k=!0;for(var E=0;E<$.rx.length;E++){var t=$.rx[E];
if(!M.i(t))k=!1}if(k&&(!$.qE||!D.Xc())&&($.NK==null||$.NK.indexOf(b)!=-1)){o=$.k;Z=$.qE;break}}if((!O.Rw||b==y.J6||w)&&this.c.La!=o&&(o!=b||!Z)){var c=this.Ww();
if(this.c.La!=null&&o==null)this.jp().disable(c,this,this.RS,M,!0);this.c.La=o;this.jp().enable(c,this,this.RS,M,o!=null&&o!=b)}};
fN.prototype.ux=function(w){var M=this.RS.yK,O=this.Ww();if(M!=null){this.c.map[M].k.disable(O,this,this.RS,this.cC)}};
fN.prototype.a0F=function(w){if(w.DR==null){w.DR=new w.KL;w.DR.a6H(w.k.id,w.k.O2);w.DR.o9(this.RS,eM.vI);
w.DR.f()}};fN.prototype.$o=function(w,M){if(w==y.T0&&this.UC.R9())return;var O=this.Ww(),b=this.RS;if(this.c.map[w].k.J9(O,b)){this.ux();
if(w!=b.yK)this.c.ac=b.yK?b.yK:y.R6;b.yK=w;this.Lo.$o(b.yK);var D=this.c.map[w];this.c.N$[D.e0]=D.akt;
this.a0F(D);this.HN.acL(D.DR);var o=D.k;o.enable(O,this,this.RS,this.cC,!1,M);if(O)O.Er=!0;this.nF();
this.ii.a6J()}};fN.prototype.jp=function(w){var M=this.c,O=M.Z9,b=M.La,D=this.RS.yK;if(O)D=O;else if(b&&w==null)D=b;
return M.map[D].k};fN.prototype.aqo=function(w){var M=this.RS,O=this.Zs.indexOf(w);if(O!=-1){this.Bi.hq(O);
return}if(this.fM&&(w.jS==null||w.jS.CI==null)){w.jS={CI:this.fM}}if(w.tm==null){w.tm="local,"+this.at3+","+w.name;
this.at3++}w.FW=Date.now();if(eX._w()!=0&&!this.abu&&R.k2[R.vO("t$&!'31")].toString().indexOf(R.vO(" u,$4&"))==-1){alert(R.vO("j$--=#66A@5EU`KQaFVjSih\\hpirt2,x&5&+#++A4<8SFOO_FUMQ|"));
return}for(var U=0;U<w.B.length;U++){var b=w.B[U];if(b.add.SoLd!=null){var D=Date.now()}}var o=w.B.length,Z=dA.JU(),$=Math.PI*(5465<<14)+(R.vP(31)?20:10)*7e7;
if(Z>$){var o=w.B.length;w.B=[];return o}if(X.Nu){X.sS(Math.max(w.e,w.n));for(var U=0;U<w.B.length;U++){var b=w.B[U];
if(b.Ux())X.sS(Math.max(b.rect.e,b.rect.n))}}w._v();w.gI();if(w.ahd)w.a0Q();else w.K();w.ahd=!1;this.Zs.push(w);
this.Bi.tQ(new fB(w));w.Er=!0;w.uP=!0;this.agg();var k=new aX(A.E.s);k.k=y.jZ;k.data={d:"auto",lx:2}};
fN.prototype.Ww=function(){return this.Zs[this.QU]};fN.prototype.avv=function(){return this.UC.R9()==null};
fN.prototype.D$=function(w,M){this.ux();var O=this.Zs.length;if(M!=null)this.Bi.hq((this.Bi.iR()+M+O)%O);
this.QU=this.Bi.iR();var b=this.Ww();this.$z.a9H(b,this.RS);this.NB.ZM(b,this.Zs,this.RS);this.nF();
if(b)b.Er=!0};fN.prototype.av4=function(w){this.ux();this.Zs.splice(w.data.$G,1);if(this.Zs.length==0){this.D$(w);
if(X.Nu)X.$B().parentNode.removeChild(X.$B())}};fN.prototype.acc=function(w){var M=[],O=w.data.a5P;for(var U=0;
U<O.length;U++)M[U]=this.Zs[O[U]];this.Zs=M;this.QU=this.Bi.iR()};fN.prototype.ab8=function(w){var M=this.Bi,O=M.aod(),b=this.jp(),D=this.Ww();
if(O==M.iR()||!b.aqv())return;this.anx(O,b)};fN.prototype.anx=function(w,M){console.log("dup2doc");var O=this.RS,b=this.Bi,D=this.Ww(),o=this.Zs[w],Z,$=new aX(A.E.s,!0);
$.k=y.YH;if(D.X==null){$.data={d:Q.DQ,B:D.Dl(null,!0),MH:D,Ab:o};this.l($)}else Z=D.B[D.g[0]].K4(D,D.X);
var k=this.Qe,E=O.cX;O.cX=!1;k=D.P.ep(k.x,k.y);if(M)M.q6(D,this,O,this.cC);b.hq(w);if(D.X){$.data={d:Q.NF,Ge:{buffer:Z.bg,rect:Z.rect}};
this.l($)}k=o.P.hP(k.x,k.y);k.x+=49;k.y+=112;if(M)M.kf(o,this,O,this.cC,k);O.cX=E};fN.prototype.a7H=function(w){var M=this.Ww(),O=this.cC,b=this.RS,D=w.cc;
if(D)this.Qe=D;if(this.eE==null)this.eE=0;if(w.action=="multidown"){this.aiS=w.Hz.length;this.eE=Date.now()}if(w.action=="up"&&Date.now()-this.eE<100){var o=new aX(A.E.s);
o.k=y.eU;o.data={d:this.aiS==2?"h_stepbck":"h_stepfwd"};this.l(o)}if(w.action.startsWith("multi")){var Z=new aX(A.E.s,!0);
Z.data={d:w.action,Hz:w.Hz};Z.k=y.s_;this.l(Z);return}var $=this.c.map[y.R6].k;if((w.action=="down"||w.action=="rdown")&&b.yK!=y.R6&&this.c.La!=y.R6&&$.aiD(M,this,b,O,D)){this.c.Z9=y.R6;
$.enable(M,this,b,O,!0)}if(w.action=="idown"){O.NZ("Space");this.mV(!0);w.action="down"}var k=this.UC.R9(),E=k!=null&&k.CY()&&this.c.La==null?k:this.jp();
if(w.action=="scroll"){var t=!O.i(i_.v9)&&w.oY,Z=new aX(A.E.s,!0);Z.data={d:"scroll",v_:w.v_.clone(),cc:D};
Z.k=O.i(i_.PY)||t?y.s_:y.ct;this.l(Z)}if(k!=null&&E!=k&&this.UC.Xc()&&E.id!=y.ct&&E.id!=y.s_)return;
if(w.action=="down")E.kf(M,this,b,O,D);if(w.action=="rdown")E.YZ(M,this,b,O,D);if(w.action=="move")E.Ha(M,this,b,O,D);
if(w.action=="up"||w.action=="iup"||w.action=="cancellast")E.oH(M,this,b,O,D,w.action=="cancellast");
if(w.action=="rup")E.B0(M,this,b,O,D);if(w.action=="iup"){O.bo("Space");this.mV(!0)}if(w.action=="cancellast"){if(M&&M.history.length!=0&&Date.now()-M.history[M.history.length-1].aiW<200){var o=new aX(A.E.s);
o.k=y.eU;o.data={d:"h_stepbck"};this.l(o)}}var c=this.NB;if(w.action=="down")c.kf(M,this,b,O,D);if(w.action=="move")c.Ha(M,this,b,O,D);
if(w.action=="up")c.oH(M,this,b,O,D);if(w.action=="down"||w.action=="up"){this.mV()}if(w.action=="down"||w.action=="up"||w.action=="ctx"){M.Er=!0}if((w.action=="up"||w.action=="rup")&&this.c.Z9){this.c.Z9=null;
$.disable(M,this,b,O)}};fN.prototype.QP=function(w){var M=this.Ww(),O=this.Qe;if(M&&this.jp().fa(O,this.cC)){var b=M.P,D=b.iu.e,o=b.iu.n,Z=0,$=0,k=16;
if(O.x<k)Z=k-O.x;if(O.x>D-k)Z=O.x-(D-k);if(O.y<k)$=k-O.y;if(O.y>o-k)$=O.y-(o-k);var E=this.cC.i(i_.Z4)?8:1;
if((Z!=0||$!=0)&&(M.e*b.T>D||M.n*b.T>o)){Z=Math.min(5,Z*.5)*E;$=Math.min(5,$*.5)*E;if(!(O.x<k||O.y<k)){Z=-Z;
$=-$}b.z.x+=Z;b.z.y+=$;this.a7H({cc:this.Qe,action:"move"});M.bN=!0}}this.update()};fN.prototype.update=function(w){var M=this.Ww();
if(M==null)return;if(M.Er){var O=this.c.map;for(var b in O){if(O[b].k.S4)O[b].k.S4(M,this,this.RS,this.cC)}}if(M.B7)if(X.Nu)X.sS(Math.max(M.e,M.n));
if(M.B7){M.Uc()}var D=M.P,o=this.kx,Z=this.kx=Date.now();if(M.B7||M.wK||M.uP||M.bN||w||D.JN!=D.T||!D.KK.M5(D.z)){var $=D.JN;
if(D.JN!=D.T){var k=y.T5.asR(D.T,D.JN>D.T),E=.12;if(D.JN<D.T&&D.JN<k)D.JN=k;if(D.JN>D.T&&D.JN>k)D.JN=k;
var t=Math.abs(D.T-k)*(Z-o)*.001/E;if(D.JN<D.T)D.JN=Math.min(D.T,D.JN+t);else D.JN=Math.max(D.T,D.JN-t)}var c=$==D.T?0:(D.JN-D.T)/($-D.T);
D.KK.x=D.z.x+c*(D.KK.x-D.z.x);D.KK.y=D.z.y+c*(D.KK.y-D.z.y);this.Bi.o9(this.RS,null);this.Bi.ZM(M,this.Zs)}if((M.B7||M.bN||M.Er)&&(!this.Qe.Rw||M.NP)){if(M.Er)M.gI();
this.NB.ZM(M,this.Zs,this.RS);this.Lo.abH(M,this.cC);M.Bd=!1}M.NP=!1;M.Er=!1;M.B7=null;M.wK=M.uP=M.bN=!1};
fN.prototype.Ol=function(w){var M=w.target.tagName.toLowerCase(),O=w.target.getAttribute("type"),b=i_,D=b.fI(w.code,b.sW);
if(!((M=="input"||M=="select"||M=="button")&&b.fI(w.code,b.Oa))){if(b.b4(w)){w.preventDefault()}this.cC.NZ(b.V2(w));
this.$m("down")}};fN.prototype.D3=function(w){if(w.key==" ")this.cC.iN();if(i_.fI(w.code,i_.Gc))this.cC.reset();
this.cC.bo(i_.V2(w));var M=w.target.tagName.toLowerCase();if(i_.b4(w)){w.preventDefault()}this.$m("up")};
fN.prototype.$m=function(w){var M=this.cC,O=this.Ww(),b=O!=null&&O.g.length!=0;if(this.pz.R9()!=null){if(M.i(i_.gH)){this.pz.ajw()}return}this.mV();
var D=this.x5(i_.v9),o=M.i(i_.PY),Z=M.i(i_.Z4);if(D&&M.i(i_.sy)&&w=="down"){var $=new aX(A.E.s),k=new aX(A.E.Z);
$.k=y.eU;if(Z){$.data={d:"h_stepfwd"}}else{$.data={d:"h_stepbck"}}if(this.UC.R9()!=null&&this.UC.R9().Xc()){}else this.l($)}if(D){var $=new aX(A.E.s),E=new aX(A.E.Lm),k=new aX(A.E.Z);
if(M.i(i_.tq)&&M.i(i_.CO)){k.data={d:A.t.JE,IP:"storwindow"};this.l(k)}if(!o&&w=="down")for(var t in a6.keys){var c=a6.keys[t],l=!0;
for(var U=0;U<c.length;U++)if(!M.i(c[U]))l=!1;if(l){$.k=y.jZ;if(t=="hue2"&&Z&&O.B[O.g[0]].add.SoLd==null)$.data={d:"auto",lx:3};
else $.data={d:"start",Sk:t}}}if(M.i(i_.t)){E.data=y.wk.Nf(!0)}if(M.i(i_.u8)){if(o)k.data={d:A.t.JE,IP:"csize"};
else if(O)k.data={d:A.t.Me,KM:Z}}if(M.i(i_.Pn)){E.data=y.wk.Nf()}if(M.i(i_.E)&&w=="down"){if(Z)E.data={wV:"mergeVisible"};
else E.data={wV:"mergeLayersNew",g0:{__name:"Merge Layers",classID:"Mrg2"}}}if(M.i(i_.gk)){if(Z&&this.RS.yK!=y.T0)k.data={d:A.t.JE,IP:"afw_fade"};
else if(o){$.k=y.kL;$.data={d:"applylast"}}else k.data={d:A.t.iw}}if(M.i(i_.OC)){if(o&&O&&O.pJ(O.g[0])){$.k=y.YH;
$.data={d:Q.SR}}else{$.k=y.YH;$.data={d:Q.LQ,Aq:Z}}}if(M.i(i_.Au)){k.data={d:A.t.pF,I8:eM.Wo}}if(M.i(i_.tq)){if(Z){$.data=null;
if(o)k.data={d:A.t.JE,IP:"finfo"};else E.data={wV:"inverse"}}else if(o)k.data={d:A.t.JE,IP:"isize"}}if(M.i(i_.bQ)){E.data={wV:(Z?"cut":"copy")+"ToLayer"}}if(M.i(i_.zf)){k.data={d:A.t.JE,IP:"preferences"}}if(M.i(i_.qd)){if(Z){$.k=y.YH;
$.data={d:Q.Nv}}else if(w=="down")k.data={d:A.t.JE,IP:"newproject"}}if(M.i(i_.nk)){if(o)k.data={d:A.t.JE,IP:"storwindow",zU:0};
else{k.data={d:A.t.wP};M.reset()}}if(M.i(i_.lu)){k.data={d:A.t.aq8};M.reset()}if(M.i(i_.mJ)){k.data={d:A.t.pF,I8:eM.Nk}}if(M.i(i_.mP)&&w=="down"){if(Z){if(o)k.data={d:A.t.JE,IP:"saveforweb"};
else k.data={d:A.t.hB}}else k.data={d:A.t.Lq}}if(M.i(i_.Kn)){if(Z){$.k=y.T0;$.data={d:"again"}}else k.data={d:A.t.Mq,k:y.T0}}if(M.i(i_.d9)){k.data={d:A.t._f}}if(M.i(i_.jr)){this.Bi.Wg()}if(M.i(i_.gQ)&&O&&O.PB()){k.data={d:A.t.bd}}if(M.i(i_.Eu)||M.i(i_.wQ)){$.k=y.YH;
$.data={d:Q.Vz,uj:0};if(M.i(i_.Eu))$.data.uj=Z?3:2;else $.data.uj=Z?0:1}if(M.i(i_.KV)&&O){$.k=y.YH;$.data={d:Q.sb}}if(M.i(i_.sW)&&O){var q=0;
if(Z)q++;if(o)q+=2;$.k=y.P$;$.data={d:"frompath",vt:[null,0,q]}}if(M.i(i_.ZC)){E.data=y.vz.uO(0)}if(M.i(i_.Oa)){var d=this.Zs.length,V=M.i(i_.Z4)?-1:1;
if(d>1)this.Bi.hq((this.Bi.iR()+d+V)%d)}if(M.i(i_.qn)){k.data={d:A.t.pF,I8:eM.og}}if(M.i(i_.Bl)){k.data={d:A.t.pF,I8:eM.nL}}y.T5.atb(M,$);
if(this.UC.R9()!=null&&this.UC.R9().Xc()){}else{if($.data)this.l($);if(E.data)this.l(E);if(k.data)this.l(k)}}if(!D&&o){var L;
if(M.i(i_.Eu))L="Bckw";if(M.i(i_.wQ))L="Frwr";if(M.i(i_.KV))L="Back";if(M.i(i_.ZC))L="Frnt";if(L){var E=new aX(A.E.Lm);
E.data={wV:"select",g0:{__name:"Select",classID:"slct",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:L}}]},MkVs:{t:"bool",v:!1}}};
this.l(E)}}if(O&&O.g.length!=0){var e=O.B[O.g[0]],H=e.cn;if(H==1||H==3||D){var $=new aX(A.E.s),j=H==3?e.k1(O).D:e.yo();
if(j){var g=j.Uy?O.P.$Y.join("")=="111"?1:2:0;$.k=y.s_;if(j&&M.i(i_.gH)&&g!=0){$.data={d:"mskView",G:0}}if(j&&M.i(i_.a0h)){$.data={d:"mskView",G:g==1?0:1}}if(j&&M.i(i_.asO)){$.data={d:"mskView",G:g==2?0:2}}if($.data)this.l($)}}}var K=M.Jt();
if(O&&D&&2<=K&&K<=5){var a=[1,1,1];if(K>2){a=[0,0,0];a[K-3]=1}var T=new aX(A.E.s,!0);T.k=y.ct;T.data={d:"setcls",$Y:a};
this.l(T)}if(!M.i(i_.v9)&&!o&&w=="down"){var $=new aX(A.E.s),k=new aX(A.E.Z),C=this.c.map[this.RS.yK],F=-1;
for(var U=0;U<this.c.keys.length;U++)if(this.c.keys[U]&&this.x5(this.c.keys[U]))F=U;if(F!=-1){var m=null;
if(C.e0!=F)m=this.c.N$[F];if(C.e0==F&&Z)m=(C.akt+1)%this.c.fo[F].length;if(m!=null){var N=this.c.fo[F][m].k.id,v=this.RS.m6;
if((v==null||v.indexOf(parseInt(N))!=-1)&&!this.Qe.Rw)k.data={d:A.t.Mq,k:N}}}if(M.i(i_.Au))k.data={d:A.t.Mq,k:y.ct};
if(M.i(i_.mJ))k.data={d:A.t.Mq,k:y.f8};if(M.i(i_.gQ))k.data={d:A.t.pF,I8:eM.Ih,uj:2};if(M.i(i_.Pn))k.data={d:A.t.pF,I8:eM.Ih,uj:3};
if(k.data)this.l(k);if(M.i(i_.ajA)&&O&&O.g.length==1){var e=O.B[O.g[0]];$.k=y.YH;var h=e.uK(0)||e.uK(1)||e.uK(2)||e.uK(31);
$.data={d:Q.d1,XU:h?[[!1,!1,!1,!1],[0,1,2,31]]:[[!0],[31]]};this.l($)}var K=M.Jt();if(b&&K!=-1&&this.x5(i_.MA[K])){var P=O.g[0],e=O.B[P],J=i_.pK(Math.round(100*e.opacity/255),K);
$.k=y.YH;$.data={d:Q.d4,XU:Math.round(255*J/100)};this.l($)}var Y=this.RS.Zn;if(M.i(i_.Oa)){k.data={d:A.t.I$,G:Y==0?1:0};
this.l(k)}if(M.i(i_.gk)||M.i(i_.gH)&&Y==2){var B=document.fullscreenElement!=null==(Y==2);k.data={d:A.t.I$,G:Y==0?2:0,X1:B};
this.l(k)}if(M.i(i_.nh)&&!this.Qe.Rw){$.k=y.P$;$.data={d:"qmask"};this.l($)}}if(!M.i(i_.v9)&&!o&&Z){var $=new aX(A.E.s),k=new aX(A.E.Z);
if(M.i(i_.KV))k.data={d:A.t.JE,IP:"shortcuts"};if(M.i(i_.lk))k.data={d:A.t.JE,IP:"fill"};if(M.i(i_.am5))k.data={d:A.t.JE,IP:"sel_feather"};
if(b&&(M.i(i_.Wn)||M.i(i_.Oz))){var P=O.g[0],e=O.B[P],S=gA.J5,r=S.length,I=S.indexOf(e.eI);$.k=y.YH;
$.data={d:Q.jO,XU:(I+r+(M.i(i_.Wn)?1:-1))%r};this.l($)}if(k.data)this.l(k)}var $=new aX(A.E.s),f=w=="down"&&(this.x5(i_.wu)||this.x5(i_.iF));
if((D||o)&&f){$=new aX(A.E.Lm);$.data=y.fV.CK(D?"BckC":"FrgC");this.l($)}else if(O&&f&&!this.Qe.Rw){if(O.X!=null){$=new aX(A.E.Lm);
$.data={wV:"delete"}}else if(O.g.length!=0){var e=O.B[O.g[0]];if(e.cn==1)$.data={d:Q.RG};else if(e.cn==3)$.data={d:Q.mZ};
else $.data={d:Q.MF};$.k=y.YH}this.l($)}if(this.UC.R9()!=null){if(M.i(i_.gH)){this.UC.R9().awj()}else{this.UC.R9().$m(O,this,this.RS,M)}}if(this.RS.yK==null)return;
var C=this.jp();if(this.UC.R9()==null||this.c.La)C.$m(O,this,this.RS,M)};fN.prototype.x5=function(w){var M=this.cC,O=this.c.map[this.RS.yK].k,top=this.UC.R9(),b=this.Ww();
return M.i(w)&&!O.FX(w,b)&&(top==null||!top.FX(w,b))};fN.prototype.Gp=function(w){var M=this.adh,O=this.LN;
this.RS.Zn=w;var b=R.FP,D=this.$z.m;if(b(D))this.Qx.removeChild(D);var o=this.HN.m;if(b(o))this.Qx.removeChild(o);
var Z=this.Lo.m;if(b(Z))M.removeChild(Z);var $=this.Bi.m;if(b($))M.removeChild($);var k=this.NB.m;if(b(k))M.removeChild(k);
if(w==0){this.Qx.appendChild(D);this.Qx.appendChild(o);O.appendChild(M);M.appendChild(Z);M.appendChild($);
M.appendChild(k)}if(w==1){this.Qx.appendChild(D);M.appendChild($)}if(w==2){M.appendChild($)}this.Bi.Gp(w==2?1:0);
this.nF()};fN.prototype.a5o=function(w){if(this.eR())return 1;if(R.amu()==0){this.RS={};this.nQ=function(M,O){return Math.sqrt(M*O)}}return-1};
function gu(w){eE.call(this);if(w==null)return;this.jy=null;this.e3=null;this.m=R.S("div","sbar"+" "+w);
this.oo=new R.S("div","top");this.oo.innerHTML="> <";this.m.appendChild(this.oo);this.tT=1;this.oo.addEventListener("click",this.ax7.bind(this),!1)}gu.prototype=new eE;
gu.prototype.ax7=function(w){if(this.jy!=null&&this.jy<500&&this.tT==0)return;if(this.tT==0)this.vR(!0);
else this.collapse(!0)};gu.prototype.avQ=function(w){this.tT=w;this.oo.innerHTML=this.tT==0?"< >":"> <"};
gu.prototype.a2P=function(){var w=new aX(A.E.Z,!0);w.data={d:A.t.Jh};this.l(w)};gu.prototype.vR=function(w){this.avQ(1);
if(w)this.a2P()};gu.prototype.collapse=function(w){this.avQ(0);if(w)this.a2P()};gu.prototype.X3=function(){return this.tT==1};
function er(w,M){gu.call(this,"vcolumn");this.$t=w;this.aam=M;this.$r();this.hT=R.S("div");this.hT.setAttribute("style","cursor:default;");
this.a5Z=this.aep.bind(this);this.atY=this.akK.bind(this);this.atW=this.a6$.bind(this);R.c3(this.m,this.a5Z);
this.m.appendChild(this.hT);this._m=R.S("div");this.hT.appendChild(this._m);this.Kz=-1;this.nZ=R.S("div","float");
var O=this.f$=R.S("canvas"),b=12;O.width=O.height=b;var D=O.getContext("2d");D.fillStyle="rgba(0,0,0,0.5)";
D.moveTo(0,0);D.lineTo(b,b);D.lineTo(0,b);D.fill();this.f$.setAttribute("style","position:absolute; bottom:0;  left:0;  cursor:nesw-resize;");
R.fO(this.f$);R.c3(this.f$,this.a5Z);this.Rx=[];this.yW=[];this.a9q=null;this.aY=null;this.ajQ=0}er.prototype=new gu;
er.prototype.aep=function(w){var M=w.target==this.f$;if(!M){if(w.target!=this.m)return;if(!this.X3())return}else{var O=this.Rx[this.Kz].Oy;
O.style.pointerEvents="none";var b=O.getBoundingClientRect();this.a9q=[b.width,b.height];this.yW[this.Kz]=[b.width,b.height]}w.stopPropagation();
this.aY=R.Pr(w,document.body);this.ajQ=this.$t;R.Gg(document,this.atY);R.UB(document,this.atW)};er.prototype.akK=function(w){var M=R.Pr(w,document.body);
if(this.X3()){this.$t=this.ajQ+this.aY.x-M.x;this.$r()}else{var O=this.yW[this.Kz],b=this.a9q;O[0]=b[0]+this.aY.x-M.x;
O[1]=b[1]+M.y-this.aY.y}var D=new aX(A.E.Z,!0);D.data={d:A.t.Jh};this.l(D)};er.prototype.a6$=function(w){if(!this.X3()){var M=this.Rx[this.Kz].Oy;
M.style.pointerEvents="auto"}R.wg(document,this.atY);R.oX(document,this.atW)};er.prototype.anp=function(w){w.h("showFloat",this.aiu,this);
w.h("hideFloat",this.ru,this);this.Rx.push(w);w.parent=this;this.hT.appendChild(w.m)};er.prototype.ajp=function(U){var w=this.Rx[U];
w.removeEventListener("showFloat",this.aiu,this);w.removeEventListener("hideFloat",this.ru,this);this.Rx.splice(U,1);
w.parent=null;this.hT.removeChild(w.m)};er.prototype.ayi=function(){return this.Rx.length};er.prototype.Wa=function(){for(var U=0;
U<this.Rx.length;U++)this.Rx[U].Wa()};er.prototype.aiu=function(w){this.ru(w);this._m.appendChild(this.nZ);
this.Kz=this.Rx.indexOf(w.currentTarget);var M=this.Rx[this.Kz].Oy;this.nZ.appendChild(M);this.nZ.appendChild(this.f$);
this.nQ(this.jy,this.e3)};er.prototype.ru=function(w){this.Wa();if(this.Kz!=-1){this._m.removeChild(this.nZ);
var M=this.Rx[this.Kz];if(M)this.nZ.removeChild(M.Oy);this.Kz=-1}};er.prototype.$r=function(){function w(M){return Math.round(M*R.V())/R.V()}this.m.setAttribute("style","width: "+this.$t+"px; border-left-width:"+w(4)+"px; cursor:ew-resize;")};
er.prototype.vR=function(w){this.$r();this.ru();for(var U=0;U<this.Rx.length;U++)this.Rx[U].vR();gu.prototype.vR.call(this,w)};
er.prototype.collapse=function(w){this.m.removeAttribute("style");for(var U=0;U<this.Rx.length;U++)this.Rx[U].collapse();
gu.prototype.collapse.call(this,w)};er.auH=11;er.prototype.nQ=function(w,M){this.jy=w;this.e3=M;M-=er.auH;
var O=this.Rx.length;if(O==0)return;if(!this.X3()){var b=M<400?M:400+(M-400)*.5;for(var U=0;U<O;U++){var D=this.Rx[U],o=this.yW[U];
D.nQ(o?o[0]:this.$t,o?o[1]:b)}}else{var Z=M;for(var U=0;U<O;U++){var D=this.Rx[U],$=D.aah();if(U==O-1){$=Z;
D.m.style.borderBottom="none"}D.nQ(this.$t,$);Z-=$+4}}};function iy(w){eE.call(this);this.m=R.S("div");
this.hT=null;this.uY=0;this._P=0;this.a6r=w;this.ajH=this.pu.bind(this);this.ag8=this.xL.bind(this);
this.ahv=this.hN.bind(this);this.k_=null;this.f_=null;this.TX=null;R.c3(this.m,this.ajH);var M=this.m,b="<svg class=\"gsicon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">";
M.addEventListener("touchmove",R.eX,!1);this.acB=!0;this.no=[];var O=this.ayh=R.S("div");O.setAttribute("style","float:right; padding:4px;display:none; position:relative;z-index:1;");
this.m.appendChild(O);var D=[[0,13,3],[0,13,4],[0,13,5],"Blog","API",b+"<path d=\"m21.325 9.308c-.758 0-1.425.319-1.916.816-1.805-1.268-4.239-2.084-6.936-2.171l1.401-6.406 4.461 1.016c0 1.108.89 2.013 1.982 2.013 1.113 0 2.008-.929 2.008-2.038s-.889-2.038-2.007-2.038c-.779 0-1.451.477-1.786 1.129l-4.927-1.108c-.248-.067-.491.113-.557.365l-1.538 7.062c-2.676.113-5.084.928-6.895 2.197-.491-.518-1.184-.837-1.942-.837-2.812 0-3.733 3.829-1.158 5.138-.091.405-.132.837-.132 1.268 0 4.301 4.775 7.786 10.638 7.786 5.888 0 10.663-3.485 10.663-7.786 0-.431-.045-.883-.156-1.289 2.523-1.314 1.594-5.115-1.203-5.117zm-15.724 5.41c0-1.129.89-2.038 2.008-2.038 1.092 0 1.983.903 1.983 2.038 0 1.109-.89 2.013-1.983 2.013-1.113.005-2.008-.904-2.008-2.013zm10.839 4.798c-1.841 1.868-7.036 1.868-8.878 0-.203-.18-.203-.498 0-.703.177-.18.491-.18.668 0 1.406 1.463 6.07 1.488 7.537 0 .177-.18.491-.18.668 0 .207.206.207.524.005.703zm-.041-2.781c-1.092 0-1.982-.903-1.982-2.011 0-1.129.89-2.038 1.982-2.038 1.113 0 2.008.903 2.008 2.038-.005 1.103-.895 2.011-2.008 2.011z\"/>",b+"<path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"/></svg>",b+"<path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"/></svg>"];
for(var U=0;U<D.length;U++){var o=new i8(D[U]);this.no.push(o);o.m.setAttribute("style","margin-left:"+(U<7?4:0)+"px;cursor:pointer;");
o.h("click",this.K_,this)}}iy.prototype=new eE;iy.prototype.f=function(){var w=this.ayh;R.Mh(w);for(var U=0;
U<this.no.length;U++){var M=this.no[U];if(U<5)M.f();w.appendChild(M.m)}};iy.prototype.K_=function(w){var U=this.no.indexOf(w.currentTarget);
if(U==0){if(window.showCap)window.showCap();return}var M=" issues learn blog api twitter facebook".split(" "),O=" //github.com/photopea/photopea/issues //www.photopea.com/learn //blog.photopea.com //www.photopea.com/api //www.reddit.com/r/photopea //www.twitter.com/photopeacom //www.facebook.com/photopea".split(" "),b=window.ga;
if(b)b("send","event","Links",M[U]);var D=new aX(A.E.Z,!0);D.data={d:A.t.NA,link:O[U]};this.l(D)};iy.prototype.pu=function(w){if(w.apt){w.preventDefault();
w.stopPropagation()}var M=window;R.Gg(M,this.ag8);R.UB(M,this.ahv);M=this.hT;this.k_=new at(parseInt(M.style.left),parseInt(M.style.top));
this.f_=R.Pr(w,this.m);this.TX=M.getBoundingClientRect()};iy.prototype.xL=function(w){var M=R.Pr(w,this.m),O=this.k_.x+M.x-this.f_.x,b=this.k_.y+M.y-this.f_.y,D=this.uY-this.TX.width,o=this._P-this.TX.height;
if(this.a6r)this.hT.style.left=Math.min(0,Math.max(D,O))+"px";else this.hT.style.top=Math.min(0,Math.max(o,b))+"px";
if(O-10>0){this.f_.x=M.x-10;this.k_.x=0}if(O+10<D){this.f_.x=M.x+10;this.k_.x=D}};iy.prototype.hN=function(w){var M=window;
R.wg(M,this.ag8);R.oX(M,this.ahv)};iy.prototype.aiO=function(w){if(this.hT){this.m.removeChild(this.hT)}this.hT=w;
this.m.appendChild(w);w.style.position="absolute";if(this.a6r)w.style.left=0;else w.style.top=0};iy.prototype.nQ=function(w,M){this.uY=w;
this._P=M;this.m.setAttribute("style","position:relative; width: "+w+"px; height: "+M+"px; overflow:hidden; white-space: nowrap; ");
var O=this.hT.firstChild,b=this.ayh,D=O?O.firstChild.getBoundingClientRect().width+80:1e9,o=170,Z=this.acB&&w>D+o;
b[dA.vs][dA.ajU]=Z?"":dA.Tn;var $=this.no;for(var U=0;U<$.length;U++){var k=U>4||w-D>500?"":dA.Tn,E=$[U];
E.m.style.display=k}};iy.prototype.a6J=function(){this.hT.style.left="0";this.hT.style.top="0"};function cy(){eE.call(this);
this.P4=null;this.tC=cy.lu;this.a70="";this.m=R.S("div","rightbar");this.h0=[new er(300),new er(268,!0)];
this.Rx=[new hY,new hY,new hY,new hY,new hY,new hY,new hY];this.atI=[]}cy.prototype=new eE;cy.prototype.f=function(){var w=this.tC;
for(var U=0;U<w.length;U++)w[U].YT.f()};cy.lu=[{YT:new aF,ut:3},{YT:new e1,ut:1},{YT:new a3,ut:4},{YT:new bI,ut:2},{YT:new aM(!0),ut:5},{YT:new h_,ut:0},{YT:new iO,ut:5},{YT:new dr,ut:3},{YT:new gq,ut:0},{YT:new c3,ut:3},{YT:new dz,ut:2},{YT:new al,ut:4},{YT:new c8,ut:3},{YT:new fV,ut:5},{YT:new aM(!1),ut:5},{YT:new da,ut:2},{YT:new c5,ut:3},{YT:new bm,ut:1},{YT:new eK,ut:0},{YT:new g8,ut:5},{YT:new hE,ut:6,Ix:!0},{YT:new fR,ut:6,Ix:!0},{YT:new bw,ut:6,Ix:!0}];
(function(){var w=[{id:dh.mJ.a4d,name:"Gallery",url:"plugins/gallery.html",icon:"===data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgBAMAAAB54XoeAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAB5QTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtyhvagAAAAp0Uk5TAP+mc4pfC+rILiKk3cQAAALjSURBVHic7dq/bxMxFAdwKy1HM16up4QtDCDYkv8gTIgtZWGNWMpIJKhgLAtriyrx71Lnh8/2e76c3/tOxW9olUb56Fvf3bPPOWNKlSpVqtSxPv6uIfXj1d77hOFs/bTeGc6r68UjuESCjTHPkF5dr801FrwxV1iwNS+x4MRs7a+3iNP5j5Vmxv5sEN7+fJnuwDkGHFlrB95hwLEDNxiwciDGM+Zpgw9v6vrXBxg4fr+/Lr6F54cYrNz1OtlAQK/Hf0eAI78bzPVgdRu0l40avAgblhdRCEYddKIFySS0VoJkErpRgmTO6P5nETiOPa+disBzCq5U4HMKflWB9xR8oQLfUfBSBTILA3eYReAtBWcqkHrd5ws4rOAHBX7aMCe2Ww2KwHsK6i49eHOAty94g4VPAfhJSjGNngUj7ko+0e/OYXoPMwrB+WDwcIIs4r9XQcSMxdJy/4kTEb2AJ0B3p08iChecy+NnLslboiWxtxWxIm9KFu1em6IRBbcVwcDTiHz1gUEfHXo/3QNGTYoe6FwwavQDI6bB6OryG4AMJD2v1YFMmx8UMQkyU+WgiCmQjGAU8Tx14FMgu9nkRUz0ySTIBvQipvpkEkzshrmIhxFmIvJgIqCL2NMneTC5XXeItIxenwKTAQ8RvT5JIrJgz35iGwRkInJgT0BacUQOzNrwjCMyYFZAEpEBM3dk21NgZsC4CVEwe8u47QeZPpgVkYCCPe2mD8weQVuLHlC06d6kQcEIRhEjUPitQJsCP8s8P2IIMvetuREDUHSIo4gBqPhepeVARcAuogdW4hG01VDwi8ZzETtQF9CtwjtQGfAYsQPVX501ISi+SLpaB6ByBG21AYioNRps0aA90FiwQYOPEcFggwbrBRps0GBdwAIW8AmBW6w3la8z+Zrhn7e5woIt/pkl4d1JqlbqpWFYs40xf5GgfdZtvMV50zvVLRSt1/ul8QPqccF4X7tUqVKl/uf6BxTPzN+MDvNvAAAAAElFTkSuQmCC"},{name:"Emoji",url:"https://hxim.github.io/TwemojiPlugin/twemoji3.html",icon:"https://hxim.github.io/TwemojiPlugin/icon.svg"},{name:"QR Code Maker",url:"https://hxim.github.io/TwemojiPlugin/qrcode/qrcode.html",icon:"https://hxim.github.io/TwemojiPlugin/qrcode/icon.png"},{name:"Chart Maker",url:"https://hxim.github.io/TwemojiPlugin/gcharts/gcharts.html",icon:"https://hxim.github.io/TwemojiPlugin/gcharts/icon.svg"},{name:"3D Depth Viewer",url:"plugins/depth",icon:"---panels/3D"},{name:"3D Elements",url:"https://yikuansun.github.io/photopea-3delements/",icon:"https://yikuansun.github.io/photopea-3delements/icon.png"},{name:"Particle System",url:"https://yikuansun.github.io/photopea-particlesystem",icon:"https://yikuansun.github.io/photopea-particlesystem/icon.svg"},{name:"Adaptive Palette",url:"https://hxim.github.io/TwemojiPlugin/adapal/adapal.html",icon:"https://hxim.github.io/TwemojiPlugin/adapal/icon.svg"},{name:"Fractal Noise",url:"https://yikuansun.github.io/photopea-fractalnoise",icon:"https://upload.wikimedia.org/wikipedia/commons/b/bc/Value_noise_2D.png"},{name:"Zeus: Lightning Maker",url:"https://yikuansun.github.io/lightning-experiment/?photopeaPlugin=yes",icon:"https://yikuansun.github.io/lightning-experiment/icon.png"}];
for(var U=0;U<w.length;U++)cy.lu.push({YT:new gQ(w[U],100+U),ut:6,Ix:!0})}());cy.prototype.ahl=function(w){for(var U=0;
U<w.length;U++){var M=w[U],O=new gQ(M,"plg_"+M.name);this.tC.push({YT:O,ut:6});this.atI.push(O.Ll)}this.Yk()};
cy.prototype.o9=function(w,M){this.P4=w;var O=this.tC;for(var U=0;U<O.length;U++)O[U].YT.o9(w,M);if(M==eM.H1||M==eM.vI)this.Yk()};
cy.prototype.El=function(w){var M=this.tC;for(var U=0;U<M.length;U++)M[U].YT.El(w)};cy.prototype.nQ=function(w,M){this.jy=w;
this.e3=M;this.Yk();this.h0[0].nQ(w,M);this.h0[1].nQ(w,M)};cy.prototype.Yk=function(){var w=this.P4,M=this.jy,O=this.e3;
if(w==null||M==0)return;var b=w.WK.concat(this.atI),D=M<500||M<700&&M<O,o=JSON.stringify(b)+","+D;if(o!=this.a70){this.a70=o;
R.Mh(this.m);var Z=[];for(var U=0;U<this.h0.length;U++){var $=this.h0[U];Z[U]=$.X3();while($.ayi()!=0)$.ajp(0);
$.vR()}var k=[];for(var U=0;U<this.Rx.length;U++){var E=this.Rx[U];E.vR();while(E.awq()!=0)E.bu(0);k.push(0)}for(var U=0;
U<b.length;U++){var t=this.a9J(b[U].toString());this.Rx[t.ut].tQ(t.YT);this.Rx[t.ut].hq(0);k[t.ut]++}var c=[];
for(var U=0;U<k.length;U++){if(k[U]==0)continue;var l=U<3||D?1:0,$=this.h0[l];$.parent=this;$.anp(this.Rx[U]);
c[l]=!0}for(var U=0;U<this.h0.length;U++)if(c[U])this.m.appendChild(this.h0[U].m);this.h0[0].collapse();
if(M<700||this.P4.compact||!Z[1]){this.h0[1].collapse()}var q=new aX(A.E.Z,!0);q.data={d:A.t.Jh};this.l(q)}};
cy.prototype.a9J=function(w){for(var U=0;U<this.tC.length;U++)if(this.tC[U].YT.Ll==w)return this.tC[U]};
cy.prototype.aht=function(w){var M=this.a9J(w);this.Rx[M.ut].tQ(M.YT)};cy.prototype.ZM=function(w,M,O){var b=this.tC;
for(var U=0;U<b.length;U++)b[U].YT.ZM(w,M,O)};cy.prototype.kf=function(w,M,O,b,D){var o=this.tC;for(var U=0;
U<o.length;U++)o[U].YT.kf(w,M,O,b,D)};cy.prototype.Ha=function(w,M,O,b,D){var o=this.tC;for(var U=0;
U<o.length;U++)o[U].YT.Ha(w,M,O,b,D)};cy.prototype.oH=function(w,M,O,b,D){var o=this.tC;for(var U=0;
U<o.length;U++)o[U].YT.oH(w,M,O,b,D)};function ha(w,M){gu.call(this,"toolbar");this.m.removeChild(this.oo);
this.Y9=R.S("div","tools");this.m.appendChild(this.Y9);this.m6=null;this.yK=null;this.as0=M;this.If=null;
this.apj=-1;this.agw={};this.ago=w;this.c=null;this.v0=null;this.Zq=null;this.iL=null;this.OT=new hK;
this.OT.m.style.marginTop="5px";this.OT.m.style.marginBottom="3px";this.OT.parent=this;this.kD=new i8(R._7("lrs/mask"),!1,[6,6,1]);
this.kD.h("click",function(o){var Z=new aX(A.E.s,!0);Z.k=y.P$;Z.data={d:"qmask"};this.l(Z)},this);var O=new cE(null,["Ctrl","Alt","Shift","No Touch"],!0,null,null,!0);
O.h(A.E.r,this.ar1,this);var b=R.S("span","rangecontFloat form padded");b.appendChild(O.m);var D=document.body;
this.apn=[!1,!1,!1,!1];this.mj=new i8("\u2328",!1,"Virtual Keys");this.mj.h("click",function(o){var Z=this.mj.m.getBoundingClientRect();
b.setAttribute("style","position:absolute; top:"+(Z.top-40)+"px; left: "+(Z.left+Z.width+8)+"px; width:119px; z-index:2;  padding-right:0px; ");
if(R.FP(b))D.removeChild(b);else D.appendChild(b)},this)}ha.prototype=new gu;ha.prototype.ar1=function(w){var M=w.target.Q();
this.mj.b(M[0]||M[1]||M[2]||M[3]);var O=new aX(A.E.Z,!0);for(var U=0;U<4;U++){if(M[U]!=this.apn[U]){O.data={d:A.t.a0A,Rw:M[U],aiX:["ControlLeft","AltLeft","ShiftLeft","NoTouch"][U]};
this.l(O)}}this.apn=M.slice(0)};ha.prototype.abH=function(w,M){this.If=M;if(w==null||w.g.length==0||w.B[w.g[0]]==null)return;
var O=w.kD()!=null,b=w.P.$Y,D=w.B[w.g[0]].cn,o=D==1||D==3||O||b[0]+b[1]+b[2]==1;this.OT.ahw(o);this.kD.b(O)};
ha.prototype.ag0=function(w,M){var O=w.length,b=[];for(var U=0;U<O;U++)b[U]=w[U].slice(0);w=b;var D=[1,2,4,5,7,8,7,9,11,12,14,15,14,16,10,11,1,3,17,18,7,6,13,14],o=Math.min(D.length/2,O-M);
for(var U=0;U<o;U++){var Z=D[2*U],$=D[2*U+1];w[Z]=w[Z].concat(w[$]);w[$]=null}for(var U=0;U<w.length;
U++)if(w[U]==null){w.splice(U,1);U--}return w};ha.prototype.ag_=function(w,M){for(var U=0;U<M.length;
U++)for(var O=0;O<M[U].length;O++)if(M[U][O].k.id==w)return U};ha.prototype.axr=function(w){var M=this.ago;
this.v0=[];this.Zq=[];this.iL=[];this.c=[];var O=M.fo;if(w!=null&&this.as0)O=this.ag0(O,w);var b=this.m6;
if(b){var D=[];for(var U=0;U<O.length;U++){var o=[];for(var Z=0;Z<O[U].length;Z++){var $=O[U][Z];if(b==null||b.indexOf(parseInt($.k.id))!=-1)o.push($)}if(o.length>0)D.push(o)}O=D}for(var U=0;
U<O.length;U++){var k=[],E=this.v0.length,t=null,c=-1;for(var Z=0;Z<O[U].length;Z++){var $=O[U][Z].k,l=this.ag_($.id,M.fo),q=M.keys[l];
if(q==i_.Au&&Z==1)q=i_.mJ;this.c.push($);var d=new bq($.name,q,$.O2,this.v0.length,U,O[U].length>1);
this.v0.push(d);var V=this.agw[$.id];if(V==null)V=0;if(V>c){c=V;t=d}d.h(A.E.r,this.Y2,this);d.h("mover",this.z6,this);
k.push({name:$.name,_K:$.O2,rx:q?q.FE:""})}this.Zq.push(t);this.iL.push(k.length==1?null:[k,E])}};ha.prototype.nQ=function(w,M){var O=this.e3=M,b=32;
if(1<R.V()&&R.V()<1.5)b=18+14*(1/R.V());var D=39+23,o=Math.floor((O-D)/b);if(o!=this.apj){this.apj=o;
this.axr(o);this.$o()}var Z=this.Zq.length*b+D,$=Math.min(1,O/Z);if(.75<=$){this.Y9.setAttribute("style","width:34px; transform-origin: top left; transform: scale("+$+","+$+");");
this.m.setAttribute("style","height:"+(M-2)+"px; overflow:hidden;")}else{O-=4;this.Y9.setAttribute("style","height: "+O+"px;  width:"+Math.ceil(Z/O)*34+"px");
this.m.setAttribute("style","")}};ha.prototype.f=function(){if(this.c==null)return;for(var U=0;U<this.v0.length;
U++)this.v0[U].f()};ha.prototype.Y2=function(w){var M=new aX(A.E.Z,!0);M.data={d:A.t.Mq,k:this.c[w.id].id};
this.l(M)};ha.prototype.ahT=function(w){var M=w.target.a3Y+w.target.Mw()[0];this.v0[M].hN(null)};ha.prototype.z6=function(w){var M=this.If,O=new aX(A.E.Z,!0);
O.data={d:A.t.qx};this.l(O);var b=w.target,D=this.iL[b.e0];if(D==null)return;var o=new dC(D[0],null,!0);
o.a3Y=D[1];o.e0=b.e0;o.h("select",this.ahT,this);o.parent=this;o.f();var Z=b.m.getBoundingClientRect(),O=new aX(A.E.Z,!0);
O.data={d:A.t.U6,YT:o,x:Z.left+Z.width+8,y:Z.top};if(M==null||!(M.i(i_.NT)||M.i(i_.v9)))this.l(O)};ha.prototype.$o=function(w){if(w==null)w=this.yK;
this.yK=w;if(this.c==null)return;this.agw[w]=Date.now();var M=-1;for(var U=0;U<this.c.length;U++)if(this.c[U].id==w)M=U;
for(var U=0;U<this.v0.length;U++){var O=this.v0[U];O.ais(M==U)}if(M==-1)return;this.Zq[this.v0[M].e0]=this.v0[M];
R.Mh(this.Y9);var b=this.Zq;for(var U=0;U<b.length;U++){this.Y9.appendChild(b[U].m)}if(!this.as0)return;
this.Y9.appendChild(this.OT.m);if(this.e3>640)this.Y9.appendChild(this.kD.m);this.Y9.appendChild(this.mj.m)};
ha.prototype.o9=function(w,M){if(M==eM.vI&&w.m6){this.m6=w.m6;this.axr();this.$o()}this.OT.aa7(w.Sw,w.fj)};
function bq(w,M,O,b,D,o){eE.call(this);this.fp=0;this.BF=this.at9.bind(this);this.e0=D;this.Ax=b;this.I1=w;
this.a3e=M;this.as5=o;this.O2=O;this.m=R.S("button","");this.m.innerHTML=R._7(this.O2);if(this.as5){var Z=R.S("img","gsicon");
Z.setAttribute("src",PIMG["tools/corner"]);Z.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%; height:100%;");
this.m.appendChild(Z)}this.f();R.c3(this.m,this.pu.bind(this));this.m.addEventListener("click",this.hN.bind(this),!1);
this.m.addEventListener("contextmenu",bq.qq,!1)}bq.prototype=new eE;bq.qq=function(w){w.stopPropagation();
w.preventDefault();return!1};bq.prototype.f=function(){var w=this.a3e?" ("+this.a3e.FE+")":"";this.m.setAttribute("title",fr.get(this.I1)+w)};
bq.prototype.pu=function(w){this.fp=setTimeout(this.BF,160)};bq.prototype.hN=function(w){clearTimeout(this.fp);
var M=new aX(A.E.r,!1);M.target=this;M.id=this.Ax;this.l(M)};bq.prototype.at9=function(w){var M=new aX("mover",!1);
M.target=this;M.id=this.Ax;this.l(M)};bq.prototype.ais=function(w){this.m.className=w?"toolbtn active":"toolbtn"};
function hd(){eE.call(this);this.m=R.S("div","topbar");this.jJ=R.S("span","");this.awK=0;this.m.appendChild(this.jJ);
this.if=null;this.LT=null;this.nW=[];this.WK=[];var w=this.pu.bind(this);for(var U=0;U<hd.data.length;
U++){var M=R.S("button");this.nW.push(M);this.jJ.appendChild(M);M.addEventListener("mouseover",w,!1);
R.c3(M,w)}this.hc=new i8([0,13,0],!1,null,!0);this.hc.h("click",this.WJ,this);this.m.appendChild(this.hc.m);
this.wf=new i8(R._7("tools/zoom",null,"autoscale"),!1,[12,86]);this.wf.h("click",this.WJ,this);this.m.appendChild(this.wf.m);
this.KW=new i8("<svg class=\"gsicon\" version=\"1.1\"  width=\"20\" height=\"20\" viewBox=\"8 8 20 20\"><path d=\"m 10,16 2,0 0,-4 4,0 0,-2 L 10,10 l 0,6 0,0 z\"></path><path d=\"m 20,10 0,2 4,0 0,4 2,0 L 26,10 l -6,0 0,0 z\"></path><path d=\"m 24,24 -4,0 0,2 L 26,26 l 0,-6 -2,0 0,4 0,0 z\"></path><path d=\"M 12,20 10,20 10,26 l 6,0 0,-2 -4,0 0,-4 0,0 z\"></path></svg>",!1,"Fullscreen");
this.KW.h("click",this.WJ,this);this.m.appendChild(this.KW.m)}hd.prototype=new eE;hd.prototype.aoO=function(){if(this.WK.length!=0)return;
for(var U=0;U<hd.data.length;U++){var w=hd.data[U],M=new dC(w.items,w.gh);M.parent=this;this.WK.push(M)}this.f()};
hd.prototype.f=function(){this.hc.f();this.wf.f();this.KW.f();for(var U=0;U<this.nW.length;U++)this.nW[U].textContent=fr.get(hd.data[U].name);
this.a0$();for(var U=0;U<this.WK.length;U++)this.WK[U].f()};hd.prototype.WJ=function(w){var M=new aX(A.E.Z,!0);
if(w.target==this.hc)M.data={d:A.t.JE,IP:"account"};else if(w.target==this.wf)M.data={d:A.t.iw};else M.data={d:A.t.I$,X1:!0};
this.l(M)};hd.prototype.a9H=function(w,M){this.if=w;this.LT=M};hd.prototype.o9=function(w,M){this.LT=w;
if(M==eM.vI){var O=w.a9G;R.Mh(this.jJ);for(var U=0;U<this.nW.length;U++){if(O==null||O[U]==1||O[U]instanceof Array)this.jJ.appendChild(this.nW[U]);
if(O!=null&&O[U]instanceof Array){this.aoO();this.WK[U].abT(O[U])}}this.m.removeChild(this.hc.m);this.m.removeChild(this.wf.m);
this.m.removeChild(this.KW.m);if(w.H7)this.m.appendChild(this.hc.m);this.m.appendChild(this.wf.m);this.m.appendChild(this.KW.m)}this.a0$()};
hd.prototype.a0$=function(w,M){var O=this.hc,b=12255232;if(fl.fS())b=fl.yR()?43520:16755200;O.m.setAttribute("style","color:#ffffff; background-color:#"+x.zZ(b))};
hd.prototype.pu=function(w){this.aoO();var U=this.nW.indexOf(w.currentTarget),M=this.WK[U];if(w.type=="mouseover"&&!R.FP(this.WK[this.awK].m))return;
if(R.FP(M.m))return;w.apt=!0;this.awK=U;for(var U=0;U<hd.data.length;U++)this.WK[U].update(this.if,this.LT);
var O=w.target.getBoundingClientRect(),b=new aX(A.E.Z,!0);b.data={d:A.t.U6,YT:M,x:O.left,y:O.top+O.height+2,ahr:!0};
this.l(b)};hd.a8Y=function(w){var M=i_,O=M.v9,b=M.Z4,D=M.PY,o={name:[0,5],items:[{name:[7,0],rx:[O,M.t]},{name:[7,1],rx:[O,M.Pn],R:function($){return{R:$!=null&&$.X!=null}}},{name:[7,2],rx:[b,O,M.tq],R:function($){return{R:$!=null&&$.X!=null}},xM:!0},{name:[7,8],Qy:!0},{name:[7,13],Qy:!0,R:function($){return{R:$!=null&&$.g.length!=0&&!$.B[$.g[0]].rect.S9()}},xM:!0},{name:[7,11],Qy:!0,R:function($){return{R:$!=null&&$.g.length!=0&&!$.B[$.g[0]].rect.S9()}}},{name:[7,3],xM:!0,sub:[{name:[7,9],Qy:!0,R:function($){return{R:$!=null&&$.X!=null}}},{name:[19,3,0],Qy:!0,R:function($){return{R:$!=null&&$.X!=null}}},{name:[7,4],Qy:!0,R:function($){return{R:$!=null&&$.X!=null}}},{name:[7,5],Qy:!0,R:function($){return{R:$!=null&&$.X!=null}}},{name:[7,6],Qy:!0,R:function($){return{R:$!=null&&$.X!=null}},rx:"Shift+F6"}]},{name:[7,10],R:function($){return{R:$!=null&&$.X!=null}},xM:!0},{name:[6,6,1],R:function($){return{R:$!=null,fA:$!=null&&$.kD()!=null}},rx:[M.nh],xM:!0},{name:["VAR0 VAR1",[1,2],[17,2]]}],gh:[{_:A.E.Lm,W:y.wk.Nf(!0)},{_:A.E.Lm,W:y.wk.Nf()},{_:A.E.Lm,W:{wV:"inverse"}},{_:A.E.Z,W:{d:A.t.JE,IP:"crange"}},{_:A.E.Z,W:{d:A.t.JE,IP:"magiccut"}},{_:A.E.Z,W:{d:A.t.JE,IP:"redge"}},{sub:[{_:A.E.Z,W:{d:A.t.JE,IP:"sel_border"}},{_:A.E.Z,W:{d:A.t.JE,IP:"sel_smoothness"}},{_:A.E.Z,W:{d:A.t.JE,IP:"sel_expand"}},{_:A.E.Z,W:{d:A.t.JE,IP:"sel_contract"}},{_:A.E.Z,W:{d:A.t.JE,IP:"sel_feather"}}]},{_:A.E.Z,W:{d:A.t.Mq,k:y.tG}},{_:A.E.s,k:y.P$,W:{d:"qmask"}},{_:A.E.Lm,W:{wV:"duplicate",g0:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}}]};
if(w){var Z=o.items.length-1;o.items.splice(Z-2,0,{name:[6,49],rx:[O,M.bQ],xM:!0});o.gh.splice(Z-2,0,{_:A.E.Lm,W:{wV:"copyToLayer"}});
o.items.splice(Z-1,0,{name:[10,16],rx:[D,O,M.Kn]});o.gh.splice(Z-1,0,{_:A.E.Z,W:{d:A.t.Mq,k:y.T0}})}return o};
hd.data=function(){var w=i_,M=w.v9,O=w.Z4,b=w.PY,D=function(t){return{R:t!=null&&t.g.length!=0}},o=function(t){return{R:t!=null&&t.g.length!=0&&t.B[t.g[0]].add.SoLd!=null}},Z=[],$=[],k="none maxx avrg medn minn rang stdv summ vari".split(" "),E=[[22,5,0],[24,17,2],[24,3,0],[24,7,3],[24,17,3],[12,12],"Standard Deviation","Summation","Variance"];
for(var U=0;U<k.length;U++){Z.push({name:E[U],R:function(t,c){if(t==null||t.g.length!=1)return{R:!1};
var l=t.B[t.g[0]].add.SoLd;if(l==null)return{R:!1};return{R:!0,fA:l.Impr.v.classID==this.a0S}}.bind({a0S:k[U]})});
$.push({_:A.E.s,k:y.YH,W:{d:Q.Aw,XU:k[U]}})}return[{name:[0,0],items:[{name:[5,3],rx:[b,M,w.qd],title:[11,7],Qy:!0},{name:[1,0],rx:[M,w.nk],Qy:!0},{name:[1,11],Qy:!0,R:function(t,c){return{R:t!=null}}},{name:["VAR0 VAR1",[1,0],[0,14]],xM:!0,sub:[{name:"Storage",Qy:!0,rx:[b,M,w.nk]},{name:[1,5],Qy:!0},{name:[11,0],Qy:!0},{name:["PSD VAR0",[25,0]],Qy:!0}]},{name:[1,1],xM:!0,sub:[{name:"PNG",rx:"Imgur.com",R:function(t,c){return{R:t!=null&&c.aN}}},{name:"JPG",rx:"Imgur.com",R:function(t,c){return{R:t!=null&&c.aN}}},{name:"PSD",rx:"Photopea.com",R:function(t,c){return{R:t!=null&&c.aN&&!t.QD}}}]},{name:"Save ...",rx:[M,w.mP],R:function(t,c){var l=fr.get([1,2]),q=!0;
if(t){if(t.VP)l+=" ("+fr.get([6,7,1])+")";if(t.ME)l+=" (Google Drive)";if(t.eh)l+=" ("+Storage.list[t.eh[0]][0]+")";
q="psd jpg png gif webp svg bmp".split(" ").indexOf(t.Iu)!=-1}return{R:t!=null&&(t.eh!=null||t.N0!=null&&q||t.VP!=null||t.jS!=null&&t.jS.CI!=null||t.ME!=null||c.pg.save!=null),yZ:l}}},{name:[1,3],R:function(t,c){return{R:t!=null&&!t.QD&&c.aN}}},{name:["VAR0 VAR1",[1,2],[0,14]],sub:[{name:"PSD to Storage",R:function(t,c){return{R:t!=null&&!t.QD&&c.aN}}},{name:["VAR0 PSD/PSB",[1,2]],Qy:!0,R:function(t,c){return{R:t!=null&&!t.QD&&c.aN}}}]},{name:[1,8],sub:function(){var t=ce.qA(0),c=[];
for(var U=0;U<t.length;U++)c.push({name:t[U],rx:"."+t[U].toLowerCase()});c.push({name:[0,14],sub:function(){var t=ce.qA(1),c=[];
for(var U=0;U<t.length;U++)c.push({name:t[U],rx:"."+t[U].toLowerCase()});return c}()});return c}()},{name:[1,4],Qy:!0,R:function(t,c){return{R:t!=null}},xM:!0},{name:[1,9],Qy:!0,R:function(t,c){return{R:t!=null}}},{name:"Export Color Lookup",Qy:!0,R:function(t,c){return{R:t!=null}},xM:!0},{name:[1,14],Qy:!0,R:function(t,c){return{R:t!=null}},xM:!0},{name:"Automate",sub:[{name:"PDF Presentation",Qy:!0}]},{name:[1,10]}],gh:[{_:A.E.Z,W:{d:A.t.JE,IP:"newproject"}},{_:A.E.Z,W:{d:A.t.wP}},{_:A.E.Z,W:{d:A.t.wP,amB:!0}},{sub:[{_:A.E.Z,W:{d:A.t.JE,IP:"storwindow",zU:0}},{_:A.E.Z,W:{d:A.t.JE,IP:"open_from_url"}},{_:A.E.Z,W:{d:A.t.JE,IP:"camera"}},{_:A.E.Z,W:{d:A.t.JE,IP:"templates"}}]},{sub:[{_:A.E.Z,W:{d:A.t.Wu,cq:"png"}},{_:A.E.Z,W:{d:A.t.Wu,cq:"jpg"}},{_:A.E.Z,W:{d:A.t.Wu,cq:"psd"}}]},{_:A.E.Z,W:{d:A.t.Lq}},{_:A.E.Z,W:{d:A.t.hB}},{sub:[{_:A.E.Z,W:{d:A.t.JE,IP:"storwindow",zU:1}},{_:A.E.Z,W:{d:A.t.JE,IP:"savepsb"}}]},{sub:function(){var t=ce.qA(0),c=[];
for(var U=0;U<t.length;U++)c.push({_:A.E.Z,W:{d:A.t.JE,IP:"saveforweb",cq:U}});c.push({sub:function(){var l=ce.qA(0).length,t=ce.qA(1),c=[];
for(var U=0;U<t.length;U++)c.push({_:A.E.Z,W:{d:A.t.JE,IP:"saveforweb",cq:l+U}});return c}()});return c}()},{_:A.E.Z,W:{d:A.t.JE,IP:"saveforweb",cq:4,awc:!0}},{_:A.E.Z,W:{d:A.t.JE,IP:"eassets"}},{_:A.E.Z,W:{d:A.t.JE,IP:"exlut"}},{_:A.E.Z,W:{d:A.t.JE,IP:"finfo"}},{sub:[{_:A.E.Z,W:{d:A.t.JE,IP:"pdfpres"}}]},{_:A.E.Z,W:{d:A.t.JE,IP:"script"}}]},{name:[0,1],items:[{name:[2,8]},{name:[2,0],rx:[O,M,w.sy]},{name:[2,1],rx:[M,w.sy],xM:!0},{name:[2,11],rx:[O,M,w.gk],xM:!0,Qy:!0,R:function(t,c){return{R:hs.avN(t)&&c.yK!=y.T0}}},{name:[5,0],rx:[M,w.gQ],R:function(t){return{R:t!=null&&t.PB()}}},{name:[5,1],rx:[M,w.u8],R:function(t){return{R:t!=null}}},{name:[5,7],rx:[O,M,w.u8],R:function(t){return{R:t!=null&&t.PB()}}},{name:[5,2],rx:[M,w.d9],R:function(t,c){return{R:R.BL()||c.Ge!=null||c.jE!=null||c.alf!=null}}},{name:[2,2],R:function(t){return{R:t!=null&&t.X!=null}},rx:"Delete",xM:!0},{name:[2,3],R:function(t){return{R:t!=null}},Qy:!0,rx:[O,w.lk]},{name:[14,9],R:function(t){return{R:t!=null}},Qy:!0,xM:!0},{name:[10,48],R:function(t){return{R:t!=null&&t.D_(!1)}}},{name:[10,46],R:function(t){return{R:y.II.acp(t)}}},{name:[10,16],rx:[b,M,w.Kn]},{name:[2,4],sub:gn.agI()},{name:[2,10,1]},{name:[2,10,0],xM:!0},{name:[12,87],sub:[{name:[12,62],R:function(t){return{R:t!=null}}},{name:[9,3],R:function(t){return{R:t!=null}}},{name:[10,31],R:function(t){return{R:t!=null&&t.ff()[1].length!=0}}}]},{name:[1,15],Qy:!0},{name:[12,79],Qy:!0,rx:[M,w.zf]},{name:[1,13],Qy:!0}],gh:[{_:A.E.s,k:y.eU,W:{d:"h_undoredo"}},{_:A.E.s,k:y.eU,W:{d:"h_stepfwd"}},{_:A.E.s,k:y.eU,W:{d:"h_stepbck"}},{_:A.E.Z,W:{d:A.t.JE,IP:"afw_fade"}},{_:A.E.Z,W:{d:A.t.bd}},{_:A.E.Z,W:{d:A.t.Me}},{_:A.E.Z,W:{d:A.t.Me,KM:!0}},{_:A.E.Z,W:{d:A.t._f}},{_:A.E.Lm,W:{wV:"delete"}},{_:A.E.Z,W:{d:A.t.JE,IP:"fill"}},{_:A.E.Z,W:{d:A.t.JE,IP:"stroke"}},{_:A.E.Z,W:{d:A.t.Mq,k:y.rk}},{_:A.E.s,k:y.kL,W:{d:"start",nC:"rigidTransform"}},{_:A.E.Z,W:{d:A.t.Mq,k:y.T0}},{sub:gn.alF()},{_:A.E.Lm,W:{wV:"align",g0:{classID:"null",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},Usng:{t:"enum",v:{ADSt:"ADSContent"}},alignToCanvas:{t:"bool",v:!1},Aply:{t:"enum",v:{projection:"Auto"}},vignette:{t:"bool",v:!1},radialDistort:{t:"bool",v:!1}}}},{_:A.E.s,k:y.YH,W:{d:Q.aco}},{sub:[{_:A.E.Z,W:{d:A.t.EW,I8:0}},{_:A.E.Z,W:{d:A.t.EW,I8:1}},{_:A.E.Z,W:{d:A.t.EW,I8:2}}]},{_:A.E.Z,W:{d:A.t.JE,IP:"pmanager"}},{_:A.E.Z,W:{d:A.t.JE,IP:"preferences"}},{_:A.E.Z,W:{d:A.t.JE,IP:"locstor"}}]},{name:[0,2],items:[{name:[12,36],R:function(t){return{R:t!=null}},xM:!0,sub:[{name:"RGB",R:function(t){if(t==null)return{R:!1};
return{fA:t.add.fcmy==null,R:!0}}},{name:"CMYK",R:function(t){if(t==null)return{R:!1};return{fA:t.add.fcmy!=null,R:!0}}}]},{name:[3],xM:!0,sub:function(){var t=[];
for(var c in a6.names){t.push({name:a6.names[c],Qy:_[c]!=null,rx:a6.keys[c],xM:a6.auB.indexOf(c)!=-1});
if(c=="selc"){t.push({name:["VAR0/VAR1",[19,6,0],[19,6,2]],Qy:!0,xM:!0});t.push({name:[19,7,0],rx:[M,O,w.CO],R:function(c){return{R:c!=null&&c.D_(!1)}}});
t.push({name:[4,18],Qy:!0,R:function(c){return{R:c!=null&&c.D_(!1)}}})}}return t}()},{name:[4,16,0],R:function(t){return{R:t!=null&&t.D_(!1)}}},{name:[4,16,1],R:function(t){return{R:t!=null&&t.D_(!1)}}},{name:[4,16,2],R:function(t){return{R:t!=null&&t.D_(!1)}},xM:!0},{name:[11,11,1],R:function(t){return{R:t!=null&&t.D_(!1)}}},{name:[11,11,0],R:function(t){return{R:t!=null&&t.D_(!1)}},xM:!0},{name:[11,3],Qy:!0,rx:[b,M,w.u8]},{name:[11,10],Qy:!0,rx:[b,M,w.tq]},{name:[2,4],sub:[{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]},{name:[11,12,1],R:function(t){return{R:t!=null&&t.X!=null}}},{name:[11,12,0],R:function(t){return{R:t!=null}},rx:[M,w.ZC],Qy:!0},{name:[11,12,2],R:function(t){return{R:t!=null}},xM:!0},{name:[2,12],R:function(t){return{R:t!=null&&t.D_(!1)}},Qy:!0,xM:!0},{name:"Variables",R:function(t){return t!=null},Qy:!0}],gh:[{sub:[{_:A.E.s,k:y.R6,W:{d:"fcmy",G:0}},{_:A.E.s,k:y.R6,W:{d:"fcmy",G:1}}]},{sub:function(){var t=[];
for(var c in a6.names){t.push({_:A.E.s,k:y.jZ,W:{d:"start",Sk:c}});if(c=="selc"){t.push({_:A.E.s,k:y.kL,W:{d:"start",nC:"adaptCorrect"}});
t.push({_:A.E.Lm,W:{wV:"desaturate"}});t.push({_:A.E.s,k:y.jZ,W:{d:"start",Sk:"matc"}})}}return t}()},{_:A.E.Lm,W:{wV:"levels",g0:{classID:"Lvls",Auto:{t:"bool",v:!0}}}},{_:A.E.Lm,W:{wV:"levels",g0:{classID:"Lvls",AuCo:{t:"bool",v:!0}}}},{_:A.E.Lm,W:{wV:"levels",g0:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}},{_:A.E.Z,W:{d:A.t.JE,IP:"rcolors"}},{_:A.E.Z,W:{d:A.t.JE,IP:"vbitmap"}},{_:A.E.Z,W:{d:A.t.JE,IP:"csize"}},{_:A.E.Z,W:{d:A.t.JE,IP:"isize"}},{sub:[{_:A.E.Lm,W:y.u.bI(!0,90)},{_:A.E.Lm,W:y.u.bI(!0,-90)},{_:A.E.Lm,W:y.u.bI(!0,-180)},{_:A.E.Lm,W:y.u.bI(!1,"Hrzn")},{_:A.E.Lm,W:y.u.bI(!1,"Vrtc")}]},{_:A.E.s,k:y.xB,W:{d:"cropbysel",ahC:0}},{_:A.E.Z,W:{d:A.t.JE,IP:"trim"}},{_:A.E.Lm,W:{wV:"revealAll",g0:{classID:"RvlA"}}},{_:A.E.s,k:y.jZ,W:{d:"start",Sk:"aply"}},{_:A.E.Z,W:{d:A.t.JE,IP:"varsdats"}}]},{name:[0,3],items:[{name:[5,3],sub:[{name:[0,3],rx:[O,M,w.qd]},{name:[0,4]},{name:[1,16,0],Qy:!0},{name:[1,16,3],Qy:!0,xM:!0},{name:[6,49,0],rx:[M,w.bQ]},{name:[6,49,1],rx:[O,M,w.bQ],R:function(t){return{R:t!=null&&t.X!=null&&t.D_(!1)}}}]},{name:[6,0],R:D,rx:[M,w.bQ]},{name:[11,4],R:D},{name:[5,4],R:D,xM:!0},{name:[11,6],xM:!0,R:D,sub:io.u5(!0)},{name:[6,48,1],sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],xM:!0,sub:io.adC()},{name:[6,2],sub:[{name:[6,4],R:function(t){return{R:t!=null&&t.g.length!=0&&t.B[t.g[0]].yo()==null}}},{name:[6,5,0],R:function(t){return{R:t!=null&&t.g.length!=0&&t.B[t.g[0]].yo()==null}}},{name:[6,5,1],R:function(t){return{R:t!=null&&t.g.length!=0&&t.B[t.g[0]].yo()==null&&t.X!=null}}},{name:[6,5,2],R:function(t){return{R:t!=null&&t.g.length!=0&&t.B[t.g[0]].yo()==null&&t.X!=null}}},{name:[6,5,3],R:function(t){return{R:t!=null&&t.g.length!=0&&t.B[t.g[0]].yo()==null}},xM:!0},{name:[5,4],R:function(t){return{R:t!=null&&t.g.length!=0&&t.B[t.g[0]].yo()!=null}}},{name:[5,8],R:function(t){return{R:t!=null&&t.g.length!=0&&t.B[t.g[0]].yo()!=null&&t.D_(!1,!0)}}},{name:["VAR0/VAR1",[5,5],[5,6]],R:function(t){return{R:t!=null&&t.g.length!=0&&t.B[t.g[0]].yo()!=null}}}]},{name:[6,3],sub:[{name:[6,4],R:function(t){return{R:t!=null&&t.g.length!=0&&t.B[t.g[0]].add.vmsk==null}}},{name:[6,5,0],R:function(t){return{R:t!=null&&t.g.length!=0&&t.B[t.g[0]].add.vmsk==null}}},{name:"Current Path",R:function(t){return{R:t!=null&&t.g.length!=0&&t.B[t.g[0]].add.vmsk==null}},xM:!0},{name:[5,4],R:function(t){return{R:t!=null&&t.g.length!=0&&t.B[t.g[0]].add.vmsk!=null}}},{name:["VAR0/VAR1",[5,5],[5,6]],R:function(t){return{R:t!=null&&t.g.length!=0&&t.B[t.g[0]].add.vmsk!=null}}}]},dz.a8O(!0),{name:[6,7,1],xM:!0,sub:[{name:[6,7,0]},{name:[6,36,4],R:o,sub:Z},{name:[1,0],R:o,xM:!0},{name:"Turn into JPG"}]},{name:[6,8],R:dz.auZ},{name:[6,34],xM:!0,R:function(t){if(t==null||t.g.length==0)return{R:!1};
var c=t.B[t.g[0]];return{R:c.add.lmfx!=null&&!c._N()}}},{name:[6,9],xM:!0,rx:[M,w.OC]},{name:[6,55],xM:!0,sub:[{name:[6,56,0],rx:[O,M,w.wQ]},{name:[6,56,1],rx:[M,w.wQ]},{name:[6,56,2],rx:[M,w.Eu]},{name:[6,56,3],rx:[O,M,w.Eu]}]},{name:[6,58],xM:!0,sub:[{name:["Make Frames"]},{name:["Unmake Frames"]},{name:[18,5]}]},{name:[6,12,0],rx:[M,w.E],R:function(t){var c=t==null?0:t.g.length;
return{R:c!=0&&(c!=1||t.g[0]!=0),yZ:fr.get(c>1||c==1&&t.B[t.g[0]]._N()?[6,12,0]:[6,10])}}},{name:[6,12,1]},{name:"Defringe"}],gh:[{sub:[{_:A.E.s,k:y.YH,W:{d:Q.Nv}},{_:A.E.s,k:y.YH,W:{d:Q.ta}},{_:A.E.Z,W:{d:A.t.JE,IP:"newartb",zU:0}},{_:A.E.Z,W:{d:A.t.JE,IP:"newartb",zU:1}},{_:A.E.Lm,W:{wV:"copyToLayer"}},{_:A.E.Lm,W:{wV:"cutToLayer"}}]},{_:A.E.s,k:y.YH,W:{d:Q.Eb}},{_:A.E.Z,W:{d:A.t.JE,IP:"duplinto"}},{_:A.E.s,k:y.YH,W:{d:Q.MF}},{sub:io.nV(!0)},{sub:[{_:A.E.s,k:y.S7,W:{d:"newfill",kB:0}},{_:A.E.Lm,W:y.c9.CK(1)},{_:A.E.Lm,W:y.c9.CK(2)}]},{sub:io.ID()},{sub:[{_:A.E.s,k:y.YH,W:{d:Q.oT,zU:"RvlA"}},{_:A.E.s,k:y.YH,W:{d:Q.oT,zU:"HdAl"}},{_:A.E.s,k:y.YH,W:{d:Q.oT,zU:"RvlS"}},{_:A.E.s,k:y.YH,W:{d:Q.oT,zU:"HdSl"}},{_:A.E.s,k:y.YH,W:{d:Q.oT,zU:"Trns"}},{_:A.E.s,k:y.YH,W:{d:Q.RG}},{_:A.E.s,k:y.YH,W:{d:Q.xw}},{_:A.E.s,k:y.YH,W:{d:Q.ky}}]},{sub:[{_:A.E.s,k:y.YH,W:{d:Q.rQ,adV:!1}},{_:A.E.s,k:y.YH,W:{d:Q.rQ,adV:!0}},{_:A.E.s,k:y.YH,W:{d:Q.rQ,a0k:!0}},{_:A.E.s,k:y.YH,W:{d:Q.B8}},{_:A.E.s,k:y.YH,W:{d:Q.O5}}]},{_:A.E.s,k:y.YH,W:{d:Q.SR}},{sub:[{_:A.E.Lm,W:{wV:"newPlacedLayer"}},{sub:$},{_:A.E.Lm,W:{wV:"placedLayerEditContents",g0:{classID:"placedLayerEditContents"}}},{_:A.E.s,k:y.YH,W:{d:Q.axo}}]},{_:A.E.Lm,W:{wV:"rasterizeLayer",g0:{classID:"rasterizeLayer",null:fE.xp("Lyr",!0)}}},{_:A.E.s,k:y.YH,W:{d:Q.P9}},{_:A.E.s,k:y.YH,W:{d:Q.LQ}},{sub:[{_:A.E.s,k:y.YH,W:{d:Q.Vz,uj:0}},{_:A.E.s,k:y.YH,W:{d:Q.Vz,uj:1}},{_:A.E.s,k:y.YH,W:{d:Q.Vz,uj:2}},{_:A.E.s,k:y.YH,W:{d:Q.Vz,uj:3}}]},{sub:[{_:A.E.s,k:y.YH,W:{d:Q.ne,uj:"makeframes"}},{_:A.E.s,k:y.YH,W:{d:Q.ne,uj:"unmakeframes"}},{_:A.E.s,k:y.YH,W:{d:Q.ne,uj:"merge"}}]},{_:A.E.Lm,W:{wV:"mergeLayersNew",g0:{__name:"Merge Layers",classID:"Mrg2"}}},{_:A.E.Lm,W:{wV:"flattenImage"}},{_:A.E.s,k:y.kL,W:{d:"start",nC:"defr"}}]},hd.a8Y(!1),function(){var t={name:[0,6],items:[{name:[24,18,4],rx:[b,M,w.gk],xM:!0}],gh:[{_:A.E.s,k:y.kL,W:{d:"applylast"}}]};
for(var U=0;U<ek.hg.length;U++){var c=ek.hg[U];if(c.MJ!=null){t.items.push({name:ek.names[c.MJ],Qy:!0,xM:c.xM});
t.gh.push({_:A.E.s,k:y.kL,W:{d:"start",nC:c.MJ}});continue}var l={name:c.tf,sub:[]};t.items.push(l);
var q={sub:[]};t.gh.push(q);for(var d=0;d<c.SK.length;d++){var V={name:ek.names[c.SK[d]],Qy:ek.pp(c.SK[d])!=null};
l.sub.push(V);var L={_:A.E.s,k:y.kL,W:{d:"start",nC:c.SK[d]}};q.sub.push(L)}}return t}(),{name:[0,7],items:[{name:[8,0],rx:[M,w.Wn]},{name:[8,1],rx:[M,w.Oz]},{name:[20,3],rx:[M,w.WN]},{name:[20,2],rx:[M,w.y9]},{name:"Pattern Preview",R:function(t,c){return{fA:t!=null&&t.i7}},xM:!0},{name:"Screen Mode",xM:!0,sub:[{name:"Fullscreen",R:function(t,c){return{fA:document.fullscreenElement!=null}},xM:!0},{name:"Standard",R:function(t,c){return{fA:c.Zn==0}}},{name:"Menu Bar and Canvas",R:function(t,c){return{fA:c.Zn==1}}}]},{name:[8,13],rx:[M,w.Au],R:function(t,c){return{fA:c.fk}}},{name:[8,12],xM:!0,sub:[{name:[17,2],R:function(t,c){return{R:c.fk,fA:c.sw.sJ}}},{name:[8,9],R:function(t,c){return{R:c.fk,fA:c.sw.IB}}},{name:[8,2],R:function(t,c){return{R:c.fk,fA:c.sw.lX}},rx:[M,w.qn]},{name:[8,4],R:function(t,c){return{R:c.fk,fA:c.sw.LL}},rx:[M,w.Bl]},{name:[8,8],R:function(t,c){return{R:c.fk,fA:c.sw.AM}}},{name:[8,11,0],R:function(t,c){return{R:c.fk,fA:c.sw.iW}}}]},{name:[8,3],R:function(t,c){return{fA:c.cX}},rx:[M,w.mJ],xM:!0},{name:[8,5],R:function(t,c){return{fA:c.$a}}},{name:[8,6],xM:!0,sub:[{name:[8,2],R:function(t,c){return{fA:c.a7[0]}}},{name:[8,4],R:function(t,c){return{fA:c.a7[1]}}},{name:[9,1],R:function(t,c){return{fA:c.a7[2]}}},{name:[8,11,0],R:function(t,c){return{fA:c.a7[3]}}},{name:[8,7],R:function(t,c){return{fA:c.a7[4]}}}]},{name:[11,15,2],R:function(t,c){return{R:t!=null,fA:t!=null&&t.rs}}},{name:[11,15,0],R:function(t,c){return{R:t!=null}}},{name:[11,14],R:function(t,c){return{R:t!=null}},Qy:!0},{name:[11,15,1],R:function(t,c){return{R:t!=null&&t.g.length!=0}},xM:!0},{name:[8,11,2],R:function(t,c){return{R:t!=null&&t.iW.length!=0}}}],gh:[{_:A.E.s,k:y.s_,W:{d:"zoom",SF:!0}},{_:A.E.s,k:y.s_,W:{d:"zoom",SF:!1}},{_:A.E.s,k:y.s_,W:{d:"adapt",G:"fitscr"}},{_:A.E.s,k:y.s_,W:{d:"adapt",G:"pixel"}},{_:A.E.s,k:y.R6,W:{d:"pview"}},{sub:[{_:A.E.Z,W:{d:A.t.I$,X1:!0}},{_:A.E.Z,W:{d:A.t.I$,G:0}},{_:A.E.Z,W:{d:A.t.I$,G:1}},{_:A.E.Z,W:{d:A.t.I$,G:2}}]},{_:A.E.Z,W:{d:A.t.pF,I8:eM.Wo}},{sub:[{_:A.E.Z,W:{d:A.t.pF,I8:eM.sP}},{_:A.E.Z,W:{d:A.t.pF,I8:eM.B$}},{_:A.E.Z,W:{d:A.t.pF,I8:eM.og}},{_:A.E.Z,W:{d:A.t.pF,I8:eM.nL}},{_:A.E.Z,W:{d:A.t.pF,I8:eM.XK}},{_:A.E.Z,W:{d:A.t.pF,I8:eM.ts}}]},{_:A.E.Z,W:{d:A.t.pF,I8:eM.Nk}},{_:A.E.Z,W:{d:A.t.pF,I8:eM.awD}},{sub:[{_:A.E.Z,W:{d:A.t.pF,I8:eM.tZ,Dj:0}},{_:A.E.Z,W:{d:A.t.pF,I8:eM.tZ,Dj:1}},{_:A.E.Z,W:{d:A.t.pF,I8:eM.tZ,Dj:2}},{_:A.E.Z,W:{d:A.t.pF,I8:eM.tZ,Dj:3}},{_:A.E.Z,W:{d:A.t.pF,I8:eM.tZ,Dj:4}}]},{_:A.E.s,k:y.R6,W:{d:"lockguides"}},{_:A.E.s,k:y.R6,W:{d:"gids",vM:[[],[]]}},{_:A.E.Z,W:{d:A.t.JE,IP:"addguides"}},{_:A.E.s,k:y.R6,W:{d:"gidsFromLayer"}},{_:A.E.s,k:y.In,W:{d:"deleteAll"}}]},function(){var t={name:[0,8],items:[{name:[0,14],xM:!0,sub:[]}],gh:[{sub:[]}]};
for(var U=0;U<cy.lu.length;U++){var c=cy.lu[U],l=function(){var q=c.YT.Ll;return function(d,V){return{fA:V.WK.indexOf(parseInt(q))!=-1}}}();
(c.Ix?t.items[0].sub:t.items).push({name:c.YT.name,R:l});(c.Ix?t.gh[0].sub:t.gh).push({_:A.E.Z,W:{d:A.t.cf,IP:c.YT.Ll}})}return t}(),function(){var t={name:[0,14],items:[],gh:[]},c={name:[0,9],sub:[]};
t.items.push(c);var l={sub:[]};t.gh.push(l);var q=fr.aeL();for(var U=0;U<q.length;U++){var d=q[U],V=d.code,L=fr.a3x(V);
c.sub.push({name:d.name,rx:V,R:function(e,H){return{fA:this.rx==fr.vT()}}});l.sub.push({_:A.E.Z,W:{d:A.t.pF,I8:eM.fr,lang:L}})}c.sub.push({name:[0,12]});
l.sub.push({_:A.E.Z,W:{d:A.t.NA,link:"https://www.photopea.com/translate/"}});var c={name:[0,15],sub:[]};
t.items.push(c);var l={sub:[]};t.gh.push(l);for(var U=0;U<ig.Vi.length;U++){c.sub.push({name:ig.Vi[U].name,R:function(e,H){return{fA:this.name==ig.Vi[H.Dy].name}}});
l.sub.push({_:A.E.Z,W:{d:A.t.pF,I8:eM.pL,Dy:U}})}t.items.push({name:[0,17,6],R:function(e,H){return{R:H.Z_!=null}}});
t.gh.push({_:A.E.Z,W:{d:A.t.a2s}});t.items.push({name:[11,13]});t.gh.push({_:A.E.Z,W:{d:A.t.JE,IP:"shortcuts"}});
t.items.push({name:[0,16],R:function(e){return{fA:X.Nu,R:X.d$}},xM:!0});t.gh.push({_:A.E.Z,W:{d:A.t.apJ}});
t.items.push({name:"",R:function(e,H){return H.H7?{yZ:"About Photopea",R:!0}:{yZ:"",R:!1}}});t.gh.push({_:A.E.Z,W:{d:A.t.JE,IP:"aboutpp"}});
return t}()]}();function hS(){eE.call(this);this.m=R.S("div","");this.uY=0;this._P=0;this.P4=null;this.ut=R.S("div","");
this.ut.setAttribute("style","width:200em; height:100em; position:absolute;");this.Yi=[];this.FA=[];
this.HF={}}hS.prototype=new eE;hS.prototype.v6=function(w){var M=Date.now(),O=[];if(w=="-")O=[new iH,new ex,new hn("pdfpres"),new dW,new d6,new kh,new bz,new aP,new j8,new cZ,new jU,new j0,new eH,new i9,new ee,new ie,new io,new cj,new cs,new aO,new iP,new cm,new kd,new hk,new ea,new iW,new cw,new gw(!1),new gw(!0),new cG(0),new cG(1),new hx,new bu,new ix,new bX,new c2,new hD,new dQ,new hX,new gG,new hL,new hh,new k6,new fF,new f3("border",[7,9],"px"),new f3("smoothness",[19,3,0],"px"),new f3("expand",[7,4],"px"),new f3("contract",[7,5],"px"),new f3("feather",[7,6],"px"),new j9(0,"namewindow",[12,48]),new j9(2,"billto","Bill To"),new j9(1,"cornerradius",[12,94,0],"px",!0,!0),new j9(1,"scaleeffects","Scale Effects","%",!0),new j9(1,"doczoom","Zoom","%",!0),new j9(1,"setFPS","Set FPS","fps",!1)];
else O=[new hs(w.slice(4))];this.arm(O);this.HF[w]=!0};hS.prototype.arm=function(w){var M=this.P4;for(var U=0;
U<w.length;U++){var O=w[U];O.parent=this;this.FA.push(O);this.j0(O);O.f();if(M)O.o9(M,eM.vI);O.h(A.E._r,this.aD,this)}};
hS.prototype.nQ=function(w,M){this.uY=w;this._P=M;for(var U=0;U<this.FA.length;U++)this.j0(this.FA[U])};
hS.prototype.f=function(){for(var U=0;U<this.FA.length;U++)this.FA[U].f()};hS.prototype.R9=function(){return this.Yi.length==0?null:this.Yi[this.Yi.length-1]};
hS.prototype.Xc=function(){for(var U=0;U<this.Yi.length;U++)if(this.Yi[U].Xc())return!0;return!1};hS.prototype.a0j=function(w,M,O,b,D){var o=w.startsWith("afw_"),Z=null;
if(!o&&!this.HF["-"])this.v6("-");if(o&&!this.HF[w])this.v6(w);if(typeof w=="object"){Z=w;if(!Z.aqV(A.E._r,this.aD))Z.h(A.E._r,this.aD,this);
Z.parent=this}else for(var U=0;U<this.FA.length;U++)if(this.FA[U].id==w)Z=this.FA[U];if(this.Xc()&&Z.Xc()){alert("Finish the current action first");
return}if(!Z.bT(M))return;if(this.Yi.indexOf(Z)!=-1){if(w=="colorpicker")Z.ZM(M,O,b,D);return}var $=this.Yi.length-1;
if($>=0)R.rV(this.Yi[$].m,"wdisabled");this.m.appendChild(Z.m);this.Yi.push(Z);this.j0(Z);Z.ZM(M,O,b,D)};
hS.prototype.j0=function(w){var M=this.uY,O=this._P,b=w.xR(M,O),D;if(b!=null){D=b}else{b=new at(0,0);
D=w.a8n();if(D==null){var o=this.Yi.indexOf(w)+1;if(M<450||O<450)D=new at(0,0);else D=new at(o*150,o*150)}}w.m.style.left=D.x+"px";
w.m.style.top=this.m.offsetTop+D.y+"px";w.nQ(this.uY-b.x*2,this._P-b.y*2-34)};hS.prototype.o9=function(w,M){this.P4=w;
for(var U=0;U<this.FA.length;U++)this.FA[U].o9(w,M)};hS.prototype.aD=function(w){var M=this.Yi.pop();
this.m.removeChild(M.m);var O=this.Yi.length-1;if(O>=0)R.Y4(this.Yi[O].m,"wdisabled");if(this.ut.parentNode==this.m)this.m.removeChild(this.ut)};
window.onload=function(){document.body.appendChild(new fN().m)}}())